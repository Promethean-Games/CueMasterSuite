var rC=t=>{throw TypeError(t)};var Z0=(t,e,n)=>e.has(t)||rC("Cannot "+n);var ae=(t,e,n)=>(Z0(t,e,"read from private field"),n?n.call(t):e.get(t)),Ut=(t,e,n)=>e.has(t)?rC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ht=(t,e,n,r)=>(Z0(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Or=(t,e,n)=>(Z0(t,e,"access private method"),n);var wm=(t,e,n,r)=>({set _(i){ht(t,e,i,n)},get _(){return ae(t,e,r)}});function _9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VR={exports:{}},Jv={},BR={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=Symbol.for("react.element"),E9=Symbol.for("react.portal"),T9=Symbol.for("react.fragment"),P9=Symbol.for("react.strict_mode"),A9=Symbol.for("react.profiler"),C9=Symbol.for("react.provider"),N9=Symbol.for("react.context"),j9=Symbol.for("react.forward_ref"),I9=Symbol.for("react.suspense"),k9=Symbol.for("react.memo"),O9=Symbol.for("react.lazy"),iC=Symbol.iterator;function R9(t){return t===null||typeof t!="object"?null:(t=iC&&t[iC]||t["@@iterator"],typeof t=="function"?t:null)}var UR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zR=Object.assign,WR={};function Td(t,e,n){this.props=t,this.context=e,this.refs=WR,this.updater=n||UR}Td.prototype.isReactComponent={};Td.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Td.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HR(){}HR.prototype=Td.prototype;function Q_(t,e,n){this.props=t,this.context=e,this.refs=WR,this.updater=n||UR}var J_=Q_.prototype=new HR;J_.constructor=Q_;zR(J_,Td.prototype);J_.isPureReactComponent=!0;var oC=Array.isArray,qR=Object.prototype.hasOwnProperty,Z_={current:null},GR={key:!0,ref:!0,__self:!0,__source:!0};function KR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)qR.call(e,r)&&!GR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Op,type:t,key:o,ref:s,props:i,_owner:Z_.current}}function M9(t,e){return{$$typeof:Op,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Op}function D9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sC=/\/+/g;function eb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?D9(""+t.key):e.toString(36)}function bg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Op:case E9:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+eb(s,0):r,oC(i)?(n="",t!=null&&(n=t.replace(sC,"$&/")+"/"),bg(i,e,n,"",function(c){return c})):i!=null&&(eE(i)&&(i=M9(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(sC,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",oC(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+eb(o,a);s+=bg(o,e,n,l,i)}else if(l=R9(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+eb(o,a++),s+=bg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function _m(t,e,n){if(t==null)return t;var r=[],i=0;return bg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function $9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ni={current:null},wg={transition:null},L9={ReactCurrentDispatcher:ni,ReactCurrentBatchConfig:wg,ReactCurrentOwner:Z_};function YR(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:_m,forEach:function(t,e,n){_m(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _m(t,function(){e++}),e},toArray:function(t){return _m(t,function(e){return e})||[]},only:function(t){if(!eE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=Td;xt.Fragment=T9;xt.Profiler=A9;xt.PureComponent=Q_;xt.StrictMode=P9;xt.Suspense=I9;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L9;xt.act=YR;xt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Z_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qR.call(e,l)&&!GR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Op,type:t.type,key:i,ref:o,props:r,_owner:s}};xt.createContext=function(t){return t={$$typeof:N9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C9,_context:t},t.Consumer=t};xt.createElement=KR;xt.createFactory=function(t){var e=KR.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:j9,render:t}};xt.isValidElement=eE;xt.lazy=function(t){return{$$typeof:O9,_payload:{_status:-1,_result:t},_init:$9}};xt.memo=function(t,e){return{$$typeof:k9,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=wg.transition;wg.transition={};try{t()}finally{wg.transition=e}};xt.unstable_act=YR;xt.useCallback=function(t,e){return ni.current.useCallback(t,e)};xt.useContext=function(t){return ni.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return ni.current.useDeferredValue(t)};xt.useEffect=function(t,e){return ni.current.useEffect(t,e)};xt.useId=function(){return ni.current.useId()};xt.useImperativeHandle=function(t,e,n){return ni.current.useImperativeHandle(t,e,n)};xt.useInsertionEffect=function(t,e){return ni.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return ni.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return ni.current.useMemo(t,e)};xt.useReducer=function(t,e,n){return ni.current.useReducer(t,e,n)};xt.useRef=function(t){return ni.current.useRef(t)};xt.useState=function(t){return ni.current.useState(t)};xt.useSyncExternalStore=function(t,e,n){return ni.current.useSyncExternalStore(t,e,n)};xt.useTransition=function(){return ni.current.useTransition()};xt.version="18.3.1";BR.exports=xt;var S=BR.exports;const q=nn(S),XR=_9({__proto__:null,default:q},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F9=S,V9=Symbol.for("react.element"),B9=Symbol.for("react.fragment"),U9=Object.prototype.hasOwnProperty,z9=F9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W9={key:!0,ref:!0,__self:!0,__source:!0};function QR(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)U9.call(e,r)&&!W9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:V9,type:t,key:o,ref:s,props:i,_owner:z9.current}}Jv.Fragment=B9;Jv.jsx=QR;Jv.jsxs=QR;VR.exports=Jv;var u=VR.exports,JR={exports:{}},$i={},ZR={exports:{}},eM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,L){var X=V.length;V.push(L);e:for(;0<X;){var Y=X-1>>>1,te=V[Y];if(0<i(te,L))V[Y]=L,V[X]=te,X=Y;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var L=V[0],X=V.pop();if(X!==L){V[0]=X;e:for(var Y=0,te=V.length,ye=te>>>1;Y<ye;){var Ce=2*(Y+1)-1,Ve=V[Ce],Ye=Ce+1,fe=V[Ye];if(0>i(Ve,X))Ye<te&&0>i(fe,Ve)?(V[Y]=fe,V[Ye]=X,Y=Ye):(V[Y]=Ve,V[Ce]=X,Y=Ce);else if(Ye<te&&0>i(fe,X))V[Y]=fe,V[Ye]=X,Y=Ye;else break e}}return L}function i(V,L){var X=V.sortIndex-L.sortIndex;return X!==0?X:V.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=V)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function A(V){if(g=!1,w(V),!y)if(n(l)!==null)y=!0,U(E);else{var L=n(c);L!==null&&H(A,L.startTime-V)}}function E(V,L){y=!1,g&&(g=!1,x(T),T=-1),m=!0;var X=h;try{for(w(L),f=n(l);f!==null&&(!(f.expirationTime>L)||V&&!j());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var te=Y(f.expirationTime<=L);L=t.unstable_now(),typeof te=="function"?f.callback=te:f===n(l)&&r(l),w(L)}else r(l);f=n(l)}if(f!==null)var ye=!0;else{var Ce=n(c);Ce!==null&&H(A,Ce.startTime-L),ye=!1}return ye}finally{f=null,h=X,m=!1}}var C=!1,_=null,T=-1,N=5,k=-1;function j(){return!(t.unstable_now()-k<N)}function R(){if(_!==null){var V=t.unstable_now();k=V;var L=!0;try{L=_(!0,V)}finally{L?O():(C=!1,_=null)}}else C=!1}var O;if(typeof b=="function")O=function(){b(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=R,O=function(){F.postMessage(null)}}else O=function(){v(R,0)};function U(V){_=V,C||(C=!0,O())}function H(V,L){T=v(function(){V(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,U(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var X=h;h=L;try{return V()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,L){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=h;h=V;try{return L()}finally{h=X}},t.unstable_scheduleCallback=function(V,L,X){var Y=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Y+X:Y):X=Y,V){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=X+te,V={id:d++,callback:L,priorityLevel:V,startTime:X,expirationTime:te,sortIndex:-1},X>Y?(V.sortIndex=X,e(c,V),n(l)===null&&V===n(c)&&(g?(x(T),T=-1):g=!0,H(A,X-Y))):(V.sortIndex=te,e(l,V),y||m||(y=!0,U(E))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var L=h;return function(){var X=h;h=L;try{return V.apply(this,arguments)}finally{h=X}}}})(eM);ZR.exports=eM;var H9=ZR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q9=S,Mi=H9;function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tM=new Set,uh={};function Sc(t,e){$u(t,e),$u(t+"Capture",e)}function $u(t,e){for(uh[t]=e,t=0;t<e.length;t++)tM.add(e[t])}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kw=Object.prototype.hasOwnProperty,G9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aC={},lC={};function K9(t){return kw.call(lC,t)?!0:kw.call(aC,t)?!1:G9.test(t)?lC[t]=!0:(aC[t]=!0,!1)}function Y9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X9(t,e,n,r){if(e===null||typeof e>"u"||Y9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ri(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nr[t]=new ri(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nr[e]=new ri(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nr[t]=new ri(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nr[t]=new ri(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nr[t]=new ri(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nr[t]=new ri(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nr[t]=new ri(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nr[t]=new ri(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nr[t]=new ri(t,5,!1,t.toLowerCase(),null,!1,!1)});var tE=/[\-:]([a-z])/g;function nE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tE,nE);Nr[e]=new ri(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tE,nE);Nr[e]=new ri(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tE,nE);Nr[e]=new ri(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nr[t]=new ri(t,1,!1,t.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nr[t]=new ri(t,1,!1,t.toLowerCase(),null,!0,!0)});function rE(t,e,n,r){var i=Nr.hasOwnProperty(e)?Nr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(X9(e,n,i,r)&&(n=null),r||i===null?K9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var aa=q9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Em=Symbol.for("react.element"),Xc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),iE=Symbol.for("react.strict_mode"),Ow=Symbol.for("react.profiler"),nM=Symbol.for("react.provider"),rM=Symbol.for("react.context"),oE=Symbol.for("react.forward_ref"),Rw=Symbol.for("react.suspense"),Mw=Symbol.for("react.suspense_list"),sE=Symbol.for("react.memo"),Sa=Symbol.for("react.lazy"),iM=Symbol.for("react.offscreen"),cC=Symbol.iterator;function sf(t){return t===null||typeof t!="object"?null:(t=cC&&t[cC]||t["@@iterator"],typeof t=="function"?t:null)}var En=Object.assign,tb;function Af(t){if(tb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tb=e&&e[1]||""}return`
`+tb+t}var nb=!1;function rb(t,e){if(!t||nb)return"";nb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{nb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Af(t):""}function Q9(t){switch(t.tag){case 5:return Af(t.type);case 16:return Af("Lazy");case 13:return Af("Suspense");case 19:return Af("SuspenseList");case 0:case 2:case 15:return t=rb(t.type,!1),t;case 11:return t=rb(t.type.render,!1),t;case 1:return t=rb(t.type,!0),t;default:return""}}function Dw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qc:return"Fragment";case Xc:return"Portal";case Ow:return"Profiler";case iE:return"StrictMode";case Rw:return"Suspense";case Mw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rM:return(t.displayName||"Context")+".Consumer";case nM:return(t._context.displayName||"Context")+".Provider";case oE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sE:return e=t.displayName||null,e!==null?e:Dw(t.type)||"Memo";case Sa:e=t._payload,t=t._init;try{return Dw(t(e))}catch{}}return null}function J9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dw(e);case 8:return e===iE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z9(t){var e=oM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tm(t){t._valueTracker||(t._valueTracker=Z9(t))}function sM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $w(t,e){var n=e.checked;return En({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=tl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aM(t,e){e=e.checked,e!=null&&rE(t,"checked",e,!1)}function Lw(t,e){aM(t,e);var n=tl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fw(t,e.type,tl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fw(t,e,n){(e!=="number"||Xg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cf=Array.isArray;function du(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+tl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return En({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ge(92));if(Cf(n)){if(1<n.length)throw Error(ge(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tl(n)}}function lM(t,e){var n=tl(e.value),r=tl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pm,uM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pm=Pm||document.createElement("div"),Pm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ff={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e8=["Webkit","ms","Moz","O"];Object.keys(Ff).forEach(function(t){e8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ff[e]=Ff[t]})});function dM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ff.hasOwnProperty(t)&&Ff[t]?(""+e).trim():e+"px"}function fM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var t8=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uw(t,e){if(e){if(t8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function zw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ww=null;function aE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hw=null,fu=null,hu=null;function pC(t){if(t=Dp(t)){if(typeof Hw!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=rx(e),Hw(t.stateNode,t.type,e))}}function hM(t){fu?hu?hu.push(t):hu=[t]:fu=t}function pM(){if(fu){var t=fu,e=hu;if(hu=fu=null,pC(t),e)for(t=0;t<e.length;t++)pC(e[t])}}function mM(t,e){return t(e)}function gM(){}var ib=!1;function yM(t,e,n){if(ib)return t(e,n);ib=!0;try{return mM(t,e,n)}finally{ib=!1,(fu!==null||hu!==null)&&(gM(),pM())}}function fh(t,e){var n=t.stateNode;if(n===null)return null;var r=rx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ge(231,e,typeof n));return n}var qw=!1;if(Gs)try{var af={};Object.defineProperty(af,"passive",{get:function(){qw=!0}}),window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{qw=!1}function n8(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Vf=!1,Qg=null,Jg=!1,Gw=null,r8={onError:function(t){Vf=!0,Qg=t}};function i8(t,e,n,r,i,o,s,a,l){Vf=!1,Qg=null,n8.apply(r8,arguments)}function o8(t,e,n,r,i,o,s,a,l){if(i8.apply(this,arguments),Vf){if(Vf){var c=Qg;Vf=!1,Qg=null}else throw Error(ge(198));Jg||(Jg=!0,Gw=c)}}function _c(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mC(t){if(_c(t)!==t)throw Error(ge(188))}function s8(t){var e=t.alternate;if(!e){if(e=_c(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return mC(i),t;if(o===r)return mC(i),e;o=o.sibling}throw Error(ge(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ge(189))}}if(n.alternate!==r)throw Error(ge(190))}if(n.tag!==3)throw Error(ge(188));return n.stateNode.current===n?t:e}function xM(t){return t=s8(t),t!==null?bM(t):null}function bM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bM(t);if(e!==null)return e;t=t.sibling}return null}var wM=Mi.unstable_scheduleCallback,gC=Mi.unstable_cancelCallback,a8=Mi.unstable_shouldYield,l8=Mi.unstable_requestPaint,Dn=Mi.unstable_now,c8=Mi.unstable_getCurrentPriorityLevel,lE=Mi.unstable_ImmediatePriority,SM=Mi.unstable_UserBlockingPriority,Zg=Mi.unstable_NormalPriority,u8=Mi.unstable_LowPriority,_M=Mi.unstable_IdlePriority,Zv=null,ss=null;function d8(t){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(Zv,t,void 0,(t.current.flags&128)===128)}catch{}}var jo=Math.clz32?Math.clz32:p8,f8=Math.log,h8=Math.LN2;function p8(t){return t>>>=0,t===0?32:31-(f8(t)/h8|0)|0}var Am=64,Cm=4194304;function Nf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ey(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Nf(a):(o&=s,o!==0&&(r=Nf(o)))}else s=n&~i,s!==0?r=Nf(s):o!==0&&(r=Nf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jo(e),i=1<<n,r|=t[n],e&=~i;return r}function m8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-jo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=m8(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Kw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EM(){var t=Am;return Am<<=1,!(Am&4194240)&&(Am=64),t}function ob(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jo(e),t[e]=n}function y8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function cE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Gt=0;function TM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PM,uE,AM,CM,NM,Yw=!1,Nm=[],Va=null,Ba=null,Ua=null,hh=new Map,ph=new Map,Ta=[],v8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yC(t,e){switch(t){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":hh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(e.pointerId)}}function lf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Dp(e),e!==null&&uE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function x8(t,e,n,r,i){switch(e){case"focusin":return Va=lf(Va,t,e,n,r,i),!0;case"dragenter":return Ba=lf(Ba,t,e,n,r,i),!0;case"mouseover":return Ua=lf(Ua,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return hh.set(o,lf(hh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ph.set(o,lf(ph.get(o)||null,t,e,n,r,i)),!0}return!1}function jM(t){var e=Rl(t.target);if(e!==null){var n=_c(e);if(n!==null){if(e=n.tag,e===13){if(e=vM(n),e!==null){t.blockedOn=e,NM(t.priority,function(){AM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ww=r,n.target.dispatchEvent(r),Ww=null}else return e=Dp(n),e!==null&&uE(e),t.blockedOn=n,!1;e.shift()}return!0}function vC(t,e,n){Sg(t)&&n.delete(e)}function b8(){Yw=!1,Va!==null&&Sg(Va)&&(Va=null),Ba!==null&&Sg(Ba)&&(Ba=null),Ua!==null&&Sg(Ua)&&(Ua=null),hh.forEach(vC),ph.forEach(vC)}function cf(t,e){t.blockedOn===e&&(t.blockedOn=null,Yw||(Yw=!0,Mi.unstable_scheduleCallback(Mi.unstable_NormalPriority,b8)))}function mh(t){function e(i){return cf(i,t)}if(0<Nm.length){cf(Nm[0],t);for(var n=1;n<Nm.length;n++){var r=Nm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Va!==null&&cf(Va,t),Ba!==null&&cf(Ba,t),Ua!==null&&cf(Ua,t),hh.forEach(e),ph.forEach(e),n=0;n<Ta.length;n++)r=Ta[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ta.length&&(n=Ta[0],n.blockedOn===null);)jM(n),n.blockedOn===null&&Ta.shift()}var pu=aa.ReactCurrentBatchConfig,ty=!0;function w8(t,e,n,r){var i=Gt,o=pu.transition;pu.transition=null;try{Gt=1,dE(t,e,n,r)}finally{Gt=i,pu.transition=o}}function S8(t,e,n,r){var i=Gt,o=pu.transition;pu.transition=null;try{Gt=4,dE(t,e,n,r)}finally{Gt=i,pu.transition=o}}function dE(t,e,n,r){if(ty){var i=Xw(t,e,n,r);if(i===null)mb(t,e,r,ny,n),yC(t,r);else if(x8(i,t,e,n,r))r.stopPropagation();else if(yC(t,r),e&4&&-1<v8.indexOf(t)){for(;i!==null;){var o=Dp(i);if(o!==null&&PM(o),o=Xw(t,e,n,r),o===null&&mb(t,e,r,ny,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else mb(t,e,r,null,n)}}var ny=null;function Xw(t,e,n,r){if(ny=null,t=aE(r),t=Rl(t),t!==null)if(e=_c(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ny=t,null}function IM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c8()){case lE:return 1;case SM:return 4;case Zg:case u8:return 16;case _M:return 536870912;default:return 16}default:return 16}}var Ra=null,fE=null,_g=null;function kM(){if(_g)return _g;var t,e=fE,n=e.length,r,i="value"in Ra?Ra.value:Ra.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return _g=i.slice(t,1<r?1-r:void 0)}function Eg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jm(){return!0}function xC(){return!1}function Li(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?jm:xC,this.isPropagationStopped=xC,this}return En(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jm)},persist:function(){},isPersistent:jm}),e}var Pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hE=Li(Pd),Mp=En({},Pd,{view:0,detail:0}),_8=Li(Mp),sb,ab,uf,ex=En({},Mp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uf&&(uf&&t.type==="mousemove"?(sb=t.screenX-uf.screenX,ab=t.screenY-uf.screenY):ab=sb=0,uf=t),sb)},movementY:function(t){return"movementY"in t?t.movementY:ab}}),bC=Li(ex),E8=En({},ex,{dataTransfer:0}),T8=Li(E8),P8=En({},Mp,{relatedTarget:0}),lb=Li(P8),A8=En({},Pd,{animationName:0,elapsedTime:0,pseudoElement:0}),C8=Li(A8),N8=En({},Pd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),j8=Li(N8),I8=En({},Pd,{data:0}),wC=Li(I8),k8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R8[t])?!!e[t]:!1}function pE(){return M8}var D8=En({},Mp,{key:function(t){if(t.key){var e=k8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pE,charCode:function(t){return t.type==="keypress"?Eg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$8=Li(D8),L8=En({},ex,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SC=Li(L8),F8=En({},Mp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pE}),V8=Li(F8),B8=En({},Pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),U8=Li(B8),z8=En({},ex,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W8=Li(z8),H8=[9,13,27,32],mE=Gs&&"CompositionEvent"in window,Bf=null;Gs&&"documentMode"in document&&(Bf=document.documentMode);var q8=Gs&&"TextEvent"in window&&!Bf,OM=Gs&&(!mE||Bf&&8<Bf&&11>=Bf),_C=" ",EC=!1;function RM(t,e){switch(t){case"keyup":return H8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jc=!1;function G8(t,e){switch(t){case"compositionend":return MM(e);case"keypress":return e.which!==32?null:(EC=!0,_C);case"textInput":return t=e.data,t===_C&&EC?null:t;default:return null}}function K8(t,e){if(Jc)return t==="compositionend"||!mE&&RM(t,e)?(t=kM(),_g=fE=Ra=null,Jc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OM&&e.locale!=="ko"?null:e.data;default:return null}}var Y8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y8[t.type]:e==="textarea"}function DM(t,e,n,r){hM(r),e=ry(e,"onChange"),0<e.length&&(n=new hE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uf=null,gh=null;function X8(t){GM(t,0)}function tx(t){var e=tu(t);if(sM(e))return t}function Q8(t,e){if(t==="change")return e}var $M=!1;if(Gs){var cb;if(Gs){var ub="oninput"in document;if(!ub){var PC=document.createElement("div");PC.setAttribute("oninput","return;"),ub=typeof PC.oninput=="function"}cb=ub}else cb=!1;$M=cb&&(!document.documentMode||9<document.documentMode)}function AC(){Uf&&(Uf.detachEvent("onpropertychange",LM),gh=Uf=null)}function LM(t){if(t.propertyName==="value"&&tx(gh)){var e=[];DM(e,gh,t,aE(t)),yM(X8,e)}}function J8(t,e,n){t==="focusin"?(AC(),Uf=e,gh=n,Uf.attachEvent("onpropertychange",LM)):t==="focusout"&&AC()}function Z8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tx(gh)}function ez(t,e){if(t==="click")return tx(e)}function tz(t,e){if(t==="input"||t==="change")return tx(e)}function nz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mo=typeof Object.is=="function"?Object.is:nz;function yh(t,e){if(Mo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kw.call(e,i)||!Mo(t[i],e[i]))return!1}return!0}function CC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NC(t,e){var n=CC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=CC(n)}}function FM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VM(){for(var t=window,e=Xg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xg(t.document)}return e}function gE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rz(t){var e=VM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FM(n.ownerDocument.documentElement,n)){if(r!==null&&gE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=NC(n,o);var s=NC(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iz=Gs&&"documentMode"in document&&11>=document.documentMode,Zc=null,Qw=null,zf=null,Jw=!1;function jC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jw||Zc==null||Zc!==Xg(r)||(r=Zc,"selectionStart"in r&&gE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zf&&yh(zf,r)||(zf=r,r=ry(Qw,"onSelect"),0<r.length&&(e=new hE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zc)))}function Im(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var eu={animationend:Im("Animation","AnimationEnd"),animationiteration:Im("Animation","AnimationIteration"),animationstart:Im("Animation","AnimationStart"),transitionend:Im("Transition","TransitionEnd")},db={},BM={};Gs&&(BM=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function nx(t){if(db[t])return db[t];if(!eu[t])return t;var e=eu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BM)return db[t]=e[n];return t}var UM=nx("animationend"),zM=nx("animationiteration"),WM=nx("animationstart"),HM=nx("transitionend"),qM=new Map,IC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fl(t,e){qM.set(t,e),Sc(e,[t])}for(var fb=0;fb<IC.length;fb++){var hb=IC[fb],oz=hb.toLowerCase(),sz=hb[0].toUpperCase()+hb.slice(1);fl(oz,"on"+sz)}fl(UM,"onAnimationEnd");fl(zM,"onAnimationIteration");fl(WM,"onAnimationStart");fl("dblclick","onDoubleClick");fl("focusin","onFocus");fl("focusout","onBlur");fl(HM,"onTransitionEnd");$u("onMouseEnter",["mouseout","mouseover"]);$u("onMouseLeave",["mouseout","mouseover"]);$u("onPointerEnter",["pointerout","pointerover"]);$u("onPointerLeave",["pointerout","pointerover"]);Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),az=new Set("cancel close invalid load scroll toggle".split(" ").concat(jf));function kC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,o8(r,e,void 0,t),t.currentTarget=null}function GM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;kC(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;kC(i,a,c),o=l}}}if(Jg)throw t=Gw,Jg=!1,Gw=null,t}function ln(t,e){var n=e[r1];n===void 0&&(n=e[r1]=new Set);var r=t+"__bubble";n.has(r)||(KM(e,t,2,!1),n.add(r))}function pb(t,e,n){var r=0;e&&(r|=4),KM(n,t,r,e)}var km="_reactListening"+Math.random().toString(36).slice(2);function vh(t){if(!t[km]){t[km]=!0,tM.forEach(function(n){n!=="selectionchange"&&(az.has(n)||pb(n,!1,t),pb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[km]||(e[km]=!0,pb("selectionchange",!1,e))}}function KM(t,e,n,r){switch(IM(e)){case 1:var i=w8;break;case 4:i=S8;break;default:i=dE}n=i.bind(null,e,n,t),i=void 0,!qw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Rl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}yM(function(){var c=o,d=aE(n),f=[];e:{var h=qM.get(t);if(h!==void 0){var m=hE,y=t;switch(t){case"keypress":if(Eg(n)===0)break e;case"keydown":case"keyup":m=$8;break;case"focusin":y="focus",m=lb;break;case"focusout":y="blur",m=lb;break;case"beforeblur":case"afterblur":m=lb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=T8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=V8;break;case UM:case zM:case WM:m=C8;break;case HM:m=U8;break;case"scroll":m=_8;break;case"wheel":m=W8;break;case"copy":case"cut":case"paste":m=j8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=SC}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,x!==null&&(A=fh(b,x),A!=null&&g.push(xh(b,A,w)))),v)break;b=b.return}0<g.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Ww&&(y=n.relatedTarget||n.fromElement)&&(Rl(y)||y[Ks]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Rl(y):null,y!==null&&(v=_c(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=bC,A="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=SC,A="onPointerLeave",x="onPointerEnter",b="pointer"),v=m==null?h:tu(m),w=y==null?h:tu(y),h=new g(A,b+"leave",m,n,d),h.target=v,h.relatedTarget=w,A=null,Rl(d)===c&&(g=new g(x,b+"enter",y,n,d),g.target=w,g.relatedTarget=v,A=g),v=A,m&&y)t:{for(g=m,x=y,b=0,w=g;w;w=Mc(w))b++;for(w=0,A=x;A;A=Mc(A))w++;for(;0<b-w;)g=Mc(g),b--;for(;0<w-b;)x=Mc(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=Mc(g),x=Mc(x)}g=null}else g=null;m!==null&&OC(f,h,m,g,!1),y!==null&&v!==null&&OC(f,v,y,g,!0)}}e:{if(h=c?tu(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=Q8;else if(TC(h))if($M)E=tz;else{E=Z8;var C=J8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=ez);if(E&&(E=E(t,c))){DM(f,E,n,d);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Fw(h,"number",h.value)}switch(C=c?tu(c):window,t){case"focusin":(TC(C)||C.contentEditable==="true")&&(Zc=C,Qw=c,zf=null);break;case"focusout":zf=Qw=Zc=null;break;case"mousedown":Jw=!0;break;case"contextmenu":case"mouseup":case"dragend":Jw=!1,jC(f,n,d);break;case"selectionchange":if(iz)break;case"keydown":case"keyup":jC(f,n,d)}var _;if(mE)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Jc?RM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(OM&&n.locale!=="ko"&&(Jc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Jc&&(_=kM()):(Ra=d,fE="value"in Ra?Ra.value:Ra.textContent,Jc=!0)),C=ry(c,T),0<C.length&&(T=new wC(T,t,null,n,d),f.push({event:T,listeners:C}),_?T.data=_:(_=MM(n),_!==null&&(T.data=_)))),(_=q8?G8(t,n):K8(t,n))&&(c=ry(c,"onBeforeInput"),0<c.length&&(d=new wC("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=_))}GM(f,e)})}function xh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ry(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fh(t,n),o!=null&&r.unshift(xh(t,o,i)),o=fh(t,e),o!=null&&r.push(xh(t,o,i))),t=t.return}return r}function Mc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OC(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=fh(n,o),l!=null&&s.unshift(xh(n,l,a))):i||(l=fh(n,o),l!=null&&s.push(xh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var lz=/\r\n?/g,cz=/\u0000|\uFFFD/g;function RC(t){return(typeof t=="string"?t:""+t).replace(lz,`
`).replace(cz,"")}function Om(t,e,n){if(e=RC(e),RC(t)!==e&&n)throw Error(ge(425))}function iy(){}var Zw=null,e1=null;function t1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var n1=typeof setTimeout=="function"?setTimeout:void 0,uz=typeof clearTimeout=="function"?clearTimeout:void 0,MC=typeof Promise=="function"?Promise:void 0,dz=typeof queueMicrotask=="function"?queueMicrotask:typeof MC<"u"?function(t){return MC.resolve(null).then(t).catch(fz)}:n1;function fz(t){setTimeout(function(){throw t})}function gb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),mh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);mh(e)}function za(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ad=Math.random().toString(36).slice(2),rs="__reactFiber$"+Ad,bh="__reactProps$"+Ad,Ks="__reactContainer$"+Ad,r1="__reactEvents$"+Ad,hz="__reactListeners$"+Ad,pz="__reactHandles$"+Ad;function Rl(t){var e=t[rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ks]||n[rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DC(t);t!==null;){if(n=t[rs])return n;t=DC(t)}return e}t=n,n=t.parentNode}return null}function Dp(t){return t=t[rs]||t[Ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function rx(t){return t[bh]||null}var i1=[],nu=-1;function hl(t){return{current:t}}function pn(t){0>nu||(t.current=i1[nu],i1[nu]=null,nu--)}function sn(t,e){nu++,i1[nu]=t.current,t.current=e}var nl={},Hr=hl(nl),pi=hl(!1),rc=nl;function Lu(t,e){var n=t.type.contextTypes;if(!n)return nl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mi(t){return t=t.childContextTypes,t!=null}function oy(){pn(pi),pn(Hr)}function $C(t,e,n){if(Hr.current!==nl)throw Error(ge(168));sn(Hr,e),sn(pi,n)}function YM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ge(108,J9(t)||"Unknown",i));return En({},n,r)}function sy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nl,rc=Hr.current,sn(Hr,t),sn(pi,pi.current),!0}function LC(t,e,n){var r=t.stateNode;if(!r)throw Error(ge(169));n?(t=YM(t,e,rc),r.__reactInternalMemoizedMergedChildContext=t,pn(pi),pn(Hr),sn(Hr,t)):pn(pi),sn(pi,n)}var Os=null,ix=!1,yb=!1;function XM(t){Os===null?Os=[t]:Os.push(t)}function mz(t){ix=!0,XM(t)}function pl(){if(!yb&&Os!==null){yb=!0;var t=0,e=Gt;try{var n=Os;for(Gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Os=null,ix=!1}catch(i){throw Os!==null&&(Os=Os.slice(t+1)),wM(lE,pl),i}finally{Gt=e,yb=!1}}return null}var ru=[],iu=0,ay=null,ly=0,Ki=[],Yi=0,ic=null,Ds=1,$s="";function Cl(t,e){ru[iu++]=ly,ru[iu++]=ay,ay=t,ly=e}function QM(t,e,n){Ki[Yi++]=Ds,Ki[Yi++]=$s,Ki[Yi++]=ic,ic=t;var r=Ds;t=$s;var i=32-jo(r)-1;r&=~(1<<i),n+=1;var o=32-jo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ds=1<<32-jo(e)+i|n<<i|r,$s=o+t}else Ds=1<<o|n<<i|r,$s=t}function yE(t){t.return!==null&&(Cl(t,1),QM(t,1,0))}function vE(t){for(;t===ay;)ay=ru[--iu],ru[iu]=null,ly=ru[--iu],ru[iu]=null;for(;t===ic;)ic=Ki[--Yi],Ki[Yi]=null,$s=Ki[--Yi],Ki[Yi]=null,Ds=Ki[--Yi],Ki[Yi]=null}var Oi=null,ki=null,yn=!1,_o=null;function JM(t,e){var n=Ji(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oi=t,ki=za(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oi=t,ki=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ic!==null?{id:Ds,overflow:$s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ji(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Oi=t,ki=null,!0):!1;default:return!1}}function o1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function s1(t){if(yn){var e=ki;if(e){var n=e;if(!FC(t,e)){if(o1(t))throw Error(ge(418));e=za(n.nextSibling);var r=Oi;e&&FC(t,e)?JM(r,n):(t.flags=t.flags&-4097|2,yn=!1,Oi=t)}}else{if(o1(t))throw Error(ge(418));t.flags=t.flags&-4097|2,yn=!1,Oi=t}}}function VC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oi=t}function Rm(t){if(t!==Oi)return!1;if(!yn)return VC(t),yn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!t1(t.type,t.memoizedProps)),e&&(e=ki)){if(o1(t))throw ZM(),Error(ge(418));for(;e;)JM(t,e),e=za(e.nextSibling)}if(VC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ki=za(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ki=null}}else ki=Oi?za(t.stateNode.nextSibling):null;return!0}function ZM(){for(var t=ki;t;)t=za(t.nextSibling)}function Fu(){ki=Oi=null,yn=!1}function xE(t){_o===null?_o=[t]:_o.push(t)}var gz=aa.ReactCurrentBatchConfig;function df(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ge(309));var r=n.stateNode}if(!r)throw Error(ge(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ge(284));if(!n._owner)throw Error(ge(290,t))}return t}function Mm(t,e){throw t=Object.prototype.toString.call(e),Error(ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BC(t){var e=t._init;return e(t._payload)}function eD(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Ga(x,b),x.index=0,x.sibling=null,x}function o(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,A){return b===null||b.tag!==6?(b=Eb(w,x.mode,A),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,A){var E=w.type;return E===Qc?d(x,b,w.props.children,A,w.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sa&&BC(E)===b.type)?(A=i(b,w.props),A.ref=df(x,b,w),A.return=x,A):(A=Ig(w.type,w.key,w.props,null,x.mode,A),A.ref=df(x,b,w),A.return=x,A)}function c(x,b,w,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Tb(w,x.mode,A),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function d(x,b,w,A,E){return b===null||b.tag!==7?(b=Xl(w,x.mode,A,E),b.return=x,b):(b=i(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Eb(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Em:return w=Ig(b.type,b.key,b.props,null,x.mode,w),w.ref=df(x,null,b),w.return=x,w;case Xc:return b=Tb(b,x.mode,w),b.return=x,b;case Sa:var A=b._init;return f(x,A(b._payload),w)}if(Cf(b)||sf(b))return b=Xl(b,x.mode,w,null),b.return=x,b;Mm(x,b)}return null}function h(x,b,w,A){var E=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(x,b,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Em:return w.key===E?l(x,b,w,A):null;case Xc:return w.key===E?c(x,b,w,A):null;case Sa:return E=w._init,h(x,b,E(w._payload),A)}if(Cf(w)||sf(w))return E!==null?null:d(x,b,w,A,null);Mm(x,w)}return null}function m(x,b,w,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(w)||null,a(b,x,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Em:return x=x.get(A.key===null?w:A.key)||null,l(b,x,A,E);case Xc:return x=x.get(A.key===null?w:A.key)||null,c(b,x,A,E);case Sa:var C=A._init;return m(x,b,w,C(A._payload),E)}if(Cf(A)||sf(A))return x=x.get(w)||null,d(b,x,A,E,null);Mm(b,A)}return null}function y(x,b,w,A){for(var E=null,C=null,_=b,T=b=0,N=null;_!==null&&T<w.length;T++){_.index>T?(N=_,_=null):N=_.sibling;var k=h(x,_,w[T],A);if(k===null){_===null&&(_=N);break}t&&_&&k.alternate===null&&e(x,_),b=o(k,b,T),C===null?E=k:C.sibling=k,C=k,_=N}if(T===w.length)return n(x,_),yn&&Cl(x,T),E;if(_===null){for(;T<w.length;T++)_=f(x,w[T],A),_!==null&&(b=o(_,b,T),C===null?E=_:C.sibling=_,C=_);return yn&&Cl(x,T),E}for(_=r(x,_);T<w.length;T++)N=m(_,x,T,w[T],A),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?T:N.key),b=o(N,b,T),C===null?E=N:C.sibling=N,C=N);return t&&_.forEach(function(j){return e(x,j)}),yn&&Cl(x,T),E}function g(x,b,w,A){var E=sf(w);if(typeof E!="function")throw Error(ge(150));if(w=E.call(w),w==null)throw Error(ge(151));for(var C=E=null,_=b,T=b=0,N=null,k=w.next();_!==null&&!k.done;T++,k=w.next()){_.index>T?(N=_,_=null):N=_.sibling;var j=h(x,_,k.value,A);if(j===null){_===null&&(_=N);break}t&&_&&j.alternate===null&&e(x,_),b=o(j,b,T),C===null?E=j:C.sibling=j,C=j,_=N}if(k.done)return n(x,_),yn&&Cl(x,T),E;if(_===null){for(;!k.done;T++,k=w.next())k=f(x,k.value,A),k!==null&&(b=o(k,b,T),C===null?E=k:C.sibling=k,C=k);return yn&&Cl(x,T),E}for(_=r(x,_);!k.done;T++,k=w.next())k=m(_,x,T,k.value,A),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?T:k.key),b=o(k,b,T),C===null?E=k:C.sibling=k,C=k);return t&&_.forEach(function(R){return e(x,R)}),yn&&Cl(x,T),E}function v(x,b,w,A){if(typeof w=="object"&&w!==null&&w.type===Qc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Em:e:{for(var E=w.key,C=b;C!==null;){if(C.key===E){if(E=w.type,E===Qc){if(C.tag===7){n(x,C.sibling),b=i(C,w.props.children),b.return=x,x=b;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sa&&BC(E)===C.type){n(x,C.sibling),b=i(C,w.props),b.ref=df(x,C,w),b.return=x,x=b;break e}n(x,C);break}else e(x,C);C=C.sibling}w.type===Qc?(b=Xl(w.props.children,x.mode,A,w.key),b.return=x,x=b):(A=Ig(w.type,w.key,w.props,null,x.mode,A),A.ref=df(x,b,w),A.return=x,x=A)}return s(x);case Xc:e:{for(C=w.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=Tb(w,x.mode,A),b.return=x,x=b}return s(x);case Sa:return C=w._init,v(x,b,C(w._payload),A)}if(Cf(w))return y(x,b,w,A);if(sf(w))return g(x,b,w,A);Mm(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=Eb(w,x.mode,A),b.return=x,x=b),s(x)):n(x,b)}return v}var Vu=eD(!0),tD=eD(!1),cy=hl(null),uy=null,ou=null,bE=null;function wE(){bE=ou=uy=null}function SE(t){var e=cy.current;pn(cy),t._currentValue=e}function a1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mu(t,e){uy=t,bE=ou=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fi=!0),t.firstContext=null)}function io(t){var e=t._currentValue;if(bE!==t)if(t={context:t,memoizedValue:e,next:null},ou===null){if(uy===null)throw Error(ge(308));ou=t,uy.dependencies={lanes:0,firstContext:t}}else ou=ou.next=t;return e}var Ml=null;function _E(t){Ml===null?Ml=[t]:Ml.push(t)}function nD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_E(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ys(t,r)}function Ys(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _a=!1;function EE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ys(t,n)}return i=r.interleaved,i===null?(e.next=e,_E(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ys(t,n)}function Tg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cE(t,n)}}function UC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dy(t,e,n,r){var i=t.updateQueue;_a=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=c=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(h=e,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=En({},f,h);break e;case 2:_a=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);sc|=s,t.lanes=s,t.memoizedState=f}}function zC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ge(191,i));i.call(r)}}}var $p={},as=hl($p),wh=hl($p),Sh=hl($p);function Dl(t){if(t===$p)throw Error(ge(174));return t}function TE(t,e){switch(sn(Sh,e),sn(wh,t),sn(as,$p),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bw(e,t)}pn(as),sn(as,e)}function Bu(){pn(as),pn(wh),pn(Sh)}function iD(t){Dl(Sh.current);var e=Dl(as.current),n=Bw(e,t.type);e!==n&&(sn(wh,t),sn(as,n))}function PE(t){wh.current===t&&(pn(as),pn(wh))}var bn=hl(0);function fy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vb=[];function AE(){for(var t=0;t<vb.length;t++)vb[t]._workInProgressVersionPrimary=null;vb.length=0}var Pg=aa.ReactCurrentDispatcher,xb=aa.ReactCurrentBatchConfig,oc=0,_n=null,tr=null,gr=null,hy=!1,Wf=!1,_h=0,yz=0;function Rr(){throw Error(ge(321))}function CE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mo(t[n],e[n]))return!1;return!0}function NE(t,e,n,r,i,o){if(oc=o,_n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pg.current=t===null||t.memoizedState===null?wz:Sz,t=n(r,i),Wf){o=0;do{if(Wf=!1,_h=0,25<=o)throw Error(ge(301));o+=1,gr=tr=null,e.updateQueue=null,Pg.current=_z,t=n(r,i)}while(Wf)}if(Pg.current=py,e=tr!==null&&tr.next!==null,oc=0,gr=tr=_n=null,hy=!1,e)throw Error(ge(300));return t}function jE(){var t=_h!==0;return _h=0,t}function Go(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?_n.memoizedState=gr=t:gr=gr.next=t,gr}function oo(){if(tr===null){var t=_n.alternate;t=t!==null?t.memoizedState:null}else t=tr.next;var e=gr===null?_n.memoizedState:gr.next;if(e!==null)gr=e,tr=t;else{if(t===null)throw Error(ge(310));tr=t,t={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},gr===null?_n.memoizedState=gr=t:gr=gr.next=t}return gr}function Eh(t,e){return typeof e=="function"?e(t):e}function bb(t){var e=oo(),n=e.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=t;var r=tr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((oc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,_n.lanes|=d,sc|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Mo(r,e.memoizedState)||(fi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_n.lanes|=o,sc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wb(t){var e=oo(),n=e.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Mo(o,e.memoizedState)||(fi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function oD(){}function sD(t,e){var n=_n,r=oo(),i=e(),o=!Mo(r.memoizedState,i);if(o&&(r.memoizedState=i,fi=!0),r=r.queue,IE(cD.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||gr!==null&&gr.memoizedState.tag&1){if(n.flags|=2048,Th(9,lD.bind(null,n,r,i,e),void 0,null),xr===null)throw Error(ge(349));oc&30||aD(n,e,i)}return i}function aD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_n.updateQueue,e===null?(e={lastEffect:null,stores:null},_n.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lD(t,e,n,r){e.value=n,e.getSnapshot=r,uD(e)&&dD(t)}function cD(t,e,n){return n(function(){uD(e)&&dD(t)})}function uD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mo(t,n)}catch{return!0}}function dD(t){var e=Ys(t,1);e!==null&&Io(e,t,1,-1)}function WC(t){var e=Go();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:t},e.queue=t,t=t.dispatch=bz.bind(null,_n,t),[e.memoizedState,t]}function Th(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_n.updateQueue,e===null?(e={lastEffect:null,stores:null},_n.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fD(){return oo().memoizedState}function Ag(t,e,n,r){var i=Go();_n.flags|=t,i.memoizedState=Th(1|e,n,void 0,r===void 0?null:r)}function ox(t,e,n,r){var i=oo();r=r===void 0?null:r;var o=void 0;if(tr!==null){var s=tr.memoizedState;if(o=s.destroy,r!==null&&CE(r,s.deps)){i.memoizedState=Th(e,n,o,r);return}}_n.flags|=t,i.memoizedState=Th(1|e,n,o,r)}function HC(t,e){return Ag(8390656,8,t,e)}function IE(t,e){return ox(2048,8,t,e)}function hD(t,e){return ox(4,2,t,e)}function pD(t,e){return ox(4,4,t,e)}function mD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gD(t,e,n){return n=n!=null?n.concat([t]):null,ox(4,4,mD.bind(null,e,t),n)}function kE(){}function yD(t,e){var n=oo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&CE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vD(t,e){var n=oo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&CE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xD(t,e,n){return oc&21?(Mo(n,e)||(n=EM(),_n.lanes|=n,sc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fi=!0),t.memoizedState=n)}function vz(t,e){var n=Gt;Gt=n!==0&&4>n?n:4,t(!0);var r=xb.transition;xb.transition={};try{t(!1),e()}finally{Gt=n,xb.transition=r}}function bD(){return oo().memoizedState}function xz(t,e,n){var r=qa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wD(t))SD(e,n);else if(n=nD(t,e,n,r),n!==null){var i=ti();Io(n,t,r,i),_D(n,e,r)}}function bz(t,e,n){var r=qa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wD(t))SD(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Mo(a,s)){var l=e.interleaved;l===null?(i.next=i,_E(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nD(t,e,i,r),n!==null&&(i=ti(),Io(n,t,r,i),_D(n,e,r))}}function wD(t){var e=t.alternate;return t===_n||e!==null&&e===_n}function SD(t,e){Wf=hy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _D(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cE(t,n)}}var py={readContext:io,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},wz={readContext:io,useCallback:function(t,e){return Go().memoizedState=[t,e===void 0?null:e],t},useContext:io,useEffect:HC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ag(4194308,4,mD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ag(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ag(4,2,t,e)},useMemo:function(t,e){var n=Go();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Go();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xz.bind(null,_n,t),[r.memoizedState,t]},useRef:function(t){var e=Go();return t={current:t},e.memoizedState=t},useState:WC,useDebugValue:kE,useDeferredValue:function(t){return Go().memoizedState=t},useTransition:function(){var t=WC(!1),e=t[0];return t=vz.bind(null,t[1]),Go().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_n,i=Go();if(yn){if(n===void 0)throw Error(ge(407));n=n()}else{if(n=e(),xr===null)throw Error(ge(349));oc&30||aD(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,HC(cD.bind(null,r,o,t),[t]),r.flags|=2048,Th(9,lD.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Go(),e=xr.identifierPrefix;if(yn){var n=$s,r=Ds;n=(r&~(1<<32-jo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_h++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Sz={readContext:io,useCallback:yD,useContext:io,useEffect:IE,useImperativeHandle:gD,useInsertionEffect:hD,useLayoutEffect:pD,useMemo:vD,useReducer:bb,useRef:fD,useState:function(){return bb(Eh)},useDebugValue:kE,useDeferredValue:function(t){var e=oo();return xD(e,tr.memoizedState,t)},useTransition:function(){var t=bb(Eh)[0],e=oo().memoizedState;return[t,e]},useMutableSource:oD,useSyncExternalStore:sD,useId:bD,unstable_isNewReconciler:!1},_z={readContext:io,useCallback:yD,useContext:io,useEffect:IE,useImperativeHandle:gD,useInsertionEffect:hD,useLayoutEffect:pD,useMemo:vD,useReducer:wb,useRef:fD,useState:function(){return wb(Eh)},useDebugValue:kE,useDeferredValue:function(t){var e=oo();return tr===null?e.memoizedState=t:xD(e,tr.memoizedState,t)},useTransition:function(){var t=wb(Eh)[0],e=oo().memoizedState;return[t,e]},useMutableSource:oD,useSyncExternalStore:sD,useId:bD,unstable_isNewReconciler:!1};function yo(t,e){if(t&&t.defaultProps){e=En({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function l1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:En({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sx={isMounted:function(t){return(t=t._reactInternals)?_c(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ti(),i=qa(t),o=Us(r,i);o.payload=e,n!=null&&(o.callback=n),e=Wa(t,o,i),e!==null&&(Io(e,t,i,r),Tg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ti(),i=qa(t),o=Us(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Wa(t,o,i),e!==null&&(Io(e,t,i,r),Tg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ti(),r=qa(t),i=Us(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wa(t,i,r),e!==null&&(Io(e,t,r,n),Tg(e,t,r))}};function qC(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!yh(n,r)||!yh(i,o):!0}function ED(t,e,n){var r=!1,i=nl,o=e.contextType;return typeof o=="object"&&o!==null?o=io(o):(i=mi(e)?rc:Hr.current,r=e.contextTypes,o=(r=r!=null)?Lu(t,i):nl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function GC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sx.enqueueReplaceState(e,e.state,null)}function c1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},EE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=io(o):(o=mi(e)?rc:Hr.current,i.context=Lu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(l1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sx.enqueueReplaceState(i,i.state,null),dy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uu(t,e){try{var n="",r=e;do n+=Q9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Sb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function u1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ez=typeof WeakMap=="function"?WeakMap:Map;function TD(t,e,n){n=Us(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gy||(gy=!0,b1=r),u1(t,e)},n}function PD(t,e,n){n=Us(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){u1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){u1(t,e),typeof r!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function KC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ez;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Lz.bind(null,t,e,n),e.then(t,t))}function YC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function XC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Us(-1,1),e.tag=2,Wa(n,e,1))),n.lanes|=1),t)}var Tz=aa.ReactCurrentOwner,fi=!1;function Qr(t,e,n,r){e.child=t===null?tD(e,null,n,r):Vu(e,t.child,n,r)}function QC(t,e,n,r,i){n=n.render;var o=e.ref;return mu(e,i),r=NE(t,e,n,r,o,i),n=jE(),t!==null&&!fi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i)):(yn&&n&&yE(e),e.flags|=1,Qr(t,e,r,i),e.child)}function JC(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!VE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,AD(t,e,o,r,i)):(t=Ig(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:yh,n(s,r)&&t.ref===e.ref)return Xs(t,e,i)}return e.flags|=1,t=Ga(o,r),t.ref=e.ref,t.return=e,e.child=t}function AD(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(yh(o,r)&&t.ref===e.ref)if(fi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(fi=!0);else return e.lanes=t.lanes,Xs(t,e,i)}return d1(t,e,n,r,i)}function CD(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(au,Ci),Ci|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,sn(au,Ci),Ci|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,sn(au,Ci),Ci|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,sn(au,Ci),Ci|=r;return Qr(t,e,i,n),e.child}function ND(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function d1(t,e,n,r,i){var o=mi(n)?rc:Hr.current;return o=Lu(e,o),mu(e,i),n=NE(t,e,n,r,o,i),r=jE(),t!==null&&!fi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i)):(yn&&r&&yE(e),e.flags|=1,Qr(t,e,n,i),e.child)}function ZC(t,e,n,r,i){if(mi(n)){var o=!0;sy(e)}else o=!1;if(mu(e,i),e.stateNode===null)Cg(t,e),ED(e,n,r),c1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=io(c):(c=mi(n)?rc:Hr.current,c=Lu(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&GC(e,s,r,c),_a=!1;var h=e.memoizedState;s.state=h,dy(e,r,s,i),l=e.memoizedState,a!==r||h!==l||pi.current||_a?(typeof d=="function"&&(l1(e,n,d,r),l=e.memoizedState),(a=_a||qC(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,rD(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:yo(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=io(l):(l=mi(n)?rc:Hr.current,l=Lu(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&GC(e,s,r,l),_a=!1,h=e.memoizedState,s.state=h,dy(e,r,s,i);var y=e.memoizedState;a!==f||h!==y||pi.current||_a?(typeof m=="function"&&(l1(e,n,m,r),y=e.memoizedState),(c=_a||qC(e,n,c,r,h,y,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return f1(t,e,n,r,o,i)}function f1(t,e,n,r,i,o){ND(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&LC(e,n,!1),Xs(t,e,o);r=e.stateNode,Tz.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Vu(e,t.child,null,o),e.child=Vu(e,null,a,o)):Qr(t,e,a,o),e.memoizedState=r.state,i&&LC(e,n,!0),e.child}function jD(t){var e=t.stateNode;e.pendingContext?$C(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$C(t,e.context,!1),TE(t,e.containerInfo)}function eN(t,e,n,r,i){return Fu(),xE(i),e.flags|=256,Qr(t,e,n,r),e.child}var h1={dehydrated:null,treeContext:null,retryLane:0};function p1(t){return{baseLanes:t,cachePool:null,transitions:null}}function ID(t,e,n){var r=e.pendingProps,i=bn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),sn(bn,i&1),t===null)return s1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=cx(s,r,0,null),t=Xl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=p1(n),e.memoizedState=h1,t):OE(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Pz(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ga(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ga(a,o):(o=Xl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?p1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=h1,r}return o=t.child,t=o.sibling,r=Ga(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function OE(t,e){return e=cx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dm(t,e,n,r){return r!==null&&xE(r),Vu(e,t.child,null,n),t=OE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pz(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Sb(Error(ge(422))),Dm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=cx({mode:"visible",children:r.children},i,0,null),o=Xl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Vu(e,t.child,null,s),e.child.memoizedState=p1(s),e.memoizedState=h1,o);if(!(e.mode&1))return Dm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ge(419)),r=Sb(o,r,void 0),Dm(t,e,s,r)}if(a=(s&t.childLanes)!==0,fi||a){if(r=xr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ys(t,i),Io(r,t,i,-1))}return FE(),r=Sb(Error(ge(421))),Dm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Fz.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ki=za(i.nextSibling),Oi=e,yn=!0,_o=null,t!==null&&(Ki[Yi++]=Ds,Ki[Yi++]=$s,Ki[Yi++]=ic,Ds=t.id,$s=t.overflow,ic=e),e=OE(e,r.children),e.flags|=4096,e)}function tN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),a1(t.return,e,n)}function _b(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function kD(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Qr(t,e,r.children,n),r=bn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tN(t,n,e);else if(t.tag===19)tN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(sn(bn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_b(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_b(e,!0,n,null,o);break;case"together":_b(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,n=Ga(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ga(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Az(t,e,n){switch(e.tag){case 3:jD(e),Fu();break;case 5:iD(e);break;case 1:mi(e.type)&&sy(e);break;case 4:TE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;sn(cy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(sn(bn,bn.current&1),e.flags|=128,null):n&e.child.childLanes?ID(t,e,n):(sn(bn,bn.current&1),t=Xs(t,e,n),t!==null?t.sibling:null);sn(bn,bn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sn(bn,bn.current),r)break;return null;case 22:case 23:return e.lanes=0,CD(t,e,n)}return Xs(t,e,n)}var OD,m1,RD,MD;OD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};m1=function(){};RD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Dl(as.current);var o=null;switch(n){case"input":i=$w(t,i),r=$w(t,r),o=[];break;case"select":i=En({},i,{value:void 0}),r=En({},r,{value:void 0}),o=[];break;case"textarea":i=Vw(t,i),r=Vw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=iy)}Uw(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ln("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};MD=function(t,e,n,r){n!==r&&(e.flags|=4)};function ff(t,e){if(!yn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Cz(t,e,n){var r=e.pendingProps;switch(vE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(e),null;case 1:return mi(e.type)&&oy(),Mr(e),null;case 3:return r=e.stateNode,Bu(),pn(pi),pn(Hr),AE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_o!==null&&(_1(_o),_o=null))),m1(t,e),Mr(e),null;case 5:PE(e);var i=Dl(Sh.current);if(n=e.type,t!==null&&e.stateNode!=null)RD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ge(166));return Mr(e),null}if(t=Dl(as.current),Rm(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[rs]=e,r[bh]=o,t=(e.mode&1)!==0,n){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(i=0;i<jf.length;i++)ln(jf[i],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":uC(r,o),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ln("invalid",r);break;case"textarea":fC(r,o),ln("invalid",r)}Uw(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Om(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Om(r.textContent,a,t),i=["children",""+a]):uh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ln("scroll",r)}switch(n){case"input":Tm(r),dC(r,o,!0);break;case"textarea":Tm(r),hC(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=iy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[rs]=e,t[bh]=r,OD(t,e,!1,!1),e.stateNode=t;e:{switch(s=zw(n,r),n){case"dialog":ln("cancel",t),ln("close",t),i=r;break;case"iframe":case"object":case"embed":ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<jf.length;i++)ln(jf[i],t);i=r;break;case"source":ln("error",t),i=r;break;case"img":case"image":case"link":ln("error",t),ln("load",t),i=r;break;case"details":ln("toggle",t),i=r;break;case"input":uC(t,r),i=$w(t,r),ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=En({},r,{value:void 0}),ln("invalid",t);break;case"textarea":fC(t,r),i=Vw(t,r),ln("invalid",t);break;default:i=r}Uw(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?fM(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uM(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dh(t,l):typeof l=="number"&&dh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(uh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ln("scroll",t):l!=null&&rE(t,o,l,s))}switch(n){case"input":Tm(t),dC(t,r,!1);break;case"textarea":Tm(t),hC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+tl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?du(t,!!r.multiple,o,!1):r.defaultValue!=null&&du(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=iy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mr(e),null;case 6:if(t&&e.stateNode!=null)MD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ge(166));if(n=Dl(Sh.current),Dl(as.current),Rm(e)){if(r=e.stateNode,n=e.memoizedProps,r[rs]=e,(o=r.nodeValue!==n)&&(t=Oi,t!==null))switch(t.tag){case 3:Om(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Om(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rs]=e,e.stateNode=r}return Mr(e),null;case 13:if(pn(bn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yn&&ki!==null&&e.mode&1&&!(e.flags&128))ZM(),Fu(),e.flags|=98560,o=!1;else if(o=Rm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ge(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ge(317));o[rs]=e}else Fu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mr(e),o=!1}else _o!==null&&(_1(_o),_o=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bn.current&1?rr===0&&(rr=3):FE())),e.updateQueue!==null&&(e.flags|=4),Mr(e),null);case 4:return Bu(),m1(t,e),t===null&&vh(e.stateNode.containerInfo),Mr(e),null;case 10:return SE(e.type._context),Mr(e),null;case 17:return mi(e.type)&&oy(),Mr(e),null;case 19:if(pn(bn),o=e.memoizedState,o===null)return Mr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ff(o,!1);else{if(rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=fy(t),s!==null){for(e.flags|=128,ff(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return sn(bn,bn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Dn()>zu&&(e.flags|=128,r=!0,ff(o,!1),e.lanes=4194304)}else{if(!r)if(t=fy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ff(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!yn)return Mr(e),null}else 2*Dn()-o.renderingStartTime>zu&&n!==1073741824&&(e.flags|=128,r=!0,ff(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dn(),e.sibling=null,n=bn.current,sn(bn,r?n&1|2:n&1),e):(Mr(e),null);case 22:case 23:return LE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ci&1073741824&&(Mr(e),e.subtreeFlags&6&&(e.flags|=8192)):Mr(e),null;case 24:return null;case 25:return null}throw Error(ge(156,e.tag))}function Nz(t,e){switch(vE(e),e.tag){case 1:return mi(e.type)&&oy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bu(),pn(pi),pn(Hr),AE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return PE(e),null;case 13:if(pn(bn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ge(340));Fu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pn(bn),null;case 4:return Bu(),null;case 10:return SE(e.type._context),null;case 22:case 23:return LE(),null;case 24:return null;default:return null}}var $m=!1,Vr=!1,jz=typeof WeakSet=="function"?WeakSet:Set,Me=null;function su(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jn(t,e,r)}else n.current=null}function g1(t,e,n){try{n()}catch(r){jn(t,e,r)}}var nN=!1;function Iz(t,e){if(Zw=ty,t=VM(),gE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(e1={focusedElem:t,selectionRange:n},ty=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:yo(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(A){jn(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return y=nN,nN=!1,y}function Hf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&g1(e,n,o)}i=i.next}while(i!==r)}}function ax(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function y1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DD(t){var e=t.alternate;e!==null&&(t.alternate=null,DD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rs],delete e[bh],delete e[r1],delete e[hz],delete e[pz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $D(t){return t.tag===5||t.tag===3||t.tag===4}function rN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$D(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function v1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=iy));else if(r!==4&&(t=t.child,t!==null))for(v1(t,e,n),t=t.sibling;t!==null;)v1(t,e,n),t=t.sibling}function x1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(x1(t,e,n),t=t.sibling;t!==null;)x1(t,e,n),t=t.sibling}var Er=null,bo=!1;function ga(t,e,n){for(n=n.child;n!==null;)LD(t,e,n),n=n.sibling}function LD(t,e,n){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(Zv,n)}catch{}switch(n.tag){case 5:Vr||su(n,e);case 6:var r=Er,i=bo;Er=null,ga(t,e,n),Er=r,bo=i,Er!==null&&(bo?(t=Er,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Er.removeChild(n.stateNode));break;case 18:Er!==null&&(bo?(t=Er,n=n.stateNode,t.nodeType===8?gb(t.parentNode,n):t.nodeType===1&&gb(t,n),mh(t)):gb(Er,n.stateNode));break;case 4:r=Er,i=bo,Er=n.stateNode.containerInfo,bo=!0,ga(t,e,n),Er=r,bo=i;break;case 0:case 11:case 14:case 15:if(!Vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&g1(n,e,s),i=i.next}while(i!==r)}ga(t,e,n);break;case 1:if(!Vr&&(su(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jn(n,e,a)}ga(t,e,n);break;case 21:ga(t,e,n);break;case 22:n.mode&1?(Vr=(r=Vr)||n.memoizedState!==null,ga(t,e,n),Vr=r):ga(t,e,n);break;default:ga(t,e,n)}}function iN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jz),e.forEach(function(r){var i=Vz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ho(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Er=a.stateNode,bo=!1;break e;case 3:Er=a.stateNode.containerInfo,bo=!0;break e;case 4:Er=a.stateNode.containerInfo,bo=!0;break e}a=a.return}if(Er===null)throw Error(ge(160));LD(o,s,i),Er=null,bo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){jn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FD(e,t),e=e.sibling}function FD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ho(e,t),Ho(t),r&4){try{Hf(3,t,t.return),ax(3,t)}catch(g){jn(t,t.return,g)}try{Hf(5,t,t.return)}catch(g){jn(t,t.return,g)}}break;case 1:ho(e,t),Ho(t),r&512&&n!==null&&su(n,n.return);break;case 5:if(ho(e,t),Ho(t),r&512&&n!==null&&su(n,n.return),t.flags&32){var i=t.stateNode;try{dh(i,"")}catch(g){jn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&aM(i,o),zw(a,s);var c=zw(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?fM(i,f):d==="dangerouslySetInnerHTML"?uM(i,f):d==="children"?dh(i,f):rE(i,d,f,c)}switch(a){case"input":Lw(i,o);break;case"textarea":lM(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?du(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?du(i,!!o.multiple,o.defaultValue,!0):du(i,!!o.multiple,o.multiple?[]:"",!1))}i[bh]=o}catch(g){jn(t,t.return,g)}}break;case 6:if(ho(e,t),Ho(t),r&4){if(t.stateNode===null)throw Error(ge(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){jn(t,t.return,g)}}break;case 3:if(ho(e,t),Ho(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mh(e.containerInfo)}catch(g){jn(t,t.return,g)}break;case 4:ho(e,t),Ho(t);break;case 13:ho(e,t),Ho(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(DE=Dn())),r&4&&iN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Vr=(c=Vr)||d,ho(e,t),Vr=c):ho(e,t),Ho(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Me=t,d=t.child;d!==null;){for(f=Me=d;Me!==null;){switch(h=Me,m=h.child,h.tag){case 0:case 11:case 14:case 15:Hf(4,h,h.return);break;case 1:su(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){jn(r,n,g)}}break;case 5:su(h,h.return);break;case 22:if(h.memoizedState!==null){sN(f);continue}}m!==null?(m.return=h,Me=m):sN(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dM("display",s))}catch(g){jn(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){jn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ho(e,t),Ho(t),r&4&&iN(t);break;case 21:break;default:ho(e,t),Ho(t)}}function Ho(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($D(n)){var r=n;break e}n=n.return}throw Error(ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dh(i,""),r.flags&=-33);var o=rN(t);x1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=rN(t);v1(t,a,s);break;default:throw Error(ge(161))}}catch(l){jn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kz(t,e,n){Me=t,VD(t)}function VD(t,e,n){for(var r=(t.mode&1)!==0;Me!==null;){var i=Me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||$m;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vr;a=$m;var c=Vr;if($m=s,(Vr=l)&&!c)for(Me=i;Me!==null;)s=Me,l=s.child,s.tag===22&&s.memoizedState!==null?aN(i):l!==null?(l.return=s,Me=l):aN(i);for(;o!==null;)Me=o,VD(o),o=o.sibling;Me=i,$m=a,Vr=c}oN(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Me=o):oN(t)}}function oN(t){for(;Me!==null;){var e=Me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vr||ax(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&zC(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zC(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&mh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}Vr||e.flags&512&&y1(e)}catch(h){jn(e,e.return,h)}}if(e===t){Me=null;break}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}}function sN(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Me=n;break}Me=e.return}}function aN(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ax(4,e)}catch(l){jn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){jn(e,i,l)}}var o=e.return;try{y1(e)}catch(l){jn(e,o,l)}break;case 5:var s=e.return;try{y1(e)}catch(l){jn(e,s,l)}}}catch(l){jn(e,e.return,l)}if(e===t){Me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Me=a;break}Me=e.return}}var Oz=Math.ceil,my=aa.ReactCurrentDispatcher,RE=aa.ReactCurrentOwner,to=aa.ReactCurrentBatchConfig,kt=0,xr=null,qn=null,Cr=0,Ci=0,au=hl(0),rr=0,Ph=null,sc=0,lx=0,ME=0,qf=null,ui=null,DE=0,zu=1/0,ks=null,gy=!1,b1=null,Ha=null,Lm=!1,Ma=null,yy=0,Gf=0,w1=null,Ng=-1,jg=0;function ti(){return kt&6?Dn():Ng!==-1?Ng:Ng=Dn()}function qa(t){return t.mode&1?kt&2&&Cr!==0?Cr&-Cr:gz.transition!==null?(jg===0&&(jg=EM()),jg):(t=Gt,t!==0||(t=window.event,t=t===void 0?16:IM(t.type)),t):1}function Io(t,e,n,r){if(50<Gf)throw Gf=0,w1=null,Error(ge(185));Rp(t,n,r),(!(kt&2)||t!==xr)&&(t===xr&&(!(kt&2)&&(lx|=n),rr===4&&Pa(t,Cr)),gi(t,r),n===1&&kt===0&&!(e.mode&1)&&(zu=Dn()+500,ix&&pl()))}function gi(t,e){var n=t.callbackNode;g8(t,e);var r=ey(t,t===xr?Cr:0);if(r===0)n!==null&&gC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gC(n),e===1)t.tag===0?mz(lN.bind(null,t)):XM(lN.bind(null,t)),dz(function(){!(kt&6)&&pl()}),n=null;else{switch(TM(r)){case 1:n=lE;break;case 4:n=SM;break;case 16:n=Zg;break;case 536870912:n=_M;break;default:n=Zg}n=KD(n,BD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function BD(t,e){if(Ng=-1,jg=0,kt&6)throw Error(ge(327));var n=t.callbackNode;if(gu()&&t.callbackNode!==n)return null;var r=ey(t,t===xr?Cr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vy(t,r);else{e=r;var i=kt;kt|=2;var o=zD();(xr!==t||Cr!==e)&&(ks=null,zu=Dn()+500,Yl(t,e));do try{Dz();break}catch(a){UD(t,a)}while(!0);wE(),my.current=o,kt=i,qn!==null?e=0:(xr=null,Cr=0,e=rr)}if(e!==0){if(e===2&&(i=Kw(t),i!==0&&(r=i,e=S1(t,i))),e===1)throw n=Ph,Yl(t,0),Pa(t,r),gi(t,Dn()),n;if(e===6)Pa(t,r);else{if(i=t.current.alternate,!(r&30)&&!Rz(i)&&(e=vy(t,r),e===2&&(o=Kw(t),o!==0&&(r=o,e=S1(t,o))),e===1))throw n=Ph,Yl(t,0),Pa(t,r),gi(t,Dn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ge(345));case 2:Nl(t,ui,ks);break;case 3:if(Pa(t,r),(r&130023424)===r&&(e=DE+500-Dn(),10<e)){if(ey(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ti(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=n1(Nl.bind(null,t,ui,ks),e);break}Nl(t,ui,ks);break;case 4:if(Pa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-jo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Dn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Oz(r/1960))-r,10<r){t.timeoutHandle=n1(Nl.bind(null,t,ui,ks),r);break}Nl(t,ui,ks);break;case 5:Nl(t,ui,ks);break;default:throw Error(ge(329))}}}return gi(t,Dn()),t.callbackNode===n?BD.bind(null,t):null}function S1(t,e){var n=qf;return t.current.memoizedState.isDehydrated&&(Yl(t,e).flags|=256),t=vy(t,e),t!==2&&(e=ui,ui=n,e!==null&&_1(e)),t}function _1(t){ui===null?ui=t:ui.push.apply(ui,t)}function Rz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pa(t,e){for(e&=~ME,e&=~lx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jo(e),r=1<<n;t[n]=-1,e&=~r}}function lN(t){if(kt&6)throw Error(ge(327));gu();var e=ey(t,0);if(!(e&1))return gi(t,Dn()),null;var n=vy(t,e);if(t.tag!==0&&n===2){var r=Kw(t);r!==0&&(e=r,n=S1(t,r))}if(n===1)throw n=Ph,Yl(t,0),Pa(t,e),gi(t,Dn()),n;if(n===6)throw Error(ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nl(t,ui,ks),gi(t,Dn()),null}function $E(t,e){var n=kt;kt|=1;try{return t(e)}finally{kt=n,kt===0&&(zu=Dn()+500,ix&&pl())}}function ac(t){Ma!==null&&Ma.tag===0&&!(kt&6)&&gu();var e=kt;kt|=1;var n=to.transition,r=Gt;try{if(to.transition=null,Gt=1,t)return t()}finally{Gt=r,to.transition=n,kt=e,!(kt&6)&&pl()}}function LE(){Ci=au.current,pn(au)}function Yl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uz(n)),qn!==null)for(n=qn.return;n!==null;){var r=n;switch(vE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oy();break;case 3:Bu(),pn(pi),pn(Hr),AE();break;case 5:PE(r);break;case 4:Bu();break;case 13:pn(bn);break;case 19:pn(bn);break;case 10:SE(r.type._context);break;case 22:case 23:LE()}n=n.return}if(xr=t,qn=t=Ga(t.current,null),Cr=Ci=e,rr=0,Ph=null,ME=lx=sc=0,ui=qf=null,Ml!==null){for(e=0;e<Ml.length;e++)if(n=Ml[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ml=null}return t}function UD(t,e){do{var n=qn;try{if(wE(),Pg.current=py,hy){for(var r=_n.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hy=!1}if(oc=0,gr=tr=_n=null,Wf=!1,_h=0,RE.current=null,n===null||n.return===null){rr=1,Ph=e,qn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=YC(s);if(m!==null){m.flags&=-257,XC(m,s,a,o,e),m.mode&1&&KC(o,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){KC(o,c,e),FE();break e}l=Error(ge(426))}}else if(yn&&a.mode&1){var v=YC(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),XC(v,s,a,o,e),xE(Uu(l,a));break e}}o=l=Uu(l,a),rr!==4&&(rr=2),qf===null?qf=[o]:qf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=TD(o,l,e);UC(o,x);break e;case 1:a=l;var b=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ha===null||!Ha.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=PD(o,a,e);UC(o,A);break e}}o=o.return}while(o!==null)}HD(n)}catch(E){e=E,qn===n&&n!==null&&(qn=n=n.return);continue}break}while(!0)}function zD(){var t=my.current;return my.current=py,t===null?py:t}function FE(){(rr===0||rr===3||rr===2)&&(rr=4),xr===null||!(sc&268435455)&&!(lx&268435455)||Pa(xr,Cr)}function vy(t,e){var n=kt;kt|=2;var r=zD();(xr!==t||Cr!==e)&&(ks=null,Yl(t,e));do try{Mz();break}catch(i){UD(t,i)}while(!0);if(wE(),kt=n,my.current=r,qn!==null)throw Error(ge(261));return xr=null,Cr=0,rr}function Mz(){for(;qn!==null;)WD(qn)}function Dz(){for(;qn!==null&&!a8();)WD(qn)}function WD(t){var e=GD(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,e===null?HD(t):qn=e,RE.current=null}function HD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Nz(n,e),n!==null){n.flags&=32767,qn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rr=6,qn=null;return}}else if(n=Cz(n,e,Ci),n!==null){qn=n;return}if(e=e.sibling,e!==null){qn=e;return}qn=e=t}while(e!==null);rr===0&&(rr=5)}function Nl(t,e,n){var r=Gt,i=to.transition;try{to.transition=null,Gt=1,$z(t,e,n,r)}finally{to.transition=i,Gt=r}return null}function $z(t,e,n,r){do gu();while(Ma!==null);if(kt&6)throw Error(ge(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ge(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(y8(t,o),t===xr&&(qn=xr=null,Cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lm||(Lm=!0,KD(Zg,function(){return gu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=to.transition,to.transition=null;var s=Gt;Gt=1;var a=kt;kt|=4,RE.current=null,Iz(t,n),FD(n,t),rz(e1),ty=!!Zw,e1=Zw=null,t.current=n,kz(n),l8(),kt=a,Gt=s,to.transition=o}else t.current=n;if(Lm&&(Lm=!1,Ma=t,yy=i),o=t.pendingLanes,o===0&&(Ha=null),d8(n.stateNode),gi(t,Dn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gy)throw gy=!1,t=b1,b1=null,t;return yy&1&&t.tag!==0&&gu(),o=t.pendingLanes,o&1?t===w1?Gf++:(Gf=0,w1=t):Gf=0,pl(),null}function gu(){if(Ma!==null){var t=TM(yy),e=to.transition,n=Gt;try{if(to.transition=null,Gt=16>t?16:t,Ma===null)var r=!1;else{if(t=Ma,Ma=null,yy=0,kt&6)throw Error(ge(331));var i=kt;for(kt|=4,Me=t.current;Me!==null;){var o=Me,s=o.child;if(Me.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Me=c;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:Hf(8,d,o)}var f=d.child;if(f!==null)f.return=d,Me=f;else for(;Me!==null;){d=Me;var h=d.sibling,m=d.return;if(DD(d),d===c){Me=null;break}if(h!==null){h.return=m,Me=h;break}Me=m}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Me=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Me=s;else e:for(;Me!==null;){if(o=Me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hf(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Me=x;break e}Me=o.return}}var b=t.current;for(Me=b;Me!==null;){s=Me;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Me=w;else e:for(s=b;Me!==null;){if(a=Me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ax(9,a)}}catch(E){jn(a,a.return,E)}if(a===s){Me=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Me=A;break e}Me=a.return}}if(kt=i,pl(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(Zv,t)}catch{}r=!0}return r}finally{Gt=n,to.transition=e}}return!1}function cN(t,e,n){e=Uu(n,e),e=TD(t,e,1),t=Wa(t,e,1),e=ti(),t!==null&&(Rp(t,1,e),gi(t,e))}function jn(t,e,n){if(t.tag===3)cN(t,t,n);else for(;e!==null;){if(e.tag===3){cN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ha===null||!Ha.has(r))){t=Uu(n,t),t=PD(e,t,1),e=Wa(e,t,1),t=ti(),e!==null&&(Rp(e,1,t),gi(e,t));break}}e=e.return}}function Lz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ti(),t.pingedLanes|=t.suspendedLanes&n,xr===t&&(Cr&n)===n&&(rr===4||rr===3&&(Cr&130023424)===Cr&&500>Dn()-DE?Yl(t,0):ME|=n),gi(t,e)}function qD(t,e){e===0&&(t.mode&1?(e=Cm,Cm<<=1,!(Cm&130023424)&&(Cm=4194304)):e=1);var n=ti();t=Ys(t,e),t!==null&&(Rp(t,e,n),gi(t,n))}function Fz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qD(t,n)}function Vz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ge(314))}r!==null&&r.delete(e),qD(t,n)}var GD;GD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pi.current)fi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fi=!1,Az(t,e,n);fi=!!(t.flags&131072)}else fi=!1,yn&&e.flags&1048576&&QM(e,ly,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cg(t,e),t=e.pendingProps;var i=Lu(e,Hr.current);mu(e,n),i=NE(null,e,r,t,i,n);var o=jE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)?(o=!0,sy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,EE(e),i.updater=sx,e.stateNode=i,i._reactInternals=e,c1(e,r,t,n),e=f1(null,e,r,!0,o,n)):(e.tag=0,yn&&o&&yE(e),Qr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Uz(r),t=yo(r,t),i){case 0:e=d1(null,e,r,t,n);break e;case 1:e=ZC(null,e,r,t,n);break e;case 11:e=QC(null,e,r,t,n);break e;case 14:e=JC(null,e,r,yo(r.type,t),n);break e}throw Error(ge(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),d1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),ZC(t,e,r,i,n);case 3:e:{if(jD(e),t===null)throw Error(ge(387));r=e.pendingProps,o=e.memoizedState,i=o.element,rD(t,e),dy(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Uu(Error(ge(423)),e),e=eN(t,e,r,n,i);break e}else if(r!==i){i=Uu(Error(ge(424)),e),e=eN(t,e,r,n,i);break e}else for(ki=za(e.stateNode.containerInfo.firstChild),Oi=e,yn=!0,_o=null,n=tD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fu(),r===i){e=Xs(t,e,n);break e}Qr(t,e,r,n)}e=e.child}return e;case 5:return iD(e),t===null&&s1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,t1(r,i)?s=null:o!==null&&t1(r,o)&&(e.flags|=32),ND(t,e),Qr(t,e,s,n),e.child;case 6:return t===null&&s1(e),null;case 13:return ID(t,e,n);case 4:return TE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vu(e,null,r,n):Qr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),QC(t,e,r,i,n);case 7:return Qr(t,e,e.pendingProps,n),e.child;case 8:return Qr(t,e,e.pendingProps.children,n),e.child;case 12:return Qr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,sn(cy,r._currentValue),r._currentValue=s,o!==null)if(Mo(o.value,s)){if(o.children===i.children&&!pi.current){e=Xs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Us(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),a1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ge(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),a1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Qr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mu(e,n),i=io(i),r=r(i),e.flags|=1,Qr(t,e,r,n),e.child;case 14:return r=e.type,i=yo(r,e.pendingProps),i=yo(r.type,i),JC(t,e,r,i,n);case 15:return AD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),Cg(t,e),e.tag=1,mi(r)?(t=!0,sy(e)):t=!1,mu(e,n),ED(e,r,i),c1(e,r,i,n),f1(null,e,r,!0,t,n);case 19:return kD(t,e,n);case 22:return CD(t,e,n)}throw Error(ge(156,e.tag))};function KD(t,e){return wM(t,e)}function Bz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(t,e,n,r){return new Bz(t,e,n,r)}function VE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Uz(t){if(typeof t=="function")return VE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oE)return 11;if(t===sE)return 14}return 2}function Ga(t,e){var n=t.alternate;return n===null?(n=Ji(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ig(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")VE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Qc:return Xl(n.children,i,o,e);case iE:s=8,i|=8;break;case Ow:return t=Ji(12,n,e,i|2),t.elementType=Ow,t.lanes=o,t;case Rw:return t=Ji(13,n,e,i),t.elementType=Rw,t.lanes=o,t;case Mw:return t=Ji(19,n,e,i),t.elementType=Mw,t.lanes=o,t;case iM:return cx(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nM:s=10;break e;case rM:s=9;break e;case oE:s=11;break e;case sE:s=14;break e;case Sa:s=16,r=null;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=Ji(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Xl(t,e,n,r){return t=Ji(7,t,r,e),t.lanes=n,t}function cx(t,e,n,r){return t=Ji(22,t,r,e),t.elementType=iM,t.lanes=n,t.stateNode={isHidden:!1},t}function Eb(t,e,n){return t=Ji(6,t,null,e),t.lanes=n,t}function Tb(t,e,n){return e=Ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ob(0),this.expirationTimes=ob(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ob(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function BE(t,e,n,r,i,o,s,a,l){return t=new zz(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ji(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},EE(o),t}function Wz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YD(t){if(!t)return nl;t=t._reactInternals;e:{if(_c(t)!==t||t.tag!==1)throw Error(ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ge(171))}if(t.tag===1){var n=t.type;if(mi(n))return YM(t,n,e)}return e}function XD(t,e,n,r,i,o,s,a,l){return t=BE(n,r,!0,t,i,o,s,a,l),t.context=YD(null),n=t.current,r=ti(),i=qa(n),o=Us(r,i),o.callback=e??null,Wa(n,o,i),t.current.lanes=i,Rp(t,i,r),gi(t,r),t}function ux(t,e,n,r){var i=e.current,o=ti(),s=qa(i);return n=YD(n),e.context===null?e.context=n:e.pendingContext=n,e=Us(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wa(i,e,s),t!==null&&(Io(t,i,s,o),Tg(t,i,s)),s}function xy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function UE(t,e){uN(t,e),(t=t.alternate)&&uN(t,e)}function Hz(){return null}var QD=typeof reportError=="function"?reportError:function(t){console.error(t)};function zE(t){this._internalRoot=t}dx.prototype.render=zE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ge(409));ux(t,e,null,null)};dx.prototype.unmount=zE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ac(function(){ux(null,t,null,null)}),e[Ks]=null}};function dx(t){this._internalRoot=t}dx.prototype.unstable_scheduleHydration=function(t){if(t){var e=CM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ta.length&&e!==0&&e<Ta[n].priority;n++);Ta.splice(n,0,t),n===0&&jM(t)}};function WE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dN(){}function qz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=xy(s);o.call(c)}}var s=XD(e,r,t,0,null,!1,!1,"",dN);return t._reactRootContainer=s,t[Ks]=s.current,vh(t.nodeType===8?t.parentNode:t),ac(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=xy(l);a.call(c)}}var l=BE(t,0,!1,null,null,!1,!1,"",dN);return t._reactRootContainer=l,t[Ks]=l.current,vh(t.nodeType===8?t.parentNode:t),ac(function(){ux(e,l,n,r)}),l}function hx(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=xy(s);a.call(l)}}ux(e,s,t,i)}else s=qz(n,e,t,i,r);return xy(s)}PM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nf(e.pendingLanes);n!==0&&(cE(e,n|1),gi(e,Dn()),!(kt&6)&&(zu=Dn()+500,pl()))}break;case 13:ac(function(){var r=Ys(t,1);if(r!==null){var i=ti();Io(r,t,1,i)}}),UE(t,1)}};uE=function(t){if(t.tag===13){var e=Ys(t,134217728);if(e!==null){var n=ti();Io(e,t,134217728,n)}UE(t,134217728)}};AM=function(t){if(t.tag===13){var e=qa(t),n=Ys(t,e);if(n!==null){var r=ti();Io(n,t,e,r)}UE(t,e)}};CM=function(){return Gt};NM=function(t,e){var n=Gt;try{return Gt=t,e()}finally{Gt=n}};Hw=function(t,e,n){switch(e){case"input":if(Lw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rx(r);if(!i)throw Error(ge(90));sM(r),Lw(r,i)}}}break;case"textarea":lM(t,n);break;case"select":e=n.value,e!=null&&du(t,!!n.multiple,e,!1)}};mM=$E;gM=ac;var Gz={usingClientEntryPoint:!1,Events:[Dp,tu,rx,hM,pM,$E]},hf={findFiberByHostInstance:Rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kz={bundleType:hf.bundleType,version:hf.version,rendererPackageName:hf.rendererPackageName,rendererConfig:hf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xM(t),t===null?null:t.stateNode},findFiberByHostInstance:hf.findFiberByHostInstance||Hz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fm.isDisabled&&Fm.supportsFiber)try{Zv=Fm.inject(Kz),ss=Fm}catch{}}$i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gz;$i.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WE(e))throw Error(ge(200));return Wz(t,e,null,n)};$i.createRoot=function(t,e){if(!WE(t))throw Error(ge(299));var n=!1,r="",i=QD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=BE(t,1,!1,null,null,n,!1,r,i),t[Ks]=e.current,vh(t.nodeType===8?t.parentNode:t),new zE(e)};$i.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):(t=Object.keys(t).join(","),Error(ge(268,t)));return t=xM(e),t=t===null?null:t.stateNode,t};$i.flushSync=function(t){return ac(t)};$i.hydrate=function(t,e,n){if(!fx(e))throw Error(ge(200));return hx(null,t,e,!0,n)};$i.hydrateRoot=function(t,e,n){if(!WE(t))throw Error(ge(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=QD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=XD(e,null,t,1,n??null,i,!1,o,s),t[Ks]=e.current,vh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dx(e)};$i.render=function(t,e,n){if(!fx(e))throw Error(ge(200));return hx(null,t,e,!1,n)};$i.unmountComponentAtNode=function(t){if(!fx(t))throw Error(ge(40));return t._reactRootContainer?(ac(function(){hx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ks]=null})}),!0):!1};$i.unstable_batchedUpdates=$E;$i.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fx(n))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return hx(t,e,n,!1,r)};$i.version="18.3.1-next-f1338f8080-20240426";function JD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JD)}catch(t){console.error(t)}}JD(),JR.exports=$i;var Ec=JR.exports;const Yz=nn(Ec);var ZD,fN=Ec;ZD=fN.createRoot,fN.hydrateRoot;function Xz(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var e$={exports:{}},t$={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=S;function Qz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jz=typeof Object.is=="function"?Object.is:Qz,Zz=Wu.useState,e7=Wu.useEffect,t7=Wu.useLayoutEffect,n7=Wu.useDebugValue;function r7(t,e){var n=e(),r=Zz({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return t7(function(){i.value=n,i.getSnapshot=e,Pb(i)&&o({inst:i})},[t,n,e]),e7(function(){return Pb(i)&&o({inst:i}),t(function(){Pb(i)&&o({inst:i})})},[t]),n7(n),n}function Pb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jz(t,n)}catch{return!0}}function i7(t,e){return e()}var o7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i7:r7;t$.useSyncExternalStore=Wu.useSyncExternalStore!==void 0?Wu.useSyncExternalStore:o7;e$.exports=t$;var s7=e$.exports;const a7=XR.useInsertionEffect,l7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",c7=l7?S.useLayoutEffect:S.useEffect,u7=a7||c7,n$=t=>{const e=S.useRef([t,(...n)=>e[0](...n)]).current;return u7(()=>{e[0]=t}),e[1]},d7="popstate",HE="pushState",qE="replaceState",f7="hashchange",hN=[d7,HE,qE,f7],h7=t=>{for(const e of hN)addEventListener(e,t);return()=>{for(const e of hN)removeEventListener(e,t)}},r$=(t,e)=>s7.useSyncExternalStore(h7,t,e),p7=()=>location.search,m7=({ssrSearch:t=""}={})=>r$(p7,()=>t),pN=()=>location.pathname,g7=({ssrPath:t}={})=>r$(pN,t?()=>t:pN),y7=(t,{replace:e=!1,state:n=null}={})=>history[e?qE:HE](n,"",t),v7=(t={})=>[g7(t),y7],mN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[mN]>"u"){for(const t of[HE,qE]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,mN,{value:!0})}const x7=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",i$=(t="")=>t==="/"?"":t,b7=(t,e)=>t[0]==="~"?t.slice(1):i$(e)+t,w7=(t="",e)=>x7(gN(i$(t)),gN(e)),gN=t=>{try{return decodeURI(t)}catch{return t}},o$={hook:v7,searchHook:m7,parser:Xz,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},s$=S.createContext(o$),Lp=()=>S.useContext(s$),a$={},l$=S.createContext(a$),S7=()=>S.useContext(l$),px=t=>{const[e,n]=t.hook(t);return[w7(t.base,e),n$((r,i)=>n(b7(r,t.base),i))]},ml=()=>px(Lp()),c$=(t,e,n,r)=>{const{pattern:i,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),s=i.exec(n)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const c=o!==!1?Object.fromEntries(o.map((f,h)=>[f,l[h]])):s.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},u$=({children:t,...e})=>{var d,f;const n=Lp(),r=e.hook?o$:n;let i=r;const[o,s]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=o),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=S.useRef({}),l=a.current,c=l;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&m!==c[h]&&(a.current=c={...c}),c[h]=m,m!==r[h]&&(i=c)}return S.createElement(s$.Provider,{value:i,children:t})},yN=({children:t,component:e},n)=>e?S.createElement(e,{params:n}):typeof t=="function"?t(n):t,_7=t=>{let e=S.useRef(a$),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},As=({path:t,nest:e,match:n,...r})=>{const i=Lp(),[o]=px(i),[s,a,l]=n??c$(i.parser,t,o,e),c=_7({...S7(),...a});if(!s)return null;const d=l?S.createElement(u$,{base:l},yN(r,c)):yN(r,c);return S.createElement(l$.Provider,{value:c,children:d})};S.forwardRef((t,e)=>{const n=Lp(),[r,i]=px(n),{to:o="",href:s=o,onClick:a,asChild:l,children:c,className:d,replace:f,state:h,...m}=t,y=n$(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(s,t)))}),g=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&S.isValidElement(c)?S.cloneElement(c,{onClick:y,href:g}):S.createElement("a",{...m,onClick:y,href:g,className:d!=null&&d.call?d(r===s):d,children:c,ref:e})});const d$=t=>Array.isArray(t)?t.flatMap(e=>d$(e&&e.type===S.Fragment?e.props.children:e)):[t],E7=({children:t,location:e})=>{const n=Lp(),[r]=px(n);for(const i of d$(t)){let o=0;if(S.isValidElement(i)&&(o=c$(n.parser,i.props.path,e||r,i.props.nest))[0])return S.cloneElement(i,{match:o})}return null};var mx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gx=typeof window>"u"||"Deno"in globalThis;function vo(){}function T7(t,e){return typeof t=="function"?t(e):t}function P7(t){return typeof t=="number"&&t>=0&&t!==1/0}function A7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vN(t,e){return typeof t=="function"?t(e):t}function C7(t,e){return typeof t=="function"?t(e):t}function xN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==GE(s,e.options))return!1}else if(!Ch(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function bN(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ah(e.options.mutationKey)!==Ah(o))return!1}else if(!Ch(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function GE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ah)(t)}function Ah(t){return JSON.stringify(t,(e,n)=>E1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ch(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ch(t[n],e[n])):!1}function f$(t,e){if(t===e)return t;const n=wN(t)&&wN(e);if(n||E1(t)&&E1(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let c=0;c<s;c++){const d=n?c:o[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=f$(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function wN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function E1(t){if(!SN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!SN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function SN(t){return Object.prototype.toString.call(t)==="[object Object]"}function N7(t){return new Promise(e=>{setTimeout(e,t)})}function j7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?f$(t,e):e}function I7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function k7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var KE=Symbol();function h$(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===KE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Hl,Na,Cu,kR,O7=(kR=class extends mx{constructor(){super();Ut(this,Hl);Ut(this,Na);Ut(this,Cu);ht(this,Cu,e=>{if(!gx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ae(this,Na)||this.setEventListener(ae(this,Cu))}onUnsubscribe(){var e;this.hasListeners()||((e=ae(this,Na))==null||e.call(this),ht(this,Na,void 0))}setEventListener(e){var n;ht(this,Cu,e),(n=ae(this,Na))==null||n.call(this),ht(this,Na,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ae(this,Hl)!==e&&(ht(this,Hl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ae(this,Hl)=="boolean"?ae(this,Hl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Hl=new WeakMap,Na=new WeakMap,Cu=new WeakMap,kR),p$=new O7,Nu,ja,ju,OR,R7=(OR=class extends mx{constructor(){super();Ut(this,Nu,!0);Ut(this,ja);Ut(this,ju);ht(this,ju,e=>{if(!gx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ae(this,ja)||this.setEventListener(ae(this,ju))}onUnsubscribe(){var e;this.hasListeners()||((e=ae(this,ja))==null||e.call(this),ht(this,ja,void 0))}setEventListener(e){var n;ht(this,ju,e),(n=ae(this,ja))==null||n.call(this),ht(this,ja,e(this.setOnline.bind(this)))}setOnline(e){ae(this,Nu)!==e&&(ht(this,Nu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ae(this,Nu)}},Nu=new WeakMap,ja=new WeakMap,ju=new WeakMap,OR),by=new R7;function M7(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function D7(t){return Math.min(1e3*2**t,3e4)}function m$(t){return(t??"online")==="online"?by.isOnline():!0}var g$=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ab(t){return t instanceof g$}function y$(t){let e=!1,n=0,r=!1,i;const o=M7(),s=g=>{var v;r||(h(new g$(g)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>p$.isFocused()&&(t.networkMode==="always"||by.isOnline())&&t.canRun(),d=()=>m$(t.networkMode)&&t.canRun(),f=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),o.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),o.reject(g))},m=()=>new Promise(g=>{var v;i=x=>{(r||c())&&g(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var C;if(r)return;const b=t.retry??(gx?0:3),w=t.retryDelay??D7,A=typeof w=="function"?w(n,x):w,E=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(e||!E){h(x);return}n++,(C=t.onFail)==null||C.call(t,n,x),N7(A).then(()=>c()?void 0:m()).then(()=>{e?h(x):y()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),o)}}function $7(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Jr=$7(),ql,RR,v$=(RR=class{constructor(){Ut(this,ql)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),P7(this.gcTime)&&ht(this,ql,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(gx?1/0:5*60*1e3))}clearGcTimeout(){ae(this,ql)&&(clearTimeout(ae(this,ql)),ht(this,ql,void 0))}},ql=new WeakMap,RR),Iu,ku,Gi,$r,Ip,Gl,xo,Is,MR,L7=(MR=class extends v${constructor(n){super();Ut(this,xo);Ut(this,Iu);Ut(this,ku);Ut(this,Gi);Ut(this,$r);Ut(this,Ip);Ut(this,Gl);ht(this,Gl,!1),ht(this,Ip,n.defaultOptions),this.setOptions(n.options),this.observers=[],ht(this,Gi,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ht(this,Iu,V7(this.options)),this.state=n.state??ae(this,Iu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=ae(this,$r))==null?void 0:n.promise}setOptions(n){this.options={...ae(this,Ip),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,Gi).remove(this)}setData(n,r){const i=j7(this.state.data,n,this.options);return Or(this,xo,Is).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Or(this,xo,Is).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=ae(this,$r))==null?void 0:i.promise;return(o=ae(this,$r))==null||o.cancel(n),r?r.then(vo).catch(vo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,Iu))}isActive(){return this.observers.some(n=>C7(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===KE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!A7(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=ae(this,$r))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=ae(this,$r))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),ae(this,Gi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(ae(this,$r)&&(ae(this,Gl)?ae(this,$r).cancel({revert:!0}):ae(this,$r).cancelRetry()),this.scheduleGc()),ae(this,Gi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Or(this,xo,Is).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ae(this,$r))return ae(this,$r).continueRetry(),ae(this,$r).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ht(this,Gl,!0),i.signal)})},s=()=>{const h=h$(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return o(m),ht(this,Gl,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(a),(c=this.options.behavior)==null||c.onFetch(a,this),ht(this,ku,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Or(this,xo,Is).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,y,g,v;Ab(h)&&h.silent||Or(this,xo,Is).call(this,{type:"error",error:h}),Ab(h)||((y=(m=ae(this,Gi).config).onError)==null||y.call(m,h,this),(v=(g=ae(this,Gi).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return ht(this,$r,y$({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,y,g,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(y=(m=ae(this,Gi).config).onSuccess)==null||y.call(m,h,this),(v=(g=ae(this,Gi).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Or(this,xo,Is).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Or(this,xo,Is).call(this,{type:"pause"})},onContinue:()=>{Or(this,xo,Is).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),ae(this,$r).start()}},Iu=new WeakMap,ku=new WeakMap,Gi=new WeakMap,$r=new WeakMap,Ip=new WeakMap,Gl=new WeakMap,xo=new WeakSet,Is=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...F7(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return Ab(o)&&o.revert&&ae(this,ku)?{...ae(this,ku),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Jr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ae(this,Gi).notify({query:this,type:"updated",action:n})})},MR);function F7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:m$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function V7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xo,DR,B7=(DR=class extends mx{constructor(e={}){super();Ut(this,Xo);this.config=e,ht(this,Xo,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??GE(i,n);let s=this.get(o);return s||(s=new L7({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){ae(this,Xo).has(e.queryHash)||(ae(this,Xo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ae(this,Xo).get(e.queryHash);n&&(e.destroy(),n===e&&ae(this,Xo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ae(this,Xo).get(e)}getAll(){return[...ae(this,Xo).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>xN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>xN(e,r)):n}notify(e){Jr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Jr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xo=new WeakMap,DR),Qo,Xr,Kl,Jo,ba,$R,U7=($R=class extends v${constructor(n){super();Ut(this,Jo);Ut(this,Qo);Ut(this,Xr);Ut(this,Kl);this.mutationId=n.mutationId,ht(this,Xr,n.mutationCache),ht(this,Qo,[]),this.state=n.state||z7(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){ae(this,Qo).includes(n)||(ae(this,Qo).push(n),this.clearGcTimeout(),ae(this,Xr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ht(this,Qo,ae(this,Qo).filter(r=>r!==n)),this.scheduleGc(),ae(this,Xr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){ae(this,Qo).length||(this.state.status==="pending"?this.scheduleGc():ae(this,Xr).remove(this))}continue(){var n;return((n=ae(this,Kl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,s,a,l,c,d,f,h,m,y,g,v,x,b,w,A,E,C,_,T;ht(this,Kl,y$({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{Or(this,Jo,ba).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{Or(this,Jo,ba).call(this,{type:"pause"})},onContinue:()=>{Or(this,Jo,ba).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,Xr).canRun(this)}));const r=this.state.status==="pending",i=!ae(this,Kl).canStart();try{if(!r){Or(this,Jo,ba).call(this,{type:"pending",variables:n,isPaused:i}),await((s=(o=ae(this,Xr).config).onMutate)==null?void 0:s.call(o,n,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));k!==this.state.context&&Or(this,Jo,ba).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const N=await ae(this,Kl).start();return await((d=(c=ae(this,Xr).config).onSuccess)==null?void 0:d.call(c,N,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,n,this.state.context)),await((y=(m=ae(this,Xr).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,n,this.state.context)),Or(this,Jo,ba).call(this,{type:"success",data:N}),N}catch(N){try{throw await((b=(x=ae(this,Xr).config).onError)==null?void 0:b.call(x,N,n,this.state.context,this)),await((A=(w=this.options).onError)==null?void 0:A.call(w,N,n,this.state.context)),await((C=(E=ae(this,Xr).config).onSettled)==null?void 0:C.call(E,void 0,N,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,N,n,this.state.context)),N}finally{Or(this,Jo,ba).call(this,{type:"error",error:N})}}finally{ae(this,Xr).runNext(this)}}},Qo=new WeakMap,Xr=new WeakMap,Kl=new WeakMap,Jo=new WeakSet,ba=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jr.batch(()=>{ae(this,Qo).forEach(i=>{i.onMutationUpdate(n)}),ae(this,Xr).notify({mutation:this,type:"updated",action:n})})},$R);function z7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ai,kp,LR,W7=(LR=class extends mx{constructor(e={}){super();Ut(this,Ai);Ut(this,kp);this.config=e,ht(this,Ai,new Map),ht(this,kp,Date.now())}build(e,n,r){const i=new U7({mutationCache:this,mutationId:++wm(this,kp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Vm(e),r=ae(this,Ai).get(n)??[];r.push(e),ae(this,Ai).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Vm(e);if(ae(this,Ai).has(n)){const i=(r=ae(this,Ai).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?ae(this,Ai).delete(n):ae(this,Ai).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ae(this,Ai).get(Vm(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ae(this,Ai).get(Vm(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Jr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ae(this,Ai).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>bN(n,r))}findAll(e={}){return this.getAll().filter(n=>bN(e,n))}notify(e){Jr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Jr.batch(()=>Promise.all(e.map(n=>n.continue().catch(vo))))}},Ai=new WeakMap,kp=new WeakMap,LR);function Vm(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function _N(t){return{onFetch:(e,n)=>{var d,f,h,m,y;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],s=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=h$(e.options,e.fetchOptions),b=async(w,A,E)=>{if(g)return Promise.reject();if(A==null&&w.pages.length)return Promise.resolve(w);const C={queryKey:e.queryKey,pageParam:A,direction:E?"backward":"forward",meta:e.options.meta};v(C);const _=await x(C),{maxPages:T}=e.options,N=E?k7:I7;return{pages:N(w.pages,_,T),pageParams:N(w.pageParams,A,T)}};if(i&&o.length){const w=i==="backward",A=w?H7:EN,E={pages:o,pageParams:s},C=A(r,E);a=await b(E,C,w)}else{const w=t??o.length;do{const A=l===0?s[0]??r.initialPageParam:EN(r,a);if(l>0&&A==null)break;a=await b(a,A),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function EN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function H7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nn,Ia,ka,Ou,Ru,Oa,Mu,Du,FR,q7=(FR=class{constructor(t={}){Ut(this,Nn);Ut(this,Ia);Ut(this,ka);Ut(this,Ou);Ut(this,Ru);Ut(this,Oa);Ut(this,Mu);Ut(this,Du);ht(this,Nn,t.queryCache||new B7),ht(this,Ia,t.mutationCache||new W7),ht(this,ka,t.defaultOptions||{}),ht(this,Ou,new Map),ht(this,Ru,new Map),ht(this,Oa,0)}mount(){wm(this,Oa)._++,ae(this,Oa)===1&&(ht(this,Mu,p$.subscribe(async t=>{t&&(await this.resumePausedMutations(),ae(this,Nn).onFocus())})),ht(this,Du,by.subscribe(async t=>{t&&(await this.resumePausedMutations(),ae(this,Nn).onOnline())})))}unmount(){var t,e;wm(this,Oa)._--,ae(this,Oa)===0&&((t=ae(this,Mu))==null||t.call(this),ht(this,Mu,void 0),(e=ae(this,Du))==null||e.call(this),ht(this,Du,void 0))}isFetching(t){return ae(this,Nn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ae(this,Ia).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ae(this,Nn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ae(this,Nn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(vN(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ae(this,Nn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ae(this,Nn).get(r.queryHash),o=i==null?void 0:i.state.data,s=T7(e,o);if(s!==void 0)return ae(this,Nn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Jr.batch(()=>ae(this,Nn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ae(this,Nn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ae(this,Nn);Jr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ae(this,Nn),r={type:"active",...t};return Jr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Jr.batch(()=>ae(this,Nn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(vo).catch(vo)}invalidateQueries(t={},e={}){return Jr.batch(()=>{if(ae(this,Nn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Jr.batch(()=>ae(this,Nn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(vo)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(vo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ae(this,Nn).build(this,e);return n.isStaleByTime(vN(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vo).catch(vo)}fetchInfiniteQuery(t){return t.behavior=_N(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vo).catch(vo)}ensureInfiniteQueryData(t){return t.behavior=_N(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return by.isOnline()?ae(this,Ia).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,Nn)}getMutationCache(){return ae(this,Ia)}getDefaultOptions(){return ae(this,ka)}setDefaultOptions(t){ht(this,ka,t)}setQueryDefaults(t,e){ae(this,Ou).set(Ah(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ae(this,Ou).values()];let n={};return e.forEach(r=>{Ch(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ae(this,Ru).set(Ah(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ae(this,Ru).values()];let n={};return e.forEach(r=>{Ch(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ae(this,ka).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=GE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===KE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ae(this,ka).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ae(this,Nn).clear(),ae(this,Ia).clear()}},Nn=new WeakMap,Ia=new WeakMap,ka=new WeakMap,Ou=new WeakMap,Ru=new WeakMap,Oa=new WeakMap,Mu=new WeakMap,Du=new WeakMap,FR),G7=S.createContext(void 0),K7=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(G7.Provider,{value:t,children:e}));async function Y7(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const X7=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await Y7(n),await n.json())},Q7=new q7({defaultOptions:{queries:{queryFn:X7({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),J7=1,Z7=1e6;let Cb=0;function eW(){return Cb=(Cb+1)%Number.MAX_SAFE_INTEGER,Cb.toString()}const Nb=new Map,TN=t=>{if(Nb.has(t))return;const e=setTimeout(()=>{Nb.delete(t),Kf({type:"REMOVE_TOAST",toastId:t})},Z7);Nb.set(t,e)},tW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,J7)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?TN(n):t.toasts.forEach(r=>{TN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},kg=[];let Og={toasts:[]};function Kf(t){Og=tW(Og,t),kg.forEach(e=>{e(Og)})}function nW({...t}){const e=eW(),n=i=>Kf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Kf({type:"DISMISS_TOAST",toastId:e});return Kf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Cd(){const[t,e]=S.useState(Og);return S.useEffect(()=>(kg.push(e),()=>{const n=kg.indexOf(e);n>-1&&kg.splice(n,1)}),[t]),{...t,toast:nW,dismiss:n=>Kf({type:"DISMISS_TOAST",toastId:n})}}function De(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function PN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function x$(...t){return e=>{let n=!1;const r=t.map(i=>{const o=PN(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():PN(t[i],null)}}}}function pt(...t){return S.useCallback(x$(...t),t)}function rW(t,e){const n=S.createContext(e),r=o=>{const{children:s,...a}=o,l=S.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=S.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Fi(t,e=[]){let n=[];function r(o,s){const a=S.createContext(s),l=n.length;n=[...n,s];const c=f=>{var x;const{scope:h,children:m,...y}=f,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,v=S.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:v,children:m})};c.displayName=o+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=S.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=n.map(s=>S.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,iW(i,...e)]}function iW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Hu(t){const e=sW(t),n=S.forwardRef((r,i)=>{const{children:o,...s}=r,a=S.Children.toArray(o),l=a.find(lW);if(l){const c=l.props.children,d=a.map(f=>f===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...s,ref:i,children:S.isValidElement(c)?S.cloneElement(c,void 0,d):null})}return u.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var oW=Hu("Slot");function sW(t){const e=S.forwardRef((n,r)=>{const{children:i,...o}=n;if(S.isValidElement(i)){const s=uW(i),a=cW(o,i.props);return i.type!==S.Fragment&&(a.ref=r?x$(r,s):s),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var b$=Symbol("radix.slottable");function aW(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=b$,e}function lW(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===b$}function cW(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function uW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Fp(t){const e=t+"CollectionProvider",[n,r]=Fi(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:v,children:x}=g,b=q.useRef(null),w=q.useRef(new Map).current;return u.jsx(i,{scope:v,itemMap:w,collectionRef:b,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=Hu(a),c=q.forwardRef((g,v)=>{const{scope:x,children:b}=g,w=o(a,x),A=pt(v,w.collectionRef);return u.jsx(l,{ref:A,children:b})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Hu(d),m=q.forwardRef((g,v)=>{const{scope:x,children:b,...w}=g,A=q.useRef(null),E=pt(v,A),C=o(d,x);return q.useEffect(()=>(C.itemMap.set(A,{ref:A,...w}),()=>void C.itemMap.delete(A))),u.jsx(h,{[f]:"",ref:E,children:b})});m.displayName=d;function y(g){const v=o(t+"CollectionConsumer",g);return q.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((C,_)=>w.indexOf(C.ref.current)-w.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:c,ItemSlot:m},y,r]}var dW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ke=dW.reduce((t,e)=>{const n=Hu(`Primitive.${e}`),r=S.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function w$(t,e){t&&Ec.flushSync(()=>t.dispatchEvent(e))}function $n(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function fW(t,e=globalThis==null?void 0:globalThis.document){const n=$n(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var hW="DismissableLayer",T1="dismissableLayer.update",pW="dismissableLayer.pointerDownOutside",mW="dismissableLayer.focusOutside",AN,S$=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vp=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=S.useContext(S$),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),y=pt(e,_=>f(_)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),b=d?g.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,A=b>=x,E=yW(_=>{const T=_.target,N=[...c.branches].some(k=>k.contains(T));!A||N||(i==null||i(_),s==null||s(_),_.defaultPrevented||a==null||a())},h),C=vW(_=>{const T=_.target;[...c.branches].some(k=>k.contains(T))||(o==null||o(_),s==null||s(_),_.defaultPrevented||a==null||a())},h);return fW(_=>{b===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},h),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(AN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),CN(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=AN)}},[d,h,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),CN())},[d,c]),S.useEffect(()=>{const _=()=>m({});return document.addEventListener(T1,_),()=>document.removeEventListener(T1,_)},[]),u.jsx(Ke.div,{...l,ref:y,style:{pointerEvents:w?A?"auto":"none":void 0,...t.style},onFocusCapture:De(t.onFocusCapture,C.onFocusCapture),onBlurCapture:De(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:De(t.onPointerDownCapture,E.onPointerDownCapture)})});Vp.displayName=hW;var gW="DismissableLayerBranch",_$=S.forwardRef((t,e)=>{const n=S.useContext(S$),r=S.useRef(null),i=pt(e,r);return S.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(Ke.div,{...t,ref:i})});_$.displayName=gW;function yW(t,e=globalThis==null?void 0:globalThis.document){const n=$n(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){E$(pW,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function vW(t,e=globalThis==null?void 0:globalThis.document){const n=$n(t),r=S.useRef(!1);return S.useEffect(()=>{const i=o=>{o.target&&!r.current&&E$(mW,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CN(){const t=new CustomEvent(T1);document.dispatchEvent(t)}function E$(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?w$(i,o):i.dispatchEvent(o)}var xW=Vp,bW=_$,br=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},wW="Portal",yx=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=S.useState(!1);br(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?Yz.createPortal(u.jsx(Ke.div,{...r,ref:e}),s):null});yx.displayName=wW;function SW(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var lo=t=>{const{present:e,children:n}=t,r=_W(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),o=pt(r.ref,EW(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:o}):null};lo.displayName="Presence";function _W(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),o=S.useRef("none"),s=t?"mounted":"unmounted",[a,l]=SW(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=Bm(r.current);o.current=a==="mounted"?c:"none"},[a]),br(()=>{const c=r.current,d=i.current;if(d!==t){const h=o.current,m=Bm(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),br(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const g=Bm(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(o.current=Bm(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Bm(t){return(t==null?void 0:t.animationName)||"none"}function EW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Do({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=TW({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=$n(n),l=S.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function TW({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),o=$n(e);return S.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var PW="VisuallyHidden",Bp=S.forwardRef((t,e)=>u.jsx(Ke.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Bp.displayName=PW;var AW=Bp,YE="ToastProvider",[XE,CW,NW]=Fp("Toast"),[T$,Bje]=Fi("Toast",[NW]),[jW,vx]=T$(YE),P$=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=S.useState(null),[c,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${YE}\`. Expected non-empty \`string\`.`),u.jsx(XE.Provider,{scope:e,children:u.jsx(jW,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:S.useCallback(()=>d(m=>m+1),[]),onToastRemove:S.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};P$.displayName=YE;var A$="ToastViewport",IW=["F8"],P1="toast.viewportPause",A1="toast.viewportResume",C$=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=IW,label:i="Notifications ({hotkey})",...o}=t,s=vx(A$,n),a=CW(n),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=pt(e,f,s.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=s.toastCount>0;S.useEffect(()=>{const v=x=>{var w;r.length!==0&&r.every(A=>x[A]||x.code===A)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),S.useEffect(()=>{const v=l.current,x=f.current;if(y&&v&&x){const b=()=>{if(!s.isClosePausedRef.current){const C=new CustomEvent(P1);x.dispatchEvent(C),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const C=new CustomEvent(A1);x.dispatchEvent(C),s.isClosePausedRef.current=!1}},A=C=>{!v.contains(C.relatedTarget)&&w()},E=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",A),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",E),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",A),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[y,s.isClosePausedRef]);const g=S.useCallback(({tabbingDirection:v})=>{const b=a().map(w=>{const A=w.ref.current,E=[A,...WW(A)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?b.reverse():b).flat()},[a]);return S.useEffect(()=>{const v=f.current;if(v){const x=b=>{var E,C,_;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const T=document.activeElement,N=b.shiftKey;if(b.target===v&&N){(E=c.current)==null||E.focus();return}const R=g({tabbingDirection:N?"backwards":"forwards"}),O=R.findIndex($=>$===T);jb(R.slice(O+1))?b.preventDefault():N?(C=c.current)==null||C.focus():(_=d.current)==null||_.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[a,g]),u.jsxs(bW,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&u.jsx(C1,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});jb(v)}}),u.jsx(XE.Slot,{scope:n,children:u.jsx(Ke.ol,{tabIndex:-1,...o,ref:h})}),y&&u.jsx(C1,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});jb(v)}})]})});C$.displayName=A$;var N$="ToastFocusProxy",C1=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=vx(N$,n);return u.jsx(Bp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});C1.displayName=N$;var xx="Toast",kW="toast.swipeStart",OW="toast.swipeMove",RW="toast.swipeCancel",MW="toast.swipeEnd",j$=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=Do({prop:r,defaultProp:i,onChange:o});return u.jsx(lo,{present:n||a,children:u.jsx(LW,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:$n(t.onPause),onResume:$n(t.onResume),onSwipeStart:De(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:De(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:De(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:De(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});j$.displayName=xx;var[DW,$W]=T$(xx,{onClose(){}}),LW=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=t,g=vx(xx,n),[v,x]=S.useState(null),b=pt(e,$=>x($)),w=S.useRef(null),A=S.useRef(null),E=i||g.duration,C=S.useRef(0),_=S.useRef(E),T=S.useRef(0),{onToastAdd:N,onToastRemove:k}=g,j=$n(()=>{var F;(v==null?void 0:v.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),s()}),R=S.useCallback($=>{!$||$===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(j,$))},[j]);S.useEffect(()=>{const $=g.viewport;if($){const F=()=>{R(_.current),c==null||c()},U=()=>{const H=new Date().getTime()-C.current;_.current=_.current-H,window.clearTimeout(T.current),l==null||l()};return $.addEventListener(P1,U),$.addEventListener(A1,F),()=>{$.removeEventListener(P1,U),$.removeEventListener(A1,F)}}},[g.viewport,E,l,c,R]),S.useEffect(()=>{o&&!g.isClosePausedRef.current&&R(E)},[o,E,g.isClosePausedRef,R]),S.useEffect(()=>(N(),()=>k()),[N,k]);const O=S.useMemo(()=>v?$$(v):null,[v]);return g.viewport?u.jsxs(u.Fragment,{children:[O&&u.jsx(FW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),u.jsx(DW,{scope:n,onClose:j,children:Ec.createPortal(u.jsx(XE.ItemSlot,{scope:n,children:u.jsx(xW,{asChild:!0,onEscapeKeyDown:De(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:De(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:De(t.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:De(t.onPointerMove,$=>{if(!w.current)return;const F=$.clientX-w.current.x,U=$.clientY-w.current.y,H=!!A.current,V=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,X=V?L(0,F):0,Y=V?0:L(0,U),te=$.pointerType==="touch"?10:2,ye={x:X,y:Y},Ce={originalEvent:$,delta:ye};H?(A.current=ye,Um(OW,f,Ce,{discrete:!1})):NN(ye,g.swipeDirection,te)?(A.current=ye,Um(kW,d,Ce,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(F)>te||Math.abs(U)>te)&&(w.current=null)}),onPointerUp:De(t.onPointerUp,$=>{const F=A.current,U=$.target;if(U.hasPointerCapture($.pointerId)&&U.releasePointerCapture($.pointerId),A.current=null,w.current=null,F){const H=$.currentTarget,V={originalEvent:$,delta:F};NN(F,g.swipeDirection,g.swipeThreshold)?Um(MW,m,V,{discrete:!0}):Um(RW,h,V,{discrete:!0}),H.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),FW=t=>{const{__scopeToast:e,children:n,...r}=t,i=vx(xx,e),[o,s]=S.useState(!1),[a,l]=S.useState(!1);return UW(()=>s(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(yx,{asChild:!0,children:u.jsx(Bp,{...r,children:o&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},VW="ToastTitle",I$=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ke.div,{...r,ref:e})});I$.displayName=VW;var BW="ToastDescription",k$=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ke.div,{...r,ref:e})});k$.displayName=BW;var O$="ToastAction",R$=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(D$,{altText:n,asChild:!0,children:u.jsx(QE,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${O$}\`. Expected non-empty \`string\`.`),null)});R$.displayName=O$;var M$="ToastClose",QE=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=$W(M$,n);return u.jsx(D$,{asChild:!0,children:u.jsx(Ke.button,{type:"button",...r,ref:e,onClick:De(t.onClick,i.onClose)})})});QE.displayName=M$;var D$=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function $$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),zW(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...$$(r))}}),e}function Um(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?w$(i,o):i.dispatchEvent(o)}var NN=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function UW(t=()=>{}){const e=$n(t);br(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function zW(t){return t.nodeType===t.ELEMENT_NODE}function WW(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jb(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var HW=P$,L$=C$,F$=j$,V$=I$,B$=k$,U$=R$,z$=QE;function W$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=W$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=W$(t))&&(r&&(r+=" "),r+=e);return r}const jN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,IN=At,bx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return IN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const h=jN(d)||jN(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...c,f,h]:c},[]);return IN(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H$=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>S.createElement("svg",{ref:l,...GW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:H$("lucide",i),...a},[...s.map(([c,d])=>S.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const n=S.forwardRef(({className:r,...i},o)=>S.createElement(KW,{ref:o,iconNode:e,className:H$(`lucide-${qW(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=Be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=Be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Be("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Be("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=Be("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Be("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Be("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=Be("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Be("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Be("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=Be("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Be("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Be("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Be("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),tT="-",wH=t=>{const e=_H(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(tT);return a[0]===""&&a.length!==1&&a.shift(),J$(a,e)||SH(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},J$=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?J$(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(tT);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},DN=/^\[(.+)\]$/,SH=t=>{if(DN.test(t)){const e=DN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_H=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return TH(Object.entries(t.classGroups),n).forEach(([o,s])=>{O1(s,r,o,e)}),r},O1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:$N(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(EH(i)){O1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{O1(s,$N(e,o),n,r)})})},$N=(t,e)=>{let n=t;return e.split(tT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},EH=t=>t.isThemeGetter,TH=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,PH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},Z$="!",AH=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,d=0,f;for(let v=0;v<a.length;v++){let x=a[v];if(c===0){if(x===i&&(r||a.slice(v,v+o)===e)){l.push(a.slice(d,v)),d=v+o;continue}if(x==="/"){f=v;continue}}x==="["?c++:x==="]"&&c--}const h=l.length===0?a:a.substring(d),m=h.startsWith(Z$),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},CH=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},NH=t=>({cache:PH(t.cacheSize),parseClassName:AH(t),...wH(t)}),jH=/\s+/,IH=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(jH);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let y=!!m,g=r(y?h.substring(0,m):h);if(!g){if(!y){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}y=!1}const v=CH(d).join(":"),x=f?v+Z$:v,b=x+g;if(o.includes(b))continue;o.push(b);const w=i(g,y);for(let A=0;A<w.length;++A){const E=w[A];o.push(x+E)}a=c+(a.length>0?" "+a:a)}return a};function kH(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eL(e))&&(r&&(r+=" "),r+=n);return r}const eL=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eL(t[r]))&&(n&&(n+=" "),n+=e);return n};function OH(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return n=NH(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=IH(l,n);return i(l,d),d}return function(){return o(kH.apply(null,arguments))}}const an=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tL=/^\[(?:([a-z-]+):)?(.+)\]$/i,RH=/^\d+\/\d+$/,MH=new Set(["px","full","screen"]),DH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$H=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cs=t=>yu(t)||MH.has(t)||RH.test(t),ya=t=>Nd(t,"length",KH),yu=t=>!!t&&!Number.isNaN(Number(t)),Ib=t=>Nd(t,"number",yu),pf=t=>!!t&&Number.isInteger(Number(t)),BH=t=>t.endsWith("%")&&yu(t.slice(0,-1)),ut=t=>tL.test(t),va=t=>DH.test(t),UH=new Set(["length","size","percentage"]),zH=t=>Nd(t,UH,nL),WH=t=>Nd(t,"position",nL),HH=new Set(["image","url"]),qH=t=>Nd(t,HH,XH),GH=t=>Nd(t,"",YH),mf=()=>!0,Nd=(t,e,n)=>{const r=tL.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},KH=t=>$H.test(t)&&!LH.test(t),nL=()=>!1,YH=t=>FH.test(t),XH=t=>VH.test(t),QH=()=>{const t=an("colors"),e=an("spacing"),n=an("blur"),r=an("brightness"),i=an("borderColor"),o=an("borderRadius"),s=an("borderSpacing"),a=an("borderWidth"),l=an("contrast"),c=an("grayscale"),d=an("hueRotate"),f=an("invert"),h=an("gap"),m=an("gradientColorStops"),y=an("gradientColorStopPositions"),g=an("inset"),v=an("margin"),x=an("opacity"),b=an("padding"),w=an("saturate"),A=an("scale"),E=an("sepia"),C=an("skew"),_=an("space"),T=an("translate"),N=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",ut,e],R=()=>[ut,e],O=()=>["",Cs,ya],$=()=>["auto",yu,ut],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ut],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[yu,ut];return{cacheSize:500,separator:":",theme:{colors:[mf],spacing:[Cs,ya],blur:["none","",va,ut],brightness:Y(),borderColor:[t],borderRadius:["none","","full",va,ut],borderSpacing:R(),borderWidth:O(),contrast:Y(),grayscale:L(),hueRotate:Y(),invert:L(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[BH,ya],inset:j(),margin:j(),opacity:Y(),padding:R(),saturate:Y(),scale:Y(),sepia:L(),skew:Y(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ut]}],container:["container"],columns:[{columns:[va]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ut]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pf,ut]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ut]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",pf,ut]}],"grid-cols":[{"grid-cols":[mf]}],"col-start-end":[{col:["auto",{span:["full",pf,ut]},ut]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[mf]}],"row-start-end":[{row:["auto",{span:[pf,ut]},ut]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ut]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ut,e]}],"min-w":[{"min-w":[ut,e,"min","max","fit"]}],"max-w":[{"max-w":[ut,e,"none","full","min","max","fit","prose",{screen:[va]},va]}],h:[{h:[ut,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ut,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ut,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ut,e,"auto","min","max","fit"]}],"font-size":[{text:["base",va,ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ib]}],"font-family":[{font:[mf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ut]}],"line-clamp":[{"line-clamp":["none",yu,Ib]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cs,ut]}],"list-image":[{"list-image":["none",ut]}],"list-style-type":[{list:["none","disc","decimal",ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cs,ya]}],"underline-offset":[{"underline-offset":["auto",Cs,ut]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),WH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Cs,ut]}],"outline-w":[{outline:[Cs,ya]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Cs,ya]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",va,GH]}],"shadow-color":[{shadow:[mf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",va,ut]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ut]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",ut]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[pf,ut]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cs,ya,Ib]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JH=OH(QH);function tt(...t){return JH(At(t))}const ZH=HW,rL=S.forwardRef(({className:t,...e},n)=>u.jsx(L$,{ref:n,className:tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));rL.displayName=L$.displayName;const eq=bx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iL=S.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(F$,{ref:r,className:tt(eq({variant:e}),t),...n}));iL.displayName=F$.displayName;const tq=S.forwardRef(({className:t,...e},n)=>u.jsx(U$,{ref:n,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));tq.displayName=U$.displayName;const oL=S.forwardRef(({className:t,...e},n)=>u.jsx(z$,{ref:n,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Up,{className:"h-4 w-4"})}));oL.displayName=z$.displayName;const sL=S.forwardRef(({className:t,...e},n)=>u.jsx(V$,{ref:n,className:tt("text-sm font-semibold",t),...e}));sL.displayName=V$.displayName;const aL=S.forwardRef(({className:t,...e},n)=>u.jsx(B$,{ref:n,className:tt("text-sm opacity-90",t),...e}));aL.displayName=B$.displayName;function nq(){const{toasts:t}=Cd();return u.jsxs(ZH,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return u.jsxs(iL,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(sL,{children:n}),r&&u.jsx(aL,{children:r})]}),i,u.jsx(oL,{})]},e)}),u.jsx(rL,{})]})}var rq=XR[" useId ".trim().toString()]||(()=>{}),iq=0;function ls(t){const[e,n]=S.useState(rq());return br(()=>{n(r=>r??String(iq++))},[t]),e?`radix-${e}`:""}const oq=["top","right","bottom","left"],rl=Math.min,ji=Math.max,_y=Math.round,Wm=Math.floor,cs=t=>({x:t,y:t}),sq={left:"right",right:"left",bottom:"top",top:"bottom"},aq={start:"end",end:"start"};function R1(t,e,n){return ji(t,rl(e,n))}function Qs(t,e){return typeof t=="function"?t(e):t}function Js(t){return t.split("-")[0]}function jd(t){return t.split("-")[1]}function nT(t){return t==="x"?"y":"x"}function rT(t){return t==="y"?"height":"width"}function il(t){return["top","bottom"].includes(Js(t))?"y":"x"}function iT(t){return nT(il(t))}function lq(t,e,n){n===void 0&&(n=!1);const r=jd(t),i=iT(t),o=rT(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Ey(s)),[s,Ey(s)]}function cq(t){const e=Ey(t);return[M1(t),e,M1(e)]}function M1(t){return t.replace(/start|end/g,e=>aq[e])}function uq(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function dq(t,e,n,r){const i=jd(t);let o=uq(Js(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(M1)))),o}function Ey(t){return t.replace(/left|right|bottom|top/g,e=>sq[e])}function fq(t){return{top:0,right:0,bottom:0,left:0,...t}}function lL(t){return typeof t!="number"?fq(t):{top:t,right:t,bottom:t,left:t}}function Ty(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function LN(t,e,n){let{reference:r,floating:i}=t;const o=il(e),s=iT(e),a=rT(s),l=Js(e),c=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(jd(e)){case"start":m[s]-=h*(n&&c?-1:1);break;case"end":m[s]+=h*(n&&c?-1:1);break}return m}const hq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=LN(c,r,l),h=r,m={},y=0;for(let g=0;g<a.length;g++){const{name:v,fn:x}=a[g],{x:b,y:w,data:A,reset:E}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:t,floating:e}});d=b??d,f=w??f,m={...m,[v]:{...m[v],...A}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=LN(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Oh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Qs(e,t),y=lL(m),v=a[h?f==="floating"?"reference":"floating":f],x=Ty(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),b=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},E=Ty(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:l}):b);return{top:(x.top-E.top+y.top)/A.y,bottom:(E.bottom-x.bottom+y.bottom)/A.y,left:(x.left-E.left+y.left)/A.x,right:(E.right-x.right+y.right)/A.x}}const pq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Qs(t,e)||{};if(c==null)return{};const f=lL(d),h={x:n,y:r},m=iT(i),y=rT(m),g=await s.getDimensions(c),v=m==="y",x=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",A=o.reference[y]+o.reference[m]-h[m]-o.floating[y],E=h[m]-o.reference[m],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let _=C?C[w]:0;(!_||!await(s.isElement==null?void 0:s.isElement(C)))&&(_=a.floating[w]||o.floating[y]);const T=A/2-E/2,N=_/2-g[y]/2-1,k=rl(f[x],N),j=rl(f[b],N),R=k,O=_-g[y]-j,$=_/2-g[y]/2+T,F=R1(R,$,O),U=!l.arrow&&jd(i)!=null&&$!==F&&o.reference[y]/2-($<R?k:j)-g[y]/2<0,H=U?$<R?$-R:$-O:0;return{[m]:h[m]+H,data:{[m]:F,centerOffset:$-F-H,...U&&{alignmentOffset:H}},reset:U}}}),mq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Qs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Js(i),b=il(a),w=Js(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(w||!g?[Ey(a)]:cq(a)),C=y!=="none";!h&&C&&E.push(...dq(a,g,y,A));const _=[a,...E],T=await Oh(e,v),N=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(T[x]),f){const $=lq(i,s,A);N.push(T[$[0]],T[$[1]])}if(k=[...k,{placement:i,overflows:N}],!N.every($=>$<=0)){var j,R;const $=(((j=o.flip)==null?void 0:j.index)||0)+1,F=_[$];if(F)return{data:{index:$,overflows:k},reset:{placement:F}};let U=(R=k.filter(H=>H.overflows[0]<=0).sort((H,V)=>H.overflows[1]-V.overflows[1])[0])==null?void 0:R.placement;if(!U)switch(m){case"bestFit":{var O;const H=(O=k.filter(V=>{if(C){const L=il(V.placement);return L===b||L==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(L=>L>0).reduce((L,X)=>L+X,0)]).sort((V,L)=>V[1]-L[1])[0])==null?void 0:O[0];H&&(U=H);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function FN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function VN(t){return oq.some(e=>t[e]>=0)}const gq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Qs(t,e);switch(r){case"referenceHidden":{const o=await Oh(e,{...i,elementContext:"reference"}),s=FN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:VN(s)}}}case"escaped":{const o=await Oh(e,{...i,altBoundary:!0}),s=FN(o,n.floating);return{data:{escapedOffsets:s,escaped:VN(s)}}}default:return{}}}}};async function yq(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Js(n),a=jd(n),l=il(n)==="y",c=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,f=Qs(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const vq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await yq(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},xq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x,y:b}=v;return{x,y:b}}},...l}=Qs(t,e),c={x:n,y:r},d=await Oh(e,l),f=il(Js(i)),h=nT(f);let m=c[h],y=c[f];if(o){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=m+d[v],w=m-d[x];m=R1(b,m,w)}if(s){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=y+d[v],w=y-d[x];y=R1(b,y,w)}const g=a.fn({...e,[h]:m,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:s}}}}}},bq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Qs(t,e),d={x:n,y:r},f=il(i),h=nT(f);let m=d[h],y=d[f];const g=Qs(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",A=o.reference[h]-o.floating[w]+v.mainAxis,E=o.reference[h]+o.reference[w]-v.mainAxis;m<A?m=A:m>E&&(m=E)}if(c){var x,b;const w=h==="y"?"width":"height",A=["top","left"].includes(Js(i)),E=o.reference[f]-o.floating[w]+(A&&((x=s.offset)==null?void 0:x[f])||0)+(A?0:v.crossAxis),C=o.reference[f]+o.reference[w]+(A?0:((b=s.offset)==null?void 0:b[f])||0)-(A?v.crossAxis:0);y<E?y=E:y>C&&(y=C)}return{[h]:m,[f]:y}}}},wq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Qs(t,e),d=await Oh(e,c),f=Js(i),h=jd(i),m=il(i)==="y",{width:y,height:g}=o.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,w=y-d.left-d.right,A=rl(g-d[v],b),E=rl(y-d[x],w),C=!e.middlewareData.shift;let _=A,T=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=b),C&&!h){const k=ji(d.left,0),j=ji(d.right,0),R=ji(d.top,0),O=ji(d.bottom,0);m?T=y-2*(k!==0||j!==0?k+j:ji(d.left,d.right)):_=g-2*(R!==0||O!==0?R+O:ji(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:_});const N=await s.getDimensions(a.floating);return y!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Sx(){return typeof window<"u"}function Id(t){return cL(t)?(t.nodeName||"").toLowerCase():"#document"}function Ri(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _s(t){var e;return(e=(cL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cL(t){return Sx()?t instanceof Node||t instanceof Ri(t).Node:!1}function $o(t){return Sx()?t instanceof Element||t instanceof Ri(t).Element:!1}function vs(t){return Sx()?t instanceof HTMLElement||t instanceof Ri(t).HTMLElement:!1}function BN(t){return!Sx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ri(t).ShadowRoot}function zp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Lo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Sq(t){return["table","td","th"].includes(Id(t))}function _x(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function oT(t){const e=sT(),n=$o(t)?Lo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _q(t){let e=ol(t);for(;vs(e)&&!qu(e);){if(oT(e))return e;if(_x(e))return null;e=ol(e)}return null}function sT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qu(t){return["html","body","#document"].includes(Id(t))}function Lo(t){return Ri(t).getComputedStyle(t)}function Ex(t){return $o(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ol(t){if(Id(t)==="html")return t;const e=t.assignedSlot||t.parentNode||BN(t)&&t.host||_s(t);return BN(e)?e.host:e}function uL(t){const e=ol(t);return qu(e)?t.ownerDocument?t.ownerDocument.body:t.body:vs(e)&&zp(e)?e:uL(e)}function Rh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=uL(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ri(i);if(o){const a=D1(s);return e.concat(s,s.visualViewport||[],zp(i)?i:[],a&&n?Rh(a):[])}return e.concat(i,Rh(i,[],n))}function D1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dL(t){const e=Lo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=vs(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=_y(n)!==o||_y(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function aT(t){return $o(t)?t:t.contextElement}function vu(t){const e=aT(t);if(!vs(e))return cs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=dL(e);let s=(o?_y(n.width):n.width)/r,a=(o?_y(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Eq=cs(0);function fL(t){const e=Ri(t);return!sT()||!e.visualViewport?Eq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ri(t)?!1:e}function cc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=aT(t);let s=cs(1);e&&(r?$o(r)&&(s=vu(r)):s=vu(t));const a=Tq(o,n,r)?fL(o):cs(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const h=Ri(o),m=r&&$o(r)?Ri(r):r;let y=h,g=D1(y);for(;g&&r&&m!==y;){const v=vu(g),x=g.getBoundingClientRect(),b=Lo(g),w=x.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,A=x.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,f*=v.y,l+=w,c+=A,y=Ri(g),g=D1(y)}}return Ty({width:d,height:f,x:l,y:c})}function lT(t,e){const n=Ex(t).scrollLeft;return e?e.left+n:cc(_s(t)).left+n}function hL(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:lT(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Pq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=_s(r),a=e?_x(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=cs(1);const d=cs(0),f=vs(r);if((f||!f&&!o)&&((Id(r)!=="body"||zp(s))&&(l=Ex(r)),vs(r))){const m=cc(r);c=vu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!o?hL(s,l,!0):cs(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function Aq(t){return Array.from(t.getClientRects())}function Cq(t){const e=_s(t),n=Ex(t),r=t.ownerDocument.body,i=ji(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ji(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+lT(t);const a=-n.scrollTop;return Lo(r).direction==="rtl"&&(s+=ji(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Nq(t,e){const n=Ri(t),r=_s(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=sT();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function jq(t,e){const n=cc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=vs(t)?vu(t):cs(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function UN(t,e,n){let r;if(e==="viewport")r=Nq(t,n);else if(e==="document")r=Cq(_s(t));else if($o(e))r=jq(e,n);else{const i=fL(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ty(r)}function pL(t,e){const n=ol(t);return n===e||!$o(n)||qu(n)?!1:Lo(n).position==="fixed"||pL(n,e)}function Iq(t,e){const n=e.get(t);if(n)return n;let r=Rh(t,[],!1).filter(a=>$o(a)&&Id(a)!=="body"),i=null;const o=Lo(t).position==="fixed";let s=o?ol(t):t;for(;$o(s)&&!qu(s);){const a=Lo(s),l=oT(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||zp(s)&&!l&&pL(t,s))?r=r.filter(d=>d!==s):i=a,s=ol(s)}return e.set(t,r),r}function kq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?_x(e)?[]:Iq(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,d)=>{const f=UN(e,d,i);return c.top=ji(f.top,c.top),c.right=rl(f.right,c.right),c.bottom=rl(f.bottom,c.bottom),c.left=ji(f.left,c.left),c},UN(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Oq(t){const{width:e,height:n}=dL(t);return{width:e,height:n}}function Rq(t,e,n){const r=vs(e),i=_s(e),o=n==="fixed",s=cc(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=cs(0);if(r||!r&&!o)if((Id(e)!=="body"||zp(i))&&(a=Ex(e)),r){const h=cc(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=lT(i));const c=i&&!r&&!o?hL(i,a):cs(0),d=s.left+a.scrollLeft-l.x-c.x,f=s.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function kb(t){return Lo(t).position==="static"}function zN(t,e){if(!vs(t)||Lo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _s(t)===n&&(n=n.ownerDocument.body),n}function mL(t,e){const n=Ri(t);if(_x(t))return n;if(!vs(t)){let i=ol(t);for(;i&&!qu(i);){if($o(i)&&!kb(i))return i;i=ol(i)}return n}let r=zN(t,e);for(;r&&Sq(r)&&kb(r);)r=zN(r,e);return r&&qu(r)&&kb(r)&&!oT(r)?n:r||_q(t)||n}const Mq=async function(t){const e=this.getOffsetParent||mL,n=this.getDimensions,r=await n(t.floating);return{reference:Rq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Dq(t){return Lo(t).direction==="rtl"}const $q={convertOffsetParentRelativeRectToViewportRelativeRect:Pq,getDocumentElement:_s,getClippingRect:kq,getOffsetParent:mL,getElementRects:Mq,getClientRects:Aq,getDimensions:Oq,getScale:vu,isElement:$o,isRTL:Dq};function gL(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Lq(t,e){let n=null,r;const i=_s(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=c;if(a||e(),!h||!m)return;const y=Wm(f),g=Wm(i.clientWidth-(d+h)),v=Wm(i.clientHeight-(f+m)),x=Wm(d),w={rootMargin:-y+"px "+-g+"px "+-v+"px "+-x+"px",threshold:ji(0,rl(1,l))||1};let A=!0;function E(C){const _=C[0].intersectionRatio;if(_!==l){if(!A)return s();_?s(!1,_):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!gL(c,t.getBoundingClientRect())&&s(),A=!1}try{n=new IntersectionObserver(E,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(t)}return s(!0),o}function Fq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=aT(t),d=i||o?[...c?Rh(c):[],...Rh(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=c&&a?Lq(c,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let y,g=l?cc(t):null;l&&v();function v(){const x=cc(t);g&&!gL(g,x)&&n(),g=x,y=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const Vq=vq,Bq=xq,Uq=mq,zq=wq,Wq=gq,WN=pq,Hq=bq,qq=(t,e,n)=>{const r=new Map,i={platform:$q,...n},o={...i.platform,_c:r};return hq(t,e,{...i,platform:o})};var Rg=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Py(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Py(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Py(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function yL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function HN(t,e){const n=yL(t);return Math.round(e*n)/n}function Ob(t){const e=S.useRef(t);return Rg(()=>{e.current=t}),e}function Gq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=S.useState(r);Py(h,r)||m(r);const[y,g]=S.useState(null),[v,x]=S.useState(null),b=S.useCallback(V=>{V!==C.current&&(C.current=V,g(V))},[]),w=S.useCallback(V=>{V!==_.current&&(_.current=V,x(V))},[]),A=o||y,E=s||v,C=S.useRef(null),_=S.useRef(null),T=S.useRef(d),N=l!=null,k=Ob(l),j=Ob(i),R=Ob(c),O=S.useCallback(()=>{if(!C.current||!_.current)return;const V={placement:e,strategy:n,middleware:h};j.current&&(V.platform=j.current),qq(C.current,_.current,V).then(L=>{const X={...L,isPositioned:R.current!==!1};$.current&&!Py(T.current,X)&&(T.current=X,Ec.flushSync(()=>{f(X)}))})},[h,e,n,j,R]);Rg(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[c]);const $=S.useRef(!1);Rg(()=>($.current=!0,()=>{$.current=!1}),[]),Rg(()=>{if(A&&(C.current=A),E&&(_.current=E),A&&E){if(k.current)return k.current(A,E,O);O()}},[A,E,O,k,N]);const F=S.useMemo(()=>({reference:C,floating:_,setReference:b,setFloating:w}),[b,w]),U=S.useMemo(()=>({reference:A,floating:E}),[A,E]),H=S.useMemo(()=>{const V={position:n,left:0,top:0};if(!U.floating)return V;const L=HN(U.floating,d.x),X=HN(U.floating,d.y);return a?{...V,transform:"translate("+L+"px, "+X+"px)",...yL(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:X}},[n,a,U.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:O,refs:F,elements:U,floatingStyles:H}),[d,O,F,U,H])}const Kq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?WN({element:r.current,padding:i}).fn(n):{}:r?WN({element:r,padding:i}).fn(n):{}}}},Yq=(t,e)=>({...Vq(t),options:[t,e]}),Xq=(t,e)=>({...Bq(t),options:[t,e]}),Qq=(t,e)=>({...Hq(t),options:[t,e]}),Jq=(t,e)=>({...Uq(t),options:[t,e]}),Zq=(t,e)=>({...zq(t),options:[t,e]}),eG=(t,e)=>({...Wq(t),options:[t,e]}),tG=(t,e)=>({...Kq(t),options:[t,e]});var nG="Arrow",vL=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return u.jsx(Ke.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});vL.displayName=nG;var rG=vL;function cT(t){const[e,n]=S.useState(void 0);return br(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var uT="Popper",[xL,Tx]=Fi(uT),[iG,bL]=xL(uT),wL=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return u.jsx(iG,{scope:e,anchor:r,onAnchorChange:i,children:n})};wL.displayName=uT;var SL="PopperAnchor",_L=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=bL(SL,n),s=S.useRef(null),a=pt(e,s);return S.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Ke.div,{...i,ref:a})});_L.displayName=SL;var dT="PopperContent",[oG,sG]=xL(dT),EL=S.forwardRef((t,e)=>{var fe,Ee,re,ue,ie,z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=t,v=bL(dT,n),[x,b]=S.useState(null),w=pt(e,he=>b(he)),[A,E]=S.useState(null),C=cT(A),_=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,N=r+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(c)?c:[c],R=j.length>0,O={padding:k,boundary:j.filter(lG),altBoundary:R},{refs:$,floatingStyles:F,placement:U,isPositioned:H,middlewareData:V}=Gq({strategy:"fixed",placement:N,whileElementsMounted:(...he)=>Fq(...he,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Yq({mainAxis:i+T,alignmentAxis:s}),l&&Xq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Qq():void 0,...O}),l&&Jq({...O}),Zq({...O,apply:({elements:he,rects:xe,availableWidth:Ge,availableHeight:je})=>{const{width:Te,height:mt}=xe.reference,ve=he.floating.style;ve.setProperty("--radix-popper-available-width",`${Ge}px`),ve.setProperty("--radix-popper-available-height",`${je}px`),ve.setProperty("--radix-popper-anchor-width",`${Te}px`),ve.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),A&&tG({element:A,padding:a}),cG({arrowWidth:_,arrowHeight:T}),h&&eG({strategy:"referenceHidden",...O})]}),[L,X]=AL(U),Y=$n(y);br(()=>{H&&(Y==null||Y())},[H,Y]);const te=(fe=V.arrow)==null?void 0:fe.x,ye=(Ee=V.arrow)==null?void 0:Ee.y,Ce=((re=V.arrow)==null?void 0:re.centerOffset)!==0,[Ve,Ye]=S.useState();return br(()=>{x&&Ye(window.getComputedStyle(x).zIndex)},[x]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:H?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(ue=V.transformOrigin)==null?void 0:ue.x,(ie=V.transformOrigin)==null?void 0:ie.y].join(" "),...((z=V.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(oG,{scope:n,placedSide:L,onArrowChange:E,arrowX:te,arrowY:ye,shouldHideArrow:Ce,children:u.jsx(Ke.div,{"data-side":L,"data-align":X,...g,ref:w,style:{...g.style,animation:H?void 0:"none"}})})})});EL.displayName=dT;var TL="PopperArrow",aG={top:"bottom",right:"left",bottom:"top",left:"right"},PL=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=sG(TL,r),s=aG[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(rG,{...i,ref:n,style:{...i.style,display:"block"}})})});PL.displayName=TL;function lG(t){return t!==null}var cG=t=>({name:"transformOrigin",options:t,fn(e){var v,x,b;const{placement:n,rects:r,middlewareData:i}=e,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=AL(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,m=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let y="",g="";return c==="bottom"?(y=s?f:`${h}px`,g=`${-l}px`):c==="top"?(y=s?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,g=s?f:`${m}px`):c==="left"&&(y=`${r.floating.width+l}px`,g=s?f:`${m}px`),{data:{x:y,y:g}}}});function AL(t){const[e,n="center"]=t.split("-");return[e,n]}var uG=wL,CL=_L,NL=EL,jL=PL,[Px,Uje]=Fi("Tooltip",[Tx]),fT=Tx(),IL="TooltipProvider",dG=700,qN="tooltip.open",[fG,kL]=Px(IL),OL=t=>{const{__scopeTooltip:e,delayDuration:n=dG,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,s=S.useRef(!0),a=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(fG,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:S.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:o})};OL.displayName=IL;var RL="Tooltip",[zje,Ax]=Px(RL),$1="TooltipTrigger",hG=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ax($1,n),o=kL($1,n),s=fT(n),a=S.useRef(null),l=pt(e,a,i.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(CL,{asChild:!0,...s,children:u.jsx(Ke.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:De(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:De(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:De(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:De(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:De(t.onBlur,i.onClose),onClick:De(t.onClick,i.onClose)})})});hG.displayName=$1;var pG="TooltipPortal",[Wje,mG]=Px(pG,{forceMount:void 0}),Gu="TooltipContent",ML=S.forwardRef((t,e)=>{const n=mG(Gu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=Ax(Gu,t.__scopeTooltip);return u.jsx(lo,{present:r||s.open,children:s.disableHoverableContent?u.jsx(DL,{side:i,...o,ref:e}):u.jsx(gG,{side:i,...o,ref:e})})}),gG=S.forwardRef((t,e)=>{const n=Ax(Gu,t.__scopeTooltip),r=kL(Gu,t.__scopeTooltip),i=S.useRef(null),o=pt(e,i),[s,a]=S.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=S.useCallback(()=>{a(null),f(!1)},[f]),m=S.useCallback((y,g)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},b=wG(x,v.getBoundingClientRect()),w=SG(x,b),A=_G(g.getBoundingClientRect()),E=TG([...w,...A]);a(E),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(l&&d){const y=v=>m(v,d),g=v=>m(v,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),S.useEffect(()=>{if(s){const y=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),w=!EG(x,s);b?h():w&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,s,c,h]),u.jsx(DL,{...t,ref:o})}),[yG,vG]=Px(RL,{isInside:!1}),xG=aW("TooltipContent"),DL=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=Ax(Gu,n),c=fT(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(qN,d),()=>document.removeEventListener(qN,d)),[d]),S.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Vp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(NL,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(xG,{children:r}),u.jsx(yG,{scope:n,isInside:!0,children:u.jsx(AW,{id:l.contentId,role:"tooltip",children:i||r})})]})})});ML.displayName=Gu;var $L="TooltipArrow",bG=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=fT(n);return vG($L,n).isInside?null:u.jsx(jL,{...i,...r,ref:e})});bG.displayName=$L;function wG(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function SG(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _G(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function EG(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function TG(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),PG(e)}function PG(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var AG=OL,LL=ML;const CG=AG,NG=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(LL,{ref:r,sideOffset:e,className:tt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));NG.displayName=LL.displayName;const Mg=[{id:"promethean",name:"Promethean Red",primary:"0 84% 42%",primaryLight:"0 84% 45%"},{id:"ocean",name:"Ocean Blue",primary:"210 84% 42%",primaryLight:"210 84% 50%"},{id:"forest",name:"Forest Green",primary:"140 70% 35%",primaryLight:"140 70% 42%"},{id:"amethyst",name:"Amethyst Purple",primary:"270 70% 45%",primaryLight:"270 70% 52%"},{id:"sunset",name:"Sunset Orange",primary:"25 95% 50%",primaryLight:"25 95% 55%"},{id:"gold",name:"Classic Gold",primary:"45 90% 45%",primaryLight:"45 90% 52%"},{id:"teal",name:"Teal",primary:"175 70% 40%",primaryLight:"175 70% 48%"},{id:"rose",name:"Rose Pink",primary:"340 75% 55%",primaryLight:"340 75% 62%"}],FL=S.createContext(void 0);function jG({children:t}){const[e,n]=S.useState(()=>localStorage.getItem("cuemaster-theme")||"dark"),[r,i]=S.useState(()=>{const a=localStorage.getItem("cuemaster-color-theme");return a&&Mg.find(c=>c.id===a)||Mg[0]});S.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("cuemaster-theme",e)},[e]),S.useEffect(()=>{const a=document.documentElement,l=r.primary,c=r.primaryLight;a.style.setProperty("--primary",l),a.style.setProperty("--ring",l),a.style.setProperty("--sidebar-primary",e==="dark"?c:l),a.style.setProperty("--sidebar-ring",e==="dark"?c:l);const[d]=l.split(" "),f=parseFloat(d);e==="dark"?(a.style.setProperty("--sidebar-accent",`${f} 5% 15%`),a.style.setProperty("--accent",`${f} 6% 13%`)):(a.style.setProperty("--sidebar-accent",`${f} 5% 90%`),a.style.setProperty("--accent",`${f} 6% 92%`)),localStorage.setItem("cuemaster-color-theme",r.id)},[r,e]);const o=()=>{n(a=>a==="light"?"dark":"light")},s=a=>{i(a)};return u.jsx(FL.Provider,{value:{theme:e,setTheme:n,toggleTheme:o,colorTheme:r,setColorTheme:s},children:t})}function IG(){const t=S.useContext(FL);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const kG=()=>{};var GN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},BL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new RG;const h=o<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MG=function(t){const e=VL(t);return BL.encodeByteArray(e,!0)},Ay=function(t){return MG(t).replace(/\./g,"")},UL=function(t){try{return BL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G=()=>DG().__FIREBASE_DEFAULTS__,LG=()=>{if(typeof process>"u"||typeof GN>"u")return;const t=GN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UL(t[1]);return e&&JSON.parse(e)},Cx=()=>{try{return kG()||$G()||LG()||FG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zL=t=>{var e,n;return(n=(e=Cx())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},VG=t=>{const e=zL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WL=()=>{var t;return(t=Cx())==null?void 0:t.config},HL=t=>{var e;return(e=Cx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ay(JSON.stringify(n)),Ay(JSON.stringify(s)),""].join(".")}const Qf={};function zG(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qf))Qf[e]?t.emulator.push(e):t.prod.push(e);return t}function WG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let KN=!1;function GL(t,e){if(typeof window>"u"||typeof document>"u"||!kd(window.location.host)||Qf[t]===e||Qf[t]||KN)return;Qf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=zG().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{KN=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=WG(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),v=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;a(w),d(v,g);const A=c();l(b,x),w.append(b,y,v,A),document.body.appendChild(w)}o?(y.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function qG(){var e;const t=(e=Cx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XG(){const t=qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QG(){return!qG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JG(){try{return typeof indexedDB=="object"}catch{return!1}}function ZG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK="FirebaseError";class la extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eK,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wp.prototype.create)}}class Wp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tK(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new la(i,a,r)}}function tK(t,e){return t.replace(nK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nK=/\{\$([^}]+)}/g;function rK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(YN(o)&&YN(s)){if(!uc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function YN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iK(t,e){const n=new oK(t,e);return n.subscribe.bind(n)}class oK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rb),i.error===void 0&&(i.error=Rb),i.complete===void 0&&(i.complete=Rb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){return t&&t._delegate?t._delegate:t}class dc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cK(e))try{this.getOrInitializeService({instanceIdentifier:jl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jl){return this.instances.has(e)}getOptions(e=jl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jl){return this.component?this.component.multipleInstances?e:jl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lK(t){return t===jl?void 0:t}function cK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(St||(St={}));const dK={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},fK=St.INFO,hK={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},pK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hT{constructor(e){this.name=e,this._logLevel=fK,this._logHandler=pK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...e),this._logHandler(this,St.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...e),this._logHandler(this,St.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,St.INFO,...e),this._logHandler(this,St.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,St.WARN,...e),this._logHandler(this,St.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...e),this._logHandler(this,St.ERROR,...e)}}const mK=(t,e)=>e.some(n=>t instanceof n);let XN,QN;function gK(){return XN||(XN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yK(){return QN||(QN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KL=new WeakMap,L1=new WeakMap,YL=new WeakMap,Mb=new WeakMap,pT=new WeakMap;function vK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ka(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KL.set(n,t)}).catch(()=>{}),pT.set(e,t),e}function xK(t){if(L1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});L1.set(t,e)}let F1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ka(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bK(t){F1=t(F1)}function wK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Db(this),e,...n);return YL.set(r,e.sort?e.sort():[e]),Ka(r)}:yK().includes(t)?function(...e){return t.apply(Db(this),e),Ka(KL.get(this))}:function(...e){return Ka(t.apply(Db(this),e))}}function SK(t){return typeof t=="function"?wK(t):(t instanceof IDBTransaction&&xK(t),mK(t,gK())?new Proxy(t,F1):t)}function Ka(t){if(t instanceof IDBRequest)return vK(t);if(Mb.has(t))return Mb.get(t);const e=SK(t);return e!==t&&(Mb.set(t,e),pT.set(e,t)),e}const Db=t=>pT.get(t);function _K(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ka(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ka(s.result),l.oldVersion,l.newVersion,Ka(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const EK=["get","getKey","getAll","getAllKeys","count"],TK=["put","add","delete","clear"],$b=new Map;function JN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($b.get(e))return $b.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EK.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return $b.set(e,o),o}bK(t=>({...t,get:(e,n,r)=>JN(e,n)||t.get(e,n,r),has:(e,n)=>!!JN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const V1="@firebase/app",ZN="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new hT("@firebase/app"),CK="@firebase/app-compat",NK="@firebase/analytics-compat",jK="@firebase/analytics",IK="@firebase/app-check-compat",kK="@firebase/app-check",OK="@firebase/auth",RK="@firebase/auth-compat",MK="@firebase/database",DK="@firebase/data-connect",$K="@firebase/database-compat",LK="@firebase/functions",FK="@firebase/functions-compat",VK="@firebase/installations",BK="@firebase/installations-compat",UK="@firebase/messaging",zK="@firebase/messaging-compat",WK="@firebase/performance",HK="@firebase/performance-compat",qK="@firebase/remote-config",GK="@firebase/remote-config-compat",KK="@firebase/storage",YK="@firebase/storage-compat",XK="@firebase/firestore",QK="@firebase/ai",JK="@firebase/firestore-compat",ZK="firebase",eY="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="[DEFAULT]",tY={[V1]:"fire-core",[CK]:"fire-core-compat",[jK]:"fire-analytics",[NK]:"fire-analytics-compat",[kK]:"fire-app-check",[IK]:"fire-app-check-compat",[OK]:"fire-auth",[RK]:"fire-auth-compat",[MK]:"fire-rtdb",[DK]:"fire-data-connect",[$K]:"fire-rtdb-compat",[LK]:"fire-fn",[FK]:"fire-fn-compat",[VK]:"fire-iid",[BK]:"fire-iid-compat",[UK]:"fire-fcm",[zK]:"fire-fcm-compat",[WK]:"fire-perf",[HK]:"fire-perf-compat",[qK]:"fire-rc",[GK]:"fire-rc-compat",[KK]:"fire-gcs",[YK]:"fire-gcs-compat",[XK]:"fire-fst",[JK]:"fire-fst-compat",[QK]:"fire-vertex","fire-js":"fire-js",[ZK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=new Map,nY=new Map,U1=new Map;function ej(t,e){try{t.container.addComponent(e)}catch(n){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ku(t){const e=t.name;if(U1.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;U1.set(e,t);for(const n of Cy.values())ej(n,t);for(const n of nY.values())ej(n,t);return!0}function mT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function To(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new Wp("app","Firebase",rY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=eY;function XL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:B1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ya.create("bad-app-name",{appName:String(i)});if(n||(n=WL()),!n)throw Ya.create("no-options");const o=Cy.get(i);if(o){if(uc(n,o.options)&&uc(r,o.config))return o;throw Ya.create("duplicate-app",{appName:i})}const s=new uK(i);for(const l of U1.values())s.addComponent(l);const a=new iY(n,r,s);return Cy.set(i,a),a}function QL(t=B1){const e=Cy.get(t);if(!e&&t===B1&&WL())return XL();if(!e)throw Ya.create("no-app",{appName:t});return e}function Xa(t,e,n){let r=tY[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(s.join(" "));return}Ku(new dc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY="firebase-heartbeat-database",sY=1,Mh="firebase-heartbeat-store";let Lb=null;function JL(){return Lb||(Lb=_K(oY,sY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ya.create("idb-open",{originalErrorMessage:t.message})})),Lb}async function aY(t){try{const n=(await JL()).transaction(Mh),r=await n.objectStore(Mh).get(ZL(t));return await n.done,r}catch(e){if(e instanceof la)Zs.warn(e.message);else{const n=Ya.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zs.warn(n.message)}}}async function tj(t,e){try{const r=(await JL()).transaction(Mh,"readwrite");await r.objectStore(Mh).put(e,ZL(t)),await r.done}catch(n){if(n instanceof la)Zs.warn(n.message);else{const r=Ya.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zs.warn(r.message)}}}function ZL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lY=1024,cY=30;class uY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nj();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>cY){const s=hY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nj(),{heartbeatsToSend:r,unsentEntries:i}=dY(this._heartbeatsCache.heartbeats),o=Ay(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Zs.warn(n),""}}}function nj(){return new Date().toISOString().substring(0,10)}function dY(t,e=lY){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rj(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JG()?ZG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rj(t){return Ay(JSON.stringify({version:2,heartbeats:t})).length}function hY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(t){Ku(new dc("platform-logger",e=>new PK(e),"PRIVATE")),Ku(new dc("heartbeat",e=>new uY(e),"PRIVATE")),Xa(V1,ZN,t),Xa(V1,ZN,"esm2020"),Xa("fire-js","")}pY("");var mY="firebase",gY="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(mY,gY,"app");function e4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yY=e4,t4=new Wp("auth","Firebase",e4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=new hT("@firebase/auth");function vY(t,...e){Ny.logLevel<=St.WARN&&Ny.warn(`Auth (${Od}): ${t}`,...e)}function Dg(t,...e){Ny.logLevel<=St.ERROR&&Ny.error(`Auth (${Od}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,...e){throw yT(t,...e)}function Oo(t,...e){return yT(t,...e)}function gT(t,e,n){const r={...yY(),[e]:n};return new Wp("auth","Firebase",r).create(e,{appName:t.name})}function Jl(t){return gT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xY(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xs(t,"argument-error"),gT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t4.create(t,...e)}function et(t,e,...n){if(!t)throw yT(e,...n)}function Ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dg(e),new Error(e)}function ea(t,e){t||Ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function bY(){return ij()==="http:"||ij()==="https:"}function ij(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bY()||KG()||"connection"in navigator)?navigator.onLine:!0}function SY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=HG()||YG()}get(){return wY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e){ea(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TY=new qp(3e4,6e4);function xT(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Rd(t,e,n,r,i={}){return r4(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Hp({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return GG()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&kd(t.emulatorConfig.host)&&(c.credentials="include"),n4.fetch()(await i4(t,t.config.apiHost,n,a),c)})}async function r4(t,e,n){t._canInitEmulator=!1;const r={..._Y,...e};try{const i=new AY(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Hm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Hm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Hm(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gT(t,d,c);xs(t,d)}}catch(i){if(i instanceof la)throw i;xs(t,"network-request-failed",{message:String(i)})}}async function PY(t,e,n,r,i={}){const o=await Rd(t,e,n,r,i);return"mfaPendingCredential"in o&&xs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function i4(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?vT(t.config,i):`${t.config.apiScheme}://${i}`;return EY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class AY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oo(this.auth,"network-request-failed")),TY.get())})}}function Hm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Oo(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CY(t,e){return Rd(t,"POST","/v1/accounts:delete",e)}async function jy(t,e){return Rd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NY(t,e=!1){const n=so(t),r=await n.getIdToken(e),i=bT(r);et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Jf(Fb(i.auth_time)),issuedAtTime:Jf(Fb(i.iat)),expirationTime:Jf(Fb(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fb(t){return Number(t)*1e3}function bT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dg("JWT malformed, contained fewer than 3 sections"),null;try{const i=UL(n);return i?JSON.parse(i):(Dg("Failed to decode base64 JWT payload"),null)}catch(i){return Dg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oj(t){const e=bT(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof la&&jY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jf(this.lastLoginAt),this.creationTime=Jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Dh(t,jy(e,{idToken:n}));et(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?o4(i.providerUserInfo):[],s=OY(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new W1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function kY(t){const e=so(t);await Iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function o4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RY(t,e){const n=await r4(t,{},async()=>{const r=Hp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await i4(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&kd(t.emulatorConfig.host)&&(l.credentials="include"),n4.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MY(t,e){return Rd(t,"POST","/v2/accounts:revokeToken",xT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=oj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await RY(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new xu;return r&&(et(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(et(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(et(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xu,this.toJSON())}_performRefresh(){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ao{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new IY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new W1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Dh(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NY(this,e)}reload(){return kY(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ao({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(To(this.auth.app))return Promise.reject(Jl(this.auth));const e=await this.getIdToken();return await Dh(this,CY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:y,stsTokenManager:g}=n;et(f&&g,e,"internal-error");const v=xu.fromJSON(this.name,g);et(typeof f=="string",e,"internal-error"),xa(r,e.name),xa(i,e.name),et(typeof h=="boolean",e,"internal-error"),et(typeof m=="boolean",e,"internal-error"),xa(o,e.name),xa(s,e.name),xa(a,e.name),xa(l,e.name),xa(c,e.name),xa(d,e.name);const x=new Ao({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:v,createdAt:c,lastLoginAt:d});return y&&Array.isArray(y)&&(x.providerData=y.map(b=>({...b}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new xu;i.updateFromServerResponse(n);const o=new Ao({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Iy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];et(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?o4(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new xu;a.updateFromIdToken(r);const l=new Ao({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new W1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=new Map;function Fs(t){ea(t instanceof Function,"Expected a class definition");let e=sj.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}s4.type="NONE";const aj=s4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e,n){return`firebase:${t}:${e}:${n}`}class bu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=$g(this.userKey,i.apiKey,o),this.fullPersistenceKey=$g("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jy(this.auth,{idToken:e}).catch(()=>{});return n?Ao._fromGetAccountInfoResponse(this.auth,n,e):null}return Ao._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bu(Fs(aj),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Fs(aj);const s=$g(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){let f;if(typeof d=="string"){const h=await jy(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Ao._fromGetAccountInfoResponse(e,h,d)}else f=Ao._fromJSON(e,d);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new bu(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new bu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f4(e))return"Blackberry";if(h4(e))return"Webos";if(l4(e))return"Safari";if((e.includes("chrome/")||c4(e))&&!e.includes("edge/"))return"Chrome";if(d4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function a4(t=qr()){return/firefox\//i.test(t)}function l4(t=qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c4(t=qr()){return/crios\//i.test(t)}function u4(t=qr()){return/iemobile/i.test(t)}function d4(t=qr()){return/android/i.test(t)}function f4(t=qr()){return/blackberry/i.test(t)}function h4(t=qr()){return/webos/i.test(t)}function wT(t=qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DY(t=qr()){var e;return wT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $Y(){return XG()&&document.documentMode===10}function p4(t=qr()){return wT(t)||d4(t)||h4(t)||f4(t)||/windows phone/i.test(t)||u4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e=[]){let n;switch(t){case"Browser":n=lj(qr());break;case"Worker":n=`${lj(qr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Od}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FY(t,e={}){return Rd(t,"GET","/v2/passwordPolicy",xT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY=6;class BY{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??VY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cj(this),this.idTokenSubscription=new cj(this),this.beforeStateQueue=new LY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fs(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await bu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jy(this,{idToken:e}),r=await Ao._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(To(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(To(this.app))return Promise.reject(Jl(this));const n=e?so(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return To(this.app)?Promise.reject(Jl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return To(this.app)?Promise.reject(Jl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FY(this),n=new BY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fs(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await bu.create(this,[Fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(To(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&vY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Nx(t){return so(t)}class cj{constructor(e){this.auth=e,this.observer=null,this.addObserver=iK(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ST={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zY(t){ST=t}function WY(t){return ST.loadJS(t)}function HY(){return ST.gapiScript}function qY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(t,e){const n=mT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(uc(o,e??{}))return i;xs(i,"already-initialized")}return n.initialize({options:e})}function KY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YY(t,e,n){const r=Nx(t);et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=g4(e),{host:s,port:a}=XY(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(uc(c,r.config.emulator)&&uc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,kd(s)?(qL(`${o}//${s}${l}`),GL("Auth",!0)):QY()}function g4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XY(t){const e=g4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:uj(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:uj(s)}}}function uj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ls("not implemented")}_getIdTokenResponse(e){return Ls("not implemented")}_linkToIdToken(e,n){return Ls("not implemented")}_getReauthenticationResolver(e){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t,e){return PY(t,"POST","/v1/accounts:signInWithIdp",xT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JY="http://localhost";class fc extends y4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new fc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return wu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wu(e,n)}buildRequest(){const e={requestUri:JY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends _T{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Gp{constructor(){super("facebook.com")}static credential(e){return fc._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Gp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fc._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Gp{constructor(){super("github.com")}static credential(e){return fc._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.GITHUB_SIGN_IN_METHOD="github.com";Aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Gp{constructor(){super("twitter.com")}static credential(e,n){return fc._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ca.credential(n,r)}catch{return null}}}Ca.TWITTER_SIGN_IN_METHOD="twitter.com";Ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ao._fromIdTokenResponse(e,r,i),s=dj(r);return new Yu({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dj(r);return new Yu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends la{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ky.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ky(e,n,r,i)}}function v4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ky._fromErrorAndOperation(t,o,e,r):o})}async function ZY(t,e,n=!1){const r=await Dh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eX(t,e,n=!1){const{auth:r}=t;if(To(r.app))return Promise.reject(Jl(r));const i="reauthenticate";try{const o=await Dh(t,v4(r,i,e,t),n);et(o.idToken,r,"internal-error");const s=bT(o.idToken);et(s,r,"internal-error");const{sub:a}=s;return et(t.uid===a,r,"user-mismatch"),Yu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tX(t,e,n=!1){if(To(t.app))return Promise.reject(Jl(t));const r="signIn",i=await v4(t,r,e),o=await Yu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function nX(t,e,n,r){return so(t).onIdTokenChanged(e,n,r)}function rX(t,e,n){return so(t).beforeAuthStateChanged(e,n)}function iX(t,e,n,r){return so(t).onAuthStateChanged(e,n,r)}function oX(t){return so(t).signOut()}const Oy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oy,"1"),this.storage.removeItem(Oy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sX=1e3,aX=10;class b4 extends x4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);$Y()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b4.type="LOCAL";const lX=b4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4 extends x4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}w4.type="SESSION";const S4=w4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await cX(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=ET("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return window}function dX(t){us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function fX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function pX(){return _4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="firebaseLocalStorageDb",mX=1,Ry="firebaseLocalStorage",T4="fbase_key";class Kp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ix(t,e){return t.transaction([Ry],e?"readwrite":"readonly").objectStore(Ry)}function gX(){const t=indexedDB.deleteDatabase(E4);return new Kp(t).toPromise()}function H1(){const t=indexedDB.open(E4,mX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ry,{keyPath:T4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ry)?e(r):(r.close(),await gX(),e(await H1()))})})}async function fj(t,e,n){const r=Ix(t,!0).put({[T4]:e,value:n});return new Kp(r).toPromise()}async function yX(t,e){const n=Ix(t,!1).get(e),r=await new Kp(n).toPromise();return r===void 0?null:r.value}function hj(t,e){const n=Ix(t,!0).delete(e);return new Kp(n).toPromise()}const vX=800,xX=3;class P4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await H1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jx._getInstance(pX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await fX(),!this.activeServiceWorker)return;this.sender=new uX(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await H1();return await fj(e,Oy,"1"),await hj(e,Oy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ix(i,!1).getAll();return new Kp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P4.type="LOCAL";const bX=P4;new qp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t,e){return e?Fs(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends y4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wX(t){return tX(t.auth,new TT(t),t.bypassAuthState)}function SX(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),eX(n,new TT(t),t.bypassAuthState)}async function _X(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),ZY(n,new TT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wX;case"linkViaPopup":case"linkViaRedirect":return _X;case"reauthViaPopup":case"reauthViaRedirect":return SX;default:xs(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX=new qp(2e3,1e4);async function N4(t,e,n){if(To(t.app))return Promise.reject(Oo(t,"operation-not-supported-in-this-environment"));const r=Nx(t);xY(t,e,_T);const i=A4(r,n);return new Fl(r,"signInViaPopup",e,i).executeNotNull()}class Fl extends C4{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fl.currentPopupAction&&Fl.currentPopupAction.cancel(),Fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=ET();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Oo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EX.get())};e()}}Fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TX="pendingRedirect",Lg=new Map;class PX extends C4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lg.get(this.auth._key());if(!e){try{const r=await AX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lg.set(this.auth._key(),e)}return this.bypassAuthState||Lg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AX(t,e){const n=jX(e),r=NX(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function CX(t,e){Lg.set(t._key(),e)}function NX(t){return Fs(t._redirectPersistence)}function jX(t){return $g(TX,t.config.apiKey,t.name)}async function IX(t,e,n=!1){if(To(t.app))return Promise.reject(Jl(t));const r=Nx(t),i=A4(r,e),s=await new PX(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kX=10*60*1e3;class OX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!j4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kX&&this.cachedEventUids.clear(),this.cachedEventUids.has(pj(e))}saveEventToCache(e){this.cachedEventUids.add(pj(e)),this.lastProcessedEventTime=Date.now()}}function pj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function j4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MX(t,e={}){return Rd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$X=/^https?/;async function LX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MX(t);for(const n of e)try{if(FX(n))return}catch{}xs(t,"unauthorized-domain")}function FX(t){const e=z1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$X.test(n))return!1;if(DX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX=new qp(3e4,6e4);function mj(){const t=us().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BX(t){return new Promise((e,n)=>{var i,o,s;function r(){mj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mj(),n(Oo(t,"network-request-failed"))},timeout:VX.get()})}if((o=(i=us().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=us().gapi)!=null&&s.load)r();else{const a=qY("iframefcb");return us()[a]=()=>{gapi.load?r():n(Oo(t,"network-request-failed"))},WY(`${HY()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fg=null,e})}let Fg=null;function UX(t){return Fg=Fg||BX(t),Fg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX=new qp(5e3,15e3),WX="__/auth/iframe",HX="emulator/auth/iframe",qX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KX(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vT(e,HX):`https://${t.config.authDomain}/${WX}`,r={apiKey:e.apiKey,appName:t.name,v:Od},i=GX.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Hp(r).slice(1)}`}async function YX(t){const e=await UX(t),n=us().gapi;return et(n,t,"internal-error"),e.open({where:document.body,url:KX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qX,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Oo(t,"network-request-failed"),a=us().setTimeout(()=>{o(s)},zX.get());function l(){us().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QX=500,JX=600,ZX="_blank",eQ="http://localhost";class gj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tQ(t,e,n,r=QX,i=JX){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...XX,width:r.toString(),height:i.toString(),top:o,left:s},c=qr().toLowerCase();n&&(a=c4(c)?ZX:n),a4(c)&&(e=e||eQ,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(DY(c)&&a!=="_self")return nQ(e||"",a),new gj(null);const f=window.open(e||"",a,d);et(f,t,"popup-blocked");try{f.focus()}catch{}return new gj(f)}function nQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ="__/auth/handler",iQ="emulator/auth/handler",oQ=encodeURIComponent("fac");async function yj(t,e,n,r,i,o){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Od,eventId:i};if(e instanceof _T){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rK(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof Gp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${oQ}=${encodeURIComponent(l)}`:"";return`${sQ(t)}?${Hp(a).slice(1)}${c}`}function sQ({config:t}){return t.emulator?vT(t,iQ):`https://${t.authDomain}/${rQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="webStorageSupport";class aQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S4,this._completeRedirectFn=IX,this._overrideRedirectResult=CX}async _openPopup(e,n,r,i){var s;ea((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yj(e,n,r,z1(),i);return tQ(e,o,ET())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await yj(e,n,r,z1(),i);return dX(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ea(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YX(e),r=new OX(e);return n.register("authEvent",i=>(et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vb,{type:Vb},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[Vb];o!==void 0&&n(!!o),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return p4()||l4()||wT()}}const lQ=aQ;var vj="@firebase/auth",xj="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dQ(t){Ku(new dc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;et(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m4(t)},c=new UY(r,i,o,l);return KY(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ku(new dc("auth-internal",e=>{const n=Nx(e.getProvider("auth").getImmediate());return(r=>new cQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(vj,xj,uQ(t)),Xa(vj,xj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=5*60,hQ=HL("authIdTokenMaxAge")||fQ;let bj=null;const pQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hQ)return;const i=n==null?void 0:n.token;bj!==i&&(bj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mQ(t=QL()){const e=mT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GY(t,{popupRedirectResolver:lQ,persistence:[bX,lX,S4]}),r=HL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=pQ(o.toString());rX(n,s,()=>s(n.currentUser)),nX(n,a=>s(a))}}const i=zL("auth");return i&&YY(n,`http://${i}`),n}function gQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}zY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Oo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",gQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dQ("Browser");var wj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qa,I4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function N(){}N.prototype=T.prototype,_.F=T.prototype,_.prototype=new N,_.prototype.constructor=_,_.D=function(k,j,R){for(var O=Array(arguments.length-2),$=2;$<arguments.length;$++)O[$-2]=arguments[$];return T.prototype[j].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,T,N){N||(N=0);const k=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)k[j]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(j=0;j<16;++j)k[j]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=_.g[0],N=_.g[1],j=_.g[2];let R=_.g[3],O;O=T+(R^N&(j^R))+k[0]+3614090360&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[1]+3905402710&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[2]+606105819&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[3]+3250441966&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[4]+4118548399&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[5]+1200080426&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[6]+2821735955&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[7]+4249261313&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[8]+1770035416&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[9]+2336552879&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[10]+4294925233&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[11]+2304563134&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[12]+1804603682&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[13]+4254626195&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[14]+2792965006&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[15]+1236535329&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(j^R&(N^j))+k[1]+4129170786&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[6]+3225465664&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[11]+643717713&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[0]+3921069994&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[5]+3593408605&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[10]+38016083&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[15]+3634488961&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[4]+3889429448&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[9]+568446438&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[14]+3275163606&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[3]+4107603335&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[8]+1163531501&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[13]+2850285829&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[2]+4243563512&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[7]+1735328473&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[12]+2368359562&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(N^j^R)+k[5]+4294588738&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[8]+2272392833&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[11]+1839030562&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[14]+4259657740&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[1]+2763975236&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[4]+1272893353&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[7]+4139469664&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[10]+3200236656&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[13]+681279174&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[0]+3936430074&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[3]+3572445317&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[6]+76029189&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[9]+3654602809&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[12]+3873151461&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[15]+530742520&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[2]+3299628645&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(j^(N|~R))+k[0]+4096336452&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[7]+1126891415&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[14]+2878612391&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[5]+4237533241&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[12]+1700485571&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[3]+2399980690&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[10]+4293915773&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[1]+2240044497&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[8]+1873313359&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[15]+4264355552&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[6]+2734768916&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[13]+1309151649&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[4]+4149444226&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[11]+3174756917&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[2]+718787259&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+j&4294967295,_.g[3]=_.g[3]+R&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const N=T-this.blockSize,k=this.C;let j=this.h,R=0;for(;R<T;){if(j==0)for(;R<=N;)i(this,_,R),R+=this.blockSize;if(typeof _=="string"){for(;R<T;)if(k[j++]=_.charCodeAt(R++),j==this.blockSize){i(this,k),j=0;break}}else for(;R<T;)if(k[j++]=_[R++],j==this.blockSize){i(this,k),j=0;break}}this.h=j,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var N=_.length-8;N<_.length;++N)_[N]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)_[T++]=this.g[N]>>>k&255;return _};function o(_,T){var N=a;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=T(_)}function s(_,T){this.h=T;const N=[];let k=!0;for(let j=_.length-1;j>=0;j--){const R=_[j]|0;k&&R==T||(N[j]=R,k=!1)}this.g=N}var a={};function l(_){return-128<=_&&_<128?o(_,function(T){return new s([T|0],T<0?-1:0)}):new s([_|0],_<0?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return v(c(-_));const T=[];let N=1;for(let k=0;_>=N;k++)T[k]=_/N|0,N*=4294967296;return new s(T,0)}function d(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return v(d(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=c(Math.pow(T,8));let k=f;for(let R=0;R<_.length;R+=8){var j=Math.min(8,_.length-R);const O=parseInt(_.substring(R,R+j),T);j<8?(j=c(Math.pow(T,j)),k=k.j(j).add(c(O))):(k=k.j(N),k=k.add(c(O)))}return k}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-v(this).m();let _=0,T=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);_+=(k>=0?k:4294967296+k)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(y(this))return"0";if(g(this))return"-"+v(this).toString(_);const T=c(Math.pow(_,6));var N=this;let k="";for(;;){const j=A(N,T).g;N=x(N,j.j(T));let R=((N.g.length>0?N.g[0]:N.h)>>>0).toString(_);if(N=j,y(N))return R+k;for(;R.length<6;)R="0"+R;k=R+k}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function y(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function g(_){return _.h==-1}t.l=function(_){return _=x(this,_),g(_)?-1:y(_)?0:1};function v(_){const T=_.g.length,N=[];for(let k=0;k<T;k++)N[k]=~_.g[k];return new s(N,~_.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),N=[];let k=0;for(let j=0;j<=T;j++){let R=k+(this.i(j)&65535)+(_.i(j)&65535),O=(R>>>16)+(this.i(j)>>>16)+(_.i(j)>>>16);k=O>>>16,R&=65535,O&=65535,N[j]=O<<16|R}return new s(N,N[N.length-1]&-2147483648?-1:0)};function x(_,T){return _.add(v(T))}t.j=function(_){if(y(this)||y(_))return f;if(g(this))return g(_)?v(this).j(v(_)):v(v(this).j(_));if(g(_))return v(this.j(v(_)));if(this.l(m)<0&&_.l(m)<0)return c(this.m()*_.m());const T=this.g.length+_.g.length,N=[];for(var k=0;k<2*T;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let j=0;j<_.g.length;j++){const R=this.i(k)>>>16,O=this.i(k)&65535,$=_.i(j)>>>16,F=_.i(j)&65535;N[2*k+2*j]+=O*F,b(N,2*k+2*j),N[2*k+2*j+1]+=R*F,b(N,2*k+2*j+1),N[2*k+2*j+1]+=O*$,b(N,2*k+2*j+1),N[2*k+2*j+2]+=R*$,b(N,2*k+2*j+2)}for(_=0;_<T;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=T;_<2*T;_++)N[_]=0;return new s(N,0)};function b(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function w(_,T){this.g=_,this.h=T}function A(_,T){if(y(T))throw Error("division by zero");if(y(_))return new w(f,f);if(g(_))return T=A(v(_),T),new w(v(T.g),v(T.h));if(g(T))return T=A(_,v(T)),new w(v(T.g),T.h);if(_.g.length>30){if(g(_)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var N=h,k=T;k.l(_)<=0;)N=E(N),k=E(k);var j=C(N,1),R=C(k,1);for(k=C(k,2),N=C(N,2);!y(k);){var O=R.add(k);O.l(_)<=0&&(j=j.add(N),R=O),k=C(k,1),N=C(N,1)}return T=x(_,j.j(T)),new w(j,T)}for(j=f;_.l(T)>=0;){for(N=Math.max(1,Math.floor(_.m()/T.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),R=c(N),O=R.j(T);g(O)||O.l(_)>0;)N-=k,R=c(N),O=R.j(T);y(R)&&(R=h),j=j.add(R),_=x(_,O)}return new w(j,_)}t.B=function(_){return A(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)&_.i(k);return new s(N,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)|_.i(k);return new s(N,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)^_.i(k);return new s(N,this.h^_.h)};function E(_){const T=_.g.length+1,N=[];for(let k=0;k<T;k++)N[k]=_.i(k)<<1|_.i(k-1)>>>31;return new s(N,_.h)}function C(_,T){const N=T>>5;T%=32;const k=_.g.length-N,j=[];for(let R=0;R<k;R++)j[R]=T>0?_.i(R+N)>>>T|_.i(R+N+1)<<32-T:_.i(R+N);return new s(j,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,I4=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Qa=s}).apply(typeof wj<"u"?wj:typeof self<"u"?self:typeof window<"u"?window:{});var qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k4,kf,O4,Vg,q1,R4,M4,D4;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof qm=="object"&&qm];for(var P=0;P<p.length;++P){var I=p[P];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(p,P){if(P)e:{var I=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var K=p[D];if(!(K in I))break e;I=I[K]}p=p[p.length-1],D=I[p],P=P(D),P!=D&&P!=null&&e(I,p,{configurable:!0,writable:!0,value:P})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(P){var I=[],D;for(D in P)Object.prototype.hasOwnProperty.call(P,D)&&I.push([D,P[D]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(p){var P=typeof p;return P=="object"&&p!=null||P=="function"}function l(p,P,I){return p.call.apply(p.bind,arguments)}function c(p,P,I){return c=l,c.apply(null,arguments)}function d(p,P){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function f(p,P){function I(){}I.prototype=P.prototype,p.Z=P.prototype,p.prototype=new I,p.prototype.constructor=p,p.Ob=function(D,K,J){for(var be=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)be[ft-2]=arguments[ft];return P.prototype[K].apply(D,be)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const P=p.length;if(P>0){const I=Array(P);for(let D=0;D<P;D++)I[D]=p[D];return I}return[]}function y(p,P){for(let D=1;D<arguments.length;D++){const K=arguments[D];var I=typeof K;if(I=I!="object"?I:K?Array.isArray(K)?"array":I:"null",I=="array"||I=="object"&&typeof K.length=="number"){I=p.length||0;const J=K.length||0;p.length=I+J;for(let be=0;be<J;be++)p[I+be]=K[be]}else p.push(K)}}class g{constructor(P,I){this.i=P,this.j=I,this.h=0,this.g=null}get(){let P;return this.h>0?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function v(p){s.setTimeout(()=>{throw p},0)}function x(){var p=_;let P=null;return p.g&&(P=p.g,p.g=p.g.next,p.g||(p.h=null),P.next=null),P}class b{constructor(){this.h=this.g=null}add(P,I){const D=w.get();D.set(P,I),this.h?this.h.next=D:this.g=D,this.h=D}}var w=new g(()=>new A,p=>p.reset());class A{constructor(){this.next=this.g=this.h=null}set(P,I){this.h=P,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let E,C=!1,_=new b,T=()=>{const p=Promise.resolve(void 0);E=()=>{p.then(N)}};function N(){for(var p;p=x();){try{p.h.call(p.g)}catch(I){v(I)}var P=w;P.j(p),P.h<100&&(P.h++,p.next=P.g,P.g=p)}C=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(p,P){this.type=p,this.g=this.target=P,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,P=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};s.addEventListener("test",I,P),s.removeEventListener("test",I,P)}catch{}return p}();function O(p){return/^[\s\xa0]*$/.test(p)}function $(p,P){j.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,P)}f($,j),$.prototype.init=function(p,P){const I=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=P,P=p.relatedTarget,P||(I=="mouseover"?P=p.fromElement:I=="mouseout"&&(P=p.toElement)),this.relatedTarget=P,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),U=0;function H(p,P,I,D,K){this.listener=p,this.proxy=null,this.src=P,this.type=I,this.capture=!!D,this.ha=K,this.key=++U,this.da=this.fa=!1}function V(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function L(p,P,I){for(const D in p)P.call(I,p[D],D,p)}function X(p,P){for(const I in p)P.call(void 0,p[I],I,p)}function Y(p){const P={};for(const I in p)P[I]=p[I];return P}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(p,P){let I,D;for(let K=1;K<arguments.length;K++){D=arguments[K];for(I in D)p[I]=D[I];for(let J=0;J<te.length;J++)I=te[J],Object.prototype.hasOwnProperty.call(D,I)&&(p[I]=D[I])}}function Ce(p){this.src=p,this.g={},this.h=0}Ce.prototype.add=function(p,P,I,D,K){const J=p.toString();p=this.g[J],p||(p=this.g[J]=[],this.h++);const be=Ye(p,P,D,K);return be>-1?(P=p[be],I||(P.fa=!1)):(P=new H(P,this.src,J,!!D,K),P.fa=I,p.push(P)),P};function Ve(p,P){const I=P.type;if(I in p.g){var D=p.g[I],K=Array.prototype.indexOf.call(D,P,void 0),J;(J=K>=0)&&Array.prototype.splice.call(D,K,1),J&&(V(P),p.g[I].length==0&&(delete p.g[I],p.h--))}}function Ye(p,P,I,D){for(let K=0;K<p.length;++K){const J=p[K];if(!J.da&&J.listener==P&&J.capture==!!I&&J.ha==D)return K}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),Ee={};function re(p,P,I,D,K){if(Array.isArray(P)){for(let J=0;J<P.length;J++)re(p,P[J],I,D,K);return null}return I=mt(I),p&&p[F]?p.J(P,I,a(D)?!!D.capture:!!D,K):ue(p,P,I,!1,D,K)}function ue(p,P,I,D,K,J){if(!P)throw Error("Invalid event type");const be=a(K)?!!K.capture:!!K;let ft=je(p);if(ft||(p[fe]=ft=new Ce(p)),I=ft.add(P,I,D,be,J),I.proxy)return I;if(D=ie(),I.proxy=D,D.src=p,D.listener=I,p.addEventListener)R||(K=be),K===void 0&&(K=!1),p.addEventListener(P.toString(),D,K);else if(p.attachEvent)p.attachEvent(xe(P.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ie(){function p(I){return P.call(p.src,p.listener,I)}const P=Ge;return p}function z(p,P,I,D,K){if(Array.isArray(P))for(var J=0;J<P.length;J++)z(p,P[J],I,D,K);else D=a(D)?!!D.capture:!!D,I=mt(I),p&&p[F]?(p=p.i,J=String(P).toString(),J in p.g&&(P=p.g[J],I=Ye(P,I,D,K),I>-1&&(V(P[I]),Array.prototype.splice.call(P,I,1),P.length==0&&(delete p.g[J],p.h--)))):p&&(p=je(p))&&(P=p.g[P.toString()],p=-1,P&&(p=Ye(P,I,D,K)),(I=p>-1?P[p]:null)&&he(I))}function he(p){if(typeof p!="number"&&p&&!p.da){var P=p.src;if(P&&P[F])Ve(P.i,p);else{var I=p.type,D=p.proxy;P.removeEventListener?P.removeEventListener(I,D,p.capture):P.detachEvent?P.detachEvent(xe(I),D):P.addListener&&P.removeListener&&P.removeListener(D),(I=je(P))?(Ve(I,p),I.h==0&&(I.src=null,P[fe]=null)):V(p)}}}function xe(p){return p in Ee?Ee[p]:Ee[p]="on"+p}function Ge(p,P){if(p.da)p=!0;else{P=new $(P,this);const I=p.listener,D=p.ha||p.src;p.fa&&he(p),p=I.call(D,P)}return p}function je(p){return p=p[fe],p instanceof Ce?p:null}var Te="__closure_events_fn_"+(Math.random()*1e9>>>0);function mt(p){return typeof p=="function"?p:(p[Te]||(p[Te]=function(P){return p.handleEvent(P)}),p[Te])}function ve(){k.call(this),this.i=new Ce(this),this.M=this,this.G=null}f(ve,k),ve.prototype[F]=!0,ve.prototype.removeEventListener=function(p,P,I,D){z(this,p,P,I,D)};function We(p,P){var I,D=p.G;if(D)for(I=[];D;D=D.G)I.push(D);if(p=p.M,D=P.type||P,typeof P=="string")P=new j(P,p);else if(P instanceof j)P.target=P.target||p;else{var K=P;P=new j(D,p),ye(P,K)}K=!0;let J,be;if(I)for(be=I.length-1;be>=0;be--)J=P.g=I[be],K=Dt(J,D,!0,P)&&K;if(J=P.g=p,K=Dt(J,D,!0,P)&&K,K=Dt(J,D,!1,P)&&K,I)for(be=0;be<I.length;be++)J=P.g=I[be],K=Dt(J,D,!1,P)&&K}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var p=this.i;for(const P in p.g){const I=p.g[P];for(let D=0;D<I.length;D++)V(I[D]);delete p.g[P],p.h--}}this.G=null},ve.prototype.J=function(p,P,I,D){return this.i.add(String(p),P,!1,I,D)},ve.prototype.K=function(p,P,I,D){return this.i.add(String(p),P,!0,I,D)};function Dt(p,P,I,D){if(P=p.i.g[String(P)],!P)return!0;P=P.concat();let K=!0;for(let J=0;J<P.length;++J){const be=P[J];if(be&&!be.da&&be.capture==I){const ft=be.listener,Jn=be.ha||be.src;be.fa&&Ve(p.i,be),K=ft.call(Jn,D)!==!1&&K}}return K&&!D.defaultPrevented}function Ct(p,P){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=c(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(P)>2147483647?-1:s.setTimeout(p,P||0)}function Qt(p){p.g=Ct(()=>{p.g=null,p.i&&(p.i=!1,Qt(p))},p.l);const P=p.h;p.h=null,p.m.apply(null,P)}class Yn extends k{constructor(P,I){super(),this.m=P,this.l=I,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(p){k.call(this),this.h=p,this.g={}}f(Jt,k);var ar=[];function ii(p){L(p.g,function(P,I){this.g.hasOwnProperty(I)&&he(P)},p),p.g={}}Jt.prototype.N=function(){Jt.Z.N.call(this),ii(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=s.JSON.stringify,Fn=s.JSON.parse,Yt=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function Vn(){}function bt(){}var $t={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function lr(){j.call(this,"d")}f(lr,j);function Xn(){j.call(this,"c")}f(Xn,j);var Qn={},vi=null;function mn(){return vi=vi||new ve}Qn.Ia="serverreachability";function xi(p){j.call(this,Qn.Ia,p)}f(xi,j);function cr(p){const P=mn();We(P,new xi(P))}Qn.STAT_EVENT="statevent";function bi(p,P){j.call(this,Qn.STAT_EVENT,p),this.stat=P}f(bi,j);function Ot(p){const P=mn();We(P,new bi(P,p))}Qn.Ja="timingevent";function ur(p,P){j.call(this,Qn.Ja,p),this.size=P}f(ur,j);function Gr(p,P){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},P)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Vi(p,P,I,D,K,J){p.info(function(){if(p.g)if(J){var be="",ft=J.split("&");for(let en=0;en<ft.length;en++){var Jn=ft[en].split("=");if(Jn.length>1){const fr=Jn[0];Jn=Jn[1];const Wo=fr.split("_");be=Wo.length>=2&&Wo[1]=="type"?be+(fr+"="+Jn+"&"):be+(fr+"=redacted&")}}}else be=null;else be=J;return"XMLHTTP REQ ("+D+") [attempt "+K+"]: "+P+`
`+I+`
`+be})}function oi(p,P,I,D,K,J,be){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+K+"]: "+P+`
`+I+`
`+J+" "+be})}function Kr(p,P,I,D){p.info(function(){return"XMLHTTP TEXT ("+P+"): "+Ps(p,I)+(D?" "+D:"")})}function wi(p,P){p.info(function(){return"TIMEOUT: "+P})}Pn.prototype.info=function(){};function Ps(p,P){if(!p.g)return P;if(!P)return null;try{const J=JSON.parse(P);if(J){for(p=0;p<J.length;p++)if(Array.isArray(J[p])){var I=J[p];if(!(I.length<2)){var D=I[1];if(Array.isArray(D)&&!(D.length<1)){var K=D[0];if(K!="noop"&&K!="stop"&&K!="close")for(let be=1;be<D.length;be++)D[be]=""}}}}return Zt(J)}catch{return P}}var Si={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},G={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ce;function Re(){}f(Re,Vn),Re.prototype.g=function(){return new XMLHttpRequest},ce=new Re;function qe(p){return encodeURIComponent(String(p))}function ot(p){var P=1;p=p.split(":");const I=[];for(;P>0&&p.length;)I.push(p.shift()),P--;return p.length&&I.push(p.join(":")),I}function wt(p,P,I,D){this.j=p,this.i=P,this.l=I,this.S=D||1,this.V=new Jt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var kn={},Un={};function Ue(p,P,I){p.M=1,p.A=Ne(ee(P)),p.u=I,p.R=!0,W(p,null)}function W(p,P){p.F=Date.now(),nt(p),p.B=ee(p.A);var I=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),Uo(I.i,"t",D),p.C=0,I=p.j.L,p.h=new Bn,p.g=ZA(p.j,I?P:null,!p.u),p.P>0&&(p.O=new Yn(c(p.Y,p,p.g),p.P)),P=p.V,I=p.g,D=p.ba;var K="readystatechange";Array.isArray(K)||(K&&(ar[0]=K.toString()),K=ar);for(let J=0;J<K.length;J++){const be=re(I,K[J],D||P.handleEvent,!1,P.h||P);if(!be)break;P.g[be.key]=be}P=p.J?Y(p.J):{},p.u?(p.v||(p.v="POST"),P["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,P)):(p.v="GET",p.g.ea(p.B,p.v,null,P)),cr(),Vi(p.i,p.v,p.B,p.l,p.S,p.u)}wt.prototype.ba=function(p){p=p.target;const P=this.O;P&&li(p)==3?P.j():this.Y(p)},wt.prototype.Y=function(p){try{if(p==this.g)e:{const ft=li(this.g),Jn=this.g.ya(),en=this.g.ca();if(!(ft<3)&&(ft!=3||this.g&&(this.h.h||this.g.la()||_l(this.g)))){this.K||ft!=4||Jn==7||(Jn==8||en<=0?cr(3):cr(2)),Lt(this);var P=this.g.ca();this.X=P;var I=we(this);if(this.o=P==200,oi(this.i,this.v,this.B,this.l,this.S,ft,P),this.o){if(this.U&&!this.L){t:{if(this.g){var D,K=this.g;if((D=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var J=D;break t}}J=null}if(p=J)Kr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dt(this,p);else{this.o=!1,this.m=3,Ot(12),Vt(this),Ft(this);break e}}if(this.R){p=!0;let fr;for(;!this.K&&this.C<I.length;)if(fr=ze(this,I),fr==Un){ft==4&&(this.m=4,Ot(14),p=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==kn){this.m=4,Ot(15),Kr(this.i,this.l,I,"[Invalid Chunk]"),p=!1;break}else Kr(this.i,this.l,fr,null),dt(this,fr);if(Pe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||I.length!=0||this.h.h||(this.m=1,Ot(16),p=!1),this.o=this.o&&p,!p)Kr(this.i,this.l,I,"[Invalid Chunked Response]"),Vt(this),Ft(this);else if(I.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Q0(be),be.P=!0,Ot(11))}}else Kr(this.i,this.l,I,null),dt(this,I);ft==4&&Vt(this),this.o&&!this.K&&(ft==4?YA(this.j,this):(this.o=!1,nt(this)))}else K0(this.g),P==400&&I.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Vt(this),Ft(this)}}}catch{}finally{}};function we(p){if(!Pe(p))return p.g.la();const P=_l(p.g);if(P==="")return"";let I="";const D=P.length,K=li(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Vt(p),Ft(p),"";p.h.i=new s.TextDecoder}for(let J=0;J<D;J++)p.h.h=!0,I+=p.h.i.decode(P[J],{stream:!(K&&J==D-1)});return P.length=0,p.h.g+=I,p.C=0,p.h.g}function Pe(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function ze(p,P){var I=p.C,D=P.indexOf(`
`,I);return D==-1?Un:(I=Number(P.substring(I,D)),isNaN(I)?kn:(D+=1,D+I>P.length?Un:(P=P.slice(D,D+I),p.C=D+I,P)))}wt.prototype.cancel=function(){this.K=!0,Vt(this)};function nt(p){p.T=Date.now()+p.H,st(p,p.H)}function st(p,P){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Gr(c(p.aa,p),P)}function Lt(p){p.D&&(s.clearTimeout(p.D),p.D=null)}wt.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(wi(this.i,this.B),this.M!=2&&(cr(),Ot(17)),Vt(this),this.m=2,Ft(this)):st(this,this.T-p)};function Ft(p){p.j.I==0||p.K||YA(p.j,p)}function Vt(p){Lt(p);var P=p.O;P&&typeof P.dispose=="function"&&P.dispose(),p.O=null,ii(p.V),p.g&&(P=p.g,p.g=null,P.abort(),P.dispose())}function dt(p,P){try{var I=p.j;if(I.I!=0&&(I.g==p||An(I.h,p))){if(!p.L&&An(I.h,p)&&I.I==3){try{var D=I.Ba.g.parse(P)}catch{D=null}if(Array.isArray(D)&&D.length==3){var K=D;if(K[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<p.F)vm(I),gm(I);else break e;X0(I),Ot(18)}}else I.xa=K[1],0<I.xa-I.K&&K[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Gr(c(I.Va,I),6e3));Bt(I.h)<=1&&I.ta&&(I.ta=void 0)}else Tl(I,11)}else if((p.L||I.g==p)&&vm(I),!O(P))for(K=I.Ba.g.parse(P),P=0;P<K.length;P++){let en=K[P];const fr=en[0];if(!(fr<=I.K))if(I.K=fr,en=en[1],I.I==2)if(en[0]=="c"){I.M=en[1],I.ba=en[2];const Wo=en[3];Wo!=null&&(I.ka=Wo,I.j.info("VER="+I.ka));const Pl=en[4];Pl!=null&&(I.za=Pl,I.j.info("SVER="+I.za));const pa=en[5];pa!=null&&typeof pa=="number"&&pa>0&&(D=1.5*pa,I.O=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const ma=p.g;if(ma){const bm=ma.g?ma.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bm){var J=D.h;J.g||bm.indexOf("spdy")==-1&&bm.indexOf("quic")==-1&&bm.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Cn(J,J.h),J.h=null))}if(D.G){const J0=ma.g?ma.g.getResponseHeader("X-HTTP-Session-Id"):null;J0&&(D.wa=J0,me(D.J,D.G,J0))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-p.F,I.j.info("Handshake RTT: "+I.T+"ms")),D=I;var be=p;if(D.na=JA(D,D.L?D.ba:null,D.W),be.L){gn(D.h,be);var ft=be,Jn=D.O;Jn&&(ft.H=Jn),ft.D&&(Lt(ft),nt(ft)),D.g=be}else GA(D);I.i.length>0&&ym(I)}else en[0]!="stop"&&en[0]!="close"||Tl(I,7);else I.I==3&&(en[0]=="stop"||en[0]=="close"?en[0]=="stop"?Tl(I,7):Y0(I):en[0]!="noop"&&I.l&&I.l.qa(en),I.A=0)}}cr(4)}catch{}}var Sr=class{constructor(p,P){this.g=p,this.map=P}};function si(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ht(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Bt(p){return p.h?1:p.g?p.g.size:0}function An(p,P){return p.h?p.h==P:p.g?p.g.has(P):!1}function Cn(p,P){p.g?p.g.add(P):p.h=P}function gn(p,P){p.h&&p.h==P?p.h=null:p.g&&p.g.has(P)&&p.g.delete(P)}si.prototype.cancel=function(){if(this.i=M(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function M(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let P=p.i;for(const I of p.g.values())P=P.concat(I.G);return P}return m(p.i)}var B=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q(p,P){if(p){p=p.split("&");for(let I=0;I<p.length;I++){const D=p[I].indexOf("=");let K,J=null;D>=0?(K=p[I].substring(0,D),J=p[I].substring(D+1)):K=p[I],P(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Z(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let P;p instanceof Z?(this.l=p.l,oe(this,p.j),this.o=p.o,this.g=p.g,pe(this,p.u),this.h=p.h,_e(this,fm(p.i)),this.m=p.m):p&&(P=String(p).match(B))?(this.l=!1,oe(this,P[1]||"",!0),this.o=rt(P[2]||""),this.g=rt(P[3]||"",!0),pe(this,P[4]),this.h=rt(P[5]||"",!0),_e(this,P[6]||"",!0),this.m=rt(P[7]||"")):(this.l=!1,this.i=new Ui(null,this.l))}Z.prototype.toString=function(){const p=[];var P=this.j;P&&p.push(Se(P,gt,!0),":");var I=this.g;return(I||P=="file")&&(p.push("//"),(P=this.o)&&p.push(Se(P,gt,!0),"@"),p.push(qe(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&p.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(Se(I,I.charAt(0)=="/"?Rn:On,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",Se(I,Bi)),p.join("")},Z.prototype.resolve=function(p){const P=ee(this);let I=!!p.j;I?oe(P,p.j):I=!!p.o,I?P.o=p.o:I=!!p.g,I?P.g=p.g:I=p.u!=null;var D=p.h;if(I)pe(P,p.u);else if(I=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var K=P.h.lastIndexOf("/");K!=-1&&(D=P.h.slice(0,K+1)+D)}if(K=D,K==".."||K==".")D="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){D=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let be=0;be<K.length;){const ft=K[be++];ft=="."?D&&be==K.length&&J.push(""):ft==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),D&&be==K.length&&J.push("")):(J.push(ft),D=!0)}D=J.join("/")}else D=K}return I?P.h=D:I=p.i.toString()!=="",I?_e(P,fm(p.i)):I=!!p.m,I&&(P.m=p.m),P};function ee(p){return new Z(p)}function oe(p,P,I){p.j=I?rt(P,!0):P,p.j&&(p.j=p.j.replace(/:$/,""))}function pe(p,P){if(P){if(P=Number(P),isNaN(P)||P<0)throw Error("Bad port number "+P);p.u=P}else p.u=null}function _e(p,P,I){P instanceof Ui?(p.i=P,hm(p.i,p.l)):(I||(P=Se(P,dr)),p.i=new Ui(P,p.l))}function me(p,P,I){p.i.set(P,I)}function Ne(p){return me(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function rt(p,P){return p?P?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Se(p,P,I){return typeof p=="string"?(p=encodeURI(p).replace(P,lt),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function lt(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var gt=/[#\/\?@]/g,On=/[#\?:]/g,Rn=/[#\?]/g,dr=/[#\?@]/g,Bi=/#/g;function Ui(p,P){this.h=this.g=null,this.i=p||null,this.j=!!P}function Bo(p){p.g||(p.g=new Map,p.h=0,p.i&&Q(p.i,function(P,I){p.add(decodeURIComponent(P.replace(/\+/g," ")),I)}))}t=Ui.prototype,t.add=function(p,P){Bo(this),this.i=null,p=ha(this,p);let I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(P),this.h+=1,this};function tf(p,P){Bo(p),P=ha(p,P),p.g.has(P)&&(p.i=null,p.h-=p.g.get(P).length,p.g.delete(P))}function nf(p,P){return Bo(p),P=ha(p,P),p.g.has(P)}t.forEach=function(p,P){Bo(this),this.g.forEach(function(I,D){I.forEach(function(K){p.call(P,K,D,this)},this)},this)};function rn(p,P){Bo(p);let I=[];if(typeof P=="string")nf(p,P)&&(I=I.concat(p.g.get(ha(p,P))));else for(p=Array.from(p.g.values()),P=0;P<p.length;P++)I=I.concat(p[P]);return I}t.set=function(p,P){return Bo(this),this.i=null,p=ha(this,p),nf(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[P]),this.h+=1,this},t.get=function(p,P){return p?(p=rn(this,p),p.length>0?String(p[0]):P):P};function Uo(p,P,I){tf(p,P),I.length>0&&(p.i=null,p.g.set(ha(p,P),m(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],P=Array.from(this.g.keys());for(let D=0;D<P.length;D++){var I=P[D];const K=qe(I);I=rn(this,I);for(let J=0;J<I.length;J++){let be=K;I[J]!==""&&(be+="="+qe(I[J])),p.push(be)}}return this.i=p.join("&")};function fm(p){const P=new Ui;return P.i=p.i,p.g&&(P.g=new Map(p.g),P.h=p.h),P}function ha(p,P){return P=String(P),p.j&&(P=P.toLowerCase()),P}function hm(p,P){P&&!p.j&&(Bo(p),p.i=null,p.g.forEach(function(I,D){const K=D.toLowerCase();D!=K&&(tf(this,D),Uo(this,K,I))},p)),p.j=P}function pm(p,P){const I=new Pn;if(s.Image){const D=new Image;D.onload=d(Pt,I,"TestLoadImage: loaded",!0,P,D),D.onerror=d(Pt,I,"TestLoadImage: error",!1,P,D),D.onabort=d(Pt,I,"TestLoadImage: abort",!1,P,D),D.ontimeout=d(Pt,I,"TestLoadImage: timeout",!1,P,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else P(!1)}function mm(p,P){const I=new Pn,D=new AbortController,K=setTimeout(()=>{D.abort(),Pt(I,"TestPingServer: timeout",!1,P)},1e4);fetch(p,{signal:D.signal}).then(J=>{clearTimeout(K),J.ok?Pt(I,"TestPingServer: ok",!0,P):Pt(I,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(K),Pt(I,"TestPingServer: error",!1,P)})}function Pt(p,P,I,D,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),D(I)}catch{}}function zn(){this.g=new Yt}function zi(p){this.i=p.Sb||null,this.h=p.ab||!1}f(zi,Vn),zi.prototype.g=function(){return new _i(this.i,this.h)};function _i(p,P){ve.call(this),this.H=p,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(_i,ve),t=_i.prototype,t.open=function(p,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=P,this.readyState=1,qt(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const P={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(P.body=p),(this.H||s).fetch(new Request(this.D,P)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,qt(this)),this.g&&(this.readyState=3,qt(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function zo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var P=p.value?p.value:new Uint8Array(0);(P=this.B.decode(P,{stream:!p.done}))&&(this.response=this.responseText+=P)}p.done?Ir(this):qt(this),this.readyState==3&&zo(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Ir(this))},t.Na=function(p){this.g&&(this.response=p,Ir(this))},t.ga=function(){this.g&&Ir(this)};function Ir(p){p.readyState=4,p.l=null,p.j=null,p.B=null,qt(p)}t.setRequestHeader=function(p,P){this.A.append(p,P)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],P=this.h.entries();for(var I=P.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=P.next();return p.join(`\r
`)};function qt(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function yt(p){let P="";return L(p,function(I,D){P+=D,P+=":",P+=I,P+=`\r
`}),P}function ct(p,P,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=yt(I),typeof p=="string"?I!=null&&qe(I):me(p,P,I))}function Rt(p){ve.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Rt,ve);var kr=/^https?$/i,Yr=["POST","PUT"];t=Rt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,P,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);P=P?P.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ce.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(P,String(p),!0),this.B=!1}catch(J){ai(this,J);return}if(p=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var K in D)I.set(K,D[K]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())I.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(J=>J.toLowerCase()=="content-type"),K=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(Yr,P,void 0)>=0)||D||K||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,be]of I)this.g.setRequestHeader(J,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(J){ai(this,J)}};function ai(p,P){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=P,p.o=5,Oc(p),Sl(p)}function Oc(p){p.A||(p.A=!0,We(p,"complete"),We(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,We(this,"complete"),We(this,"abort"),Sl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sl(this,!0)),Rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?G0(this):this.Xa())},t.Xa=function(){G0(this)};function G0(p){if(p.h&&typeof o<"u"){if(p.v&&li(p)==4)setTimeout(p.Ca.bind(p),0);else if(We(p,"readystatechange"),li(p)==4){p.h=!1;try{const J=p.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var I;if(!(I=P)){var D;if(D=J===0){let be=String(p.D).match(B)[1]||null;!be&&s.self&&s.self.location&&(be=s.self.location.protocol.slice(0,-1)),D=!kr.test(be?be.toLowerCase():"")}I=D}if(I)We(p,"complete"),We(p,"success");else{p.o=6;try{var K=li(p)>2?p.g.statusText:""}catch{K=""}p.l=K+" ["+p.ca()+"]",Oc(p)}}finally{Sl(p)}}}}function Sl(p,P){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const I=p.g;p.g=null,P||We(p,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function li(p){return p.g?p.g.readyState:0}t.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var P=this.g.responseText;return p&&P.indexOf(p)==0&&(P=P.substring(p.length)),Fn(P)}};function _l(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function K0(p){const P={};p=(p.g&&li(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(O(p[D]))continue;var I=ot(p[D]);const K=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const J=P[K]||[];P[K]=J,J.push(I)}X(P,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function El(p,P,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||P}function rf(p){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=El("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=El("baseRetryDelayMs",5e3,p),this.Za=El("retryDelaySeedMs",1e4,p),this.Ta=El("forwardChannelMaxRetries",2,p),this.va=El("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new si(p&&p.concurrentRequestLimit),this.Ba=new zn,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=rf.prototype,t.ka=8,t.I=1,t.connect=function(p,P,I,D){Ot(0),this.W=p,this.H=P||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.J=JA(this,null,this.W),ym(this)};function Y0(p){if(WA(p),p.I==3){var P=p.V++,I=ee(p.J);if(me(I,"SID",p.M),me(I,"RID",P),me(I,"TYPE","terminate"),of(p,I),P=new wt(p,p.j,P),P.M=2,P.A=Ne(ee(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(P.A.toString(),"")}catch{}!I&&s.Image&&(new Image().src=P.A,I=!0),I||(P.g=ZA(P.j,null),P.g.ea(P.A)),P.F=Date.now(),nt(P)}QA(p)}function gm(p){p.g&&(Q0(p),p.g.cancel(),p.g=null)}function WA(p){gm(p),p.v&&(s.clearTimeout(p.v),p.v=null),vm(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function ym(p){if(!Ht(p.h)&&!p.m){p.m=!0;var P=p.Ea;E||T(),C||(E(),C=!0),_.add(P,p),p.D=0}}function S9(p,P){return Bt(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=P.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Gr(c(p.Ea,p,P),XA(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const K=new wt(this,this.j,p);let J=this.o;if(this.U&&(J?(J=Y(J),ye(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var P=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(P+=D,P>4096){P=I;break e}if(P===4096||I===this.i.length-1){P=I+1;break e}}P=1e3}else P=1e3;P=qA(this,K,P),I=ee(this.J),me(I,"RID",p),me(I,"CVER",22),this.G&&me(I,"X-HTTP-Session-Id",this.G),of(this,I),J&&(this.R?P="headers="+qe(yt(J))+"&"+P:this.u&&ct(I,this.u,J)),Cn(this.h,K),this.Ra&&me(I,"TYPE","init"),this.S?(me(I,"$req",P),me(I,"SID","null"),K.U=!0,Ue(K,I,null)):Ue(K,I,P),this.I=2}}else this.I==3&&(p?HA(this,p):this.i.length==0||Ht(this.h)||HA(this))};function HA(p,P){var I;P?I=P.l:I=p.V++;const D=ee(p.J);me(D,"SID",p.M),me(D,"RID",I),me(D,"AID",p.K),of(p,D),p.u&&p.o&&ct(D,p.u,p.o),I=new wt(p,p.j,I,p.D+1),p.u===null&&(I.J=p.o),P&&(p.i=P.G.concat(p.i)),P=qA(p,I,1e3),I.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Cn(p.h,I),Ue(I,D,P)}function of(p,P){p.H&&L(p.H,function(I,D){me(P,D,I)}),p.l&&L({},function(I,D){me(P,D,I)})}function qA(p,P,I){I=Math.min(p.i.length,I);const D=p.l?c(p.l.Ka,p.l,p):null;e:{var K=p.i;let ft=-1;for(;;){const Jn=["count="+I];ft==-1?I>0?(ft=K[0].g,Jn.push("ofs="+ft)):ft=0:Jn.push("ofs="+ft);let en=!0;for(let fr=0;fr<I;fr++){var J=K[fr].g;const Wo=K[fr].map;if(J-=ft,J<0)ft=Math.max(0,K[fr].g-100),en=!1;else try{J="req"+J+"_"||"";try{var be=Wo instanceof Map?Wo:Object.entries(Wo);for(const[Pl,pa]of be){let ma=pa;a(pa)&&(ma=Zt(pa)),Jn.push(J+Pl+"="+encodeURIComponent(ma))}}catch(Pl){throw Jn.push(J+"type="+encodeURIComponent("_badmap")),Pl}}catch{D&&D(Wo)}}if(en){be=Jn.join("&");break e}}be=void 0}return p=p.i.splice(0,I),P.G=p,be}function GA(p){if(!p.g&&!p.v){p.Y=1;var P=p.Da;E||T(),C||(E(),C=!0),_.add(P,p),p.A=0}}function X0(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Gr(c(p.Da,p),XA(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,KA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Gr(c(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),gm(this),KA(this))};function Q0(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function KA(p){p.g=new wt(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var P=ee(p.na);me(P,"RID","rpc"),me(P,"SID",p.M),me(P,"AID",p.K),me(P,"CI",p.F?"0":"1"),!p.F&&p.ia&&me(P,"TO",p.ia),me(P,"TYPE","xmlhttp"),of(p,P),p.u&&p.o&&ct(P,p.u,p.o),p.O&&(p.g.H=p.O);var I=p.g;p=p.ba,I.M=1,I.A=Ne(ee(P)),I.u=null,I.R=!0,W(I,p)}t.Va=function(){this.C!=null&&(this.C=null,gm(this),X0(this),Ot(19))};function vm(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function YA(p,P){var I=null;if(p.g==P){vm(p),Q0(p),p.g=null;var D=2}else if(An(p.h,P))I=P.G,gn(p.h,P),D=1;else return;if(p.I!=0){if(P.o)if(D==1){I=P.u?P.u.length:0,P=Date.now()-P.F;var K=p.D;D=mn(),We(D,new ur(D,I)),ym(p)}else GA(p);else if(K=P.m,K==3||K==0&&P.X>0||!(D==1&&S9(p,P)||D==2&&X0(p)))switch(I&&I.length>0&&(P=p.h,P.i=P.i.concat(I)),K){case 1:Tl(p,5);break;case 4:Tl(p,10);break;case 3:Tl(p,6);break;default:Tl(p,2)}}}function XA(p,P){let I=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(I*=2),I*P}function Tl(p,P){if(p.j.info("Error code "+P),P==2){var I=c(p.bb,p),D=p.Ua;const K=!D;D=new Z(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||oe(D,"https"),Ne(D),K?pm(D.toString(),I):mm(D.toString(),I)}else Ot(2);p.I=0,p.l&&p.l.pa(P),QA(p),WA(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function QA(p){if(p.I=0,p.ja=[],p.l){const P=M(p.h);(P.length!=0||p.i.length!=0)&&(y(p.ja,P),y(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function JA(p,P,I){var D=I instanceof Z?ee(I):new Z(I);if(D.g!="")P&&(D.g=P+"."+D.g),pe(D,D.u);else{var K=s.location;D=K.protocol,P=P?P+"."+K.hostname:K.hostname,K=+K.port;const J=new Z(null);D&&oe(J,D),P&&(J.g=P),K&&pe(J,K),I&&(J.h=I),D=J}return I=p.G,P=p.wa,I&&P&&me(D,I,P),me(D,"VER",p.ka),of(p,D),D}function ZA(p,P,I){if(P&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return P=p.Aa&&!p.ma?new Rt(new zi({ab:I})):new Rt(p.ma),P.Fa(p.L),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eC(){}t=eC.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xm(){}xm.prototype.g=function(p,P){return new Ei(p,P)};function Ei(p,P){ve.call(this),this.g=new rf(P),this.l=p,this.h=P&&P.messageUrlParams||null,p=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(p?p["X-WebChannel-Content-Type"]=P.messageContentType:p={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.sa&&(p?p["X-WebChannel-Client-Profile"]=P.sa:p={"X-WebChannel-Client-Profile":P.sa}),this.g.U=p,(p=P&&P.Qb)&&!O(p)&&(this.g.u=p),this.A=P&&P.supportsCrossDomainXhr||!1,this.v=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!O(P)&&(this.g.G=P,p=this.h,p!==null&&P in p&&(p=this.h,P in p&&delete p[P])),this.j=new Rc(this)}f(Ei,ve),Ei.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ei.prototype.close=function(){Y0(this.g)},Ei.prototype.o=function(p){var P=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.v&&(I={},I.__data__=Zt(p),p=I);P.i.push(new Sr(P.Ya++,p)),P.I==3&&ym(P)},Ei.prototype.N=function(){this.g.l=null,delete this.j,Y0(this.g),delete this.g,Ei.Z.N.call(this)};function tC(p){lr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var P=p.__sm__;if(P){e:{for(const I in P){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,P=P!==null&&p in P?P[p]:void 0),this.data=P}else this.data=p}f(tC,lr);function nC(){Xn.call(this),this.status=1}f(nC,Xn);function Rc(p){this.g=p}f(Rc,eC),Rc.prototype.ra=function(){We(this.g,"a")},Rc.prototype.qa=function(p){We(this.g,new tC(p))},Rc.prototype.pa=function(p){We(this.g,new nC)},Rc.prototype.oa=function(){We(this.g,"b")},xm.prototype.createWebChannel=xm.prototype.g,Ei.prototype.send=Ei.prototype.o,Ei.prototype.open=Ei.prototype.m,Ei.prototype.close=Ei.prototype.close,D4=function(){return new xm},M4=function(){return mn()},R4=Qn,q1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,Vg=Si,G.COMPLETE="complete",O4=G,bt.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",ve.prototype.listen=ve.prototype.J,kf=bt,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,k4=Rt}).apply(typeof qm<"u"?qm:typeof self<"u"?self:typeof window<"u"?window:{});const Sj="@firebase/firestore",_j="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new hT("@firebase/firestore");function zc(){return hc.logLevel}function Ie(t,...e){if(hc.logLevel<=St.DEBUG){const n=e.map(PT);hc.debug(`Firestore (${Md}): ${t}`,...n)}}function ta(t,...e){if(hc.logLevel<=St.ERROR){const n=e.map(PT);hc.error(`Firestore (${Md}): ${t}`,...n)}}function Xu(t,...e){if(hc.logLevel<=St.WARN){const n=e.map(PT);hc.warn(`Firestore (${Md}): ${t}`,...n)}}function PT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$4(t,r,n)}function $4(t,e,n){let r=`FIRESTORE (${Md}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ta(r),new Error(r)}function Wt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||$4(e,i,r)}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fr.UNAUTHENTICATED))}shutdown(){}}class vQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xQ{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Wt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ja,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ja)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new L4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new Fr(e)}}class bQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new bQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ej{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,To(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Wt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ej(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ej(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Q(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_Q(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Et(t,e){return t<e?-1:t>e?1:0}function G1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Bb(i)===Bb(o)?Et(i,o):Bb(i)?1:-1}return Et(t.length,e.length)}const EQ=55296,TQ=57343;function Bb(t){const e=t.charCodeAt(0);return e>=EQ&&e<=TQ}function Qu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="__name__";class Ko{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ko.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ko?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ko.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Et(e.length,n.length)}static compareSegments(e,n){const r=Ko.isNumericId(e),i=Ko.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ko.extractNumericId(e).compare(Ko.extractNumericId(n)):G1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qa.fromString(e.substring(4,e.length-2))}}class wn extends Ko{construct(e,n,r){return new wn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new wn(n)}static emptyPath(){return new wn([])}}const PQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends Ko{construct(e,n,r){return new Pr(e,n,r)}static isValidIdentifier(e){return PQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tj}static keyField(){return new Pr([Tj])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new He(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new He(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new He(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new He(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(n)}static emptyPath(){return new Pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(wn.fromString(e))}static fromName(e){return new Xe(wn.fromString(e).popFirst(5))}static empty(){return new Xe(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new wn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(t,e,n){if(!n)throw new He(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CQ(t,e,n,r){if(e===!0&&r===!0)throw new He(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pj(t){if(!Xe.isDocumentKey(t))throw new He(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function CT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze(12329,{type:typeof t})}function $h(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new He(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=CT(t);throw new He(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yp(t,e){if(!F4(t))throw new He(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new He(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=-62135596800,Cj=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Cj);return new hn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new He(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new He(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Aj)throw new He(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cj}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:hn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yp(e,hn._jsonSchema))return new hn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Aj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}hn._jsonSchemaVersion="firestore/timestamp/1.0",hn._jsonSchema={type:Gn("string",hn._jsonSchemaVersion),seconds:Gn("number"),nanoseconds:Gn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{static fromTimestamp(e){return new it(e)}static min(){return new it(new hn(0,0))}static max(){return new it(new hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=-1;function NQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=it.fromTimestamp(r===1e9?new hn(n+1,0):new hn(n,r));return new sl(i,Xe.empty(),e)}function jQ(t){return new sl(t.readTime,t.key,Lh)}class sl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new sl(it.min(),Xe.empty(),Lh)}static max(){return new sl(it.max(),Xe.empty(),Lh)}}function IQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:Et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==kQ)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new se((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function RQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $d(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=-1;function Ox(t){return t==null}function My(t){return t===0&&1/t==-1/0}function MQ(t){return typeof t=="number"&&Number.isInteger(t)&&!My(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="";function DQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Nj(e)),e=$Q(t.get(n),e);return Nj(e)}function $Q(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case V4:n+="";break;default:n+=o}}return n}function Nj(t){return t+V4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function B4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){this.comparator=e,this.root=n||Tr.EMPTY}insert(e,n){return new Tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(e){return new Tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gm(this.root,e,this.comparator,!0)}}class Gm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Tr.RED,this.left=i??Tr.EMPTY,this.right=o??Tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Tr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1;Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ij(this.data.getIterator())}getIteratorFrom(e){return new Ij(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new or(this.comparator);return n.data=e,n}}class Ij{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new Co([])}unionWith(e){let n=new or(Pr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Co(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new U4("Invalid base64 string: "+o):o}}(e);return new jr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new jr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const LQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function al(t){if(Wt(!!t,39018),typeof t=="string"){let e=0;const n=LQ.exec(t);if(Wt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ll(t){return typeof t=="string"?jr.fromBase64String(t):jr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="server_timestamp",W4="__type__",H4="__previous_value__",q4="__local_write_time__";function jT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[W4])==null?void 0:r.stringValue)===z4}function Rx(t){const e=t.mapValue.fields[H4];return jT(e)?Rx(e):e}function Fh(t){const e=al(t.mapValue.fields[q4].timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e,n,r,i,o,s,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Dy="(default)";class Vh{constructor(e,n){this.projectId=e,this.database=n||Dy}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===Dy}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="__type__",K4="__max__",Km={mapValue:{fields:{__type__:{stringValue:K4}}}},Y4="__vector__",$y="value";function cl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jT(t)?4:BQ(t)?9007199254740991:VQ(t)?10:11:Ze(28295,{value:t})}function bs(t,e){if(t===e)return!0;const n=cl(t);if(n!==cl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fh(t).isEqual(Fh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=al(i.timestampValue),a=al(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ll(i.bytesValue).isEqual(ll(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Mn(i.geoPointValue.latitude)===Mn(o.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Mn(i.integerValue)===Mn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Mn(i.doubleValue),a=Mn(o.doubleValue);return s===a?My(s)===My(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Qu(t.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(jj(s)!==jj(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!bs(s[l],a[l])))return!1;return!0}(t,e);default:return Ze(52216,{left:t})}}function Bh(t,e){return(t.values||[]).find(n=>bs(n,e))!==void 0}function Ju(t,e){if(t===e)return 0;const n=cl(t),r=cl(e);if(n!==r)return Et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Et(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Mn(o.integerValue||o.doubleValue),l=Mn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return kj(t.timestampValue,e.timestampValue);case 4:return kj(Fh(t),Fh(e));case 5:return G1(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ll(o),l=ll(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Et(a[c],l[c]);if(d!==0)return d}return Et(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Et(Mn(o.latitude),Mn(s.latitude));return a!==0?a:Et(Mn(o.longitude),Mn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Oj(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,m,y,g;const a=o.fields||{},l=s.fields||{},c=(h=a[$y])==null?void 0:h.arrayValue,d=(m=l[$y])==null?void 0:m.arrayValue,f=Et(((y=c==null?void 0:c.values)==null?void 0:y.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:Oj(c,d)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Km.mapValue&&s===Km.mapValue)return 0;if(o===Km.mapValue)return 1;if(s===Km.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=G1(l[f],d[f]);if(h!==0)return h;const m=Ju(a[l[f]],c[d[f]]);if(m!==0)return m}return Et(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ze(23264,{he:n})}}function kj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Et(t,e);const n=al(t),r=al(e),i=Et(n.seconds,r.seconds);return i!==0?i:Et(n.nanos,r.nanos)}function Oj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ju(n[i],r[i]);if(o)return o}return Et(n.length,r.length)}function Zu(t){return K1(t)}function K1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=al(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ll(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=K1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${K1(n.fields[s])}`;return i+"}"}(t.mapValue):Ze(61005,{value:t})}function Bg(t){switch(cl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rx(t);return e?16+Bg(e):16;case 5:return 2*t.stringValue.length;case 6:return ll(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Bg(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Tc(r.fields,(o,s)=>{i+=o.length+Bg(s)}),i}(t.mapValue);default:throw Ze(13486,{value:t})}}function Y1(t){return!!t&&"integerValue"in t}function IT(t){return!!t&&"arrayValue"in t}function Rj(t){return!!t&&"nullValue"in t}function Mj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ug(t){return!!t&&"mapValue"in t}function VQ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[G4])==null?void 0:r.stringValue)===Y4}function Zf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Tc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return{...t}}function BQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===K4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ug(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=Pr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Zf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ug(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ug(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xi(Zf(this.value))}}function X4(t){const e=[];return Tc(t.fields,(n,r)=>{const i=new Pr([n]);if(Ug(r)){const o=X4(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Co(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Br(e,0,it.min(),it.min(),it.min(),Xi.empty(),0)}static newFoundDocument(e,n,r,i){return new Br(e,1,n,it.min(),r,i,0)}static newNoDocument(e,n){return new Br(e,2,n,it.min(),it.min(),Xi.empty(),0)}static newUnknownDocument(e,n){return new Br(e,3,n,it.min(),it.min(),Xi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.position=e,this.inclusive=n}}function Dj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Xe.comparator(Xe.fromName(s.referenceValue),n.key):r=Ju(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $j(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n="asc"){this.field=e,this.dir=n}}function UQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{}class nr extends Q4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WQ(e,n,r):n==="array-contains"?new GQ(e,r):n==="in"?new KQ(e,r):n==="not-in"?new YQ(e,r):n==="array-contains-any"?new XQ(e,r):new nr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HQ(e,r):new qQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ju(n,this.value)):n!==null&&cl(this.value)===cl(n)&&this.matchesComparison(Ju(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends Q4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ws(e,n)}matches(e){return J4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function J4(t){return t.op==="and"}function Z4(t){return zQ(t)&&J4(t)}function zQ(t){for(const e of t.filters)if(e instanceof ws)return!1;return!0}function X1(t){if(t instanceof nr)return t.field.canonicalString()+t.op.toString()+Zu(t.value);if(Z4(t))return t.filters.map(e=>X1(e)).join(",");{const e=t.filters.map(n=>X1(n)).join(",");return`${t.op}(${e})`}}function e3(t,e){return t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.field.isEqual(i.field)&&bs(r.value,i.value)}(t,e):t instanceof ws?function(r,i){return i instanceof ws&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&e3(s,i.filters[a]),!0):!1}(t,e):void Ze(19439)}function t3(t){return t instanceof nr?function(n){return`${n.field.canonicalString()} ${n.op} ${Zu(n.value)}`}(t):t instanceof ws?function(n){return n.op.toString()+" {"+n.getFilters().map(t3).join(" ,")+"}"}(t):"Filter"}class WQ extends nr{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class HQ extends nr{constructor(e,n){super(e,"in",n),this.keys=n3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qQ extends nr{constructor(e,n){super(e,"not-in",n),this.keys=n3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function n3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class GQ extends nr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return IT(n)&&Bh(n.arrayValue,this.value)}}class KQ extends nr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bh(this.value.arrayValue,n)}}class YQ extends nr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bh(this.value.arrayValue,n)}}class XQ extends nr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!IT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function Lj(t,e=null,n=[],r=[],i=null,o=null,s=null){return new QQ(t,e,n,r,i,o,s)}function kT(t){const e=at(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>X1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ox(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zu(r)).join(",")),e.Te=n}return e.Te}function OT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!e3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$j(t.startAt,e.startAt)&&$j(t.endAt,e.endAt)}function Q1(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JQ(t,e,n,r,i,o,s,a){return new Mx(t,e,n,r,i,o,s,a)}function RT(t){return new Mx(t)}function Fj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZQ(t){return t.collectionGroup!==null}function eh(t){const e=at(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new or(Pr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Fy(o,r))}),n.has(Pr.keyField().canonicalString())||e.Ie.push(new Fy(Pr.keyField(),r))}return e.Ie}function ds(t){const e=at(t);return e.Ee||(e.Ee=eJ(e,eh(t))),e.Ee}function eJ(t,e){if(t.limitType==="F")return Lj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Fy(i.field,o)});const n=t.endAt?new Ly(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ly(t.startAt.position,t.startAt.inclusive):null;return Lj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function J1(t,e,n){return new Mx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dx(t,e){return OT(ds(t),ds(e))&&t.limitType===e.limitType}function r3(t){return`${kT(ds(t))}|lt:${t.limitType}`}function Wc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>t3(i)).join(", ")}]`),Ox(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zu(i)).join(",")),`Target(${r})`}(ds(t))}; limitType=${t.limitType})`}function $x(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of eh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=Dj(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,eh(r),i)||r.endAt&&!function(s,a,l){const c=Dj(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,eh(r),i))}(t,e)}function tJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function i3(t){return(e,n)=>{let r=!1;for(const i of eh(t)){const o=nJ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nJ(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Ju(l,c):Ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return B4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ=new Tn(Xe.comparator);function na(){return rJ}const o3=new Tn(Xe.comparator);function Of(...t){let e=o3;for(const n of t)e=e.insert(n.key,n);return e}function s3(t){let e=o3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vl(){return th()}function a3(){return th()}function th(){return new Pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const iJ=new Tn(Xe.comparator),oJ=new or(Xe.comparator);function Tt(...t){let e=oJ;for(const n of t)e=e.add(n);return e}const sJ=new or(Et);function aJ(){return sJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:My(e)?"-0":e}}function l3(t){return{integerValue:""+t}}function lJ(t,e){return MQ(e)?l3(e):MT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this._=void 0}}function cJ(t,e,n){return t instanceof Uh?function(i,o){const s={fields:{[W4]:{stringValue:z4},[q4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jT(o)&&(o=Rx(o)),o&&(s.fields[H4]=o),{mapValue:s}}(n,e):t instanceof zh?u3(t,e):t instanceof Wh?d3(t,e):function(i,o){const s=c3(i,o),a=Vj(s)+Vj(i.Ae);return Y1(s)&&Y1(i.Ae)?l3(a):MT(i.serializer,a)}(t,e)}function uJ(t,e,n){return t instanceof zh?u3(t,e):t instanceof Wh?d3(t,e):n}function c3(t,e){return t instanceof Vy?function(r){return Y1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Uh extends Lx{}class zh extends Lx{constructor(e){super(),this.elements=e}}function u3(t,e){const n=f3(e);for(const r of t.elements)n.some(i=>bs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wh extends Lx{constructor(e){super(),this.elements=e}}function d3(t,e){let n=f3(e);for(const r of t.elements)n=n.filter(i=>!bs(i,r));return{arrayValue:{values:n}}}class Vy extends Lx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Vj(t){return Mn(t.integerValue||t.doubleValue)}function f3(t){return IT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e,n){this.field=e,this.transform=n}}function fJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zh&&i instanceof zh||r instanceof Wh&&i instanceof Wh?Qu(r.elements,i.elements,bs):r instanceof Vy&&i instanceof Vy?bs(r.Ae,i.Ae):r instanceof Uh&&i instanceof Uh}(t.transform,e.transform)}class hJ{constructor(e,n){this.version=e,this.transformResults=n}}class zs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zs}static exists(e){return new zs(void 0,e)}static updateTime(e){return new zs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fx{}function h3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m3(t.key,zs.none()):new Xp(t.key,t.data,zs.none());{const n=t.data,r=Xi.empty();let i=new or(Pr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ac(t.key,r,new Co(i.toArray()),zs.none())}}function pJ(t,e,n){t instanceof Xp?function(i,o,s){const a=i.value.clone(),l=Uj(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ac?function(i,o,s){if(!zg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Uj(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(p3(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function nh(t,e,n,r){return t instanceof Xp?function(o,s,a,l){if(!zg(o.precondition,s))return a;const c=o.value.clone(),d=zj(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ac?function(o,s,a,l){if(!zg(o.precondition,s))return a;const c=zj(o.fieldTransforms,l,s),d=s.data;return d.setAll(p3(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return zg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function mJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=c3(r.transform,i||null);o!=null&&(n===null&&(n=Xi.empty()),n.set(r.field,o))}return n||null}function Bj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qu(r,i,(o,s)=>fJ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xp extends Fx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ac extends Fx{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function p3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Uj(t,e,n){const r=new Map;Wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,uJ(s,a,n[i]))}return r}function zj(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,cJ(o,s,e))}return r}class m3 extends Fx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gJ extends Fx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&pJ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=a3();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=h3(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(it.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,(n,r)=>Bj(n,r))&&Qu(this.baseMutations,e.baseMutations,(n,r)=>Bj(n,r))}}class DT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return iJ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new DT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vJ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn,Nt;function bJ(t){switch(t){case de.OK:return Ze(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ze(15467,{code:t})}}function g3(t){if(t===void 0)return ta("GRPC error has no .code"),de.UNKNOWN;switch(t){case Wn.OK:return de.OK;case Wn.CANCELLED:return de.CANCELLED;case Wn.UNKNOWN:return de.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return de.INTERNAL;case Wn.UNAVAILABLE:return de.UNAVAILABLE;case Wn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Wn.NOT_FOUND:return de.NOT_FOUND;case Wn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Wn.ABORTED:return de.ABORTED;case Wn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Wn.DATA_LOSS:return de.DATA_LOSS;default:return Ze(39323,{code:t})}}(Nt=Wn||(Wn={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJ=new Qa([4294967295,4294967295],0);function Wj(t){const e=wJ().encode(t),n=new I4;return n.update(e),new Uint8Array(n.digest())}function Hj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qa([n,r],0),new Qa([i,o],0)]}class $T{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rf(`Invalid padding: ${n}`);if(r<0)throw new Rf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qa.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Qa.fromNumber(r)));return i.compare(SJ)===1&&(i=new Qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Wj(e),[r,i]=Hj(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new $T(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=Wj(e),[r,i]=Hj(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vx(it.min(),i,new Tn(Et),na(),Tt())}}class Qp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qp(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class y3{constructor(e,n){this.targetId=e,this.Ce=n}}class v3{constructor(e,n,r=jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qj{constructor(){this.ve=0,this.Fe=Gj(),this.Me=jr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Tt(),n=Tt(),r=Tt();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ze(38017,{changeType:o})}}),new Qp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Gj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _J{constructor(e){this.Ge=e,this.ze=new Map,this.je=na(),this.Je=Ym(),this.He=Ym(),this.Ye=new Tn(Et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Q1(o))if(r===0){const s=new Xe(o.path);this.et(n,s,Br.newNoDocument(s,it.min()))}else Wt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ll(r).toUint8Array()}catch(l){if(l instanceof U4)return Xu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $T(s,i,o)}catch(l){return Xu(l instanceof Rf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Q1(a.target)){const l=new Xe(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Br.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Tt();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Vx(e,n,this.Ye,this.je,r);return this.je=na(),this.Je=Ym(),this.He=Ym(),this.Ye=new Tn(Et),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qj,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new or(Et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new or(Et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qj),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ym(){return new Tn(Xe.comparator)}function Gj(){return new Tn(Xe.comparator)}const EJ={asc:"ASCENDING",desc:"DESCENDING"},TJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PJ={and:"AND",or:"OR"};class AJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Z1(t,e){return t.useProto3Json||Ox(e)?e:{value:e}}function By(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CJ(t,e){return By(t,e.toTimestamp())}function fs(t){return Wt(!!t,49232),it.fromTimestamp(function(n){const r=al(n);return new hn(r.seconds,r.nanos)}(t))}function LT(t,e){return eS(t,e).canonicalString()}function eS(t,e){const n=function(i){return new wn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function b3(t){const e=wn.fromString(t);return Wt(T3(e),10190,{key:e.toString()}),e}function tS(t,e){return LT(t.databaseId,e.path)}function Ub(t,e){const n=b3(e);if(n.get(1)!==t.databaseId.projectId)throw new He(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new He(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(S3(n))}function w3(t,e){return LT(t.databaseId,e)}function NJ(t){const e=b3(t);return e.length===4?wn.emptyPath():S3(e)}function nS(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S3(t){return Wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Kj(t,e,n){return{name:tS(t,e),fields:n.value.mapValue.fields}}function jJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ze(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Wt(d===void 0||typeof d=="string",58123),jr.fromBase64String(d||"")):(Wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),jr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?de.UNKNOWN:g3(c.code);return new He(d,c.message||"")}(s);n=new v3(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ub(t,r.document.name),o=fs(r.document.updateTime),s=r.document.createTime?fs(r.document.createTime):it.min(),a=new Xi({mapValue:{fields:r.document.fields}}),l=Br.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Wg(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ub(t,r.document),o=r.readTime?fs(r.readTime):it.min(),s=Br.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Wg([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ub(t,r.document),o=r.removedTargetIds||[];n=new Wg([],o,i,null)}else{if(!("filter"in e))return Ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new xJ(i,o),a=r.targetId;n=new y3(a,s)}}return n}function IJ(t,e){let n;if(e instanceof Xp)n={update:Kj(t,e.key,e.value)};else if(e instanceof m3)n={delete:tS(t,e.key)};else if(e instanceof Ac)n={update:Kj(t,e.key,e.data),updateMask:VJ(e.fieldMask)};else{if(!(e instanceof gJ))return Ze(16599,{Vt:e.type});n={verify:tS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Uh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vy)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw Ze(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:CJ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze(27497)}(t,e.precondition)),n}function kJ(t,e){return t&&t.length>0?(Wt(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?fs(i.updateTime):fs(o);return s.isEqual(it.min())&&(s=fs(o)),new hJ(s,i.transformResults||[])}(n,e))):[]}function OJ(t,e){return{documents:[w3(t,e.path)]}}function RJ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=w3(t,i);const o=function(c){if(c.length!==0)return E3(ws.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Hc(h.field),direction:$J(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Z1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function MJ(t){let e=NJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=_3(f);return h instanceof ws&&Z4(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new Fy(qc(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Ox(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Ly(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new Ly(m,h)}(n.endAt)),JQ(e,i,s,o,a,"F",l,c)}function DJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qc(n.unaryFilter.field);return nr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qc(n.unaryFilter.field);return nr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qc(n.unaryFilter.field);return nr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qc(n.unaryFilter.field);return nr.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return nr.create(qc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ws.create(n.compositeFilter.filters.map(r=>_3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}}(n.compositeFilter.op))}(t):Ze(30097,{filter:t})}function $J(t){return EJ[t]}function LJ(t){return TJ[t]}function FJ(t){return PJ[t]}function Hc(t){return{fieldPath:t.canonicalString()}}function qc(t){return Pr.fromServerFormat(t.fieldPath)}function E3(t){return t instanceof nr?function(n){if(n.op==="=="){if(Mj(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NAN"}};if(Rj(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mj(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NOT_NAN"}};if(Rj(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(n.field),op:LJ(n.op),value:n.value}}}(t):t instanceof ws?function(n){const r=n.getFilters().map(i=>E3(i));return r.length===1?r[0]:{compositeFilter:{op:FJ(n.op),filters:r}}}(t):Ze(54877,{filter:t})}function VJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function T3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r,i,o=it.min(),s=it.min(),a=jr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e){this.yt=e}}function UJ(t){const e=MJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?J1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(){this.Cn=new WJ}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(sl.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(sl.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class WJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new or(wn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new or(wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P3=41943040;class ci{static withCacheSize(e){return new ci(e,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(P3,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ed(0)}static cr(){return new ed(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="LruGarbageCollector",HJ=1048576;function Qj([t,e],[n,r]){const i=Et(t,n);return i===0?Et(e,r):i}class qJ{constructor(e){this.Ir=e,this.buffer=new or(Qj),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Qj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ie(Xj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$d(n)?Ie(Xj,"Ignoring IndexedDB error during garbage collection: ",n):await Dd(n)}await this.Vr(3e5)})}}class KJ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(kx.ce);const r=new qJ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Yj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yj):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),zc()<=St.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function YJ(t,e){return new KJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(){this.changes=new Pc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nh(r.mutation,i,Co.empty(),hn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const i=Vl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Of();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Vl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=na();const s=th(),a=function(){return th()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ac)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),nh(d.mutation,c,d.mutation.getFieldMask(),hn.now())):s.set(c.key,Co.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>a.set(c,new QJ(d,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=th();let i=new Tn((s,a)=>s-a),o=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Co.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||Tt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=a3();d.forEach(h=>{if(!o.has(h)){const m=h3(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return se.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):se.resolve(Vl());let a=Lh,l=o;return s.next(c=>se.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?se.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Tt())).next(d=>({batchId:a,changes:s3(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next(r=>{let i=Of();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Of();return this.indexManager.getCollectionParents(e,o).next(a=>se.forEach(a,l=>{const c=function(f,h){return new Mx(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Br.newInvalidDocument(d)))});let a=Of();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&nh(d.mutation,c,Co.empty(),hn.now()),$x(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fs(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:UJ(i.bundledQuery),readTime:fs(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(){this.overlays=new Tn(Xe.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vl();return se.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=Vl(),o=n.length+1,s=new Xe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Tn((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Vl(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Vl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return se.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vJ(n,r));let o=this.qr.get(n);o===void 0&&(o=Tt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(){this.sessionToken=jr.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.Qr=new or(pr.$r),this.Ur=new or(pr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new pr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new pr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Xe(new wn([])),r=new pr(n,e),i=new pr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Xe(new wn([])),r=new pr(n,e),i=new pr(n,e+1);let o=Tt();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new pr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Xe.comparator(e.key,n.key)||Et(e.Yr,n.Yr)}static Kr(e,n){return Et(e.Yr,n.Yr)||Xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new or(pr.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new yJ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new pr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return se.resolve(s)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?NT:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pr(n,0),i=new pr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new or(Et);return n.forEach(i=>{const o=new pr(i,0),s=new pr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Xe.isDocumentKey(o)||(o=o.child(""));const s=new pr(new Xe(o),0);let a=new or(Et);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),se.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,i=>{const o=new pr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new pr(n,0),i=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e){this.ri=e,this.docs=function(){return new Tn(Xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(n))}getEntries(e,n){let r=na();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Br.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=na();const s=n.path,a=new Xe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||IQ(jQ(d),r)<=0||(i.has(d.key)||$x(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ze(9500)}ii(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iZ(this)}getSize(e){return se.resolve(this.size)}}class iZ extends XJ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e){this.persistence=e,this.si=new Pc(n=>kT(n),OT),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.oi=0,this._i=new FT,this.targetCount=0,this.ai=ed.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ed(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),se.waitFor(o).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.ui={},this.overlays={},this.ci=new kx(0),this.li=!1,this.li=!0,this.hi=new tZ,this.referenceDelegate=e(this),this.Pi=new oZ(this),this.indexManager=new zJ,this.remoteDocumentCache=function(i){return new rZ(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new BJ(n),this.Ii=new ZJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new nZ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const i=new sZ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return se.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class sZ extends OQ{constructor(e){super(),this.currentSequenceNumber=e}}class VT{constructor(e){this.persistence=e,this.Ri=new FT,this.Vi=null}static mi(e){return new VT(e)}get fi(){if(this.Vi)return this.Vi;throw Ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,r=>{const i=Xe.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,it.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uy{constructor(e,n){this.persistence=e,this.pi=new Pc(r=>DQ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=YJ(this,n)}static mi(e,n){return new Uy(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return se.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?se.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,it.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bg(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Tt(),i=Tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new BT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return QG()?8:RQ(qr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new aZ;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(zc()<=St.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",Wc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(zc()<=St.DEBUG&&Ie("QueryEngine","Query:",Wc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(zc()<=St.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",Wc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):se.resolve())}ys(e,n){if(Fj(n))return se.resolve(null);let r=ds(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=J1(n,null,"F"),r=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Tt(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,J1(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return Fj(n)||i.isEqual(it.min())?se.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?se.resolve(null):(zc()<=St.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wc(n)),this.vs(e,s,n,NQ(i,Lh)).next(a=>a))})}Ds(e,n){let r=new or(i3(e));return n.forEach((i,o)=>{$x(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return zc()<=St.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Wc(n)),this.ps.getDocumentsMatchingQuery(e,n,sl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="LocalStore",cZ=3e8;class uZ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Tn(Et),this.xs=new Pc(o=>kT(o),OT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JJ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function dZ(t,e,n,r){return new uZ(t,e,n,r)}async function C3(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Tt();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function fZ(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let m=se.resolve();return h.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(g=>{const v=c.docVersions.get(y);Wt(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function N3(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hZ(t,e){const n=at(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(jr.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,v,x){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=cZ?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(o,m))});let l=na(),c=Tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(pZ(o,s,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(it.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return se.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function pZ(t,e,n){let r=Tt(),i=Tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=na();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(it.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ie(UT,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function mZ(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=NT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gZ(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,se.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Da(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function rS(t,e,n){const r=at(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!$d(s))throw s;Ie(UT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Jj(t,e,n){const r=at(t);let i=it.min(),o=Tt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const f=at(l),h=f.xs.get(d);return h!==void 0?se.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,d)}(r,s,ds(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:it.min(),n?o:Tt())).next(a=>(yZ(r,tJ(e),a),{documents:a,Qs:o})))}function yZ(t,e,n){let r=t.Os.get(e)||it.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class Zj{constructor(){this.activeTargetIds=aJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vZ{constructor(){this.Mo=new Zj,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zj,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="ConnectivityMonitor";class tI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ie(eI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ie(eI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm=null;function iS(){return Xm===null?Xm=function(){return 268435456+Math.round(2147483648*Math.random())}():Xm++,"0x"+Xm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="RestConnection",bZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wZ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Dy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=iS(),a=this.zo(e,n.toUriEncodedString());Ie(zb,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),d=kd(c);return this.Jo(e,a,l,r,d).then(f=>(Ie(zb,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Xu(zb,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Md}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=bZ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="WebChannelConnection";class _Z extends wZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=iS();return new Promise((a,l)=>{const c=new k4;c.setWithCredentials(!0),c.listenOnce(O4.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vg.NO_ERROR:const f=c.getResponseJson();Ie(Dr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Vg.TIMEOUT:Ie(Dr,`RPC '${e}' ${s} timed out`),l(new He(de.DEADLINE_EXCEEDED,"Request time out"));break;case Vg.HTTP_ERROR:const h=c.getStatus();if(Ie(Dr,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const g=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(b)>=0?b:de.UNKNOWN}(y.status);l(new He(g,y.message))}else l(new He(de.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new He(de.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Ie(Dr,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Ie(Dr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=iS(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=D4(),a=M4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Ie(Dr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);this.I_(f);let h=!1,m=!1;const y=new SZ({Yo:v=>{m?Ie(Dr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Ie(Dr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ie(Dr,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Zo:()=>f.close()}),g=(v,x,b)=>{v.listen(x,w=>{try{b(w)}catch(A){setTimeout(()=>{throw A},0)}})};return g(f,kf.EventType.OPEN,()=>{m||(Ie(Dr,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),g(f,kf.EventType.CLOSE,()=>{m||(m=!0,Ie(Dr,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),g(f,kf.EventType.ERROR,v=>{m||(m=!0,Xu(Dr,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),y.a_(new He(de.UNAVAILABLE,"The operation could not be completed")))}),g(f,kf.EventType.MESSAGE,v=>{var x;if(!m){const b=v.data[0];Wt(!!b,16349);const w=b,A=(w==null?void 0:w.error)||((x=w[0])==null?void 0:x.error);if(A){Ie(Dr,`RPC '${e}' stream ${i} received error:`,A);const E=A.status;let C=function(N){const k=Wn[N];if(k!==void 0)return g3(k)}(E),_=A.message;C===void 0&&(C=de.INTERNAL,_="Unknown error status: "+E+" with message "+A.message),m=!0,y.a_(new He(C,_)),f.close()}else Ie(Dr,`RPC '${e}' stream ${i} received:`,b),y.u_(b)}}),g(a,R4.STAT_EVENT,v=>{v.stat===q1.PROXY?Ie(Dr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===q1.NOPROXY&&Ie(Dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Wb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){return new AJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="PersistentStream";class I3{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new He(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ie(nI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ie(nI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EZ extends I3{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jJ(this.serializer,e),r=function(o){if(!("targetChange"in o))return it.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?it.min():s.readTime?fs(s.readTime):it.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=nS(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Q1(l)?{documents:OJ(o,l)}:{query:RJ(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=x3(o,s.resumeToken);const c=Z1(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(it.min())>0){a.readTime=By(o,s.snapshotVersion.toTimestamp());const c=Z1(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=DJ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=nS(this.serializer),n.removeTarget=e,this.q_(n)}}class TZ extends I3{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kJ(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=nS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IJ(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{}class AZ extends PZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new He(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,eS(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new He(de.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,eS(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(de.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class CZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(n),this.aa=!1):Ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="RemoteStore";class NZ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Cc(this)&&(Ie(pc,"Restarting streams for network reachability change."),await async function(l){const c=at(l);c.Ea.add(4),await Jp(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Ux(c)}(this))})}),this.Ra=new CZ(r,i)}}async function Ux(t){if(Cc(t))for(const e of t.da)await e(!0)}async function Jp(t){for(const e of t.da)await e(!1)}function k3(t,e){const n=at(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qT(n)?HT(n):Ld(n).O_()&&WT(n,e))}function zT(t,e){const n=at(t),r=Ld(n);n.Ia.delete(e),r.O_()&&O3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Cc(n)&&n.Ra.set("Unknown"))}function WT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ld(t).Y_(e)}function O3(t,e){t.Va.Ue(e),Ld(t).Z_(e)}function HT(t){t.Va=new _J({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ld(t).start(),t.Ra.ua()}function qT(t){return Cc(t)&&!Ld(t).x_()&&t.Ia.size>0}function Cc(t){return at(t).Ea.size===0}function R3(t){t.Va=void 0}async function jZ(t){t.Ra.set("Online")}async function IZ(t){t.Ia.forEach((e,n)=>{WT(t,e)})}async function kZ(t,e){R3(t),qT(t)?(t.Ra.ha(e),HT(t)):t.Ra.set("Unknown")}async function OZ(t,e,n){if(t.Ra.set("Online"),e instanceof v3&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Ie(pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zy(t,r)}else if(e instanceof Wg?t.Va.Ze(e):e instanceof y3?t.Va.st(e):t.Va.tt(e),!n.isEqual(it.min()))try{const r=await N3(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.Ia.get(c);d&&o.Ia.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.Ia.get(l);if(!d)return;o.Ia.set(l,d.withResumeToken(jr.EMPTY_BYTE_STRING,d.snapshotVersion)),O3(o,l);const f=new Da(d.target,l,c,d.sequenceNumber);WT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ie(pc,"Failed to raise snapshot:",r),await zy(t,r)}}async function zy(t,e,n){if(!$d(e))throw e;t.Ea.add(1),await Jp(t),t.Ra.set("Offline"),n||(n=()=>N3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie(pc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ux(t)})}function M3(t,e){return e().catch(n=>zy(t,n,e))}async function zx(t){const e=at(t),n=ul(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:NT;for(;RZ(e);)try{const i=await mZ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,MZ(e,i)}catch(i){await zy(e,i)}D3(e)&&$3(e)}function RZ(t){return Cc(t)&&t.Ta.length<10}function MZ(t,e){t.Ta.push(e);const n=ul(t);n.O_()&&n.X_&&n.ea(e.mutations)}function D3(t){return Cc(t)&&!ul(t).x_()&&t.Ta.length>0}function $3(t){ul(t).start()}async function DZ(t){ul(t).ra()}async function $Z(t){const e=ul(t);for(const n of t.Ta)e.ea(n.mutations)}async function LZ(t,e,n){const r=t.Ta.shift(),i=DT.from(r,e,n);await M3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zx(t)}async function FZ(t,e){e&&ul(t).X_&&await async function(r,i){if(function(s){return bJ(s)&&s!==de.ABORTED}(i.code)){const o=r.Ta.shift();ul(r).B_(),await M3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await zx(r)}}(t,e),D3(t)&&$3(t)}async function rI(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Ie(pc,"RemoteStore received new credentials");const r=Cc(n);n.Ea.add(3),await Jp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ux(n)}async function VZ(t,e){const n=at(t);e?(n.Ea.delete(2),await Ux(n)):e||(n.Ea.add(2),await Jp(n),n.Ra.set("Unknown"))}function Ld(t){return t.ma||(t.ma=function(n,r,i){const o=at(n);return o.sa(),new EZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:jZ.bind(null,t),t_:IZ.bind(null,t),r_:kZ.bind(null,t),H_:OZ.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),qT(t)?HT(t):t.Ra.set("Unknown")):(await t.ma.stop(),R3(t))})),t.ma}function ul(t){return t.fa||(t.fa=function(n,r,i){const o=at(n);return o.sa(),new TZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:DZ.bind(null,t),r_:FZ.bind(null,t),ta:$Z.bind(null,t),na:LZ.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await zx(t)):(await t.fa.stop(),t.Ta.length>0&&(Ie(pc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new GT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KT(t,e){if(ta("AsyncQueue",`${e}: ${t}`),$d(t))return new He(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{static emptySet(e){return new Su(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=Of(),this.sortedSet=new Tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.ga=new Tn(Xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class td{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new td(e,n,Su.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class UZ{constructor(){this.queries=oI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=at(n),o=i.queries;i.queries=oI(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new He(de.ABORTED,"Firestore shutting down"))}}function oI(){return new Pc(t=>r3(t),Dx)}async function zZ(t,e){const n=at(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new BZ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=KT(s,`Initialization of query '${Wc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&YT(n)}async function WZ(t,e){const n=at(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HZ(t,e){const n=at(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&YT(n)}function qZ(t,e,n){const r=at(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function YT(t){t.Ca.forEach(e=>{e.next()})}var oS,sI;(sI=oS||(oS={})).Ma="default",sI.Cache="cache";class GZ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new td(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==oS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.key=e}}class F3{constructor(e){this.key=e}}class KZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tt(),this.mutatedKeys=Tt(),this.eu=i3(e),this.tu=new Su(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new iI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=$x(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?y!==g&&(r.track({type:3,doc:m}),v=!0):this.su(h,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),v=!0):h&&!m&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(a=!0)),v&&(m?(s=s.add(m),o=g?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,f)=>function(m,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Rt:v})}};return g(m)-g(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new td(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Tt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new F3(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new L3(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return td.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const XT="SyncEngine";class YZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XZ{constructor(e){this.key=e,this.hu=!1}}class QZ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Pc(a=>r3(a),Dx),this.Iu=new Map,this.Eu=new Set,this.du=new Tn(Xe.comparator),this.Au=new Map,this.Ru=new FT,this.Vu={},this.mu=new Map,this.fu=ed.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JZ(t,e,n=!0){const r=H3(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await V3(r,e,n,!0),i}async function ZZ(t,e){const n=H3(t);await V3(n,e,!0,!1)}async function V3(t,e,n,r){const i=await gZ(t.localStore,ds(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await eee(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&k3(t.remoteStore,i),a}async function eee(t,e,n,r,i){t.pu=(f,h,m)=>async function(g,v,x,b){let w=v.view.ru(x);w.Cs&&(w=await Jj(g.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,w)));const A=b&&b.targetChanges.get(v.targetId),E=b&&b.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(w,g.isPrimaryClient,A,E);return lI(g,v.targetId,C.au),C.snapshot}(t,f,h,m);const o=await Jj(t.localStore,e,!0),s=new KZ(e,o.Qs),a=s.ru(o.documents),l=Qp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);lI(t,n,c.au);const d=new YZ(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function tee(t,e,n){const r=at(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Dx(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zT(r.remoteStore,i.targetId),sS(r,i.targetId)}).catch(Dd)):(sS(r,i.targetId),await rS(r.localStore,i.targetId,!0))}async function nee(t,e){const n=at(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zT(n.remoteStore,r.targetId))}async function ree(t,e,n){const r=uee(t);try{const i=await function(s,a){const l=at(s),c=hn.now(),d=a.reduce((m,y)=>m.add(y.key),Tt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=na(),g=Tt();return l.Ns.getEntries(m,d).next(v=>{y=v,y.forEach((x,b)=>{b.isValidDocument()||(g=g.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(v=>{f=v;const x=[];for(const b of a){const w=mJ(b,f.get(b.key).overlayedDocument);w!=null&&x.push(new Ac(b.key,w,X4(w.value.mapValue),zs.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:s3(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new Tn(Et)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Zp(r,i.changes),await zx(r.remoteStore)}catch(i){const o=KT(i,"Failed to persist write");n.reject(o)}}async function B3(t,e){const n=at(t);try{const r=await hZ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Wt(s.hu,14607):i.removedDocuments.size>0&&(Wt(s.hu,42227),s.hu=!1))}),await Zp(n,r,e)}catch(r){await Dd(r)}}function aI(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=at(s);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&YT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iee(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Tn(Xe.comparator);s=s.insert(o,Br.newNoDocument(o,it.min()));const a=Tt().add(o),l=new Vx(it.min(),new Map,new Tn(Et),s,a);await B3(r,l),r.du=r.du.remove(o),r.Au.delete(e),QT(r)}else await rS(r.localStore,e,!1).then(()=>sS(r,e,n)).catch(Dd)}async function oee(t,e){const n=at(t),r=e.batch.batchId;try{const i=await fZ(n.localStore,e);z3(n,r,null),U3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zp(n,i)}catch(i){await Dd(i)}}async function see(t,e,n){const r=at(t);try{const i=await function(s,a){const l=at(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Wt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);z3(r,e,n),U3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zp(r,i)}catch(i){await Dd(i)}}function U3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function z3(t,e,n){const r=at(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function sS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||W3(t,r)})}function W3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),QT(t))}function lI(t,e,n){for(const r of n)r instanceof L3?(t.Ru.addReference(r.key,e),aee(t,r)):r instanceof F3?(Ie(XT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||W3(t,r.key)):Ze(19791,{wu:r})}function aee(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ie(XT,"New document in limbo: "+n),t.Eu.add(r),QT(t))}function QT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Xe(wn.fromString(e)),r=t.fu.next();t.Au.set(r,new XZ(n)),t.du=t.du.insert(n,r),k3(t.remoteStore,new Da(ds(RT(n.path)),r,"TargetPurposeLimboResolution",kx.ce))}}async function Zp(t,e,n){const r=at(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=BT.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const d=at(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>se.forEach(c,h=>se.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>se.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!$d(f))throw f;Ie(UT,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(h,g)}}}(r.localStore,o))}async function lee(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Ie(XT,"User change. New user:",e.toKey());const r=await C3(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new He(de.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zp(n,r.Ls)}}function cee(t,e){const n=at(t),r=n.Au.get(e);if(r&&r.hu)return Tt().add(r.key);{let i=Tt();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function H3(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=B3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iee.bind(null,e),e.Pu.H_=HZ.bind(null,e.eventManager),e.Pu.yu=qZ.bind(null,e.eventManager),e}function uee(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=see.bind(null,e),e}class Wy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dZ(this.persistence,new lZ,e.initialUser,this.serializer)}Cu(e){return new A3(VT.mi,this.serializer)}Du(e){return new vZ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wy.provider={build:()=>new Wy};class dee extends Wy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Wt(this.persistence.referenceDelegate instanceof Uy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GJ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new A3(r=>Uy.mi(r,n),this.serializer)}}class aS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lee.bind(null,this.syncEngine),await VZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UZ}()}createDatastore(e){const n=Bx(e.databaseInfo.databaseId),r=function(o){return new _Z(o)}(e.databaseInfo);return function(o,s,a,l){return new AZ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new NZ(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>aI(this.syncEngine,n,0),function(){return tI.v()?new tI:new xZ}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const f=new QZ(i,o,s,a,l,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=at(i);Ie(pc,"RemoteStore shutting down."),o.Ea.add(5),await Jp(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}aS.provider={build:()=>new aS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="FirestoreClient";class hee{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=AT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Ie(dl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ie(dl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=KT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hb(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(dl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await C3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pee(t);Ie(dl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rI(e.remoteStore,i)),t._onlineComponents=e}async function pee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(dl,"Using user provided OfflineComponentProvider");try{await Hb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xu("Error using user provided cache. Falling back to memory cache: "+n),await Hb(t,new Wy)}}else Ie(dl,"Using default OfflineComponentProvider"),await Hb(t,new dee(void 0));return t._offlineComponents}async function q3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(dl,"Using user provided OnlineComponentProvider"),await cI(t,t._uninitializedComponentsProvider._online)):(Ie(dl,"Using default OnlineComponentProvider"),await cI(t,new aS))),t._onlineComponents}function mee(t){return q3(t).then(e=>e.syncEngine)}async function gee(t){const e=await q3(t),n=e.eventManager;return n.onListen=JZ.bind(null,e.syncEngine),n.onUnlisten=tee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nee.bind(null,e.syncEngine),n}function yee(t,e,n={}){const r=new Ja;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new fee({next:h=>{d.Nu(),s.enqueueAndForget(()=>WZ(o,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new He(de.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new He(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new GZ(RT(a.path),d,{includeMetadataChanges:!0,qa:!0});return zZ(o,f)}(await gee(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="firestore.googleapis.com",dI=!0;class fI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new He(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=K3,this.ssl=dI}else this.host=e.host,this.ssl=e.ssl??dI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HJ)throw new He(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G3(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new He(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new He(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new He(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class JT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new He(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yQ;switch(r.type){case"firstParty":return new wQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new He(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uI.get(n);r&&(Ie("ComponentProvider","Removing Datastore"),uI.delete(n),r.terminate())}(this),Promise.resolve()}}function vee(t,e,n,r={}){var c;t=$h(t,JT);const i=kd(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(qL(`https://${a}`),GL("Firestore",!0)),o.host!==K3&&o.host!==a&&Xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!uc(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Fr.MOCK_USER;else{d=UG(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new He(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Fr(h)}t._authCredentials=new vQ(new L4(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ZT(this.firestore,e,this._query)}}class vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}toJSON(){return{type:vr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yp(n,vr._jsonSchema))return new vr(e,r||null,new Xe(wn.fromString(n.referencePath)))}}vr._jsonSchemaVersion="firestore/documentReference/1.0",vr._jsonSchema={type:Gn("string",vr._jsonSchemaVersion),referencePath:Gn("string")};class Hh extends ZT{constructor(e,n,r){super(e,n,RT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new Xe(e))}withConverter(e){return new Hh(this.firestore,e,this._path)}}function Y3(t,e,...n){if(t=so(t),arguments.length===1&&(e=AT.newId()),AQ("doc","path",e),t instanceof JT){const r=wn.fromString(e,...n);return Pj(r),new vr(t,null,new Xe(r))}{if(!(t instanceof vr||t instanceof Hh))throw new He(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return Pj(r),new vr(t.firestore,t instanceof Hh?t.converter:null,new Xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="AsyncQueue";class pI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j3(this,"async_queue_retry"),this._c=()=>{const r=Wb();r&&Ie(hI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ja;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$d(e))throw e;Ie(hI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",mI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=GT.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Ze(47125,{Pc:mI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class eP extends JT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pI(e),this._firestoreClient=void 0,await e}}}function xee(t,e){const n=typeof t=="object"?t:QL(),r=typeof t=="string"?t:Dy,i=mT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=VG("firestore");o&&vee(i,...o)}return i}function X3(t){if(t._terminated)throw new He(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bee(t),t._firestoreClient}function bee(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,d){return new FQ(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,G3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qi(jr.fromBase64String(e))}catch(n){throw new He(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qi(jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yp(e,Qi._jsonSchema))return Qi.fromBase64String(e.bytes)}}Qi._jsonSchemaVersion="firestore/bytes/1.0",Qi._jsonSchema={type:Gn("string",Qi._jsonSchemaVersion),bytes:Gn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new He(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new He(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new He(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if(Yp(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:Gn("string",hs._jsonSchemaVersion),latitude:Gn("number"),longitude:Gn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yp(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ps(e.vectorValues);throw new He(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:Gn("string",ps._jsonSchemaVersion),vectorValues:Gn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee=/^__.*__$/;class See{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ac(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xp(e,this.data,n,this.fieldTransforms)}}function Q3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{Ac:t})}}class rP{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rP({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Q3(this.Ac)&&wee.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _ee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bx(e)}Cc(e,n,r,i=!1){return new rP({Ac:e,methodName:n,Dc:r,path:Pr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eee(t){const e=t._freezeSettings(),n=Bx(t._databaseId);return new _ee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tee(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);t5("Data must be an object, but it was:",s,r);const a=Z3(r,s);let l,c;if(o.merge)l=new Co(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=Pee(e,f,n);if(!s.contains(h))throw new He(de.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Cee(d,h)||d.push(h)}l=new Co(d),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new See(new Xi(a),l,c)}class iP extends nP{_toFieldTransform(e){return new dJ(e.path,new Uh)}isEqual(e){return e instanceof iP}}function J3(t,e){if(e5(t=so(t)))return t5("Unsupported field value:",e,t),Z3(t,e);if(t instanceof nP)return function(r,i){if(!Q3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=J3(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=so(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=hn.fromDate(r);return{timestampValue:By(i.serializer,o)}}if(r instanceof hn){const o=new hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:By(i.serializer,o)}}if(r instanceof hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qi)return{bytesValue:x3(i.serializer,r._byteString)};if(r instanceof vr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:LT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ps)return function(s,a){return{mapValue:{fields:{[G4]:{stringValue:Y4},[$y]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return MT(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${CT(r)}`)}(t,e)}function Z3(t,e){const n={};return B4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,(r,i)=>{const o=J3(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function e5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hn||t instanceof hs||t instanceof Qi||t instanceof vr||t instanceof nP||t instanceof ps)}function t5(t,e,n){if(!e5(n)||!F4(n)){const r=CT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Pee(t,e,n){if((e=so(e))instanceof tP)return e._internalPath;if(typeof e=="string")return n5(t,e);throw Hy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Aee=new RegExp("[~\\*/\\[\\]]");function n5(t,e,n){if(e.search(Aee)>=0)throw Hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tP(...e.split("."))._internalPath}catch{throw Hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new He(de.INVALID_ARGUMENT,a+t+l)}function Cee(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nee extends r5{data(){return super.data()}}function i5(t,e){return typeof e=="string"?n5(t,e):e instanceof tP?e._internalPath:e._delegate._internalPath}class jee{convertValue(e,n="none"){switch(cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[$y].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>Mn(s.doubleValue));return new ps(n)}convertGeoPoint(e){return new hs(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fh(e));default:return null}}convertTimestamp(e){const n=al(e);return new hn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wn.fromString(e);Wt(T3(r),9688,{name:e});const i=new Vh(r.get(1),r.get(3)),o=new Xe(r.popFirst(5));return i.isEqual(n)||ta(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Mf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends r5{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(i5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new He(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zl._jsonSchema={type:Gn("string",Zl._jsonSchemaVersion),bundleSource:Gn("string","DocumentSnapshot"),bundleName:Gn("string"),bundle:Gn("string")};class Hg extends Zl{data(e={}){return super.data(e)}}class rh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hg(this._firestore,this._userDataWriter,r.key,r,new Mf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new He(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Hg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Hg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:kee(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new He(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=AT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t){t=$h(t,vr);const e=$h(t.firestore,eP);return yee(X3(e),t._key).then(n=>$ee(e,t,n))}rh._jsonSchemaVersion="firestore/querySnapshot/1.0",rh._jsonSchema={type:Gn("string",rh._jsonSchemaVersion),bundleSource:Gn("string","QuerySnapshot"),bundleName:Gn("string"),bundle:Gn("string")};class Ree extends jee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}function Mee(t,e,n){t=$h(t,vr);const r=$h(t.firestore,eP),i=Iee(t.converter,e,n);return Dee(r,[Tee(Eee(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zs.none())])}function Dee(t,e){return function(r,i){const o=new Ja;return r.asyncQueue.enqueueAndForget(async()=>ree(await mee(r),i,o)),o.promise}(X3(t),e)}function $ee(t,e,n){const r=n.docs.get(e._key),i=new Ree(t);return new Zl(t,i,e._key,r,new Mf(n.hasPendingWrites,n.fromCache),e.converter)}function Lee(){return new iP("serverTimestamp")}(function(e,n=!0){(function(i){Md=i})(Od),Ku(new dc("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new eP(new xQ(r.getProvider("auth-internal")),new SQ(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new He(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(c.options.projectId,d)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xa(Sj,_j,e),Xa(Sj,_j,"esm2020")})();const Fee={apiKey:"AIzaSyA3jeqtK7sD7WGDSiGTW0sZO4CxwYimkNc",authDomain:"cuemastersuite.firebaseapp.com",projectId:"cuemastersuite",storageBucket:"cuemastersuite.firebasestorage.app",messagingSenderId:"565840195638",appId:"1:565840195638:web:1aa5acd2440bd998ffa897",measurementId:"G-0WVC9LP6WX"},o5=XL(Fee),Wx=mQ(o5),s5=xee(o5),Vee=new Ms,Bee=new Rs;async function Uee(){try{return(await N4(Wx,Vee)).user}catch(t){return console.error("Google sign-in error:",t),null}}async function zee(){try{return(await N4(Wx,Bee)).user}catch(t){return console.error("Facebook sign-in error:",t),null}}async function Wee(){try{await oX(Wx)}catch(t){console.error("Sign-out error:",t)}}function Hee(t){return iX(Wx,t)}async function gI(t){try{const e=await Oee(Y3(s5,"users",t));if(e.exists()){const n=e.data();return{isPro:(n==null?void 0:n.isPro)===!0,promoCode:(n==null?void 0:n.promoCode)||null}}return{isPro:!1,promoCode:null}}catch(e){return console.error("Error fetching Pro status:",e),{isPro:!1,promoCode:null}}}async function qee(t,e,n){try{return await Mee(Y3(s5,"users",t),{isPro:e,promoCode:n||null,updatedAt:Lee()},{merge:!0}),!0}catch(r){return console.error("Error setting Pro status:",r),!1}}const a5=S.createContext(null);function Fd(){const t=S.useContext(a5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Gee(){const[t,e]=S.useState(null),[n,r]=S.useState(!1),[i,o]=S.useState(null),[s,a]=S.useState(!0),l=async()=>{if(t){const m=await gI(t.uid);r(m.isPro),o(m.promoCode)}else{const m=localStorage.getItem("cuemaster_pro_unlocked")==="true",y=localStorage.getItem("cuemaster_promo_code");r(m),o(y)}};return S.useEffect(()=>{const m=Hee(async y=>{if(e(y),y){const g=await gI(y.uid);r(g.isPro),o(g.promoCode)}else{const g=localStorage.getItem("cuemaster_pro_unlocked")==="true",v=localStorage.getItem("cuemaster_promo_code");r(g),o(v)}a(!1)});return()=>m()},[]),{user:t,isPro:n,promoCode:i,isLoading:s,signInWithGoogle:async()=>{a(!0),await Uee(),a(!1)},signInWithFacebook:async()=>{a(!0),await zee(),a(!1)},signOut:async()=>{await Wee(),r(!1)},refreshProStatus:l,unlockPro:async m=>{if(t){const y=await qee(t.uid,!0,m);return y&&(r(!0),o(m||null)),y}else return localStorage.setItem("cuemaster_pro_unlocked","true"),m&&localStorage.setItem("cuemaster_promo_code",m),r(!0),o(m||null),!0}}}function Kee({children:t}){const e=Gee();return u.jsx(a5.Provider,{value:e,children:t})}const Je=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:tt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Je.displayName="Card";const Yee=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:tt("flex flex-col space-y-1.5 p-6",t),...e}));Yee.displayName="CardHeader";const Xee=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:tt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Xee.displayName="CardTitle";const Qee=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:tt("text-sm text-muted-foreground",t),...e}));Qee.displayName="CardDescription";const l5=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:tt("p-6 pt-0",t),...e}));l5.displayName="CardContent";const Jee=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:tt("flex items-center p-6 pt-0",t),...e}));Jee.displayName="CardFooter";function Qm({icon:t,title:e,subtitle:n,description:r,onClick:i,testId:o,disabled:s=!1,proFeature:a=!1,isProUser:l=!1}){const c=a&&l;return u.jsx(Je,{className:`p-6 ${s?"border border-dashed border-muted-foreground/40 bg-muted/30 cursor-not-allowed opacity-70":`cursor-pointer hover-elevate active-elevate-2 ${c?"border-l-[3px] border-l-primary":""}`}`,onClick:s?void 0:i,"data-testid":o,children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${s?"bg-muted/50":"bg-primary/10"}`,children:t}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider mb-0.5 ${s?"text-muted-foreground/60":"text-primary"}`,children:n}),u.jsx("h3",{className:`text-xl font-bold mb-1 ${s?"text-muted-foreground":"text-foreground"}`,children:e}),u.jsx("p",{className:`text-sm ${s?"text-muted-foreground/70":"text-muted-foreground"}`,children:r}),s&&u.jsx("p",{className:"text-xs font-medium text-primary/70 mt-3 uppercase tracking-wider",children:"Coming Soon"})]})]})})}function Zee(){const[t,e]=S.useState(null),{toast:n}=Cd(),r="0.9.8",i=()=>{const s=setTimeout(()=>{navigator.clipboard.writeText(r),n({title:"Version copied",description:`v${r} copied to clipboard`,duration:2e3})},500);e(s)},o=()=>{t&&(clearTimeout(t),e(null))};return u.jsxs("span",{className:"text-xs text-muted-foreground select-none cursor-pointer hover-elevate active-elevate-2 px-2 py-1 rounded-md",onMouseDown:i,onMouseUp:o,onMouseLeave:o,onTouchStart:i,onTouchEnd:o,"data-testid":"text-version",children:["v",r]})}var qb="focusScope.autoFocusOnMount",Gb="focusScope.autoFocusOnUnmount",yI={bubbles:!1,cancelable:!0},ete="FocusScope",oP=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=S.useState(null),c=$n(i),d=$n(o),f=S.useRef(null),h=pt(e,g=>l(g)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let g=function(w){if(m.paused||!a)return;const A=w.target;a.contains(A)?f.current=A:wa(f.current,{select:!0})},v=function(w){if(m.paused||!a)return;const A=w.relatedTarget;A!==null&&(a.contains(A)||wa(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&wa(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(x);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[r,a,m.paused]),S.useEffect(()=>{if(a){xI.add(m);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(qb,yI);a.addEventListener(qb,c),a.dispatchEvent(x),x.defaultPrevented||(tte(ste(c5(a)),{select:!0}),document.activeElement===g&&wa(a))}return()=>{a.removeEventListener(qb,c),setTimeout(()=>{const x=new CustomEvent(Gb,yI);a.addEventListener(Gb,d),a.dispatchEvent(x),x.defaultPrevented||wa(g??document.body,{select:!0}),a.removeEventListener(Gb,d),xI.remove(m)},0)}}},[a,c,d,m]);const y=S.useCallback(g=>{if(!n&&!r||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const b=g.currentTarget,[w,A]=nte(b);w&&A?!g.shiftKey&&x===A?(g.preventDefault(),n&&wa(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),n&&wa(A,{select:!0})):x===b&&g.preventDefault()}},[n,r,m.paused]);return u.jsx(Ke.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});oP.displayName=ete;function tte(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(wa(r,{select:e}),document.activeElement!==n)return}function nte(t){const e=c5(t),n=vI(e,t),r=vI(e.reverse(),t);return[n,r]}function c5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vI(t,e){for(const n of t)if(!rte(n,{upTo:e}))return n}function rte(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ite(t){return t instanceof HTMLInputElement&&"select"in t}function wa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ite(t)&&e&&t.select()}}var xI=ote();function ote(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=bI(t,e),t.unshift(e)},remove(e){var n;t=bI(t,e),(n=t[0])==null||n.resume()}}}function bI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ste(t){return t.filter(e=>e.tagName!=="A")}var Kb=0;function u5(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wI()),document.body.insertAdjacentElement("beforeend",t[1]??wI()),Kb++,()=>{Kb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kb--}},[])}function wI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var is=function(){return is=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},is.apply(this,arguments)};function d5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ate(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var qg="right-scroll-bar-position",Gg="width-before-scroll-bar",lte="with-scroll-bars-hidden",cte="--removed-body-scroll-bar-size";function Yb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ute(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var dte=typeof window<"u"?S.useLayoutEffect:S.useEffect,SI=new WeakMap;function fte(t,e){var n=ute(null,function(r){return t.forEach(function(i){return Yb(i,r)})});return dte(function(){var r=SI.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Yb(a,null)}),o.forEach(function(a){i.has(a)||Yb(a,s)})}SI.set(n,t)},[t]),n}function hte(t){return t}function pte(t,e){e===void 0&&(e=hte);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function mte(t){t===void 0&&(t={});var e=pte(null);return e.options=is({async:!0,ssr:!1},t),e}var f5=function(t){var e=t.sideCar,n=d5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,is({},n))};f5.isSideCarExport=!0;function gte(t,e){return t.useMedium(e),f5}var h5=mte(),Xb=function(){},Hx=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:Xb,onWheelCapture:Xb,onTouchMoveCapture:Xb}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,g=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,b=t.gapMode,w=d5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,E=fte([n,e]),C=is(is({},w),i);return S.createElement(S.Fragment,null,d&&S.createElement(A,{sideCar:h5,removeScrollBar:c,shards:f,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:b}),s?S.cloneElement(S.Children.only(a),is(is({},C),{ref:E})):S.createElement(x,is({},C,{className:l,ref:E}),a))});Hx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hx.classNames={fullWidth:Gg,zeroRight:qg};var yte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yte();return e&&t.setAttribute("nonce",e),t}function xte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=vte())&&(xte(e,n),bte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ste=function(){var t=wte();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},p5=function(){var t=Ste(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},_te={left:0,top:0,right:0,gap:0},Qb=function(t){return parseInt(t||"",10)||0},Ete=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Qb(n),Qb(r),Qb(i)]},Tte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _te;var e=Ete(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Pte=p5(),_u="data-scroll-locked",Ate=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(_u,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qg," .").concat(qg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gg," .").concat(Gg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_u,`] {
    `).concat(cte,": ").concat(a,`px;
  }
`)},_I=function(){var t=parseInt(document.body.getAttribute(_u)||"0",10);return isFinite(t)?t:0},Cte=function(){S.useEffect(function(){return document.body.setAttribute(_u,(_I()+1).toString()),function(){var t=_I()-1;t<=0?document.body.removeAttribute(_u):document.body.setAttribute(_u,t.toString())}},[])},Nte=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Cte();var o=S.useMemo(function(){return Tte(i)},[i]);return S.createElement(Pte,{styles:Ate(o,!e,i,n?"":"!important")})},lS=!1;if(typeof window<"u")try{var Jm=Object.defineProperty({},"passive",{get:function(){return lS=!0,!0}});window.addEventListener("test",Jm,Jm),window.removeEventListener("test",Jm,Jm)}catch{lS=!1}var Dc=lS?{passive:!1}:!1,jte=function(t){return t.tagName==="TEXTAREA"},m5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!jte(t)&&n[e]==="visible")},Ite=function(t){return m5(t,"overflowY")},kte=function(t){return m5(t,"overflowX")},EI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=g5(t,r);if(i){var o=y5(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ote=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Rte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},g5=function(t,e){return t==="v"?Ite(e):kte(e)},y5=function(t,e){return t==="v"?Ote(e):Rte(e)},Mte=function(t,e){return t==="h"&&e==="rtl"?-1:1},Dte=function(t,e,n,r,i){var o=Mte(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,d=s>0,f=0,h=0;do{var m=y5(t,a),y=m[0],g=m[1],v=m[2],x=g-v-o*y;(y||x)&&g5(t,a)&&(f+=x,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Zm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TI=function(t){return[t.deltaX,t.deltaY]},PI=function(t){return t&&"current"in t?t.current:t},$te=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Lte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Fte=0,$c=[];function Vte(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(Fte++)[0],o=S.useState(p5)[0],s=S.useRef(t);S.useEffect(function(){s.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=ate([t.lockRef.current],(t.shards||[]).map(PI),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var x=Zm(g),b=n.current,w="deltaX"in g?g.deltaX:b[0]-x[0],A="deltaY"in g?g.deltaY:b[1]-x[1],E,C=g.target,_=Math.abs(w)>Math.abs(A)?"h":"v";if("touches"in g&&_==="h"&&C.type==="range")return!1;var T=EI(_,C);if(!T)return!0;if(T?E=_:(E=_==="v"?"h":"v",T=EI(_,C)),!T)return!1;if(!r.current&&"changedTouches"in g&&(w||A)&&(r.current=E),!E)return!0;var N=r.current||E;return Dte(N,v,g,N==="h"?w:A,!0)},[]),l=S.useCallback(function(g){var v=g;if(!(!$c.length||$c[$c.length-1]!==o)){var x="deltaY"in v?TI(v):Zm(v),b=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&$te(E.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(s.current.shards||[]).map(PI).filter(Boolean).filter(function(E){return E.contains(v.target)}),A=w.length>0?a(v,w[0]):!s.current.noIsolation;A&&v.cancelable&&v.preventDefault()}}},[]),c=S.useCallback(function(g,v,x,b){var w={name:g,delta:v,target:x,should:b,shadowParent:Bte(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(A){return A!==w})},1)},[]),d=S.useCallback(function(g){n.current=Zm(g),r.current=void 0},[]),f=S.useCallback(function(g){c(g.type,TI(g),g.target,a(g,t.lockRef.current))},[]),h=S.useCallback(function(g){c(g.type,Zm(g),g.target,a(g,t.lockRef.current))},[]);S.useEffect(function(){return $c.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Dc),document.addEventListener("touchmove",l,Dc),document.addEventListener("touchstart",d,Dc),function(){$c=$c.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Dc),document.removeEventListener("touchmove",l,Dc),document.removeEventListener("touchstart",d,Dc)}},[]);var m=t.removeScrollBar,y=t.inert;return S.createElement(S.Fragment,null,y?S.createElement(o,{styles:Lte(i)}):null,m?S.createElement(Nte,{gapMode:t.gapMode}):null)}function Bte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ute=gte(h5,Vte);var sP=S.forwardRef(function(t,e){return S.createElement(Hx,is({},t,{ref:e,sideCar:Ute}))});sP.classNames=Hx.classNames;var zte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Lc=new WeakMap,eg=new WeakMap,tg={},Jb=0,v5=function(t){return t&&(t.host||v5(t.parentNode))},Wte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=v5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Hte=function(t,e,n,r){var i=Wte(e,Array.isArray(t)?t:[t]);tg[n]||(tg[n]=new WeakMap);var o=tg[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",g=(Lc.get(h)||0)+1,v=(o.get(h)||0)+1;Lc.set(h,g),o.set(h,v),s.push(h),g===1&&y&&eg.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),Jb++,function(){s.forEach(function(f){var h=Lc.get(f)-1,m=o.get(f)-1;Lc.set(f,h),o.set(f,m),h||(eg.has(f)||f.removeAttribute(r),eg.delete(f)),m||f.removeAttribute(n)}),Jb--,Jb||(Lc=new WeakMap,Lc=new WeakMap,eg=new WeakMap,tg={})}},x5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=zte(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Hte(r,i,n,"aria-hidden")):function(){return null}},aP="Dialog",[b5,Gje]=Fi(aP),[qte,Fo]=b5(aP),w5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=S.useRef(null),l=S.useRef(null),[c=!1,d]=Do({prop:r,defaultProp:i,onChange:o});return u.jsx(qte,{scope:e,triggerRef:a,contentRef:l,contentId:ls(),titleId:ls(),descriptionId:ls(),open:c,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};w5.displayName=aP;var S5="DialogTrigger",_5=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fo(S5,n),o=pt(e,i.triggerRef);return u.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":uP(i.open),...r,ref:o,onClick:De(t.onClick,i.onOpenToggle)})});_5.displayName=S5;var lP="DialogPortal",[Gte,E5]=b5(lP,{forceMount:void 0}),T5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Fo(lP,e);return u.jsx(Gte,{scope:e,forceMount:n,children:S.Children.map(r,s=>u.jsx(lo,{present:n||o.open,children:u.jsx(yx,{asChild:!0,container:i,children:s})}))})};T5.displayName=lP;var qy="DialogOverlay",P5=S.forwardRef((t,e)=>{const n=E5(qy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Fo(qy,t.__scopeDialog);return o.modal?u.jsx(lo,{present:r||o.open,children:u.jsx(Yte,{...i,ref:e})}):null});P5.displayName=qy;var Kte=Hu("DialogOverlay.RemoveScroll"),Yte=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fo(qy,n);return u.jsx(sP,{as:Kte,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Ke.div,{"data-state":uP(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mc="DialogContent",A5=S.forwardRef((t,e)=>{const n=E5(mc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Fo(mc,t.__scopeDialog);return u.jsx(lo,{present:r||o.open,children:o.modal?u.jsx(Xte,{...i,ref:e}):u.jsx(Qte,{...i,ref:e})})});A5.displayName=mc;var Xte=S.forwardRef((t,e)=>{const n=Fo(mc,t.__scopeDialog),r=S.useRef(null),i=pt(e,n.contentRef,r);return S.useEffect(()=>{const o=r.current;if(o)return x5(o)},[]),u.jsx(C5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:De(t.onFocusOutside,o=>o.preventDefault())})}),Qte=S.forwardRef((t,e)=>{const n=Fo(mc,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return u.jsx(C5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),C5=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Fo(mc,n),l=S.useRef(null),c=pt(e,l);return u5(),u.jsxs(u.Fragment,{children:[u.jsx(oP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(Vp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":uP(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Jte,{titleId:a.titleId}),u.jsx(ene,{contentRef:l,descriptionId:a.descriptionId})]})]})}),cP="DialogTitle",N5=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fo(cP,n);return u.jsx(Ke.h2,{id:i.titleId,...r,ref:e})});N5.displayName=cP;var j5="DialogDescription",I5=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fo(j5,n);return u.jsx(Ke.p,{id:i.descriptionId,...r,ref:e})});I5.displayName=j5;var k5="DialogClose",O5=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fo(k5,n);return u.jsx(Ke.button,{type:"button",...r,ref:e,onClick:De(t.onClick,()=>i.onOpenChange(!1))})});O5.displayName=k5;function uP(t){return t?"open":"closed"}var R5="DialogTitleWarning",[Kje,M5]=rW(R5,{contentName:mc,titleName:cP,docsSlug:"dialog"}),Jte=({titleId:t})=>{const e=M5(R5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Zte="DialogDescriptionWarning",ene=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${M5(Zte).contentName}}.`;return S.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},tne=w5,nne=_5,rne=T5,D5=P5,$5=A5,L5=N5,F5=I5,ine=O5;const di=tne,one=nne,sne=rne,V5=S.forwardRef(({className:t,...e},n)=>u.jsx(D5,{ref:n,className:tt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));V5.displayName=D5.displayName;const Zr=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(sne,{children:[u.jsx(V5,{}),u.jsxs($5,{ref:r,className:tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(ine,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Up,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zr.displayName=$5.displayName;const zr=({className:t,...e})=>u.jsx("div",{className:tt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});zr.displayName="DialogHeader";const Wr=S.forwardRef(({className:t,...e},n)=>u.jsx(L5,{ref:n,className:tt("text-lg font-semibold leading-none tracking-tight",t),...e}));Wr.displayName=L5.displayName;const ms=S.forwardRef(({className:t,...e},n)=>u.jsx(F5,{ref:n,className:tt("text-sm text-muted-foreground",t),...e}));ms.displayName=F5.displayName;const ane=bx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),le=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?oW:"button";return u.jsx(s,{className:tt(ane({variant:e,size:n,className:t})),ref:o,...i})});le.displayName="Button";function dP(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var fP="Switch",[lne,Yje]=Fi(fP),[cne,une]=lne(fP),B5=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,m]=S.useState(null),y=pt(e,w=>m(w)),g=S.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,b]=Do({prop:i,defaultProp:o,onChange:c});return u.jsxs(cne,{scope:n,checked:x,disabled:a,children:[u.jsx(Ke.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":W5(x),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:y,onClick:De(t.onClick,w=>{b(A=>!A),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&u.jsx(dne,{control:h,bubbles:!g.current,name:r,value:l,checked:x,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});B5.displayName=fP;var U5="SwitchThumb",z5=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=une(U5,n);return u.jsx(Ke.span,{"data-state":W5(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});z5.displayName=U5;var dne=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=S.useRef(null),s=dP(n),a=cT(e);return S.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function W5(t){return t?"checked":"unchecked"}var H5=B5,fne=z5;const Zi=S.forwardRef(({className:t,...e},n)=>u.jsx(H5,{className:tt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(fne,{className:tt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zi.displayName=H5.displayName;const Zb="cuemaster_analytics_consent",ew="cuemaster_analytics_events",ng="cuemaster_analytics_sessions",rg="cuemaster_analytics_stats",tw="cuemaster_first_launch_complete",ig=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36);class hne{constructor(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},this.currentSession=null,this.events=[],this.initialized=!1,this.loadConsent(),this.loadEvents()}loadConsent(){try{const e=localStorage.getItem(Zb);e&&(this.consent=JSON.parse(e))}catch(e){console.error("Failed to load analytics consent:",e)}}loadEvents(){try{const e=localStorage.getItem(ew);e&&(this.events=JSON.parse(e))}catch(e){console.error("Failed to load analytics events:",e),this.events=[]}}saveEvents(){try{this.events.length>1e3&&(this.events=this.events.slice(-1e3)),localStorage.setItem(ew,JSON.stringify(this.events))}catch(e){console.error("Failed to save analytics events:",e)}}saveSession(e){try{const n=localStorage.getItem(ng);let r=n?JSON.parse(n):[];r.push(e);const i=100;r.length>i&&(r=r.slice(-i)),localStorage.setItem(ng,JSON.stringify(r))}catch(n){console.error("Failed to save session:",n)}}isFirstLaunch(){return!localStorage.getItem(tw)}markFirstLaunchComplete(){localStorage.setItem(tw,"true")}getConsent(){return{...this.consent}}hasAnyConsent(){return this.consent.usageStats||this.consent.skillMetrics||this.consent.benchmarking}setConsent(e){this.consent=e;try{localStorage.setItem(Zb,JSON.stringify(e))}catch(n){console.error("Failed to save consent:",n)}}startSession(e){this.consent.usageStats&&(this.currentSession&&this.endSession(),this.currentSession={id:ig(),startTime:Date.now(),module:e,events:[]},this.track("session_start",e,"start"))}endSession(){this.currentSession&&(this.currentSession.endTime=Date.now(),this.track("session_end",this.currentSession.module,"end",{duration:this.currentSession.endTime-this.currentSession.startTime}),this.saveSession(this.currentSession),this.updateAggregatedStats(this.currentSession),this.currentSession=null,this.consent.benchmarking&&this.submitToBenchmarking().catch(()=>{}))}track(e,n,r,i){var s;if(!this.consent.usageStats&&e!=="consent_updated")return;const o={id:ig(),type:e,module:n,action:r,data:i,timestamp:Date.now(),sessionId:((s=this.currentSession)==null?void 0:s.id)||"no-session"};this.events.push(o),this.currentSession&&this.currentSession.events.push(o),this.saveEvents()}trackSkillMetric(e,n,r,i){this.consent.skillMetrics&&(this.track("skill_metric",e,n,{value:r,...i}),this.updateSkillStats(e,n,r))}trackFeatureUsage(e,n,r){this.consent.usageStats&&this.track("feature_usage",e,n,r)}updateAggregatedStats(e){try{const n=this.getAggregatedStats();n.totalSessions++,n.totalTimeMs+=(e.endTime||Date.now())-e.startTime,n.lastActive=Date.now(),n.moduleUsage[e.module]||(n.moduleUsage[e.module]={sessions:0,timeMs:0}),n.moduleUsage[e.module].sessions++,n.moduleUsage[e.module].timeMs+=(e.endTime||Date.now())-e.startTime,localStorage.setItem(rg,JSON.stringify(n))}catch(n){console.error("Failed to update aggregated stats:",n)}}updateSkillStats(e,n,r){try{const i=this.getAggregatedStats();switch(e){case"tempo":if(n==="shot_time"){const o=i.skillMetrics.tempo.avgShotTime*i.skillMetrics.tempo.totalShots;i.skillMetrics.tempo.totalShots++,i.skillMetrics.tempo.avgShotTime=(o+r)/i.skillMetrics.tempo.totalShots}else n==="session_complete"&&i.skillMetrics.tempo.sessionsPlayed++;break;case"velocity":if(n==="break_speed"){const o=i.skillMetrics.velocity.avgBreakSpeed*i.skillMetrics.velocity.breaksRecorded;i.skillMetrics.velocity.breaksRecorded++,i.skillMetrics.velocity.avgBreakSpeed=(o+r)/i.skillMetrics.velocity.breaksRecorded,i.skillMetrics.velocity.maxBreakSpeed=Math.max(i.skillMetrics.velocity.maxBreakSpeed,r)}break;case"vectors":if(n==="shot_simulated")i.skillMetrics.vectors.shotsSimulated++;else if(n==="shot_power"){const o=i.skillMetrics.vectors.avgPower*(i.skillMetrics.vectors.shotsSimulated-1);i.skillMetrics.vectors.avgPower=(o+r)/i.skillMetrics.vectors.shotsSimulated}else n==="session_complete"&&i.skillMetrics.vectors.sessionsPlayed++;break;case"truelevel":n==="calibration"?i.skillMetrics.truelevel.calibrationsPerformed++:n==="table_check"&&i.skillMetrics.truelevel.tablesChecked++;break}localStorage.setItem(rg,JSON.stringify(i))}catch(i){console.error("Failed to update skill stats:",i)}}getAggregatedStats(){try{const e=localStorage.getItem(rg);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load aggregated stats:",e)}return{totalSessions:0,totalTimeMs:0,moduleUsage:{},lastActive:0,skillMetrics:{tempo:{avgShotTime:0,totalShots:0,sessionsPlayed:0},velocity:{avgBreakSpeed:0,maxBreakSpeed:0,breaksRecorded:0},vectors:{shotsSimulated:0,avgPower:0,sessionsPlayed:0},truelevel:{calibrationsPerformed:0,tablesChecked:0}}}}getSessions(){try{const e=localStorage.getItem(ng);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load sessions:",e),[]}}getEvents(){return[...this.events]}exportData(){const e={consent:this.consent,stats:this.getAggregatedStats(),sessions:this.getSessions(),events:this.events,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}deleteAllData(){this.events=[],this.currentSession=null,localStorage.removeItem(ew),localStorage.removeItem(ng),localStorage.removeItem(rg)}resetConsent(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},localStorage.removeItem(Zb),localStorage.removeItem(tw)}getAnonymousId(){const e="cuemaster_anonymous_id";let n=localStorage.getItem(e);return n||(n=ig()+ig(),localStorage.setItem(e,n)),n}async submitToBenchmarking(){if(!this.consent.benchmarking)return!1;try{const e=this.getAggregatedStats(),n={anonymousId:this.getAnonymousId(),timestamp:new Date().toISOString(),moduleUsage:e.moduleUsage,skillMetrics:e.skillMetrics},r="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";if(r){const i=encodeURIComponent(JSON.stringify(n)),o=`${r}?action=submit&data=${i}`,s=await fetch(o,{method:"GET"});return s.ok?(await s.json()).result==="success":!1}}catch(e){return console.error("Failed to submit benchmarking data:",e),!1}}async getExternalSummary(){const e="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";try{const n=await fetch(`${e}?action=summary`);if(n.ok)return await n.json()}catch(n){console.error("Failed to fetch external summary:",n)}return null}}const jt=new hne;function pne({open:t,onComplete:e}){const[n,r]=S.useState(0),[i,o]=S.useState({usageStats:!1,skillMetrics:!1,benchmarking:!1}),s=()=>{jt.setConsent(i),jt.markFirstLaunchComplete(),jt.track("consent_updated","home","initial_consent",{consent:i}),e()},a=()=>{const c={usageStats:!0,skillMetrics:!0,benchmarking:!0};o(c),jt.setConsent(c),jt.markFirstLaunchComplete(),jt.track("consent_updated","home","accept_all",{consent:c}),e()},l=()=>{const c={usageStats:!1,skillMetrics:!1,benchmarking:!1};jt.setConsent(c),jt.markFirstLaunchComplete(),e()};return u.jsx(di,{open:t,onOpenChange:()=>{},children:u.jsxs(Zr,{className:"max-w-md",onPointerDownOutside:c=>c.preventDefault(),children:[n===0&&u.jsxs(u.Fragment,{children:[u.jsxs(zr,{children:[u.jsxs(Wr,{className:"text-xl flex items-center gap-2",children:[u.jsx(Ih,{className:"w-5 h-5 text-primary"}),"Welcome to CueMaster Suite"]}),u.jsx(ms,{className:"text-left pt-2",children:"Help us improve your experience by sharing anonymous usage data. Your privacy is our priority."})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[u.jsx("h3",{className:"font-semibold text-sm",children:"What we collect (with your permission):"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(lc,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Which tools you use and for how long"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(kh,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Your skill metrics to show personal progress"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(Ll,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Anonymous benchmarks to compare with others"})]})]})]}),u.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-sm text-primary mb-2",children:"Your data stays local"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All data is stored on your device. You can export or delete it anytime from Settings. No account required."})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(le,{onClick:a,className:"w-full","data-testid":"button-accept-all",children:"Accept All"}),u.jsxs(le,{variant:"outline",onClick:()=>r(1),className:"w-full","data-testid":"button-customize",children:["Customize",u.jsx(K$,{className:"w-4 h-4 ml-1"})]}),u.jsx(le,{variant:"ghost",onClick:l,className:"w-full text-muted-foreground","data-testid":"button-decline-all",children:"Continue without sharing"})]})]}),n===1&&u.jsxs(u.Fragment,{children:[u.jsxs(zr,{children:[u.jsx(Wr,{className:"text-xl",children:"Customize Your Preferences"}),u.jsx(ms,{className:"text-left pt-2",children:"Choose exactly what you want to share. You can change these anytime in Settings."})]}),u.jsx("div",{className:"space-y-4 py-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lc,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use, session duration, and feature adoption. Helps us understand what's valuable."})]}),u.jsx(Zi,{checked:i.usageStats,onCheckedChange:c=>o(d=>({...d,usageStats:c})),"data-testid":"switch-usage-stats"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(kh,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record shot times, break speeds, and other performance data. See your personal progress over time."})]}),u.jsx(Zi,{checked:i.skillMetrics,onCheckedChange:c=>o(d=>({...d,skillMetrics:c})),"data-testid":"switch-skill-metrics"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ll,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Anonymous Benchmarking"})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compare your stats with other players anonymously. See where you rank and track improvement.",!i.usageStats&&u.jsx("span",{className:"text-primary",children:" (Requires Usage Statistics)"})]})]}),u.jsx(Zi,{checked:i.benchmarking,onCheckedChange:c=>o(d=>({...d,benchmarking:c,usageStats:c?!0:d.usageStats})),"data-testid":"switch-benchmarking"})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(le,{variant:"outline",onClick:()=>r(0),className:"flex-1","data-testid":"button-back",children:"Back"}),u.jsx(le,{onClick:s,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"})]})]})]})})}const q5=S.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:tt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));q5.displayName="Textarea";function qh(t,[e,n]){return Math.min(n,Math.max(e,t))}var mne=S.createContext(void 0);function Vd(t){const e=S.useContext(mne);return t||e||"ltr"}var gne=[" ","Enter","ArrowUp","ArrowDown"],yne=[" ","Enter"],em="Select",[qx,Gx,vne]=Fp(em),[Bd,Xje]=Fi(em,[vne,Tx]),Kx=Tx(),[xne,gl]=Bd(em),[bne,wne]=Bd(em),G5=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,g=Kx(e),[v,x]=S.useState(null),[b,w]=S.useState(null),[A,E]=S.useState(!1),C=Vd(c),[_=!1,T]=Do({prop:r,defaultProp:i,onChange:o}),[N,k]=Do({prop:s,defaultProp:a,onChange:l}),j=S.useRef(null),R=v?y||!!v.closest("form"):!0,[O,$]=S.useState(new Set),F=Array.from(O).map(U=>U.props.value).join(";");return u.jsx(uG,{...g,children:u.jsxs(xne,{required:m,scope:e,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:A,onValueNodeHasChildrenChange:E,contentId:ls(),value:N,onValueChange:k,open:_,onOpenChange:T,dir:C,triggerPointerDownPosRef:j,disabled:h,children:[u.jsx(qx.Provider,{scope:e,children:u.jsx(bne,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(U=>{$(H=>new Set(H).add(U))},[]),onNativeOptionRemove:S.useCallback(U=>{$(H=>{const V=new Set(H);return V.delete(U),V})},[]),children:n})}),R?u.jsxs(vF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:U=>k(U.target.value),disabled:h,form:y,children:[N===void 0?u.jsx("option",{value:""}):null,Array.from(O)]},F):null]})})};G5.displayName=em;var K5="SelectTrigger",Y5=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Kx(n),s=gl(K5,n),a=s.disabled||r,l=pt(e,s.onTriggerChange),c=Gx(n),d=S.useRef("touch"),[f,h,m]=xF(g=>{const v=c().filter(w=>!w.disabled),x=v.find(w=>w.value===s.value),b=bF(v,g,x);b!==void 0&&s.onValueChange(b.value)}),y=g=>{a||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(CL,{asChild:!0,...o,children:u.jsx(Ke.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":yF(s.value)?"":void 0,...i,ref:l,onClick:De(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:De(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:De(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&gne.includes(g.key)&&(y(),g.preventDefault())})})})});Y5.displayName=K5;var X5="SelectValue",Q5=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=gl(X5,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=pt(e,l.onValueNodeChange);return br(()=>{c(d)},[c,d]),u.jsx(Ke.span,{...a,ref:f,style:{pointerEvents:"none"},children:yF(l.value)?u.jsx(u.Fragment,{children:s}):o})});Q5.displayName=X5;var Sne="SelectIcon",J5=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Ke.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});J5.displayName=Sne;var _ne="SelectPortal",Z5=t=>u.jsx(yx,{asChild:!0,...t});Z5.displayName=_ne;var gc="SelectContent",eF=S.forwardRef((t,e)=>{const n=gl(gc,t.__scopeSelect),[r,i]=S.useState();if(br(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Ec.createPortal(u.jsx(tF,{scope:t.__scopeSelect,children:u.jsx(qx.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(nF,{...t,ref:e})});eF.displayName=gc;var go=10,[tF,yl]=Bd(gc),Ene="SelectContentImpl",Tne=Hu("SelectContent.RemoveScroll"),nF=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v,...x}=t,b=gl(gc,n),[w,A]=S.useState(null),[E,C]=S.useState(null),_=pt(e,fe=>A(fe)),[T,N]=S.useState(null),[k,j]=S.useState(null),R=Gx(n),[O,$]=S.useState(!1),F=S.useRef(!1);S.useEffect(()=>{if(w)return x5(w)},[w]),u5();const U=S.useCallback(fe=>{const[Ee,...re]=R().map(z=>z.ref.current),[ue]=re.slice(-1),ie=document.activeElement;for(const z of fe)if(z===ie||(z==null||z.scrollIntoView({block:"nearest"}),z===Ee&&E&&(E.scrollTop=0),z===ue&&E&&(E.scrollTop=E.scrollHeight),z==null||z.focus(),document.activeElement!==ie))return},[R,E]),H=S.useCallback(()=>U([T,w]),[U,T,w]);S.useEffect(()=>{O&&H()},[O,H]);const{onOpenChange:V,triggerPointerDownPosRef:L}=b;S.useEffect(()=>{if(w){let fe={x:0,y:0};const Ee=ue=>{var ie,z;fe={x:Math.abs(Math.round(ue.pageX)-(((ie=L.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((z=L.current)==null?void 0:z.y)??0))}},re=ue=>{fe.x<=10&&fe.y<=10?ue.preventDefault():w.contains(ue.target)||V(!1),document.removeEventListener("pointermove",Ee),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",re,{capture:!0})}}},[w,V,L]),S.useEffect(()=>{const fe=()=>V(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[V]);const[X,Y]=xF(fe=>{const Ee=R().filter(ie=>!ie.disabled),re=Ee.find(ie=>ie.ref.current===document.activeElement),ue=bF(Ee,fe,re);ue&&setTimeout(()=>ue.ref.current.focus())}),te=S.useCallback((fe,Ee,re)=>{const ue=!F.current&&!re;(b.value!==void 0&&b.value===Ee||ue)&&(N(fe),ue&&(F.current=!0))},[b.value]),ye=S.useCallback(()=>w==null?void 0:w.focus(),[w]),Ce=S.useCallback((fe,Ee,re)=>{const ue=!F.current&&!re;(b.value!==void 0&&b.value===Ee||ue)&&j(fe)},[b.value]),Ve=r==="popper"?cS:rF,Ye=Ve===cS?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return u.jsx(tF,{scope:n,content:w,viewport:E,onViewportChange:C,itemRefCallback:te,selectedItem:T,onItemLeave:ye,itemTextRefCallback:Ce,focusSelectedItem:H,selectedItemText:k,position:r,isPositioned:O,searchRef:X,children:u.jsx(sP,{as:Tne,allowPinchZoom:!0,children:u.jsx(oP,{asChild:!0,trapped:b.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:De(i,fe=>{var Ee;(Ee=b.trigger)==null||Ee.focus({preventScroll:!0}),fe.preventDefault()}),children:u.jsx(Vp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:u.jsx(Ve,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:fe=>fe.preventDefault(),...x,...Ye,onPlaced:()=>$(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:De(x.onKeyDown,fe=>{const Ee=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!Ee&&fe.key.length===1&&Y(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let ue=R().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const ie=fe.target,z=ue.indexOf(ie);ue=ue.slice(z+1)}setTimeout(()=>U(ue)),fe.preventDefault()}})})})})})})});nF.displayName=Ene;var Pne="SelectItemAlignedPosition",rF=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=gl(gc,n),s=yl(gc,n),[a,l]=S.useState(null),[c,d]=S.useState(null),f=pt(e,_=>d(_)),h=Gx(n),m=S.useRef(!1),y=S.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=s,w=S.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&v&&x){const _=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(o.dir!=="rtl"){const ie=k.left-T.left,z=N.left-ie,he=_.left-z,xe=_.width+he,Ge=Math.max(xe,T.width),je=window.innerWidth-go,Te=qh(z,[go,Math.max(go,je-Ge)]);a.style.minWidth=xe+"px",a.style.left=Te+"px"}else{const ie=T.right-k.right,z=window.innerWidth-N.right-ie,he=window.innerWidth-_.right-z,xe=_.width+he,Ge=Math.max(xe,T.width),je=window.innerWidth-go,Te=qh(z,[go,Math.max(go,je-Ge)]);a.style.minWidth=xe+"px",a.style.right=Te+"px"}const j=h(),R=window.innerHeight-go*2,O=g.scrollHeight,$=window.getComputedStyle(c),F=parseInt($.borderTopWidth,10),U=parseInt($.paddingTop,10),H=parseInt($.borderBottomWidth,10),V=parseInt($.paddingBottom,10),L=F+U+O+V+H,X=Math.min(v.offsetHeight*5,L),Y=window.getComputedStyle(g),te=parseInt(Y.paddingTop,10),ye=parseInt(Y.paddingBottom,10),Ce=_.top+_.height/2-go,Ve=R-Ce,Ye=v.offsetHeight/2,fe=v.offsetTop+Ye,Ee=F+U+fe,re=L-Ee;if(Ee<=Ce){const ie=j.length>0&&v===j[j.length-1].ref.current;a.style.bottom="0px";const z=c.clientHeight-g.offsetTop-g.offsetHeight,he=Math.max(Ve,Ye+(ie?ye:0)+z+H),xe=Ee+he;a.style.height=xe+"px"}else{const ie=j.length>0&&v===j[0].ref.current;a.style.top="0px";const he=Math.max(Ce,F+g.offsetTop+(ie?te:0)+Ye)+re;a.style.height=he+"px",g.scrollTop=Ee-Ce+g.offsetTop}a.style.margin=`${go}px 0`,a.style.minHeight=X+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,c,g,v,x,o.dir,r]);br(()=>w(),[w]);const[A,E]=S.useState();br(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const C=S.useCallback(_=>{_&&y.current===!0&&(w(),b==null||b(),y.current=!1)},[w,b]);return u.jsx(Cne,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:u.jsx(Ke.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});rF.displayName=Pne;var Ane="SelectPopperPosition",cS=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=go,...o}=t,s=Kx(n);return u.jsx(NL,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cS.displayName=Ane;var[Cne,hP]=Bd(gc,{}),uS="SelectViewport",iF=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=yl(uS,n),s=hP(uS,n),a=pt(e,o.onViewportChange),l=S.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(qx.Slot,{scope:n,children:u.jsx(Ke.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:De(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const y=window.innerHeight-go*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<y){const b=x+m,w=Math.min(y,b),A=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});iF.displayName=uS;var oF="SelectGroup",[Nne,jne]=Bd(oF),Ine=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ls();return u.jsx(Nne,{scope:n,id:i,children:u.jsx(Ke.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Ine.displayName=oF;var sF="SelectLabel",aF=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=jne(sF,n);return u.jsx(Ke.div,{id:i.id,...r,ref:e})});aF.displayName=sF;var Gy="SelectItem",[kne,lF]=Bd(Gy),cF=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=gl(Gy,n),l=yl(Gy,n),c=a.value===r,[d,f]=S.useState(o??""),[h,m]=S.useState(!1),y=pt(e,b=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,b,r,i)}),g=ls(),v=S.useRef("touch"),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(kne,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:S.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:u.jsx(qx.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Ke.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:y,onFocus:De(s.onFocus,()=>m(!0)),onBlur:De(s.onBlur,()=>m(!1)),onClick:De(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:De(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:De(s.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:De(s.onPointerMove,b=>{var w;v.current=b.pointerType,i?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(s.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:De(s.onKeyDown,b=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&b.key===" "||(yne.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});cF.displayName=Gy;var Df="SelectItemText",uF=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=gl(Df,n),a=yl(Df,n),l=lF(Df,n),c=wne(Df,n),[d,f]=S.useState(null),h=pt(e,x=>f(x),l.onItemTextChange,x=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,y=S.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return br(()=>(g(y),()=>v(y)),[g,v,y]),u.jsxs(u.Fragment,{children:[u.jsx(Ke.span,{id:l.textId,...o,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ec.createPortal(o.children,s.valueNode):null]})});uF.displayName=Df;var dF="SelectItemIndicator",fF=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return lF(dF,n).isSelected?u.jsx(Ke.span,{"aria-hidden":!0,...r,ref:e}):null});fF.displayName=dF;var dS="SelectScrollUpButton",hF=S.forwardRef((t,e)=>{const n=yl(dS,t.__scopeSelect),r=hP(dS,t.__scopeSelect),[i,o]=S.useState(!1),s=pt(e,r.onScrollButtonChange);return br(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(mF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});hF.displayName=dS;var fS="SelectScrollDownButton",pF=S.forwardRef((t,e)=>{const n=yl(fS,t.__scopeSelect),r=hP(fS,t.__scopeSelect),[i,o]=S.useState(!1),s=pt(e,r.onScrollButtonChange);return br(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(mF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});pF.displayName=fS;var mF=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=yl("SelectScrollButton",n),s=S.useRef(null),a=Gx(n),l=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),br(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Ke.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:De(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:De(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:De(i.onPointerLeave,()=>{l()})})}),One="SelectSeparator",gF=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Ke.div,{"aria-hidden":!0,...r,ref:e})});gF.displayName=One;var hS="SelectArrow",Rne=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Kx(n),o=gl(hS,n),s=yl(hS,n);return o.open&&s.position==="popper"?u.jsx(jL,{...i,...r,ref:e}):null});Rne.displayName=hS;function yF(t){return t===""||t===void 0}var vF=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=S.useRef(null),o=pt(e,i),s=dP(n);return S.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[s,n]),u.jsx(Bp,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});vF.displayName="BubbleSelect";function xF(t){const e=$n(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function bF(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Mne(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Mne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Dne=G5,wF=Y5,$ne=Q5,Lne=J5,Fne=Z5,SF=eF,Vne=iF,_F=aF,EF=cF,Bne=uF,Une=fF,TF=hF,PF=pF,AF=gF;const CF=Dne,NF=$ne,pP=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(wF,{ref:r,className:tt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Lne,{asChild:!0,children:u.jsx(Nh,{className:"h-4 w-4 opacity-50"})})]}));pP.displayName=wF.displayName;const jF=S.forwardRef(({className:t,...e},n)=>u.jsx(TF,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(QW,{className:"h-4 w-4"})}));jF.displayName=TF.displayName;const IF=S.forwardRef(({className:t,...e},n)=>u.jsx(PF,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Nh,{className:"h-4 w-4"})}));IF.displayName=PF.displayName;const mP=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(Fne,{children:u.jsxs(SF,{ref:i,className:tt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(jF,{}),u.jsx(Vne,{className:tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(IF,{})]})}));mP.displayName=SF.displayName;const zne=S.forwardRef(({className:t,...e},n)=>u.jsx(_F,{ref:n,className:tt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));zne.displayName=_F.displayName;const hr=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(EF,{ref:r,className:tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Une,{children:u.jsx(G$,{className:"h-4 w-4"})})}),u.jsx(Bne,{children:e})]}));hr.displayName=EF.displayName;const Wne=S.forwardRef(({className:t,...e},n)=>u.jsx(AF,{ref:n,className:tt("-mx-1 my-1 h-px bg-muted",t),...e}));Wne.displayName=AF.displayName;const Hne=[{value:"tempo",label:"Tempo (Shot Clock)"},{value:"velocity",label:"Velocity (Break Speed)"},{value:"truelevel",label:"TrueLevel (Table Gauge)"},{value:"vectors",label:"Vectors (Cueing Emulator)"},{value:"general",label:"General / App Overall"}];function qne(){const{promoCode:t,user:e}=Fd(),{toast:n}=Cd(),[r,i]=S.useState(!1),[o,s]=S.useState(""),[a,l]=S.useState(0),[c,d]=S.useState(""),[f,h]=S.useState(!1);if(!((t==null?void 0:t.toUpperCase())==="EARLYBIRD"))return null;const y=async()=>{if(!o||a===0){n({title:"Missing info",description:"Please select a tool and rating",variant:"destructive"});return}h(!0);try{const g={tool:o,rating:a,comment:c,userId:(e==null?void 0:e.uid)||"anonymous",userEmail:(e==null?void 0:e.email)||"anonymous",promoCode:t,timestamp:new Date().toISOString()},v="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";v&&await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"feedback",...g})}),n({title:"Thank you!",description:"Your feedback helps us improve CueMaster Suite."}),i(!1),s(""),l(0),d("")}catch(g){console.error("Feedback error:",g),n({title:"Feedback sent",description:"Thank you for your input!"}),i(!1)}finally{h(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx(le,{onClick:()=>i(!0),className:"fixed bottom-4 right-4 rounded-full w-14 h-14 shadow-lg z-50",size:"icon","data-testid":"button-feedback",children:u.jsx(kN,{className:"w-6 h-6"})}),u.jsx(di,{open:r,onOpenChange:i,children:u.jsxs(Zr,{className:"max-w-sm",children:[u.jsxs(zr,{children:[u.jsxs(Wr,{className:"flex items-center gap-2",children:[u.jsx(kN,{className:"w-5 h-5 text-primary"}),"Early Adopter Feedback"]}),u.jsx(ms,{children:"Thanks for being an early adopter! Your feedback shapes CueMaster."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Which tool?"}),u.jsxs(CF,{value:o,onValueChange:s,children:[u.jsx(pP,{"data-testid":"select-feedback-tool",children:u.jsx(NF,{placeholder:"Select a tool"})}),u.jsx(mP,{children:Hne.map(g=>u.jsx(hr,{value:g.value,children:g.label},g.value))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rating"}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(g=>u.jsx("button",{onClick:()=>l(g),className:"p-1 transition-colors","data-testid":`button-star-${g}`,children:u.jsx(xH,{className:`w-8 h-8 ${g<=a?"fill-amber-400 text-amber-400":"text-muted-foreground"}`})},g))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comments (optional)"}),u.jsx(q5,{placeholder:"What's working? What could be better?",value:c,onChange:g=>d(g.target.value),rows:3,"data-testid":"textarea-feedback-comment"})]}),u.jsxs(le,{onClick:y,className:"w-full gap-2",disabled:f,"data-testid":"button-submit-feedback",children:[u.jsx(yH,{className:"w-4 h-4"}),f?"Sending...":"Send Feedback"]})]})]})})]})}const Gne=bx("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function kF({className:t,variant:e,...n}){return u.jsx("div",{className:tt(Gne({variant:e}),t),...n})}var Kne="Label",OF=S.forwardRef((t,e)=>u.jsx(Ke.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));OF.displayName=Kne;var RF=OF;const Yne=bx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fn=S.forwardRef(({className:t,...e},n)=>u.jsx(RF,{ref:n,className:tt(Yne(),t),...e}));fn.displayName=RF.displayName;var nw="rovingFocusGroup.onEntryFocus",Xne={bubbles:!1,cancelable:!0},Yx="RovingFocusGroup",[pS,MF,Qne]=Fp(Yx),[Jne,DF]=Fi(Yx,[Qne]),[Zne,ere]=Jne(Yx),$F=S.forwardRef((t,e)=>u.jsx(pS.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(pS.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(tre,{...t,ref:e})})}));$F.displayName=Yx;var tre=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=S.useRef(null),m=pt(e,h),y=Vd(o),[g=null,v]=Do({prop:s,defaultProp:a,onChange:l}),[x,b]=S.useState(!1),w=$n(c),A=MF(n),E=S.useRef(!1),[C,_]=S.useState(0);return S.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(nw,w),()=>T.removeEventListener(nw,w)},[w]),u.jsx(Zne,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:S.useCallback(T=>v(T),[v]),onItemShiftTab:S.useCallback(()=>b(!0),[]),onFocusableItemAdd:S.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:S.useCallback(()=>_(T=>T-1),[]),children:u.jsx(Ke.div,{tabIndex:x||C===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:De(t.onMouseDown,()=>{E.current=!0}),onFocus:De(t.onFocus,T=>{const N=!E.current;if(T.target===T.currentTarget&&N&&!x){const k=new CustomEvent(nw,Xne);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const j=A().filter(U=>U.focusable),R=j.find(U=>U.active),O=j.find(U=>U.id===g),F=[R,O,...j].filter(Boolean).map(U=>U.ref.current);VF(F,d)}}E.current=!1}),onBlur:De(t.onBlur,()=>b(!1))})})}),LF="RovingFocusGroupItem",FF=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=ls(),l=o||a,c=ere(LF,n),d=c.currentTabStopId===l,f=MF(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return S.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),u.jsx(pS.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Ke.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:De(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:De(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:De(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=ire(y,c.orientation,c.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const b=x.indexOf(y.currentTarget);x=c.loop?ore(x,b+1):x.slice(b+1)}setTimeout(()=>VF(x))}})})})});FF.displayName=LF;var nre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rre(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ire(t,e,n){const r=rre(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return nre[r]}function VF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ore(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sre=$F,are=FF,gP="Tabs",[lre,Qje]=Fi(gP,[DF]),BF=DF(),[cre,yP]=lre(gP),UF=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Vd(a),[f,h]=Do({prop:r,onChange:i,defaultProp:o});return u.jsx(cre,{scope:n,baseId:ls(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx(Ke.div,{dir:d,"data-orientation":s,...c,ref:e})})});UF.displayName=gP;var zF="TabsList",WF=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=yP(zF,n),s=BF(n);return u.jsx(sre,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:u.jsx(Ke.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});WF.displayName=zF;var HF="TabsTrigger",qF=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=yP(HF,n),a=BF(n),l=YF(s.baseId,r),c=XF(s.baseId,r),d=r===s.value;return u.jsx(are,{asChild:!0,...a,focusable:!i,active:d,children:u.jsx(Ke.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:De(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:De(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:De(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});qF.displayName=HF;var GF="TabsContent",KF=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=yP(GF,n),l=YF(a.baseId,r),c=XF(a.baseId,r),d=r===a.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(lo,{present:i||d,children:({present:h})=>u.jsx(Ke.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});KF.displayName=GF;function YF(t,e){return`${t}-trigger-${e}`}function XF(t,e){return`${t}-content-${e}`}var ure=UF,QF=WF,JF=qF,ZF=KF;const eV=ure,vP=S.forwardRef(({className:t,...e},n)=>u.jsx(QF,{ref:n,className:tt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));vP.displayName=QF.displayName;const $a=S.forwardRef(({className:t,...e},n)=>u.jsx(JF,{ref:n,className:tt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));$a.displayName=JF.displayName;const La=S.forwardRef(({className:t,...e},n)=>u.jsx(ZF,{ref:n,className:tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));La.displayName=ZF.displayName;function dre(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var xP="ScrollArea",[tV,Jje]=Fi(xP),[fre,co]=tV(xP),nV=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=S.useState(null),[c,d]=S.useState(null),[f,h]=S.useState(null),[m,y]=S.useState(null),[g,v]=S.useState(null),[x,b]=S.useState(0),[w,A]=S.useState(0),[E,C]=S.useState(!1),[_,T]=S.useState(!1),N=pt(e,j=>l(j)),k=Vd(i);return u.jsx(fre,{scope:n,type:r,dir:k,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:b,onCornerHeightChange:A,children:u.jsx(Ke.div,{dir:k,...s,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});nV.displayName=xP;var rV="ScrollAreaViewport",iV=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=co(rV,n),a=S.useRef(null),l=pt(e,a,s.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Ke.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});iV.displayName=rV;var Es="ScrollAreaScrollbar",bP=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=co(Es,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return S.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?u.jsx(hre,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(pre,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(oV,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(wP,{...r,ref:e}):null});bP.displayName=Es;var hre=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=co(Es,t.__scopeScrollArea),[o,s]=S.useState(!1);return S.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(lo,{present:n||o,children:u.jsx(oV,{"data-state":o?"visible":"hidden",...r,ref:e})})}),pre=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=co(Es,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Qx(()=>l("SCROLL_END"),100),[a,l]=dre("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),S.useEffect(()=>{const c=i.viewport,d=o?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const m=c[d];f!==m&&(l("SCROLL"),s()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),u.jsx(lo,{present:n||a!=="hidden",children:u.jsx(wP,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:De(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:De(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),oV=S.forwardRef((t,e)=>{const n=co(Es,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=S.useState(!1),a=t.orientation==="horizontal",l=Qx(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:d)}},10);return nd(n.viewport,l),nd(n.content,l),u.jsx(lo,{present:r||o,children:u.jsx(wP,{"data-state":o?"visible":"hidden",...i,ref:e})})}),wP=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=co(Es,t.__scopeScrollArea),o=S.useRef(null),s=S.useRef(0),[a,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=uV(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return bre(h,s.current,a,m)}return n==="horizontal"?u.jsx(mre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,m=AI(h,a,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(gre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,m=AI(h,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),mre=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=co(Es,t.__scopeScrollArea),[s,a]=S.useState(),l=S.useRef(null),c=pt(e,l,o.onScrollbarXChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(aV,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Xx(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),fV(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Yy(s.paddingLeft),paddingEnd:Yy(s.paddingRight)}})}})}),gre=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=co(Es,t.__scopeScrollArea),[s,a]=S.useState(),l=S.useRef(null),c=pt(e,l,o.onScrollbarYChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(aV,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Xx(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),fV(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Yy(s.paddingTop),paddingEnd:Yy(s.paddingBottom)}})}})}),[yre,sV]=tV(Es),aV=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,m=co(Es,n),[y,g]=S.useState(null),v=pt(e,N=>g(N)),x=S.useRef(null),b=S.useRef(""),w=m.viewport,A=r.content-r.viewport,E=$n(d),C=$n(l),_=Qx(f,10);function T(N){if(x.current){const k=N.clientX-x.current.left,j=N.clientY-x.current.top;c({x:k,y:j})}}return S.useEffect(()=>{const N=k=>{const j=k.target;(y==null?void 0:y.contains(j))&&E(k,A)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,y,A,E]),S.useEffect(C,[r,C]),nd(y,_),nd(m.content,_),u.jsx(yre,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:$n(o),onThumbPointerUp:$n(s),onThumbPositionChange:C,onThumbPointerDown:$n(a),children:u.jsx(Ke.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:De(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(N))}),onPointerMove:De(t.onPointerMove,T),onPointerUp:De(t.onPointerUp,N=>{const k=N.target;k.hasPointerCapture(N.pointerId)&&k.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Ky="ScrollAreaThumb",lV=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=sV(Ky,t.__scopeScrollArea);return u.jsx(lo,{present:n||i.hasThumb,children:u.jsx(vre,{ref:e,...r})})}),vre=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=co(Ky,n),s=sV(Ky,n),{onThumbPositionChange:a}=s,l=pt(e,f=>s.onThumbChange(f)),c=S.useRef(void 0),d=Qx(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!c.current){const m=wre(f,a);c.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,a]),u.jsx(Ke.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:De(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;s.onThumbPointerDown({x:y,y:g})}),onPointerUp:De(t.onPointerUp,s.onThumbPointerUp)})});lV.displayName=Ky;var SP="ScrollAreaCorner",cV=S.forwardRef((t,e)=>{const n=co(SP,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(xre,{...t,ref:e}):null});cV.displayName=SP;var xre=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=co(SP,n),[o,s]=S.useState(0),[a,l]=S.useState(0),c=!!(o&&a);return nd(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),nd(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),c?u.jsx(Ke.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Yy(t){return t?parseInt(t,10):0}function uV(t,e){const n=t/e;return isNaN(n)?0:n}function Xx(t){const e=uV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function bre(t,e,n,r="ltr"){const i=Xx(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return dV([l,c],f)(t)}function AI(t,e,n="ltr"){const r=Xx(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=qh(t,l);return dV([0,s],[0,a])(c)}function dV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function fV(t,e){return t>0&&t<e}var wre=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Qx(t,e){const n=$n(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function nd(t,e){const n=$n(e);br(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var hV=nV,Sre=iV,_re=cV;const _P=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(hV,{ref:r,className:tt("relative overflow-hidden",t),...n,children:[u.jsx(Sre,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(pV,{}),u.jsx(_re,{})]}));_P.displayName=hV.displayName;const pV=S.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(bP,{ref:r,orientation:e,className:tt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(lV,{className:"relative flex-1 rounded-full bg-border"})}));pV.displayName=bP.displayName;const rw="shotclock_sessions";function Ere({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("circle",{cx:"24",cy:"24",r:"20",strokeDasharray:"4 2"}),u.jsx("circle",{cx:"24",cy:"24",r:"16"}),u.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"10",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"}),u.jsx("line",{x1:"24",y1:"24",x2:"32",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]})}function Tre({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"2",y:"18",width:"44",height:"12",rx:"2"}),u.jsx("rect",{x:"16",y:"20",width:"16",height:"8",rx:"4",strokeWidth:"1.5"}),u.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"currentColor"}),u.jsx("line",{x1:"24",y1:"20",x2:"24",y2:"21",strokeWidth:"1"}),u.jsx("line",{x1:"24",y1:"27",x2:"24",y2:"28",strokeWidth:"1"}),u.jsx("line",{x1:"6",y1:"24",x2:"8",y2:"24",strokeWidth:"1.5"}),u.jsx("line",{x1:"40",y1:"24",x2:"42",y2:"24",strokeWidth:"1.5"})]})}function Pre({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("path",{d:"M6 38 A22 22 0 0 1 42 38",strokeLinecap:"round"}),u.jsx("line",{x1:"24",y1:"36",x2:"34",y2:"18",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"36",r:"3",fill:"currentColor"}),u.jsx("line",{x1:"10",y1:"28",x2:"10",y2:"24",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"16",y1:"18",x2:"18",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"10",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"32",y1:"18",x2:"30",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"38",y1:"28",x2:"38",y2:"24",strokeWidth:"2",strokeLinecap:"round"})]})}function Are({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("circle",{cx:"24",cy:"24",r:"10"}),u.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"4",strokeWidth:"2",markerEnd:"url(#arrowUp)"}),u.jsx("line",{x1:"24",y1:"34",x2:"24",y2:"44",strokeWidth:"2"}),u.jsx("line",{x1:"14",y1:"24",x2:"4",y2:"24",strokeWidth:"2"}),u.jsx("line",{x1:"34",y1:"24",x2:"44",y2:"24",strokeWidth:"2"}),u.jsx("path",{d:"M24 4 L22 8 L26 8 Z",fill:"currentColor"}),u.jsx("path",{d:"M44 24 L40 22 L40 26 Z",fill:"currentColor"}),u.jsx("path",{d:"M38 10 L24 24",strokeWidth:"2",strokeDasharray:"3 2"}),u.jsx("circle",{cx:"38",cy:"10",r:"3",fill:"currentColor"}),u.jsx("path",{d:"M10 38 C16 32, 20 28, 24 24",strokeWidth:"2",strokeDasharray:"3 2"})]})}const CI="cuemaster_dev_mode";function Cre(){const{promoCode:t}=Fd();return(t==null?void 0:t.toUpperCase())==="EARLYBIRD"?u.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(q$,{className:"w-5 h-5 text-amber-500"}),u.jsxs("div",{children:[u.jsx(kF,{variant:"secondary",className:"bg-amber-500/20 text-amber-500 border-amber-500/30",children:"Early Adopter"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Thanks for being an early supporter! Use the feedback button to share your thoughts."})]})]})}):null}function Nre(){const[,t]=ml(),[e,n]=S.useState(!1),{theme:r,toggleTheme:i,colorTheme:o,setColorTheme:s}=IG(),{user:a,isPro:l,promoCode:c,signInWithGoogle:d,signOut:f}=Fd(),[h,m]=S.useState([]),[y,g]=S.useState(!1),[v,x]=S.useState(0),b=S.useRef(null),w=S.useRef(0),[A,E]=S.useState(!1),[C,_]=S.useState(jt.getConsent());S.useEffect(()=>{localStorage.getItem(CI)==="true"&&g(!0),jt.isFirstLaunch()&&E(!0)},[]);const T=$=>{if($.type==="click"&&w.current>Date.now()-300||($.type==="touchend"&&(w.current=Date.now(),$.preventDefault()),y))return;const F=v+1;x(F),b.current&&clearTimeout(b.current),F>=7?(g(!0),localStorage.setItem(CI,"true"),x(0)):b.current=setTimeout(()=>x(0),2e3)};S.useEffect(()=>{const $=()=>{try{const U=localStorage.getItem(rw);if(U){const H=JSON.parse(U);Array.isArray(H)&&m(H)}}catch(U){console.error("Failed to parse sessions:",U),m([])}};$();const F=()=>$();return window.addEventListener("storage",F),()=>window.removeEventListener("storage",F)},[]);const N=()=>{localStorage.removeItem(rw),m([])},k=$=>{const F=h.filter(U=>U.id!==$);localStorage.setItem(rw,JSON.stringify(F)),m(F)},j=$=>new Date($).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=$=>{const F=Math.floor($/60),U=Math.floor($%60);return F>0?`${F}m ${U}s`:`${U.toFixed(1)}s`},O=$=>$.stats.shotDurations.length===0?0:$.stats.shotDurations.reduce((U,H)=>U+H,0)/$.stats.shotDurations.length;return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("div",{onClick:()=>{confirm("Clear all site data and start fresh? This will reset everything.")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},className:"cursor-pointer select-none","data-testid":"logo-reset",children:[u.jsx("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"CUEMASTER"}),u.jsxs("p",{className:`text-sm font-light ${l?(c==null?void 0:c.toUpperCase())==="PROMETHEAN"?"text-[#d11111] font-medium":(c==null?void 0:c.toUpperCase())==="CUEMASTER2026"?"text-green-500 font-medium":"text-sky-400 font-medium":"text-muted-foreground"}`,children:["Suite",l&&" Pro"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{onClick:T,onTouchEnd:T,className:"cursor-default select-none touch-manipulation",children:u.jsx(Zee,{})}),u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>t("/insights"),"data-testid":"button-insights",children:u.jsx(lc,{className:"w-5 h-5"})}),u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>n(!0),"data-testid":"button-settings",children:u.jsx(JE,{className:"w-5 h-5"})})]})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Tool"}),u.jsx("p",{className:"text-muted-foreground",children:"Professional billiards companion utilities"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Qm,{icon:u.jsx(Are,{}),title:"Vectors",subtitle:"CueMaster",description:"Test spin, angles, and speed before you ever pull the trigger.",onClick:()=>t("/cue-emulator"),testId:"card-cue-emulator",proFeature:!0,isProUser:l}),u.jsx(Qm,{icon:u.jsx(Tre,{}),title:"TrueLevel",subtitle:"CueMaster",description:"Verify your battlefield. No excuses, no hidden slopes.",onClick:()=>t("/table-level"),testId:"card-table-level",proFeature:!0,isProUser:l}),u.jsx(Qm,{icon:u.jsx(Ere,{}),title:"Tempo",subtitle:"CueMaster",description:"Own the pace of play  solo drills or match pressure, on a clock.",onClick:()=>t("/shot-clock"),testId:"card-shot-clock",proFeature:!0,isProUser:l}),u.jsx(Qm,{icon:u.jsx(Pre,{disabled:!y}),title:"Velocity",subtitle:"CueMaster",description:"Dial in raw power with break speed you can actually measure.",onClick:y?()=>t("/break-speed"):void 0,disabled:!y,testId:"card-break-speed",proFeature:!0,isProUser:l})]})]})}),u.jsx("footer",{className:"py-4 px-6 text-center border-t",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:" Promethean Games. Promethean-Games.com, All rights reserved."})}),u.jsx(di,{open:e,onOpenChange:n,children:u.jsxs(Zr,{className:"max-w-md max-h-[85vh] overflow-hidden flex flex-col",children:[u.jsx(zr,{className:"flex-shrink-0",children:u.jsx(Wr,{children:"Settings"})}),u.jsxs(eV,{defaultValue:"appearance",className:"flex-1 overflow-hidden flex flex-col",children:[u.jsxs(vP,{className:"grid w-full grid-cols-4 flex-shrink-0",children:[u.jsxs($a,{value:"profile","data-testid":"tab-profile",children:[u.jsx(Xf,{className:"w-4 h-4 mr-1"}),"Profile"]}),u.jsxs($a,{value:"appearance","data-testid":"tab-appearance",children:[u.jsx(ON,{className:"w-4 h-4 mr-1"}),"Theme"]}),u.jsxs($a,{value:"analytics","data-testid":"tab-analytics",children:[u.jsx(Ih,{className:"w-4 h-4 mr-1"}),"Privacy"]}),u.jsxs($a,{value:"history","data-testid":"tab-history",children:[u.jsx(N1,{className:"w-4 h-4 mr-1"}),"History"]})]}),u.jsxs(La,{value:"profile",className:"flex-1 overflow-auto mt-4 space-y-4",children:[u.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${a?"bg-primary/20":"bg-muted"}`,children:u.jsx(Xf,{className:`w-6 h-6 ${a?"text-primary":"text-muted-foreground"}`})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold",children:a?a.displayName||a.email||"Signed In":"Guest User"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:a?a.email:"Not signed in"})]})]}),u.jsx("div",{className:"flex items-center gap-2 text-sm",children:a?u.jsxs(u.Fragment,{children:[u.jsx(ZW,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{className:"text-green-500 font-medium",children:"Cloud Sync Active"})]}):u.jsxs(u.Fragment,{children:[u.jsx(eH,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Local Storage Only"})]})})]}),u.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-3",children:[u.jsx(fn,{className:"text-sm font-medium",children:"Pro Status"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(q$,{className:`w-5 h-5 ${l?"text-primary":"text-muted-foreground"}`}),u.jsx("span",{className:l?"font-medium":"text-muted-foreground",children:l?"Pro Unlocked":"Free Version"})]}),l&&c&&u.jsx(kF,{variant:"outline",className:c.toUpperCase()==="PROMETHEAN"?"border-[#d11111] text-[#d11111]":c.toUpperCase()==="CUEMASTER2026"?"border-green-500 text-green-500":"border-sky-400 text-sky-400",children:c.toUpperCase()})]}),l&&u.jsx("p",{className:"text-xs text-muted-foreground",children:a?"Pro status synced to your account":"Pro status stored locally on this device"})]}),u.jsx("div",{className:"space-y-2",children:a?u.jsxs(le,{variant:"outline",className:"w-full",onClick:async()=>{await f()},"data-testid":"button-sign-out",children:[u.jsx(sH,{className:"w-4 h-4 mr-2"}),"Sign Out"]}):u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Sign in to sync your Pro status across devices"}),u.jsxs(le,{variant:"outline",className:"w-full",onClick:async()=>{await d()},"data-testid":"button-sign-in-google",children:[u.jsx(I1,{className:"w-4 h-4 mr-2"}),"Sign in with Google"]})]})}),a&&u.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:[u.jsx("p",{children:"App Version: v0.9.8"}),u.jsxs("p",{className:"mt-1",children:["Last synced: ",new Date().toLocaleString()]})]})]}),u.jsxs(La,{value:"appearance",className:"flex-1 overflow-auto mt-4 space-y-6",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(fn,{htmlFor:"theme-toggle",className:"flex items-center gap-2",children:[r==="dark"?u.jsx(fH,{className:"w-4 h-4"}):u.jsx(bH,{className:"w-4 h-4"}),"Theme Mode"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:r==="dark"?"Dark":"Light"}),u.jsx(Zi,{id:"theme-toggle",checked:r==="dark",onCheckedChange:i,"data-testid":"switch-theme"})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(fn,{className:"flex items-center gap-2",children:[u.jsx(ON,{className:"w-4 h-4"}),"Accent Color"]}),u.jsx("div",{className:"grid grid-cols-4 gap-3 p-1",children:Mg.map($=>u.jsx("button",{onClick:()=>s($),className:`relative aspect-square rounded-lg transition-all ${o.id===$.id?"ring-2 ring-offset-2 ring-offset-background ring-foreground":""}`,style:{backgroundColor:`hsl(${$.primary})`},title:$.name,"data-testid":`button-color-${$.id}`,children:o.id===$.id&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})},$.id))}),u.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",o.name]})]})]}),u.jsxs(La,{value:"analytics",className:"flex-1 overflow-auto mt-4 space-y-4",children:[u.jsx(Cre,{}),u.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ih,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-semibold text-sm",children:"Your Privacy"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All data stays on your device. No account required. Export or delete anytime."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(fn,{className:"text-sm font-medium",children:"Data Collection"}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use and session duration"})]}),u.jsx(Zi,{checked:C.usageStats,onCheckedChange:$=>{const F={...C,usageStats:$};_(F),jt.setConsent(F)},"data-testid":"switch-settings-usage"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record performance data for personal insights"})]}),u.jsx(Zi,{checked:C.skillMetrics,onCheckedChange:$=>{const F={...C,skillMetrics:$};_(F),jt.setConsent(F)},"data-testid":"switch-settings-skills"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Benchmarking"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anonymous comparison with other players",!C.usageStats&&u.jsx("span",{className:"text-primary",children:" (Enables Usage Stats)"})]})]}),u.jsx(Zi,{checked:C.benchmarking,onCheckedChange:$=>{const F={...C,benchmarking:$,usageStats:$?!0:C.usageStats};_(F),jt.setConsent(F)},"data-testid":"switch-settings-benchmark"})]})]}),u.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[u.jsx(fn,{className:"text-sm font-medium",children:"Data Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(le,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const $=jt.exportData(),F=new Blob([$],{type:"application/json"}),U=URL.createObjectURL(F),H=document.createElement("a");H.href=U,H.download=`cuemaster-data-${new Date().toISOString().split("T")[0]}.json`,H.click(),URL.revokeObjectURL(U)},"data-testid":"button-export-data",children:[u.jsx(Y$,{className:"w-4 h-4 mr-2"}),"Export"]}),u.jsxs(le,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>{confirm("Delete all analytics data? This cannot be undone.")&&jt.deleteAllData()},"data-testid":"button-delete-data",children:[u.jsx(Sy,{className:"w-4 h-4 mr-2"}),"Delete All"]})]})]})]}),u.jsxs(La,{value:"history",className:"flex-1 overflow-hidden mt-4 flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[u.jsxs(fn,{className:"flex items-center gap-2",children:[u.jsx(jh,{className:"w-4 h-4"}),"Shot Clock Sessions"]}),h.length>0&&u.jsxs(le,{variant:"ghost",size:"sm",onClick:N,className:"text-destructive hover:text-destructive","data-testid":"button-clear-sessions",children:[u.jsx(Sy,{className:"w-4 h-4 mr-1"}),"Clear All"]})]}),u.jsx(_P,{className:"flex-1",children:h.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(N1,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{className:"text-sm",children:"No session history yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Complete a Shot Clock session to see stats here"})]}):u.jsx("div",{className:"space-y-3 pr-3",children:h.map($=>u.jsxs(Je,{className:"p-3","data-testid":`card-session-${$.id}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:$.stats.playerNames.join(" vs ")}),u.jsx("p",{className:"text-xs text-muted-foreground",children:j($.date)})]}),u.jsx(le,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>k($.id),"data-testid":`button-delete-session-${$.id}`,children:u.jsx(Up,{className:"w-3 h-3"})})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(ZE,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:R(O($))}),u.jsx("p",{className:"text-muted-foreground",children:"Avg"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(If,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:$.stats.shotCount}),u.jsx("p",{className:"text-muted-foreground",children:"Shots"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(jh,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:$.stats.totalExtensions}),u.jsx("p",{className:"text-muted-foreground",children:"Ext"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(eT,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:$.stats.timeouts}),u.jsx("p",{className:"text-muted-foreground",children:"T/O"})]})]})]},$.id))})})]})]})]})}),u.jsx(pne,{open:A,onComplete:()=>{E(!1),_(jt.getConsent())}}),u.jsx(qne,{})]})}var EP="Collapsible",[jre,mV]=Fi(EP),[Ire,TP]=jre(EP),gV=S.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=t,[l=!1,c]=Do({prop:r,defaultProp:i,onChange:s});return u.jsx(Ire,{scope:n,disabled:o,contentId:ls(),open:l,onOpenToggle:S.useCallback(()=>c(d=>!d),[c]),children:u.jsx(Ke.div,{"data-state":NP(l),"data-disabled":o?"":void 0,...a,ref:e})})});gV.displayName=EP;var yV="CollapsibleTrigger",PP=S.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=TP(yV,n);return u.jsx(Ke.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":NP(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:De(t.onClick,i.onOpenToggle)})});PP.displayName=yV;var AP="CollapsibleContent",CP=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=TP(AP,t.__scopeCollapsible);return u.jsx(lo,{present:n||i.open,children:({present:o})=>u.jsx(kre,{...r,ref:e,present:o})})});CP.displayName=AP;var kre=S.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=t,s=TP(AP,n),[a,l]=S.useState(r),c=S.useRef(null),d=pt(e,c),f=S.useRef(0),h=f.current,m=S.useRef(0),y=m.current,g=s.open||a,v=S.useRef(g),x=S.useRef(void 0);return S.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),br(()=>{const b=c.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,m.current=w.width,v.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),l(r)}},[s.open,r]),u.jsx(Ke.div,{"data-state":NP(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&i})});function NP(t){return t?"open":"closed"}var vV=gV,Ore=PP,Rre=CP;const NI=vV,jI=PP,II=CP,yr=S.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:tt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));yr.displayName="Input";var ca="Accordion",Mre=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[jP,Dre,$re]=Fp(ca),[Jx,Zje]=Fi(ca,[$re,mV]),IP=mV(),xV=q.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,o=r;return u.jsx(jP.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?u.jsx(Bre,{...o,ref:e}):u.jsx(Vre,{...i,ref:e})})});xV.displayName=ca;var[bV,Lre]=Jx(ca),[wV,Fre]=Jx(ca,{collapsible:!1}),Vre=q.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=t,[a,l]=Do({prop:n,defaultProp:r,onChange:i});return u.jsx(bV,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:q.useCallback(()=>o&&l(""),[o,l]),children:u.jsx(wV,{scope:t.__scopeAccordion,collapsible:o,children:u.jsx(SV,{...s,ref:e})})})}),Bre=q.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=Do({prop:n,defaultProp:r,onChange:i}),l=q.useCallback(d=>a((f=[])=>[...f,d]),[a]),c=q.useCallback(d=>a((f=[])=>f.filter(h=>h!==d)),[a]);return u.jsx(bV,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:c,children:u.jsx(wV,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(SV,{...o,ref:e})})})}),[Ure,Zx]=Jx(ca),SV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=t,a=q.useRef(null),l=pt(a,e),c=Dre(n),f=Vd(i)==="ltr",h=De(t.onKeyDown,m=>{var T;if(!Mre.includes(m.key))return;const y=m.target,g=c().filter(N=>{var k;return!((k=N.ref.current)!=null&&k.disabled)}),v=g.findIndex(N=>N.ref.current===y),x=g.length;if(v===-1)return;m.preventDefault();let b=v;const w=0,A=x-1,E=()=>{b=v+1,b>A&&(b=w)},C=()=>{b=v-1,b<w&&(b=A)};switch(m.key){case"Home":b=w;break;case"End":b=A;break;case"ArrowRight":o==="horizontal"&&(f?E():C());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?C():E());break;case"ArrowUp":o==="vertical"&&C();break}const _=b%x;(T=g[_].ref.current)==null||T.focus()});return u.jsx(Ure,{scope:n,disabled:r,direction:i,orientation:o,children:u.jsx(jP.Slot,{scope:n,children:u.jsx(Ke.div,{...s,"data-orientation":o,ref:l,onKeyDown:r?void 0:h})})})}),Xy="AccordionItem",[zre,kP]=Jx(Xy),_V=q.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,o=Zx(Xy,n),s=Lre(Xy,n),a=IP(n),l=ls(),c=r&&s.value.includes(r)||!1,d=o.disabled||t.disabled;return u.jsx(zre,{scope:n,open:c,disabled:d,triggerId:l,children:u.jsx(vV,{"data-orientation":o.orientation,"data-state":NV(c),...a,...i,ref:e,disabled:d,open:c,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})})});_V.displayName=Xy;var EV="AccordionHeader",TV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Zx(ca,n),o=kP(EV,n);return u.jsx(Ke.h3,{"data-orientation":i.orientation,"data-state":NV(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});TV.displayName=EV;var mS="AccordionTrigger",PV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Zx(ca,n),o=kP(mS,n),s=Fre(mS,n),a=IP(n);return u.jsx(jP.ItemSlot,{scope:n,children:u.jsx(Ore,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...a,...r,ref:e})})});PV.displayName=mS;var AV="AccordionContent",CV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Zx(ca,n),o=kP(AV,n),s=IP(n);return u.jsx(Rre,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...s,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});CV.displayName=AV;function NV(t){return t?"open":"closed"}var Wre=xV,Hre=_V,qre=TV,jV=PV,IV=CV;const Qy=Wre,Zo=S.forwardRef(({className:t,...e},n)=>u.jsx(Hre,{ref:n,className:tt("border-b",t),...e}));Zo.displayName="AccordionItem";const es=S.forwardRef(({className:t,children:e,...n},r)=>u.jsx(qre,{className:"flex",children:u.jsxs(jV,{ref:r,className:tt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,u.jsx(Nh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));es.displayName=jV.displayName;const ts=S.forwardRef(({className:t,children:e,...n},r)=>u.jsx(IV,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:tt("pb-4 pt-0",t),children:e})}));ts.displayName=IV.displayName;const Gre=["CUEMASTER2026","PROMETHEAN","EARLYBIRD"];function Kre(t){return Gre.includes(t.toUpperCase().trim())}function OP({className:t=""}){return u.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 bg-gradient-to-r from-amber-500 to-yellow-400 text-black rounded-full ${t}`,children:u.jsx($l,{className:"w-3 h-3"})})}function Kg({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,signInWithFacebook:i,unlockPro:o,isLoading:s}=Fd(),[a,l]=S.useState(""),[c,d]=S.useState(""),[f,h]=S.useState(!1),[m,y]=S.useState(!1),g=async b=>{if(b.preventDefault(),!Kre(a)){d("Invalid promo code. Please try again.");return}h(!0);const w=await o(a);h(!1),w?y(!0):d("Failed to unlock. Please try again.")},v=()=>{m?window.location.reload():e(!1)},x=[{icon:kh,title:"Practice Courses",desc:"Guided shot scenarios in Vectors to sharpen your skills"},{icon:wy,title:"Scotch Doubles Mode",desc:"Team-based timing for partner play in Tempo"},{icon:Q$,title:"Shark Mode",desc:"Compare your break speed to the pros in Velocity"},{icon:nH,title:"Calibration Presets",desc:"Save table profiles for different venues in TrueLevel"},{icon:RN,title:"Early Access",desc:"Be first to try new features and updates"},{icon:$l,title:"Pro Badge",desc:"Light-blue 'Suite' text shows your Pro status"}];return u.jsx(di,{open:t,onOpenChange:v,children:u.jsx(Zr,{className:"max-w-sm max-h-[85vh] flex flex-col",children:m?u.jsxs(u.Fragment,{children:[u.jsxs(zr,{className:"text-center",children:[u.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-br from-amber-500/20 to-yellow-400/20 rounded-full w-fit",children:u.jsx(RN,{className:"w-12 h-12 text-amber-500 animate-pulse"})}),u.jsx(Wr,{className:"text-2xl text-center",children:"Welcome to the Pro League!"}),u.jsx(ms,{className:"text-center",children:"You've unlocked the full CueMaster experience. Time to dominate the table!"})]}),u.jsx(_P,{className:"flex-1 max-h-[300px] pr-4",children:u.jsxs("div",{className:"space-y-3 py-2",children:[u.jsx("p",{className:"text-sm font-semibold text-primary mb-3",children:"Your new superpowers:"}),x.map((b,w)=>u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 border border-primary/20",children:[u.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:u.jsx(b.icon,{className:"w-4 h-4 text-primary"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-sm",children:b.title}),u.jsx(G$,{className:"w-3 h-3 text-green-500"})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:b.desc})]})]},w))]})}),u.jsxs(le,{onClick:v,className:"w-full gap-2 mt-4","data-testid":"button-start-pro",children:[u.jsx($l,{className:"w-4 h-4"}),"Let's Go!"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(zr,{children:[u.jsxs(Wr,{className:"flex items-center gap-2",children:[u.jsx($l,{className:"w-5 h-5 text-amber-500"}),"Upgrade to Pro"]}),u.jsx(ms,{children:n?"Enter a promo code to unlock all premium features.":"Sign in to sync your Pro status across devices, or enter a promo code."})]}),!n&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs(le,{variant:"outline",className:"w-full gap-2",onClick:r,disabled:s,"data-testid":"button-google-signin",children:[u.jsx(I1,{className:"w-4 h-4"}),"Sign in with Google"]}),u.jsxs(le,{variant:"outline",className:"w-full gap-2",onClick:i,disabled:s,"data-testid":"button-facebook-signin",children:[u.jsx(I1,{className:"w-4 h-4"}),"Sign in with Facebook"]})]}),n&&u.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["Signed in as ",n.displayName||n.email]}),u.jsxs("form",{onSubmit:g,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(yr,{placeholder:"Enter promo code",value:a,onChange:b=>{l(b.target.value),d("")},className:"text-center uppercase tracking-widest","data-testid":"input-promo-code"}),c&&u.jsx("p",{className:"text-sm text-destructive mt-2",children:c})]}),u.jsxs(le,{type:"submit",className:"w-full gap-2",disabled:f,"data-testid":"button-submit-promo",children:[u.jsx($l,{className:"w-4 h-4"}),f?"Unlocking...":"Unlock Pro"]})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Full payment integration coming soon."})]})})})}function RP({children:t,isLocked:e=!0,featureName:n="This feature",variant:r="blur",onUpgradeClick:i}){const[o,s]=S.useState(!1),{isPro:a}=Fd();if(a||!e)return u.jsx(u.Fragment,{children:t});const l=()=>{i?i():s(!0)};return r==="badge"?u.jsxs("div",{className:"relative",children:[t,u.jsx("div",{className:"absolute top-1 right-1",children:u.jsx(OP,{})}),u.jsx(Kg,{open:o,onOpenChange:s})]}):r==="overlay"?u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"opacity-50 pointer-events-none select-none",children:t}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg",children:[u.jsx(j1,{className:"w-8 h-8 text-muted-foreground mb-2"}),u.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n," requires Pro"]}),u.jsxs(le,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[u.jsx($l,{className:"w-4 h-4"}),"Upgrade to Pro"]})]}),u.jsx(Kg,{open:o,onOpenChange:s})]}):u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"blur-sm opacity-60 pointer-events-none select-none",children:t}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:u.jsxs("div",{className:"bg-background/90 backdrop-blur-sm p-4 rounded-lg text-center border shadow-lg",children:[u.jsx(j1,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),u.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:n}),u.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Unlock with CueMaster Pro"}),u.jsxs(le,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[u.jsx($l,{className:"w-4 h-4"}),"Upgrade"]})]})}),u.jsx(Kg,{open:o,onOpenChange:s})]})}function Yre({children:t,isLocked:e=!0,onClick:n,...r}){const[i,o]=S.useState(!1),{isPro:s}=Fd();if(s||!e)return u.jsx(le,{onClick:n,...r,children:t});const a=l=>{l.preventDefault(),o(!0)};return u.jsxs(u.Fragment,{children:[u.jsxs(le,{onClick:a,...r,className:`relative ${r.className||""}`,children:[t,u.jsx("span",{className:"absolute -top-1 -right-1",children:u.jsx(OP,{})})]}),u.jsx(Kg,{open:i,onOpenChange:o})]})}const Fc=["mph","kph","m/s","ft/s"],Yg={"7' (bar)":{W:39,L:78},"8' (standard)":{W:44,L:88},"8' (pro)":{W:46,L:92},"9' (tournament)":{W:50,L:100}},kI=Object.keys(Yg),qo=(t,e,n)=>Math.min(n,Math.max(e,t)),Xre=.0254,ns=2.25,Ns=ns/2,kV="cuemaster-velocity-v1";function Qre(){try{const t=localStorage.getItem(kV);return t?JSON.parse(t):null}catch{return null}}function Jre(t){try{localStorage.setItem(kV,JSON.stringify(t))}catch{}}function Zre(t,e,n){const r=3*n/4,i=e/2,o=[];if(t==="8"){const s=[1,2,3,4,5];for(let a=0;a<s.length;a++){const l=s[a],c=r+a*ns,d=(l-1)*ns;for(let f=0;f<l;f++)o.push({x:i-d/2+f*ns,y:c,row:a,idx:f,n:l})}}else{const s=[1,2,3,2,1];for(let a=0;a<s.length;a++){const l=s[a],c=r+a*ns,d=(l-1)*ns;for(let f=0;f<l;f++)o.push({x:i-d/2+f*ns,y:c,row:a,idx:f,n:l})}}return o}function eie(t){if(!t||!t.length)return null;const e=t.map(r=>r.mph).filter(r=>Number.isFinite(r));return e.length?{avg:e.reduce((r,i)=>r+i,0)/e.length,high:Math.max(...e),low:Math.min(...e)}:null}function tie({x0:t,y0:e,dx:n,dy:r,W:i,L:o}){const s=[];r>0&&s.push((o-e)/r),n<0&&s.push((0-t)/n),n>0&&s.push((i-t)/n);const a=Math.min(...s.filter(l=>l>0));return isFinite(a)?a:null}function nie(){const[,t]=ml(),{toast:e}=Cd(),[n,r]=S.useState("record"),[i,o]=S.useState(3),s=kI[i]||"9' (tournament)",a=Yg[s],l=a.W,c=a.L,[d,f]=S.useState("9"),[h,m]=S.useState(!0),[y,g]=S.useState("mph"),[v,x]=S.useState(!1),b=()=>{const W=Fc.indexOf(y);g(Fc[(W+1)%Fc.length])},[w,A]=S.useState({x:25,y:20}),[E,C]=S.useState({x:l/2,y:3*c/4-ns}),[_,T]=S.useState(null),[N,k]=S.useState(null),[j,R]=S.useState(!1),[O,$]=S.useState(null),[F,U]=S.useState(null),[H,V]=S.useState(null),[L,X]=S.useState(null),[Y,te]=S.useState([]),[ye,Ce]=S.useState(!1),[Ve,Ye]=S.useState(!1),[fe,Ee]=S.useState(1),[re,ue]=S.useState(!1),[ie,z]=S.useState([null,null,null,null,null]),[he,xe]=S.useState({open:!1,kind:null,index:null}),[Ge,je]=S.useState(!1),[Te,mt]=S.useState(!1),[ve,We]=S.useState([]),[Dt,Ct]=S.useState(!1),[Qt,Yn]=S.useState(""),[Jt,ar]=S.useState(""),[ii,Zt]=S.useState(!1),[Fn,Yt]=S.useState(0),Vn=S.useRef(null),bt=S.useRef(null),$t=S.useRef(null),lr=S.useRef(!1),Xn=S.useRef(!1);S.useEffect(()=>(jt.startSession("velocity"),()=>{jt.endSession()}),[]),S.useEffect(()=>{const W=Qre();W?(o(W.presetIndex??3),A(W.cue||{x:25,y:20}),C(W.ghost||{x:l/2,y:3*c/4-ns}),g(W.unit||"mph"),te(W.history||[]),f(W.variant||"9"),m(W.snap??!0),z(W.breakSlots||[null,null,null,null,null]),We(W.leaderboard||[]),ar(W.storedInitials||""),W.tutorialDone||Ye(!0)):Ye(!0)},[]),S.useEffect(()=>{Jre({presetIndex:i,cue:w,ghost:E,unit:y,history:Y,variant:d,snap:h,breakSlots:ie,leaderboard:ve,storedInitials:Jt,tutorialDone:!0})},[i,w,E,y,Y,d,h,ie,ve,Jt]),S.useEffect(()=>{const W=setInterval(()=>{Yt(we=>(we+1)%Fc.length)},4e3);return()=>clearInterval(W)},[]),S.useEffect(()=>{A(W=>({x:qo(W.x,0,l),y:qo(W.y,0,c/4)})),C(W=>({x:qo(W.x,0,l),y:qo(W.y,Ns,c-Ns)}))},[l,c]);const Qn=S.useMemo(()=>Zre(d,l,c),[d,l,c]),vi=S.useCallback((W,we)=>{const Pe=we.x-W.x,ze=we.y-W.y,nt=Math.hypot(Pe,ze);if(!nt)return null;const st=Pe/nt,Lt=ze/nt,Ft=ns;let Vt=1/0,dt=null,Sr=null;for(let si=0;si<Qn.length;si++){const Ht=Qn[si],Bt=Ht.x-W.x,An=Ht.y-W.y,Cn=Bt*st+An*Lt;if(Cn<=0)continue;const gn=W.x+st*Cn,M=W.y+Lt*Cn,B=Math.hypot(Ht.x-gn,Ht.y-M);if(B>Ft)continue;const Q=Math.sqrt(Ft*Ft-B*B),Z=Cn-Q;Z<=0||Z<Vt&&(Vt=Z,dt={x:W.x+st*Z,y:W.y+Lt*Z},Sr=si)}return dt?{point:dt,index:Sr}:null},[Qn]),mn=S.useCallback((W=w,we=E)=>{const Pe=we.x-W.x,ze=we.y-W.y,nt=Math.hypot(Pe,ze);return ze<=0||nt<=0?null:nt},[w,E]),xi=S.useMemo(()=>{const W=mn();if(!W)return!1;const we=(E.x-w.x)/W,Pe=(E.y-w.y)/W,ze=tie({x0:w.x,y0:w.y,dx:we,dy:Pe,W:l,L:c});return!ze||W<=ze+1e-6},[w,E,l,c,mn]),cr=S.useMemo(()=>{const W=mn();return{dCG:W?W.toFixed(2):""}},[mn]),bi=W=>{switch(y){case"ft/s":return(W*3.28084).toFixed(2);case"m/s":return W.toFixed(2);case"kph":return(W*3.6).toFixed(2);default:return(W*2.23693629).toFixed(2)}},Ot=W=>{switch(y){case"ft/s":return(W*1.46667).toFixed(2);case"m/s":return(W*.44704).toFixed(2);case"kph":return(W*1.60934).toFixed(2);default:return W.toFixed(2)}},ur=(W,we)=>{switch(we){case"ft/s":return(W*1.46667).toFixed(2);case"m/s":return(W*.44704).toFixed(2);case"kph":return(W*1.60934).toFixed(2);default:return W.toFixed(2)}},Gr=(W,we,Pe=!1)=>{const ze=W.toUpperCase().slice(0,3),nt=Math.min(100,Math.round(we/25*100)),st={initials:ze,mph:we,percentage:nt,ts:Date.now()};We(Lt=>[...Lt,st].sort((Vt,dt)=>dt.percentage-Vt.percentage).slice(0,1e3)),ze.length===3&&ar(ze),Zt(!1),Yn(""),Pe||e({title:"Added to Leaderboard",description:`${ze} - ${nt}%`})},Pn=S.useRef([]),[Vi,oi]=S.useState(0),[Kr,wi]=S.useState(null),Ps=3e3,Si=48e3,G=W=>{if(W.length<10)return null;let we=0;for(let dt=0;dt<W.length;dt++)W[dt].amplitude>we&&(we=W[dt].amplitude);if(we<.1)return null;const Pe=40,ze=300;let nt=0,st=W[0].amplitude;for(let dt=0;dt<W.length&&!(W[dt].time>50);dt++)W[dt].amplitude>st&&(st=W[dt].amplitude,nt=dt);const Lt=W[nt].time;let Ft=-1,Vt=0;for(let dt=0;dt<W.length;dt++){const Sr=W[dt].time-Lt;Sr>=Pe&&Sr<=ze&&W[dt].amplitude>Vt&&(Vt=W[dt].amplitude,Ft=dt)}return Ft===-1||Vt<we*.1?null:{first:W[nt],second:W[Ft]}},ce=async()=>{const W={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:Si}},we=await navigator.mediaDevices.getUserMedia(W),Pe=new AudioContext({sampleRate:Si});Pe.state==="suspended"&&await Pe.resume();const ze=Pe.createMediaStreamSource(we),nt=Pe.createBiquadFilter();nt.type="highpass",nt.frequency.value=150;const st=Pe.createBiquadFilter();st.type="lowpass",st.frequency.value=8e3;const Lt=Pe.createAnalyser();Lt.fftSize=2048,ze.connect(nt),nt.connect(st),st.connect(Lt);const Ft=new Float32Array(Lt.fftSize);Pn.current=[];let Vt=null,dt=null;const Sr=.15,si=()=>{if(!lr.current)return;Lt.getFloatTimeDomainData(Ft);let Ht=0;for(let An=0;An<Ft.length;An++)Ht=Math.max(Ht,Math.abs(Ft[An]));const Bt=performance.now();if(Vt===null&&Ht>Sr&&(Vt=Bt,dt=Bt,wi("Recording break...")),Vt!==null){Pn.current.push({time:Bt-Vt,amplitude:Ht});const An=Bt-dt;if(oi(Math.min(100,An/Ps*100)),An>=Ps){lr.current=!1,wi("Analyzing audio...");const Cn=G(Pn.current);if(Cn){const gn=(Cn.second.time-Cn.first.time)/1e3;if(gn>=.04&&gn<=.3)U(Cn.first.time/1e3),V(Cn.second.time/1e3),wi(`Found peaks: ${gn.toFixed(4)}s apart`);else{const M=`Peaks were ${(gn*1e3).toFixed(0)}ms apart (expected 40-300ms)`;$t.current&&($t.current.stream.getTracks().forEach(B=>B.stop()),$t.current.audioCtx.close(),$t.current=null),R(!1),oi(0),wi(null),bt.current&&clearTimeout(bt.current),e({title:"Detection failed",description:M,variant:"destructive"})}}else $t.current&&($t.current.stream.getTracks().forEach(gn=>gn.stop()),$t.current.audioCtx.close(),$t.current=null),R(!1),oi(0),wi(null),bt.current&&clearTimeout(bt.current),e({title:"Detection failed",description:"Could not find two distinct impact sounds",variant:"destructive"});return}}requestAnimationFrame(si)};return requestAnimationFrame(si),{audioCtx:Pe,stream:we}},Re=async()=>{if(!mn()){e({title:"Invalid setup",description:"Line would hit a cushion before the rack. Adjust cue/ghost.",variant:"destructive"});return}X(null),U(null),V(null),oi(0),wi(null),Xn.current=!1;for(let we=5;we>0;we--){if(Xn.current){$(null);return}$(we),await new Promise(Pe=>setTimeout(Pe,1e3))}if(Xn.current){$(null);return}$(null),R(!0);try{lr.current=!0,$t.current=await ce(),bt.current&&clearTimeout(bt.current),bt.current=setTimeout(()=>{qe(),e({title:"No break detected",description:"Recording stopped after 30 seconds - no loud sound detected"})},3e4),e({title:"Listening...",description:"Break when ready - recording starts on impact"})}catch(we){console.error(we),R(!1),e({title:"Microphone error",description:"Please allow microphone access",variant:"destructive"})}},qe=()=>{lr.current=!1,Xn.current=!0,$(null),$t.current&&($t.current.stream.getTracks().forEach(W=>W.stop()),$t.current.audioCtx.close(),$t.current=null),R(!1),oi(0),wi(null),bt.current&&clearTimeout(bt.current)};S.useEffect(()=>{if(F!==null&&H!==null&&j){const W=mn()||0,we=W*Xre,Pe=Math.max(.005,H-F),ze=we/Pe,nt=ze*2.23693629,st={raw_mps:ze,mph:Number(nt.toFixed(2)),distanceIn:Number(W.toFixed(1)),deltaT:Number(Pe.toFixed(4)),ts:Date.now(),cue:w,ghost:E,table:{W:l,L:c},variant:d};te(Lt=>[st,...Lt].slice(0,500)),X(st),R(!1),qe(),Ce(!0),n==="shark"&&Jt.length===3&&Gr(Jt,st.mph,!0),jt.trackSkillMetric("velocity","break_speed",st.mph,{distanceIn:st.distanceIn,variant:st.variant})}},[F,H,j,w,E,l,c,d,mn,n,Jt]);const ot=(W,we,Pe)=>{const ze=we/Pe,st=Math.round(W/ze)*ze;return Math.abs(W-st)<=.35&&h?st:W},wt=()=>{const we=Math.min(typeof window<"u"?window.innerWidth-48:400,500),ze=Math.min(we/l,400/c),nt=l*ze,st=c*ze,Lt=w.x*ze+8,Ft=st-w.y*ze+8,Vt=E.x*ze+8,dt=st-E.y*ze+8,Sr=Ht=>{var gn;Ht.preventDefault(),mt(!0);const Bt=(gn=Vn.current)==null?void 0:gn.getBoundingClientRect();if(!Bt)return;const An=M=>{const B={x:M.clientX-Bt.left,y:M.clientY-Bt.top};let Q=(B.x-8)/ze,Z=(st-(B.y-8))/ze;Q=qo(ot(Q,l,8),0,l),Z=qo(ot(Z,c,8),Ns,c-Ns);const oe=vi(w,{x:Q,y:Z});if(oe&&oe.point){const{point:pe,index:_e}=oe,me=qo(pe.x,0,l),Ne=qo(pe.y,Ns,c-Ns);C({x:me,y:Ne}),T({x:me,y:Ne,index:_e}),k(_e)}else _&&(C({x:_.x,y:_.y}),k(_.index??null))},Cn=()=>{mt(!1),window.removeEventListener("pointermove",An)};window.addEventListener("pointermove",An),window.addEventListener("pointerup",Cn,{once:!0})},si=Ht=>{var gn;Ht.preventDefault(),je(!0);const Bt=(gn=Vn.current)==null?void 0:gn.getBoundingClientRect();if(!Bt)return;const An=M=>{const B={x:M.clientX-Bt.left,y:M.clientY-Bt.top};let Q=(B.x-8)/ze,Z=(st-(B.y-8))/ze;Q=qo(ot(Q,l,8),0,l),Z=qo(ot(Z,c,8),0,c/4),A({x:Q,y:Z})},Cn=()=>{je(!1),window.removeEventListener("pointermove",An)};window.addEventListener("pointermove",An),window.addEventListener("pointerup",Cn,{once:!0})};return u.jsxs("svg",{ref:Vn,width:nt+8*2,height:st+8*2,className:"rounded-xl touch-none mx-auto block",style:{background:"hsl(var(--muted))"},children:[u.jsx("rect",{x:8,y:8,width:nt,height:st,fill:"#03C04A",stroke:xi?"hsl(var(--primary))":"#cc8400",strokeWidth:"2"}),Array.from({length:7},(Ht,Bt)=>(Bt+1)/8*nt+8).map((Ht,Bt)=>u.jsx("line",{x1:Ht,x2:Ht,y1:8,y2:8+st,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gx"+Bt)),Array.from({length:7},(Ht,Bt)=>(Bt+1)/8*st+8).map((Ht,Bt)=>u.jsx("line",{x1:8,x2:8+nt,y1:Ht,y2:Ht,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gy"+Bt)),u.jsx("line",{x1:Lt,y1:Ft,x2:Vt,y2:dt,stroke:"#1e1e1e",strokeWidth:"2.5"}),Qn.map((Ht,Bt)=>{const An=Ht.x*ze+8,Cn=st-Ht.y*ze+8,gn=Bt===N;return u.jsx("circle",{cx:An,cy:Cn,r:Ns*ze,fill:gn?"#ffe9e9":"#ffffff",stroke:gn?"hsl(var(--primary))":"#000000",strokeWidth:gn?2.2:1.25,opacity:gn?1:.9},Bt)}),Te&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:8,y1:dt,x2:8+nt,y2:dt,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"}),u.jsx("line",{x1:Vt,y1:8,x2:Vt,y2:8+st,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),Ge&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:8,y1:Ft,x2:8+nt,y2:Ft,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"}),u.jsx("line",{x1:Lt,y1:8,x2:Lt,y2:8+st,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),u.jsx("circle",{cx:Vt,cy:dt,r:Ns*ze,fill:"hsl(var(--primary))",stroke:"#000000",strokeWidth:"2",onPointerDown:Sr,style:{cursor:"grab"}}),u.jsx("circle",{cx:Lt,cy:Ft,r:Ns*ze,fill:"#ffffff",stroke:"#000000",strokeWidth:"1.75",onPointerDown:si,style:{cursor:"grab"}})]})},Bn=S.useMemo(()=>eie(Y),[Y]),kn=W=>xe({open:!0,kind:"load",index:W}),Un=W=>xe({open:!0,kind:"save",index:W}),Ue=({i:W})=>{const we=!!ie[W],Pe=S.useRef(null),ze=()=>{Pe.current=setTimeout(()=>{Un(W),Pe.current=null},520)},nt=()=>{Pe.current&&(clearTimeout(Pe.current),kn(W),Pe.current=null)};return u.jsxs("button",{className:`text-xs py-2 px-3 rounded-lg border transition-colors ${we?"bg-primary/20 border-primary/40":"bg-muted border-muted-foreground/20"}`,onPointerDown:ze,onPointerUp:nt,onPointerLeave:()=>Pe.current&&clearTimeout(Pe.current),"data-testid":`button-slot-${W+1}`,children:["Slot ",W+1]})};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"CueMaster: Velocity"}),u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>Ye(!0),"data-testid":"button-help",children:u.jsx(wx,{className:"w-5 h-5"})}),u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>ue(!0),"data-testid":"button-settings",children:u.jsx(JE,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 overflow-auto p-4",children:u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs(eV,{value:n,onValueChange:r,className:"w-full",children:[u.jsxs(vP,{className:"grid w-full grid-cols-3",children:[u.jsx($a,{value:"record","data-testid":"tab-record",children:"Record"}),u.jsx($a,{value:"stats","data-testid":"tab-stats",children:"Stats"}),u.jsxs($a,{value:"shark","data-testid":"tab-shark",className:"gap-1",children:["Shark ",u.jsx(OP,{})]})]}),u.jsxs(La,{value:"record",className:"space-y-3 mt-3",children:[u.jsxs(Je,{className:"p-3",children:[u.jsxs("div",{className:"text-center mb-3",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Cue  Rack Speed"}),u.jsxs("button",{onClick:b,className:"text-4xl font-bold text-foreground hover:text-primary transition-colors cursor-pointer","data-testid":"button-cycle-unit",children:[L?bi(L.raw_mps):"--.--.",u.jsx("span",{className:"text-2xl ml-1 text-primary underline decoration-dotted underline-offset-4",children:y})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap unit to change"})]}),u.jsx(le,{className:"w-full",size:"lg",variant:j||O!==null?"destructive":"default",onClick:j||O!==null?qe:Re,"data-testid":"button-record",children:O!==null?`Cancel (${O})`:j?"Stop Recording":"Tap to Record  Break"}),j&&u.jsxs("div",{className:"mt-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-muted-foreground",children:Kr||"Waiting for sound..."}),u.jsxs("span",{className:"font-mono text-primary",children:[Math.round(Vi),"%"]})]}),u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all duration-100",style:{width:`${Vi}%`}})})]})]}),u.jsx(Je,{className:"p-3",children:u.jsxs(NI,{open:v,onOpenChange:x,children:[u.jsxs(jI,{className:"flex items-center justify-between w-full py-2","data-testid":"button-toggle-table",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[cr.dCG,'"  ',d,"-ball"]})]}),u.jsx(Nh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),u.jsxs(II,{className:"pt-2",children:[u.jsx("div",{className:"flex items-center justify-end gap-2 mb-2",children:["8","9"].map(W=>u.jsxs(le,{variant:d===W?"default":"outline",size:"sm",onClick:()=>f(W),"data-testid":`button-variant-${W}`,children:[W,"-ball"]},W))}),u.jsx(wt,{}),!xi&&u.jsx("p",{className:"text-xs text-amber-500 mt-2 text-center",children:"Warning: current ray hits a cushion before rack."}),u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Presets"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load  Hold to save"})]}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4].map(W=>u.jsx(Ue,{i:W},W))})]})]})]})})]}),u.jsx(La,{value:"stats",className:"space-y-3 mt-3",children:u.jsxs(Je,{className:"p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Statistics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to change units"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("button",{onClick:b,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-high",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"High"}),u.jsx("div",{className:"text-lg font-bold",children:Bn?Ot(Bn.high):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]}),u.jsxs("button",{onClick:b,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-avg",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"}),u.jsx("div",{className:"text-lg font-bold",children:Bn?Ot(Bn.avg):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]}),u.jsxs("button",{onClick:b,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-low",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"}),u.jsx("div",{className:"text-lg font-bold",children:Bn?Ot(Bn.low):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]})]}),u.jsxs("div",{className:"mt-3 text-sm text-muted-foreground text-center",children:[Y.length," breaks recorded"]}),Y.length>0&&u.jsxs(le,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>te([]),"data-testid":"button-clear-history",children:[u.jsx(mH,{className:"w-4 h-4 mr-2"}),"Clear History"]})]})}),u.jsx(La,{value:"shark",className:"space-y-3 mt-3",children:u.jsxs(RP,{isLocked:!0,featureName:"Shark Mode",variant:"blur",children:[u.jsxs(Je,{className:"p-3",children:[u.jsxs("div",{className:"text-center mb-2",children:[u.jsx("div",{className:"text-2xl font-extrabold",children:"Shark Mode"}),u.jsx("button",{onClick:b,className:"text-sm text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 transition-colors cursor-pointer","data-testid":"button-shark-cycle-unit",children:y})]}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),u.jsx("stop",{offset:"50%",stopColor:"#eab308"}),u.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),u.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),u.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${Math.min(100,L?L.mph/25*100:0)*2.2} 220`}),(()=>{const Pe=(-180+Math.min(100,L?L.mph/25*100:0)/100*180)*Math.PI/180,ze=90,nt=90,st=55,Lt=ze+st*Math.cos(Pe),Ft=nt+st*Math.sin(Pe);return u.jsxs("g",{children:[u.jsx("line",{x1:ze,y1:nt,x2:Lt,y2:Ft,stroke:"hsl(var(--foreground))",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:ze,cy:nt,r:"6",fill:"hsl(var(--foreground))"})]})})(),u.jsxs("text",{x:"90",y:"75",fontSize:"24",fontWeight:"bold",fill:"hsl(var(--foreground))",textAnchor:"middle",children:[L?Math.min(100,Math.round(L.mph/25*100)):0,"%"]})]})}),u.jsx(le,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?qe:Re,"data-testid":"button-shark-record",children:j?"STOP":"REC"})]}),u.jsx(Je,{className:"p-3",children:u.jsxs(NI,{open:v,onOpenChange:x,children:[u.jsxs(jI,{className:"flex items-center justify-between w-full py-2","data-testid":"button-shark-toggle-table",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[cr.dCG,'"  ',d,"-ball"]})]}),u.jsx(Nh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),u.jsx(II,{className:"pt-2",children:u.jsx(wt,{})})]})}),L&&u.jsxs(le,{variant:"outline",className:"w-full",onClick:()=>Zt(!0),"data-testid":"button-add-to-leaderboard",children:[u.jsx(Ql,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]}),u.jsx(Je,{className:"p-3",children:u.jsx(Qy,{type:"single",collapsible:!0,value:Dt?"leaderboard":"",onValueChange:W=>Ct(W==="leaderboard"),children:u.jsxs(Zo,{value:"leaderboard",className:"border-none",children:[u.jsx(es,{className:"py-2 hover:no-underline","data-testid":"button-toggle-leaderboard",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ql,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium",children:"Leaderboard"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",ve.length,")"]})]})}),u.jsxs(ts,{children:[ve.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No entries yet. Record a break and add it to the leaderboard!"}):u.jsx("div",{className:"max-h-64 overflow-y-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"sticky top-0 bg-card",children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"#"}),u.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"Player"}),u.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:"Score"}),u.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:u.jsx("span",{className:"text-primary",children:Fc[Fn]})})]})}),u.jsx("tbody",{children:ve.map((W,we)=>u.jsxs("tr",{className:`border-b border-border/50 ${we<3?"bg-primary/5":""}`,"data-testid":`row-leaderboard-${we}`,children:[u.jsxs("td",{className:"py-2 px-1 font-mono text-muted-foreground",children:[we===0&&u.jsx("span",{className:"text-yellow-500",children:""}),we===1&&u.jsx("span",{className:"text-gray-400",children:""}),we===2&&u.jsx("span",{className:"text-amber-600",children:""}),we>2&&we+1]}),u.jsx("td",{className:"py-2 px-1 font-bold tracking-wider",children:W.initials}),u.jsxs("td",{className:"py-2 px-1 text-right font-mono text-primary",children:[W.percentage,"%"]}),u.jsx("td",{className:"py-2 px-1 text-right font-mono text-muted-foreground transition-opacity duration-300",children:ur(W.mph,Fc[Fn])})]},`${W.initials}-${W.ts}`))})]})}),ve.length>0&&u.jsx(le,{variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive",onClick:()=>{confirm("Clear all leaderboard entries?")&&We([])},"data-testid":"button-clear-leaderboard",children:"Clear Leaderboard"})]})]})})})]})})]})})}),u.jsx(di,{open:Ve,onOpenChange:Ye,children:u.jsxs(Zr,{className:"max-w-md",children:[u.jsx(zr,{children:u.jsx(Wr,{children:"Welcome to CueMaster: Velocity"})}),u.jsxs("div",{className:"space-y-4",children:[fe===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"1) Microphone Access"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["We detect two sharp sounds: ",u.jsx("span",{className:"font-semibold text-foreground",children:"tip impact"})," and"," ",u.jsx("span",{className:"font-semibold text-foreground",children:"cue-ball / rack"})," contact. Time between them plus the measured distance yields your speed. Audio is processed locally; nothing leaves your device."]}),u.jsx(le,{variant:"outline",onClick:async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0}),e({title:"Microphone permission granted"})}catch{e({title:"Permission denied",variant:"destructive"})}},"data-testid":"button-allow-mic",children:"Allow Microphone"})]}),fe===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"2) Aim Setup"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag the ",u.jsx("span",{className:"font-semibold text-foreground",children:"white"})," cue ball and"," ",u.jsx("span",{className:"font-semibold text-red-500",children:"red"})," ghost ball on the table to match your intended first contact. Enable snap-to-grid in Settings for quick alignment."]})]}),fe===3&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"3) Record & Confirm"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tap ",u.jsx("span",{className:"font-semibold text-foreground",children:"Record"}),", break, then confirm the first contact if needed. Results save to Stats. Auto-timeout after 30s if no break is detected."]})]}),fe===4&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"4) Shark Mode"}),u.jsx("p",{className:"text-sm text-primary italic",children:"Can you out pace a Great White?"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Switch to the ",u.jsx("span",{className:"font-semibold text-foreground",children:"Shark"})," tab for a focused speed challenge. The speedometer gauge shows your power level from 0-100%. Push your limits and see how you stack up!"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(le,{variant:"outline",size:"sm",onClick:()=>Ee(W=>Math.max(1,W-1)),disabled:fe===1,children:"Back"}),u.jsx(le,{variant:"outline",size:"sm",onClick:()=>Ee(W=>Math.min(4,W+1)),disabled:fe===4,children:"Next"})]}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(W=>u.jsx("div",{className:`w-2 h-2 rounded-full ${W===fe?"bg-primary":"bg-muted"}`},W))}),u.jsx(le,{size:"sm",onClick:()=>Ye(!1),children:fe===4?"Finish":"Skip"})]})]})}),u.jsx(di,{open:ye,onOpenChange:Ce,children:u.jsxs(Zr,{className:"max-w-md",children:[u.jsx(zr,{children:u.jsx(Wr,{children:"Confirm First Contact"})}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If the real first contact differed, drag to match what actually happened, then confirm."}),u.jsx(wt,{}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(le,{variant:"outline",onClick:()=>Ce(!1),children:"Looks Right"}),u.jsx(le,{onClick:()=>Ce(!1),children:"Confirm"})]})]})}),u.jsx(di,{open:he.open,onOpenChange:W=>xe({...he,open:W}),children:u.jsxs(Zr,{className:"max-w-sm",children:[u.jsx(zr,{children:u.jsx(Wr,{children:he.kind==="load"?"Load Preset":"Save Preset"})}),u.jsx("p",{className:"text-sm text-muted-foreground",children:he.kind==="load"?ie[he.index]?"Load this saved break setup?":"This slot is empty.":ie[he.index]?"Overwrite the existing setup for this slot?":"Save your current layout to this slot?"}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(le,{variant:"outline",onClick:()=>xe({open:!1,kind:null,index:null}),children:"Cancel"}),u.jsx(le,{onClick:()=>{if(he.kind==="load"){const W=ie[he.index];W&&(A(W.cue),C(W.ghost),f(W.variant),o(W.presetIndex),m(W.snap),e({title:"Preset loaded"}))}else{const W={cue:w,ghost:E,variant:d,presetIndex:i,snap:h,savedAt:Date.now()};z(we=>{const Pe=[...we];return Pe[he.index]=W,Pe}),e({title:"Preset saved"})}xe({open:!1,kind:null,index:null})},disabled:he.kind==="load"&&!ie[he.index],children:he.kind==="load"?"Load":ie[he.index]?"Overwrite":"Save"})]})]})}),u.jsx(di,{open:re,onOpenChange:ue,children:u.jsxs(Zr,{className:"max-w-md",children:[u.jsx(zr,{children:u.jsx(Wr,{children:"Settings"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(fn,{children:"Snap to Grid"}),u.jsx(Zi,{checked:h,onCheckedChange:m,"data-testid":"switch-snap"})]}),u.jsxs("div",{children:[u.jsx(fn,{className:"mb-2 block",children:"Table Size"}),u.jsx("div",{className:"space-y-1",children:kI.map((W,we)=>u.jsxs("button",{onClick:()=>o(we),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${we===i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`button-table-${we}`,children:[u.jsx("span",{className:"font-medium",children:W}),u.jsxs("span",{className:"text-xs ml-2 opacity-70",children:[Yg[W].W,"",Yg[W].L," in"]})]},W))})]}),u.jsx(le,{variant:"outline",className:"w-full",onClick:()=>Ye(!0),children:"Open Tutorial"})]})]})}),u.jsx(di,{open:ii,onOpenChange:Zt,children:u.jsxs(Zr,{className:"max-w-sm",children:[u.jsxs(zr,{children:[u.jsx(Wr,{children:"Enter Your Initials"}),u.jsx(ms,{children:"Add your break to the leaderboard with your 3-letter initials."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(fn,{htmlFor:"initials",children:"Initials (3 letters)"}),u.jsx(yr,{id:"initials",value:Qt,onChange:W=>Yn(W.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3)),placeholder:"ABC",maxLength:3,className:"text-center text-2xl font-bold tracking-[0.5em] uppercase",autoComplete:"off","data-testid":"input-initials"})]}),L&&u.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"}),u.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.min(100,Math.round(L.mph/25*100)),"%"]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[L.mph.toFixed(2)," mph"]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(le,{variant:"outline",onClick:()=>Zt(!1),children:"Cancel"}),u.jsxs(le,{onClick:()=>L&&Gr(Qt,L.mph),disabled:Qt.length!==3,"data-testid":"button-submit-initials",children:[u.jsx(Ql,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]})]})]})]})}),O!==null&&u.jsxs("div",{className:"fixed inset-0 z-50 bg-background/95 backdrop-blur-sm flex flex-col items-center justify-center",onClick:qe,children:[u.jsx("div",{className:"text-[12rem] font-bold text-primary animate-pulse leading-none",children:O}),u.jsx("p",{className:"text-2xl text-muted-foreground mt-4",children:"Get into position..."}),u.jsx(le,{variant:"destructive",size:"lg",className:"mt-8",onClick:qe,children:"Cancel"})]})]})}var rie=Array.isArray,yi=rie,iie=typeof Sm=="object"&&Sm&&Sm.Object===Object&&Sm,OV=iie,oie=OV,sie=typeof self=="object"&&self&&self.Object===Object&&self,aie=oie||sie||Function("return this")(),Ts=aie,lie=Ts,cie=lie.Symbol,tm=cie,OI=tm,RV=Object.prototype,uie=RV.hasOwnProperty,die=RV.toString,gf=OI?OI.toStringTag:void 0;function fie(t){var e=uie.call(t,gf),n=t[gf];try{t[gf]=void 0;var r=!0}catch{}var i=die.call(t);return r&&(e?t[gf]=n:delete t[gf]),i}var hie=fie,pie=Object.prototype,mie=pie.toString;function gie(t){return mie.call(t)}var yie=gie,RI=tm,vie=hie,xie=yie,bie="[object Null]",wie="[object Undefined]",MI=RI?RI.toStringTag:void 0;function Sie(t){return t==null?t===void 0?wie:bie:MI&&MI in Object(t)?vie(t):xie(t)}var ua=Sie;function _ie(t){return t!=null&&typeof t=="object"}var da=_ie,Eie=ua,Tie=da,Pie="[object Symbol]";function Aie(t){return typeof t=="symbol"||Tie(t)&&Eie(t)==Pie}var Ud=Aie,Cie=yi,Nie=Ud,jie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Iie=/^\w*$/;function kie(t,e){if(Cie(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Nie(t)?!0:Iie.test(t)||!jie.test(t)||e!=null&&t in Object(e)}var MP=kie;function Oie(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vl=Oie;const zd=nn(vl);var Rie=ua,Mie=vl,Die="[object AsyncFunction]",$ie="[object Function]",Lie="[object GeneratorFunction]",Fie="[object Proxy]";function Vie(t){if(!Mie(t))return!1;var e=Rie(t);return e==$ie||e==Lie||e==Die||e==Fie}var DP=Vie;const _t=nn(DP);var Bie=Ts,Uie=Bie["__core-js_shared__"],zie=Uie,iw=zie,DI=function(){var t=/[^.]+$/.exec(iw&&iw.keys&&iw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Wie(t){return!!DI&&DI in t}var Hie=Wie,qie=Function.prototype,Gie=qie.toString;function Kie(t){if(t!=null){try{return Gie.call(t)}catch{}try{return t+""}catch{}}return""}var MV=Kie,Yie=DP,Xie=Hie,Qie=vl,Jie=MV,Zie=/[\\^$.*+?()[\]{}|]/g,eoe=/^\[object .+?Constructor\]$/,toe=Function.prototype,noe=Object.prototype,roe=toe.toString,ioe=noe.hasOwnProperty,ooe=RegExp("^"+roe.call(ioe).replace(Zie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function soe(t){if(!Qie(t)||Xie(t))return!1;var e=Yie(t)?ooe:eoe;return e.test(Jie(t))}var aoe=soe;function loe(t,e){return t==null?void 0:t[e]}var coe=loe,uoe=aoe,doe=coe;function foe(t,e){var n=doe(t,e);return uoe(n)?n:void 0}var Nc=foe,hoe=Nc,poe=hoe(Object,"create"),e0=poe,$I=e0;function moe(){this.__data__=$I?$I(null):{},this.size=0}var goe=moe;function yoe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var voe=yoe,xoe=e0,boe="__lodash_hash_undefined__",woe=Object.prototype,Soe=woe.hasOwnProperty;function _oe(t){var e=this.__data__;if(xoe){var n=e[t];return n===boe?void 0:n}return Soe.call(e,t)?e[t]:void 0}var Eoe=_oe,Toe=e0,Poe=Object.prototype,Aoe=Poe.hasOwnProperty;function Coe(t){var e=this.__data__;return Toe?e[t]!==void 0:Aoe.call(e,t)}var Noe=Coe,joe=e0,Ioe="__lodash_hash_undefined__";function koe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=joe&&e===void 0?Ioe:e,this}var Ooe=koe,Roe=goe,Moe=voe,Doe=Eoe,$oe=Noe,Loe=Ooe;function Wd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wd.prototype.clear=Roe;Wd.prototype.delete=Moe;Wd.prototype.get=Doe;Wd.prototype.has=$oe;Wd.prototype.set=Loe;var Foe=Wd;function Voe(){this.__data__=[],this.size=0}var Boe=Voe;function Uoe(t,e){return t===e||t!==t&&e!==e}var $P=Uoe,zoe=$P;function Woe(t,e){for(var n=t.length;n--;)if(zoe(t[n][0],e))return n;return-1}var t0=Woe,Hoe=t0,qoe=Array.prototype,Goe=qoe.splice;function Koe(t){var e=this.__data__,n=Hoe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Goe.call(e,n,1),--this.size,!0}var Yoe=Koe,Xoe=t0;function Qoe(t){var e=this.__data__,n=Xoe(e,t);return n<0?void 0:e[n][1]}var Joe=Qoe,Zoe=t0;function ese(t){return Zoe(this.__data__,t)>-1}var tse=ese,nse=t0;function rse(t,e){var n=this.__data__,r=nse(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ise=rse,ose=Boe,sse=Yoe,ase=Joe,lse=tse,cse=ise;function Hd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hd.prototype.clear=ose;Hd.prototype.delete=sse;Hd.prototype.get=ase;Hd.prototype.has=lse;Hd.prototype.set=cse;var n0=Hd,use=Nc,dse=Ts,fse=use(dse,"Map"),LP=fse,LI=Foe,hse=n0,pse=LP;function mse(){this.size=0,this.__data__={hash:new LI,map:new(pse||hse),string:new LI}}var gse=mse;function yse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var vse=yse,xse=vse;function bse(t,e){var n=t.__data__;return xse(e)?n[typeof e=="string"?"string":"hash"]:n.map}var r0=bse,wse=r0;function Sse(t){var e=wse(this,t).delete(t);return this.size-=e?1:0,e}var _se=Sse,Ese=r0;function Tse(t){return Ese(this,t).get(t)}var Pse=Tse,Ase=r0;function Cse(t){return Ase(this,t).has(t)}var Nse=Cse,jse=r0;function Ise(t,e){var n=jse(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var kse=Ise,Ose=gse,Rse=_se,Mse=Pse,Dse=Nse,$se=kse;function qd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qd.prototype.clear=Ose;qd.prototype.delete=Rse;qd.prototype.get=Mse;qd.prototype.has=Dse;qd.prototype.set=$se;var FP=qd,DV=FP,Lse="Expected a function";function VP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Lse);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(VP.Cache||DV),n}VP.Cache=DV;var $V=VP;const Fse=nn($V);var Vse=$V,Bse=500;function Use(t){var e=Vse(t,function(r){return n.size===Bse&&n.clear(),r}),n=e.cache;return e}var zse=Use,Wse=zse,Hse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qse=/\\(\\)?/g,Gse=Wse(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hse,function(n,r,i,o){e.push(i?o.replace(qse,"$1"):r||n)}),e}),Kse=Gse;function Yse(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var BP=Yse,FI=tm,Xse=BP,Qse=yi,Jse=Ud,Zse=1/0,VI=FI?FI.prototype:void 0,BI=VI?VI.toString:void 0;function LV(t){if(typeof t=="string")return t;if(Qse(t))return Xse(t,LV)+"";if(Jse(t))return BI?BI.call(t):"";var e=t+"";return e=="0"&&1/t==-Zse?"-0":e}var eae=LV,tae=eae;function nae(t){return t==null?"":tae(t)}var FV=nae,rae=yi,iae=MP,oae=Kse,sae=FV;function aae(t,e){return rae(t)?t:iae(t,e)?[t]:oae(sae(t))}var VV=aae,lae=Ud,cae=1/0;function uae(t){if(typeof t=="string"||lae(t))return t;var e=t+"";return e=="0"&&1/t==-cae?"-0":e}var i0=uae,dae=VV,fae=i0;function hae(t,e){e=dae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[fae(e[n++])];return n&&n==r?t:void 0}var UP=hae,pae=UP;function mae(t,e,n){var r=t==null?void 0:pae(t,e);return r===void 0?n:r}var BV=mae;const no=nn(BV);function gae(t){return t==null}var yae=gae;const vt=nn(yae);var vae=ua,xae=yi,bae=da,wae="[object String]";function Sae(t){return typeof t=="string"||!xae(t)&&bae(t)&&vae(t)==wae}var _ae=Sae;const yc=nn(_ae);var UV={exports:{}},Kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=Symbol.for("react.element"),WP=Symbol.for("react.portal"),o0=Symbol.for("react.fragment"),s0=Symbol.for("react.strict_mode"),a0=Symbol.for("react.profiler"),l0=Symbol.for("react.provider"),c0=Symbol.for("react.context"),Eae=Symbol.for("react.server_context"),u0=Symbol.for("react.forward_ref"),d0=Symbol.for("react.suspense"),f0=Symbol.for("react.suspense_list"),h0=Symbol.for("react.memo"),p0=Symbol.for("react.lazy"),Tae=Symbol.for("react.offscreen"),zV;zV=Symbol.for("react.module.reference");function uo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zP:switch(t=t.type,t){case o0:case a0:case s0:case d0:case f0:return t;default:switch(t=t&&t.$$typeof,t){case Eae:case c0:case u0:case p0:case h0:case l0:return t;default:return e}}case WP:return e}}}Kt.ContextConsumer=c0;Kt.ContextProvider=l0;Kt.Element=zP;Kt.ForwardRef=u0;Kt.Fragment=o0;Kt.Lazy=p0;Kt.Memo=h0;Kt.Portal=WP;Kt.Profiler=a0;Kt.StrictMode=s0;Kt.Suspense=d0;Kt.SuspenseList=f0;Kt.isAsyncMode=function(){return!1};Kt.isConcurrentMode=function(){return!1};Kt.isContextConsumer=function(t){return uo(t)===c0};Kt.isContextProvider=function(t){return uo(t)===l0};Kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zP};Kt.isForwardRef=function(t){return uo(t)===u0};Kt.isFragment=function(t){return uo(t)===o0};Kt.isLazy=function(t){return uo(t)===p0};Kt.isMemo=function(t){return uo(t)===h0};Kt.isPortal=function(t){return uo(t)===WP};Kt.isProfiler=function(t){return uo(t)===a0};Kt.isStrictMode=function(t){return uo(t)===s0};Kt.isSuspense=function(t){return uo(t)===d0};Kt.isSuspenseList=function(t){return uo(t)===f0};Kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===o0||t===a0||t===s0||t===d0||t===f0||t===Tae||typeof t=="object"&&t!==null&&(t.$$typeof===p0||t.$$typeof===h0||t.$$typeof===l0||t.$$typeof===c0||t.$$typeof===u0||t.$$typeof===zV||t.getModuleId!==void 0)};Kt.typeOf=uo;UV.exports=Kt;var Pae=UV.exports,Aae=ua,Cae=da,Nae="[object Number]";function jae(t){return typeof t=="number"||Cae(t)&&Aae(t)==Nae}var WV=jae;const Iae=nn(WV);var kae=WV;function Oae(t){return kae(t)&&t!=+t}var Rae=Oae;const nm=nn(Rae);var No=function(e){return e===0?0:e>0?1:-1},Bl=function(e){return yc(e)&&e.indexOf("%")===e.length-1},Ae=function(e){return Iae(e)&&!nm(e)},Mae=function(e){return vt(e)},ir=function(e){return Ae(e)||yc(e)},Dae=0,rm=function(e){var n=++Dae;return"".concat(e||"").concat(n)},vc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&!yc(e))return r;var o;if(Bl(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return nm(o)&&(o=r),i&&o>n&&(o=n),o},Gc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},$ae=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Eo=function(e,n){return Ae(e)&&Ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function Jy(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):no(r,e))===n})}var Lae=function(e,n){return Ae(e)&&Ae(n)?e-n:yc(e)&&yc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Eu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function gS(t){"@babel/helpers - typeof";return gS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gS(t)}var Fae=["viewBox","children"],Vae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],UI=["points","pathLength"],ow={svg:Fae,polygon:UI,polyline:UI},HP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zy=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),!zd(r))return null;var i={};return Object.keys(r).forEach(function(o){HP.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Bae=function(e,n,r){return function(i){return e(n,r,i),null}},ev=function(e,n,r){if(!zd(e)||gS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];HP.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Bae(s,n,r))}),i},Uae=["children"],zae=["children"];function zI(t,e){if(t==null)return{};var n=Wae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yS(t){"@babel/helpers - typeof";return yS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yS(t)}var WI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ws=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},HI=null,sw=null,qP=function t(e){if(e===HI&&Array.isArray(sw))return sw;var n=[];return S.Children.forEach(e,function(r){vt(r)||(Pae.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),sw=n,HI=e,n};function ro(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ws(i)}):r=[Ws(e)],qP(t).forEach(function(i){var o=no(i,"type.displayName")||no(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ni(t,e){var n=ro(t,e);return n&&n[0]}var qI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ae(r)||r<=0||!Ae(i)||i<=0)},Hae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qae=function(e){return e&&e.type&&yc(e.type)&&Hae.indexOf(e.type)>=0},Gae=function(e){return e&&yS(e)==="object"&&"clipDot"in e},Kae=function(e,n,r,i){var o,s=(o=ow==null?void 0:ow[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!_t(e)&&(i&&s.includes(n)||Vae.includes(n))||r&&HP.includes(n)},It=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!zd(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Kae((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},vS=function t(e,n){if(e===n)return!0;var r=S.Children.count(e);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return GI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!GI(o,s))return!1}return!0},GI=function(e,n){if(vt(e)&&vt(n))return!0;if(!vt(e)&&!vt(n)){var r=e.props||{},i=r.children,o=zI(r,Uae),s=n.props||{},a=s.children,l=zI(s,zae);return i&&a?Eu(o,l)&&vS(i,a):!i&&!a?Eu(o,l):!1}return!1},KI=function(e,n){var r=[],i={};return qP(e).forEach(function(o,s){if(qae(o))r.push(o);else if(o){var a=Ws(o.type),l=n[a]||{},c=l.handler,d=l.once;if(c&&(!d||!i[a])){var f=c(o,a,s);r.push(f),i[a]=!0}}}),r},Yae=function(e){var n=e&&e.type;return n&&WI[n]?WI[n]:null},Xae=function(e,n){return qP(n).indexOf(e)},Qae=["children","width","height","viewBox","className","style","title","desc"];function xS(){return xS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xS.apply(this,arguments)}function Jae(t,e){if(t==null)return{};var n=Zae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=Jae(t,Qae),d=i||{width:n,height:r,x:0,y:0},f=At("recharts-surface",o);return q.createElement("svg",xS({},It(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,a),q.createElement("desc",null,l),e)}var ele=["children","className"];function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wS.apply(this,arguments)}function tle(t,e){if(t==null)return{};var n=nle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ln=q.forwardRef(function(t,e){var n=t.children,r=t.className,i=tle(t,ele),o=At("recharts-layer",r);return q.createElement("g",wS({className:o},It(i,!0),{ref:e}),n)}),ec=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function rle(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var ile=rle,ole=ile;function sle(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:ole(t,e,n)}var ale=sle,lle="\\ud800-\\udfff",cle="\\u0300-\\u036f",ule="\\ufe20-\\ufe2f",dle="\\u20d0-\\u20ff",fle=cle+ule+dle,hle="\\ufe0e\\ufe0f",ple="\\u200d",mle=RegExp("["+ple+lle+fle+hle+"]");function gle(t){return mle.test(t)}var HV=gle;function yle(t){return t.split("")}var vle=yle,qV="\\ud800-\\udfff",xle="\\u0300-\\u036f",ble="\\ufe20-\\ufe2f",wle="\\u20d0-\\u20ff",Sle=xle+ble+wle,_le="\\ufe0e\\ufe0f",Ele="["+qV+"]",SS="["+Sle+"]",_S="\\ud83c[\\udffb-\\udfff]",Tle="(?:"+SS+"|"+_S+")",GV="[^"+qV+"]",KV="(?:\\ud83c[\\udde6-\\uddff]){2}",YV="[\\ud800-\\udbff][\\udc00-\\udfff]",Ple="\\u200d",XV=Tle+"?",QV="["+_le+"]?",Ale="(?:"+Ple+"(?:"+[GV,KV,YV].join("|")+")"+QV+XV+")*",Cle=QV+XV+Ale,Nle="(?:"+[GV+SS+"?",SS,KV,YV,Ele].join("|")+")",jle=RegExp(_S+"(?="+_S+")|"+Nle+Cle,"g");function Ile(t){return t.match(jle)||[]}var kle=Ile,Ole=vle,Rle=HV,Mle=kle;function Dle(t){return Rle(t)?Mle(t):Ole(t)}var $le=Dle,Lle=ale,Fle=HV,Vle=$le,Ble=FV;function Ule(t){return function(e){e=Ble(e);var n=Fle(e)?Vle(e):void 0,r=n?n[0]:e.charAt(0),i=n?Lle(n,1).join(""):e.slice(1);return r[t]()+i}}var zle=Ule,Wle=zle,Hle=Wle("toUpperCase"),qle=Hle;const m0=nn(qle);function on(t){return function(){return t}}const JV=Math.cos,tv=Math.sin,Vo=Math.sqrt,nv=Math.PI,g0=2*nv,ES=Math.PI,TS=2*ES,Il=1e-6,Gle=TS-Il;function ZV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Kle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZV;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Yle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZV:Kle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,c=i-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Il)if(!(Math.abs(f*l-c*d)>Il)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,y=i-a,g=l*l+c*c,v=m*m+y*y,x=Math.sqrt(g),b=Math.sqrt(h),w=o*Math.tan((ES-Math.acos((g+h-v)/(2*x*b)))/2),A=w/b,E=w/x;Math.abs(A-1)>Il&&this._append`L${e+A*d},${n+A*f}`,this._append`A${o},${o},0,0,${+(f*m>d*y)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,d=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Il||Math.abs(this._y1-d)>Il)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%TS+TS),h>Gle?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Il&&this._append`A${r},${r},0,${+(h>=ES)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function GP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Yle(e)}function KP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function e6(t){this._context=t}e6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function y0(t){return new e6(t)}function t6(t){return t[0]}function n6(t){return t[1]}function r6(t,e){var n=on(!0),r=null,i=y0,o=null,s=GP(a);t=typeof t=="function"?t:t===void 0?t6:on(t),e=typeof e=="function"?e:e===void 0?n6:on(e);function a(l){var c,d=(l=KP(l)).length,f,h=!1,m;for(r==null&&(o=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(m)return o=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:on(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:on(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:on(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function og(t,e,n){var r=null,i=on(!0),o=null,s=y0,a=null,l=GP(c);t=typeof t=="function"?t:t===void 0?t6:on(+t),e=typeof e=="function"?e:on(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?n6:on(+n);function c(f){var h,m,y,g=(f=KP(f)).length,v,x=!1,b,w=new Array(g),A=new Array(g);for(o==null&&(a=s(b=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=h-1;y>=m;--y)a.point(w[y],A[y]);a.lineEnd(),a.areaEnd()}x&&(w[h]=+t(v,h,f),A[h]=+e(v,h,f),a.point(r?+r(v,h,f):w[h],n?+n(v,h,f):A[h]))}if(b)return a=null,b+""||null}function d(){return r6().defined(i).curve(s).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:on(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:on(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:on(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:on(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:on(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:on(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:on(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),c):s},c.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),c):o},c}class i6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Xle(t){return new i6(t,!0)}function Qle(t){return new i6(t,!1)}const YP={draw(t,e){const n=Vo(e/nv);t.moveTo(n,0),t.arc(0,0,n,0,g0)}},Jle={draw(t,e){const n=Vo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},o6=Vo(1/3),Zle=o6*2,ece={draw(t,e){const n=Vo(e/Zle),r=n*o6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},tce={draw(t,e){const n=Vo(e),r=-n/2;t.rect(r,r,n,n)}},nce=.8908130915292852,s6=tv(nv/10)/tv(7*nv/10),rce=tv(g0/10)*s6,ice=-JV(g0/10)*s6,oce={draw(t,e){const n=Vo(e*nce),r=rce*n,i=ice*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=g0*o/5,a=JV(s),l=tv(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},aw=Vo(3),sce={draw(t,e){const n=-Vo(e/(aw*3));t.moveTo(0,n*2),t.lineTo(-aw*n,-n),t.lineTo(aw*n,-n),t.closePath()}},Wi=-.5,Hi=Vo(3)/2,PS=1/Vo(12),ace=(PS/2+1)*3,lce={draw(t,e){const n=Vo(e/ace),r=n/2,i=n*PS,o=r,s=n*PS+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Wi*r-Hi*i,Hi*r+Wi*i),t.lineTo(Wi*o-Hi*s,Hi*o+Wi*s),t.lineTo(Wi*a-Hi*l,Hi*a+Wi*l),t.lineTo(Wi*r+Hi*i,Wi*i-Hi*r),t.lineTo(Wi*o+Hi*s,Wi*s-Hi*o),t.lineTo(Wi*a+Hi*l,Wi*l-Hi*a),t.closePath()}};function cce(t,e){let n=null,r=GP(i);t=typeof t=="function"?t:on(t||YP),e=typeof e=="function"?e:on(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:on(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:on(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function rv(){}function iv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function a6(t){this._context=t}a6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uce(t){return new a6(t)}function l6(t){this._context=t}l6.prototype={areaStart:rv,areaEnd:rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dce(t){return new l6(t)}function c6(t){this._context=t}c6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fce(t){return new c6(t)}function u6(t){this._context=t}u6.prototype={areaStart:rv,areaEnd:rv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hce(t){return new u6(t)}function YI(t){return t<0?-1:1}function XI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(YI(o)+YI(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function QI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function ov(t){this._context=t}ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lw(this,this._t0,QI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lw(this,QI(this,n=XI(this,t,e)),n);break;default:lw(this,this._t0,n=XI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function d6(t){this._context=new f6(t)}(d6.prototype=Object.create(ov.prototype)).point=function(t,e){ov.prototype.point.call(this,e,t)};function f6(t){this._context=t}f6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function pce(t){return new ov(t)}function mce(t){return new d6(t)}function h6(t){this._context=t}h6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=JI(t),i=JI(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function JI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function gce(t){return new h6(t)}function v0(t,e){this._context=t,this._t=e}v0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yce(t){return new v0(t,.5)}function vce(t){return new v0(t,0)}function xce(t){return new v0(t,1)}function rd(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function AS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bce(t,e){return t[e]}function wce(t){const e=[];return e.key=t,e}function Sce(){var t=on([]),e=AS,n=rd,r=bce;function i(o){var s=Array.from(t.apply(this,arguments),wce),a,l=s.length,c=-1,d;for(const f of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(f,s[a].key,c,o)]).data=f;for(a=0,d=KP(e(s));a<l;++a)s[d[a]].index=a;return n(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:on(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:on(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?AS:typeof o=="function"?o:on(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??rd,i):n},i}function _ce(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}rd(t,e)}}function Ece(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}rd(t,e)}}function Tce(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,y=0;y<a;++y){var g=t[e[y]],v=g[r][1]||0,x=g[r-1][1]||0;m+=v-x}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,rd(t,e)}}function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}var Pce=["type","size","sizeType"];function CS(){return CS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CS.apply(this,arguments)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){Ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ace(t,e,n){return e=Cce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=Nce(t,"string");return Gh(e)=="symbol"?e:e+""}function Nce(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jce(t,e){if(t==null)return{};var n=Ice(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ice(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var p6={symbolCircle:YP,symbolCross:Jle,symbolDiamond:ece,symbolSquare:tce,symbolStar:oce,symbolTriangle:sce,symbolWye:lce},kce=Math.PI/180,Oce=function(e){var n="symbol".concat(m0(e));return p6[n]||YP},Rce=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*kce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Mce=function(e,n){p6["symbol".concat(m0(e))]=n},XP=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=jce(e,Pce),c=e2(e2({},l),{},{type:r,size:o,sizeType:a}),d=function(){var v=Oce(r),x=cce().type(v).size(Rce(o,a,r));return x()},f=c.className,h=c.cx,m=c.cy,y=It(c,!0);return h===+h&&m===+m&&o===+o?q.createElement("path",CS({},y,{className:At("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};XP.registerSymbol=Mce;function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NS.apply(this,arguments)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){Kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g6(r.key),r)}}function Fce(t,e,n){return e&&Lce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vce(t,e,n){return e=sv(e),Bce(t,m6()?Reflect.construct(e,n||[],sv(t).constructor):e.apply(t,n))}function Bce(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uce(t)}function Uce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m6=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(t)}function zce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jS(t,e)}function jS(t,e){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jS(t,e)}function Kh(t,e,n){return e=g6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g6(t){var e=Wce(t,"string");return id(e)=="symbol"?e:e+""}function Wce(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qi=32,QP=function(t){function e(){return $ce(this,e),Vce(this,e,arguments)}return zce(e,t),Fce(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=qi/2,s=qi/6,a=qi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:qi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(qi,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(qi/8,"h").concat(qi,"v").concat(qi*3/4,"h").concat(-qi,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var c=Dce({},r);return delete c.legendIcon,q.cloneElement(r.legendIcon,c)}return q.createElement(XP,{fill:l,cx:o,cy:o,size:qi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:qi,height:qi},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var g=m.formatter||l,v=At(Kh(Kh({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=_t(m.value)?null:m.value;ec(!_t(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?c:m.color;return q.createElement("li",NS({className:v,style:f,key:"legend-item-".concat(y)},ev(r.props,m,y)),q.createElement(bS,{width:s,height:s,viewBox:d,style:h},r.renderIcon(m)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,m,y):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(S.PureComponent);Kh(QP,"displayName","Legend");Kh(QP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hce=n0;function qce(){this.__data__=new Hce,this.size=0}var Gce=qce;function Kce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Yce=Kce;function Xce(t){return this.__data__.get(t)}var Qce=Xce;function Jce(t){return this.__data__.has(t)}var Zce=Jce,eue=n0,tue=LP,nue=FP,rue=200;function iue(t,e){var n=this.__data__;if(n instanceof eue){var r=n.__data__;if(!tue||r.length<rue-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nue(r)}return n.set(t,e),this.size=n.size,this}var oue=iue,sue=n0,aue=Gce,lue=Yce,cue=Qce,uue=Zce,due=oue;function Gd(t){var e=this.__data__=new sue(t);this.size=e.size}Gd.prototype.clear=aue;Gd.prototype.delete=lue;Gd.prototype.get=cue;Gd.prototype.has=uue;Gd.prototype.set=due;var y6=Gd,fue="__lodash_hash_undefined__";function hue(t){return this.__data__.set(t,fue),this}var pue=hue;function mue(t){return this.__data__.has(t)}var gue=mue,yue=FP,vue=pue,xue=gue;function av(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yue;++e<n;)this.add(t[e])}av.prototype.add=av.prototype.push=vue;av.prototype.has=xue;var v6=av;function bue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var x6=bue;function wue(t,e){return t.has(e)}var b6=wue,Sue=v6,_ue=x6,Eue=b6,Tue=1,Pue=2;function Aue(t,e,n,r,i,o){var s=n&Tue,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,m=n&Pue?new Sue:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var y=t[f],g=e[f];if(r)var v=s?r(g,y,f,e,t,o):r(y,g,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!_ue(e,function(x,b){if(!Eue(m,b)&&(y===x||i(y,x,n,r,o)))return m.push(b)})){h=!1;break}}else if(!(y===g||i(y,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var w6=Aue,Cue=Ts,Nue=Cue.Uint8Array,jue=Nue;function Iue(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var kue=Iue;function Oue(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var JP=Oue,n2=tm,r2=jue,Rue=$P,Mue=w6,Due=kue,$ue=JP,Lue=1,Fue=2,Vue="[object Boolean]",Bue="[object Date]",Uue="[object Error]",zue="[object Map]",Wue="[object Number]",Hue="[object RegExp]",que="[object Set]",Gue="[object String]",Kue="[object Symbol]",Yue="[object ArrayBuffer]",Xue="[object DataView]",i2=n2?n2.prototype:void 0,cw=i2?i2.valueOf:void 0;function Que(t,e,n,r,i,o,s){switch(n){case Xue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yue:return!(t.byteLength!=e.byteLength||!o(new r2(t),new r2(e)));case Vue:case Bue:case Wue:return Rue(+t,+e);case Uue:return t.name==e.name&&t.message==e.message;case Hue:case Gue:return t==e+"";case zue:var a=Due;case que:var l=r&Lue;if(a||(a=$ue),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Fue,s.set(t,e);var d=Mue(a(t),a(e),r,i,o,s);return s.delete(t),d;case Kue:if(cw)return cw.call(t)==cw.call(e)}return!1}var Jue=Que;function Zue(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var S6=Zue,ede=S6,tde=yi;function nde(t,e,n){var r=e(t);return tde(t)?r:ede(r,n(t))}var rde=nde;function ide(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var ode=ide;function sde(){return[]}var ade=sde,lde=ode,cde=ade,ude=Object.prototype,dde=ude.propertyIsEnumerable,o2=Object.getOwnPropertySymbols,fde=o2?function(t){return t==null?[]:(t=Object(t),lde(o2(t),function(e){return dde.call(t,e)}))}:cde,hde=fde;function pde(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var mde=pde,gde=ua,yde=da,vde="[object Arguments]";function xde(t){return yde(t)&&gde(t)==vde}var bde=xde,s2=bde,wde=da,_6=Object.prototype,Sde=_6.hasOwnProperty,_de=_6.propertyIsEnumerable,Ede=s2(function(){return arguments}())?s2:function(t){return wde(t)&&Sde.call(t,"callee")&&!_de.call(t,"callee")},ZP=Ede,lv={exports:{}};function Tde(){return!1}var Pde=Tde;lv.exports;(function(t,e){var n=Ts,r=Pde,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(lv,lv.exports);var E6=lv.exports,Ade=9007199254740991,Cde=/^(?:0|[1-9]\d*)$/;function Nde(t,e){var n=typeof t;return e=e??Ade,!!e&&(n=="number"||n!="symbol"&&Cde.test(t))&&t>-1&&t%1==0&&t<e}var eA=Nde,jde=9007199254740991;function Ide(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jde}var tA=Ide,kde=ua,Ode=tA,Rde=da,Mde="[object Arguments]",Dde="[object Array]",$de="[object Boolean]",Lde="[object Date]",Fde="[object Error]",Vde="[object Function]",Bde="[object Map]",Ude="[object Number]",zde="[object Object]",Wde="[object RegExp]",Hde="[object Set]",qde="[object String]",Gde="[object WeakMap]",Kde="[object ArrayBuffer]",Yde="[object DataView]",Xde="[object Float32Array]",Qde="[object Float64Array]",Jde="[object Int8Array]",Zde="[object Int16Array]",efe="[object Int32Array]",tfe="[object Uint8Array]",nfe="[object Uint8ClampedArray]",rfe="[object Uint16Array]",ife="[object Uint32Array]",un={};un[Xde]=un[Qde]=un[Jde]=un[Zde]=un[efe]=un[tfe]=un[nfe]=un[rfe]=un[ife]=!0;un[Mde]=un[Dde]=un[Kde]=un[$de]=un[Yde]=un[Lde]=un[Fde]=un[Vde]=un[Bde]=un[Ude]=un[zde]=un[Wde]=un[Hde]=un[qde]=un[Gde]=!1;function ofe(t){return Rde(t)&&Ode(t.length)&&!!un[kde(t)]}var sfe=ofe;function afe(t){return function(e){return t(e)}}var T6=afe,cv={exports:{}};cv.exports;(function(t,e){var n=OV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(cv,cv.exports);var lfe=cv.exports,cfe=sfe,ufe=T6,a2=lfe,l2=a2&&a2.isTypedArray,dfe=l2?ufe(l2):cfe,P6=dfe,ffe=mde,hfe=ZP,pfe=yi,mfe=E6,gfe=eA,yfe=P6,vfe=Object.prototype,xfe=vfe.hasOwnProperty;function bfe(t,e){var n=pfe(t),r=!n&&hfe(t),i=!n&&!r&&mfe(t),o=!n&&!r&&!i&&yfe(t),s=n||r||i||o,a=s?ffe(t.length,String):[],l=a.length;for(var c in t)(e||xfe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gfe(c,l)))&&a.push(c);return a}var wfe=bfe,Sfe=Object.prototype;function _fe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Sfe;return t===n}var Efe=_fe;function Tfe(t,e){return function(n){return t(e(n))}}var A6=Tfe,Pfe=A6,Afe=Pfe(Object.keys,Object),Cfe=Afe,Nfe=Efe,jfe=Cfe,Ife=Object.prototype,kfe=Ife.hasOwnProperty;function Ofe(t){if(!Nfe(t))return jfe(t);var e=[];for(var n in Object(t))kfe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Rfe=Ofe,Mfe=DP,Dfe=tA;function $fe(t){return t!=null&&Dfe(t.length)&&!Mfe(t)}var x0=$fe,Lfe=wfe,Ffe=Rfe,Vfe=x0;function Bfe(t){return Vfe(t)?Lfe(t):Ffe(t)}var nA=Bfe,Ufe=rde,zfe=hde,Wfe=nA;function Hfe(t){return Ufe(t,Wfe,zfe)}var qfe=Hfe,c2=qfe,Gfe=1,Kfe=Object.prototype,Yfe=Kfe.hasOwnProperty;function Xfe(t,e,n,r,i,o){var s=n&Gfe,a=c2(t),l=a.length,c=c2(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:Yfe.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=s;++f<l;){h=a[f];var x=t[h],b=e[h];if(r)var w=s?r(b,x,h,e,t,o):r(x,b,h,t,e,o);if(!(w===void 0?x===b||i(x,b,n,r,o):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var Qfe=Xfe,Jfe=Nc,Zfe=Ts,ehe=Jfe(Zfe,"DataView"),the=ehe,nhe=Nc,rhe=Ts,ihe=nhe(rhe,"Promise"),ohe=ihe,she=Nc,ahe=Ts,lhe=she(ahe,"Set"),C6=lhe,che=Nc,uhe=Ts,dhe=che(uhe,"WeakMap"),fhe=dhe,IS=the,kS=LP,OS=ohe,RS=C6,MS=fhe,N6=ua,Kd=MV,u2="[object Map]",hhe="[object Object]",d2="[object Promise]",f2="[object Set]",h2="[object WeakMap]",p2="[object DataView]",phe=Kd(IS),mhe=Kd(kS),ghe=Kd(OS),yhe=Kd(RS),vhe=Kd(MS),kl=N6;(IS&&kl(new IS(new ArrayBuffer(1)))!=p2||kS&&kl(new kS)!=u2||OS&&kl(OS.resolve())!=d2||RS&&kl(new RS)!=f2||MS&&kl(new MS)!=h2)&&(kl=function(t){var e=N6(t),n=e==hhe?t.constructor:void 0,r=n?Kd(n):"";if(r)switch(r){case phe:return p2;case mhe:return u2;case ghe:return d2;case yhe:return f2;case vhe:return h2}return e});var xhe=kl,uw=y6,bhe=w6,whe=Jue,She=Qfe,m2=xhe,g2=yi,y2=E6,_he=P6,Ehe=1,v2="[object Arguments]",x2="[object Array]",sg="[object Object]",The=Object.prototype,b2=The.hasOwnProperty;function Phe(t,e,n,r,i,o){var s=g2(t),a=g2(e),l=s?x2:m2(t),c=a?x2:m2(e);l=l==v2?sg:l,c=c==v2?sg:c;var d=l==sg,f=c==sg,h=l==c;if(h&&y2(t)){if(!y2(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new uw),s||_he(t)?bhe(t,e,n,r,i,o):whe(t,e,l,n,r,i,o);if(!(n&Ehe)){var m=d&&b2.call(t,"__wrapped__"),y=f&&b2.call(e,"__wrapped__");if(m||y){var g=m?t.value():t,v=y?e.value():e;return o||(o=new uw),i(g,v,n,r,o)}}return h?(o||(o=new uw),She(t,e,n,r,i,o)):!1}var Ahe=Phe,Che=Ahe,w2=da;function j6(t,e,n,r,i){return t===e?!0:t==null||e==null||!w2(t)&&!w2(e)?t!==t&&e!==e:Che(t,e,n,r,j6,i)}var rA=j6,Nhe=y6,jhe=rA,Ihe=1,khe=2;function Ohe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],d=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Nhe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?jhe(d,c,Ihe|khe,r,f):h))return!1}}return!0}var Rhe=Ohe,Mhe=vl;function Dhe(t){return t===t&&!Mhe(t)}var I6=Dhe,$he=I6,Lhe=nA;function Fhe(t){for(var e=Lhe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$he(i)]}return e}var Vhe=Fhe;function Bhe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var k6=Bhe,Uhe=Rhe,zhe=Vhe,Whe=k6;function Hhe(t){var e=zhe(t);return e.length==1&&e[0][2]?Whe(e[0][0],e[0][1]):function(n){return n===t||Uhe(n,t,e)}}var qhe=Hhe;function Ghe(t,e){return t!=null&&e in Object(t)}var Khe=Ghe,Yhe=VV,Xhe=ZP,Qhe=yi,Jhe=eA,Zhe=tA,epe=i0;function tpe(t,e,n){e=Yhe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=epe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Zhe(i)&&Jhe(s,i)&&(Qhe(t)||Xhe(t)))}var npe=tpe,rpe=Khe,ipe=npe;function ope(t,e){return t!=null&&ipe(t,e,rpe)}var spe=ope,ape=rA,lpe=BV,cpe=spe,upe=MP,dpe=I6,fpe=k6,hpe=i0,ppe=1,mpe=2;function gpe(t,e){return upe(t)&&dpe(e)?fpe(hpe(t),e):function(n){var r=lpe(n,t);return r===void 0&&r===e?cpe(n,t):ape(e,r,ppe|mpe)}}var ype=gpe;function vpe(t){return t}var Yd=vpe;function xpe(t){return function(e){return e==null?void 0:e[t]}}var bpe=xpe,wpe=UP;function Spe(t){return function(e){return wpe(e,t)}}var _pe=Spe,Epe=bpe,Tpe=_pe,Ppe=MP,Ape=i0;function Cpe(t){return Ppe(t)?Epe(Ape(t)):Tpe(t)}var Npe=Cpe,jpe=qhe,Ipe=ype,kpe=Yd,Ope=yi,Rpe=Npe;function Mpe(t){return typeof t=="function"?t:t==null?kpe:typeof t=="object"?Ope(t)?Ipe(t[0],t[1]):jpe(t):Rpe(t)}var Xd=Mpe;function Dpe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var $pe=Dpe;function Lpe(t){return t!==t}var Fpe=Lpe;function Vpe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Bpe=Vpe,Upe=$pe,zpe=Fpe,Wpe=Bpe;function Hpe(t,e,n){return e===e?Wpe(t,e,n):Upe(t,zpe,n)}var qpe=Hpe,Gpe=qpe;function Kpe(t,e){var n=t==null?0:t.length;return!!n&&Gpe(t,e,0)>-1}var Ype=Kpe;function Xpe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Qpe=Xpe;function Jpe(){}var Zpe=Jpe,dw=C6,eme=Zpe,tme=JP,nme=1/0,rme=dw&&1/tme(new dw([,-0]))[1]==nme?function(t){return new dw(t)}:eme,ime=rme,ome=v6,sme=Ype,ame=Qpe,lme=b6,cme=ime,ume=JP,dme=200;function fme(t,e,n){var r=-1,i=sme,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=ame;else if(o>=dme){var c=e?null:cme(t);if(c)return ume(c);s=!1,i=lme,l=new ome}else l=e?[]:a;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(d)}else i(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var hme=fme,pme=Xd,mme=hme;function gme(t,e){return t&&t.length?mme(t,pme(e)):[]}var yme=gme;const S2=nn(yme);function O6(t,e,n){return e===!0?S2(t,n):_t(e)?S2(t,e):t}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}var vme=["ref"];function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){b0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M6(r.key),r)}}function bme(t,e,n){return e&&E2(t.prototype,e),n&&E2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wme(t,e,n){return e=uv(e),Sme(t,R6()?Reflect.construct(e,n||[],uv(t).constructor):e.apply(t,n))}function Sme(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _me(t)}function _me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R6=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uv(t)}function Eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DS(t,e)}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DS(t,e)}function b0(t,e,n){return e=M6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M6(t){var e=Tme(t,"string");return od(e)=="symbol"?e:e+""}function Tme(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pme(t,e){if(t==null)return{};var n=Ame(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ame(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cme(t){return t.value}function Nme(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var n=Pme(e,vme);return q.createElement(QP,n)}var T2=1,Tu=function(t){function e(){var n;xme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wme(this,e,[].concat(i)),b0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Eme(e,t),bme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>T2||Math.abs(i.height-this.lastBoundingBox.height)>T2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?js({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((c||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return js(js({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=js(js({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Nme(o,js(js({},this.props),{},{payload:O6(d,c,Cme)})))}}],[{key:"getWithHeight",value:function(r,i){var o=js(js({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&Ae(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(S.PureComponent);b0(Tu,"displayName","Legend");b0(Tu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var P2=tm,jme=ZP,Ime=yi,A2=P2?P2.isConcatSpreadable:void 0;function kme(t){return Ime(t)||jme(t)||!!(A2&&t&&t[A2])}var Ome=kme,Rme=S6,Mme=Ome;function D6(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Mme),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?D6(a,e-1,n,r,i):Rme(i,a):r||(i[i.length]=a)}return i}var $6=D6;function Dme(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var $me=Dme,Lme=$me,Fme=Lme(),Vme=Fme,Bme=Vme,Ume=nA;function zme(t,e){return t&&Bme(t,e,Ume)}var L6=zme,Wme=x0;function Hme(t,e){return function(n,r){if(n==null)return n;if(!Wme(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var qme=Hme,Gme=L6,Kme=qme,Yme=Kme(Gme),iA=Yme,Xme=iA,Qme=x0;function Jme(t,e){var n=-1,r=Qme(t)?Array(t.length):[];return Xme(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var F6=Jme;function Zme(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ege=Zme,C2=Ud;function tge(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=C2(t),s=e!==void 0,a=e===null,l=e===e,c=C2(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var nge=tge,rge=nge;function ige(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=rge(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var oge=ige,fw=BP,sge=UP,age=Xd,lge=F6,cge=ege,uge=T6,dge=oge,fge=Yd,hge=yi;function pge(t,e,n){e.length?e=fw(e,function(o){return hge(o)?function(s){return sge(s,o.length===1?o[0]:o)}:o}):e=[fge];var r=-1;e=fw(e,uge(age));var i=lge(t,function(o,s,a){var l=fw(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return cge(i,function(o,s){return dge(o,s,n)})}var mge=pge;function gge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var yge=gge,vge=yge,N2=Math.max;function xge(t,e,n){return e=N2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=N2(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),vge(t,this,a)}}var bge=xge;function wge(t){return function(){return t}}var Sge=wge,_ge=Nc,Ege=function(){try{var t=_ge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),V6=Ege,Tge=Sge,j2=V6,Pge=Yd,Age=j2?function(t,e){return j2(t,"toString",{configurable:!0,enumerable:!1,value:Tge(e),writable:!0})}:Pge,Cge=Age,Nge=800,jge=16,Ige=Date.now;function kge(t){var e=0,n=0;return function(){var r=Ige(),i=jge-(r-n);if(n=r,i>0){if(++e>=Nge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Oge=kge,Rge=Cge,Mge=Oge,Dge=Mge(Rge),$ge=Dge,Lge=Yd,Fge=bge,Vge=$ge;function Bge(t,e){return Vge(Fge(t,e,Lge),t+"")}var Uge=Bge,zge=$P,Wge=x0,Hge=eA,qge=vl;function Gge(t,e,n){if(!qge(n))return!1;var r=typeof e;return(r=="number"?Wge(n)&&Hge(e,n.length):r=="string"&&e in n)?zge(n[e],t):!1}var w0=Gge,Kge=$6,Yge=mge,Xge=Uge,I2=w0,Qge=Xge(function(t,e){if(t==null)return[];var n=e.length;return n>1&&I2(t,e[0],e[1])?e=[]:n>2&&I2(e[0],e[1],e[2])&&(e=[e[0]]),Yge(t,Kge(e,1),[])}),Jge=Qge;const oA=nn(Jge);function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$S.apply(this,arguments)}function Zge(t,e){return rye(t)||nye(t,e)||tye(t,e)||eye()}function eye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tye(t,e){if(t){if(typeof t=="string")return k2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k2(t,e)}}function k2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function rye(t){if(Array.isArray(t))return t}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){iye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iye(t,e,n){return e=oye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oye(t){var e=sye(t,"string");return Yh(e)=="symbol"?e:e+""}function sye(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aye(t){return Array.isArray(t)&&ir(t[0])&&ir(t[1])?t.join(" ~ "):t}var lye=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var R={padding:0,margin:0},O=(h?oA(d,h):d).map(function($,F){if($.type==="none")return null;var U=hw({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},a),H=$.formatter||f||aye,V=$.value,L=$.name,X=V,Y=L;if(H&&X!=null&&Y!=null){var te=H(V,L,$,F,d);if(Array.isArray(te)){var ye=Zge(te,2);X=ye[0],Y=ye[1]}else X=te}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:U},ir(Y)?q.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,ir(Y)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},X),q.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},A=hw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=hw({margin:0},c),C=!vt(g),_=C?g:"",T=At("recharts-default-tooltip",m),N=At("recharts-tooltip-label",y);C&&v&&d!==void 0&&d!==null&&(_=v(g,d));var k=b?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",$S({className:T,style:A},k),q.createElement("p",{className:N,style:E},q.isValidElement(_)?_:"".concat(_)),w())};function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function ag(t,e,n){return e=cye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cye(t){var e=uye(t,"string");return Xh(e)=="symbol"?e:e+""}function uye(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yf="recharts-tooltip-wrapper",dye={visibility:"hidden"};function fye(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return At(yf,ag(ag(ag(ag({},"".concat(yf,"-right"),Ae(n)&&e&&Ae(e.x)&&n>=e.x),"".concat(yf,"-left"),Ae(n)&&e&&Ae(e.x)&&n<e.x),"".concat(yf,"-bottom"),Ae(r)&&e&&Ae(e.y)&&r>=e.y),"".concat(yf,"-top"),Ae(r)&&e&&Ae(e.y)&&r<e.y))}function R2(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&Ae(o[r]))return o[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var y=f+a,g=l[r]+c;return y>g?Math.max(d,l[r]):Math.max(f,l[r])}function hye(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function pye(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&n?(d=R2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=R2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=hye({translateX:d,translateY:f,useTranslate3d:a})):c=dye,{cssProperties:c,cssClasses:fye({translateX:d,translateY:f,coordinate:n})}}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){FS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U6(r.key),r)}}function yye(t,e,n){return e&&gye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vye(t,e,n){return e=dv(e),xye(t,B6()?Reflect.construct(e,n||[],dv(t).constructor):e.apply(t,n))}function xye(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bye(t)}function bye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(t)}function wye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LS(t,e)}function FS(t,e,n){return e=U6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U6(t){var e=Sye(t,"string");return sd(e)=="symbol"?e:e+""}function Sye(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $2=1,_ye=function(t){function e(){var n;mye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vye(this,e,[].concat(i)),FS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),FS(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return wye(e,t),yye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$2||Math.abs(r.height-this.state.lastBoundingBox.height)>$2)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,w=pye({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),A=w.cssClasses,E=w.cssProperties,C=D2(D2({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return q.createElement("div",{tabIndex:-1,className:A,style:C,ref:function(T){r.wrapperNode=T}},c)}}])}(S.PureComponent),Eye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Hs={isSsr:Eye(),get:function(e){return Hs[e]},set:function(e,n){if(typeof e=="string")Hs[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Hs[i]=e[i]})}}};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){sA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W6(r.key),r)}}function Aye(t,e,n){return e&&Pye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cye(t,e,n){return e=fv(e),Nye(t,z6()?Reflect.construct(e,n||[],fv(t).constructor):e.apply(t,n))}function Nye(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jye(t)}function jye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z6=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(t)}function Iye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VS(t,e)}function VS(t,e){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VS(t,e)}function sA(t,e,n){return e=W6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W6(t){var e=kye(t,"string");return ad(e)=="symbol"?e:e+""}function kye(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oye(t){return t.dataKey}function Rye(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(lye,e)}var Yo=function(t){function e(){return Tye(this,e),Cye(this,e,arguments)}return Iye(e,t),Aye(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,E=y??[];f&&E.length&&(E=O6(y.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),g,Oye));var C=E.length>0;return q.createElement(_ye,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:C,offset:m,position:v,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:A},Rye(c,F2(F2({},this.props),{},{payload:E})))}}])}(S.PureComponent);sA(Yo,"displayName","Tooltip");sA(Yo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Hs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Mye=Ts,Dye=function(){return Mye.Date.now()},$ye=Dye,Lye=/\s/;function Fye(t){for(var e=t.length;e--&&Lye.test(t.charAt(e)););return e}var Vye=Fye,Bye=Vye,Uye=/^\s+/;function zye(t){return t&&t.slice(0,Bye(t)+1).replace(Uye,"")}var Wye=zye,Hye=Wye,V2=vl,qye=Ud,B2=NaN,Gye=/^[-+]0x[0-9a-f]+$/i,Kye=/^0b[01]+$/i,Yye=/^0o[0-7]+$/i,Xye=parseInt;function Qye(t){if(typeof t=="number")return t;if(qye(t))return B2;if(V2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=V2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Hye(t);var n=Kye.test(t);return n||Yye.test(t)?Xye(t.slice(2),n?2:8):Gye.test(t)?B2:+t}var H6=Qye,Jye=vl,pw=$ye,U2=H6,Zye="Expected a function",eve=Math.max,tve=Math.min;function nve(t,e,n){var r,i,o,s,a,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Zye);e=U2(e)||0,Jye(n)&&(d=!!n.leading,f="maxWait"in n,o=f?eve(U2(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(C){var _=r,T=i;return r=i=void 0,c=C,s=t.apply(T,_),s}function y(C){return c=C,a=setTimeout(x,e),d?m(C):s}function g(C){var _=C-l,T=C-c,N=e-_;return f?tve(N,o-T):N}function v(C){var _=C-l,T=C-c;return l===void 0||_>=e||_<0||f&&T>=o}function x(){var C=pw();if(v(C))return b(C);a=setTimeout(x,g(C))}function b(C){return a=void 0,h&&r?m(C):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function A(){return a===void 0?s:b(pw())}function E(){var C=pw(),_=v(C);if(r=arguments,i=this,l=C,_){if(a===void 0)return y(l);if(f)return clearTimeout(a),a=setTimeout(x,e),m(l)}return a===void 0&&(a=setTimeout(x,e)),s}return E.cancel=w,E.flush=A,E}var rve=nve,ive=rve,ove=vl,sve="Expected a function";function ave(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(sve);return ove(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ive(t,e,{leading:r,maxWait:e,trailing:i})}var lve=ave;const q6=nn(lve);function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){cve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cve(t,e,n){return e=uve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uve(t){var e=dve(t,"string");return Qh(e)=="symbol"?e:e+""}function dve(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fve(t,e){return gve(t)||mve(t,e)||pve(t,e)||hve()}function hve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pve(t,e){if(t){if(typeof t=="string")return W2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W2(t,e)}}function W2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function gve(t){if(Array.isArray(t))return t}var yve=S.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,x=t.className,b=t.onResize,w=t.style,A=w===void 0?{}:w,E=S.useRef(null),C=S.useRef();C.current=b,S.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=S.useState({containerWidth:i.width,containerHeight:i.height}),T=fve(_,2),N=T[0],k=T[1],j=S.useCallback(function(O,$){k(function(F){var U=Math.round(O),H=Math.round($);return F.containerWidth===U&&F.containerHeight===H?F:{containerWidth:U,containerHeight:H}})},[]);S.useEffect(function(){var O=function(L){var X,Y=L[0].contentRect,te=Y.width,ye=Y.height;j(te,ye),(X=C.current)===null||X===void 0||X.call(C,te,ye)};g>0&&(O=q6(O,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(O),F=E.current.getBoundingClientRect(),U=F.width,H=F.height;return j(U,H),$.observe(E.current),function(){$.disconnect()}},[j,g]);var R=S.useMemo(function(){var O=N.containerWidth,$=N.containerHeight;if(O<0||$<0)return null;ec(Bl(s)||Bl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ec(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Bl(s)?O:s,U=Bl(l)?$:l;n&&n>0&&(F?U=F/n:U&&(F=U*n),h&&U>h&&(U=h)),ec(F>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,U,s,l,d,f,n);var H=!Array.isArray(m)&&Ws(m.type).endsWith("Chart");return q.Children.map(m,function(V){return q.isValidElement(V)?S.cloneElement(V,lg({width:F,height:U},H?{style:lg({height:"100%",width:"100%",maxHeight:U,maxWidth:F},V.props.style)}:{})):V})},[n,m,l,h,f,d,N,s]);return q.createElement("div",{id:v?"".concat(v):void 0,className:At("recharts-responsive-container",x),style:lg(lg({},A),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},R)}),G6=function(e){return null};G6.displayName="Cell";function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){vve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vve(t,e,n){return e=xve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xve(t){var e=bve(t,"string");return Jh(e)=="symbol"?e:e+""}function bve(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vc={widthCache:{},cacheCount:0},wve=2e3,Sve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},q2="recharts_measurement_span";function _ve(t){var e=BS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ih=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hs.isSsr)return{width:0,height:0};var r=_ve(n),i=JSON.stringify({text:e,copyStyle:r});if(Vc.widthCache[i])return Vc.widthCache[i];try{var o=document.getElementById(q2);o||(o=document.createElement("span"),o.setAttribute("id",q2),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=BS(BS({},Sve),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Vc.widthCache[i]=l,++Vc.cacheCount>wve&&(Vc.cacheCount=0,Vc.widthCache={}),l}catch{return{width:0,height:0}}},Eve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function hv(t,e){return Cve(t)||Ave(t,e)||Pve(t,e)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pve(t,e){if(t){if(typeof t=="string")return G2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G2(t,e)}}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ave(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Cve(t){if(Array.isArray(t))return t}function Nve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ive(r.key),r)}}function jve(t,e,n){return e&&K2(t.prototype,e),n&&K2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ive(t){var e=kve(t,"string");return Zh(e)=="symbol"?e:e+""}function kve(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ove=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mve=Object.keys(K6),lu="NaN";function Dve(t,e){return t*K6[e]}var cg=function(){function t(e,n){Nve(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ove.test(n)&&(this.num=NaN,this.unit=""),Mve.includes(n)&&(this.num=Dve(e,n),this.unit="px")}return jve(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Rve.exec(n))!==null&&r!==void 0?r:[],o=hv(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function Y6(t){if(t.includes(lu))return lu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Y2.exec(e))!==null&&n!==void 0?n:[],i=hv(r,4),o=i[1],s=i[2],a=i[3],l=cg.parse(o??""),c=cg.parse(a??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return lu;e=e.replace(Y2,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=X2.exec(e))!==null&&f!==void 0?f:[],m=hv(h,4),y=m[1],g=m[2],v=m[3],x=cg.parse(y??""),b=cg.parse(v??""),w=g==="+"?x.add(b):x.subtract(b);if(w.isNaN())return lu;e=e.replace(X2,w.toString())}return e}var Q2=/\(([^()]*)\)/;function $ve(t){for(var e=t;e.includes("(");){var n=Q2.exec(e),r=hv(n,2),i=r[1];e=e.replace(Q2,Y6(i))}return e}function Lve(t){var e=t.replace(/\s+/g,"");return e=$ve(e),e=Y6(e),e}function Fve(t){try{return Lve(t)}catch{return lu}}function mw(t){var e=Fve(t.slice(5,-1));return e===lu?"":e}var Vve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bve=["dx","dy","angle","className","breakAll"];function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},US.apply(this,arguments)}function J2(t,e){if(t==null)return{};var n=Uve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z2(t,e){return qve(t)||Hve(t,e)||Wve(t,e)||zve()}function zve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wve(t,e){if(t){if(typeof t=="string")return ek(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function qve(t){if(Array.isArray(t))return t}var X6=/[ \f\n\r\t\v\u2028\u2029]+/,Q6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];vt(n)||(r?o=n.toString().split(""):o=n.toString().split(X6));var s=o.map(function(l){return{word:l,width:ih(l,i).width}}),a=r?0:ih("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Gve=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,d=Ae(s),f=a,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(U,H){var V=H.word,L=H.width,X=U[U.length-1];if(X&&(i==null||o||X.width+L+r<Number(i)))X.words.push(V),X.width+=L+r;else{var Y={words:[V],width:L};U.push(Y)}return U},[])},m=h(n),y=function(F){return F.reduce(function(U,H){return U.width>H.width?U:H})};if(!d)return m;for(var g="",v=function(F){var U=f.slice(0,F),H=Q6({breakAll:c,style:l,children:U+g}).wordsWithComputedWidth,V=h(H),L=V.length>s||y(V).width>Number(i);return[L,V]},x=0,b=f.length-1,w=0,A;x<=b&&w<=f.length-1;){var E=Math.floor((x+b)/2),C=E-1,_=v(C),T=Z2(_,2),N=T[0],k=T[1],j=v(E),R=Z2(j,1),O=R[0];if(!N&&!O&&(x=E+1),N&&O&&(b=E-1),!N&&O){A=k;break}w++}return A||m},tk=function(e){var n=vt(e)?[]:e.toString().split(X6);return[{words:n}]},Kve=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Hs.isSsr){var l,c,d=Q6({breakAll:s,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return tk(i);return Gve({breakAll:s,children:i,maxLines:a,style:o},l,c,n,r)}return tk(i)},nk="#808080",pv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,x=v===void 0?nk:v,b=J2(e,Vve),w=S.useMemo(function(){return Kve({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),A=b.dx,E=b.dy,C=b.angle,_=b.className,T=b.breakAll,N=J2(b,Bve);if(!ir(r)||!ir(o))return null;var k=r+(Ae(A)?A:0),j=o+(Ae(E)?E:0),R;switch(g){case"start":R=mw("calc(".concat(c,")"));break;case"middle":R=mw("calc(".concat((w.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:R=mw("calc(".concat(w.length-1," * -").concat(a,")"));break}var O=[];if(f){var $=w[0].width,F=b.width;O.push("scale(".concat((Ae(F)?F/$:1)/$,")"))}return C&&O.push("rotate(".concat(C,", ").concat(k,", ").concat(j,")")),O.length&&(N.transform=O.join(" ")),q.createElement("text",US({},It(N,!0),{x:k,y:j,className:At("recharts-text",_),textAnchor:m,fill:x.includes("url")?nk:x}),w.map(function(U,H){var V=U.words.join(T?"":" ");return q.createElement("tspan",{x:k,dy:H===0?R:a,key:"".concat(V,"-").concat(H)},V)}))};function Za(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aA(t){let e,n,r;t.length!==2?(e=Za,n=(a,l)=>Za(t(a),l),r=(a,l)=>t(a)-l):(e=t===Za||t===Yve?t:Xve,n=t,r=t);function i(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(a,l,c=0,d=a.length){const f=i(a,l,c,d-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function Xve(){return 0}function J6(t){return t===null?NaN:+t}function*Qve(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Jve=aA(Za),im=Jve.right;aA(J6).center;class rk extends Map{constructor(e,n=txe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ik(this,e))}has(e){return super.has(ik(this,e))}set(e,n){return super.set(Zve(this,e),n)}delete(e){return super.delete(exe(this,e))}}function ik({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Zve({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function exe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function txe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function nxe(t=Za){if(t===Za)return Z6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Z6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const rxe=Math.sqrt(50),ixe=Math.sqrt(10),oxe=Math.sqrt(2);function mv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=rxe?10:o>=ixe?5:o>=oxe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?mv(t,e,n*2):[a,l,c]}function zS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?mv(e,t,n):mv(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function WS(t,e,n){return e=+e,t=+t,n=+n,mv(t,e,n)[2]}function HS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?WS(e,t,n):WS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ok(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function sk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function eB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Z6:nxe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*f/l+h)),y=Math.min(r,Math.floor(e+(l-c)*f/l+h));eB(t,e,m,y,i)}const o=t[e];let s=n,a=r;for(vf(t,n,e),i(t[r],o)>0&&vf(t,n,r);s<a;){for(vf(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?vf(t,n,a):(++a,vf(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function vf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function sxe(t,e,n){if(t=Float64Array.from(Qve(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return sk(t);if(e>=1)return ok(t);var r,i=(r-1)*e,o=Math.floor(i),s=ok(eB(t,o).subarray(0,o+1)),a=sk(t.subarray(o+1));return s+(a-s)*(i-o)}}function axe(t,e,n=J6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function lxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function fo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qS=Symbol("implicit");function lA(){var t=new rk,e=[],n=[],r=qS;function i(o){let s=t.get(o);if(s===void 0){if(r!==qS)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new rk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return lA(e,n).unknown(r)},fo.apply(i,arguments),i}function ep(){var t=lA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,y=m?i:r,g=m?r:i;o=(g-y)/Math.max(1,h-l+c*2),a&&(o=Math.floor(o)),y+=(g-y-o*(h-l))*d,s=o*(1-l),a&&(y=Math.round(y),s=Math.round(s));var v=lxe(h).map(function(x){return y+o*x});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return ep(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},fo.apply(f(),arguments)}function tB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return tB(e())},t}function oh(){return tB(ep.apply(null,arguments).paddingInner(1))}function cA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function om(){}var tp=.7,gv=1/tp,Pu="\\s*([+-]?\\d+)\\s*",np="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cxe=/^#([0-9a-f]{3,8})$/,uxe=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),dxe=new RegExp(`^rgb\\(${gs},${gs},${gs}\\)$`),fxe=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${np}\\)$`),hxe=new RegExp(`^rgba\\(${gs},${gs},${gs},${np}\\)$`),pxe=new RegExp(`^hsl\\(${np},${gs},${gs}\\)$`),mxe=new RegExp(`^hsla\\(${np},${gs},${gs},${np}\\)$`),ak={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cA(om,rp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lk,formatHex:lk,formatHex8:gxe,formatHsl:yxe,formatRgb:ck,toString:ck});function lk(){return this.rgb().formatHex()}function gxe(){return this.rgb().formatHex8()}function yxe(){return rB(this).formatHsl()}function ck(){return this.rgb().formatRgb()}function rp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=cxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uk(e):n===3?new hi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ug(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ug(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uxe.exec(t))?new hi(e[1],e[2],e[3],1):(e=dxe.exec(t))?new hi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fxe.exec(t))?ug(e[1],e[2],e[3],e[4]):(e=hxe.exec(t))?ug(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pxe.exec(t))?hk(e[1],e[2]/100,e[3]/100,1):(e=mxe.exec(t))?hk(e[1],e[2]/100,e[3]/100,e[4]):ak.hasOwnProperty(t)?uk(ak[t]):t==="transparent"?new hi(NaN,NaN,NaN,0):null}function uk(t){return new hi(t>>16&255,t>>8&255,t&255,1)}function ug(t,e,n,r){return r<=0&&(t=e=n=NaN),new hi(t,e,n,r)}function vxe(t){return t instanceof om||(t=rp(t)),t?(t=t.rgb(),new hi(t.r,t.g,t.b,t.opacity)):new hi}function GS(t,e,n,r){return arguments.length===1?vxe(t):new hi(t,e,n,r??1)}function hi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cA(hi,GS,nB(om,{brighter(t){return t=t==null?gv:Math.pow(gv,t),new hi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tp:Math.pow(tp,t),new hi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hi(tc(this.r),tc(this.g),tc(this.b),yv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dk,formatHex:dk,formatHex8:xxe,formatRgb:fk,toString:fk}));function dk(){return`#${Ul(this.r)}${Ul(this.g)}${Ul(this.b)}`}function xxe(){return`#${Ul(this.r)}${Ul(this.g)}${Ul(this.b)}${Ul((isNaN(this.opacity)?1:this.opacity)*255)}`}function fk(){const t=yv(this.opacity);return`${t===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${t===1?")":`, ${t})`}`}function yv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ul(t){return t=tc(t),(t<16?"0":"")+t.toString(16)}function hk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Po(t,e,n,r)}function rB(t){if(t instanceof Po)return new Po(t.h,t.s,t.l,t.opacity);if(t instanceof om||(t=rp(t)),!t)return new Po;if(t instanceof Po)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Po(s,a,l,t.opacity)}function bxe(t,e,n,r){return arguments.length===1?rB(t):new Po(t,e,n,r??1)}function Po(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cA(Po,bxe,nB(om,{brighter(t){return t=t==null?gv:Math.pow(gv,t),new Po(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tp:Math.pow(tp,t),new Po(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new hi(gw(t>=240?t-240:t+120,i,r),gw(t,i,r),gw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Po(pk(this.h),dg(this.s),dg(this.l),yv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yv(this.opacity);return`${t===1?"hsl(":"hsla("}${pk(this.h)}, ${dg(this.s)*100}%, ${dg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pk(t){return t=(t||0)%360,t<0?t+360:t}function dg(t){return Math.max(0,Math.min(1,t||0))}function gw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const uA=t=>()=>t;function wxe(t,e){return function(n){return t+n*e}}function Sxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _xe(t){return(t=+t)==1?iB:function(e,n){return n-e?Sxe(e,n,t):uA(isNaN(e)?n:e)}}function iB(t,e){var n=e-t;return n?wxe(t,n):uA(isNaN(t)?e:t)}const mk=function t(e){var n=_xe(e);function r(i,o){var s=n((i=GS(i)).r,(o=GS(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=iB(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function Exe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Txe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pxe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Qd(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Axe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function vv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cxe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Qd(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var KS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yw=new RegExp(KS.source,"g");function Nxe(t){return function(){return t}}function jxe(t){return function(e){return t(e)+""}}function Ixe(t,e){var n=KS.lastIndex=yw.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=KS.exec(t))&&(i=yw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:vv(r,i)})),n=yw.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?jxe(l[0].x):Nxe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}function Qd(t,e){var n=typeof e,r;return e==null||n==="boolean"?uA(e):(n==="number"?vv:n==="string"?(r=rp(e))?(e=r,mk):Ixe:e instanceof rp?mk:e instanceof Date?Axe:Txe(e)?Exe:Array.isArray(e)?Pxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cxe:vv)(t,e)}function dA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kxe(t,e){e===void 0&&(e=t,t=Qd);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Oxe(t){return function(){return t}}function xv(t){return+t}var gk=[0,1];function ei(t){return t}function YS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Oxe(isNaN(e)?NaN:.5)}function Rxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Mxe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=YS(i,r),o=n(s,o)):(r=YS(r,i),o=n(o,s)),function(a){return o(r(a))}}function Dxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=YS(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=im(t,a,1,r)-1;return o[l](i[l](a))}}function sm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function S0(){var t=gk,e=gk,n=Qd,r,i,o,s=ei,a,l,c;function d(){var h=Math.min(t.length,e.length);return s!==ei&&(s=Rxe(t[0],t[h-1])),a=h>2?Dxe:Mxe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=a(e,t.map(r),vv)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,xv),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=dA,d()},f.clamp=function(h){return arguments.length?(s=h?!0:ei,d()):s!==ei},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function fA(){return S0()(ei,ei)}function $xe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ld(t){return t=bv(Math.abs(t)),t?t[1]:NaN}function Lxe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Fxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ip(t){if(!(e=Vxe.exec(t)))throw new Error("invalid format: "+t);var e;return new hA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ip.prototype=hA.prototype;function hA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var oB;function Uxe(t,e){var n=bv(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(oB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bv(t,Math.max(0,e+o-1))[0]}function yk(t,e){var n=bv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$xe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yk(t*100,e),r:yk,s:Uxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xk(t){return t}var bk=Array.prototype.map,wk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zxe(t){var e=t.grouping===void 0||t.thousands===void 0?xk:Lxe(bk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?xk:Fxe(bk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=ip(f);var h=f.fill,m=f.align,y=f.sign,g=f.symbol,v=f.zero,x=f.width,b=f.comma,w=f.precision,A=f.trim,E=f.type;E==="n"?(b=!0,E="g"):vk[E]||(w===void 0&&(w=12),A=!0,E="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var C=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=g==="$"?r:/[%p]/.test(E)?s:"",T=vk[E],N=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(j){var R=C,O=_,$,F,U;if(E==="c")O=T(j)+O,j="";else{j=+j;var H=j<0||1/j<0;if(j=isNaN(j)?l:T(Math.abs(j),w),A&&(j=Bxe(j)),H&&+j==0&&y!=="+"&&(H=!1),R=(H?y==="("?y:a:y==="-"||y==="("?"":y)+R,O=(E==="s"?wk[8+oB/3]:"")+O+(H&&y==="("?")":""),N){for($=-1,F=j.length;++$<F;)if(U=j.charCodeAt($),48>U||U>57){O=(U===46?i+j.slice($+1):j.slice($))+O,j=j.slice(0,$);break}}}b&&!v&&(j=e(j,1/0));var V=R.length+j.length+O.length,L=V<x?new Array(x-V+1).join(h):"";switch(b&&v&&(j=e(L+j,L.length?x-O.length:1/0),L=""),m){case"<":j=R+j+O+L;break;case"=":j=R+L+j+O;break;case"^":j=L.slice(0,V=L.length>>1)+R+j+O+L.slice(V);break;default:j=L+R+j+O;break}return o(j)}return k.toString=function(){return f+""},k}function d(f,h){var m=c((f=ip(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(ld(h)/3)))*3,g=Math.pow(10,-y),v=wk[8+y/3];return function(x){return m(g*x)+v}}return{format:c,formatPrefix:d}}var fg,pA,sB;Wxe({thousands:",",grouping:[3],currency:["$",""]});function Wxe(t){return fg=zxe(t),pA=fg.format,sB=fg.formatPrefix,fg}function Hxe(t){return Math.max(0,-ld(Math.abs(t)))}function qxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ld(e)/3)))*3-ld(Math.abs(t)))}function Gxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ld(e)-ld(t))+1}function aB(t,e,n,r){var i=HS(t,e,n),o;switch(r=ip(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=qxe(i,s))&&(r.precision=o),sB(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Gxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Hxe(i))&&(r.precision=o-(r.type==="%")*2);break}}return pA(r)}function xl(t){var e=t.domain;return t.ticks=function(n){var r=e();return zS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return aB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,d=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);d-- >0;){if(c=WS(s,a,n),c===l)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function wv(){var t=fA();return t.copy=function(){return sm(t,wv())},fo.apply(t,arguments),xl(t)}function lB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,xv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lB(t).unknown(e)},t=arguments.length?Array.from(t,xv):[0,1],xl(n)}function cB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Sk(t){return Math.log(t)}function _k(t){return Math.exp(t)}function Kxe(t){return-Math.log(-t)}function Yxe(t){return-Math.exp(-t)}function Xxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Qxe(t){return t===10?Xxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ek(t){return(e,n)=>-t(-e,n)}function mA(t){const e=t(Sk,_k),n=e.domain;let r=10,i,o;function s(){return i=Jxe(r),o=Qxe(r),n()[0]<0?(i=Ek(i),o=Ek(o),t(Kxe,Yxe)):t(Sk,_k),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),y,g;const v=a==null?10:+a;let x=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(y=1;y<r;++y)if(g=h<0?y/o(-h):y*o(h),!(g<c)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/o(-h):y*o(h),!(g<c)){if(g>d)break;x.push(g)}x.length*2<v&&(x=zS(c,d,v))}else x=zS(h,m,Math.min(m-h,v)).map(o);return f?x.reverse():x},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ip(l)).precision==null&&(l.trim=!0),l=pA(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(cB(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function uB(){const t=mA(S0()).domain([1,10]);return t.copy=()=>sm(t,uB()).base(t.base()),fo.apply(t,arguments),t}function Tk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Pk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gA(t){var e=1,n=t(Tk(e),Pk(e));return n.constant=function(r){return arguments.length?t(Tk(e=+r),Pk(e)):e},xl(n)}function dB(){var t=gA(S0());return t.copy=function(){return sm(t,dB()).constant(t.constant())},fo.apply(t,arguments)}function Ak(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function e0e(t){return t<0?-t*t:t*t}function yA(t){var e=t(ei,ei),n=1;function r(){return n===1?t(ei,ei):n===.5?t(Zxe,e0e):t(Ak(n),Ak(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xl(e)}function vA(){var t=yA(S0());return t.copy=function(){return sm(t,vA()).exponent(t.exponent())},fo.apply(t,arguments),t}function t0e(){return vA.apply(null,arguments).exponent(.5)}function Ck(t){return Math.sign(t)*t*t}function n0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fB(){var t=fA(),e=[0,1],n=!1,r;function i(o){var s=n0e(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Ck(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,xv)).map(Ck)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return fB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},fo.apply(i,arguments),xl(i)}function hB(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=axe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[im(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Za),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return hB().domain(t).range(e).unknown(r)},fo.apply(o,arguments)}function pB(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[im(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return pB().domain([t,e]).range(i).unknown(o)},fo.apply(xl(s),arguments)}function mB(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[im(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return mB().domain(t).range(e).unknown(n)},fo.apply(i,arguments)}const vw=new Date,xw=new Date;function sr(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>sr(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(vw.setTime(+o),xw.setTime(+s),t(vw),t(xw),Math.floor(n(vw,xw))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Sv=sr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?sr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Sv);Sv.range;const Vs=1e3,eo=Vs*60,Bs=eo*60,ra=Bs*24,xA=ra*7,Nk=ra*30,bw=ra*365,zl=sr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vs)},(t,e)=>(e-t)/Vs,t=>t.getUTCSeconds());zl.range;const bA=sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vs)},(t,e)=>{t.setTime(+t+e*eo)},(t,e)=>(e-t)/eo,t=>t.getMinutes());bA.range;const wA=sr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*eo)},(t,e)=>(e-t)/eo,t=>t.getUTCMinutes());wA.range;const SA=sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vs-t.getMinutes()*eo)},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getHours());SA.range;const _A=sr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getUTCHours());_A.range;const am=sr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*eo)/ra,t=>t.getDate()-1);am.range;const _0=sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>t.getUTCDate()-1);_0.range;const gB=sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>Math.floor(t/ra));gB.range;function jc(t){return sr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*eo)/xA)}const E0=jc(0),_v=jc(1),r0e=jc(2),i0e=jc(3),cd=jc(4),o0e=jc(5),s0e=jc(6);E0.range;_v.range;r0e.range;i0e.range;cd.range;o0e.range;s0e.range;function Ic(t){return sr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/xA)}const T0=Ic(0),Ev=Ic(1),a0e=Ic(2),l0e=Ic(3),ud=Ic(4),c0e=Ic(5),u0e=Ic(6);T0.range;Ev.range;a0e.range;l0e.range;ud.range;c0e.range;u0e.range;const EA=sr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());EA.range;const TA=sr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());TA.range;const ia=sr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ia.range;const oa=sr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oa.range;function yB(t,e,n,r,i,o){const s=[[zl,1,Vs],[zl,5,5*Vs],[zl,15,15*Vs],[zl,30,30*Vs],[o,1,eo],[o,5,5*eo],[o,15,15*eo],[o,30,30*eo],[i,1,Bs],[i,3,3*Bs],[i,6,6*Bs],[i,12,12*Bs],[r,1,ra],[r,2,2*ra],[n,1,xA],[e,1,Nk],[e,3,3*Nk],[t,1,bw]];function a(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),y=m?m.range(c,+d+1):[];return h?y.reverse():y}function l(c,d,f){const h=Math.abs(d-c)/f,m=aA(([,,v])=>v).right(s,h);if(m===s.length)return t.every(HS(c/bw,d/bw,f));if(m===0)return Sv.every(Math.max(HS(c,d,f),1));const[y,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return y.every(g)}return[a,l]}const[d0e,f0e]=yB(oa,TA,T0,gB,_A,wA),[h0e,p0e]=yB(ia,EA,E0,am,SA,bA);function ww(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function m0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=bf(i),d=wf(i),f=bf(o),h=wf(o),m=bf(s),y=wf(s),g=bf(a),v=wf(a),x=bf(l),b=wf(l),w={a:H,A:V,b:L,B:X,c:null,d:Mk,e:Mk,f:L0e,g:K0e,G:X0e,H:M0e,I:D0e,j:$0e,L:vB,m:F0e,M:V0e,p:Y,q:te,Q:Lk,s:Fk,S:B0e,u:U0e,U:z0e,V:W0e,w:H0e,W:q0e,x:null,X:null,y:G0e,Y:Y0e,Z:Q0e,"%":$k},A={a:ye,A:Ce,b:Ve,B:Ye,c:null,d:Dk,e:Dk,f:tbe,g:dbe,G:hbe,H:J0e,I:Z0e,j:ebe,L:bB,m:nbe,M:rbe,p:fe,q:Ee,Q:Lk,s:Fk,S:ibe,u:obe,U:sbe,V:abe,w:lbe,W:cbe,x:null,X:null,y:ube,Y:fbe,Z:pbe,"%":$k},E={a:k,A:j,b:R,B:O,c:$,d:Ok,e:Ok,f:I0e,g:kk,G:Ik,H:Rk,I:Rk,j:A0e,L:j0e,m:P0e,M:C0e,p:N,q:T0e,Q:O0e,s:R0e,S:N0e,u:b0e,U:w0e,V:S0e,w:x0e,W:_0e,x:F,X:U,y:kk,Y:Ik,Z:E0e,"%":k0e};w.x=C(n,w),w.X=C(r,w),w.c=C(e,w),A.x=C(n,A),A.X=C(r,A),A.c=C(e,A);function C(re,ue){return function(ie){var z=[],he=-1,xe=0,Ge=re.length,je,Te,mt;for(ie instanceof Date||(ie=new Date(+ie));++he<Ge;)re.charCodeAt(he)===37&&(z.push(re.slice(xe,he)),(Te=jk[je=re.charAt(++he)])!=null?je=re.charAt(++he):Te=je==="e"?" ":"0",(mt=ue[je])&&(je=mt(ie,Te)),z.push(je),xe=he+1);return z.push(re.slice(xe,he)),z.join("")}}function _(re,ue){return function(ie){var z=xf(1900,void 0,1),he=T(z,re,ie+="",0),xe,Ge;if(he!=ie.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ue&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(xe=Sw(xf(z.y,0,1)),Ge=xe.getUTCDay(),xe=Ge>4||Ge===0?Ev.ceil(xe):Ev(xe),xe=_0.offset(xe,(z.V-1)*7),z.y=xe.getUTCFullYear(),z.m=xe.getUTCMonth(),z.d=xe.getUTCDate()+(z.w+6)%7):(xe=ww(xf(z.y,0,1)),Ge=xe.getDay(),xe=Ge>4||Ge===0?_v.ceil(xe):_v(xe),xe=am.offset(xe,(z.V-1)*7),z.y=xe.getFullYear(),z.m=xe.getMonth(),z.d=xe.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Ge="Z"in z?Sw(xf(z.y,0,1)).getUTCDay():ww(xf(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Ge+5)%7:z.w+z.U*7-(Ge+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Sw(z)):ww(z)}}function T(re,ue,ie,z){for(var he=0,xe=ue.length,Ge=ie.length,je,Te;he<xe;){if(z>=Ge)return-1;if(je=ue.charCodeAt(he++),je===37){if(je=ue.charAt(he++),Te=E[je in jk?ue.charAt(he++):je],!Te||(z=Te(re,ie,z))<0)return-1}else if(je!=ie.charCodeAt(z++))return-1}return z}function N(re,ue,ie){var z=c.exec(ue.slice(ie));return z?(re.p=d.get(z[0].toLowerCase()),ie+z[0].length):-1}function k(re,ue,ie){var z=m.exec(ue.slice(ie));return z?(re.w=y.get(z[0].toLowerCase()),ie+z[0].length):-1}function j(re,ue,ie){var z=f.exec(ue.slice(ie));return z?(re.w=h.get(z[0].toLowerCase()),ie+z[0].length):-1}function R(re,ue,ie){var z=x.exec(ue.slice(ie));return z?(re.m=b.get(z[0].toLowerCase()),ie+z[0].length):-1}function O(re,ue,ie){var z=g.exec(ue.slice(ie));return z?(re.m=v.get(z[0].toLowerCase()),ie+z[0].length):-1}function $(re,ue,ie){return T(re,e,ue,ie)}function F(re,ue,ie){return T(re,n,ue,ie)}function U(re,ue,ie){return T(re,r,ue,ie)}function H(re){return s[re.getDay()]}function V(re){return o[re.getDay()]}function L(re){return l[re.getMonth()]}function X(re){return a[re.getMonth()]}function Y(re){return i[+(re.getHours()>=12)]}function te(re){return 1+~~(re.getMonth()/3)}function ye(re){return s[re.getUTCDay()]}function Ce(re){return o[re.getUTCDay()]}function Ve(re){return l[re.getUTCMonth()]}function Ye(re){return a[re.getUTCMonth()]}function fe(re){return i[+(re.getUTCHours()>=12)]}function Ee(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ue=C(re+="",w);return ue.toString=function(){return re},ue},parse:function(re){var ue=_(re+="",!1);return ue.toString=function(){return re},ue},utcFormat:function(re){var ue=C(re+="",A);return ue.toString=function(){return re},ue},utcParse:function(re){var ue=_(re+="",!0);return ue.toString=function(){return re},ue}}}var jk={"-":"",_:" ",0:"0"},wr=/^\s*\d+/,g0e=/^%/,y0e=/[\\^$*+?|[\]().{}]/g;function Mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function v0e(t){return t.replace(y0e,"\\$&")}function bf(t){return new RegExp("^(?:"+t.map(v0e).join("|")+")","i")}function wf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function x0e(t,e,n){var r=wr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function b0e(t,e,n){var r=wr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function w0e(t,e,n){var r=wr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function S0e(t,e,n){var r=wr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _0e(t,e,n){var r=wr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ik(t,e,n){var r=wr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function kk(t,e,n){var r=wr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function E0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function T0e(t,e,n){var r=wr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function P0e(t,e,n){var r=wr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ok(t,e,n){var r=wr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function A0e(t,e,n){var r=wr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Rk(t,e,n){var r=wr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function C0e(t,e,n){var r=wr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function N0e(t,e,n){var r=wr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function j0e(t,e,n){var r=wr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function I0e(t,e,n){var r=wr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function k0e(t,e,n){var r=g0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function O0e(t,e,n){var r=wr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function R0e(t,e,n){var r=wr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Mk(t,e){return Mt(t.getDate(),e,2)}function M0e(t,e){return Mt(t.getHours(),e,2)}function D0e(t,e){return Mt(t.getHours()%12||12,e,2)}function $0e(t,e){return Mt(1+am.count(ia(t),t),e,3)}function vB(t,e){return Mt(t.getMilliseconds(),e,3)}function L0e(t,e){return vB(t,e)+"000"}function F0e(t,e){return Mt(t.getMonth()+1,e,2)}function V0e(t,e){return Mt(t.getMinutes(),e,2)}function B0e(t,e){return Mt(t.getSeconds(),e,2)}function U0e(t){var e=t.getDay();return e===0?7:e}function z0e(t,e){return Mt(E0.count(ia(t)-1,t),e,2)}function xB(t){var e=t.getDay();return e>=4||e===0?cd(t):cd.ceil(t)}function W0e(t,e){return t=xB(t),Mt(cd.count(ia(t),t)+(ia(t).getDay()===4),e,2)}function H0e(t){return t.getDay()}function q0e(t,e){return Mt(_v.count(ia(t)-1,t),e,2)}function G0e(t,e){return Mt(t.getFullYear()%100,e,2)}function K0e(t,e){return t=xB(t),Mt(t.getFullYear()%100,e,2)}function Y0e(t,e){return Mt(t.getFullYear()%1e4,e,4)}function X0e(t,e){var n=t.getDay();return t=n>=4||n===0?cd(t):cd.ceil(t),Mt(t.getFullYear()%1e4,e,4)}function Q0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Mt(e/60|0,"0",2)+Mt(e%60,"0",2)}function Dk(t,e){return Mt(t.getUTCDate(),e,2)}function J0e(t,e){return Mt(t.getUTCHours(),e,2)}function Z0e(t,e){return Mt(t.getUTCHours()%12||12,e,2)}function ebe(t,e){return Mt(1+_0.count(oa(t),t),e,3)}function bB(t,e){return Mt(t.getUTCMilliseconds(),e,3)}function tbe(t,e){return bB(t,e)+"000"}function nbe(t,e){return Mt(t.getUTCMonth()+1,e,2)}function rbe(t,e){return Mt(t.getUTCMinutes(),e,2)}function ibe(t,e){return Mt(t.getUTCSeconds(),e,2)}function obe(t){var e=t.getUTCDay();return e===0?7:e}function sbe(t,e){return Mt(T0.count(oa(t)-1,t),e,2)}function wB(t){var e=t.getUTCDay();return e>=4||e===0?ud(t):ud.ceil(t)}function abe(t,e){return t=wB(t),Mt(ud.count(oa(t),t)+(oa(t).getUTCDay()===4),e,2)}function lbe(t){return t.getUTCDay()}function cbe(t,e){return Mt(Ev.count(oa(t)-1,t),e,2)}function ube(t,e){return Mt(t.getUTCFullYear()%100,e,2)}function dbe(t,e){return t=wB(t),Mt(t.getUTCFullYear()%100,e,2)}function fbe(t,e){return Mt(t.getUTCFullYear()%1e4,e,4)}function hbe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ud(t):ud.ceil(t),Mt(t.getUTCFullYear()%1e4,e,4)}function pbe(){return"+0000"}function $k(){return"%"}function Lk(t){return+t}function Fk(t){return Math.floor(+t/1e3)}var Bc,SB,_B;mbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mbe(t){return Bc=m0e(t),SB=Bc.format,Bc.parse,_B=Bc.utcFormat,Bc.utcParse,Bc}function gbe(t){return new Date(t)}function ybe(t){return t instanceof Date?+t:+new Date(+t)}function PA(t,e,n,r,i,o,s,a,l,c){var d=fA(),f=d.invert,h=d.domain,m=c(".%L"),y=c(":%S"),g=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),b=c("%b %d"),w=c("%B"),A=c("%Y");function E(C){return(l(C)<C?m:a(C)<C?y:s(C)<C?g:o(C)<C?v:r(C)<C?i(C)<C?x:b:n(C)<C?w:A)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?h(Array.from(C,ybe)):h().map(gbe)},d.ticks=function(C){var _=h();return t(_[0],_[_.length-1],C??10)},d.tickFormat=function(C,_){return _==null?E:c(_)},d.nice=function(C){var _=h();return(!C||typeof C.range!="function")&&(C=e(_[0],_[_.length-1],C??10)),C?h(cB(_,C)):d},d.copy=function(){return sm(d,PA(t,e,n,r,i,o,s,a,l,c))},d}function vbe(){return fo.apply(PA(h0e,p0e,ia,EA,E0,am,SA,bA,zl,SB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xbe(){return fo.apply(PA(d0e,f0e,oa,TA,T0,_0,_A,wA,zl,_B).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function P0(){var t=0,e=1,n,r,i,o,s=ei,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,s=f(m,y),c):[s(0),s(1)]}}return c.range=d(Qd),c.rangeRound=d(dA),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function bl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function EB(){var t=xl(P0()(ei));return t.copy=function(){return bl(t,EB())},fa.apply(t,arguments)}function TB(){var t=mA(P0()).domain([1,10]);return t.copy=function(){return bl(t,TB()).base(t.base())},fa.apply(t,arguments)}function PB(){var t=gA(P0());return t.copy=function(){return bl(t,PB()).constant(t.constant())},fa.apply(t,arguments)}function AA(){var t=yA(P0());return t.copy=function(){return bl(t,AA()).exponent(t.exponent())},fa.apply(t,arguments)}function bbe(){return AA.apply(null,arguments).exponent(.5)}function AB(){var t=[],e=ei;function n(r){if(r!=null&&!isNaN(r=+r))return e((im(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Za),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>sxe(t,o/r))},n.copy=function(){return AB(e).domain(t)},fa.apply(n,arguments)}function A0(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,c=ei,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?a:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),s=d(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function y(g){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,c=kxe(g,[x,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=y(Qd),m.rangeRound=y(dA),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m}}function CB(){var t=xl(A0()(ei));return t.copy=function(){return bl(t,CB())},fa.apply(t,arguments)}function NB(){var t=mA(A0()).domain([.1,1,10]);return t.copy=function(){return bl(t,NB()).base(t.base())},fa.apply(t,arguments)}function jB(){var t=gA(A0());return t.copy=function(){return bl(t,jB()).constant(t.constant())},fa.apply(t,arguments)}function CA(){var t=yA(A0());return t.copy=function(){return bl(t,CA()).exponent(t.exponent())},fa.apply(t,arguments)}function wbe(){return CA.apply(null,arguments).exponent(.5)}const Vk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ep,scaleDiverging:CB,scaleDivergingLog:NB,scaleDivergingPow:CA,scaleDivergingSqrt:wbe,scaleDivergingSymlog:jB,scaleIdentity:lB,scaleImplicit:qS,scaleLinear:wv,scaleLog:uB,scaleOrdinal:lA,scalePoint:oh,scalePow:vA,scaleQuantile:hB,scaleQuantize:pB,scaleRadial:fB,scaleSequential:EB,scaleSequentialLog:TB,scaleSequentialPow:AA,scaleSequentialQuantile:AB,scaleSequentialSqrt:bbe,scaleSequentialSymlog:PB,scaleSqrt:t0e,scaleSymlog:dB,scaleThreshold:mB,scaleTime:vbe,scaleUtc:xbe,tickFormat:aB},Symbol.toStringTag,{value:"Module"}));var Sbe=Ud;function _be(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Sbe(s):n(s,a)))var a=s,l=o}return l}var IB=_be;function Ebe(t,e){return t>e}var Tbe=Ebe,Pbe=IB,Abe=Tbe,Cbe=Yd;function Nbe(t){return t&&t.length?Pbe(t,Cbe,Abe):void 0}var jbe=Nbe;const C0=nn(jbe);function Ibe(t,e){return t<e}var kbe=Ibe,Obe=IB,Rbe=kbe,Mbe=Yd;function Dbe(t){return t&&t.length?Obe(t,Mbe,Rbe):void 0}var $be=Dbe;const N0=nn($be);var Lbe=BP,Fbe=Xd,Vbe=F6,Bbe=yi;function Ube(t,e){var n=Bbe(t)?Lbe:Vbe;return n(t,Fbe(e))}var zbe=Ube,Wbe=$6,Hbe=zbe;function qbe(t,e){return Wbe(Hbe(t,e),1)}var Gbe=qbe;const Kbe=nn(Gbe);var Ybe=rA;function Xbe(t,e){return Ybe(t,e)}var Qbe=Xbe;const j0=nn(Qbe);var Jd=1e9,Jbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jA,vn=!0,ao="[DecimalError] ",nc=ao+"Invalid argument: ",NA=ao+"Exponent out of range: ",Zd=Math.floor,Ol=Math.pow,Zbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ii,mr=1e7,dn=7,kB=9007199254740991,Tv=Zd(kB/dn),$e={};$e.absoluteValue=$e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$e.comparedTo=$e.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*dn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(t){return qs(this,new this.constructor(t))};$e.dividedToIntegerBy=$e.idiv=function(t){var e=this,n=e.constructor;return tn(qs(e,new n(t),0,1),n.precision)};$e.equals=$e.eq=function(t){return!this.cmp(t)};$e.exponent=function(){return Kn(this)};$e.greaterThan=$e.gt=function(t){return this.cmp(t)>0};$e.greaterThanOrEqualTo=$e.gte=function(t){return this.cmp(t)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(t){return this.cmp(t)<0};$e.lessThanOrEqualTo=$e.lte=function(t){return this.cmp(t)<1};$e.logarithm=$e.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ii))throw Error(ao+"NaN");if(n.s<1)throw Error(ao+(n.s?"NaN":"-Infinity"));return n.eq(Ii)?new r(0):(vn=!1,e=qs(op(n,o),op(t,o),o),vn=!0,tn(e,i))};$e.minus=$e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?MB(e,t):OB(e,(t.s=-t.s,t))};$e.modulo=$e.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ao+"NaN");return n.s?(vn=!1,e=qs(n,t,0,1).times(t),vn=!0,n.minus(e)):tn(new r(n),i)};$e.naturalExponential=$e.exp=function(){return RB(this)};$e.naturalLogarithm=$e.ln=function(){return op(this)};$e.negated=$e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$e.plus=$e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OB(e,t):MB(e,(t.s=-t.s,t))};$e.precision=$e.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nc+t);if(e=Kn(i)+1,r=i.d.length-1,n=r*dn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};$e.squareRoot=$e.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(ao+"NaN")}for(t=Kn(a),vn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=os(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(qs(a,o,s+2)).times(.5),os(o.d).slice(0,s)===(e=os(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(tn(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return vn=!0,tn(r,n)};$e.times=$e.mul=function(t){var e,n,r,i,o,s,a,l,c,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=m.length,l<c&&(o=h,h=m,m=o,s=l,l=c,c=s),o=[],s=l+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+m[r]*h[i-r-1]+e,o[i--]=a%mr|0,e=a/mr|0;o[i]=(o[i]+e)%mr|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,vn?tn(t,f.precision):t};$e.toDecimalPlaces=$e.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ss(t,0,Jd),e===void 0?e=r.rounding:Ss(e,0,8),tn(n,t+Kn(n)+1,e))};$e.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xc(r,!0):(Ss(t,0,Jd),e===void 0?e=i.rounding:Ss(e,0,8),r=tn(new i(r),t+1,e),n=xc(r,!0,t+1)),n};$e.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?xc(i):(Ss(t,0,Jd),e===void 0?e=o.rounding:Ss(e,0,8),r=tn(new o(i),t+Kn(i)+1,e),n=xc(r.abs(),!1,t+Kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var t=this,e=t.constructor;return tn(new e(t),Kn(t)+1,e.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Ii);if(a=new l(a),!a.s){if(t.s<1)throw Error(ao+"Infinity");return a}if(a.eq(Ii))return a;if(r=l.precision,t.eq(Ii))return tn(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=d<0?-d:d)<=kB){for(i=new l(Ii),e=Math.ceil(r/dn+4),vn=!1;n%2&&(i=i.times(a),Uk(i.d,e)),n=Zd(n/2),n!==0;)a=a.times(a),Uk(a.d,e);return vn=!0,t.s<0?new l(Ii).div(i):tn(i,r)}}else if(o<0)throw Error(ao+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,vn=!1,i=t.times(op(a,r+c)),vn=!0,i=RB(i),i.s=o,i};$e.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Kn(i),r=xc(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ss(t,1,Jd),e===void 0?e=o.rounding:Ss(e,0,8),i=tn(new o(i),t,e),n=Kn(i),r=xc(i,t<=n||n<=o.toExpNeg,t)),r};$e.toSignificantDigits=$e.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ss(t,1,Jd),e===void 0?e=r.rounding:Ss(e,0,8)),tn(new r(n),t,e)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Kn(t),n=t.constructor;return xc(t,e<=n.toExpNeg||e>=n.toExpPos)};function OB(t,e){var n,r,i,o,s,a,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),vn?tn(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=c.length):(r=c,i=s,a=l.length),s=Math.ceil(f/dn),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/mr|0,l[o]%=mr;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,vn?tn(e,f):e}function Ss(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nc+t)}function os(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=dn-r.length,n&&(o+=Ea(n)),o+=r;s=t[e],r=s+"",n=dn-r.length,n&&(o+=Ea(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var qs=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%mr|0,s=o/mr|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*mr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,c,d,f,h,m,y,g,v,x,b,w,A,E,C,_,T,N=r.constructor,k=r.s==i.s?1:-1,j=r.d,R=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(ao+"Division by zero");for(l=r.e-i.e,_=R.length,E=j.length,m=new N(k),y=m.d=[],c=0;R[c]==(j[c]||0);)++c;if(R[c]>(j[c]||0)&&--l,o==null?b=o=N.precision:s?b=o+(Kn(r)-Kn(i))+1:b=o,b<0)return new N(0);if(b=b/dn+2|0,c=0,_==1)for(d=0,R=R[0],b++;(c<E||d)&&b--;c++)w=d*mr+(j[c]||0),y[c]=w/R|0,d=w%R|0;else{for(d=mr/(R[0]+1)|0,d>1&&(R=t(R,d),j=t(j,d),_=R.length,E=j.length),A=_,g=j.slice(0,_),v=g.length;v<_;)g[v++]=0;T=R.slice(),T.unshift(0),C=R[0],R[1]>=mr/2&&++C;do d=0,a=e(R,g,_,v),a<0?(x=g[0],_!=v&&(x=x*mr+(g[1]||0)),d=x/C|0,d>1?(d>=mr&&(d=mr-1),f=t(R,d),h=f.length,v=g.length,a=e(f,g,h,v),a==1&&(d--,n(f,_<h?T:R,h))):(d==0&&(a=d=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),a==-1&&(v=g.length,a=e(R,g,_,v),a<1&&(d++,n(g,_<v?T:R,v))),v=g.length):a===0&&(d++,g=[0]),y[c++]=d,a&&g[0]?g[v++]=j[A]||0:(g=[j[A]],v=1);while((A++<E||g[0]!==void 0)&&b--)}return y[0]||y.shift(),m.e=l,tn(m,s?o+Kn(m)+1:o)}}();function RB(t,e){var n,r,i,o,s,a,l=0,c=0,d=t.constructor,f=d.precision;if(Kn(t)>16)throw Error(NA+Kn(t));if(!t.s)return new d(Ii);for(e==null?(vn=!1,a=f):a=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Ol(2,c))/Math.LN10*2+5|0,a+=r,n=i=o=new d(Ii),d.precision=a;;){if(i=tn(i.times(t),a),n=n.times(++l),s=o.plus(qs(i,n,a)),os(s.d).slice(0,a)===os(o.d).slice(0,a)){for(;c--;)o=tn(o.times(o),a);return d.precision=f,e==null?(vn=!0,tn(o,f)):o}o=s}}function Kn(t){for(var e=t.e*dn,n=t.d[0];n>=10;n/=10)e++;return e}function _w(t,e,n){if(e>t.LN10.sd())throw vn=!0,n&&(t.precision=n),Error(ao+"LN10 precision limit exceeded");return tn(new t(t.LN10),e)}function Ea(t){for(var e="";t--;)e+="0";return e}function op(t,e){var n,r,i,o,s,a,l,c,d,f=1,h=10,m=t,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(ao+(m.s?"NaN":"-Infinity"));if(m.eq(Ii))return new g(0);if(e==null?(vn=!1,c=v):c=e,m.eq(10))return e==null&&(vn=!0),_w(g,c);if(c+=h,g.precision=c,n=os(y),r=n.charAt(0),o=Kn(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=os(m.d),r=n.charAt(0),f++;o=Kn(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=_w(g,c+2,v).times(o+""),m=op(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=v,e==null?(vn=!0,tn(m,v)):m;for(a=s=m=qs(m.minus(Ii),m.plus(Ii),c),d=tn(m.times(m),c),i=3;;){if(s=tn(s.times(d),c),l=a.plus(qs(s,new g(i),c)),os(l.d).slice(0,c)===os(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(_w(g,c+2,v).times(o+""))),a=qs(a,new g(f),c),g.precision=v,e==null?(vn=!0,tn(a,v)):a;a=l,i+=2}}function Bk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Zd(n/dn),t.d=[],r=(n+1)%dn,n<0&&(r+=dn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=dn;r<i;)t.d.push(+e.slice(r,r+=dn));e=e.slice(r),r=dn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),vn&&(t.e>Tv||t.e<-Tv))throw Error(NA+n)}else t.s=0,t.e=0,t.d=[0];return t}function tn(t,e,n){var r,i,o,s,a,l,c,d,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=dn,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/dn),o=f.length,d>=o)return t;for(c=o=f[d],s=1;o>=10;o/=10)s++;r%=dn,i=r-dn+s}if(n!==void 0&&(o=Ol(10,s-i-1),a=c/o%10|0,l=e<0||f[d+1]!==void 0||c%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/Ol(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Kn(t),f.length=1,e=e-o-1,f[0]=Ol(10,(dn-e%dn)%dn),t.e=Zd(-e/dn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Ol(10,dn-r),f[d]=i>0?(c/Ol(10,s-i)%Ol(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==mr&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=mr)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(vn&&(t.e>Tv||t.e<-Tv))throw Error(NA+Kn(t));return t}function MB(t,e){var n,r,i,o,s,a,l,c,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),vn?tn(e,m):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,a=f.length):(n=f,r=c,a=l.length),i=Math.max(Math.ceil(m/dn),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=mr-1;--l[o],l[i]+=mr}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,vn?tn(e,m):e):new h(0)}function xc(t,e,n){var r,i=Kn(t),o=os(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ea(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ea(-i-1)+o,n&&(r=n-s)>0&&(o+=Ea(r))):i>=s?(o+=Ea(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ea(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ea(r))),t.s<0?"-"+o:o}function Uk(t,e){if(t.length>e)return t.length=e,!0}function DB(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(nc+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Bk(s,o.toString())}else if(typeof o!="string")throw Error(nc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Zbe.test(o))Bk(s,o);else throw Error(nc+o)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=DB,i.config=i.set=ewe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ewe(t){if(!t||typeof t!="object")throw Error(ao+"Object expected");var e,n,r,i=["precision",1,Jd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Zd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(nc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nc+n+": "+r);return this}var jA=DB(Jbe);Ii=new jA(1);const Xt=jA;function twe(t){return owe(t)||iwe(t)||rwe(t)||nwe()}function nwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rwe(t,e){if(t){if(typeof t=="string")return XS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XS(t,e)}}function iwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function owe(t){if(Array.isArray(t))return XS(t)}function XS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var swe=function(e){return e},$B={"@@functional/placeholder":!0},LB=function(e){return e===$B},zk=function(e){return function n(){return arguments.length===0||arguments.length===1&&LB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},awe=function t(e,n){return e===1?n:zk(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==$B}).length;return s>=e?n.apply(void 0,i):t(e-s,zk(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=i.map(function(f){return LB(f)?l.shift():f});return n.apply(void 0,twe(d).concat(l))}))})},I0=function(e){return awe(e.length,e)},QS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},lwe=I0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),cwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return swe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},JS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},FB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function uwe(t){var e;return t===0?e=1:e=Math.floor(new Xt(t).abs().log(10).toNumber())+1,e}function dwe(t,e,n){for(var r=new Xt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var fwe=I0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),hwe=I0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),pwe=I0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const k0={rangeStep:dwe,getDigitCount:uwe,interpolateNumber:fwe,uninterpolateNumber:hwe,uninterpolateTruncation:pwe};function ZS(t){return ywe(t)||gwe(t)||VB(t)||mwe()}function mwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ywe(t){if(Array.isArray(t))return e_(t)}function sp(t,e){return bwe(t)||xwe(t,e)||VB(t,e)||vwe()}function vwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VB(t,e){if(t){if(typeof t=="string")return e_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e_(t,e)}}function e_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function bwe(t){if(Array.isArray(t))return t}function BB(t){var e=sp(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function UB(t,e,n){if(t.lte(0))return new Xt(0);var r=k0.getDigitCount(t.toNumber()),i=new Xt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Xt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Xt(Math.ceil(l))}function wwe(t,e,n){var r=1,i=new Xt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Xt(10).pow(k0.getDigitCount(t)-1),i=new Xt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Xt(Math.floor(t)))}else t===0?i=new Xt(Math.floor((e-1)/2)):n||(i=new Xt(Math.floor(t)));var s=Math.floor((e-1)/2),a=cwe(lwe(function(l){return i.add(new Xt(l-s).mul(r)).toNumber()}),QS);return a(0,e)}function zB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Xt(0),tickMin:new Xt(0),tickMax:new Xt(0)};var o=UB(new Xt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Xt(0):(s=new Xt(t).add(e).div(2),s=s.sub(new Xt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Xt(e).sub(s).div(o).toNumber()),c=a+l+1;return c>n?zB(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:o,tickMin:s.sub(new Xt(a).mul(o)),tickMax:s.add(new Xt(l).mul(o))})}function Swe(t){var e=sp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=BB([n,r]),l=sp(a,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(ZS(QS(0,i-1).map(function(){return 1/0}))):[].concat(ZS(QS(0,i-1).map(function(){return-1/0})),[d]);return n>r?JS(f):f}if(c===d)return wwe(c,i,o);var h=zB(c,d,s,o),m=h.step,y=h.tickMin,g=h.tickMax,v=k0.rangeStep(y,g.add(new Xt(.1).mul(m)),m);return n>r?JS(v):v}function _we(t,e){var n=sp(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=BB([r,i]),a=sp(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=UB(new Xt(c).sub(l).div(d-1),o,0),h=[].concat(ZS(k0.rangeStep(new Xt(l),new Xt(c).sub(new Xt(.99).mul(f)),f)),[c]);return r>i?JS(h):h}var Ewe=FB(Swe),Twe=FB(_we),Pwe="Invariant failed";function bc(t,e){throw new Error(Pwe)}var Awe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function Cwe(t,e){return kwe(t)||Iwe(t,e)||jwe(t,e)||Nwe()}function Nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jwe(t,e){if(t){if(typeof t=="string")return Wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wk(t,e)}}function Wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function kwe(t){if(Array.isArray(t))return t}function Owe(t,e){if(t==null)return{};var n=Rwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qB(r.key),r)}}function $we(t,e,n){return e&&Dwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lwe(t,e,n){return e=Av(e),Fwe(t,WB()?Reflect.construct(e,n||[],Av(t).constructor):e.apply(t,n))}function Fwe(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vwe(t)}function Vwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WB=function(){return!!t})()}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(t)}function Bwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t_(t,e)}function HB(t,e,n){return e=qB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qB(t){var e=Uwe(t,"string");return dd(e)=="symbol"?e:e+""}function Uwe(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lm=function(t){function e(){return Mwe(this,e),Lwe(this,e,arguments)}return Bwe(e,t),$we(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Owe(r,Awe),m=It(h,!1);this.props.direction==="x"&&d.type!=="number"&&bc();var y=l.map(function(g){var v=c(g,a),x=v.x,b=v.y,w=v.value,A=v.errorVal;if(!A)return null;var E=[],C,_;if(Array.isArray(A)){var T=Cwe(A,2);C=T[0],_=T[1]}else C=_=A;if(o==="vertical"){var N=d.scale,k=b+i,j=k+s,R=k-s,O=N(w-C),$=N(w+_);E.push({x1:$,y1:j,x2:$,y2:R}),E.push({x1:O,y1:k,x2:$,y2:k}),E.push({x1:O,y1:j,x2:O,y2:R})}else if(o==="horizontal"){var F=f.scale,U=x+i,H=U-s,V=U+s,L=F(w-C),X=F(w+_);E.push({x1:H,y1:X,x2:V,y2:X}),E.push({x1:U,y1:L,x2:U,y2:X}),E.push({x1:H,y1:L,x2:V,y2:L})}return q.createElement(Ln,Pv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},m),E.map(function(Y){return q.createElement("line",Pv({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return q.createElement(Ln,{className:"recharts-errorBars"},y)}}])}(q.Component);HB(lm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});HB(lm,"displayName","ErrorBar");function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){zwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zwe(t,e,n){return e=Wwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wwe(t){var e=Hwe(t,"string");return ap(e)=="symbol"?e:e+""}function Hwe(t,e){if(ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GB=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Ni(n,Tu);if(!s)return null;var a=Tu.defaultProps,l=a!==void 0?Al(Al({},a),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Al(Al({},h),f.props):{},y=m.dataKey,g=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:y,type:l.iconType||v||"square",color:IA(f),value:g||y,payload:m}}),Al(Al(Al({},l),Tu.getWithHeight(s,i)),{},{payload:c,item:s})};function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function qk(t){return Ywe(t)||Kwe(t)||Gwe(t)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gwe(t,e){if(t){if(typeof t=="string")return n_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(t,e)}}function Kwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ywe(t){if(Array.isArray(t))return n_(t)}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){Au(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Au(t,e,n){return e=Xwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xwe(t){var e=Qwe(t,"string");return lp(e)=="symbol"?e:e+""}function Qwe(t,e){if(lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Di(t,e,n){return vt(t)||vt(e)?n:ir(e)?no(t,e,n):_t(e)?e(t):n}function sh(t,e,n,r){var i=Kbe(t,function(a){return Di(a,e)});if(n==="number"){var o=i.filter(function(a){return Ae(a)||parseFloat(a)});return o.length?[N0(o),C0(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!vt(a)}):i;return s.map(function(a){return ir(a)||a instanceof Date?a:""})}var Jwe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var d=c>0?i[c-1].coordinate:i[a-1].coordinate,f=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(No(f-d)!==No(h-f)){var y=[];if(No(h-f)===No(l[1]-l[0])){m=h;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+l[1]-l[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>x[0]&&e<=x[1]||e>=y[0]&&e<=y[1]){s=i[c].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(e>(b+f)/2&&e<=(w+f)/2){s=i[c].index;break}}}else for(var A=0;A<a;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){s=r[A].index;break}return s},IA=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Zwe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var d=o[a[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],g=y.items,v=y.cateAxisId,x=g.filter(function(_){return Ws(_.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?In(In({},b),x[0].props):x[0].props,A=w.barSize,E=w[v];s[E]||(s[E]=[]);var C=vt(A)?n:A;s[E].push({item:x[0],stackList:x.slice(1),barSize:vt(C)?void 0:vc(C,r,0)})}}return s},e1e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=vc(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/l,y=s.reduce(function(A,E){return A+E.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&m>0&&(h=!0,m*=.9,y=l*m);var g=(i-y)/2>>0,v={offset:g-c,size:0};d=s.reduce(function(A,E){var C={item:E.item,position:{offset:v.offset+v.size+c,size:h?m:E.barSize}},_=[].concat(qk(A),[C]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:v})}),_},f)}else{var x=vc(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var b=(i-2*x-(l-1)*c)/l;b>1&&(b>>=0);var w=a===+a?Math.min(b,a):b;d=s.reduce(function(A,E,C){var _=[].concat(qk(A),[{item:E.item,position:{offset:x+(b+c)*C+(b-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:_[_.length-1].position})}),_},f)}return d},t1e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),c=GB({children:o,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,m=c.align,y=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&Ae(e[m]))return In(In({},e),{},Au({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&Ae(e[y]))return In(In({},e),{},Au({},y,e[y]+(h||0)))}return e},n1e=function(e,n,r){return vt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},KB=function(e,n,r,i,o){var s=n.props.children,a=ro(s,lm).filter(function(c){return n1e(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=Di(d,r);if(vt(f))return c;var h=Array.isArray(f)?[N0(f),C0(f)]:[f,f],m=l.reduce(function(y,g){var v=Di(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},r1e=function(e,n,r,i,o){var s=n.map(function(a){return KB(e,a,r,o,i)}).filter(function(a){return!vt(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},YB=function(e,n,r,i,o){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&KB(e,l,c,i)||sh(e,c,r,o)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)a[c[d]]||(a[c[d]]=!0,l.push(c[d]));return l},[])},XB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Wl=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?No(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!nm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},Ew=new WeakMap,hg=function(e,n){if(typeof n!="function")return e;Ew.has(e)||Ew.set(e,new WeakMap);var r=Ew.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},i1e=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:ep(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:wv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:oh(),realScaleType:"point"}:o==="category"?{scale:ep(),realScaleType:"band"}:{scale:wv(),realScaleType:"linear"};if(yc(i)){var l="scale".concat(m0(i));return{scale:(Vk[l]||oh)(),realScaleType:Vk[l]?l:"point"}}return _t(i)?{scale:i}:{scale:oh(),realScaleType:"point"}},Kk=1e-4,o1e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-Kk,s=Math.max(i[0],i[1])+Kk,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},s1e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},a1e=function(e,n){if(!n||n.length!==2||!Ae(n[0])||!Ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Ae(e[0])||e[0]<r)&&(o[0]=r),(!Ae(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},l1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=nm(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},c1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=nm(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},u1e={sign:l1e,expand:_ce,none:rd,silhouette:Ece,wiggle:Tce,positive:c1e},d1e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=u1e[r],s=Sce().keys(i).value(function(a,l){return+Di(a,l,0)}).order(AS).offset(o);return s(e)},f1e=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},c=a.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?In(In({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return f;var x=y[r],b=f[x]||{hasStack:!1,stackGroups:{}};if(ir(g)){var w=b.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[rm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return In(In({},f),{},Au({},x,b))},l),d={};return Object.keys(c).reduce(function(f,h){var m=c[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var x=m.stackGroups[v];return In(In({},g),{},Au({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:d1e(e,x.items,o)}))},y)}return In(In({},f),{},Au({},h,m))},d)},h1e=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=Ewe(c,o,a);return e.domain([N0(d),C0(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=Twe(f,o,a);return{niceTicks:h}}return null};function Yk(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!vt(i[e.dataKey])){var a=Jy(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Di(i,vt(s)?e.dataKey:s);return vt(l)?null:e.scale(l)}var Xk=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Di(s,n.dataKey,n.domain[a]);return vt(l)?null:n.scale(l)-o/2+i},p1e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},m1e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(ir(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},g1e=function(e){return e.reduce(function(n,r){return[N0(r.concat([n[0]]).filter(Ae)),C0(r.concat([n[1]]).filter(Ae))]},[1/0,-1/0])},QB=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,d){var f=g1e(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Qk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r_=function(e,n,r){if(_t(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Qk.test(e[0])){var o=+Qk.exec(e[0])[1];i[0]=n[0]-o}else _t(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Jk.test(e[1])){var s=+Jk.exec(e[1])[1];i[1]=n[1]+s}else _t(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Cv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=oA(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],d=o[a-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},Zk=function(e,n,r){return!e||!e.length||j0(e,no(r,"type.defaultProps.domain"))?n:e},JB=function(e,n){var r=e.type.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return In(In({},It(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:IA(e),value:Di(n,i),type:l,payload:n,chartType:c,hide:d})};function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){y1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y1e(t,e,n){return e=v1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1e(t){var e=x1e(t,"string");return cp(e)=="symbol"?e:e+""}function x1e(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nv=Math.PI/180,b1e=function(e){return e*180/Math.PI},Ar=function(e,n,r,i){return{x:e+Math.cos(-Nv*i)*r,y:n+Math.sin(-Nv*i)*r}},w1e=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},S1e=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=w1e({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:b1e(c),angleInRadian:c}},_1e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},E1e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},nO=function(e,n){var r=e.x,i=e.y,o=S1e({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=_1e(n),f=d.startAngle,h=d.endAngle,m=a,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?tO(tO({},n),{},{radius:s,angle:E1e(m,n)}):null};function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}var T1e=["offset"];function P1e(t){return j1e(t)||N1e(t)||C1e(t)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C1e(t,e){if(t){if(typeof t=="string")return i_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(t,e)}}function N1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j1e(t){if(Array.isArray(t))return i_(t)}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I1e(t,e){if(t==null)return{};var n=k1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){O1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O1e(t,e,n){return e=R1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R1e(t){var e=M1e(t,"string");return up(e)=="symbol"?e:e+""}function M1e(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dp.apply(this,arguments)}var D1e=function(e){var n=e.value,r=e.formatter,i=vt(e.children)?n:e.children;return _t(r)?r(i):i},$1e=function(e,n){var r=No(n-e),i=Math.min(Math.abs(n-e),360);return r*i},L1e=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,y=l.endAngle,g=l.clockWise,v=(f+h)/2,x=$1e(m,y),b=x>=0?1:-1,w,A;i==="insideStart"?(w=m+b*s,A=g):i==="insideEnd"?(w=y-b*s,A=!g):i==="end"&&(w=y+b*s,A=g),A=x<=0?A:!A;var E=Ar(c,d,v,w),C=Ar(c,d,v,w+(A?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(A?0:1,`,
    `).concat(C.x,",").concat(C.y),T=vt(e.id)?rm("recharts-radial-line-"):e.id;return q.createElement("text",dp({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",a)}),q.createElement("defs",null,q.createElement("path",{id:T,d:_})),q.createElement("textPath",{xlinkHref:"#".concat(T)},n))},F1e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=Ar(s,a,c+r,h),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,x=Ar(s,a,v,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},V1e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",y=f>0?"start":"end",g=c>=0?1:-1,v=g*i,x=g>0?"end":"start",b=g>0?"start":"end";if(o==="top"){var w={x:a+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return er(er({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var A={x:a+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:y};return er(er({},A),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(o==="left"){var E={x:a-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return er(er({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(o==="right"){var C={x:a+c+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return er(er({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:d}:{})}var _=r?{width:c,height:d}:{};return o==="insideLeft"?er({x:a+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},_):o==="insideRight"?er({x:a+c-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},_):o==="insideTop"?er({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},_):o==="insideBottom"?er({x:a+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},_):o==="insideTopLeft"?er({x:a+v,y:l+h,textAnchor:b,verticalAnchor:y},_):o==="insideTopRight"?er({x:a+c-v,y:l+h,textAnchor:x,verticalAnchor:y},_):o==="insideBottomLeft"?er({x:a+v,y:l+d-h,textAnchor:b,verticalAnchor:m},_):o==="insideBottomRight"?er({x:a+c-v,y:l+d-h,textAnchor:x,verticalAnchor:m},_):zd(o)&&(Ae(o.x)||Bl(o.x))&&(Ae(o.y)||Bl(o.y))?er({x:a+vc(o.x,c),y:l+vc(o.y,d),textAnchor:"end",verticalAnchor:"end"},_):er({x:a+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},B1e=function(e){return"cx"in e&&Ae(e.cx)};function Ur(t){var e=t.offset,n=e===void 0?5:e,r=I1e(t,T1e),i=er({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||vt(a)&&vt(l)&&!S.isValidElement(c)&&!_t(c))return null;if(S.isValidElement(c))return S.cloneElement(c,i);var m;if(_t(c)){if(m=S.createElement(c,i),S.isValidElement(m))return m}else m=D1e(i);var y=B1e(o),g=It(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return L1e(i,m,g);var v=y?F1e(i):V1e(i);return q.createElement(pv,dp({className:At("recharts-label",f)},g,v,{breakAll:h}),m)}Ur.displayName="Label";var ZB=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,y=e.left,g=e.width,v=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(Ae(g)&&Ae(v)){if(Ae(f)&&Ae(h))return{x:f,y:h,width:g,height:v};if(Ae(m)&&Ae(y))return{x:m,y,width:g,height:v}}return Ae(f)&&Ae(h)?{x:f,y:h,width:0,height:0}:Ae(n)&&Ae(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||a||0,clockWise:x}:e.viewBox?e.viewBox:{}},U1e=function(e,n){return e?e===!0?q.createElement(Ur,{key:"label-implicit",viewBox:n}):ir(e)?q.createElement(Ur,{key:"label-implicit",viewBox:n,value:e}):S.isValidElement(e)?e.type===Ur?S.cloneElement(e,{key:"label-implicit",viewBox:n}):q.createElement(Ur,{key:"label-implicit",content:e,viewBox:n}):_t(e)?q.createElement(Ur,{key:"label-implicit",content:e,viewBox:n}):zd(e)?q.createElement(Ur,dp({viewBox:n},e,{key:"label-implicit"})):null:null},z1e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=ZB(e),s=ro(i,Ur).map(function(l,c){return S.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return s;var a=U1e(e.label,n||o);return[a].concat(P1e(s))};Ur.parseViewBox=ZB;Ur.renderCallByParent=z1e;function W1e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var H1e=W1e;const q1e=nn(H1e);function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}var G1e=["valueAccessor"],K1e=["data","dataKey","clockWise","id","textBreakAll"];function Y1e(t){return Z1e(t)||J1e(t)||Q1e(t)||X1e()}function X1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q1e(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function J1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z1e(t){if(Array.isArray(t))return o_(t)}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){eSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eSe(t,e,n){return e=tSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tSe(t){var e=nSe(t,"string");return fp(e)=="symbol"?e:e+""}function nSe(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sO(t,e){if(t==null)return{};var n=rSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iSe=function(e){return Array.isArray(e.value)?q1e(e.value):e.value};function el(t){var e=t.valueAccessor,n=e===void 0?iSe:e,r=sO(t,G1e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,c=sO(r,K1e);return!i||!i.length?null:q.createElement(Ln,{className:"recharts-label-list"},i.map(function(d,f){var h=vt(o)?n(d,f):Di(d&&d.payload,o),m=vt(a)?{}:{id:"".concat(a,"-").concat(f)};return q.createElement(Ur,jv({},It(d,!0),c,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Ur.parseViewBox(vt(s)?d:oO(oO({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}el.displayName="LabelList";function oSe(t,e){return t?t===!0?q.createElement(el,{key:"labelList-implicit",data:e}):q.isValidElement(t)||_t(t)?q.createElement(el,{key:"labelList-implicit",data:e,content:t}):zd(t)?q.createElement(el,jv({data:e},t,{key:"labelList-implicit"})):null:null}function sSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ro(r,el).map(function(s,a){return S.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=oSe(t.label,e);return[o].concat(Y1e(i))}el.renderCallByParent=sSe;function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(this,arguments)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){aSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aSe(t,e,n){return e=lSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lSe(t){var e=cSe(t,"string");return hp(e)=="symbol"?e:e+""}function cSe(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uSe=function(e,n){var r=No(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},pg=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(a?1:-1)+i,f=Math.asin(l/d)/Nv,h=c?o:o+s*f,m=Ar(n,r,d,h),y=Ar(n,r,i,h),g=c?o-s*f:o,v=Ar(n,r,d*Math.cos(f*Nv),g);return{center:m,circleTangency:y,lineTangency:v,theta:f}},eU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=uSe(s,a),c=s+l,d=Ar(n,r,o,s),f=Ar(n,r,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Ar(n,r,i,s),y=Ar(n,r,i,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},dSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=No(d-c),h=pg({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,y=h.lineTangency,g=h.theta,v=pg({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,b=v.lineTangency,w=v.theta,A=l?Math.abs(c-d):Math.abs(c-d)-g-w;if(A<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):eU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var C=pg({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=C.circleTangency,T=C.lineTangency,N=C.theta,k=pg({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=k.circleTangency,R=k.lineTangency,O=k.theta,$=l?Math.abs(c-d):Math.abs(c-d)-N-O;if($<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},fSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tU=function(e){var n=lO(lO({},fSe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<o||d===f)return null;var m=At("recharts-sector",h),y=s-o,g=vc(a,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=dSe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):v=eU({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:f}),q.createElement("path",s_({},It(n,!0),{className:m,d:v,role:"img"}))};function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(this,arguments)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){hSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hSe(t,e,n){return e=pSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pSe(t){var e=mSe(t,"string");return pp(e)=="symbol"?e:e+""}function mSe(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dO={curveBasisClosed:dce,curveBasisOpen:fce,curveBasis:uce,curveBumpX:Xle,curveBumpY:Qle,curveLinearClosed:hce,curveLinear:y0,curveMonotoneX:pce,curveMonotoneY:mce,curveNatural:gce,curveStep:yce,curveStepAfter:xce,curveStepBefore:vce},mg=function(e){return e.x===+e.x&&e.y===+e.y},Sf=function(e){return e.x},_f=function(e){return e.y},gSe=function(e,n){if(_t(e))return e;var r="curve".concat(m0(e));return(r==="curveMonotone"||r==="curveBump")&&n?dO["".concat(r).concat(n==="vertical"?"Y":"X")]:dO[r]||y0},ySe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=gSe(r,a),f=c?o.filter(function(g){return mg(g)}):o,h;if(Array.isArray(s)){var m=c?s.filter(function(g){return mg(g)}):s,y=f.map(function(g,v){return uO(uO({},g),{},{base:m[v]})});return a==="vertical"?h=og().y(_f).x1(Sf).x0(function(g){return g.base.x}):h=og().x(Sf).y1(_f).y0(function(g){return g.base.y}),h.defined(mg).curve(d),h(y)}return a==="vertical"&&Ae(s)?h=og().y(_f).x1(Sf).x0(s):Ae(s)?h=og().x(Sf).y1(_f).y0(s):h=r6().x(Sf).y(_f),h.defined(mg).curve(d),h(f)},l_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?ySe(e):i;return S.createElement("path",a_({},It(e,!1),Zy(e),{className:At("recharts-curve",n),d:s,ref:o}))},nU={exports:{}},vSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xSe=vSe,bSe=xSe;function rU(){}function iU(){}iU.resetWarningCache=rU;var wSe=function(){function t(r,i,o,s,a,l){if(l!==bSe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iU,resetWarningCache:rU};return n.PropTypes=n,n};nU.exports=wSe();var SSe=nU.exports;const zt=nn(SSe);var _Se=Object.getOwnPropertyNames,ESe=Object.getOwnPropertySymbols,TSe=Object.prototype.hasOwnProperty;function fO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function gg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function hO(t){return _Se(t).concat(ESe(t))}var PSe=Object.hasOwn||function(t,e){return TSe.call(t,e)};function kc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ASe="__v",CSe="__o",NSe="_owner",pO=Object.getOwnPropertyDescriptor,mO=Object.keys;function jSe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ISe(t,e){return kc(t.getTime(),e.getTime())}function kSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function OSe(t,e){return t===e}function gO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var c=e.entries(),d=!1,f=0;(a=c.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,m=a.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var RSe=kc;function MSe(t,e,n){var r=mO(t),i=r.length;if(mO(e).length!==i)return!1;for(;i-- >0;)if(!oU(t,e,n,r[i]))return!1;return!0}function Ef(t,e,n){var r=hO(t),i=r.length;if(hO(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!oU(t,e,n,o)||(s=pO(t,o),a=pO(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function DSe(t,e){return kc(t.valueOf(),e.valueOf())}function $Se(t,e){return t.source===e.source&&t.flags===e.flags}function yO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function LSe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function FSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function oU(t,e,n,r){return(r===NSe||r===CSe||r===ASe)&&(t.$$typeof||e.$$typeof)?!0:PSe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var VSe="[object Arguments]",BSe="[object Boolean]",USe="[object Date]",zSe="[object Error]",WSe="[object Map]",HSe="[object Number]",qSe="[object Object]",GSe="[object RegExp]",KSe="[object Set]",YSe="[object String]",XSe="[object URL]",QSe=Array.isArray,vO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,xO=Object.assign,JSe=Object.prototype.toString.call.bind(Object.prototype.toString);function ZSe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var x=typeof y;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(y,g,v):x==="function"?i(y,g,v):!1;var b=y.constructor;if(b!==g.constructor)return!1;if(b===Object)return a(y,g,v);if(QSe(y))return e(y,g,v);if(vO!=null&&vO(y))return f(y,g,v);if(b===Date)return n(y,g,v);if(b===RegExp)return c(y,g,v);if(b===Map)return o(y,g,v);if(b===Set)return d(y,g,v);var w=JSe(y);return w===USe?n(y,g,v):w===GSe?c(y,g,v):w===WSe?o(y,g,v):w===KSe?d(y,g,v):w===qSe?typeof y.then!="function"&&typeof g.then!="function"&&a(y,g,v):w===XSe?h(y,g,v):w===zSe?r(y,g,v):w===VSe?a(y,g,v):w===BSe||w===HSe||w===YSe?l(y,g,v):!1}}function e_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Ef:jSe,areDatesEqual:ISe,areErrorsEqual:kSe,areFunctionsEqual:OSe,areMapsEqual:r?fO(gO,Ef):gO,areNumbersEqual:RSe,areObjectsEqual:r?Ef:MSe,arePrimitiveWrappersEqual:DSe,areRegExpsEqual:$Se,areSetsEqual:r?fO(yO,Ef):yO,areTypedArraysEqual:r?Ef:LSe,areUrlsEqual:FSe};if(n&&(i=xO({},i,n(i))),e){var o=gg(i.areArraysEqual),s=gg(i.areMapsEqual),a=gg(i.areObjectsEqual),l=gg(i.areSetsEqual);i=xO({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function t_e(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function n_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,c,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,s)}}var r_e=wl();wl({strict:!0});wl({circular:!0});wl({circular:!0,strict:!0});wl({createInternalComparator:function(){return kc}});wl({strict:!0,createInternalComparator:function(){return kc}});wl({circular:!0,createInternalComparator:function(){return kc}});wl({circular:!0,createInternalComparator:function(){return kc},strict:!0});function wl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=e_e(t),l=ZSe(a),c=r?r(l):t_e(l);return n_e({circular:n,comparator:l,createState:i,equals:c,strict:s})}function i_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function bO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):i_e(i)};requestAnimationFrame(r)}function c_(t){"@babel/helpers - typeof";return c_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c_(t)}function o_e(t){return c_e(t)||l_e(t)||a_e(t)||s_e()}function s_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a_e(t,e){if(t){if(typeof t=="string")return wO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wO(t,e)}}function wO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c_e(t){if(Array.isArray(t))return t}function u_e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=o_e(s),l=a[0],c=a.slice(1);if(typeof l=="number"){bO(i.bind(null,c),l);return}i(l),bO(i.bind(null,c));return}c_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){sU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sU(t,e,n){return e=d_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d_e(t){var e=f_e(t,"string");return mp(e)==="symbol"?e:String(e)}function f_e(t,e){if(mp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h_e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},p_e=function(e){return e},m_e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ah=function(e,n){return Object.keys(n).reduce(function(r,i){return _O(_O({},r),{},sU({},i,e(i,n[i])))},{})},EO=function(e,n,r){return e.map(function(i){return"".concat(m_e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function g_e(t,e){return x_e(t)||v_e(t,e)||aU(t,e)||y_e()}function y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function x_e(t){if(Array.isArray(t))return t}function b_e(t){return __e(t)||S_e(t)||aU(t)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aU(t,e){if(t){if(typeof t=="string")return u_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(t,e)}}function S_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function __e(t){if(Array.isArray(t))return u_(t)}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Iv=1e-4,lU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},cU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},TO=function(e,n){return function(r){var i=lU(e,n);return cU(i,r)}},E_e=function(e,n){return function(r){var i=lU(e,n),o=[].concat(b_e(i.map(function(s,a){return s*a}).slice(1)),[0]);return cU(o,r)}},PO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=g_e(c,4);i=d[0],o=d[1],s=d[2],a=d[3]}}}var f=TO(i,s),h=TO(o,a),m=E_e(i,s),y=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,w=b,A=0;A<8;++A){var E=f(w)-b,C=m(w);if(Math.abs(E-b)<Iv||C<Iv)return h(w);w=y(w-E/C)}return h(w)};return g.isStepper=!1,g},T_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(d,f,h){var m=-(d-f)*r,y=h*o,g=h+(m-y)*a/1e3,v=h*a/1e3+d;return Math.abs(v-f)<Iv&&Math.abs(g)<Iv?[f,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},P_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return PO(i);case"spring":return T_e();default:if(i.split("(")[0]==="cubic-bezier")return PO(i)}return typeof i=="function"?i:null};function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function AO(t){return N_e(t)||C_e(t)||uU(t)||A_e()}function A_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N_e(t){if(Array.isArray(t))return f_(t)}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){d_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d_(t,e,n){return e=j_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_e(t){var e=I_e(t,"string");return gp(e)==="symbol"?e:String(e)}function I_e(t,e){if(gp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k_e(t,e){return M_e(t)||R_e(t,e)||uU(t,e)||O_e()}function O_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uU(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function M_e(t){if(Array.isArray(t))return t}var kv=function(e,n,r){return e+(n-e)*r},h_=function(e){var n=e.from,r=e.to;return n!==r},D_e=function t(e,n,r){var i=ah(function(o,s){if(h_(s)){var a=e(s.from,s.to,s.velocity),l=k_e(a,2),c=l[0],d=l[1];return _r(_r({},s),{},{from:c,velocity:d})}return s},n);return r<1?ah(function(o,s){return h_(s)?_r(_r({},s),{},{velocity:kv(s.velocity,i[o].velocity,r),from:kv(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const $_e=function(t,e,n,r,i){var o=h_e(t,e),s=o.reduce(function(v,x){return _r(_r({},v),{},d_({},x,[t[x],e[x]]))},{}),a=o.reduce(function(v,x){return _r(_r({},v),{},d_({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return ah(function(x,b){return b.from},a)},m=function(){return!Object.values(a).filter(h_).length},y=function(x){c||(c=x);var b=x-c,w=b/n.dt;a=D_e(n,a,w),i(_r(_r(_r({},t),e),h())),c=x,m()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var b=(x-d)/r,w=ah(function(E,C){return kv.apply(void 0,AO(C).concat([n(b)]))},s);if(i(_r(_r(_r({},t),e),w)),b<1)l=requestAnimationFrame(f);else{var A=ah(function(E,C){return kv.apply(void 0,AO(C).concat([n(1)]))},s);i(_r(_r(_r({},t),e),A))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}var L_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function F_e(t,e){if(t==null)return{};var n=V_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tw(t){return W_e(t)||z_e(t)||U_e(t)||B_e()}function B_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_e(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function z_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W_e(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){$f(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $f(t,e,n){return e=dU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dU(r.key),r)}}function G_e(t,e,n){return e&&q_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dU(t){var e=K_e(t,"string");return fd(e)==="symbol"?e:String(e)}function K_e(t,e){if(fd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m_(t,e)}function X_e(t){var e=Q_e();return function(){var r=Ov(t),i;if(e){var o=Ov(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return g_(this,i)}}function g_(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y_(t)}function y_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ov(t)}var sa=function(t){Y_e(n,t);var e=X_e(n);function n(r,i){var o;H_e(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(y_(o)),o.changeStyle=o.changeStyle.bind(y_(o)),!a||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),g_(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},g_(o);o.state={style:l?$f({},l,c):c}}else o.state={style:{}};return o}return G_e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(a){if(!s){var m={style:l?$f({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(r_e(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||c?f:i.to;if(this.state&&h){var v={style:l?$f({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(po(po({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=$_e(s,a,P_e(c),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([h,d,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,m=function(g,v,x){if(x===0)return g;var b=v.duration,w=v.easing,A=w===void 0?"ease":w,E=v.style,C=v.properties,_=v.onAnimationEnd,T=x>0?s[x-1]:v,N=C||Object.keys(E);if(typeof A=="function"||A==="spring")return[].concat(Tw(g),[o.runJSAnimation.bind(o,{from:T.style,to:E,duration:b,easing:A}),b]);var k=EO(N,b,A),j=po(po(po({},T.style),E),{},{transition:k});return[].concat(Tw(g),[j,b,_]).filter(p_e)};return this.manager.start([l].concat(Tw(s.reduce(m,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=u_e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=a?$f({},a,l):l,v=EO(Object.keys(g),s,c);y.start([d,o,po(po({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=F_e(i,L_e),c=S.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!a||c===0||s<=0)return o;var f=function(m){var y=m.props,g=y.style,v=g===void 0?{}:g,x=y.className,b=S.cloneElement(m,po(po({},l),{},{style:po(po({},v),d),className:x}));return b};return c===1?f(S.Children.only(o)):q.createElement("div",null,S.Children.map(o,function(h){return f(h)}))}}]),n}(S.PureComponent);sa.displayName="Animate";sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sa.propTypes={from:zt.oneOfType([zt.object,zt.string]),to:zt.oneOfType([zt.object,zt.string]),attributeName:zt.string,duration:zt.number,begin:zt.number,easing:zt.oneOfType([zt.string,zt.func]),steps:zt.arrayOf(zt.shape({duration:zt.number.isRequired,style:zt.object.isRequired,easing:zt.oneOfType([zt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zt.func]),properties:zt.arrayOf("string"),onAnimationEnd:zt.func})),children:zt.oneOfType([zt.node,zt.func]),isActive:zt.bool,canBegin:zt.bool,onAnimationEnd:zt.func,shouldReAnimate:zt.bool,onAnimationStart:zt.func,onAnimationReStart:zt.func};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function J_e(t,e){return nEe(t)||tEe(t,e)||eEe(t,e)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eEe(t,e){if(t){if(typeof t=="string")return jO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jO(t,e)}}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function nEe(t){if(Array.isArray(t))return t}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){rEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rEe(t,e,n){return e=iEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iEe(t){var e=oEe(t,"string");return yp(e)=="symbol"?e:e+""}function oEe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OO=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>s?s:o[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var y=Math.min(s,o);d="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},sEe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),d=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},aEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kA=function(e){var n=kO(kO({},aEe),e),r=S.useRef(),i=S.useState(-1),o=J_e(i,2),s=o[0],a=o[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&a(A)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var w=At("recharts-rectangle",m);return b?q.createElement(sa,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:y,isActive:b},function(A){var E=A.width,C=A.height,_=A.x,T=A.y;return q.createElement(sa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:y},q.createElement("path",Rv({},It(n,!0),{className:w,d:OO(_,T,E,C,h),ref:r})))}):q.createElement("path",Rv({},It(n,!0),{className:w,d:OO(l,c,d,f,h)}))};function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(this,arguments)}var OA=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=At("recharts-dot",o);return n===+n&&r===+r&&i===+i?S.createElement("circle",v_({},It(e,!1),Zy(e),{className:s,cx:n,cy:r,r:i})):null};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}var lEe=["x","y","top","left","width","height","className"];function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(this,arguments)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){uEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uEe(t,e,n){return e=dEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dEe(t){var e=fEe(t,"string");return vp(e)=="symbol"?e:e+""}function fEe(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hEe(t,e){if(t==null)return{};var n=pEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mEe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},gEe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,y=e.className,g=hEe(e,lEe),v=cEe({x:r,y:o,top:a,left:c,width:f,height:m},g);return!Ae(r)||!Ae(o)||!Ae(f)||!Ae(m)||!Ae(a)||!Ae(c)?null:q.createElement("path",x_({},It(v,!0),{className:At("recharts-cross",y),d:mEe(r,o,f,m,a,c)}))},yEe=A6,vEe=yEe(Object.getPrototypeOf,Object),xEe=vEe,bEe=ua,wEe=xEe,SEe=da,_Ee="[object Object]",EEe=Function.prototype,TEe=Object.prototype,fU=EEe.toString,PEe=TEe.hasOwnProperty,AEe=fU.call(Object);function CEe(t){if(!SEe(t)||bEe(t)!=_Ee)return!1;var e=wEe(t);if(e===null)return!0;var n=PEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&fU.call(n)==AEe}var NEe=CEe;const jEe=nn(NEe);var IEe=ua,kEe=da,OEe="[object Boolean]";function REe(t){return t===!0||t===!1||kEe(t)&&IEe(t)==OEe}var MEe=REe;const DEe=nn(MEe);function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function $Ee(t,e){return BEe(t)||VEe(t,e)||FEe(t,e)||LEe()}function LEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FEe(t,e){if(t){if(typeof t=="string")return MO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(t,e)}}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function BEe(t){if(Array.isArray(t))return t}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){UEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UEe(t,e,n){return e=zEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zEe(t){var e=WEe(t,"string");return xp(e)=="symbol"?e:e+""}function WEe(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LO=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},HEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qEe=function(e){var n=$O($O({},HEe),e),r=S.useRef(),i=S.useState(-1),o=$Ee(i,2),s=o[0],a=o[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&a(w)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=At("recharts-trapezoid",m);return x?q.createElement(sa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:y,isActive:x},function(w){var A=w.upperWidth,E=w.lowerWidth,C=w.height,_=w.x,T=w.y;return q.createElement(sa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},q.createElement("path",Mv({},It(n,!0),{className:b,d:LO(_,T,A,E,C),ref:r})))}):q.createElement("g",null,q.createElement("path",Mv({},It(n,!0),{className:b,d:LO(l,c,d,f,h)})))},GEe=["option","shapeType","propTransformer","activeClassName","isActive"];function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function KEe(t,e){if(t==null)return{};var n=YEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){XEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XEe(t,e,n){return e=QEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QEe(t){var e=JEe(t,"string");return bp(e)=="symbol"?e:e+""}function JEe(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZEe(t,e){return Dv(Dv({},e),t)}function eTe(t,e){return t==="symbols"}function VO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return q.createElement(kA,n);case"trapezoid":return q.createElement(qEe,n);case"sector":return q.createElement(tU,n);case"symbols":if(eTe(e))return q.createElement(XP,n);break;default:return null}}function tTe(t){return S.isValidElement(t)?t.props:t}function nTe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ZEe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=KEe(t,GEe),c;if(S.isValidElement(e))c=S.cloneElement(e,Dv(Dv({},l),tTe(e)));else if(_t(e))c=e(l);else if(jEe(e)&&!DEe(e)){var d=i(e,l);c=q.createElement(VO,{shapeType:n,elementProps:d})}else{var f=l;c=q.createElement(VO,{shapeType:n,elementProps:f})}return a?q.createElement(Ln,{className:s},c):c}function O0(t,e){return e!=null&&"trapezoids"in t.props}function R0(t,e){return e!=null&&"sectors"in t.props}function wp(t,e){return e!=null&&"points"in t.props}function rTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function iTe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function oTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function sTe(t,e){var n;return O0(t,e)?n=rTe:R0(t,e)?n=iTe:wp(t,e)&&(n=oTe),n}function aTe(t,e){var n;return O0(t,e)?n="trapezoids":R0(t,e)?n="sectors":wp(t,e)&&(n="points"),n}function lTe(t,e){if(O0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(R0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return wp(t,e)?e.payload:{}}function cTe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=aTe(n,e),o=lTe(n,e),s=r.filter(function(l,c){var d=j0(o,l),f=n.props[i].filter(function(y){var g=sTe(n,e);return g(y,e)}),h=n.props[i].indexOf(f[f.length-1]),m=c===h;return d&&m}),a=r.indexOf(s[s.length-1]);return a}var uTe=Math.ceil,dTe=Math.max;function fTe(t,e,n,r){for(var i=-1,o=dTe(uTe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var hTe=fTe,pTe=H6,BO=1/0,mTe=17976931348623157e292;function gTe(t){if(!t)return t===0?t:0;if(t=pTe(t),t===BO||t===-BO){var e=t<0?-1:1;return e*mTe}return t===t?t:0}var yTe=gTe,vTe=hTe,xTe=w0,Pw=yTe;function bTe(t){return function(e,n,r){return r&&typeof r!="number"&&xTe(e,n,r)&&(n=r=void 0),e=Pw(e),n===void 0?(n=e,e=0):n=Pw(n),r=r===void 0?e<n?1:-1:Pw(r),vTe(e,n,r,t)}}var wTe=bTe,STe=wTe,_Te=STe(),ETe=_Te;const $v=nn(ETe);function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){hU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hU(t,e,n){return e=TTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TTe(t){var e=PTe(t,"string");return Sp(e)=="symbol"?e:e+""}function PTe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ATe=["Webkit","Moz","O","ms"],CTe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=ATe.reduce(function(o,s){return zO(zO({},o),{},hU({},s+r,n))},{});return i[e]=n,i};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){Pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mU(r.key),r)}}function jTe(t,e,n){return e&&HO(t.prototype,e),n&&HO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ITe(t,e,n){return e=Fv(e),kTe(t,pU()?Reflect.construct(e,n||[],Fv(t).constructor):e.apply(t,n))}function kTe(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OTe(t)}function OTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pU=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(t)}function RTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b_(t,e)}function b_(t,e){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b_(t,e)}function Pi(t,e,n){return e=mU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mU(t){var e=MTe(t,"string");return hd(e)=="symbol"?e:e+""}function MTe(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=oh().domain($v(0,l)).range([o,o+s-a]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},qO=function(e){return e.changedTouches&&!!e.changedTouches.length},pd=function(t){function e(n){var r;return NTe(this,e),r=ITe(this,e,[n]),Pi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Pi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Pi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Pi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Pi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Pi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Pi(r,"handleSlideDragStart",function(i){var o=qO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return RTe(e,t),jTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,d=c.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(s,f),y=e.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Di(o[r],a,r);return _t(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,y=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+d-f-a,c+d-f-s):g<0&&(g=Math.max(g,c-s,c-a));var v=this.getIndex({startX:s+g,endX:a+g});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=qO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,f+h-m-c):b<0&&(b=Math.max(b,f-c)),x[s]=c+b;var w=this.getIndex(x),A=w.startIndex,E=w.endIndex,C=function(){var T=v.length-1;return s==="startX"&&(a>l?A%g===0:E%g===0)||a<l&&E===T||s==="endX"&&(a>l?E%g===0:A%g===0)||a>l&&E===T};this.setState(Pi(Pi({},s,c+b),"brushMoveStartX",r.pageX),function(){y&&C()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var m=a[h];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(Pi({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,c=r.stroke;return q.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,c=r.children,d=r.padding,f=S.Children.only(c);return f?q.cloneElement(f,{x:i,y:o,width:s,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,y=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),b=Aw(Aw({},It(this.props,!1)),{},{x,y:c,width:d,height:f}),w=m||"Min value: ".concat((o=y[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=y[v])===null||s===void 0?void 0:s.name);return q.createElement(Ln,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:c};return q.createElement(Ln,{className:"recharts-brush-texts"},q.createElement(pv,Lv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+a/2},y),this.getTextOfTick(i)),q.createElement(pv,Lv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:s+a/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!Ae(a)||!Ae(l)||!Ae(c)||!Ae(d)||c<=0||d<=0)return null;var w=At("recharts-brush",o),A=q.Children.count(s)===1,E=CTe("userSelect","none");return q.createElement(Ln,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,c=Math.floor(o+a/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),q.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,i):_t(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return Aw({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?DTe({data:o,width:s,x:a,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(S.PureComponent);Pi(pd,"displayName","Brush");Pi(pd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $Te=iA;function LTe(t,e){var n;return $Te(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var FTe=LTe,VTe=x6,BTe=Xd,UTe=FTe,zTe=yi,WTe=w0;function HTe(t,e,n){var r=zTe(t)?VTe:UTe;return n&&WTe(t,e,n)&&(e=void 0),r(t,BTe(e))}var qTe=HTe;const GTe=nn(qTe);var ys=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},GO=V6;function KTe(t,e,n){e=="__proto__"&&GO?GO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var YTe=KTe,XTe=YTe,QTe=L6,JTe=Xd;function ZTe(t,e){var n={};return e=JTe(e),QTe(t,function(r,i,o){XTe(n,i,e(r,i,o))}),n}var ePe=ZTe;const tPe=nn(ePe);function nPe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var rPe=nPe,iPe=iA;function oPe(t,e){var n=!0;return iPe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var sPe=oPe,aPe=rPe,lPe=sPe,cPe=Xd,uPe=yi,dPe=w0;function fPe(t,e,n){var r=uPe(t)?aPe:lPe;return n&&dPe(t,e,n)&&(e=void 0),r(t,cPe(e))}var hPe=fPe;const pPe=nn(hPe);var mPe=["x","y"];function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){gPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gPe(t,e,n){return e=yPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yPe(t){var e=vPe(t,"string");return _p(e)=="symbol"?e:e+""}function vPe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xPe(t,e){if(t==null)return{};var n=bPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wPe(t,e){var n=t.x,r=t.y,i=xPe(t,mPe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Tf(Tf(Tf(Tf(Tf({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function YO(t){return q.createElement(nTe,w_({shapeType:"rectangle",propTransformer:wPe,activeClassName:"recharts-active-bar"},t))}var SPe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Ae(r)||Mae(r);return o?e(r,i):(o||bc(),n)}},_Pe=["value","background"],gU;function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function EPe(t,e){if(t==null)return{};var n=TPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(this,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vU(r.key),r)}}function APe(t,e,n){return e&&QO(t.prototype,e),n&&QO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CPe(t,e,n){return e=Bv(e),NPe(t,yU()?Reflect.construct(e,n||[],Bv(t).constructor):e.apply(t,n))}function NPe(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jPe(t)}function jPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yU=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bv(t)}function IPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function Fa(t,e,n){return e=vU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vU(t){var e=kPe(t,"string");return md(e)=="symbol"?e:e+""}function kPe(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cm=function(t){function e(){var n;PPe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=CPe(this,e,[].concat(i)),Fa(n,"state",{isAnimationFinished:!1}),Fa(n,"id",rm("recharts-bar-")),Fa(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Fa(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return IPe(e,t),APe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,d=It(this.props,!1);return r&&r.map(function(f,h){var m=h===l,y=m?c:s,g=Hn(Hn(Hn({},d),f),{},{isActive:m,option:y,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Ln,Vv({className:"recharts-bar-rectangle"},ev(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),q.createElement(YO,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return q.createElement(sa,{begin:l,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=o.map(function(v,x){var b=h&&h[x];if(b){var w=Eo(b.x,v.x),A=Eo(b.y,v.y),E=Eo(b.width,v.width),C=Eo(b.height,v.height);return Hn(Hn({},v),{},{x:w(y),y:A(y),width:E(y),height:C(y)})}if(s==="horizontal"){var _=Eo(0,v.height),T=_(y);return Hn(Hn({},v),{},{y:v.y+v.height-T,height:T})}var N=Eo(0,v.width),k=N(y);return Hn(Hn({},v),{},{width:k})});return q.createElement(Ln,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!j0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=It(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=EPe(c,_Pe);if(!f)return null;var m=Hn(Hn(Hn(Hn(Hn({},h),{},{fill:"#eee"},f),l),ev(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(YO,Vv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=ro(d,lm);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,m=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Di(v,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Ln,y,f.map(function(g){return q.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,y=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=At("recharts-bar",s),b=a&&a.allowDataOverflow,w=l&&l.allowDataOverflow,A=b||w,E=vt(g)?this.id:g;return q.createElement(Ln,{className:x},b||w?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:b?c:c-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,q.createElement(Ln,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,E),(!m||v)&&el.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(S.PureComponent);gU=cm;Fa(cm,"displayName","Bar");Fa(cm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Hs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fa(cm,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=s1e(r,n);if(!m)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?Hn(Hn({},g),n.props):n.props,x=v.dataKey,b=v.children,w=v.minPointSize,A=y==="horizontal"?s:o,E=c?A.scale.domain():null,C=p1e({numericAxis:A}),_=ro(b,G6),T=f.map(function(N,k){var j,R,O,$,F,U;c?j=a1e(c[d+k],E):(j=Di(N,x),Array.isArray(j)||(j=[C,j]));var H=SPe(w,gU.defaultProps.minPointSize)(j[1],k);if(y==="horizontal"){var V,L=[s.scale(j[0]),s.scale(j[1])],X=L[0],Y=L[1];R=Xk({axis:o,ticks:a,bandSize:i,offset:m.offset,entry:N,index:k}),O=(V=Y??X)!==null&&V!==void 0?V:void 0,$=m.size;var te=X-Y;if(F=Number.isNaN(te)?0:te,U={x:R,y:s.y,width:$,height:s.height},Math.abs(H)>0&&Math.abs(F)<Math.abs(H)){var ye=No(F||H)*(Math.abs(H)-Math.abs(F));O-=ye,F+=ye}}else{var Ce=[o.scale(j[0]),o.scale(j[1])],Ve=Ce[0],Ye=Ce[1];if(R=Ve,O=Xk({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:N,index:k}),$=Ye-Ve,F=m.size,U={x:o.x,y:O,width:o.width,height:F},Math.abs(H)>0&&Math.abs($)<Math.abs(H)){var fe=No($||H)*(Math.abs(H)-Math.abs($));$+=fe}}return Hn(Hn(Hn({},N),{},{x:R,y:O,width:$,height:F,value:c?j:j[1],payload:N,background:U},_&&_[k]&&_[k].props),{},{tooltipPayload:[JB(n,N)],tooltipPosition:{x:R+$/2,y:O+F/2}})});return Hn({data:T,layout:y},h)});function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function OPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xU(r.key),r)}}function RPe(t,e,n){return e&&JO(t.prototype,e),n&&JO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){M0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M0(t,e,n){return e=xU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xU(t){var e=MPe(t,"string");return Ep(e)=="symbol"?e:e+""}function MPe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DPe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Ni(c,cm);return d.reduce(function(m,y){var g=n[y],v=g.orientation,x=g.domain,b=g.padding,w=b===void 0?{}:b,A=g.mirror,E=g.reversed,C="".concat(v).concat(A?"Mirror":""),_,T,N,k,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=x[1]-x[0],O=1/0,$=g.categoricalDomain.sort(Lae);if($.forEach(function(Ce,Ve){Ve>0&&(O=Math.min((Ce||0)-($[Ve-1]||0),O))}),Number.isFinite(O)){var F=O/R,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(_=F*U/2),g.padding==="no-gap"){var H=vc(e.barCategoryGap,F*U),V=F*U/2;_=V-H-(V-H)/U*H}}}i==="xAxis"?T=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:T=g.range,E&&(T=[T[1],T[0]]);var L=i1e(g,o,h),X=L.scale,Y=L.realScaleType;X.domain(x).range(T),o1e(X);var te=h1e(X,wo(wo({},g),{},{realScaleType:Y}));i==="xAxis"?(j=v==="top"&&!A||v==="bottom"&&A,N=r.left,k=f[C]-j*g.height):i==="yAxis"&&(j=v==="left"&&!A||v==="right"&&A,N=f[C]-j*g.width,k=r.top);var ye=wo(wo(wo({},g),te),{},{realScaleType:Y,x:N,y:k,scale:X,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ye.bandSize=Cv(ye,te),!g.hide&&i==="xAxis"?f[C]+=(j?-1:1)*ye.height:g.hide||(f[C]+=(j?-1:1)*ye.width),wo(wo({},m),{},M0({},y,ye))},{})},bU=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},$Pe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return bU({x:n,y:r},{x:i,y:o})},wU=function(){function t(e){OPe(this,t),this.scale=e}return RPe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();M0(wU,"EPS",1e-4);var RA=function(e){var n=Object.keys(e).reduce(function(r,i){return wo(wo({},r),{},M0({},i,wU.create(e[i])))},{});return wo(wo({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return tPe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return pPe(i,function(o,s){return n[s].isInRange(o)})}})};function LPe(t){return(t%180+180)%180}var FPe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=LPe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},VPe=Fse(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),SU=S.createContext(void 0),_U=S.createContext(void 0),EU=S.createContext(void 0),BPe=S.createContext({}),TU=S.createContext(void 0),PU=S.createContext(0),AU=S.createContext(0),eR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,c=e.height,d=VPe(o);return q.createElement(SU.Provider,{value:r},q.createElement(_U.Provider,{value:i},q.createElement(BPe.Provider,{value:o},q.createElement(EU.Provider,{value:d},q.createElement(TU.Provider,{value:s},q.createElement(PU.Provider,{value:c},q.createElement(AU.Provider,{value:l},a)))))))},UPe=function(){return S.useContext(TU)},CU=function(e){var n=S.useContext(SU);n==null&&bc();var r=n[e];return r==null&&bc(),r},NU=function(e){var n=S.useContext(_U);n==null&&bc();var r=n[e];return r==null&&bc(),r},zPe=function(){var e=S.useContext(EU);return e},jU=function(){return S.useContext(AU)},IU=function(){return S.useContext(PU)};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function WPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OU(r.key),r)}}function qPe(t,e,n){return e&&HPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GPe(t,e,n){return e=Uv(e),KPe(t,kU()?Reflect.construct(e,n||[],Uv(t).constructor):e.apply(t,n))}function KPe(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YPe(t)}function YPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kU=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}function XPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){MA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MA(t,e,n){return e=OU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OU(t){var e=QPe(t,"string");return gd(e)=="symbol"?e:e+""}function QPe(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JPe(t,e){return nAe(t)||tAe(t,e)||eAe(t,e)||ZPe()}function ZPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eAe(t,e){if(t){if(typeof t=="string")return rR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rR(t,e)}}function rR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function nAe(t){if(Array.isArray(t))return t}function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}var rAe=function(e,n){var r;return q.isValidElement(e)?r=q.cloneElement(e,n):_t(e)?r=e(n):r=q.createElement("line",E_({},n,{className:"recharts-reference-line-line"})),r},iAe=function(e,n,r,i,o,s,a,l,c){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var y=c.y,g=e.y.apply(y,{position:s});if(ys(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(n){var x=c.x,b=e.x.apply(x,{position:s});if(ys(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:f+m},{x:b,y:f}];return a==="top"?w.reverse():w}if(i){var A=c.segment,E=A.map(function(C){return e.apply(C,{position:s})});return ys(c,"discard")&&GTe(E,function(C){return!e.isInRange(C)})?null:E}return null};function oAe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,c=UPe(),d=CU(i),f=NU(o),h=zPe();if(!c||!h)return null;ec(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=RA({x:d.scale,y:f.scale}),y=ir(e),g=ir(n),v=r&&r.length===2,x=iAe(m,y,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var b=JPe(x,2),w=b[0],A=w.x,E=w.y,C=b[1],_=C.x,T=C.y,N=ys(t,"hidden")?"url(#".concat(c,")"):void 0,k=nR(nR({clipPath:N},It(t,!0)),{},{x1:A,y1:E,x2:_,y2:T});return q.createElement(Ln,{className:At("recharts-reference-line",a)},rAe(s,k),Ur.renderCallByParent(t,$Pe({x1:A,y1:E,x2:_,y2:T})))}var DA=function(t){function e(){return WPe(this,e),GPe(this,e,arguments)}return XPe(e,t),qPe(e,[{key:"render",value:function(){return q.createElement(oAe,this.props)}}])}(q.Component);MA(DA,"displayName","ReferenceLine");MA(DA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(this,arguments)}function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){D0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MU(r.key),r)}}function lAe(t,e,n){return e&&aAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cAe(t,e,n){return e=zv(e),uAe(t,RU()?Reflect.construct(e,n||[],zv(t).constructor):e.apply(t,n))}function uAe(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dAe(t)}function dAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RU=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function fAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function D0(t,e,n){return e=MU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MU(t){var e=hAe(t,"string");return yd(e)=="symbol"?e:e+""}function hAe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pAe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=RA({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ys(e,"discard")&&!s.isInRange(a)?null:a},$0=function(t){function e(){return sAe(this,e),cAe(this,e,arguments)}return fAe(e,t),lAe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,c=ir(i),d=ir(o);if(ec(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=pAe(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,g=y.shape,v=y.className,x=ys(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=oR(oR({clipPath:x},It(this.props,!0)),{},{cx:h,cy:m});return q.createElement(Ln,{className:At("recharts-reference-dot",v)},e.renderDot(g,b),Ur.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(q.Component);D0($0,"displayName","ReferenceDot");D0($0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});D0($0,"renderDot",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):_t(t)?n=t(e):n=q.createElement(OA,T_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){L0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$U(r.key),r)}}function yAe(t,e,n){return e&&gAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vAe(t,e,n){return e=Wv(e),xAe(t,DU()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function xAe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bAe(t)}function bAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DU=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function wAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function L0(t,e,n){return e=$U(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $U(t){var e=SAe(t,"string");return vd(e)=="symbol"?e:e+""}function SAe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Ae=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=RA({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ys(o,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:bU(m,y)},F0=function(t){function e(){return mAe(this,e),vAe(this,e,arguments)}return wAe(e,t),yAe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;ec(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ir(i),h=ir(o),m=ir(s),y=ir(a),g=this.props.shape;if(!f&&!h&&!m&&!y&&!g)return null;var v=_Ae(f,h,m,y,this.props);if(!v&&!g)return null;var x=ys(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Ln,{className:At("recharts-reference-area",l)},e.renderRect(g,aR(aR({clipPath:x},It(this.props,!0)),v)),Ur.renderCallByParent(this.props,v))}}])}(q.Component);L0(F0,"displayName","ReferenceArea");L0(F0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});L0(F0,"renderRect",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):_t(t)?n=t(e):n=q.createElement(kA,A_({},e,{className:"recharts-reference-area-rect"})),n});function LU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function EAe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return FPe(r,n)}function TAe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Hv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function PAe(t,e){return LU(t,e+1)}function AAe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,c=1,d=s,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:LU(r,c)};var g=l,v,x=function(){return v===void 0&&(v=n(y,g)),v},b=y.coordinate,w=l===0||Hv(t,b,x,d,a);w||(l=0,d=s,c+=1),w&&(d=b+t*(x()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){CAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CAe(t,e,n){return e=NAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NAe(t){var e=jAe(t,"string");return Tp(e)=="symbol"?e:e+""}function jAe(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IAe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(h){var m=o[h],y,g=function(){return y===void 0&&(y=n(m,h)),y};if(h===s-1){var v=t*(m.coordinate+t*g()/2-l);o[h]=m=Lr(Lr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else o[h]=m=Lr(Lr({},m),{},{tickCoord:m.coordinate});var x=Hv(t,m.tickCoord,g,a,l);x&&(l=m.tickCoord-t*(g()/2+i),o[h]=Lr(Lr({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return o}function kAe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-c);s[a-1]=d=Lr(Lr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Hv(t,d.tickCoord,function(){return f},l,c);m&&(c=d.tickCoord-t*(f/2+i),s[a-1]=Lr(Lr({},d),{},{isShow:!0}))}for(var y=o?a-1:a,g=function(b){var w=s[b],A,E=function(){return A===void 0&&(A=n(w,b)),A};if(b===0){var C=t*(w.coordinate-t*E()/2-l);s[b]=w=Lr(Lr({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else s[b]=w=Lr(Lr({},w),{},{tickCoord:w.coordinate});var _=Hv(t,w.tickCoord,E,l,c);_&&(l=w.tickCoord+t*(E()/2+i),s[b]=Lr(Lr({},w),{},{isShow:!0}))},v=0;v<y;v++)g(v);return s}function OAe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ae(l)||Hs.isSsr)return PAe(i,typeof l=="number"&&Ae(l)?l:0);var h=[],m=a==="top"||a==="bottom"?"width":"height",y=d&&m==="width"?ih(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(w,A){var E=_t(c)?c(w.value,A):w.value;return m==="width"?EAe(ih(E,{fontSize:e,letterSpacing:n}),y,f):ih(E,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?No(i[1].coordinate-i[0].coordinate):1,x=TAe(o,v,m);return l==="equidistantPreserveStart"?AAe(v,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=kAe(v,x,g,i,s,l==="preserveStartEnd"):h=IAe(v,x,g,i,s),h.filter(function(b){return b.isShow}))}var RAe=["viewBox"],MAe=["viewBox"],DAe=["ticks"];function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){$A(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cw(t,e){if(t==null)return{};var n=$Ae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VU(r.key),r)}}function FAe(t,e,n){return e&&uR(t.prototype,e),n&&uR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VAe(t,e,n){return e=qv(e),BAe(t,FU()?Reflect.construct(e,n||[],qv(t).constructor):e.apply(t,n))}function BAe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UAe(t)}function UAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FU=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function zAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function $A(t,e,n){return e=VU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t){var e=WAe(t,"string");return xd(e)=="symbol"?e:e+""}function WAe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V0=function(t){function e(n){var r;return LAe(this,e),r=VAe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return zAe(e,t),FAe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Cw(r,RAe),a=this.props,l=a.viewBox,c=Cw(a,MAe);return!Eu(o,l)||!Eu(s,c)||!Eu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,y,g,v,x,b,w=f?-1:1,A=r.tickSize||d,E=Ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=y=r.coordinate,v=s+ +!f*l,g=v-w*A,b=g-w*h,x=E;break;case"left":g=v=r.coordinate,y=o+ +!f*a,m=y-w*A,x=m-w*h,b=E;break;case"right":g=v=r.coordinate,y=o+ +f*a,m=y+w*A,x=m+w*h,b=E;break;default:m=y=r.coordinate,v=s+ +f*l,g=v+w*A,b=g+w*h,x=E;break}return{line:{x1:m,y1:g,x2:y,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=Zn(Zn(Zn({},It(this.props,!1)),It(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Zn(Zn({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var m=+(l==="left"&&!c||l==="right"&&c);f=Zn(Zn({},f),{},{x1:i+m*s,y1:o,x2:i+m*s,y2:o+a})}return q.createElement("line",cu({},f,{className:At("recharts-cartesian-axis-line",no(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,m=OAe(Zn(Zn({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=It(this.props,!1),x=It(d,!1),b=Zn(Zn({},v),{},{fill:"none"},It(l,!1)),w=m.map(function(A,E){var C=s.getTickLineCoord(A),_=C.line,T=C.tick,N=Zn(Zn(Zn(Zn({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:c},x),T),{},{index:E,payload:A,visibleTicksCount:m.length,tickFormatter:f});return q.createElement(Ln,cu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},ev(s.props,A,E)),l&&q.createElement("line",cu({},b,_,{className:At("recharts-cartesian-axis-tick-line",no(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(_t(f)?f(A.value,E):A.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Cw(f,DAe),y=h;return _t(l)&&(y=h&&h.length>0?l(this.props):l(m)),s<=0||a<=0||!y||!y.length?null:q.createElement(Ln,{className:At("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ur.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=At(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?s=q.cloneElement(r,Zn(Zn({},i),{},{className:a})):_t(r)?s=r(Zn(Zn({},i),{},{className:a})):s=q.createElement(pv,cu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(S.Component);$A(V0,"displayName","CartesianAxis");$A(V0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var HAe=["type","layout","connectNulls","ref"],qAe=["key"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function dR(t,e){if(t==null)return{};var n=GAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){So(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uc(t){return QAe(t)||XAe(t)||YAe(t)||KAe()}function KAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YAe(t,e){if(t){if(typeof t=="string")return j_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(t,e)}}function XAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QAe(t){if(Array.isArray(t))return j_(t)}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UU(r.key),r)}}function ZAe(t,e,n){return e&&hR(t.prototype,e),n&&hR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eCe(t,e,n){return e=Gv(e),tCe(t,BU()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function tCe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nCe(t)}function nCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function rCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function So(t,e,n){return e=UU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UU(t){var e=iCe(t,"string");return bd(e)=="symbol"?e:e+""}function iCe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var um=function(t){function e(){var n;JAe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=eCe(this,e,[].concat(i)),So(n,"state",{isAnimationFinished:!0,totalLength:0}),So(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),So(n,"getStrokeDasharray",function(s,a,l){var c=l.reduce(function(x,b){return x+b});if(!c)return n.generateSimpleStrokeDasharray(a,s);for(var d=Math.floor(s/c),f=s%c,h=a-s,m=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>f){m=[].concat(Uc(l.slice(0,y)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Uc(e.repeat(l,d)),Uc(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),So(n,"id",rm("recharts-line-")),So(n,"pathRef",function(s){n.mainCurve=s}),So(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),So(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return rCe(e,t),ZAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=ro(d,lm);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Di(g.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Ln,m,f.map(function(y){return q.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,d=a.dataKey,f=It(this.props,!1),h=It(l,!0),m=c.map(function(g,v){var x=Ti(Ti(Ti({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:c});return e.renderDotItem(l,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return q.createElement(Ln,lh({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,c=a.layout,d=a.connectNulls;a.ref;var f=dR(a,HAe),h=Ti(Ti(Ti({},It(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:d});return q.createElement(l_,lh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,y=s.animateNewValues,g=s.width,v=s.height,x=this.state,b=x.prevPoints,w=x.totalLength;return q.createElement(sa,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var E=A.t;if(b){var C=b.length/a.length,_=a.map(function(R,O){var $=Math.floor(O*C);if(b[$]){var F=b[$],U=Eo(F.x,R.x),H=Eo(F.y,R.y);return Ti(Ti({},R),{},{x:U(E),y:H(E)})}if(y){var V=Eo(g*2,R.x),L=Eo(v/2,R.y);return Ti(Ti({},R),{},{x:V(E),y:L(E)})}return Ti(Ti({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(_,r,i)}var T=Eo(0,w),N=T(E),k;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=o.getStrokeDasharray(N,w,j)}else k=o.generateSimpleStrokeDasharray(w,N);return o.renderCurveStatically(a,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return a&&s&&s.length&&(!c&&d>0||!j0(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=a.length===1,w=At("recharts-line",l),A=c&&c.allowDataOverflow,E=d&&d.allowDataOverflow,C=A||E,_=vt(v)?this.id:v,T=(r=It(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=T.r,k=N===void 0?3:N,j=T.strokeWidth,R=j===void 0?2:j,O=Gae(s)?s:{},$=O.clipDot,F=$===void 0?!0:$,U=k*2+R;return q.createElement(Ln,{className:w},A||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(_)},q.createElement("rect",{x:A?h:h-m/2,y:E?f:f-y/2,width:A?m:m*2,height:E?y:y*2})),!F&&q.createElement("clipPath",{id:"clipPath-dots-".concat(_)},q.createElement("rect",{x:h-U/2,y:f-U/2,width:m+U,height:y+U}))):null,!b&&this.renderCurve(C,_),this.renderErrorBar(C,_),(b||s)&&this.renderDots(C,F,_),(!g||x)&&el.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Uc(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Uc(s),Uc(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(q.isValidElement(r))o=q.cloneElement(r,i);else if(_t(r))o=r(i);else{var s=i.key,a=dR(i,qAe),l=At("recharts-line-dot",typeof r!="boolean"?r.className:"");o=q.createElement(OA,lh({key:s},a,{className:l}))}return o}}])}(S.PureComponent);So(um,"displayName","Line");So(um,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Hs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});So(um,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,m){var y=Di(h,s);return d==="horizontal"?{x:Yk({axis:n,ticks:i,bandSize:a,entry:h,index:m}),y:vt(y)?null:r.scale(y),value:y,payload:h}:{x:vt(y)?null:n.scale(y),y:Yk({axis:r,ticks:o,bandSize:a,entry:h,index:m}),value:y,payload:h}});return Ti({points:f,layout:d},c)});function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function oCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HU(r.key),r)}}function aCe(t,e,n){return e&&sCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lCe(t,e,n){return e=Kv(e),cCe(t,zU()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function cCe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uCe(t)}function uCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function dCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function WU(t,e,n){return e=HU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HU(t){var e=fCe(t,"string");return wd(e)=="symbol"?e:e+""}function fCe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function hCe(t){var e=t.xAxisId,n=jU(),r=IU(),i=CU(e);return i==null?null:S.createElement(V0,O_({},i,{className:At("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Wl(s,!0)}}))}var B0=function(t){function e(){return oCe(this,e),lCe(this,e,arguments)}return dCe(e,t),aCe(e,[{key:"render",value:function(){return S.createElement(hCe,this.props)}}])}(S.Component);WU(B0,"displayName","XAxis");WU(B0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function pCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KU(r.key),r)}}function gCe(t,e,n){return e&&mCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yCe(t,e,n){return e=Yv(e),vCe(t,qU()?Reflect.construct(e,n||[],Yv(t).constructor):e.apply(t,n))}function vCe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xCe(t)}function xCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qU=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function bCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function GU(t,e,n){return e=KU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KU(t){var e=wCe(t,"string");return Sd(e)=="symbol"?e:e+""}function wCe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}var SCe=function(e){var n=e.yAxisId,r=jU(),i=IU(),o=NU(n);return o==null?null:S.createElement(V0,M_({},o,{className:At("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Wl(a,!0)}}))},U0=function(t){function e(){return pCe(this,e),yCe(this,e,arguments)}return bCe(e,t),gCe(e,[{key:"render",value:function(){return S.createElement(SCe,this.props)}}])}(S.Component);GU(U0,"displayName","YAxis");GU(U0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pR(t){return PCe(t)||TCe(t)||ECe(t)||_Ce()}function _Ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ECe(t,e){if(t){if(typeof t=="string")return D_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(t,e)}}function TCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PCe(t){if(Array.isArray(t))return D_(t)}function D_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $_=function(e,n,r,i,o){var s=ro(e,DA),a=ro(e,$0),l=[].concat(pR(s),pR(a)),c=ro(e,F0),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===r&&ys(v.props,"extendDomain")&&Ae(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),c.length){var m="".concat(f,"1"),y="".concat(f,"2");h=c.reduce(function(g,v){if(v.props[d]===r&&ys(v.props,"extendDomain")&&Ae(v.props[m])&&Ae(v.props[y])){var x=v.props[m],b=v.props[y];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,v){return Ae(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},YU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,h,m,y){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,y),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var A=v.length,E;for(w=0;w<A;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(E=1,b=new Array(x-1);E<x;E++)b[E-1]=arguments[E];v[w].fn.apply(v[w].context,b)}}return!0},a.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,m);else{for(var g=0,v=[],x=y.length;g<x;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(YU);var ACe=YU.exports;const CCe=nn(ACe);var Nw=new CCe,jw="recharts.syncMouseEvents";function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function NCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XU(r.key),r)}}function ICe(t,e,n){return e&&jCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iw(t,e,n){return e=XU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XU(t){var e=kCe(t,"string");return Pp(e)=="symbol"?e:e+""}function kCe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OCe=function(){function t(){NCe(this,t),Iw(this,"activeIndex",0),Iw(this,"coordinateList",[]),Iw(this,"layout","horizontal")}return ICe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,h=s+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function RCe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ae(r)&&Ae(i))return!0}return!1}function MCe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function QU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Ar(e,n,r,i),a=Ar(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function DCe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=Ar(a,l,c,f),m=Ar(a,l,d,f);r=h.x,i=h.y,o=m.x,s=m.y}else return QU(e);return[{x:r,y:i},{x:o,y:s}]}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){$Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ce(t,e,n){return e=LCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LCe(t){var e=FCe(t,"string");return Ap(e)=="symbol"?e:e+""}function FCe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VCe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,g=l_;if(h==="ScatterChart")y=s,g=gEe;else if(h==="BarChart")y=MCe(f,s,l,d),g=kA;else if(f==="radial"){var v=QU(s),x=v.cx,b=v.cy,w=v.radius,A=v.startAngle,E=v.endAngle;y={cx:x,cy:b,startAngle:A,endAngle:E,innerRadius:w,outerRadius:w},g=tU}else y={points:DCe(f,s,l)},g=l_;var C=yg(yg(yg(yg({stroke:"#ccc",pointerEvents:"none"},l),y),It(m,!1)),{},{payload:a,payloadIndex:c,className:At("recharts-tooltip-cursor",m.className)});return S.isValidElement(m)?S.cloneElement(m,C):S.createElement(g,C)}var BCe=["item"],UCe=["children","className","width","height","style","compact","title","desc"];function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}function gR(t,e){return HCe(t)||WCe(t,e)||ZU(t,e)||zCe()}function zCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function HCe(t){if(Array.isArray(t))return t}function yR(t,e){if(t==null)return{};var n=qCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e9(r.key),r)}}function YCe(t,e,n){return e&&KCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XCe(t,e,n){return e=Xv(e),QCe(t,JU()?Reflect.construct(e,n||[],Xv(t).constructor):e.apply(t,n))}function QCe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JCe(t)}function JCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JU=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xv(t)}function ZCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function Ed(t){return nNe(t)||tNe(t)||ZU(t)||eNe()}function eNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZU(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function tNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nNe(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){Qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qe(t,e,n){return e=e9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e9(t){var e=rNe(t,"string");return _d(e)=="symbol"?e:e+""}function rNe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iNe={xAxis:["bottom","top"],yAxis:["left","right"]},oNe={width:"100%",height:"100%"},t9={x:0,y:0};function vg(t){return t}var sNe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},aNe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return ne(ne(ne({},i),Ar(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return ne(ne(ne({},i),Ar(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return t9},z0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Ed(a),Ed(c)):a},[]);return s.length>0?s:e&&e.length&&Ae(i)&&Ae(o)?e.slice(i,o+1):[]};function n9(t){return t==="number"?[0,"auto"]:void 0}var V_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=z0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?a:f;h=Jy(m,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Ed(l),[JB(c,h)]):l},[])},xR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=sNe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=Jwe(s,a,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=V_(e,n,d,f),m=aNe(r,a,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},lNe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=XB(d,o);return r.reduce(function(y,g){var v,x=g.type.defaultProps!==void 0?ne(ne({},g.type.defaultProps),g.props):g.props,b=x.type,w=x.dataKey,A=x.allowDataOverflow,E=x.allowDuplicatedCategory,C=x.scale,_=x.ticks,T=x.includeHidden,N=x[s];if(y[N])return y;var k=z0(e.data,{graphicalItems:i.filter(function(te){var ye,Ce=s in te.props?te.props[s]:(ye=te.type.defaultProps)===null||ye===void 0?void 0:ye[s];return Ce===N}),dataStartIndex:l,dataEndIndex:c}),j=k.length,R,O,$;RCe(x.domain,A,b)&&(R=r_(x.domain,null,A),m&&(b==="number"||C!=="auto")&&($=sh(k,w,"category")));var F=n9(b);if(!R||R.length===0){var U,H=(U=x.domain)!==null&&U!==void 0?U:F;if(w){if(R=sh(k,w,b),b==="category"&&m){var V=$ae(R);E&&V?(O=R,R=$v(0,j)):E||(R=Zk(H,R,g).reduce(function(te,ye){return te.indexOf(ye)>=0?te:[].concat(Ed(te),[ye])},[]))}else if(b==="category")E?R=R.filter(function(te){return te!==""&&!vt(te)}):R=Zk(H,R,g).reduce(function(te,ye){return te.indexOf(ye)>=0||ye===""||vt(ye)?te:[].concat(Ed(te),[ye])},[]);else if(b==="number"){var L=r1e(k,i.filter(function(te){var ye,Ce,Ve=s in te.props?te.props[s]:(ye=te.type.defaultProps)===null||ye===void 0?void 0:ye[s],Ye="hide"in te.props?te.props.hide:(Ce=te.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return Ve===N&&(T||!Ye)}),w,o,d);L&&(R=L)}m&&(b==="number"||C!=="auto")&&($=sh(k,w,"category"))}else m?R=$v(0,j):a&&a[N]&&a[N].hasStack&&b==="number"?R=h==="expand"?[0,1]:QB(a[N].stackGroups,l,c):R=YB(k,i.filter(function(te){var ye=s in te.props?te.props[s]:te.type.defaultProps[s],Ce="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return ye===N&&(T||!Ce)}),b,d,!0);if(b==="number")R=$_(f,R,N,o,_),H&&(R=r_(H,R,A));else if(b==="category"&&H){var X=H,Y=R.every(function(te){return X.indexOf(te)>=0});Y&&(R=X)}}return ne(ne({},y),{},Qe({},N,ne(ne({},x),{},{axisType:o,domain:R,categoricalDomain:$,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:F,isCategorical:m,layout:d})))},{})},cNe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=z0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=h.length,y=XB(d,o),g=-1;return r.reduce(function(v,x){var b=x.type.defaultProps!==void 0?ne(ne({},x.type.defaultProps),x.props):x.props,w=b[s],A=n9("number");if(!v[w]){g++;var E;return y?E=$v(0,m):a&&a[w]&&a[w].hasStack?(E=QB(a[w].stackGroups,l,c),E=$_(f,E,w,o)):(E=r_(A,YB(h,r.filter(function(C){var _,T,N=s in C.props?C.props[s]:(_=C.type.defaultProps)===null||_===void 0?void 0:_[s],k="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return N===w&&!k}),"number",d),i.defaultProps.allowDataOverflow),E=$_(f,E,w,o)),ne(ne({},v),{},Qe({},w,ne(ne({axisType:o},i.defaultProps),{},{hide:!0,orientation:no(iNe,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:A,isCategorical:y,layout:d})))}return v},{})},uNe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=ro(d,o),m={};return h&&h.length?m=lNe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(m=cNe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),m},dNe=function(e){var n=Gc(e),r=Wl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:oA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Cv(n,r)}},bR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ni(n,pd),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},fNe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ws(n&&n.type);return r&&r.indexOf("Bar")>=0})},wR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hNe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,d=r.height,f=r.children,h=r.margin||{},m=Ni(f,pd),y=Ni(f,Tu),g=Object.keys(l).reduce(function(E,C){var _=l[C],T=_.orientation;return!_.mirror&&!_.hide?ne(ne({},E),{},Qe({},T,E[T]+_.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,C){var _=s[C],T=_.orientation;return!_.mirror&&!_.hide?ne(ne({},E),{},Qe({},T,no(E,"".concat(T))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),x=ne(ne({},v),g),b=x.bottom;m&&(x.bottom+=m.props.height||pd.defaultProps.height),y&&n&&(x=t1e(x,i,r,n));var w=c-x.left-x.right,A=d-x.top-x.bottom;return ne(ne({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(A,0)})},pNe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},mNe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,b){var w=b.graphicalItems,A=b.stackGroups,E=b.offset,C=b.updateId,_=b.dataStartIndex,T=b.dataEndIndex,N=x.barSize,k=x.layout,j=x.barGap,R=x.barCategoryGap,O=x.maxBarSize,$=wR(k),F=$.numericAxisName,U=$.cateAxisName,H=fNe(w),V=[];return w.forEach(function(L,X){var Y=z0(x.data,{graphicalItems:[L],dataStartIndex:_,dataEndIndex:T}),te=L.type.defaultProps!==void 0?ne(ne({},L.type.defaultProps),L.props):L.props,ye=te.dataKey,Ce=te.maxBarSize,Ve=te["".concat(F,"Id")],Ye=te["".concat(U,"Id")],fe={},Ee=l.reduce(function(Dt,Ct){var Qt=b["".concat(Ct.axisType,"Map")],Yn=te["".concat(Ct.axisType,"Id")];Qt&&Qt[Yn]||Ct.axisType==="zAxis"||bc();var Jt=Qt[Yn];return ne(ne({},Dt),{},Qe(Qe({},Ct.axisType,Jt),"".concat(Ct.axisType,"Ticks"),Wl(Jt)))},fe),re=Ee[U],ue=Ee["".concat(U,"Ticks")],ie=A&&A[Ve]&&A[Ve].hasStack&&m1e(L,A[Ve].stackGroups),z=Ws(L.type).indexOf("Bar")>=0,he=Cv(re,ue),xe=[],Ge=H&&Zwe({barSize:N,stackGroups:A,totalSize:pNe(Ee,U)});if(z){var je,Te,mt=vt(Ce)?O:Ce,ve=(je=(Te=Cv(re,ue,!0))!==null&&Te!==void 0?Te:mt)!==null&&je!==void 0?je:0;xe=e1e({barGap:j,barCategoryGap:R,bandSize:ve!==he?ve:he,sizeList:Ge[Ye],maxBarSize:mt}),ve!==he&&(xe=xe.map(function(Dt){return ne(ne({},Dt),{},{position:ne(ne({},Dt.position),{},{offset:Dt.position.offset-ve/2})})}))}var We=L&&L.type&&L.type.getComposedData;We&&V.push({props:ne(ne({},We(ne(ne({},Ee),{},{displayedData:Y,props:x,dataKey:ye,item:L,bandSize:he,barPosition:xe,offset:E,stackedData:ie,layout:k,dataStartIndex:_,dataEndIndex:T}))),{},Qe(Qe(Qe({key:L.key||"item-".concat(X)},F,Ee[F]),U,Ee[U]),"animationId",C)),childIndex:Xae(L,x.children),item:L})}),V},m=function(x,b){var w=x.props,A=x.dataStartIndex,E=x.dataEndIndex,C=x.updateId;if(!qI({props:w}))return null;var _=w.children,T=w.layout,N=w.stackOffset,k=w.data,j=w.reverseStackOrder,R=wR(T),O=R.numericAxisName,$=R.cateAxisName,F=ro(_,r),U=f1e(k,F,"".concat(O,"Id"),"".concat($,"Id"),N,j),H=l.reduce(function(te,ye){var Ce="".concat(ye.axisType,"Map");return ne(ne({},te),{},Qe({},Ce,uNe(w,ne(ne({},ye),{},{graphicalItems:F,stackGroups:ye.axisType===O&&U,dataStartIndex:A,dataEndIndex:E}))))},{}),V=hNe(ne(ne({},H),{},{props:w,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(H).forEach(function(te){H[te]=d(w,H[te],V,te.replace("Map",""),n)});var L=H["".concat($,"Map")],X=dNe(L),Y=h(w,ne(ne({},H),{},{dataStartIndex:A,dataEndIndex:E,updateId:C,graphicalItems:F,stackGroups:U,offset:V}));return ne(ne({formattedGraphicalItems:Y,graphicalItems:F,offset:V,stackGroups:U},X),H)},y=function(v){function x(b){var w,A,E;return GCe(this,x),E=XCe(this,x,[b]),Qe(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qe(E,"accessibilityManager",new OCe),Qe(E,"handleLegendBBoxUpdate",function(C){if(C){var _=E.state,T=_.dataStartIndex,N=_.dataEndIndex,k=_.updateId;E.setState(ne({legendBBox:C},m({props:E.props,dataStartIndex:T,dataEndIndex:N,updateId:k},ne(ne({},E.state),{},{legendBBox:C}))))}}),Qe(E,"handleReceiveSyncEvent",function(C,_,T){if(E.props.syncId===C){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),Qe(E,"handleBrushChange",function(C){var _=C.startIndex,T=C.endIndex;if(_!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return ne({dataStartIndex:_,dataEndIndex:T},m({props:E.props,dataStartIndex:_,dataEndIndex:T,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:T})}}),Qe(E,"handleMouseEnter",function(C){var _=E.getMouseInfo(C);if(_){var T=ne(ne({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseEnter;_t(N)&&N(T,C)}}),Qe(E,"triggeredAfterMouseMove",function(C){var _=E.getMouseInfo(C),T=_?ne(ne({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseMove;_t(N)&&N(T,C)}),Qe(E,"handleItemMouseEnter",function(C){E.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Qe(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Qe(E,"handleMouseMove",function(C){C.persist(),E.throttleTriggeredAfterMouseMove(C)}),Qe(E,"handleMouseLeave",function(C){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var T=E.props.onMouseLeave;_t(T)&&T(_,C)}),Qe(E,"handleOuterEvent",function(C){var _=Yae(C),T=no(E.props,"".concat(_));if(_&&_t(T)){var N,k;/.*touch.*/i.test(_)?k=E.getMouseInfo(C.changedTouches[0]):k=E.getMouseInfo(C),T((N=k)!==null&&N!==void 0?N:{},C)}}),Qe(E,"handleClick",function(C){var _=E.getMouseInfo(C);if(_){var T=ne(ne({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onClick;_t(N)&&N(T,C)}}),Qe(E,"handleMouseDown",function(C){var _=E.props.onMouseDown;if(_t(_)){var T=E.getMouseInfo(C);_(T,C)}}),Qe(E,"handleMouseUp",function(C){var _=E.props.onMouseUp;if(_t(_)){var T=E.getMouseInfo(C);_(T,C)}}),Qe(E,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Qe(E,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseDown(C.changedTouches[0])}),Qe(E,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseUp(C.changedTouches[0])}),Qe(E,"handleDoubleClick",function(C){var _=E.props.onDoubleClick;if(_t(_)){var T=E.getMouseInfo(C);_(T,C)}}),Qe(E,"handleContextMenu",function(C){var _=E.props.onContextMenu;if(_t(_)){var T=E.getMouseInfo(C);_(T,C)}}),Qe(E,"triggerSyncEvent",function(C){E.props.syncId!==void 0&&Nw.emit(jw,E.props.syncId,C,E.eventEmitterSymbol)}),Qe(E,"applySyncEvent",function(C){var _=E.props,T=_.layout,N=_.syncMethod,k=E.state.updateId,j=C.dataStartIndex,R=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)E.setState(ne({dataStartIndex:j,dataEndIndex:R},m({props:E.props,dataStartIndex:j,dataEndIndex:R,updateId:k},E.state)));else if(C.activeTooltipIndex!==void 0){var O=C.chartX,$=C.chartY,F=C.activeTooltipIndex,U=E.state,H=U.offset,V=U.tooltipTicks;if(!H)return;if(typeof N=="function")F=N(V,C);else if(N==="value"){F=-1;for(var L=0;L<V.length;L++)if(V[L].value===C.activeLabel){F=L;break}}var X=ne(ne({},H),{},{x:H.left,y:H.top}),Y=Math.min(O,X.x+X.width),te=Math.min($,X.y+X.height),ye=V[F]&&V[F].value,Ce=V_(E.state,E.props.data,F),Ve=V[F]?{x:T==="horizontal"?V[F].coordinate:Y,y:T==="horizontal"?te:V[F].coordinate}:t9;E.setState(ne(ne({},C),{},{activeLabel:ye,activeCoordinate:Ve,activePayload:Ce,activeTooltipIndex:F}))}else E.setState(C)}),Qe(E,"renderCursor",function(C){var _,T=E.state,N=T.isTooltipActive,k=T.activeCoordinate,j=T.activePayload,R=T.offset,O=T.activeTooltipIndex,$=T.tooltipAxisBandSize,F=E.getTooltipEventType(),U=(_=C.props.active)!==null&&_!==void 0?_:N,H=E.props.layout,V=C.key||"_recharts-cursor";return q.createElement(VCe,{key:V,activeCoordinate:k,activePayload:j,activeTooltipIndex:O,chartName:n,element:C,isActive:U,layout:H,offset:R,tooltipAxisBandSize:$,tooltipEventType:F})}),Qe(E,"renderPolarAxis",function(C,_,T){var N=no(C,"type.axisType"),k=no(E.state,"".concat(N,"Map")),j=C.type.defaultProps,R=j!==void 0?ne(ne({},j),C.props):C.props,O=k&&k[R["".concat(N,"Id")]];return S.cloneElement(C,ne(ne({},O),{},{className:At(N,O.className),key:C.key||"".concat(_,"-").concat(T),ticks:Wl(O,!0)}))}),Qe(E,"renderPolarGrid",function(C){var _=C.props,T=_.radialLines,N=_.polarAngles,k=_.polarRadius,j=E.state,R=j.radiusAxisMap,O=j.angleAxisMap,$=Gc(R),F=Gc(O),U=F.cx,H=F.cy,V=F.innerRadius,L=F.outerRadius;return S.cloneElement(C,{polarAngles:Array.isArray(N)?N:Wl(F,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(k)?k:Wl($,!0).map(function(X){return X.coordinate}),cx:U,cy:H,innerRadius:V,outerRadius:L,key:C.key||"polar-grid",radialLines:T})}),Qe(E,"renderLegend",function(){var C=E.state.formattedGraphicalItems,_=E.props,T=_.children,N=_.width,k=_.height,j=E.props.margin||{},R=N-(j.left||0)-(j.right||0),O=GB({children:T,formattedGraphicalItems:C,legendWidth:R,legendContent:c});if(!O)return null;var $=O.item,F=yR(O,BCe);return S.cloneElement($,ne(ne({},F),{},{chartWidth:N,chartHeight:k,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Qe(E,"renderTooltip",function(){var C,_=E.props,T=_.children,N=_.accessibilityLayer,k=Ni(T,Yo);if(!k)return null;var j=E.state,R=j.isTooltipActive,O=j.activeCoordinate,$=j.activePayload,F=j.activeLabel,U=j.offset,H=(C=k.props.active)!==null&&C!==void 0?C:R;return S.cloneElement(k,{viewBox:ne(ne({},U),{},{x:U.left,y:U.top}),active:H,label:F,payload:H?$:[],coordinate:O,accessibilityLayer:N})}),Qe(E,"renderBrush",function(C){var _=E.props,T=_.margin,N=_.data,k=E.state,j=k.offset,R=k.dataStartIndex,O=k.dataEndIndex,$=k.updateId;return S.cloneElement(C,{key:C.key||"_recharts-brush",onChange:hg(E.handleBrushChange,C.props.onChange),data:N,x:Ae(C.props.x)?C.props.x:j.left,y:Ae(C.props.y)?C.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:Ae(C.props.width)?C.props.width:j.width,startIndex:R,endIndex:O,updateId:"brush-".concat($)})}),Qe(E,"renderReferenceElement",function(C,_,T){if(!C)return null;var N=E,k=N.clipPathId,j=E.state,R=j.xAxisMap,O=j.yAxisMap,$=j.offset,F=C.type.defaultProps||{},U=C.props,H=U.xAxisId,V=H===void 0?F.xAxisId:H,L=U.yAxisId,X=L===void 0?F.yAxisId:L;return S.cloneElement(C,{key:C.key||"".concat(_,"-").concat(T),xAxis:R[V],yAxis:O[X],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:k})}),Qe(E,"renderActivePoints",function(C){var _=C.item,T=C.activePoint,N=C.basePoint,k=C.childIndex,j=C.isRange,R=[],O=_.props.key,$=_.item.type.defaultProps!==void 0?ne(ne({},_.item.type.defaultProps),_.item.props):_.item.props,F=$.activeDot,U=$.dataKey,H=ne(ne({index:k,dataKey:U,cx:T.x,cy:T.y,r:4,fill:IA(_.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},It(F,!1)),Zy(F));return R.push(x.renderActiveDot(F,H,"".concat(O,"-activePoint-").concat(k))),N?R.push(x.renderActiveDot(F,ne(ne({},H),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(k))):j&&R.push(null),R}),Qe(E,"renderGraphicChild",function(C,_,T){var N=E.filterFormatItem(C,_,T);if(!N)return null;var k=E.getTooltipEventType(),j=E.state,R=j.isTooltipActive,O=j.tooltipAxis,$=j.activeTooltipIndex,F=j.activeLabel,U=E.props.children,H=Ni(U,Yo),V=N.props,L=V.points,X=V.isRange,Y=V.baseLine,te=N.item.type.defaultProps!==void 0?ne(ne({},N.item.type.defaultProps),N.item.props):N.item.props,ye=te.activeDot,Ce=te.hide,Ve=te.activeBar,Ye=te.activeShape,fe=!!(!Ce&&R&&H&&(ye||Ve||Ye)),Ee={};k!=="axis"&&H&&H.props.trigger==="click"?Ee={onClick:hg(E.handleItemMouseEnter,C.props.onClick)}:k!=="axis"&&(Ee={onMouseLeave:hg(E.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:hg(E.handleItemMouseEnter,C.props.onMouseEnter)});var re=S.cloneElement(C,ne(ne({},N.props),Ee));function ue(Ct){return typeof O.dataKey=="function"?O.dataKey(Ct.payload):null}if(fe)if($>=0){var ie,z;if(O.dataKey&&!O.allowDuplicatedCategory){var he=typeof O.dataKey=="function"?ue:"payload.".concat(O.dataKey.toString());ie=Jy(L,he,F),z=X&&Y&&Jy(Y,he,F)}else ie=L==null?void 0:L[$],z=X&&Y&&Y[$];if(Ye||Ve){var xe=C.props.activeIndex!==void 0?C.props.activeIndex:$;return[S.cloneElement(C,ne(ne(ne({},N.props),Ee),{},{activeIndex:xe})),null,null]}if(!vt(ie))return[re].concat(Ed(E.renderActivePoints({item:N,activePoint:ie,basePoint:z,childIndex:$,isRange:X})))}else{var Ge,je=(Ge=E.getItemByXY(E.state.activeCoordinate))!==null&&Ge!==void 0?Ge:{graphicalItem:re},Te=je.graphicalItem,mt=Te.item,ve=mt===void 0?C:mt,We=Te.childIndex,Dt=ne(ne(ne({},N.props),Ee),{},{activeIndex:We});return[S.cloneElement(ve,Dt),null,null]}return X?[re,null,null]:[re,null]}),Qe(E,"renderCustomized",function(C,_,T){return S.cloneElement(C,ne(ne({key:"recharts-customized-".concat(T)},E.props),E.state))}),Qe(E,"renderMap",{CartesianGrid:{handler:vg,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:vg},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:vg},YAxis:{handler:vg},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:rm("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=q6(E.triggeredAfterMouseMove,(A=b.throttleDelay)!==null&&A!==void 0?A:1e3/60),E.state={},E}return ZCe(x,v),YCe(x,[{key:"componentDidMount",value:function(){var w,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,A=w.children,E=w.data,C=w.height,_=w.layout,T=Ni(A,Yo);if(T){var N=T.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,j=V_(this.state,E,N,k),R=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+C)/2,$=_==="horizontal",F=$?{x:R,y:O}:{y:R,x:O},U=this.state.formattedGraphicalItems.find(function(V){var L=V.item;return L.type.name==="Scatter"});U&&(F=ne(ne({},F),U.props.points[N].tooltipPosition),j=U.props.points[N].tooltipPayload);var H={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:k,activePayload:j,activeCoordinate:F};this.setState(H),this.renderCursor(T),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,C;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){vS([Ni(w.children,Yo)],[Ni(this.props.children,Yo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ni(this.props.children,Yo);if(w&&typeof w.props.shared=="boolean"){var A=w.props.shared?"axis":"item";return a.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var A=this.container,E=A.getBoundingClientRect(),C=Eve(E),_={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},T=E.width/A.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,T);if(!N)return null;var k=this.state,j=k.xAxisMap,R=k.yAxisMap,O=this.getTooltipEventType(),$=xR(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&j&&R){var F=Gc(j).scale,U=Gc(R).scale,H=F&&F.invert?F.invert(_.chartX):null,V=U&&U.invert?U.invert(_.chartY):null;return ne(ne({},_),{},{xValue:H,yValue:V},$)}return $?ne(ne({},_),$):null}},{key:"inRange",value:function(w,A){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,_=w/E,T=A/E;if(C==="horizontal"||C==="vertical"){var N=this.state.offset,k=_>=N.left&&_<=N.left+N.width&&T>=N.top&&T<=N.top+N.height;return k?{x:_,y:T}:null}var j=this.state,R=j.angleAxisMap,O=j.radiusAxisMap;if(R&&O){var $=Gc(R);return nO({x:_,y:T},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,A=this.getTooltipEventType(),E=Ni(w,Yo),C={};E&&A==="axis"&&(E.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Zy(this.props,this.handleOuterEvent);return ne(ne({},_),C)}},{key:"addListener",value:function(){Nw.on(jw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Nw.removeListener(jw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,A,E){for(var C=this.state.formattedGraphicalItems,_=0,T=C.length;_<T;_++){var N=C[_];if(N.item===w||N.props.key===w.key||A===Ws(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,A=this.state.offset,E=A.left,C=A.top,_=A.height,T=A.width;return q.createElement("defs",null,q.createElement("clipPath",{id:w},q.createElement("rect",{x:E,y:C,height:_,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(A,E){var C=gR(E,2),_=C[0],T=C[1];return ne(ne({},A),{},Qe({},_,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(A,E){var C=gR(E,2),_=C[0],T=C[1];return ne(ne({},A),{},Qe({},_,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(w){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(w){var A=this.state,E=A.formattedGraphicalItems,C=A.activeItem;if(E&&E.length)for(var _=0,T=E.length;_<T;_++){var N=E[_],k=N.props,j=N.item,R=j.type.defaultProps!==void 0?ne(ne({},j.type.defaultProps),j.props):j.props,O=Ws(j.type);if(O==="Bar"){var $=(k.data||[]).find(function(V){return sEe(w,V)});if($)return{graphicalItem:N,payload:$}}else if(O==="RadialBar"){var F=(k.data||[]).find(function(V){return nO(w,V)});if(F)return{graphicalItem:N,payload:F}}else if(O0(N,C)||R0(N,C)||wp(N,C)){var U=cTe({graphicalItem:N,activeTooltipItem:C,itemData:R.data}),H=R.activeIndex===void 0?U:R.activeIndex;return{graphicalItem:ne(ne({},N),{},{childIndex:H}),payload:wp(N,C)?R.data[U]:N.props.data[U]}}}return null}},{key:"render",value:function(){var w=this;if(!qI(this))return null;var A=this.props,E=A.children,C=A.className,_=A.width,T=A.height,N=A.style,k=A.compact,j=A.title,R=A.desc,O=yR(A,UCe),$=It(O,!1);if(k)return q.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(bS,uu({},$,{width:_,height:T,title:j,desc:R}),this.renderClipPath(),KI(E,this.renderMap)));if(this.props.accessibilityLayer){var F,U;$.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(V){w.accessibilityManager.keyboardEvent(V)},$.onFocus=function(){w.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return q.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",uu({className:At("recharts-wrapper",C),style:ne({position:"relative",cursor:"default",width:_,height:T},N)},H,{ref:function(L){w.container=L}}),q.createElement(bS,uu({},$,{width:_,height:T,title:j,desc:R,style:oNe}),this.renderClipPath(),KI(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);Qe(y,"displayName",n),Qe(y,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Qe(y,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,w=v.data,A=v.children,E=v.width,C=v.height,_=v.layout,T=v.stackOffset,N=v.margin,k=x.dataStartIndex,j=x.dataEndIndex;if(x.updateId===void 0){var R=bR(v);return ne(ne(ne({},R),{},{updateId:0},m(ne(ne({props:v},R),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:E,prevHeight:C,prevLayout:_,prevStackOffset:T,prevMargin:N,prevChildren:A})}if(b!==x.prevDataKey||w!==x.prevData||E!==x.prevWidth||C!==x.prevHeight||_!==x.prevLayout||T!==x.prevStackOffset||!Eu(N,x.prevMargin)){var O=bR(v),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=ne(ne({},xR(x,w,_)),{},{updateId:x.updateId+1}),U=ne(ne(ne({},O),$),F);return ne(ne(ne({},U),m(ne({props:v},U),x)),{},{prevDataKey:b,prevData:w,prevWidth:E,prevHeight:C,prevLayout:_,prevStackOffset:T,prevMargin:N,prevChildren:A})}if(!vS(A,x.prevChildren)){var H,V,L,X,Y=Ni(A,pd),te=Y&&(H=(V=Y.props)===null||V===void 0?void 0:V.startIndex)!==null&&H!==void 0?H:k,ye=Y&&(L=(X=Y.props)===null||X===void 0?void 0:X.endIndex)!==null&&L!==void 0?L:j,Ce=te!==k||ye!==j,Ve=!vt(w),Ye=Ve&&!Ce?x.updateId:x.updateId+1;return ne(ne({updateId:Ye},m(ne(ne({props:v},x),{},{updateId:Ye,dataStartIndex:te,dataEndIndex:ye}),x)),{},{prevChildren:A,dataStartIndex:te,dataEndIndex:ye})}return null}),Qe(y,"renderActiveDot",function(v,x,b){var w;return S.isValidElement(v)?w=S.cloneElement(v,x):_t(v)?w=v(x):w=q.createElement(OA,x),q.createElement(Ln,{className:"recharts-active-dot",key:b},w)});var g=S.forwardRef(function(x,b){return q.createElement(y,uu({},x,{ref:b}))});return g.displayName=y.displayName,g},gNe=mNe({chartName:"LineChart",GraphicalChild:um,axisComponents:[{axisType:"xAxis",AxisComp:B0},{axisType:"yAxis",AxisComp:U0}],formatAxisMap:DPe});function yNe(t){return Object.prototype.toString.call(t)==="[object Object]"}function SR(t){return yNe(t)||Array.isArray(t)}function vNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function LA(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==o?!1:n.every(s=>{const a=t[s],l=e[s];return typeof a=="function"?`${a}`==`${l}`:!SR(a)||!SR(l)?a===l:LA(a,l)})}function _R(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function xNe(t,e){if(t.length!==e.length)return!1;const n=_R(t),r=_R(e);return n.every((i,o)=>{const s=r[o];return LA(i,s)})}function FA(t){return typeof t=="number"}function B_(t){return typeof t=="string"}function W0(t){return typeof t=="boolean"}function ER(t){return Object.prototype.toString.call(t)==="[object Object]"}function Sn(t){return Math.abs(t)}function VA(t){return Math.sign(t)}function ch(t,e){return Sn(t-e)}function bNe(t,e){if(t===0||e===0||Sn(t)<=Sn(e))return 0;const n=ch(Sn(t),Sn(e));return Sn(n/t)}function wNe(t){return Math.round(t*100)/100}function Cp(t){return Np(t).map(Number)}function Ro(t){return t[dm(t)]}function dm(t){return Math.max(0,t.length-1)}function BA(t,e){return e===dm(t)}function TR(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Np(t){return Object.keys(t)}function r9(t,e){return[t,e].reduce((n,r)=>(Np(r).forEach(i=>{const o=n[i],s=r[i],a=ER(o)&&ER(s);n[i]=a?r9(o,s):s}),n),{})}function U_(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function SNe(t,e){const n={start:r,center:i,end:o};function r(){return 0}function i(l){return o(l)/2}function o(l){return e-l}function s(l,c){return B_(t)?n[t](l):t(e,l,c)}return{measure:s}}function jp(){let t=[];function e(i,o,s,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(o,s,a),l=()=>i.removeEventListener(o,s,a);else{const c=i;c.addListener(s),l=()=>c.removeListener(s)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function _Ne(t,e,n,r){const i=jp(),o=1e3/60;let s=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&y()})}function d(){m(),i.clear()}function f(v){if(!l)return;s||(s=v,n(),n());const x=v-s;for(s=v,a+=x;a>=o;)n(),a-=o;const b=a/o;r(b),l&&(l=e.requestAnimationFrame(f))}function h(){l||(l=e.requestAnimationFrame(f))}function m(){e.cancelAnimationFrame(l),s=null,a=0,l=0}function y(){s=null,a=0}return{init:c,destroy:d,start:h,stop:m,update:n,render:r}}function ENe(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",o=r?"x":"y",s=!r&&n?-1:1,a=d(),l=f();function c(y){const{height:g,width:v}=y;return r?g:v}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function h(y){return y*s}return{scroll:i,cross:o,startEdge:a,endEdge:l,measureSize:c,direction:h}}function wc(t=0,e=0){const n=Sn(t-e);function r(c){return c<t}function i(c){return c>e}function o(c){return r(c)||i(c)}function s(c){return o(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:s,reachedAny:o,reachedMax:i,reachedMin:r,removeOffset:a}}function i9(t,e,n){const{constrain:r}=wc(0,t),i=t+1;let o=s(e);function s(h){return n?Sn((i+h)%i):r(h)}function a(){return o}function l(h){return o=s(h),f}function c(h){return d().set(a()+h)}function d(){return i9(t,a(),n)}const f={get:a,set:l,add:c,clone:d};return f}function TNe(t,e,n,r,i,o,s,a,l,c,d,f,h,m,y,g,v,x,b){const{cross:w,direction:A}=t,E=["INPUT","SELECT","TEXTAREA"],C={passive:!1},_=jp(),T=jp(),N=wc(50,225).constrain(m.measure(20)),k={mouse:300,touch:400},j={mouse:500,touch:600},R=y?43:25;let O=!1,$=0,F=0,U=!1,H=!1,V=!1,L=!1;function X(z){if(!b)return;function he(Ge){(W0(b)||b(z,Ge))&&Ye(Ge)}const xe=e;_.add(xe,"dragstart",Ge=>Ge.preventDefault(),C).add(xe,"touchmove",()=>{},C).add(xe,"touchend",()=>{}).add(xe,"touchstart",he).add(xe,"mousedown",he).add(xe,"touchcancel",Ee).add(xe,"contextmenu",Ee).add(xe,"click",re,!0)}function Y(){_.clear(),T.clear()}function te(){const z=L?n:e;T.add(z,"touchmove",fe,C).add(z,"touchend",Ee).add(z,"mousemove",fe,C).add(z,"mouseup",Ee)}function ye(z){const he=z.nodeName||"";return E.includes(he)}function Ce(){return(y?j:k)[L?"mouse":"touch"]}function Ve(z,he){const xe=f.add(VA(z)*-1),Ge=d.byDistance(z,!y).distance;return y||Sn(z)<N?Ge:v&&he?Ge*.5:d.byIndex(xe.get(),0).distance}function Ye(z){const he=U_(z,r);L=he,V=y&&he&&!z.buttons&&O,O=ch(i.get(),s.get())>=2,!(he&&z.button!==0)&&(ye(z.target)||(U=!0,o.pointerDown(z),c.useFriction(0).useDuration(0),i.set(s),te(),$=o.readPoint(z),F=o.readPoint(z,w),h.emit("pointerDown")))}function fe(z){if(!U_(z,r)&&z.touches.length>=2)return Ee(z);const xe=o.readPoint(z),Ge=o.readPoint(z,w),je=ch(xe,$),Te=ch(Ge,F);if(!H&&!L&&(!z.cancelable||(H=je>Te,!H)))return Ee(z);const mt=o.pointerMove(z);je>g&&(V=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(A(mt)),z.preventDefault()}function Ee(z){const xe=d.byDistance(0,!1).index!==f.get(),Ge=o.pointerUp(z)*Ce(),je=Ve(A(Ge),xe),Te=bNe(Ge,je),mt=R-10*Te,ve=x+Te/50;H=!1,U=!1,T.clear(),c.useDuration(mt).useFriction(ve),l.distance(je,!y),L=!1,h.emit("pointerUp")}function re(z){V&&(z.stopPropagation(),z.preventDefault(),V=!1)}function ue(){return U}return{init:X,destroy:Y,pointerDown:ue}}function PNe(t,e){let r,i;function o(f){return f.timeStamp}function s(f,h){const y=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(U_(f,e)?f:f.touches[0])[y]}function a(f){return r=f,i=f,s(f)}function l(f){const h=s(f)-s(i),m=o(f)-o(r)>170;return i=f,m&&(r=f),h}function c(f){if(!r||!i)return 0;const h=s(i)-s(r),m=o(f)-o(r),y=o(f)-o(i)>170,g=h/m;return m&&!y&&Sn(g)>.1?g:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:s}}function ANe(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:o,offsetHeight:s}=n;return{top:r,right:i+o,bottom:r+s,left:i,width:o,height:s}}return{measure:t}}function CNe(t){function e(r){return t*(r/100)}return{measure:e}}function NNe(t,e,n,r,i,o,s){const a=[t].concat(r);let l,c,d=[],f=!1;function h(v){return i.measureSize(s.measure(v))}function m(v){if(!o)return;c=h(t),d=r.map(h);function x(b){for(const w of b){if(f)return;const A=w.target===t,E=r.indexOf(w.target),C=A?c:d[E],_=h(A?t:r[E]);if(Sn(_-C)>=.5){v.reInit(),e.emit("resize");break}}}l=new ResizeObserver(b=>{(W0(o)||o(v,b))&&x(b)}),n.requestAnimationFrame(()=>{a.forEach(b=>l.observe(b))})}function y(){f=!0,l&&l.disconnect()}return{init:m,destroy:y}}function jNe(t,e,n,r,i,o){let s=0,a=0,l=i,c=o,d=t.get(),f=0;function h(){const C=r.get()-t.get(),_=!l;let T=0;return _?(s=0,n.set(r),t.set(r),T=C):(n.set(t),s+=C/l,s*=c,d+=s,t.add(s),T=d-f),a=VA(T),f=d,E}function m(){const C=r.get()-e.get();return Sn(C)<.001}function y(){return l}function g(){return a}function v(){return s}function x(){return w(i)}function b(){return A(o)}function w(C){return l=C,E}function A(C){return c=C,E}const E={direction:g,duration:y,velocity:v,seek:h,settled:m,useBaseFriction:b,useBaseDuration:x,useFriction:A,useDuration:w};return E}function INe(t,e,n,r,i){const o=i.measure(10),s=i.measure(50),a=wc(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(m){if(!c())return;const y=t.reachedMin(e.get())?"min":"max",g=Sn(t[y]-e.get()),v=n.get()-e.get(),x=a.constrain(g/s);n.subtract(v*x),!m&&Sn(v)<o&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(m){l=!m}return{shouldConstrain:c,constrain:d,toggleActive:f}}function kNe(t,e,n,r,i){const o=wc(-e+t,0),s=f(),a=d(),l=h();function c(y,g){return ch(y,g)<=1}function d(){const y=s[0],g=Ro(s),v=s.lastIndexOf(y),x=s.indexOf(g)+1;return wc(v,x)}function f(){return n.map((y,g)=>{const{min:v,max:x}=o,b=o.constrain(y),w=!g,A=BA(n,g);return w?x:A||c(v,b)?v:c(x,b)?x:b}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(e<=t+i)return[o.max];if(r==="keepSnaps")return s;const{min:y,max:g}=a;return s.slice(y,g)}return{snapsContained:l,scrollContainLimit:a}}function ONe(t,e,n){const r=e[0],i=n?r-t:Ro(e);return{limit:wc(i,r)}}function RNe(t,e,n,r){const o=e.min+.1,s=e.max+.1,{reachedMin:a,reachedMax:l}=wc(o,s);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!c(h))return;const m=t*(h*-1);r.forEach(y=>y.add(m))}return{loop:d}}function MNe(t){const{max:e,length:n}=t;function r(o){const s=o-e;return n?s/-n:0}return{get:r}}function DNe(t,e,n,r,i){const{startEdge:o,endEdge:s}=t,{groupSlides:a}=i,l=f().map(e.measure),c=h(),d=m();function f(){return a(r).map(g=>Ro(g)[s]-g[0][o]).map(Sn)}function h(){return r.map(g=>n[o]-g[o]).map(g=>-Sn(g))}function m(){return a(c).map(g=>g[0]).map((g,v)=>g+l[v])}return{snaps:c,snapsAligned:d}}function $Ne(t,e,n,r,i,o){const{groupSlides:s}=i,{min:a,max:l}=r,c=d();function d(){const h=s(o),m=!t||e==="keepSnaps";return n.length===1?[o]:m?h:h.slice(a,l).map((y,g,v)=>{const x=!g,b=BA(v,g);if(x){const w=Ro(v[0])+1;return TR(w)}if(b){const w=dm(o)-Ro(v)[0]+1;return TR(w,Ro(v)[0])}return y})}return{slideRegistry:c}}function LNe(t,e,n,r,i){const{reachedAny:o,removeOffset:s,constrain:a}=r;function l(y){return y.concat().sort((g,v)=>Sn(g)-Sn(v))[0]}function c(y){const g=t?s(y):a(y),v=e.map((b,w)=>({diff:d(b-g,0),index:w})).sort((b,w)=>Sn(b.diff)-Sn(w.diff)),{index:x}=v[0];return{index:x,distance:g}}function d(y,g){const v=[y,y+n,y-n];if(!t)return y;if(!g)return l(v);const x=v.filter(b=>VA(b)===g);return x.length?l(x):Ro(v)-n}function f(y,g){const v=e[y]-i.get(),x=d(v,g);return{index:y,distance:x}}function h(y,g){const v=i.get()+y,{index:x,distance:b}=c(v),w=!t&&o(v);if(!g||w)return{index:x,distance:y};const A=e[x]-b,E=y+d(A,0);return{index:x,distance:E}}return{byDistance:h,byIndex:f,shortcut:d}}function FNe(t,e,n,r,i,o,s){function a(f){const h=f.distance,m=f.index!==e.get();o.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(f.index),s.emit("select"))}function l(f,h){const m=i.byDistance(f,h);a(m)}function c(f,h){const m=e.clone().set(f),y=i.byIndex(m.get(),h);a(y)}return{distance:l,index:c}}function VNe(t,e,n,r,i,o,s,a){const l={passive:!0,capture:!0};let c=0;function d(m){if(!a)return;function y(g){if(new Date().getTime()-c>10)return;s.emit("slideFocusStart"),t.scrollLeft=0;const b=n.findIndex(w=>w.includes(g));FA(b)&&(i.useDuration(0),r.index(b,0),s.emit("slideFocus"))}o.add(document,"keydown",f,!1),e.forEach((g,v)=>{o.add(g,"focus",x=>{(W0(a)||a(m,x))&&y(v)},l)})}function f(m){m.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Lf(t){let e=t;function n(){return e}function r(l){e=s(l)}function i(l){e+=s(l)}function o(l){e-=s(l)}function s(l){return FA(l)?l:l.get()}return{get:n,set:r,add:i,subtract:o}}function o9(t,e){const n=t.scroll==="x"?s:a,r=e.style;let i=null,o=!1;function s(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(o)return;const m=wNe(t.direction(h));m!==i&&(r.transform=n(m),i=m)}function c(h){o=!h}function d(){o||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function BNe(t,e,n,r,i,o,s,a,l){const d=Cp(i),f=Cp(i).reverse(),h=x().concat(b());function m(_,T){return _.reduce((N,k)=>N-i[k],T)}function y(_,T){return _.reduce((N,k)=>m(N,T)>0?N.concat([k]):N,[])}function g(_){return o.map((T,N)=>({start:T-r[N]+.5+_,end:T+e-.5+_}))}function v(_,T,N){const k=g(T);return _.map(j=>{const R=N?0:-n,O=N?n:0,$=N?"end":"start",F=k[j][$];return{index:j,loopPoint:F,slideLocation:Lf(-1),translate:o9(t,l[j]),target:()=>a.get()>F?R:O}})}function x(){const _=s[0],T=y(f,_);return v(T,n,!1)}function b(){const _=e-s[0]-1,T=y(d,_);return v(T,-n,!0)}function w(){return h.every(({index:_})=>{const T=d.filter(N=>N!==_);return m(T,e)<=.1})}function A(){h.forEach(_=>{const{target:T,translate:N,slideLocation:k}=_,j=T();j!==k.get()&&(N.to(j),k.set(j))})}function E(){h.forEach(_=>_.translate.clear())}return{canLoop:w,clear:E,loop:A,loopPoints:h}}function UNe(t,e,n){let r,i=!1;function o(l){if(!n)return;function c(d){for(const f of d)if(f.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(W0(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function s(){r&&r.disconnect(),i=!0}return{init:o,destroy:s}}function zNe(t,e,n,r){const i={};let o=null,s=null,a,l=!1;function c(){a=new IntersectionObserver(y=>{l||(y.forEach(g=>{const v=e.indexOf(g.target);i[v]=g}),o=null,s=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(y=>a.observe(y))}function d(){a&&a.disconnect(),l=!0}function f(y){return Np(i).reduce((g,v)=>{const x=parseInt(v),{isIntersecting:b}=i[x];return(y&&b||!y&&!b)&&g.push(x),g},[])}function h(y=!0){if(y&&o)return o;if(!y&&s)return s;const g=f(y);return y&&(o=g),y||(s=g),g}return{init:c,destroy:d,get:h}}function WNe(t,e,n,r,i,o){const{measureSize:s,startEdge:a,endEdge:l}=t,c=n[0]&&i,d=y(),f=g(),h=n.map(s),m=v();function y(){if(!c)return 0;const b=n[0];return Sn(e[a]-b[a])}function g(){if(!c)return 0;const b=o.getComputedStyle(Ro(r));return parseFloat(b.getPropertyValue(`margin-${l}`))}function v(){return n.map((b,w,A)=>{const E=!w,C=BA(A,w);return E?h[w]+d:C?h[w]+f:A[w+1][a]-b[a]}).map(Sn)}return{slideSizes:h,slideSizesWithGaps:m,startGap:d,endGap:f}}function HNe(t,e,n,r,i,o,s,a,l){const{startEdge:c,endEdge:d,direction:f}=t,h=FA(n);function m(x,b){return Cp(x).filter(w=>w%b===0).map(w=>x.slice(w,w+b))}function y(x){return x.length?Cp(x).reduce((b,w,A)=>{const E=Ro(b)||0,C=E===0,_=w===dm(x),T=i[c]-o[E][c],N=i[c]-o[w][d],k=!r&&C?f(s):0,j=!r&&_?f(a):0,R=Sn(N-j-(T+k));return A&&R>e+l&&b.push(w),_&&b.push(x.length),b},[]).map((b,w,A)=>{const E=Math.max(A[w-1]||0);return x.slice(E,b)}):[]}function g(x){return h?m(x,n):y(x)}return{groupSlides:g}}function qNe(t,e,n,r,i,o,s){const{align:a,axis:l,direction:c,startIndex:d,loop:f,duration:h,dragFree:m,dragThreshold:y,inViewThreshold:g,slidesToScroll:v,skipSnaps:x,containScroll:b,watchResize:w,watchSlides:A,watchDrag:E,watchFocus:C}=o,_=2,T=ANe(),N=T.measure(e),k=n.map(T.measure),j=ENe(l,c),R=j.measureSize(N),O=CNe(R),$=SNe(a,R),F=!f&&!!b,U=f||!!b,{slideSizes:H,slideSizesWithGaps:V,startGap:L,endGap:X}=WNe(j,N,k,n,U,i),Y=HNe(j,R,v,f,N,k,L,X,_),{snaps:te,snapsAligned:ye}=DNe(j,$,N,k,Y),Ce=-Ro(te)+Ro(V),{snapsContained:Ve,scrollContainLimit:Ye}=kNe(R,Ce,ye,b,_),fe=F?Ve:ye,{limit:Ee}=ONe(Ce,fe,f),re=i9(dm(fe),d,f),ue=re.clone(),ie=Cp(n),z=({dragHandler:Yt,scrollBody:Vn,scrollBounds:bt,options:{loop:$t}})=>{$t||bt.constrain(Yt.pointerDown()),Vn.seek()},he=({scrollBody:Yt,translate:Vn,location:bt,offsetLocation:$t,previousLocation:lr,scrollLooper:Xn,slideLooper:Qn,dragHandler:vi,animation:mn,eventHandler:xi,scrollBounds:cr,options:{loop:bi}},Ot)=>{const ur=Yt.settled(),Gr=!cr.shouldConstrain(),Pn=bi?ur:ur&&Gr,Vi=Pn&&!vi.pointerDown();Vi&&mn.stop();const oi=bt.get()*Ot+lr.get()*(1-Ot);$t.set(oi),bi&&(Xn.loop(Yt.direction()),Qn.loop()),Vn.to($t.get()),Vi&&xi.emit("settle"),Pn||xi.emit("scroll")},xe=_Ne(r,i,()=>z(Fn),Yt=>he(Fn,Yt)),Ge=.68,je=fe[re.get()],Te=Lf(je),mt=Lf(je),ve=Lf(je),We=Lf(je),Dt=jNe(Te,ve,mt,We,h,Ge),Ct=LNe(f,fe,Ce,Ee,We),Qt=FNe(xe,re,ue,Dt,Ct,We,s),Yn=MNe(Ee),Jt=jp(),ar=zNe(e,n,s,g),{slideRegistry:ii}=$Ne(F,b,fe,Ye,Y,ie),Zt=VNe(t,n,ii,Qt,Dt,Jt,s,C),Fn={ownerDocument:r,ownerWindow:i,eventHandler:s,containerRect:N,slideRects:k,animation:xe,axis:j,dragHandler:TNe(j,t,r,i,We,PNe(j,i),Te,xe,Qt,Dt,Ct,re,s,O,m,y,x,Ge,E),eventStore:Jt,percentOfView:O,index:re,indexPrevious:ue,limit:Ee,location:Te,offsetLocation:ve,previousLocation:mt,options:o,resizeHandler:NNe(e,s,i,n,j,w,T),scrollBody:Dt,scrollBounds:INe(Ee,ve,We,Dt,O),scrollLooper:RNe(Ce,Ee,ve,[Te,ve,mt,We]),scrollProgress:Yn,scrollSnapList:fe.map(Yn.get),scrollSnaps:fe,scrollTarget:Ct,scrollTo:Qt,slideLooper:BNe(j,R,Ce,H,V,te,fe,ve,n),slideFocus:Zt,slidesHandler:UNe(e,s,A),slidesInView:ar,slideIndexes:ie,slideRegistry:ii,slidesToScroll:Y,target:We,translate:o9(j,e)};return Fn}function GNe(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(d=>d(e,c)),l}function o(c,d){return t[c]=r(c).concat([d]),l}function s(c,d){return t[c]=r(c).filter(f=>f!==d),l}function a(){t={}}const l={init:n,emit:i,off:s,on:o,clear:a};return l}const KNe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function YNe(t){function e(o,s){return r9(o,s||{})}function n(o){const s=o.breakpoints||{},a=Np(s).filter(l=>t.matchMedia(l).matches).map(l=>s[l]).reduce((l,c)=>e(l,c),{});return e(o,a)}function r(o){return o.map(s=>Np(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function XNe(t){let e=[];function n(o,s){return e=s.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(o,t)),s.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(o=>o.destroy())}return{init:n,destroy:r}}function Qv(t,e,n){const r=t.ownerDocument,i=r.defaultView,o=YNe(i),s=XNe(o),a=jp(),l=GNe(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:f}=o,{on:h,off:m,emit:y}=l,g=j;let v=!1,x,b=c(KNe,Qv.globalOptions),w=c(b),A=[],E,C,_;function T(){const{container:ie,slides:z}=w;C=(B_(ie)?t.querySelector(ie):ie)||t.children[0];const xe=B_(z)?C.querySelectorAll(z):z;_=[].slice.call(xe||C.children)}function N(ie){const z=qNe(t,C,_,r,i,ie,l);if(ie.loop&&!z.slideLooper.canLoop()){const he=Object.assign({},ie,{loop:!1});return N(he)}return z}function k(ie,z){v||(b=c(b,ie),w=d(b),A=z||A,T(),x=N(w),f([b,...A.map(({options:he})=>he)]).forEach(he=>a.add(he,"change",j)),w.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(ue),x.eventHandler.init(ue),x.resizeHandler.init(ue),x.slidesHandler.init(ue),x.options.loop&&x.slideLooper.loop(),C.offsetParent&&_.length&&x.dragHandler.init(ue),E=s.init(ue,A)))}function j(ie,z){const he=Y();R(),k(c({startIndex:he},ie),z),l.emit("reInit")}function R(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),s.destroy(),a.clear()}function O(){v||(v=!0,a.clear(),R(),l.emit("destroy"),l.clear())}function $(ie,z,he){!w.active||v||(x.scrollBody.useBaseFriction().useDuration(z===!0?0:w.duration),x.scrollTo.index(ie,he||0))}function F(ie){const z=x.index.add(1).get();$(z,ie,-1)}function U(ie){const z=x.index.add(-1).get();$(z,ie,1)}function H(){return x.index.add(1).get()!==Y()}function V(){return x.index.add(-1).get()!==Y()}function L(){return x.scrollSnapList}function X(){return x.scrollProgress.get(x.offsetLocation.get())}function Y(){return x.index.get()}function te(){return x.indexPrevious.get()}function ye(){return x.slidesInView.get()}function Ce(){return x.slidesInView.get(!1)}function Ve(){return E}function Ye(){return x}function fe(){return t}function Ee(){return C}function re(){return _}const ue={canScrollNext:H,canScrollPrev:V,containerNode:Ee,internalEngine:Ye,destroy:O,off:m,on:h,emit:y,plugins:Ve,previousScrollSnap:te,reInit:g,rootNode:fe,scrollNext:F,scrollPrev:U,scrollProgress:X,scrollSnapList:L,scrollTo:$,selectedScrollSnap:Y,slideNodes:re,slidesInView:ye,slidesNotInView:Ce};return k(e,n),setTimeout(()=>l.emit("init"),0),ue}Qv.globalOptions=void 0;function UA(t={},e=[]){const n=S.useRef(t),r=S.useRef(e),[i,o]=S.useState(),[s,a]=S.useState(),l=S.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return S.useEffect(()=>{LA(n.current,t)||(n.current=t,l())},[t,l]),S.useEffect(()=>{xNe(r.current,e)||(r.current=e,l())},[e,l]),S.useEffect(()=>{if(vNe()&&s){Qv.globalOptions=UA.globalOptions;const c=Qv(s,n.current,r.current);return o(c),()=>c.destroy()}else o(void 0)},[s,o]),[a,i]}UA.globalOptions=void 0;const s9=S.createContext(null);function H0(){const t=S.useContext(s9);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const z_=S.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:o,...s},a)=>{const[l,c]=UA({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=S.useState(!1),[h,m]=S.useState(!1),y=S.useCallback(b=>{b&&(f(b.canScrollPrev()),m(b.canScrollNext()))},[]),g=S.useCallback(()=>{c==null||c.scrollPrev()},[c]),v=S.useCallback(()=>{c==null||c.scrollNext()},[c]),x=S.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),g()):b.key==="ArrowRight"&&(b.preventDefault(),v())},[g,v]);return S.useEffect(()=>{!c||!n||n(c)},[c,n]),S.useEffect(()=>{if(c)return y(c),c.on("reInit",y),c.on("select",y),()=>{c==null||c.off("select",y)}},[c,y]),u.jsx(s9.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:d,canScrollNext:h},children:u.jsx("div",{ref:a,onKeyDownCapture:x,className:tt("relative",i),role:"region","aria-roledescription":"carousel",...s,children:o})})});z_.displayName="Carousel";const W_=S.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=H0();return u.jsx("div",{ref:r,className:"overflow-hidden",children:u.jsx("div",{ref:n,className:tt("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});W_.displayName="CarouselContent";const H_=S.forwardRef(({className:t,...e},n)=>{const{orientation:r}=H0();return u.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:tt("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});H_.displayName="CarouselItem";const q_=S.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollPrev:s,canScrollPrev:a}=H0();return u.jsxs(le,{ref:i,variant:e,size:n,className:tt("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[u.jsx(ko,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Previous slide"})]})});q_.displayName="CarouselPrevious";const G_=S.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollNext:s,canScrollNext:a}=H0();return u.jsxs(le,{ref:i,variant:e,size:n,className:tt("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[u.jsx(YW,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Next slide"})]})});G_.displayName="CarouselNext";function QNe({seconds:t,totalSeconds:e,playerName:n,isExtension:r,isRunning:i=!0,onClick:o}){const s=t/e*100,a=()=>t===0?"bg-black":s>60?"bg-gradient-to-b from-green-500 to-green-700":s>40?"bg-gradient-to-b from-yellow-500 to-yellow-600":s>20?"bg-gradient-to-b from-orange-500 to-orange-600":"bg-gradient-to-b from-red-600 to-red-800",l=()=>t===0?"text-red-500":"text-white",c=()=>s<=20&&t>0?"animate-pulse":"",d=f=>{if(f>=60){const h=Math.floor(f/60),m=f%60;return`${h}:${m.toString().padStart(2,"0")}`}return f.toString()};return u.jsxs("button",{className:`flex flex-col items-center justify-center w-full h-full transition-all duration-500 ${a()} cursor-pointer active:opacity-90 select-none focus:outline-none focus:ring-2 focus:ring-white/30`,onClick:o,"data-testid":"display-timer",type:"button",children:[n&&u.jsx("div",{className:"text-[clamp(1.25rem,4vw,2rem)] font-semibold text-white/90 mb-1 tracking-wide","data-testid":"text-player-name",children:n}),u.jsx("div",{className:`font-mono font-bold transition-all duration-300 ${l()} ${c()}`,style:{fontSize:"clamp(6rem, 30vw, 18rem)",lineHeight:1,textShadow:t>0?"0 4px 20px rgba(0,0,0,0.3)":"none"},children:d(t)}),!i&&t>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[u.jsx(Yf,{className:"w-5 h-5 md:w-6 md:h-6"}),u.jsx("span",{className:"text-sm md:text-base font-medium",children:"TAP TO RESUME"})]}),i&&t>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/50",children:[u.jsx(X$,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{className:"text-xs md:text-sm",children:"tap to pause"})]}),r&&u.jsx("div",{className:"text-base md:text-lg text-white/80 mt-1 font-medium","data-testid":"text-extension-indicator",children:"EXTENSION"}),t===0&&u.jsxs("div",{className:"flex flex-col items-center mt-2",children:[u.jsx("div",{className:"text-xl md:text-3xl text-red-400 font-bold animate-pulse","data-testid":"text-time-expired",children:"TIME EXPIRED"}),u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[u.jsx(Yf,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-medium",children:"TAP TO RESTART"})]})]})]})}const PR="shotclock_tutorial_seen",AR="shotclock_sessions",xg="shotclock_paused_session";function JNe(){var Ps,Si;const[,t]=ml(),[e,n]=S.useState("setup"),[r,i]=S.useState("solo"),[o,s]=S.useState([{name:"Player 1",extensions:0}]),[a,l]=S.useState(0),[c,d]=S.useState([{name:"Team 1",players:["Player 1A","Player 1B"],extensions:0},{name:"Team 2",players:["Player 2A","Player 2B"],extensions:0}]),[f,h]=S.useState(0),[m,y]=S.useState(0),[g,v]=S.useState(30),[x,b]=S.useState(30),[w,A]=S.useState(30),[E,C]=S.useState(!1),[_,T]=S.useState(!1),[N]=S.useState(3),[k]=S.useState(15),[j,R]=S.useState(!0),[O,$]=S.useState(!1),[F,U]=S.useState(1),H=S.useRef(null),V=S.useRef(null),[L,X]=S.useState({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),Y=S.useRef(0),te=S.useRef(0),ye=S.useRef(0),[Ce,Ve]=S.useState(!1),[Ye,fe]=S.useState(!1),[Ee,re]=S.useState([]),[ue,ie]=S.useState(1);S.useEffect(()=>(jt.startSession("tempo"),()=>{ye.current>0&&jt.trackSkillMetric("tempo","session_complete",1),jt.endSession()}),[]),S.useEffect(()=>{const G=localStorage.getItem(xg);if(G)try{const ce=JSON.parse(G);(ce.gameMode==="paused"||ce.gameMode==="playing")&&(n("paused"),i(ce.playerMode),s(ce.players),l(ce.currentPlayerIndex),v(ce.duration),A(ce.timeRemaining),T(ce.isInExtension),R(ce.soloAutoRestart),X({...ce.sessionStats,shotEvents:ce.sessionStats.shotEvents||[]}),te.current=ce.accumulatedShotTime||0,ce.teams&&d(ce.teams),ce.currentTeamIndex!==void 0&&h(ce.currentTeamIndex),ce.currentPartnerIndex!==void 0&&y(ce.currentPartnerIndex))}catch{localStorage.removeItem(xg)}},[]),S.useEffect(()=>{localStorage.getItem(PR)||$(!0)},[]);const z=S.useCallback((G=800,ce=.3,Re=1)=>{V.current||(V.current=new AudioContext);const qe=V.current;for(let ot=0;ot<Re;ot++)setTimeout(()=>{const wt=qe.createOscillator(),Bn=qe.createGain();wt.connect(Bn),Bn.connect(qe.destination),wt.frequency.value=G,Bn.gain.value=.4,Bn.gain.exponentialRampToValueAtTime(.01,qe.currentTime+ce),wt.start(qe.currentTime),wt.stop(qe.currentTime+ce)},ot*150)},[]),he=S.useCallback(()=>{z(600,.15,1)},[z]),xe=S.useCallback(()=>{z(400,.5,3)},[z]),Ge=S.useCallback(()=>{z(1e3,.2,2)},[z]);S.useEffect(()=>(E&&w>0?H.current=setInterval(()=>{A(G=>{if(G<=6&&G>1&&he(),G<=1){if(xe(),T(!1),r==="solo"&&j){let ce=te.current/1e3;Y.current>0&&(ce+=(Date.now()-Y.current)/1e3),ce<=0&&(ce=g),ye.current++,jt.trackSkillMetric("tempo","shot_time",ce),X(Re=>{var ot;const qe={shotIndex:Re.shotCount,duration:Math.max(0,ce),playerName:((ot=o[0])==null?void 0:ot.name)||"Player 1",timestamp:Date.now()};return{...Re,shotCount:Re.shotCount+1,shotDurations:[...Re.shotDurations,Math.max(0,ce)],shotEvents:[...Re.shotEvents||[],qe]}}),te.current=0,setTimeout(()=>{Ge(),A(g),C(!0),Y.current=Date.now()},1500)}else X(ce=>({...ce,timeouts:ce.timeouts+1})),C(!1);return 0}return G-1})},1e3):H.current&&clearInterval(H.current),()=>{H.current&&clearInterval(H.current)}),[E,w,r,j,g,he,xe,Ge]);const je=o[a],Te=c[f];r==="scotch-doubles"?Te==null||Te.players[m]:je==null||je.name;const mt=()=>{w===0&&(A(g),T(!1)),Y.current===0&&(Y.current=Date.now()),C(!0)},ve=()=>{Y.current>0&&(te.current+=Date.now()-Y.current),Y.current=0,C(!1)},We=S.useCallback(()=>{const G={gameMode:"paused",playerMode:r,players:o,currentPlayerIndex:a,duration:g,timeRemaining:w,isInExtension:_,soloAutoRestart:j,sessionStats:L,accumulatedShotTime:te.current,teams:c,currentTeamIndex:f,currentPartnerIndex:m};localStorage.setItem(xg,JSON.stringify(G))},[r,o,a,g,w,_,j,L,c,f,m]),Dt=()=>{localStorage.removeItem(xg)},Ct=()=>{Y.current>0&&(te.current+=Date.now()-Y.current),Y.current=0,C(!1),n("paused")};S.useEffect(()=>{e==="paused"&&We()},[e,We]);const Qt=()=>{n("playing"),w>0&&(Y.current=Date.now(),C(!0))},Yn=()=>{C(!1),n("paused"),We(),t("/")};S.useEffect(()=>{const G=()=>{document.hidden&&e==="playing"&&E&&(Y.current>0&&(te.current+=Date.now()-Y.current),Y.current=0,C(!1),n("paused"))};return document.addEventListener("visibilitychange",G),()=>{document.removeEventListener("visibilitychange",G)}},[e,E]);const Jt=()=>{var ce;let G=te.current/1e3;if(Y.current>0&&(G+=(Date.now()-Y.current)/1e3),G>0){ye.current++,jt.trackSkillMetric("tempo","shot_time",G);const Re={shotIndex:L.shotCount,duration:Math.max(0,G),playerName:r==="scotch-doubles"?(Te==null?void 0:Te.players[m])||"Unknown":r==="two-player"?(je==null?void 0:je.name)||"Unknown":((ce=o[0])==null?void 0:ce.name)||"Player 1",teamName:r==="scotch-doubles"?Te==null?void 0:Te.name:void 0,timestamp:Date.now()};X(qe=>({...qe,shotCount:qe.shotCount+1,shotDurations:[...qe.shotDurations,Math.max(0,G)],shotEvents:[...qe.shotEvents||[],Re]}))}C(!1),A(g),T(!1),te.current=0,r==="two-player"?l(Re=>(Re+1)%o.length):r==="scotch-doubles"&&(h(Re=>(Re+1)%c.length),y(0)),Y.current=Date.now(),setTimeout(()=>C(!0),100)},ar=()=>{let G=te.current/1e3;if(Y.current>0&&(G+=(Date.now()-Y.current)/1e3),G>0){ye.current++,jt.trackSkillMetric("tempo","shot_time",G);const ce={shotIndex:L.shotCount,duration:Math.max(0,G),playerName:(Te==null?void 0:Te.players[m])||"Unknown",teamName:Te==null?void 0:Te.name,timestamp:Date.now()};X(Re=>({...Re,shotCount:Re.shotCount+1,shotDurations:[...Re.shotDurations,Math.max(0,G)],shotEvents:[...Re.shotEvents||[],ce]}))}C(!1),A(g),T(!1),te.current=0,y(ce=>(ce+1)%2),Y.current=Date.now(),setTimeout(()=>C(!0),100)},ii=()=>{r==="scotch-doubles"?Te&&Te.extensions<N&&(A(G=>G+k),T(!0),d(G=>G.map((ce,Re)=>Re===f?{...ce,extensions:ce.extensions+1}:ce)),X(G=>({...G,totalExtensions:G.totalExtensions+1}))):je&&je.extensions<N&&(A(G=>G+k),T(!0),s(G=>G.map((ce,Re)=>Re===a?{...ce,extensions:ce.extensions+1}:ce)),X(G=>({...G,totalExtensions:G.totalExtensions+1})))},Zt=G=>{const ce=localStorage.getItem(AR),Re=ce?JSON.parse(ce):[],qe={id:Date.now().toString(),date:new Date().toISOString(),stats:G};Re.unshift(qe),Re.length>20&&Re.pop(),localStorage.setItem(AR,JSON.stringify(Re))},Fn=()=>{C(!1),Ve(!0)},Yt=()=>{var ce;let G=te.current/1e3;return Y.current>0&&(G+=(Date.now()-Y.current)/1e3),G>0&&w<g&&w>0?{shotIndex:L.shotCount,duration:Math.max(0,G),playerName:r==="scotch-doubles"?(Te==null?void 0:Te.players[m])||"Unknown":r==="two-player"?(je==null?void 0:je.name)||"Unknown":((ce=o[0])==null?void 0:ce.name)||"Player 1",teamName:r==="scotch-doubles"?Te==null?void 0:Te.name:void 0,timestamp:Date.now()}:null},Vn=()=>{Ve(!1);const G=Yt(),ce=[...L.shotEvents||[]];G&&ce.push(G),re(ce),fe(!0)},bt=(G,ce)=>{const Re=Yt(),qe={rackNumber:ue,winner:G,winnerType:ce,shotEvents:Ee,timestamp:Date.now()};X(ot=>{const wt={...ot};return Re&&(wt.shotDurations=[...ot.shotDurations,Re.duration],wt.shotCount=ot.shotCount+1,wt.shotEvents=[...ot.shotEvents||[],Re]),wt.rackResults=[...ot.rackResults||[],qe],wt}),ie(ot=>ot+1),re([]),fe(!1),te.current=0,Y.current=Date.now(),A(g),T(!1),C(!0)},$t=()=>{Ve(!1),Dt();const G={...L,endTime:Date.now(),duration:g,playerMode:r,playerNames:o.map(Re=>Re.name)},ce=Yt();ce&&(G.shotDurations=[...G.shotDurations,ce.duration],G.shotCount+=1,G.shotEvents=[...G.shotEvents||[],ce]),te.current=0,Y.current=0,X(G),Zt(G),ie(1),re([]),n("summary")},lr=()=>{Dt(),A(g),T(!1),s(G=>G.map(ce=>({...ce,extensions:0}))),d(G=>G.map(ce=>({...ce,extensions:0}))),l(0),h(0),y(0),X({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),Y.current=0,te.current=0,ie(1),re([]),n("setup")},Xn=()=>{Ve(!1),C(!0),Y.current=Date.now()},Qn=()=>{var G;return r==="scotch-doubles"?c.map(ce=>({name:ce.name,type:"team"})):r==="two-player"?o.map(ce=>({name:ce.name,type:"player"})):[{name:((G=o[0])==null?void 0:G.name)||"Player 1",type:"player"}]},vi=G=>{v(G),A(G),b(G)},mn=()=>{v(x),A(x)},xi=()=>{var ce,Re,qe,ot,wt,Bn,kn,Un,Ue,W,we,Pe;Dt(),ye.current=0,r==="two-player"?s([{name:((ce=o[0])==null?void 0:ce.name)||"Player 1",extensions:0},{name:((Re=o[1])==null?void 0:Re.name)||"Player 2",extensions:0}]):r==="scotch-doubles"?(d(ze=>ze.map(nt=>({...nt,extensions:0}))),h(0),y(0)):s([{name:((qe=o[0])==null?void 0:qe.name)||"Player 1",extensions:0}]),l(0),A(g),T(!1),te.current=0;let G;r==="scotch-doubles"?G=[`${(ot=c[0])==null?void 0:ot.name}: ${(wt=c[0])==null?void 0:wt.players[0]}, ${(Bn=c[0])==null?void 0:Bn.players[1]}`,`${(kn=c[1])==null?void 0:kn.name}: ${(Un=c[1])==null?void 0:Un.players[0]}, ${(Ue=c[1])==null?void 0:Ue.players[1]}`]:r==="two-player"?G=[((W=o[0])==null?void 0:W.name)||"Player 1",((we=o[1])==null?void 0:we.name)||"Player 2"]:G=[((Pe=o[0])==null?void 0:Pe.name)||"Player 1"],X({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:Date.now(),duration:g,playerMode:r,playerNames:G}),Y.current=Date.now(),n("playing")},cr=(G,ce)=>{s(Re=>{const qe=[...Re];return qe[G]||(qe[G]={name:"",extensions:0}),qe[G]={...qe[G],name:ce},qe})},bi=(G,ce)=>{d(Re=>{const qe=[...Re];return qe[G]={...qe[G],name:ce},qe})},Ot=(G,ce,Re)=>{d(qe=>{const ot=[...qe],wt=[...ot[G].players];return wt[ce]=Re,ot[G]={...ot[G],players:wt},ot})},ur=()=>{localStorage.setItem(PR,"true"),$(!1),U(1)},Gr=()=>L.shotDurations.length===0?0:L.shotDurations.reduce((ce,Re)=>ce+Re,0)/L.shotDurations.length,Pn=G=>{const ce=Math.floor(G/60),Re=Math.floor(G%60);return ce>0?`${ce}m ${Re}s`:`${Re.toFixed(1)}s`},Vi=u.jsx(di,{open:O,onOpenChange:G=>{$(G),G||U(1)},children:u.jsxs(Zr,{className:"max-w-md",children:[u.jsxs(zr,{children:[u.jsx(Wr,{children:"Welcome to CueMaster: Tempo"}),u.jsx(ms,{className:"sr-only",children:"Shot clock tutorial with game modes, controls, and audio cues"})]}),u.jsxs("div",{className:"space-y-4",children:[F===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"1) Game Modes"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"The Shot Clock helps maintain game pace during practice or competitive play."}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Solo Mode:"})," ",u.jsx("span",{className:"text-muted-foreground",children:"Practice your timing with continuous countdown and interval chimes"})]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Two-Player Mode:"})," ",u.jsx("span",{className:"text-muted-foreground",children:"Alternate between players, each with their own extension bank"})]})]})]}),F===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"2) Controls During Play"}),u.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0",children:u.jsx(If,{className:"w-4 h-4 text-primary"})}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Next Shot:"})," Reset clock for next shot (switches player in 2P mode)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold text-primary",children:"+15s"}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Extension:"})," Add 15 seconds (max 3 per player)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-destructive/20 rounded flex items-center justify-center flex-shrink-0",children:u.jsx(zm,{className:"w-4 h-4 text-destructive"})}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Stop:"})," End the game and view session stats"]})]})]})]}),F===3&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"3) Visual & Audio Cues"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{children:["Background changes from ",u.jsx("span",{className:"text-green-500 font-semibold",children:"green"}),"  ",u.jsx("span",{className:"text-yellow-500 font-semibold",children:"yellow"}),"  ",u.jsx("span",{className:"text-orange-500 font-semibold",children:"orange"}),"  ",u.jsx("span",{className:"text-red-500 font-semibold",children:"red"})]}),u.jsx("li",{children:"Warning beeps in the final 5 seconds"}),u.jsx("li",{children:"Triple chime when time expires"}),u.jsx("li",{children:"In solo mode with auto-restart, a double chime signals the interval"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(le,{variant:"outline",size:"sm",onClick:()=>U(G=>Math.max(1,G-1)),disabled:F===1,children:"Back"}),u.jsx(le,{variant:"outline",size:"sm",onClick:()=>U(G=>Math.min(3,G+1)),disabled:F===3,children:"Next"})]}),u.jsx("div",{className:"flex gap-1",children:[1,2,3].map(G=>u.jsx("div",{className:`w-2 h-2 rounded-full ${G===F?"bg-primary":"bg-muted"}`},G))}),u.jsx(le,{size:"sm",onClick:ur,"data-testid":"button-complete-tutorial",children:F===3?"Finish":"Skip"})]})]})}),oi=u.jsx(di,{open:Ce,onOpenChange:G=>{G||Xn()},children:u.jsxs(Zr,{className:"max-w-sm",children:[u.jsxs(zr,{children:[u.jsx(Wr,{children:"End Game?"}),u.jsx(ms,{className:"sr-only",children:"Choose to end the rack or end the entire session"})]}),u.jsxs("div",{className:"space-y-3 py-2",children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rack ",ue," in progress. What would you like to do?"]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx(le,{variant:"outline",className:"w-full justify-start h-auto py-3",onClick:Vn,"data-testid":"button-end-rack",children:u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-semibold",children:"End Rack"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record winner and start next rack"})]})}),u.jsx(le,{variant:"default",className:"w-full justify-start h-auto py-3",onClick:$t,"data-testid":"button-end-session",children:u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-semibold",children:"End Session"}),u.jsx("p",{className:"text-xs text-muted-foreground/80",children:"View full session summary"})]})})]})]}),u.jsx(le,{variant:"ghost",size:"sm",onClick:Xn,className:"w-full","data-testid":"button-cancel-stop",children:"Cancel"})]})}),Kr=u.jsx(di,{open:Ye,onOpenChange:G=>{G||(fe(!1),C(!0),Y.current=Date.now())},children:u.jsxs(Zr,{className:"max-w-sm",children:[u.jsxs(zr,{children:[u.jsxs(Wr,{children:["Who Won Rack ",ue,"?"]}),u.jsx(ms,{className:"sr-only",children:"Select the winner of this rack"})]}),u.jsx("div",{className:"space-y-3 py-2",children:u.jsx("div",{className:"grid grid-cols-1 gap-2",children:Qn().map(G=>u.jsx(le,{variant:"outline",className:"w-full h-auto py-4 text-lg font-semibold",onClick:()=>bt(G.name,G.type),"data-testid":`button-winner-${G.name.replace(/\s+/g,"-").toLowerCase()}`,children:G.name},G.name))})}),u.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{fe(!1),C(!0),Y.current=Date.now()},className:"w-full","data-testid":"button-cancel-winner",children:"Cancel"})]})});if(e==="summary"){const G=Gr(),ce=L.endTime?(L.endTime-L.startTime)/1e3:0;return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(le,{variant:"ghost",size:"icon",onClick:lr,"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Session Summary"})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[u.jsxs(Je,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:u.jsx(N1,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Session Complete"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:L.playerMode==="two-player"?L.playerNames.join(" vs "):L.playerNames[0]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(ZE,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Shot Time"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-avg-duration",children:Pn(G)})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(If,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Shots"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shot-count",children:L.shotCount})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(jh,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Extensions"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-extensions-count",children:L.totalExtensions})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(eT,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeouts"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-timeouts",children:L.timeouts})]})]})]}),u.jsxs(Je,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Session Details"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Shot Clock Duration"}),u.jsxs("span",{className:"font-medium",children:[L.duration,"s"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Session Time"}),u.jsx("span",{className:"font-medium",children:Pn(ce)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Game Mode"}),u.jsx("span",{className:"font-medium capitalize",children:L.playerMode.replace("-"," ")})]})]})]}),L.rackResults&&L.rackResults.length>0&&u.jsxs(Je,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Ql,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold text-foreground",children:"Rack Results"})]}),u.jsx("div",{className:"space-y-2",children:L.rackResults.map((Re,qe)=>u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[u.jsxs("span",{className:"text-muted-foreground",children:["Rack ",Re.rackNumber]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ql,{className:"w-4 h-4 text-amber-500"}),u.jsx("span",{className:"font-medium text-foreground",children:Re.winner})]})]},qe))})]}),L.shotEvents&&L.shotEvents.length>0&&(()=>{var Un;const Re=L.shotEvents.reduce((Ue,W)=>(Ue[W.playerName]||(Ue[W.playerName]={shots:[],total:0,teamName:W.teamName}),Ue[W.playerName].shots.push(W),Ue[W.playerName].total+=W.duration,Ue),{}),qe=L.shotEvents.reduce((Ue,W)=>(W.teamName&&(Ue[W.teamName]||(Ue[W.teamName]={shots:[],total:0}),Ue[W.teamName].shots.push(W),Ue[W.teamName].total+=W.duration),Ue),{}),ot=Object.keys(Re),wt=Object.keys(qe),kn=(()=>{if(!L.rackResults||L.rackResults.length===0)return null;const Ue={},W={};return L.rackResults.forEach(we=>{we.shotEvents.forEach(Pe=>{we.winnerType==="team"&&Pe.teamName===we.winner||we.winnerType==="player"&&Pe.playerName===we.winner?(Ue[Pe.playerName]||(Ue[Pe.playerName]={wins:0,totalTime:0,shots:0}),Ue[Pe.playerName].totalTime+=Pe.duration,Ue[Pe.playerName].shots+=1):(W[Pe.playerName]||(W[Pe.playerName]={losses:0,totalTime:0,shots:0}),W[Pe.playerName].totalTime+=Pe.duration,W[Pe.playerName].shots+=1)}),we.winnerType==="player"&&(Ue[we.winner]||(Ue[we.winner]={wins:0,totalTime:0,shots:0}),Ue[we.winner].wins+=1)}),{winnerTotals:Ue,loserTotals:W}})();return u.jsxs(u.Fragment,{children:[u.jsxs(Je,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Player Stats"}),u.jsxs(z_,{className:"w-full",opts:{align:"start",loop:ot.length>1},children:[u.jsx(W_,{className:"-ml-2",children:ot.map(Ue=>{const W=Re[Ue],we=W.total/W.shots.length;return u.jsx(H_,{className:"pl-2 basis-full sm:basis-1/2",children:u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Xf,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-foreground",children:Ue})]}),W.teamName&&u.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:W.teamName}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Avg Time"}),u.jsx("p",{className:"font-bold text-primary",children:Pn(we)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Shots"}),u.jsx("p",{className:"font-bold",children:W.shots.length})]})]})]})},Ue)})}),ot.length>1&&u.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[u.jsx(q_,{className:"static translate-y-0"}),u.jsx(G_,{className:"static translate-y-0"})]})]})]}),wt.length>0&&u.jsxs(Je,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Team Averages"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:wt.map(Ue=>{const W=qe[Ue],we=W.total/W.shots.length;return u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[u.jsx("span",{className:"font-medium text-foreground",children:Ue}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-primary",children:Pn(we)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",W.shots.length," shots)"]})]})]},Ue)})})]}),u.jsx(Je,{className:"p-6",children:u.jsx(Qy,{type:"single",collapsible:!0,className:"w-full",children:u.jsxs(Zo,{value:"charts",className:"border-none",children:[u.jsx(es,{className:"hover:no-underline py-0",children:u.jsx("span",{className:"font-semibold text-foreground",children:"Shot Duration Charts"})}),u.jsx(ts,{children:u.jsxs(z_,{className:"w-full mt-4",opts:{align:"start",loop:ot.length>1},children:[u.jsx(W_,{className:"-ml-2",children:ot.map(Ue=>{const W=Re[Ue],we=W.shots.map((Pe,ze)=>({shot:ze+1,duration:parseFloat(Pe.duration.toFixed(1))}));return u.jsx(H_,{className:"pl-2 basis-full",children:u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Xf,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"font-medium text-foreground",children:Ue}),W.teamName&&u.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",W.teamName,")"]})]}),u.jsx("div",{className:"h-40",children:u.jsx(yve,{width:"100%",height:"100%",children:u.jsxs(gNe,{data:we,children:[u.jsx(B0,{dataKey:"shot",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),u.jsx(U0,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:Pe=>`${Pe}s`}),u.jsx(Yo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelFormatter:Pe=>`Shot ${Pe}`,formatter:Pe=>[`${Pe}s`,"Duration"]}),u.jsx(um,{type:"monotone",dataKey:"duration",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:3},activeDot:{r:5}})]})})})]})},Ue)})}),ot.length>1&&u.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[u.jsx(q_,{className:"static translate-y-0"}),u.jsx(G_,{className:"static translate-y-0"})]})]})})]})})}),kn&&(((Un=L.rackResults)==null?void 0:Un.length)??0)>0&&u.jsx(Je,{className:"p-6",children:u.jsx(Qy,{type:"single",collapsible:!0,className:"w-full",children:u.jsxs(Zo,{value:"advanced",className:"border-none",children:[u.jsx(es,{className:"hover:no-underline py-0",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(k1,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-semibold text-foreground",children:"Advanced Analytics"})]})}),u.jsx(ts,{children:u.jsxs("div",{className:"space-y-4 mt-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ql,{className:"w-4 h-4 text-amber-500"}),u.jsx("span",{className:"text-sm font-medium text-foreground",children:"Winning Racks Avg Speed"})]}),u.jsx("div",{className:"space-y-2",children:Object.entries(kn.winnerTotals).map(([Ue,W])=>W.shots>0&&u.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 p-3 rounded-lg flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(k1,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{className:"font-medium text-foreground",children:Ue})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-green-500",children:Pn(W.totalTime/W.shots)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",W.shots," shots)"]})]})]},Ue))})]}),Object.keys(kn.loserTotals).length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(MN,{className:"w-4 h-4 text-red-500"}),u.jsx("span",{className:"text-sm font-medium text-foreground",children:"Losing Racks Avg Speed"})]}),u.jsx("div",{className:"space-y-2",children:Object.entries(kn.loserTotals).map(([Ue,W])=>W.shots>0&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-3 rounded-lg flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(MN,{className:"w-4 h-4 text-red-500"}),u.jsx("span",{className:"font-medium text-foreground",children:Ue})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-red-500",children:Pn(W.totalTime/W.shots)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",W.shots," shots)"]})]})]},Ue))})]}),wt.length>0&&L.rackResults&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ll,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-foreground",children:"Team Performance"})]}),u.jsx("div",{className:"space-y-2",children:wt.map(Ue=>{var Pe,ze;const W=((Pe=L.rackResults)==null?void 0:Pe.filter(nt=>nt.winner===Ue).length)||0,we=(((ze=L.rackResults)==null?void 0:ze.length)||0)-W;return u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium text-foreground",children:Ue}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-green-500 font-bold",children:[W,"W"]}),u.jsxs("span",{className:"text-red-500 font-bold",children:[we,"L"]})]})]})},Ue)})})]})]})})]})})})]})})(),u.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Session saved to history"}),u.jsxs(le,{onClick:lr,className:"w-full",size:"lg","data-testid":"button-new-session",children:[u.jsx(Yf,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})})]})}if(e==="paused")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(le,{variant:"ghost",size:"icon",onClick:Qt,"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Game Paused"})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:u.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[u.jsxs(Je,{className:"p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(X$,{className:"w-8 h-8 text-primary"})}),u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Timer Paused"}),u.jsxs("p",{className:"text-muted-foreground mb-4",children:["Time remaining: ",u.jsxs("span",{className:"font-mono font-bold text-foreground",children:[w,"s"]})]}),u.jsx("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Shots"}),u.jsx("p",{className:"font-bold text-lg",children:L.shotCount})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Extensions"}),u.jsx("p",{className:"font-bold text-lg",children:L.totalExtensions})]})]})}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session is preserved. Resume to continue or return to the main menu."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(le,{onClick:Qt,className:"w-full",size:"lg","data-testid":"button-resume",children:[u.jsx(Yf,{className:"w-5 h-5 mr-2"}),"Resume Game"]}),u.jsxs(le,{onClick:Yn,variant:"outline",className:"w-full",size:"lg","data-testid":"button-return-menu",children:[u.jsx(iH,{className:"w-5 h-5 mr-2"}),"Return to Main Menu"]}),u.jsxs(le,{onClick:Fn,variant:"destructive",className:"w-full",size:"lg","data-testid":"button-end-session",children:[u.jsx(zm,{className:"w-5 h-5 mr-2"}),"End Session"]})]})]})})]});if(e==="setup")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Shot Clock Setup"}),u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>$(!0),"data-testid":"button-tutorial",children:u.jsx(wx,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[u.jsxs(Je,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Game Mode"}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(le,{variant:r==="solo"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("solo"),"data-testid":"button-mode-solo",children:[u.jsx(Xf,{className:"w-4 h-4 mr-2"}),"Solo"]}),u.jsxs(le,{variant:r==="two-player"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("two-player"),"data-testid":"button-mode-two-player",children:[u.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Two Players"]}),u.jsxs(Yre,{isLocked:!0,variant:r==="scotch-doubles"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("scotch-doubles"),"data-testid":"button-mode-scotch-doubles",children:[u.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Scotch Doubles"]})]}),r==="scotch-doubles"&&u.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:`Partners alternate shots within their team's turn. Use "Next Shot" to switch to the other team.`})]}),r==="scotch-doubles"?u.jsxs(Je,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams & Players"}),u.jsx("div",{className:"space-y-6",children:[0,1].map(G=>{var ce,Re,qe;return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs(fn,{htmlFor:`team${G+1}-name`,children:["Team ",G+1," Name"]}),u.jsx(yr,{id:`team${G+1}-name`,value:((ce=c[G])==null?void 0:ce.name)||"",onChange:ot=>bi(G,ot.target.value),placeholder:`Team ${G+1}`,className:"mt-1","data-testid":`input-team${G+1}-name`})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx(fn,{htmlFor:`team${G+1}-player1`,children:"Partner 1"}),u.jsx(yr,{id:`team${G+1}-player1`,value:((Re=c[G])==null?void 0:Re.players[0])||"",onChange:ot=>Ot(G,0,ot.target.value),placeholder:"Partner 1",className:"mt-1","data-testid":`input-team${G+1}-player1`})]}),u.jsxs("div",{children:[u.jsx(fn,{htmlFor:`team${G+1}-player2`,children:"Partner 2"}),u.jsx(yr,{id:`team${G+1}-player2`,value:((qe=c[G])==null?void 0:qe.players[1])||"",onChange:ot=>Ot(G,1,ot.target.value),placeholder:"Partner 2",className:"mt-1","data-testid":`input-team${G+1}-player2`})]})]})]},G)})})]}):u.jsxs(Je,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Player Names"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(fn,{htmlFor:"player1-name",children:r==="solo"?"Your Name":"Player 1"}),u.jsx(yr,{id:"player1-name",value:((Ps=o[0])==null?void 0:Ps.name)||"",onChange:G=>cr(0,G.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player1-name"})]}),r==="two-player"&&u.jsxs("div",{children:[u.jsx(fn,{htmlFor:"player2-name",children:"Player 2"}),u.jsx(yr,{id:"player2-name",value:((Si=o[1])==null?void 0:Si.name)||"",onChange:G=>cr(1,G.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player2-name"})]})]})]}),u.jsxs(Je,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shot Duration"}),u.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:[30,45,60,90].map(G=>u.jsxs(le,{variant:g===G?"default":"outline",onClick:()=>vi(G),"data-testid":`button-preset-${G}`,children:[G,"s"]},G))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(yr,{type:"number",min:"5",max:"300",value:x,onChange:G=>b(parseInt(G.target.value)||30),className:"flex-1","data-testid":"input-custom-duration"}),u.jsx(le,{onClick:mn,variant:"outline","data-testid":"button-apply-custom",children:"Apply"})]})]}),r==="solo"&&u.jsx(Je,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Continuous Play"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-chime at each interval for timing practice"})]}),u.jsx(Zi,{checked:j,onCheckedChange:R,"data-testid":"switch-auto-restart"})]})}),u.jsxs(le,{onClick:xi,className:"w-full",size:"lg","data-testid":"button-start-game",children:[u.jsx(Yf,{className:"w-5 h-5 mr-2"}),"Start Game"]})]})}),Vi]});const wi=()=>{w===0?(A(g),T(!1),Y.current=Date.now(),C(!0)):E?ve():mt()};return u.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-[2] relative min-h-0",children:[u.jsx(QNe,{seconds:w,totalSeconds:g,playerName:r==="solo"?je==null?void 0:je.name:void 0,isExtension:_,isRunning:E,onClick:wi}),u.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[u.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-white text-xs font-mono","data-testid":"text-shot-counter",children:["Shot ",L.shotCount+1]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(le,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto",onClick:Ct,"data-testid":"button-pause-menu",children:u.jsx(lH,{className:"w-5 h-5"})}),u.jsxs(di,{children:[u.jsx(one,{asChild:!0,children:u.jsx(le,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto","data-testid":"button-settings",children:u.jsx(JE,{className:"w-5 h-5"})})}),u.jsxs(Zr,{children:[u.jsx(zr,{children:u.jsx(Wr,{children:"Quick Settings"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(fn,{children:"Shot Duration"}),u.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:[30,45,60].map(G=>u.jsxs(le,{variant:g===G?"default":"outline",size:"sm",onClick:()=>{vi(G),E||A(G)},"data-testid":`button-quick-${G}`,children:[G,"s"]},G))})]}),r==="solo"&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(fn,{children:"Continuous Play"}),u.jsx(Zi,{checked:j,onCheckedChange:R,"data-testid":"switch-continuous-play"})]})]})]})]})]})]}),r==="two-player"&&u.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"player-toggle-container",children:u.jsx("div",{className:"w-3/4 mx-auto flex items-center justify-center pointer-events-auto bg-neutral-800/50 rounded-lg overflow-hidden",children:o.map((G,ce)=>u.jsx("button",{onClick:()=>{a!==ce&&(l(ce),A(g),T(!1),Ge())},className:`flex-1 px-4 py-3 text-base font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${a===ce?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`player-toggle-${ce+1}`,children:G.name},ce))})}),r==="scotch-doubles"&&u.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"team-toggle-container",children:u.jsxs("div",{className:"w-full mx-auto flex flex-col items-center gap-2 pointer-events-auto",children:[u.jsx("div",{className:"flex items-center justify-center bg-neutral-800/50 rounded-lg overflow-hidden w-3/4",children:c.map((G,ce)=>u.jsx("button",{onClick:()=>{f!==ce&&(h(ce),y(0),A(g),T(!1),Ge())},className:`flex-1 px-4 py-2 text-sm font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${f===ce?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`team-toggle-${ce+1}`,children:G.name},ce))}),u.jsxs("div",{className:"text-white text-center text-lg font-semibold bg-black/40 px-4 py-1 rounded-full","data-testid":"text-current-shooter",children:["Shooting: ",Te==null?void 0:Te.players[m]]})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-4 pointer-events-none",children:u.jsxs("button",{onClick:ii,disabled:r==="scotch-doubles"?((Te==null?void 0:Te.extensions)||0)>=N||w===0:((je==null?void 0:je.extensions)||0)>=N||w===0,className:"w-full py-4 bg-black/50 backdrop-blur-sm hover:bg-black/60 active:bg-black/70 disabled:opacity-40 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-3 pointer-events-auto transition-colors focus:outline-none","data-testid":"button-extension",children:[u.jsxs("span",{className:"text-white font-bold text-lg",children:["+",k,"s EXTENSION"]}),u.jsxs("span",{className:"text-white/70 font-mono text-base","data-testid":"text-extensions",children:["(",r==="scotch-doubles"?(Te==null?void 0:Te.extensions)||0:(je==null?void 0:je.extensions)||0,"/",N," used)"]})]})})]}),r==="scotch-doubles"?u.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[u.jsxs("button",{onClick:Fn,className:"w-1/5 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[u.jsx(zm,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),u.jsx("span",{className:"text-xs md:text-base font-bold text-white tracking-wide",children:"STOP"})]}),u.jsxs("button",{onClick:ar,className:"w-2/5 bg-amber-500 hover:bg-amber-500/90 active:bg-amber-500/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-next-partner",children:[u.jsx(Ll,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),u.jsx("span",{className:"text-sm md:text-xl font-bold text-white tracking-wide",children:"PARTNER"}),u.jsx("span",{className:"text-xs text-white/70",children:"Same Team"})]}),u.jsxs("button",{onClick:Jt,className:"w-2/5 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none","data-testid":"button-next-shot",children:[u.jsx(If,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),u.jsx("span",{className:"text-lg md:text-2xl font-bold text-white tracking-wide",children:"NEXT"}),u.jsx("span",{className:"text-xs text-white/70",children:"Switch Team"})]})]}):u.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[u.jsxs("button",{onClick:Fn,className:"w-1/4 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[u.jsx(zm,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),u.jsx("span",{className:"text-base md:text-xl font-bold text-white tracking-wide",children:"STOP"})]}),u.jsxs("button",{onClick:Jt,className:"w-3/4 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-2 focus:outline-none","data-testid":"button-next-shot",children:[u.jsx(If,{className:"w-12 h-12 md:w-16 md:h-16 text-white"}),u.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tracking-wide",children:"NEXT SHOT"})]})]}),oi,Kr]})}function ZNe({tiltX:t,tiltY:e,isCalibrating:n=!1}){const i=Math.max(-40,Math.min(40,t/5*40)),o=Math.max(-40,Math.min(40,e/5*40)),s=Math.sqrt(t*t+e*e),a=s<.5;return u.jsxs("div",{className:"flex flex-col items-center gap-6",children:[u.jsxs("div",{className:"relative w-64 h-64 rounded-full border-4 border-foreground bg-card","data-testid":"gauge-bubble-level",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-px h-full bg-muted"}),u.jsx("div",{className:"absolute w-full h-px bg-muted"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg transition-all duration-150",style:{transform:`translate(${i}px, ${o}px)`,opacity:n?.5:1}})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${a?"border-green-500":"border-muted"}`})})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-3xl font-mono font-bold text-foreground","data-testid":"text-tilt-value",children:[s.toFixed(2),""]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:a?"Level":"Not Level"})]})]})}function a9({open:t,onComplete:e,pages:n,toolName:r}){const[i,o]=S.useState(0),s=S.useRef(0),a=S.useRef(0),l=n[i],c=h=>{s.current=h.touches[0].clientX,a.current=h.touches[0].clientY},d=h=>{const m=h.changedTouches[0].clientX,y=h.changedTouches[0].clientY,g=m-s.current,v=y-a.current;Math.abs(g)>Math.abs(v)&&Math.abs(g)>50&&(g>0&&i>0?o(x=>x-1):g<0&&i<n.length-1&&o(x=>x+1))},f=()=>{o(0),e()};return u.jsx(di,{open:t,onOpenChange:f,children:u.jsx(Zr,{className:"max-w-md [&>button]:hidden",onTouchStart:c,onTouchEnd:d,children:u.jsxs("div",{className:"py-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),u.jsx("h2",{className:"text-xl font-bold",children:l.title})]}),u.jsx(le,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8","data-testid":"button-close-tutorial",children:u.jsx(Up,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"min-h-[200px]",children:l.content}),u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsxs(le,{variant:"ghost",onClick:()=>o(h=>Math.max(0,h-1)),disabled:i===0,"data-testid":"button-tutorial-prev",children:[u.jsx(XW,{className:"w-4 h-4 mr-1"}),"Back"]}),u.jsx("div",{className:"flex gap-2",children:n.map((h,m)=>u.jsx("button",{onClick:()=>o(m),className:`h-2 w-2 rounded-full transition-colors ${m===i?"bg-primary":"bg-muted hover:bg-muted-foreground/30"}`,"data-testid":`tutorial-indicator-${m}`},m))}),i<n.length-1?u.jsxs(le,{onClick:()=>o(h=>Math.min(n.length-1,h+1)),"data-testid":"button-tutorial-next",children:["Next",u.jsx(K$,{className:"w-4 h-4 ml-1"})]}):u.jsx(le,{onClick:f,"data-testid":"button-tutorial-done",children:"Got It"})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Swipe left/right to navigate"})]})})})}const CR="tableLevel_tutorial_seen";function eje(){const[,t]=ml(),{toast:e}=Cd(),[n,r]=S.useState(0),[i,o]=S.useState(0),[s,a]=S.useState({x:0,y:0}),[l,c]=S.useState("home"),[d,f]=S.useState(!1),[h,m]=S.useState(!1),[y,g]=S.useState(!1),[v,x]=S.useState(null),b=S.useRef(null),w=S.useRef(null),A=[{title:"How It Works",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"The Table Level Gauge uses your device's orientation sensors to detect table tilt."}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Requirements:"})," Works best on mobile devices or tablets with gyroscope/accelerometer sensors."]})}),u.jsx("p",{className:"mt-3",children:"The bubble indicator shows deviation from level - just like a carpenter's level but in all directions!"})]})},{title:"Calibration",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"For accurate readings, calibrate on a known level surface:"}),u.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[u.jsx("li",{children:"Place your device flat on a surface you know is level"}),u.jsxs("li",{children:["Tap ",u.jsx("strong",{className:"text-foreground",children:'"Calibrate Current Preset"'})]}),u.jsx("li",{children:"Hold still for 2 seconds while it samples"}),u.jsx("li",{children:"The bubble will now show deviation from this reference"})]}),u.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Tip:"})," Use a known-level surface like a properly installed countertop for initial calibration."]})})]})},{title:"Presets",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Save different calibrations for different locations:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Home:"})," Your home practice table"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"League:"})," Your regular league venue"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Tournament:"})," Competition tables"]})]}),u.jsx("p",{className:"mt-3",children:"Tap a preset to load it, then calibrate and save to store your settings."}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Usage:"})," Place your device on the table surface. A centered bubble means the table is level relative to your calibrated reference."]})})]})}];S.useEffect(()=>(jt.startSession("truelevel"),()=>{jt.endSession()}),[]),S.useEffect(()=>{localStorage.getItem(CR)||g(!0)},[]);const E=()=>{localStorage.setItem(CR,"true"),g(!1)};S.useEffect(()=>{(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{const k=await DeviceOrientationEvent.requestPermission();m(k==="granted")}catch{e({title:"Permission denied",description:"Device orientation access is required for this feature",variant:"destructive"})}else m(!0)})()},[e]),S.useEffect(()=>{if(!h)return;let N=!1;const k=j=>{j.beta!==null&&j.gamma!==null&&(N||(N=!0,x(!0),b.current&&clearTimeout(b.current)),w.current={beta:j.beta,gamma:j.gamma},r(j.gamma-s.x),o(j.beta-s.y-90))};return window.addEventListener("deviceorientation",k),b.current=setTimeout(()=>{N||(x(!1),e({title:"No orientation sensor detected",description:"This feature requires a device with gyroscope/accelerometer (mobile phone or tablet).",variant:"destructive"}))},2e3),()=>{window.removeEventListener("deviceorientation",k),b.current&&clearTimeout(b.current)}},[s,h,e]);const C=()=>{if(v===!1||v===null){e({title:"Cannot calibrate",description:"No orientation sensor detected. Please use a mobile device with gyroscope support.",variant:"destructive"});return}f(!0);const N=[];let k=0;const j=10,R=()=>{if(w.current&&(N.push({x:w.current.gamma,y:w.current.beta-90}),k++,k>=j)){const O=N.reduce((F,U)=>F+U.x,0)/N.length,$=N.reduce((F,U)=>F+U.y,0)/N.length;a({x:O,y:$}),f(!1),localStorage.setItem(`tableLevel_${l}`,JSON.stringify({x:O,y:$})),jt.trackSkillMetric("truelevel","calibration",1,{preset:l}),e({title:"Calibration complete",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`});return}k<j&&setTimeout(R,150)};setTimeout(()=>{if(!w.current){f(!1),e({title:"Calibration failed",description:"No sensor data available. Make sure your device has orientation sensors and they are enabled.",variant:"destructive"});return}R()},300)},_=N=>{c(N);const k=localStorage.getItem(`tableLevel_${N}`);k&&(a(JSON.parse(k)),e({title:"Preset loaded",description:`${N.charAt(0).toUpperCase()+N.slice(1)} calibration applied`}))},T=()=>{localStorage.setItem(`tableLevel_${l}`,JSON.stringify(s)),e({title:"Preset saved",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`})};return h?u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(a9,{open:y,onComplete:E,pages:A,toolName:"Table Level Gauge"}),u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Table Level Gauge"}),u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>g(!0),"data-testid":"button-tutorial",children:u.jsx(wx,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 overflow-auto p-6",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[v===!1&&u.jsx(Je,{className:"p-4 border-destructive bg-destructive/10",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(eT,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-destructive mb-1",children:"No Orientation Sensor Detected"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This feature requires a device with gyroscope/accelerometer sensors (typically a smartphone or tablet)."}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded",children:[u.jsx(vH,{className:"w-4 h-4"}),u.jsx("span",{children:"Open this page on your mobile device to use the level gauge"})]})]})]})}),v===null&&u.jsx(Je,{className:"p-4 border-muted",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Detecting orientation sensors..."})]})}),u.jsx("div",{className:"flex justify-center",children:u.jsx(ZNe,{tiltX:n,tiltY:i,isCalibrating:d})}),u.jsxs(Je,{className:"p-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Calibration Presets"}),u.jsx(RP,{isLocked:!0,featureName:"Calibration Presets",variant:"overlay",children:u.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[u.jsx(le,{variant:l==="home"?"default":"outline",onClick:()=>_("home"),"data-testid":"button-preset-home",children:"Home"}),u.jsx(le,{variant:l==="league"?"default":"outline",onClick:()=>_("league"),"data-testid":"button-preset-league",children:"League"}),u.jsx(le,{variant:l==="tournament"?"default":"outline",onClick:()=>_("tournament"),"data-testid":"button-preset-tournament",children:"Tournament"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(le,{className:"flex-1",onClick:C,disabled:d||v===!1,"data-testid":"button-calibrate",children:d?"Calibrating...":"Calibrate Current Preset"}),u.jsx(le,{variant:"outline",onClick:T,disabled:v===!1,"data-testid":"button-save-preset",children:"Save"})]})]})]})})]}):u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Table Level Gauge"})]}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:u.jsxs(Je,{className:"p-6 max-w-md text-center",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permission Required"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This feature requires access to your device's orientation sensors to measure table level."}),u.jsx(le,{onClick:()=>window.location.reload(),children:"Grant Permission"})]})})]})}var l9=["PageUp","PageDown"],c9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],u9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ef="Slider",[K_,tje,nje]=Fp(ef),[d9,eIe]=Fi(ef,[nje]),[rje,q0]=d9(ef),f9=S.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...g}=t,v=S.useRef(new Set),x=S.useRef(0),w=s==="horizontal"?ije:oje,[A=[],E]=Do({prop:d,defaultProp:c,onChange:j=>{var O;(O=[...v.current][x.current])==null||O.focus(),f(j)}}),C=S.useRef(A);function _(j){const R=uje(A,j);k(j,R)}function T(j){k(j,x.current)}function N(){const j=C.current[x.current];A[x.current]!==j&&h(A)}function k(j,R,{commit:O}={commit:!1}){const $=pje(o),F=mje(Math.round((j-r)/o)*o+r,$),U=qh(F,[r,i]);E((H=[])=>{const V=lje(H,U,R);if(hje(V,l*o)){x.current=V.indexOf(U);const L=String(V)!==String(H);return L&&O&&h(V),L?V:H}else return H})}return u.jsx(rje,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:x,thumbs:v.current,values:A,orientation:s,form:y,children:u.jsx(K_.Provider,{scope:t.__scopeSlider,children:u.jsx(K_.Slot,{scope:t.__scopeSlider,children:u.jsx(w,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:De(g.onPointerDown,()=>{a||(C.current=A)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:_,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:N,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(i,A.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:R})=>{if(!a){const F=l9.includes(j.key)||j.shiftKey&&c9.includes(j.key)?10:1,U=x.current,H=A[U],V=o*F*R;k(H+V,U,{commit:!0})}}})})})})});f9.displayName=ef;var[h9,p9]=d9(ef,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ije=S.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,[f,h]=S.useState(null),m=pt(e,w=>h(w)),y=S.useRef(void 0),g=Vd(i),v=g==="ltr",x=v&&!o||!v&&o;function b(w){const A=y.current||f.getBoundingClientRect(),E=[0,A.width],_=zA(E,x?[n,r]:[r,n]);return y.current=A,_(w-A.left)}return u.jsx(h9,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:u.jsx(m9,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const A=b(w.clientX);s==null||s(A)},onSlideMove:w=>{const A=b(w.clientX);a==null||a(A)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:w=>{const E=u9[x?"from-left":"from-right"].includes(w.key);c==null||c({event:w,direction:E?-1:1})}})})}),oje=S.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...c}=t,d=S.useRef(null),f=pt(e,d),h=S.useRef(void 0),m=!i;function y(g){const v=h.current||d.current.getBoundingClientRect(),x=[0,v.height],w=zA(x,m?[r,n]:[n,r]);return h.current=v,w(g-v.top)}return u.jsx(h9,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:u.jsx(m9,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);o==null||o(v)},onSlideMove:g=>{const v=y(g.clientY);s==null||s(v)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const x=u9[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:x?-1:1})}})})}),m9=S.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...c}=t,d=q0(ef,n);return u.jsx(Ke.span,{...c,ref:e,onKeyDown:De(t.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):l9.concat(c9).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:De(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:De(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:De(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),g9="SliderTrack",y9=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=q0(g9,n);return u.jsx(Ke.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});y9.displayName=g9;var Y_="SliderRange",v9=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=q0(Y_,n),o=p9(Y_,n),s=S.useRef(null),a=pt(e,s),l=i.values.length,c=i.values.map(h=>b9(h,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(Ke.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});v9.displayName=Y_;var X_="SliderThumb",x9=S.forwardRef((t,e)=>{const n=tje(t.__scopeSlider),[r,i]=S.useState(null),o=pt(e,a=>i(a)),s=S.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return u.jsx(sje,{...t,ref:o,index:s})}),sje=S.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,s=q0(X_,n),a=p9(X_,n),[l,c]=S.useState(null),d=pt(e,b=>c(b)),f=l?s.form||!!l.closest("form"):!0,h=cT(l),m=s.values[r],y=m===void 0?0:b9(m,s.min,s.max),g=cje(r,s.values.length),v=h==null?void 0:h[a.size],x=v?dje(v,y,a.direction):0;return S.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${x}px)`},children:[u.jsx(K_.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(Ke.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:De(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),f&&u.jsx(aje,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:m},r)]})});x9.displayName=X_;var aje=t=>{const{value:e,...n}=t,r=S.useRef(null),i=dP(e);return S.useEffect(()=>{const o=r.current,s=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(o,e),o.dispatchEvent(c)}},[i,e]),u.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function lje(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function b9(t,e,n){const o=100/(n-e)*(t-e);return qh(o,[0,100])}function cje(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function uje(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function dje(t,e,n){const r=t/2,o=zA([0,50],[0,r]);return(r-o(e)*n)*n}function fje(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function hje(t,e){if(e>0){const n=fje(t);return Math.min(...n)>=e}return!0}function zA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function pje(t){return(String(t).split(".")[1]||"").length}function mje(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var w9=f9,gje=y9,yje=v9,vje=x9;const Kc=S.forwardRef(({className:t,...e},n)=>u.jsxs(w9,{ref:n,className:tt("relative flex w-full touch-none select-none items-center",t),...e,children:[u.jsx(gje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(yje,{className:"absolute h-full bg-primary"})}),u.jsx(vje,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Kc.displayName=w9.displayName;const NR="cueEmulator_tutorial_seen",Le=14,cn=1600,xn=800,Fe=24,jR=.05,IR=.2,Yc=28,xje=(cn-Fe*2)/8,bje=(xn-Fe*2)/4,ke=Array.from({length:9},(t,e)=>Fe+e*xje),Oe=Array.from({length:5},(t,e)=>Fe+e*bje),Pf=[{x:Fe,y:Fe,angle:Math.PI/4},{x:cn/2,y:Fe-2,angle:Math.PI/2},{x:cn-Fe,y:Fe,angle:3*Math.PI/4},{x:Fe,y:xn-Fe,angle:-Math.PI/4},{x:cn/2,y:xn-Fe+2,angle:-Math.PI/2},{x:cn-Fe,y:xn-Fe,angle:-3*Math.PI/4}],wje=Yc+Le*.5,mo={1:{name:"Yellow",color:"#FDB515",solid:!0},2:{name:"Blue",color:"#003DA5",solid:!0},3:{name:"Red",color:"#DC143C",solid:!0},4:{name:"Purple",color:"#8A2BE2",solid:!0},5:{name:"Orange",color:"#FF8C00",solid:!0},6:{name:"Green",color:"#228B22",solid:!0},7:{name:"Maroon",color:"#800000",solid:!0},8:{name:"Black",color:"#000000",solid:!0},9:{name:"Yellow Stripe",color:"#FDB515",solid:!1},10:{name:"Blue Stripe",color:"#003DA5",solid:!1},11:{name:"Red Stripe",color:"#DC143C",solid:!1},12:{name:"Purple Stripe",color:"#8A2BE2",solid:!1},13:{name:"Orange Stripe",color:"#FF8C00",solid:!1},14:{name:"Green Stripe",color:"#228B22",solid:!1},15:{name:"Maroon Stripe",color:"#800000",solid:!1}},Sje={par2_01:{name:"Par 2 - Course 1",balls:[{x:ke[6],y:Oe[2]},{x:ke[1],y:Oe[3]}]},par2_02:{name:"Par 2 - Course 2",balls:[{x:ke[7],y:Oe[1]},{x:ke[1],y:Oe[2]}]},par2_03:{name:"Par 2 - Course 3",balls:[{x:ke[1],y:Oe[3]},{x:ke[7],y:Oe[3]}]},par3_01:{name:"Par 3 - Course 1",balls:[{x:ke[4],y:Oe[1]},{x:ke[1],y:Oe[3]},{x:ke[7],y:Oe[3]}]},par3_02:{name:"Par 3 - Course 2",balls:[{x:ke[2],y:Oe[2]},{x:ke[4],y:Oe[2]},{x:ke[2],y:Oe[3]}]},par3_03:{name:"Par 3 - Course 3",balls:[{x:ke[4],y:Oe[1]},{x:ke[4],y:Oe[2]},{x:ke[4],y:Oe[3]}]},par3_04:{name:"Par 3 - Course 4",balls:[{x:ke[7],y:Oe[1]},{x:ke[6],y:Oe[2]},{x:ke[5],y:Oe[2]}]},par4_01:{name:"Par 4 - Course 1",balls:[{x:ke[4],y:Oe[1]},{x:ke[3],y:Oe[2]},{x:ke[5],y:Oe[2]},{x:ke[4],y:Oe[3]}]},par4_02:{name:"Par 4 - Course 2",balls:[{x:ke[4],y:Oe[1]},{x:ke[3],y:Oe[2]},{x:ke[5],y:Oe[2]},{x:ke[4],y:Oe[3]}]},par4_03:{name:"Par 4 - Course 3",balls:[{x:ke[4],y:Oe[1]},{x:ke[3],y:Oe[2]},{x:ke[1],y:Oe[3]},{x:ke[7],y:Oe[3]}]},par4_04:{name:"Par 4 - Course 4",balls:[{x:ke[4],y:Oe[1]},{x:ke[6],y:Oe[2]},{x:ke[4],y:Oe[2]},{x:ke[2],y:Oe[2]}]},par4_05:{name:"Par 4 - Course 5",balls:[{x:ke[3],y:Oe[1]},{x:ke[4],y:Oe[2]},{x:ke[5],y:Oe[1]},{x:ke[4],y:Oe[1]}]},par5_01:{name:"Par 5 - Course 1",balls:[{x:ke[1],y:Oe[1]},{x:ke[7],y:Oe[1]},{x:ke[3],y:Oe[2]},{x:ke[5],y:Oe[2]},{x:ke[4],y:Oe[1]}]},par5_02:{name:"Par 5 - Course 2",balls:[{x:ke[4],y:Oe[1]},{x:ke[3],y:Oe[2]},{x:ke[4],y:Oe[2]},{x:ke[5],y:Oe[2]},{x:ke[4],y:Oe[3]}]},par5_03:{name:"Par 5 - Course 3",balls:[{x:ke[3],y:Oe[1]},{x:ke[5],y:Oe[1]},{x:ke[4],y:Oe[2]},{x:ke[3],y:Oe[3]},{x:ke[5],y:Oe[3]}]},par6_01:{name:"Par 6 - Course 1",balls:[{x:ke[1],y:Oe[1]},{x:ke[7],y:Oe[1]},{x:ke[1],y:Oe[2]},{x:ke[7],y:Oe[2]},{x:ke[1],y:Oe[3]},{x:ke[7],y:Oe[3]}]}};function _je(){const[,t]=ml(),{toast:e}=Cd(),n=S.useRef(null),[r,i]=S.useState(null),[o,s]=S.useState([]),[a,l]=S.useState(null),[c,d]=S.useState(null),[f,h]=S.useState(!0),[m,y]=S.useState(!1),[g,v]=S.useState(null),[x,b]=S.useState(null),[w,A]=S.useState(null),[E,C]=S.useState(.5),[_,T]=S.useState(0),[N,k]=S.useState(0),[j,R]=S.useState(.5),[O,$]=S.useState(.5),[F,U]=S.useState("9ft"),[H,V]=S.useState(!1),[L,X]=S.useState([]),[Y,te]=S.useState(""),[ye,Ce]=S.useState(null),[Ve,Ye]=S.useState(null),[fe,Ee]=S.useState(null),[re,ue]=S.useState([null,null,null]),[ie,z]=S.useState(!1),he=S.useRef(null),[xe,Ge]=S.useState(!1),[je,Te]=S.useState(0),[mt,ve]=S.useState([]),[We,Dt]=S.useState([]);S.useState(new Set);const Ct=S.useRef(null),Qt=S.useRef(0),[Yn,Jt]=S.useState(!1),[ar,ii]=S.useState(!1);S.useEffect(()=>{const M=()=>{ii(window.innerWidth>window.innerHeight)};return M(),window.addEventListener("resize",M),window.addEventListener("orientationchange",M),()=>{window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M)}},[]),S.useEffect(()=>(jt.startSession("vectors"),()=>{jt.endSession()}),[]);const Zt=[{title:"Ball Placement",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Place balls on the table using the control buttons:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cue:"})," Place the white cue ball"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Solid:"})," Add solid balls 1-7 in order"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Stripe:"})," Add stripe balls 9-15 in order"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Reposition:"})," Click and drag any ball to move it"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Clear:"})," Remove all balls from the table"]})]}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Tip:"})," Enable Snap-to-Grid for precise ball placement with a visible grid overlay."]})})]})},{title:"Aiming & Shooting",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Click and drag from the cue ball to aim your shot:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"White line:"})," Shows cue ball trajectory"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Ghost ball:"})," Dashed circle at contact point"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Colored lines:"})," Object ball trajectories after impact"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Red tangent:"})," Cue ball deflection after contact"]})]}),u.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Cut Angle & Ball Hit:"})," Displayed below the table showing the angle and hit fraction (Full, 3/4, 1/2, 1/4, Thin)."]})})]})},{title:"Power & English",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Adjust shot power and spin for realistic physics:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Power Slider:"})," 0-100% shot power"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"English Box:"})," Click to apply side spin and follow/draw"]})]}),u.jsxs("p",{className:"mt-3",children:["Click ",u.jsx("strong",{children:'"Simulate Shot"'})," to execute your shot with physics simulation including:"]}),u.jsxs("ul",{className:"space-y-1 mt-2",children:[u.jsx("li",{children:"Ball-to-ball collisions with spin transfer"}),u.jsx("li",{children:"Rail bounces with cushion effects"}),u.jsx("li",{children:"Pocket detection for pocketed balls"})]})]})},{title:"Table Conditions",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Customize the playing environment:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cloth Speed:"})," Affects ball friction (slow to fast felt)"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cushion Quality:"})," Affects rail bounce (dead to lively)"]})]}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Presets:"})," Save your table conditions to 3 slots. Long-press a slot to save, tap to load."]})}),u.jsxs("p",{className:"mt-3",children:["Use ",u.jsx("strong",{children:"Practice Courses"})," to load preset ball configurations from Par 2 to Par 6 difficulty!"]})]})}];S.useEffect(()=>{localStorage.getItem(NR)||z(!0)},[]);const Fn=()=>{localStorage.setItem(NR,"true"),z(!1)};S.useEffect(()=>{const M=localStorage.getItem("cueEmulator_tablePresets");if(M)try{const B=JSON.parse(M);Array.isArray(B)&&B.length===3&&ue(B)}catch(B){console.error("Failed to load table presets:",B)}},[]);const Yt=M=>{const B=[...re];B[M]={clothSpeed:j,cushionQuality:O,name:`Slot ${M+1}`},ue(B),localStorage.setItem("cueEmulator_tablePresets",JSON.stringify(B)),e({title:`Saved to Slot ${M+1}`,description:`Cloth: ${Math.round(j*100)}%, Cushion: ${Math.round(O*100)}%`})},Vn=M=>{const B=re[M];B?(R(B.clothSpeed),$(B.cushionQuality),e({title:`Loaded Slot ${M+1}`,description:`Cloth: ${Math.round(B.clothSpeed*100)}%, Cushion: ${Math.round(B.cushionQuality*100)}%`})):e({title:`Slot ${M+1} is empty`,description:"Long-press to save current settings"})},bt=M=>{he.current=setTimeout(()=>{Yt(M),he.current=null},600)},$t=M=>{he.current&&(clearTimeout(he.current),he.current=null,Vn(M))},lr=S.useCallback(()=>.85+.1*O,[O]),Xn=S.useCallback(()=>{const M={"7ft":{lengthInches:78,widthInches:39,label:"7ft (Bar Box)"},"8ft":{lengthInches:88,widthInches:44,label:"8ft (Standard)"},"9ft":{lengthInches:100,widthInches:50,label:"9ft (Professional)"},"10ft":{lengthInches:112,widthInches:56,label:"10ft (Snooker)"}};return M[F]||M["9ft"]},[F]),Qn=S.useCallback(()=>{const{lengthInches:B}=Xn();return B/100},[Xn]),vi=S.useCallback(()=>{const M=.3-.15*j,Q=1+(1-Qn())*.3;return M*Q},[j,Qn]),mn=S.useCallback((M,B)=>{for(const Q of Pf){const Z=M-Q.x,ee=B-Q.y;if(Math.sqrt(Z*Z+ee*ee)<wje)return!0}return!1},[]),xi=S.useCallback((M,B)=>{const Q=Fe+Le,Z=cn-Fe-Le,ee=Fe+Le,oe=xn-Fe-Le;let pe=Math.max(Q,Math.min(Z,M)),_e=Math.max(ee,Math.min(oe,B));if(mn(pe,_e)){let me=pe,Ne=_e,rt=1/0;for(const Se of ke)for(const lt of Oe)if(Se>=Q&&Se<=Z&&lt>=ee&&lt<=oe&&!mn(Se,lt)){const gt=Math.sqrt((M-Se)**2+(B-lt)**2);gt<rt&&(rt=gt,me=Se,Ne=lt)}return{x:me,y:Ne}}return{x:pe,y:_e}},[mn]),cr=S.useCallback((M,B)=>{const Q=Fe+Le,Z=cn-Fe-Le,ee=Fe+Le,oe=xn-Fe-Le;if(!f)return xi(M,B);let pe=ke[0],_e=Oe[0],me=Math.abs(M-ke[0]),Ne=Math.abs(B-Oe[0]);for(const lt of ke){const gt=Math.abs(M-lt);gt<me&&(me=gt,pe=lt)}for(const lt of Oe){const gt=Math.abs(B-lt);gt<Ne&&(Ne=gt,_e=lt)}let rt=Math.max(Q,Math.min(Z,pe)),Se=Math.max(ee,Math.min(oe,_e));if(mn(rt,Se)){let lt=rt,gt=Se,On=1/0;for(const Rn of ke)for(const dr of Oe)if(Rn>=Q&&Rn<=Z&&dr>=ee&&dr<=oe&&!mn(Rn,dr)){const Bi=Math.sqrt((M-Rn)**2+(B-dr)**2);Bi<On&&(On=Bi,lt=Rn,gt=dr)}return{x:lt,y:gt}}return{x:rt,y:Se}},[f,mn,xi]),bi=S.useCallback(M=>{const B=o.map(Q=>Q.number).filter(Q=>Q!==void 0);if(M==="solid"){for(let Q=1;Q<=7;Q++)if(!B.includes(Q))return Q}else for(let Q=9;Q<=15;Q++)if(!B.includes(Q))return Q;return null},[o]),Ot=S.useCallback((M,B)=>{for(const Q of Pf){const Z=M-Q.x,ee=B-Q.y;if(Math.sqrt(Z*Z+ee*ee)<Yc)return!0}return!1},[]),ur=(M,B)=>{const Q=B.x-M.x,Z=B.y-M.y;return Math.sqrt(Q*Q+Z*Z)},Gr=S.useCallback((M,B)=>{let Q=null,Z=1/0;for(const ee of Pf){const oe=ee.x-M.x,pe=ee.y-M.y,_e=Math.sqrt(oe*oe+pe*pe);if(_e<Le*2)continue;const me=oe/_e,Ne=pe/_e,rt=M.x-me*(Le*2),Se=M.y-Ne*(Le*2),lt=rt-B.x,gt=Se-B.y,On=Math.sqrt(lt*lt+gt*gt);if(On<Le*2)continue;const Rn=lt/On,dr=gt/On,Bi=Rn*me+dr*Ne,Ui=Math.acos(Math.max(-1,Math.min(1,Bi)))*(180/Math.PI);Ui<Z&&(Z=Ui,Q={pocket:ee,angle:Ui,ghostBall:{x:rt,y:Se}})}return Q},[]),Pn=S.useCallback((M,B)=>{if(o.length===0)return null;const Q=B.x-M.x,Z=B.y-M.y,ee=Math.sqrt(Q*Q+Z*Z);if(ee<1)return null;const oe=Q/ee,pe=Z/ee;let _e=null,me=1/0;for(const Ne of o){const rt=Ne.x-M.x,Se=Ne.y-M.y,lt=Math.sqrt(rt*rt+Se*Se),gt=rt*oe+Se*pe;if(gt<=0)continue;const On=rt-gt*oe,Rn=Se-gt*pe;Math.sqrt(On*On+Rn*Rn)<Le*3&&lt<me&&(me=lt,_e=Ne)}return _e},[o]),Vi=S.useCallback((M,B)=>{if(!m)return null;const Q=Pn(M,B);if(!Q)return null;const Z=Gr(Q,M);return!Z||Z.angle<15?null:Z.ghostBall},[m,Pn,Gr]),oi=S.useCallback(M=>{const B=lr(),Q=Fe,Z=cn-Fe,ee=Fe,oe=xn-Fe;let pe=!1;return M.x-Le<Q&&(M.x=Q+Le,M.vx=-M.vx*B,M.vy+=M.spinY*.3,M.spinX*=.7,pe=!0),M.x+Le>Z&&(M.x=Z-Le,M.vx=-M.vx*B,M.vy+=M.spinY*.3,M.spinX*=.7,pe=!0),M.y-Le<ee&&(M.y=ee+Le,M.vy=-M.vy*B,M.vx+=M.spinX*.3,M.spinY*=.7,pe=!0),M.y+Le>oe&&(M.y=oe-Le,M.vy=-M.vy*B,M.vx+=M.spinX*.3,M.spinY*=.7,pe=!0),pe},[lr]),Kr=S.useCallback((M,B,Q,Z)=>{var hm,pm,mm;if(!r)return null;const ee=Q-M,oe=Z-B,pe=Math.sqrt(ee*ee+oe*oe);if(pe<10)return null;const _e=ee/pe,me=oe/pe,rt=E*15,Se={x:r.x,y:r.y,vx:_e*rt,vy:me*rt,spinX:_,spinY:N},lt=o.map(Pt=>({...Pt,vx:0,vy:0,spinX:0,spinY:0})),gt=vi(),On=300,Rn=[{x:Se.x,y:Se.y}],dr=lt.map(()=>[]);let Bi=null,Ui=null,Bo=null,tf=null,nf=null;const rn=[Se,...lt],Uo=new Array(rn.length).fill(!1),fm=Pt=>{for(const zn of Pf){const zi=Pt.x-zn.x,_i=Pt.y-zn.y;if(Math.sqrt(zi*zi+_i*_i)<Yc-Le*.3)return!0}return!1},ha=(Pt,zn,zi)=>{const _i=zn.x-Pt.x,zo=zn.y-Pt.y,Ir=Math.sqrt(_i*_i+zo*zo);if(Ir>=Le*2||Ir===0)return!1;const qt=_i/Ir,yt=zo/Ir,ct=-yt,Rt=qt,kr=Pt.vx-zn.vx,Yr=Pt.vy-zn.vy,ai=kr*qt+Yr*yt,Oc=kr*ct+Yr*Rt;if(ai<=0)return!1;const Sl=Pt.spinX*.15*Math.abs(Oc)*.3;Pt.vx-=ai*qt,Pt.vy-=ai*yt,zn.vx+=ai*qt*.95,zn.vy+=ai*yt*.95,zn.vx+=Sl*ct,zn.vy+=Sl*Rt;const li=Math.sqrt(kr*kr+Yr*Yr);if(zi===0&&li>.1){const K0=kr/li,El=Yr/li,rf=Pt.spinY*.4;Pt.spinY!==0&&(Pt.vx+=K0*rf*li,Pt.vy+=El*rf*li),Pt.spinY*=.3}zn.spinX+=Pt.spinX*.2,zn.spinY+=Pt.spinY*.2;const _l=Le*2-Ir;return Pt.x-=_l/2*qt,Pt.y-=_l/2*yt,zn.x+=_l/2*qt,zn.y+=_l/2*yt,!0};for(let Pt=0;Pt<On;Pt++){let zn=!1,zi=0;for(let qt=0;qt<rn.length;qt++){if(Uo[qt])continue;const yt=rn[qt],ct=Math.sqrt(yt.vx*yt.vx+yt.vy*yt.vy);ct>zi&&(zi=ct)}const _i=zi*jR*60,zo=Math.max(1,Math.ceil(_i/(Le*.8))),Ir=jR/zo;for(let qt=0;qt<zo;qt++){for(let yt=0;yt<rn.length;yt++){if(Uo[yt])continue;const ct=rn[yt],Rt=Math.sqrt(ct.vx*ct.vx+ct.vy*ct.vy);if(Rt>IR){zn=!0;const kr=gt*9.8;if(ct.vx-=ct.vx/Rt*kr*Ir,ct.vy-=ct.vy/Rt*kr*Ir,ct.x+=ct.vx*Ir*60,ct.y+=ct.vy*Ir*60,oi(ct),fm(ct)){if(yt>0){const Yr=yt-1,ai=((hm=o[Yr])==null?void 0:hm.number)||1,Oc=((pm=mo[ai])==null?void 0:pm.color)||"#ffffff";dr[Yr].push({x:ct.x,y:ct.y,ballIndex:Yr,color:Oc})}Uo[yt]=!0,ct.vx=0,ct.vy=0}}else ct.vx=0,ct.vy=0}for(let yt=0;yt<rn.length;yt++)if(!Uo[yt])for(let ct=yt+1;ct<rn.length;ct++){if(Uo[ct])continue;if(ha(rn[yt],rn[ct],yt)&&yt===0&&!Bi){Bi={x:rn[ct].x,y:rn[ct].y},nf={x:rn[0].x,y:rn[0].y};const kr=rn[ct].x-rn[0].x,Yr=rn[ct].y-rn[0].y,ai=Math.sqrt(kr*kr+Yr*Yr);ai>0&&(Ui={x:rn[0].x+kr/ai*Le,y:rn[0].y+Yr/ai*Le}),Bo={x:rn[ct].vx,y:rn[ct].vy},tf={x:rn[0].vx,y:rn[0].vy}}}}Uo[0]||Rn.push({x:Se.x,y:Se.y});for(let qt=0;qt<lt.length;qt++){if(Uo[qt+1])continue;const yt=lt[qt];if(Math.sqrt(yt.vx*yt.vx+yt.vy*yt.vy)>IR*.5||dr[qt].length>0){const Rt=o[qt].number||1,kr=((mm=mo[Rt])==null?void 0:mm.color)||"#ffffff";dr[qt].push({x:yt.x,y:yt.y,ballIndex:qt,color:kr})}}if(!zn)break}return{path:Rn,hitBall:Bi,contactPoint:Ui,objectBallDirection:Bo,cueBallDeflection:tf,cueBallPosAtContact:nf,objectPaths:dr.filter(Pt=>Pt.length>=1)}},[r,o,E,_,N,vi,oi]),wi=(M,B)=>{const Q=Math.sqrt(M.x*M.x+M.y*M.y),Z=Math.sqrt(B.x*B.x+B.y*B.y);if(Q===0||Z===0)return{angle:0,fraction:1};const ee={x:M.x/Q,y:M.y/Q},oe={x:B.x/Z,y:B.y/Z},pe=ee.x*oe.x+ee.y*oe.y,_e=Math.max(-1,Math.min(1,pe)),me=Math.acos(_e),Ne=me*(180/Math.PI),rt=Math.min(Ne,90),Se=Math.cos(me);return{angle:rt,fraction:Math.max(0,Se)}},Ps=M=>M>=.95?"Full":M>=.7?"3/4":M>=.45?"1/2":M>=.2?"1/4":"Thin",Si=S.useCallback(M=>{if(M.fillStyle="#4a2c1a",M.fillRect(0,0,cn,xn),M.fillStyle="#1a5f3f",M.fillRect(Fe,Fe,cn-Fe*2,xn-Fe*2),M.strokeStyle="#2d4a3a",M.lineWidth=1,M.strokeRect(Fe,Fe,cn-Fe*2,xn-Fe*2),f&&(a==="cue"||a==="solid"||a==="stripe"||a==="reposition")){M.strokeStyle="rgba(255, 255, 255, 0.12)",M.lineWidth=.5;const ee=Fe,oe=cn-Fe,pe=Fe,_e=xn-Fe;for(const me of ke)me>ee&&me<oe&&(M.beginPath(),M.moveTo(me,pe),M.lineTo(me,_e),M.stroke());for(const me of Oe)me>pe&&me<_e&&(M.beginPath(),M.moveTo(ee,me),M.lineTo(oe,me),M.stroke());M.fillStyle="rgba(255, 255, 255, 0.15)";for(const me of ke)for(const Ne of Oe)me>ee&&me<oe&&Ne>pe&&Ne<_e&&(mn(me,Ne)||(M.beginPath(),M.arc(me,Ne,2,0,Math.PI*2),M.fill()))}Pf.forEach(ee=>{const oe=M.createRadialGradient(ee.x,ee.y,0,ee.x,ee.y,Yc);oe.addColorStop(0,"#000000"),oe.addColorStop(.7,"#1a1a1a"),oe.addColorStop(1,"#333333"),M.fillStyle=oe,M.beginPath(),M.arc(ee.x,ee.y,Yc,0,Math.PI*2),M.fill(),M.strokeStyle="#2a2a2a",M.lineWidth=2,M.beginPath(),M.arc(ee.x,ee.y,Yc-1,0,Math.PI*2),M.stroke()}),M.fillStyle="#ffffff";const B=3,Q=(cn-Fe*2)/8,Z=(xn-Fe*2)/4;for(let ee=1;ee<8;ee++){if(ee===4)continue;const oe=Fe+ee*Q;M.beginPath(),M.moveTo(oe,Fe-5),M.lineTo(oe+B,Fe-2),M.lineTo(oe,Fe+1),M.lineTo(oe-B,Fe-2),M.closePath(),M.fill(),M.beginPath(),M.moveTo(oe,xn-Fe+5),M.lineTo(oe+B,xn-Fe+2),M.lineTo(oe,xn-Fe-1),M.lineTo(oe-B,xn-Fe+2),M.closePath(),M.fill()}for(let ee=1;ee<4;ee++){const oe=Fe+ee*Z;M.beginPath(),M.moveTo(Fe-5,oe),M.lineTo(Fe-2,oe+B),M.lineTo(Fe+1,oe),M.lineTo(Fe-2,oe-B),M.closePath(),M.fill(),M.beginPath(),M.moveTo(cn-Fe+5,oe),M.lineTo(cn-Fe+2,oe+B),M.lineTo(cn-Fe-1,oe),M.lineTo(cn-Fe+2,oe-B),M.closePath(),M.fill()}},[f,a]),G=(M,B,Q)=>{const Z=mo[Q];if(!Z||!isFinite(B.x)||!isFinite(B.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(B.x+2,B.y+2,Le,Le*.8,0,0,Math.PI*2),M.fill();const ee=M.createRadialGradient(B.x-Le*.3,B.y-Le*.3,0,B.x,B.y,Le);if(Z.solid?(ee.addColorStop(0,"rgba(255, 255, 255, 0.8)"),ee.addColorStop(.5,Z.color),ee.addColorStop(1,"rgba(0, 0, 0, 0.4)")):(ee.addColorStop(0,"rgba(255, 255, 255, 0.95)"),ee.addColorStop(.5,"#ffffff"),ee.addColorStop(1,"rgba(200, 200, 200, 0.8)")),M.fillStyle=ee,M.beginPath(),M.arc(B.x,B.y,Le,0,Math.PI*2),M.fill(),!Z.solid){M.save(),M.beginPath(),M.arc(B.x,B.y,Le,0,Math.PI*2),M.clip(),M.fillStyle=Z.color;const pe=Le*.4;M.fillRect(B.x-pe,B.y-Le,pe*2,Le*2),M.restore()}const oe=Le*.5;M.fillStyle="#ffffff",M.beginPath(),M.arc(B.x,B.y,oe,0,Math.PI*2),M.fill(),M.fillStyle="#000000",M.font="bold 9px Arial",M.textAlign="center",M.textBaseline="middle",M.fillText(String(Q),B.x,B.y),M.fillStyle="rgba(255, 255, 255, 0.4)",M.beginPath(),M.arc(B.x-Le*.35,B.y-Le*.35,Le*.25,0,Math.PI*2),M.fill()},ce=(M,B)=>{if(!isFinite(B.x)||!isFinite(B.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(B.x+2,B.y+2,Le,Le*.8,0,0,Math.PI*2),M.fill();const Q=M.createRadialGradient(B.x-Le*.3,B.y-Le*.3,0,B.x,B.y,Le);Q.addColorStop(0,"rgba(255, 255, 255, 1)"),Q.addColorStop(.5,"#ffffff"),Q.addColorStop(1,"rgba(220, 220, 220, 0.8)"),M.fillStyle=Q,M.beginPath(),M.arc(B.x,B.y,Le,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.6)",M.beginPath(),M.arc(B.x-Le*.4,B.y-Le*.4,Le*.3,0,Math.PI*2),M.fill()},Re=(M,B,Q)=>{!isFinite(B)||!isFinite(Q)||(M.strokeStyle="rgba(255, 255, 0, 0.9)",M.setLineDash([6,4]),M.lineWidth=4,M.beginPath(),M.arc(B,Q,Le,0,Math.PI*2),M.stroke(),M.setLineDash([]),M.fillStyle="rgba(255, 255, 0, 0.25)",M.beginPath(),M.arc(B,Q,Le,0,Math.PI*2),M.fill())},qe=(M,B,Q,Z)=>{M.strokeStyle=Z,M.lineWidth=1,M.setLineDash([6,4]),M.beginPath(),M.moveTo(Fe,Q),M.lineTo(cn-Fe,Q),M.stroke(),M.beginPath(),M.moveTo(B,Fe),M.lineTo(B,xn-Fe),M.stroke(),M.setLineDash([]),M.strokeStyle=Z,M.lineWidth=2,M.beginPath(),M.arc(B,Q,Le+4,0,Math.PI*2),M.stroke()},ot=(M,B,Q,Z,ee)=>{const oe=Z-B,pe=ee-Q,_e=Math.atan2(pe,oe),me=150,Ne=Le+5,rt=B-Math.cos(_e)*Ne,Se=Q-Math.sin(_e)*Ne,lt=B-Math.cos(_e)*me,gt=Q-Math.sin(_e)*me,On=M.createLinearGradient(rt,Se,lt,gt);On.addColorStop(0,"#D2691E"),On.addColorStop(.5,"#8B4513"),On.addColorStop(1,"#654321"),M.strokeStyle=On,M.lineWidth=4,M.lineCap="round",M.beginPath(),M.moveTo(rt,Se),M.lineTo(lt,gt),M.stroke();const Rn=B-Math.cos(_e)*(Ne-3),dr=Q-Math.sin(_e)*(Ne-3);M.fillStyle="#d11111",M.beginPath(),M.arc(Rn,dr,3,0,Math.PI*2),M.fill()},wt=(M,B,Q)=>{const Z=Math.sqrt(Q.x*Q.x+Q.y*Q.y);if(Z===0)return;const ee=Q.x/Z,oe=Q.y/Z,pe=100,_e=B.x+ee*pe,me=B.y+oe*pe;M.strokeStyle="#00FFFF",M.lineWidth=4,M.setLineDash([8,6]),M.beginPath(),M.moveTo(B.x,B.y),M.lineTo(_e,me),M.stroke(),M.setLineDash([]);const Ne=10,rt=Math.atan2(oe,ee);M.fillStyle="#00FFFF",M.beginPath(),M.moveTo(_e,me),M.lineTo(_e-Ne*Math.cos(rt-Math.PI/6),me-Ne*Math.sin(rt-Math.PI/6)),M.lineTo(_e-Ne*Math.cos(rt+Math.PI/6),me-Ne*Math.sin(rt+Math.PI/6)),M.closePath(),M.fill()},Bn=(M,B)=>{if(!(B.length<2)){M.strokeStyle="#FFFF00",M.lineWidth=4,M.beginPath(),M.moveTo(B[0].x,B[0].y);for(let Q=1;Q<B.length;Q++)M.lineTo(B[Q].x,B[Q].y);M.stroke()}},kn=S.useCallback(()=>{if(g&&x&&r){const M=Vi(r,x);return M?{start:g,current:M}:{start:g,current:x}}if(w&&r){const M=w.angle*Math.PI/180,B=r.x+Math.cos(M)*w.distance,Q=r.y+Math.sin(M)*w.distance;return{start:{x:r.x,y:r.y},current:{x:B,y:Q}}}return null},[g,x,w,r,Vi]),Un=S.useCallback(()=>{const M=kn();if(!M||!r)return 0;const B=M.current.x-r.x,Q=M.current.y-r.y;let Z=Math.atan2(Q,B)*180/Math.PI;return Z<0&&(Z+=360),Z},[kn,r]),Ue=S.useCallback(()=>{const M=kn();if(!M)return 100;const B=M.current.x-M.start.x,Q=M.current.y-M.start.y;return Math.sqrt(B*B+Q*Q)},[kn]),W=S.useCallback((M,B)=>{A({angle:M,distance:B})},[]),we=S.useCallback(()=>{if(g&&x&&r){const M=x.x-r.x,B=x.y-r.y;let Q=Math.atan2(B,M)*180/Math.PI;Q<0&&(Q+=360);const Z=Math.sqrt(M*M+B*B);A({angle:Q,distance:Z})}},[g,x,r]),Pe=S.useCallback(()=>{const M=kn();if(!M||H||!r)return{angle:null,fraction:null};const B=Kr(r.x,r.y,M.current.x,M.current.y);if(!B||!B.hitBall||!B.cueBallPosAtContact)return{angle:null,fraction:null};const Q={x:M.current.x-r.x,y:M.current.y-r.y},Z={x:B.hitBall.x-B.cueBallPosAtContact.x,y:B.hitBall.y-B.cueBallPosAtContact.y},ee=wi(Q,Z);return{angle:ee.angle,fraction:Ps(ee.fraction)}},[kn,H,r,Kr]);S.useEffect(()=>{const M=Pe();Ye(M.angle),Ee(M.fraction)},[Pe]);const ze=S.useCallback(()=>{const M=n.current;if(!M)return;const B=M.getContext("2d");if(!B)return;if(B.clearRect(0,0,cn,xn),Si(B),xe&&mt.length>0){const Z=mt[je];if(Z.objectBalls.forEach((ee,oe)=>{if(!ee.pocketed){const pe=We[oe];if(pe!==void 0){const _e={x:ee.x,y:ee.y,vx:0,vy:0,spinX:0,spinY:0,number:pe};G(B,_e,pe)}}}),Z.cueBall){const ee={x:Z.cueBall.x,y:Z.cueBall.y,vx:0,vy:0,spinX:0,spinY:0};ce(B,ee)}return}if(H&&L.length>0&&!xe){const Z=L.filter(ee=>ee.cueBall).map(ee=>ee.cueBall);Z.length>0&&(B.strokeStyle="#FFFF00",B.lineWidth=4,B.beginPath(),B.moveTo(Z[0].x,Z[0].y),Z.forEach(ee=>B.lineTo(ee.x,ee.y)),B.stroke()),We.forEach((ee,oe)=>{if(ee===void 0)return;const pe=L.map(_e=>_e.objectBalls[oe]).filter(_e=>_e&&!_e.pocketed);if(pe.length>0){const _e=mo[ee];B.strokeStyle=_e.color,B.lineWidth=4,B.beginPath(),B.moveTo(pe[0].x,pe[0].y),pe.forEach(me=>B.lineTo(me.x,me.y)),B.stroke()}})}const Q=kn();if(Q&&!H&&r){ot(B,r.x,r.y,Q.current.x,Q.current.y);const Z=Kr(r.x,r.y,Q.current.x,Q.current.y);Z&&(Bn(B,Z.path),Z.objectPaths&&Z.objectPaths.length>0&&Z.objectPaths.forEach(ee=>{if(ee.length>=2){const oe=ee[0].color;B.strokeStyle=oe,B.lineWidth=4,B.setLineDash([6,4]),B.beginPath(),B.moveTo(ee[0].x,ee[0].y);for(let Se=1;Se<ee.length;Se++)B.lineTo(ee[Se].x,ee[Se].y);B.stroke(),B.setLineDash([]);const pe=ee[ee.length-1],_e=ee[Math.max(0,ee.length-5)],me=pe.x-_e.x,Ne=pe.y-_e.y;if(Math.sqrt(me*me+Ne*Ne)>5){const Se=Math.atan2(Ne,me),lt=10;B.fillStyle=oe,B.beginPath(),B.moveTo(pe.x,pe.y),B.lineTo(pe.x-lt*Math.cos(Se-Math.PI/6),pe.y-lt*Math.sin(Se-Math.PI/6)),B.lineTo(pe.x-lt*Math.cos(Se+Math.PI/6),pe.y-lt*Math.sin(Se+Math.PI/6)),B.closePath(),B.fill()}}}),Z.hitBall&&Z.cueBallPosAtContact&&Z.cueBallDeflection&&(Re(B,Z.cueBallPosAtContact.x,Z.cueBallPosAtContact.y),wt(B,Z.cueBallPosAtContact,Z.cueBallDeflection)))}o.forEach((Z,ee)=>{if(Z.number&&G(B,Z,Z.number),c&&c.type==="object"&&c.index===ee){const oe=mo[Z.number||1];qe(B,Z.x,Z.y,oe.color)}}),r&&(ce(B,r),c&&c.type==="cue"&&qe(B,r.x,r.y,"rgba(255, 255, 255, 0.8)"))},[r,o,g,x,w,H,L,Kr,Si,kn,c,xe,je,mt,We]);S.useEffect(()=>{ze()},[ze]);const nt=M=>{var Ne,rt;const B=n.current;if(!B)return;const Q=B.getBoundingClientRect(),Z=cn/Q.width,ee=xn/Q.height,oe=(M.clientX-Q.left)*Z,pe=(M.clientY-Q.top)*ee,{x:_e,y:me}=cr(oe,pe);if(a==="cue"){if(Ot(_e,me)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:_e,y:me,vx:0,vy:0,spinX:0,spinY:0}),l(null),e({title:"Cue ball placed"})}else if(a==="solid"||a==="stripe"){if(Ot(_e,me)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const Se=bi(a);if(Se!==null){s(gt=>[...gt,{x:_e,y:me,vx:0,vy:0,spinX:0,spinY:0,number:Se}]);const lt=mo[Se];e({title:`${lt.name} (${Se}) placed`})}else e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&ur({x:oe,y:pe},r)<Le*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let Se=0;Se<o.length;Se++)if(ur({x:oe,y:pe},o[Se])<Le*2){d({type:"object",index:Se});const gt=o[Se].number;e({title:`Drag to reposition ${gt?(Ne=mo[gt])==null?void 0:Ne.name:"ball"}`});return}e({title:"Click on a ball to reposition it"})}else if(a==="remove"){if(r&&ur({x:oe,y:pe},r)<Le*2){i(null),e({title:"Cue ball removed"});return}for(let Se=0;Se<o.length;Se++)if(ur({x:oe,y:pe},o[Se])<Le*2){const gt=o[Se].number,On=gt?(rt=mo[gt])==null?void 0:rt.name:"ball";s(Rn=>Rn.filter((dr,Bi)=>Bi!==Se)),e({title:`${On} removed`});return}e({title:"Click on a ball to remove it"})}else r&&!H&&(v({x:r.x,y:r.y}),b({x:oe,y:pe}))},st=M=>{const B=n.current;if(!B)return;const Q=B.getBoundingClientRect(),Z=cn/Q.width,ee=xn/Q.height,oe=(M.clientX-Q.left)*Z,pe=(M.clientY-Q.top)*ee;if(c){const{x:_e,y:me}=cr(oe,pe);Ot(_e,me)||(c.type==="cue"&&r?i({...r,x:_e,y:me}):c.type==="object"&&c.index!==void 0&&s(Ne=>Ne.map((rt,Se)=>Se===c.index?{...rt,x:_e,y:me}:rt)))}else g&&!H&&b({x:oe,y:pe})},Lt=()=>{c&&(d(null),e({title:"Ball repositioned"})),g&&x&&we(),v(null),b(null)},Ft=S.useCallback((M,B)=>{const Q=n.current;if(!Q)return null;const Z=Q.getBoundingClientRect(),ee=cn/Z.width,oe=xn/Z.height,pe=(M-Z.left)*ee,_e=(B-Z.top)*oe;return{rawX:pe,rawY:_e,...cr(pe,_e)}},[cr]),Vt=S.useCallback(M=>{var _e,me;if(M.touches.length!==1)return;M.preventDefault();const B=M.touches[0],Q=Ft(B.clientX,B.clientY);if(!Q)return;const{rawX:Z,rawY:ee,x:oe,y:pe}=Q;if(a==="cue"){if(Ot(oe,pe)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:oe,y:pe,vx:0,vy:0,spinX:0,spinY:0}),l(null),e({title:"Cue ball placed"})}else if(a==="solid"||a==="stripe"){if(Ot(oe,pe)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const Ne=bi(a);if(Ne!==null){s(Se=>[...Se,{x:oe,y:pe,vx:0,vy:0,spinX:0,spinY:0,number:Ne}]);const rt=mo[Ne];e({title:`${rt.name} (${Ne}) placed`})}else e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&ur({x:Z,y:ee},r)<Le*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let Ne=0;Ne<o.length;Ne++)if(ur({x:Z,y:ee},o[Ne])<Le*2){d({type:"object",index:Ne});const Se=o[Ne].number;e({title:`Drag to reposition ${Se?(_e=mo[Se])==null?void 0:_e.name:"ball"}`});return}e({title:"Tap on a ball to reposition it"})}else if(a==="remove"){if(r&&ur({x:Z,y:ee},r)<Le*2){i(null),e({title:"Cue ball removed"});return}for(let Ne=0;Ne<o.length;Ne++)if(ur({x:Z,y:ee},o[Ne])<Le*2){const Se=o[Ne].number,lt=Se?(me=mo[Se])==null?void 0:me.name:"ball";s(gt=>gt.filter((On,Rn)=>Rn!==Ne)),e({title:`${lt} removed`});return}e({title:"Tap on a ball to remove it"})}else r&&!H&&(v({x:r.x,y:r.y}),b({x:Z,y:ee}))},[r,o,a,H,Ft,bi,e]),dt=S.useCallback(M=>{if(M.touches.length!==1)return;M.preventDefault();const B=M.touches[0],Q=Ft(B.clientX,B.clientY);if(!Q)return;const{rawX:Z,rawY:ee,x:oe,y:pe}=Q;c?Ot(oe,pe)||(c.type==="cue"&&r?i({...r,x:oe,y:pe}):c.type==="object"&&c.index!==void 0&&s(_e=>_e.map((me,Ne)=>Ne===c.index?{...me,x:oe,y:pe}:me))):g&&!H&&b({x:Z,y:ee})},[r,c,g,H,Ft]),Sr=S.useCallback(M=>{M.preventDefault(),c&&(d(null),e({title:"Ball repositioned"})),g&&x&&we(),v(null),b(null)},[c,g,x,we,e]);S.useEffect(()=>{const M=n.current;if(M)return M.addEventListener("touchstart",Vt,{passive:!1}),M.addEventListener("touchmove",dt,{passive:!1}),M.addEventListener("touchend",Sr,{passive:!1}),M.addEventListener("touchcancel",Sr,{passive:!1}),()=>{M.removeEventListener("touchstart",Vt),M.removeEventListener("touchmove",dt),M.removeEventListener("touchend",Sr),M.removeEventListener("touchcancel",Sr)}},[Vt,dt,Sr]);const si=()=>{if(!Y){e({title:"Please select a course first",variant:"destructive"});return}const M=Sje[Y];if(!M)return;const Q=(ee=>{const oe=[...ee];for(let pe=oe.length-1;pe>0;pe--){const _e=Math.floor(Math.random()*(pe+1));[oe[pe],oe[_e]]=[oe[_e],oe[pe]]}return oe})(Array.from({length:15},(ee,oe)=>oe+1)),Z=M.balls.map((ee,oe)=>({x:ee.x,y:ee.y,vx:0,vy:0,spinX:0,spinY:0,number:Q[oe]}));s(Z),i({x:ke[2],y:Oe[2],vx:0,vy:0,spinX:0,spinY:0}),A(null),V(!1),X([]),Ce(M.name),e({title:`Loaded: ${M.name}`})},Ht=()=>{i(null),s([]),V(!1),X([]),Ce(null),te(""),e({title:"Table cleared"})};S.useCallback(()=>{Ct.current&&(cancelAnimationFrame(Ct.current),Ct.current=null),Ge(!1)},[]),S.useEffect(()=>{if(!xe||mt.length===0)return;const M=2,B=16,Q=Z=>{Qt.current===0&&(Qt.current=Z);const ee=Z-Qt.current;if(ee>=B){const oe=Math.floor(ee/B)*M,pe=Math.min(je+oe,mt.length-1);if(Te(pe),Qt.current=Z,pe>=mt.length-1){const _e=mt[mt.length-1];_e.cueBall?i(me=>me?{...me,x:_e.cueBall.x,y:_e.cueBall.y,vx:0,vy:0}:null):i(null),s(me=>me.map((Ne,rt)=>{const Se=_e.objectBalls[rt];return!Se||Se.pocketed?null:{...Ne,x:Se.x,y:Se.y,vx:0,vy:0}}).filter(Ne=>Ne!==null)),Ge(!1),A(null);return}}Ct.current=requestAnimationFrame(Q)};return Ct.current=requestAnimationFrame(Q),()=>{Ct.current&&cancelAnimationFrame(Ct.current)}},[xe,je,mt]);const Bt=M=>{const B=M.currentTarget.getBoundingClientRect(),Q=M.clientX-B.left,Z=M.clientY-B.top,ee=Q/100*2-1,oe=-(Z/100*2-1);T(ee),k(oe)},An=(r?1:0)+o.length,Cn=lr().toFixed(3),gn=vi().toFixed(3);return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(a9,{open:ie,onComplete:Fn,pages:Zt,toolName:"Advanced Cueing Emulator"}),Yn&&u.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center","data-testid":"fullscreen-overlay",children:[u.jsx(le,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 text-white hover:bg-white/20",onClick:()=>Jt(!1),"data-testid":"button-close-fullscreen",children:u.jsx(Up,{className:"w-6 h-6"})}),u.jsx("div",{className:"flex-1 flex items-center justify-center w-full p-2",children:u.jsx("canvas",{ref:n,width:cn,height:xn,className:"max-w-full max-h-full rounded-lg shadow-lg cursor-crosshair",style:{width:ar?"auto":"100%",height:ar?"85vh":"auto",touchAction:"none"},onMouseDown:nt,onMouseMove:st,onMouseUp:Lt,onMouseLeave:Lt,"data-testid":"canvas-fullscreen-table"})}),u.jsxs("div",{className:"w-full px-4 pb-4 space-y-2","data-testid":"fullscreen-controls",children:[u.jsxs("div",{className:"flex items-center justify-between text-white",children:[u.jsx("span",{className:"text-sm font-semibold",children:"Fine-Tune Angle"}),u.jsxs("span",{className:"text-sm font-mono text-primary",children:[((w==null?void 0:w.angle)??Un()).toFixed(2),""]})]}),u.jsx(Kc,{value:[(w==null?void 0:w.angle)??Un()],onValueChange:([M])=>W(M,(w==null?void 0:w.distance)??Ue()),min:0,max:360,step:.01,className:"w-full","data-testid":"slider-fullscreen-angle"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(le,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>W(((w==null?void 0:w.angle)??Un())-.01,(w==null?void 0:w.distance)??Ue()),"data-testid":"button-fullscreen-left",children:" 0.01"}),u.jsx(le,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>W(((w==null?void 0:w.angle)??Un())+.01,(w==null?void 0:w.distance)??Ue()),"data-testid":"button-fullscreen-right",children:"0.01 "})]}),(Ve!==null||fe!==null)&&u.jsx("div",{className:"p-2 rounded-md bg-primary/20 border border-primary/40",children:u.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[u.jsxs("span",{className:"font-semibold",children:["Cut Angle: ",u.jsxs("span",{className:"font-mono",children:[(Ve==null?void 0:Ve.toFixed(1))??"--",""]})]}),u.jsxs("span",{className:"font-semibold",children:["Ball Hit: ",u.jsx("span",{className:"font-mono",children:fe??"--"})]})]})})]})]}),u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Advanced Cueing Emulator"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics simulation with spin effects"})]}),u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>Jt(!0),"data-testid":"button-fullscreen",title:"Fullscreen Table View",children:u.jsx(aH,{className:"w-5 h-5"})}),u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>z(!0),"data-testid":"button-tutorial",children:u.jsx(wx,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[u.jsx("div",{className:"flex-1",children:u.jsxs(Je,{className:"p-4",children:[u.jsx("canvas",{ref:n,width:cn,height:xn,className:"w-full rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:cn,touchAction:"none"},onMouseDown:nt,onMouseMove:st,onMouseUp:Lt,onMouseLeave:Lt,"data-testid":"canvas-billiard-table"}),(Ve!==null||fe!==null)&&u.jsx("div",{className:"mt-4 p-3 rounded-md bg-primary/10 border border-primary/30","data-testid":"container-cut-info",children:u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-cut-angle",children:["Cut Angle: ",u.jsxs("span",{className:"font-mono",children:[(Ve==null?void 0:Ve.toFixed(1))??"--",""]})]}),u.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-ball-hit",children:["Ball Hit: ",u.jsx("span",{className:"font-mono",children:fe??"--"})]})]})})]})}),u.jsx("div",{className:"w-full lg:w-80",children:u.jsx(Je,{className:"p-2",children:u.jsxs(Qy,{type:"multiple",className:"w-full",children:[u.jsxs(Zo,{value:"practice-courses",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-practice-courses",children:"Practice Courses"}),u.jsx(ts,{className:"px-2 space-y-3",children:u.jsx(RP,{isLocked:!0,featureName:"Practice Courses",variant:"overlay",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs(CF,{value:Y,onValueChange:te,children:[u.jsx(pP,{"data-testid":"select-course",children:u.jsx(NF,{placeholder:"-- Select a Course --"})}),u.jsxs(mP,{children:[u.jsx(hr,{value:"par2_01",children:"Par 2 - Course 1"}),u.jsx(hr,{value:"par2_02",children:"Par 2 - Course 2"}),u.jsx(hr,{value:"par2_03",children:"Par 2 - Course 3"}),u.jsx(hr,{value:"par3_01",children:"Par 3 - Course 1"}),u.jsx(hr,{value:"par3_02",children:"Par 3 - Course 2"}),u.jsx(hr,{value:"par3_03",children:"Par 3 - Course 3"}),u.jsx(hr,{value:"par3_04",children:"Par 3 - Course 4"}),u.jsx(hr,{value:"par4_01",children:"Par 4 - Course 1"}),u.jsx(hr,{value:"par4_02",children:"Par 4 - Course 2"}),u.jsx(hr,{value:"par4_03",children:"Par 4 - Course 3"}),u.jsx(hr,{value:"par4_04",children:"Par 4 - Course 4"}),u.jsx(hr,{value:"par4_05",children:"Par 4 - Course 5"}),u.jsx(hr,{value:"par5_01",children:"Par 5 - Course 1"}),u.jsx(hr,{value:"par5_02",children:"Par 5 - Course 2"}),u.jsx(hr,{value:"par5_03",children:"Par 5 - Course 3"}),u.jsx(hr,{value:"par6_01",children:"Par 6 - Course 1"})]})]}),u.jsx(le,{className:"w-full",onClick:si,"data-testid":"button-load-course",children:"Load Course"}),ye&&u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Current: ",u.jsx("span",{className:"text-primary font-semibold",children:ye})]})]})})})]}),u.jsxs(Zo,{value:"ball-placement",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-ball-placement",children:"Ball Placement"}),u.jsxs(ts,{className:"px-2 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(rH,{className:"w-3 h-3 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Snap to Grid"}),u.jsx(Zi,{checked:f,onCheckedChange:h,"data-testid":"switch-snap-grid"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(le,{variant:a==="cue"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="cue"?null:"cue"),"data-testid":"button-place-cue",children:[u.jsx(tH,{className:"w-4 h-4 mr-1"}),"Cue"]}),u.jsxs(le,{variant:a==="solid"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="solid"?null:"solid"),"data-testid":"button-add-solid",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-1"}),"Solid"]}),u.jsxs(le,{variant:a==="stripe"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="stripe"?null:"stripe"),"data-testid":"button-add-stripe",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-white border border-yellow-500 mr-1"}),"Stripe"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(le,{variant:a==="reposition"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="reposition"?null:"reposition"),"data-testid":"button-reposition",children:[u.jsx(hH,{className:"w-4 h-4 mr-1"}),"Move"]}),u.jsxs(le,{variant:a==="remove"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="remove"?null:"remove"),"data-testid":"button-remove",children:[u.jsx(dH,{className:"w-4 h-4 mr-1"}),"Remove"]}),u.jsxs(le,{variant:"secondary",className:"flex-1",onClick:Ht,"data-testid":"button-clear",children:[u.jsx(Sy,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground font-mono","data-testid":"text-ball-count",children:["Balls on table: ",An]})]})]}),u.jsxs(Zo,{value:"power-aim",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-power-aim",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(kh,{className:"w-4 h-4"}),"Power & Aim"]})}),u.jsxs(ts,{className:"px-2 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Power"}),u.jsxs("span",{className:"text-base font-mono font-semibold text-primary","data-testid":"text-power-value",children:[Math.round(E*100),"%"]})]}),u.jsx(Kc,{value:[E*100],onValueChange:([M])=>C(M/100),max:100,step:1,className:"w-full","data-testid":"slider-speed"})]}),u.jsxs("div",{className:"border-t border-border pt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Angle"}),w?u.jsxs(le,{variant:"ghost",size:"sm",onClick:()=>A(null),className:"h-6 px-2 text-xs","data-testid":"button-unlock-aim",children:[u.jsx(oH,{className:"w-3 h-3 mr-1"}),"Clear"]}):u.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag to aim"})]}),w||g&&x?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-aim-angle",children:[((w==null?void 0:w.angle)??Un()).toFixed(2),""]})}),u.jsx(Kc,{value:[(w==null?void 0:w.angle)??Un()],onValueChange:([M])=>W(M,(w==null?void 0:w.distance)??Ue()),min:0,max:360,step:.1,className:"w-full","data-testid":"slider-aim-angle"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"0"}),u.jsx("span",{children:"90"}),u.jsx("span",{children:"180"}),u.jsx("span",{children:"270"}),u.jsx("span",{children:"360"})]})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx(le,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>W(((w==null?void 0:w.angle)??Un())-.1,(w==null?void 0:w.distance)??Ue()),"data-testid":"button-aim-left",children:" 0.10"}),u.jsx(le,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>W(((w==null?void 0:w.angle)??Un())+.1,(w==null?void 0:w.distance)??Ue()),"data-testid":"button-aim-right",children:"0.10 "})]})]}):u.jsxs("div",{className:"text-center py-3 text-muted-foreground text-sm",children:[u.jsx(j1,{className:"w-6 h-6 mx-auto mb-1 opacity-30"}),u.jsx("p",{className:"text-xs",children:"Drag on table to set aim direction"})]})]})]})]}),u.jsxs(Zo,{value:"english-spin",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-english-spin",children:"English (Spin)"}),u.jsxs(ts,{className:"px-2 space-y-3",children:[u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"relative w-[100px] h-[100px] bg-gradient-to-br from-background to-muted border-2 border-border rounded-md cursor-crosshair",onClick:Bt,"data-testid":"box-spin",children:[u.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-border -translate-x-1/2"}),u.jsx("div",{className:"absolute top-1/2 left-0 h-px w-full bg-border -translate-y-1/2"}),u.jsx("div",{className:"absolute w-3 h-3 bg-primary border-2 border-white rounded-full shadow-lg pointer-events-none",style:{left:`${(_+1)/2*100}%`,top:`${(1-N)/2*100}%`,transform:"translate(-50%, -50%)"}})]}),u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Top/Follow"}),u.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Bottom/Draw"}),u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-10 text-xs text-muted-foreground",children:"Left"}),u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-10 text-xs text-muted-foreground",children:"Right"})]})}),u.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground mt-6","data-testid":"text-spin-values",children:[u.jsxs("span",{children:["x: ",_.toFixed(2)]}),u.jsxs("span",{children:["y: ",N.toFixed(2)]})]})]})]}),u.jsxs(Zo,{value:"environment",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-environment",children:"Environment Settings"}),u.jsxs(ts,{className:"px-2 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Table Size"}),u.jsx("span",{className:"text-sm font-mono text-primary","data-testid":"text-table-size",children:Xn().label})]}),u.jsx("div",{className:"flex gap-1",children:["7ft","8ft","9ft","10ft"].map(M=>u.jsx(le,{variant:F===M?"default":"secondary",size:"sm",className:"flex-1 text-xs",onClick:()=>U(M),"data-testid":`button-table-${M}`,children:M},M))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cloth Speed"}),u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cloth-value",children:[Math.round(j*100),"%"]})]}),u.jsx(Kc,{value:[j*100],onValueChange:([M])=>R(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cloth"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Slow"}),u.jsx("span",{children:"Fast"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cushion Quality"}),u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cushion-value",children:[Math.round(O*100),"%"]})]}),u.jsx(Kc,{value:[O*100],onValueChange:([M])=>$(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cushion"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Dead"}),u.jsx("span",{children:"Lively"})]})]}),u.jsxs("div",{className:"pt-2 border-t border-border",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[u.jsx(gH,{className:"w-3 h-3"}),"Table Presets"]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load, hold to save"})]}),u.jsx("div",{className:"flex gap-2",children:[0,1,2].map(M=>{const B=re[M];return u.jsx("button",{className:`flex-1 py-2 px-3 rounded-md border text-xs font-mono transition-all select-none ${B?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-muted/30 border-border text-muted-foreground hover:bg-muted/50"}`,onMouseDown:()=>bt(M),onMouseUp:()=>$t(M),onMouseLeave:()=>{he.current&&(clearTimeout(he.current),he.current=null)},onTouchStart:()=>bt(M),onTouchEnd:()=>$t(M),"data-testid":`button-preset-${M+1}`,children:B?u.jsxs("span",{children:[Math.round(B.clothSpeed*100),"/",Math.round(B.cushionQuality*100)]}):u.jsx("span",{children:"--"})},M)})})]})]})]}),u.jsxs(Zo,{value:"physics",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-physics",children:"Physics Coefficients"}),u.jsx(ts,{className:"px-2",children:u.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border border-border space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[u.jsx("span",{className:"text-muted-foreground",children:"Restitution (e):"}),u.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-e",children:Cn})]}),u.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[u.jsx("span",{className:"text-muted-foreground",children:"Friction (c):"}),u.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-mu",children:gn})]})]})})]})]})})})]})})})]})}function Eje(){const[,t]=ml(),[e,n]=S.useState(null);S.useEffect(()=>{n(jt.getAggregatedStats())},[]);const r=s=>{const a=Math.floor(s/1e3),l=Math.floor(a/3600),c=Math.floor(a%3600/60),d=a%60;return l>0?`${l}h ${c}m`:c>0?`${c}m ${d}s`:`${d}s`},i=s=>s?new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",o=e&&(e.totalSessions>0||jt.hasAnyConsent());return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold",children:"Your Insights"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal performance analytics"})]})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!jt.hasAnyConsent()&&u.jsx(Je,{className:"p-4 bg-primary/5 border-primary/20",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(lc,{className:"w-5 h-5 text-primary mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-sm",children:"Analytics Disabled"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable analytics in Settings to track your performance and see insights here."}),u.jsx(le,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/"),"data-testid":"button-go-settings",children:"Go to Settings"})]})]})}),e&&u.jsxs(u.Fragment,{children:[u.jsx(Je,{className:"p-5 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:u.jsx(ZE,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Ql,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Total Time Played"})]}),u.jsx("div",{className:"flex items-baseline gap-1","data-testid":"text-total-time-played",children:(()=>{const s=Math.floor(e.totalTimeMs/1e3),a=Math.floor(s/3600),l=Math.floor(s%3600/60),c=s%60;return u.jsxs(u.Fragment,{children:[a>0&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-3xl font-bold text-foreground",children:a}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"h"})]}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:l}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"m"}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:c}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"s"})]})})()})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs(Je,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(wy,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Sessions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:e.totalSessions})]}),u.jsxs(Je,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(jh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Time Per Session"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-avg-session-time",children:e.totalSessions>0?r(e.totalTimeMs/e.totalSessions):"0s"})]})]}),e.lastActive>0&&u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Last active: ",i(e.lastActive)]}),u.jsxs(Je,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(k1,{className:"w-4 h-4 text-primary"}),"Module Usage"]}),u.jsx("div",{className:"space-y-3",children:Object.entries(e.moduleUsage).length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No module usage recorded yet. Start using the tools!"}):Object.entries(e.moduleUsage).map(([s,a])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"text-sm font-medium capitalize",children:s})}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"text-sm font-mono",children:[a.sessions," sessions"]}),u.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",r(a.timeMs),")"]})]})]},s))})]})]}),!o&&jt.hasAnyConsent()&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),u.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Start using CueMaster tools to see your insights here."})]})]})})]})}function Tje(){const[,t]=ml(),[e,n]=S.useState(""),[r,i]=S.useState(!1),[o,s]=S.useState(!1),[a,l]=S.useState(null),[c,d]=S.useState(null),f=async()=>{if(e){s(!0),l(null);try{const m=await fetch(`/api/analytics/admin?secret=${encodeURIComponent(e)}`);if(m.status===401){l("Invalid admin secret"),i(!1);return}if(!m.ok)throw new Error("Failed to fetch analytics");const y=await m.json();d(y),i(!0),localStorage.setItem("admin_secret",e)}catch(m){l(m instanceof Error?m.message:"Unknown error")}finally{s(!1)}}};S.useEffect(()=>{const m=localStorage.getItem("admin_secret");m&&n(m)},[]),S.useEffect(()=>{e&&!r&&!o&&localStorage.getItem("admin_secret")===e&&f()},[e]);const h=m=>{m.preventDefault(),f()};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[u.jsx(Ih,{className:"w-5 h-5 text-primary"}),"Admin Analytics"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate user statistics"})]}),r&&u.jsx(le,{variant:"outline",size:"icon",onClick:f,disabled:o,"data-testid":"button-refresh",children:u.jsx(pH,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[!r&&u.jsxs(Je,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ih,{className:"w-6 h-6 text-primary"}),u.jsx("h2",{className:"text-lg font-semibold",children:"Admin Authentication"})]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsx("div",{children:u.jsx(yr,{type:"password",placeholder:"Enter admin secret",value:e,onChange:m=>n(m.target.value),"data-testid":"input-admin-secret"})}),a&&u.jsx("p",{className:"text-sm text-destructive",children:a}),u.jsx(le,{type:"submit",className:"w-full",disabled:o||!e,"data-testid":"button-authenticate",children:o?"Authenticating...":"Access Dashboard"})]})]}),r&&c&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs(Je,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(Ll,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Users"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-unique-users",children:c.uniqueUsers})]}),u.jsxs(Je,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(lc,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Submissions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-submissions",children:c.totalSubmissions})]}),u.jsxs(Je,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(wy,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Sessions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:c.aggregateStats.totalSessions})]}),u.jsxs(Je,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(jh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Hours"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:c.aggregateStats.totalTimeHours})]})]}),u.jsxs(Je,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(kh,{className:"w-4 h-4 text-primary"}),"Tempo Aggregates"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsxs("p",{className:"text-lg font-bold",children:[c.aggregateStats.avgShotTime,"s"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot Time"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalShots}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots Timed"})]})]})]}),u.jsxs(Je,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(Q$,{className:"w-4 h-4 text-primary"}),"Velocity Aggregates"]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.avgBreakSpeed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.maxBreakSpeed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalBreaks}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),u.jsxs(Je,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(wy,{className:"w-4 h-4 text-primary"}),"Other Stats"]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalCalibrations}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"TrueLevel Calibrations"})]})]}),c.recentSubmissions.length>0&&u.jsxs(Je,{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Recent Submissions"}),u.jsx("div",{className:"space-y-2",children:c.recentSubmissions.map((m,y)=>u.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[u.jsx("span",{className:"font-mono text-muted-foreground",children:m.anonymousId}),u.jsxs("span",{children:[m.sessions," sessions"]}),u.jsxs("span",{className:"text-muted-foreground",children:[m.timeMin," min"]})]},y))})]}),c.totalSubmissions===0&&u.jsxs(Je,{className:"p-6 text-center",children:[u.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),u.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics will appear here when users with benchmarking consent submit their data."})]})]})]})})]})}const Pje=.0254,Aje=.02,Cje=.005;function Nje(){const[,t]=ml(),[e,n]=S.useState(!1),[r,i]=S.useState("Click Start to begin"),[o,s]=S.useState(0),[a,l]=S.useState(.05),[c,d]=S.useState(.22),[f,h]=S.useState(0),[m,y]=S.useState(null),[g,v]=S.useState(null),[x,b]=S.useState(null),[w,A]=S.useState(null),[E,C]=S.useState(null),[_,T]=S.useState([]),[N,k]=S.useState(0),[j,R]=S.useState(60),[O,$]=S.useState(.22),[F,U]=S.useState(2.8),[H,V]=S.useState(.06),[L,X]=S.useState(.01),[Y,te]=S.useState(.25),[ye,Ce]=S.useState(300),[Ve,Ye]=S.useState(6e3),fe=S.useRef(null),Ee=S.useRef(null),re=S.useRef(!1),ue=S.useRef(.05),ie=S.useRef(0),z=S.useRef(null),he=S.useCallback(ve=>{T(We=>[ve,...We].slice(0,100))},[]),xe=async()=>{i("Requesting microphone..."),T([]),h(0),y(null),v(null),b(null),C(null),A(null),ue.current=.05,ie.current=0,z.current=null;try{const ve=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:48e3}});Ee.current=ve;const We=new AudioContext({sampleRate:48e3});fe.current=We,We.state==="suspended"&&await We.resume(),i(`AudioContext: ${We.state}`);const Dt=We.createMediaStreamSource(ve),Ct=We.createBiquadFilter();Ct.type="highpass",Ct.frequency.value=ye;const Qt=We.createBiquadFilter();Qt.type="lowpass",Qt.frequency.value=Ve;const Yn=We.createAnalyser();Yn.fftSize=2048,Dt.connect(Ct),Ct.connect(Qt),Qt.connect(Yn),re.current=!0,n(!0),he({type:"info",time:0,max:0,thresh:0,floor:0});const Jt=new Float32Array(Yn.fftSize);let ar=0;const ii=()=>{if(!re.current)return;ar++,ar%30===0&&(k(ar),i(`Listening (frame ${ar})`)),Yn.getFloatTimeDomainData(Jt);let Zt=0;for(let bt=0;bt<Jt.length;bt++)Zt=Math.max(Zt,Math.abs(Jt[bt]));ar<=3&&he({type:"debug",time:We.currentTime,max:Zt,thresh:0,floor:ue.current});const Fn=ue.current;ue.current=Zt>Fn?Fn+Aje*(Zt-Fn):Fn-Cje*(Fn-Zt),ue.current=Math.max(.02,Math.min(.6,ue.current));const Yt=We.currentTime,Vn=Math.max(O,ue.current*F);if(s(Zt),l(ue.current),d(Vn),Zt>Vn&&Yt-ie.current>H)if(ie.current=Yt,h(bt=>bt+1),A(Zt),z.current===null)z.current=Yt,y(Yt),he({type:"tip",time:Yt,max:Zt,thresh:Vn,floor:ue.current});else{const bt=Yt-z.current;if(v(Yt),b(bt),bt>=L&&bt<=Y){he({type:"rack",time:Yt,max:Zt,thresh:Vn,floor:ue.current,deltaT:bt});const Xn=j*Pje/bt*2.23693629;C(Xn),z.current=null}else he({type:"rejected",time:Yt,max:Zt,thresh:Vn,floor:ue.current,deltaT:bt,reason:bt<L?"too fast":"too slow"}),bt>Y&&(z.current=Yt,y(Yt))}requestAnimationFrame(ii)};requestAnimationFrame(ii)}catch(ve){console.error(ve),i(`ERROR: ${ve.message}`),n(!1)}},Ge=()=>{re.current=!1,Ee.current&&Ee.current.getTracks().forEach(ve=>ve.stop()),fe.current&&fe.current.close(),n(!1),i("Stopped")},je=()=>{T([]),h(0),y(null),v(null),b(null),C(null),A(null)},Te=()=>{const ve={exportedAt:new Date().toISOString(),config:{distanceIn:j,minThresh:O,floorMult:F,refractTime:H,minDeltaT:L,maxDeltaT:Y,hpfFreq:ye,lpfFreq:Ve},peaks:_},We=new Blob([JSON.stringify(ve,null,2)],{type:"application/json"}),Dt=URL.createObjectURL(We),Ct=document.createElement("a");Ct.href=Dt,Ct.download=`break-debug-${Date.now()}.json`,Ct.click(),URL.revokeObjectURL(Dt)};S.useEffect(()=>()=>{re.current=!1,Ee.current&&Ee.current.getTracks().forEach(ve=>ve.stop()),fe.current&&fe.current.close()},[]);const mt=ve=>{switch(ve){case"tip":return"text-yellow-500";case"rack":return"text-primary font-bold";case"rejected":return"text-muted-foreground";case"debug":return"text-blue-400";default:return"text-muted-foreground"}};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(le,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-primary",children:"Audio Debugger"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Break speed detection diagnostics"})]})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(le,{onClick:e?Ge:xe,variant:e?"destructive":"default","data-testid":"button-toggle-listen",children:[e?u.jsx(cH,{className:"w-4 h-4 mr-2"}):u.jsx(uH,{className:"w-4 h-4 mr-2"}),e?"Stop":"Start Listening"]}),u.jsxs(le,{variant:"secondary",onClick:je,"data-testid":"button-clear",children:[u.jsx(Sy,{className:"w-4 h-4 mr-2"}),"Clear"]}),u.jsxs(le,{variant:"secondary",onClick:Te,"data-testid":"button-export",children:[u.jsx(Y$,{className:"w-4 h-4 mr-2"}),"Export"]})]}),u.jsxs(Je,{className:"p-4 bg-muted/30",children:[u.jsxs("p",{className:"text-sm font-mono","data-testid":"text-mic-status",children:[u.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",u.jsx("span",{className:e?"text-green-500":"text-muted-foreground",children:r})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Frame: ",N]})]}),E!==null&&u.jsxs(Je,{className:"p-6 bg-gradient-to-br from-primary/20 to-primary/5 border-primary/30 text-center",children:[u.jsx("p",{className:"text-sm text-primary uppercase tracking-wide",children:"Break Detected"}),u.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-result-mph",children:[E.toFixed(1)," mph"]}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Delta: ",x==null?void 0:x.toFixed(4),"s | Distance: ",j,'"']})]}),u.jsxs(Je,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Audio Levels"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Current"}),u.jsxs("div",{className:"flex-1 h-6 bg-muted rounded overflow-hidden relative",children:[u.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all",style:{width:`${Math.min(o*100,100)}%`}}),u.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white",style:{left:`${c*100}%`}})]}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:o.toFixed(3)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Floor"}),u.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${a*100}%`}})}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:a.toFixed(3)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Thresh"}),u.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-yellow-500 transition-all",style:{width:`${c*100}%`}})}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:c.toFixed(3)})]})]})]}),u.jsxs(Je,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Detection Stats"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold text-primary",children:f}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Peaks"})]}),u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold font-mono",children:(m==null?void 0:m.toFixed(3))??"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip Time"})]}),u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold font-mono",children:(x==null?void 0:x.toFixed(4))??"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Delta T"})]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["Last peak max: ",(w==null?void 0:w.toFixed(4))??"-"]})]}),u.jsxs(Je,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Configuration"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx(fn,{className:"text-xs",children:"Distance (in)"}),u.jsx(yr,{type:"number",value:j,onChange:ve=>R(+ve.target.value),className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(fn,{className:"text-xs",children:"Min Threshold"}),u.jsx(yr,{type:"number",value:O,onChange:ve=>$(+ve.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(fn,{className:"text-xs",children:"Floor Multiplier"}),u.jsx(yr,{type:"number",value:F,onChange:ve=>U(+ve.target.value),step:"0.1",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(fn,{className:"text-xs",children:"Refractory (s)"}),u.jsx(yr,{type:"number",value:H,onChange:ve=>V(+ve.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(fn,{className:"text-xs",children:"Min Delta T (s)"}),u.jsx(yr,{type:"number",value:L,onChange:ve=>X(+ve.target.value),step:"0.005",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(fn,{className:"text-xs",children:"Max Delta T (s)"}),u.jsx(yr,{type:"number",value:Y,onChange:ve=>te(+ve.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(fn,{className:"text-xs",children:"HPF Freq (Hz)"}),u.jsx(yr,{type:"number",value:ye,onChange:ve=>Ce(+ve.target.value),step:"50",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(fn,{className:"text-xs",children:"LPF Freq (Hz)"}),u.jsx(yr,{type:"number",value:Ve,onChange:ve=>Ye(+ve.target.value),step:"100",className:"h-8"})]})]})]}),u.jsxs(Je,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Peak Log"}),u.jsx("div",{className:"max-h-48 overflow-y-auto bg-background rounded p-2 font-mono text-xs space-y-1",children:_.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No peaks detected yet"}):_.map((ve,We)=>u.jsxs("div",{className:`flex justify-between ${mt(ve.type)}`,children:[u.jsxs("span",{children:[ve.type.toUpperCase()," @ ",ve.time.toFixed(4),"s"]}),u.jsxs("span",{children:["max: ",ve.max.toFixed(4)," ",ve.deltaT?`dt: ${ve.deltaT.toFixed(4)}`:""," ",ve.reason||""]})]},We))})]})]})})]})}function jje(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(Je,{className:"w-full max-w-md mx-4",children:u.jsxs(l5,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(JW,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Ije=typeof window<"u"&&(window.location.protocol==="file:"||window.location.pathname.endsWith(".html")||window.location.hostname.endsWith(".github.io")),kje=t=>{window.location.hash=t},Oje=t=>(window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)),Rje=()=>window.location.hash.replace(/^#/,"")||"/";function Mje(){const t=S.useSyncExternalStore(Oje,Rje,()=>"/"),e=S.useCallback(n=>kje(n),[]);return[t,e]}function Dje(){return u.jsx(u$,{hook:Ije?Mje:void 0,children:u.jsxs(E7,{children:[u.jsx(As,{path:"/",component:Nre}),u.jsx(As,{path:"/break-speed",component:nie}),u.jsx(As,{path:"/shot-clock",component:JNe}),u.jsx(As,{path:"/table-level",component:eje}),u.jsx(As,{path:"/cue-emulator",component:_je}),u.jsx(As,{path:"/insights",component:Eje}),u.jsx(As,{path:"/admin/analytics",component:Tje}),u.jsx(As,{path:"/debug/audio",component:Nje}),u.jsx(As,{component:jje})]})})}function $je(){return u.jsx(K7,{client:Q7,children:u.jsx(jG,{children:u.jsx(Kee,{children:u.jsxs(CG,{children:[u.jsx(nq,{}),u.jsx(Dje,{})]})})})})}ZD(document.getElementById("root")).render(u.jsx($je,{}));
