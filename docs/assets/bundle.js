var CA=t=>{throw TypeError(t)};var F0=(t,e,n)=>e.has(t)||CA("Cannot "+n);var se=(t,e,n)=>(F0(t,e,"read from private field"),n?n.call(t):e.get(t)),Ft=(t,e,n)=>e.has(t)?CA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),dt=(t,e,n,r)=>(F0(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Pr=(t,e,n)=>(F0(t,e,"access private method"),n);var um=(t,e,n,r)=>({set _(i){dt(t,e,i,n)},get _(){return se(t,e,r)}});function FU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aR={exports:{}},Vv={},lR={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=Symbol.for("react.element"),VU=Symbol.for("react.portal"),BU=Symbol.for("react.fragment"),UU=Symbol.for("react.strict_mode"),zU=Symbol.for("react.profiler"),WU=Symbol.for("react.provider"),HU=Symbol.for("react.context"),qU=Symbol.for("react.forward_ref"),GU=Symbol.for("react.suspense"),KU=Symbol.for("react.memo"),YU=Symbol.for("react.lazy"),NA=Symbol.iterator;function XU(t){return t===null||typeof t!="object"?null:(t=NA&&t[NA]||t["@@iterator"],typeof t=="function"?t:null)}var cR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uR=Object.assign,dR={};function wd(t,e,n){this.props=t,this.context=e,this.refs=dR,this.updater=n||cR}wd.prototype.isReactComponent={};wd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fR(){}fR.prototype=wd.prototype;function CS(t,e,n){this.props=t,this.context=e,this.refs=dR,this.updater=n||cR}var NS=CS.prototype=new fR;NS.constructor=CS;uR(NS,wd.prototype);NS.isPureReactComponent=!0;var IA=Array.isArray,hR=Object.prototype.hasOwnProperty,IS={current:null},pR={key:!0,ref:!0,__self:!0,__source:!0};function mR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)hR.call(e,r)&&!pR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sp,type:t,key:o,ref:s,props:i,_owner:IS.current}}function QU(t,e){return{$$typeof:Sp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sp}function JU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jA=/\/+/g;function V0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JU(""+t.key):e.toString(36)}function cg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Sp:case VU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+V0(s,0):r,IA(i)?(n="",t!=null&&(n=t.replace(jA,"$&/")+"/"),cg(i,e,n,"",function(c){return c})):i!=null&&(jS(i)&&(i=QU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jA,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",IA(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+V0(o,a);s+=cg(o,e,n,l,i)}else if(l=XU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+V0(o,a++),s+=cg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function fm(t,e,n){if(t==null)return t;var r=[],i=0;return cg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function ZU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hr={current:null},ug={transition:null},e9={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:ug,ReactCurrentOwner:IS};function gR(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:fm,forEach:function(t,e,n){fm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fm(t,function(){e++}),e},toArray:function(t){return fm(t,function(e){return e})||[]},only:function(t){if(!jS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=wd;vt.Fragment=BU;vt.Profiler=zU;vt.PureComponent=CS;vt.StrictMode=UU;vt.Suspense=GU;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e9;vt.act=gR;vt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=IS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hR.call(e,l)&&!pR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Sp,type:t.type,key:i,ref:o,props:r,_owner:s}};vt.createContext=function(t){return t={$$typeof:HU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WU,_context:t},t.Consumer=t};vt.createElement=mR;vt.createFactory=function(t){var e=mR.bind(null,t);return e.type=t,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:qU,render:t}};vt.isValidElement=jS;vt.lazy=function(t){return{$$typeof:YU,_payload:{_status:-1,_result:t},_init:ZU}};vt.memo=function(t,e){return{$$typeof:KU,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=ug.transition;ug.transition={};try{t()}finally{ug.transition=e}};vt.unstable_act=gR;vt.useCallback=function(t,e){return Hr.current.useCallback(t,e)};vt.useContext=function(t){return Hr.current.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t){return Hr.current.useDeferredValue(t)};vt.useEffect=function(t,e){return Hr.current.useEffect(t,e)};vt.useId=function(){return Hr.current.useId()};vt.useImperativeHandle=function(t,e,n){return Hr.current.useImperativeHandle(t,e,n)};vt.useInsertionEffect=function(t,e){return Hr.current.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return Hr.current.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return Hr.current.useMemo(t,e)};vt.useReducer=function(t,e,n){return Hr.current.useReducer(t,e,n)};vt.useRef=function(t){return Hr.current.useRef(t)};vt.useState=function(t){return Hr.current.useState(t)};vt.useSyncExternalStore=function(t,e,n){return Hr.current.useSyncExternalStore(t,e,n)};vt.useTransition=function(){return Hr.current.useTransition()};vt.version="18.3.1";lR.exports=vt;var y=lR.exports;const z=Yt(y),yR=FU({__proto__:null,default:z},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t9=y,n9=Symbol.for("react.element"),r9=Symbol.for("react.fragment"),i9=Object.prototype.hasOwnProperty,o9=t9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s9={key:!0,ref:!0,__self:!0,__source:!0};function vR(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)i9.call(e,r)&&!s9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:n9,type:t,key:o,ref:s,props:i,_owner:o9.current}}Vv.Fragment=r9;Vv.jsx=vR;Vv.jsxs=vR;aR.exports=Vv;var u=aR.exports,xR={exports:{}},Ai={},bR={exports:{}},wR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,V){var Z=F.length;F.push(V);e:for(;0<Z;){var Q=Z-1>>>1,ne=F[Q];if(0<i(ne,V))F[Q]=V,F[Z]=ne,Z=Q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],Z=F.pop();if(Z!==V){F[0]=Z;e:for(var Q=0,ne=F.length,ge=ne>>>1;Q<ge;){var Ae=2*(Q+1)-1,Ve=F[Ae],Ke=Ae+1,me=F[Ke];if(0>i(Ve,Z))Ke<ne&&0>i(me,Ve)?(F[Q]=me,F[Ke]=Z,Q=Ke):(F[Q]=Ve,F[Ae]=Z,Q=Ae);else if(Ke<ne&&0>i(me,Z))F[Q]=me,F[Ke]=Z,Q=Ke;else break e}}return V}function i(F,V){var Z=F.sortIndex-V.sortIndex;return Z!==0?Z:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=F)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function C(F){if(g=!1,b(F),!v)if(n(l)!==null)v=!0,U(E);else{var V=n(c);V!==null&&W(C,V.startTime-F)}}function E(F,V){v=!1,g&&(g=!1,w(P),P=-1),m=!0;var Z=h;try{for(b(V),f=n(l);f!==null&&(!(f.expirationTime>V)||F&&!I());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var ne=Q(f.expirationTime<=V);V=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),b(V)}else r(l);f=n(l)}if(f!==null)var ge=!0;else{var Ae=n(c);Ae!==null&&W(C,Ae.startTime-V),ge=!1}return ge}finally{f=null,h=Z,m=!1}}var N=!1,S=null,P=-1,A=5,k=-1;function I(){return!(t.unstable_now()-k<A)}function O(){if(S!==null){var F=t.unstable_now();k=F;var V=!0;try{V=S(!0,F)}finally{V?R():(N=!1,S=null)}}else N=!1}var R;if(typeof _=="function")R=function(){_(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=O,R=function(){B.postMessage(null)}}else R=function(){x(O,0)};function U(F){S=F,N||(N=!0,R())}function W(F,V){P=x(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,U(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var Z=h;h=V;try{return F()}finally{h=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=h;h=F;try{return V()}finally{h=Z}},t.unstable_scheduleCallback=function(F,V,Z){var Q=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Q+Z:Q):Z=Q,F){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Z+ne,F={id:d++,callback:V,priorityLevel:F,startTime:Z,expirationTime:ne,sortIndex:-1},Z>Q?(F.sortIndex=Z,e(c,F),n(l)===null&&F===n(c)&&(g?(w(P),P=-1):g=!0,W(C,Z-Q))):(F.sortIndex=ne,e(l,F),v||m||(v=!0,U(E))),F},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(F){var V=h;return function(){var Z=h;h=V;try{return F.apply(this,arguments)}finally{h=Z}}}})(wR);bR.exports=wR;var a9=bR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l9=y,Ti=a9;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _R=new Set,rh={};function gc(t,e){ku(t,e),ku(t+"Capture",e)}function ku(t,e){for(rh[t]=e,t=0;t<e.length;t++)_R.add(e[t])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vw=Object.prototype.hasOwnProperty,c9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kA={},OA={};function u9(t){return vw.call(OA,t)?!0:vw.call(kA,t)?!1:c9.test(t)?OA[t]=!0:(kA[t]=!0,!1)}function d9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f9(t,e,n,r){if(e===null||typeof e>"u"||d9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xr[t]=new qr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xr[e]=new qr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xr[t]=new qr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xr[t]=new qr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xr[t]=new qr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xr[t]=new qr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xr[t]=new qr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xr[t]=new qr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xr[t]=new qr(t,5,!1,t.toLowerCase(),null,!1,!1)});var kS=/[\-:]([a-z])/g;function OS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kS,OS);xr[e]=new qr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kS,OS);xr[e]=new qr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kS,OS);xr[e]=new qr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xr[t]=new qr(t,1,!1,t.toLowerCase(),null,!1,!1)});xr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xr[t]=new qr(t,1,!1,t.toLowerCase(),null,!0,!0)});function RS(t,e,n,r){var i=xr.hasOwnProperty(e)?xr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(f9(e,n,i,r)&&(n=null),r||i===null?u9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xs=l9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hm=Symbol.for("react.element"),Wc=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),MS=Symbol.for("react.strict_mode"),xw=Symbol.for("react.profiler"),SR=Symbol.for("react.provider"),ER=Symbol.for("react.context"),DS=Symbol.for("react.forward_ref"),bw=Symbol.for("react.suspense"),ww=Symbol.for("react.suspense_list"),$S=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),TR=Symbol.for("react.offscreen"),RA=Symbol.iterator;function ef(t){return t===null||typeof t!="object"?null:(t=RA&&t[RA]||t["@@iterator"],typeof t=="function"?t:null)}var wn=Object.assign,B0;function _f(t){if(B0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B0=e&&e[1]||""}return`
`+B0+t}var U0=!1;function z0(t,e){if(!t||U0)return"";U0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{U0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_f(t):""}function h9(t){switch(t.tag){case 5:return _f(t.type);case 16:return _f("Lazy");case 13:return _f("Suspense");case 19:return _f("SuspenseList");case 0:case 2:case 15:return t=z0(t.type,!1),t;case 11:return t=z0(t.type.render,!1),t;case 1:return t=z0(t.type,!0),t;default:return""}}function _w(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hc:return"Fragment";case Wc:return"Portal";case xw:return"Profiler";case MS:return"StrictMode";case bw:return"Suspense";case ww:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ER:return(t.displayName||"Context")+".Consumer";case SR:return(t._context.displayName||"Context")+".Provider";case DS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $S:return e=t.displayName||null,e!==null?e:_w(t.type)||"Memo";case pa:e=t._payload,t=t._init;try{return _w(t(e))}catch{}}return null}function p9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _w(e);case 8:return e===MS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ka(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m9(t){var e=PR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pm(t){t._valueTracker||(t._valueTracker=m9(t))}function AR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=PR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sw(t,e){var n=e.checked;return wn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function MA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ka(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CR(t,e){e=e.checked,e!=null&&RS(t,"checked",e,!1)}function Ew(t,e){CR(t,e);var n=Ka(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tw(t,e.type,Ka(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function DA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tw(t,e,n){(e!=="number"||Vg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sf=Array.isArray;function ou(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ka(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return wn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $A(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Sf(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ka(n)}}function NR(t,e){var n=Ka(e.value),r=Ka(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function LA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Aw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mm,jR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mm=mm||document.createElement("div"),mm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ih(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g9=["Webkit","ms","Moz","O"];Object.keys(Of).forEach(function(t){g9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Of[e]=Of[t]})});function kR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Of.hasOwnProperty(t)&&Of[t]?(""+e).trim():e+"px"}function OR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var y9=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cw(t,e){if(e){if(y9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Nw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iw=null;function LS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jw=null,su=null,au=null;function FA(t){if(t=Pp(t)){if(typeof jw!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Hv(e),jw(t.stateNode,t.type,e))}}function RR(t){su?au?au.push(t):au=[t]:su=t}function MR(){if(su){var t=su,e=au;if(au=su=null,FA(t),e)for(t=0;t<e.length;t++)FA(e[t])}}function DR(t,e){return t(e)}function $R(){}var W0=!1;function LR(t,e,n){if(W0)return t(e,n);W0=!0;try{return DR(t,e,n)}finally{W0=!1,(su!==null||au!==null)&&($R(),MR())}}function oh(t,e){var n=t.stateNode;if(n===null)return null;var r=Hv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var kw=!1;if(Ds)try{var tf={};Object.defineProperty(tf,"passive",{get:function(){kw=!0}}),window.addEventListener("test",tf,tf),window.removeEventListener("test",tf,tf)}catch{kw=!1}function v9(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Rf=!1,Bg=null,Ug=!1,Ow=null,x9={onError:function(t){Rf=!0,Bg=t}};function b9(t,e,n,r,i,o,s,a,l){Rf=!1,Bg=null,v9.apply(x9,arguments)}function w9(t,e,n,r,i,o,s,a,l){if(b9.apply(this,arguments),Rf){if(Rf){var c=Bg;Rf=!1,Bg=null}else throw Error(fe(198));Ug||(Ug=!0,Ow=c)}}function yc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function VA(t){if(yc(t)!==t)throw Error(fe(188))}function _9(t){var e=t.alternate;if(!e){if(e=yc(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return VA(i),t;if(o===r)return VA(i),e;o=o.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function VR(t){return t=_9(t),t!==null?BR(t):null}function BR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BR(t);if(e!==null)return e;t=t.sibling}return null}var UR=Ti.unstable_scheduleCallback,BA=Ti.unstable_cancelCallback,S9=Ti.unstable_shouldYield,E9=Ti.unstable_requestPaint,kn=Ti.unstable_now,T9=Ti.unstable_getCurrentPriorityLevel,FS=Ti.unstable_ImmediatePriority,zR=Ti.unstable_UserBlockingPriority,zg=Ti.unstable_NormalPriority,P9=Ti.unstable_LowPriority,WR=Ti.unstable_IdlePriority,Bv=null,Xo=null;function A9(t){if(Xo&&typeof Xo.onCommitFiberRoot=="function")try{Xo.onCommitFiberRoot(Bv,t,void 0,(t.current.flags&128)===128)}catch{}}var Eo=Math.clz32?Math.clz32:I9,C9=Math.log,N9=Math.LN2;function I9(t){return t>>>=0,t===0?32:31-(C9(t)/N9|0)|0}var gm=64,ym=4194304;function Ef(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ef(a):(o&=s,o!==0&&(r=Ef(o)))}else s=n&~i,s!==0?r=Ef(s):o!==0&&(r=Ef(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Eo(e),i=1<<n,r|=t[n],e&=~i;return r}function j9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Eo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=j9(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Rw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HR(){var t=gm;return gm<<=1,!(gm&4194240)&&(gm=64),t}function H0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ep(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Eo(e),t[e]=n}function O9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Eo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function VS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Eo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Wt=0;function qR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GR,BS,KR,YR,XR,Mw=!1,vm=[],Oa=null,Ra=null,Ma=null,sh=new Map,ah=new Map,ba=[],R9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UA(t,e){switch(t){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":sh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(e.pointerId)}}function nf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Pp(e),e!==null&&BS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M9(t,e,n,r,i){switch(e){case"focusin":return Oa=nf(Oa,t,e,n,r,i),!0;case"dragenter":return Ra=nf(Ra,t,e,n,r,i),!0;case"mouseover":return Ma=nf(Ma,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return sh.set(o,nf(sh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ah.set(o,nf(ah.get(o)||null,t,e,n,r,i)),!0}return!1}function QR(t){var e=Il(t.target);if(e!==null){var n=yc(e);if(n!==null){if(e=n.tag,e===13){if(e=FR(n),e!==null){t.blockedOn=e,XR(t.priority,function(){KR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Iw=r,n.target.dispatchEvent(r),Iw=null}else return e=Pp(n),e!==null&&BS(e),t.blockedOn=n,!1;e.shift()}return!0}function zA(t,e,n){dg(t)&&n.delete(e)}function D9(){Mw=!1,Oa!==null&&dg(Oa)&&(Oa=null),Ra!==null&&dg(Ra)&&(Ra=null),Ma!==null&&dg(Ma)&&(Ma=null),sh.forEach(zA),ah.forEach(zA)}function rf(t,e){t.blockedOn===e&&(t.blockedOn=null,Mw||(Mw=!0,Ti.unstable_scheduleCallback(Ti.unstable_NormalPriority,D9)))}function lh(t){function e(i){return rf(i,t)}if(0<vm.length){rf(vm[0],t);for(var n=1;n<vm.length;n++){var r=vm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oa!==null&&rf(Oa,t),Ra!==null&&rf(Ra,t),Ma!==null&&rf(Ma,t),sh.forEach(e),ah.forEach(e),n=0;n<ba.length;n++)r=ba[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ba.length&&(n=ba[0],n.blockedOn===null);)QR(n),n.blockedOn===null&&ba.shift()}var lu=Xs.ReactCurrentBatchConfig,Hg=!0;function $9(t,e,n,r){var i=Wt,o=lu.transition;lu.transition=null;try{Wt=1,US(t,e,n,r)}finally{Wt=i,lu.transition=o}}function L9(t,e,n,r){var i=Wt,o=lu.transition;lu.transition=null;try{Wt=4,US(t,e,n,r)}finally{Wt=i,lu.transition=o}}function US(t,e,n,r){if(Hg){var i=Dw(t,e,n,r);if(i===null)tb(t,e,r,qg,n),UA(t,r);else if(M9(i,t,e,n,r))r.stopPropagation();else if(UA(t,r),e&4&&-1<R9.indexOf(t)){for(;i!==null;){var o=Pp(i);if(o!==null&&GR(o),o=Dw(t,e,n,r),o===null&&tb(t,e,r,qg,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else tb(t,e,r,null,n)}}var qg=null;function Dw(t,e,n,r){if(qg=null,t=LS(r),t=Il(t),t!==null)if(e=yc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qg=t,null}function JR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T9()){case FS:return 1;case zR:return 4;case zg:case P9:return 16;case WR:return 536870912;default:return 16}default:return 16}}var Na=null,zS=null,fg=null;function ZR(){if(fg)return fg;var t,e=zS,n=e.length,r,i="value"in Na?Na.value:Na.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return fg=i.slice(t,1<r?1-r:void 0)}function hg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xm(){return!0}function WA(){return!1}function Ci(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xm:WA,this.isPropagationStopped=WA,this}return wn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xm)},persist:function(){},isPersistent:xm}),e}var _d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},WS=Ci(_d),Tp=wn({},_d,{view:0,detail:0}),F9=Ci(Tp),q0,G0,of,Uv=wn({},Tp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==of&&(of&&t.type==="mousemove"?(q0=t.screenX-of.screenX,G0=t.screenY-of.screenY):G0=q0=0,of=t),q0)},movementY:function(t){return"movementY"in t?t.movementY:G0}}),HA=Ci(Uv),V9=wn({},Uv,{dataTransfer:0}),B9=Ci(V9),U9=wn({},Tp,{relatedTarget:0}),K0=Ci(U9),z9=wn({},_d,{animationName:0,elapsedTime:0,pseudoElement:0}),W9=Ci(z9),H9=wn({},_d,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q9=Ci(H9),G9=wn({},_d,{data:0}),qA=Ci(G9),K9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=X9[t])?!!e[t]:!1}function HS(){return Q9}var J9=wn({},Tp,{key:function(t){if(t.key){var e=K9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HS,charCode:function(t){return t.type==="keypress"?hg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z9=Ci(J9),e8=wn({},Uv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GA=Ci(e8),t8=wn({},Tp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HS}),n8=Ci(t8),r8=wn({},_d,{propertyName:0,elapsedTime:0,pseudoElement:0}),i8=Ci(r8),o8=wn({},Uv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s8=Ci(o8),a8=[9,13,27,32],qS=Ds&&"CompositionEvent"in window,Mf=null;Ds&&"documentMode"in document&&(Mf=document.documentMode);var l8=Ds&&"TextEvent"in window&&!Mf,eM=Ds&&(!qS||Mf&&8<Mf&&11>=Mf),KA=" ",YA=!1;function tM(t,e){switch(t){case"keyup":return a8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qc=!1;function c8(t,e){switch(t){case"compositionend":return nM(e);case"keypress":return e.which!==32?null:(YA=!0,KA);case"textInput":return t=e.data,t===KA&&YA?null:t;default:return null}}function u8(t,e){if(qc)return t==="compositionend"||!qS&&tM(t,e)?(t=ZR(),fg=zS=Na=null,qc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eM&&e.locale!=="ko"?null:e.data;default:return null}}var d8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!d8[t.type]:e==="textarea"}function rM(t,e,n,r){RR(r),e=Gg(e,"onChange"),0<e.length&&(n=new WS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Df=null,ch=null;function f8(t){pM(t,0)}function zv(t){var e=Yc(t);if(AR(e))return t}function h8(t,e){if(t==="change")return e}var iM=!1;if(Ds){var Y0;if(Ds){var X0="oninput"in document;if(!X0){var QA=document.createElement("div");QA.setAttribute("oninput","return;"),X0=typeof QA.oninput=="function"}Y0=X0}else Y0=!1;iM=Y0&&(!document.documentMode||9<document.documentMode)}function JA(){Df&&(Df.detachEvent("onpropertychange",oM),ch=Df=null)}function oM(t){if(t.propertyName==="value"&&zv(ch)){var e=[];rM(e,ch,t,LS(t)),LR(f8,e)}}function p8(t,e,n){t==="focusin"?(JA(),Df=e,ch=n,Df.attachEvent("onpropertychange",oM)):t==="focusout"&&JA()}function m8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zv(ch)}function g8(t,e){if(t==="click")return zv(e)}function y8(t,e){if(t==="input"||t==="change")return zv(e)}function v8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ao=typeof Object.is=="function"?Object.is:v8;function uh(t,e){if(Ao(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vw.call(e,i)||!Ao(t[i],e[i]))return!1}return!0}function ZA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eC(t,e){var n=ZA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ZA(n)}}function sM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aM(){for(var t=window,e=Vg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vg(t.document)}return e}function GS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function x8(t){var e=aM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sM(n.ownerDocument.documentElement,n)){if(r!==null&&GS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=eC(n,o);var s=eC(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var b8=Ds&&"documentMode"in document&&11>=document.documentMode,Gc=null,$w=null,$f=null,Lw=!1;function tC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lw||Gc==null||Gc!==Vg(r)||(r=Gc,"selectionStart"in r&&GS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$f&&uh($f,r)||($f=r,r=Gg($w,"onSelect"),0<r.length&&(e=new WS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gc)))}function bm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kc={animationend:bm("Animation","AnimationEnd"),animationiteration:bm("Animation","AnimationIteration"),animationstart:bm("Animation","AnimationStart"),transitionend:bm("Transition","TransitionEnd")},Q0={},lM={};Ds&&(lM=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function Wv(t){if(Q0[t])return Q0[t];if(!Kc[t])return t;var e=Kc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lM)return Q0[t]=e[n];return t}var cM=Wv("animationend"),uM=Wv("animationiteration"),dM=Wv("animationstart"),fM=Wv("transitionend"),hM=new Map,nC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sl(t,e){hM.set(t,e),gc(e,[t])}for(var J0=0;J0<nC.length;J0++){var Z0=nC[J0],w8=Z0.toLowerCase(),_8=Z0[0].toUpperCase()+Z0.slice(1);sl(w8,"on"+_8)}sl(cM,"onAnimationEnd");sl(uM,"onAnimationIteration");sl(dM,"onAnimationStart");sl("dblclick","onDoubleClick");sl("focusin","onFocus");sl("focusout","onBlur");sl(fM,"onTransitionEnd");ku("onMouseEnter",["mouseout","mouseover"]);ku("onMouseLeave",["mouseout","mouseover"]);ku("onPointerEnter",["pointerout","pointerover"]);ku("onPointerLeave",["pointerout","pointerover"]);gc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gc("onBeforeInput",["compositionend","keypress","textInput","paste"]);gc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tf));function rC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,w9(r,e,void 0,t),t.currentTarget=null}function pM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;rC(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;rC(i,a,c),o=l}}}if(Ug)throw t=Ow,Ug=!1,Ow=null,t}function nn(t,e){var n=e[zw];n===void 0&&(n=e[zw]=new Set);var r=t+"__bubble";n.has(r)||(mM(e,t,2,!1),n.add(r))}function eb(t,e,n){var r=0;e&&(r|=4),mM(n,t,r,e)}var wm="_reactListening"+Math.random().toString(36).slice(2);function dh(t){if(!t[wm]){t[wm]=!0,_R.forEach(function(n){n!=="selectionchange"&&(S8.has(n)||eb(n,!1,t),eb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wm]||(e[wm]=!0,eb("selectionchange",!1,e))}}function mM(t,e,n,r){switch(JR(e)){case 1:var i=$9;break;case 4:i=L9;break;default:i=US}n=i.bind(null,e,n,t),i=void 0,!kw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Il(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}LR(function(){var c=o,d=LS(n),f=[];e:{var h=hM.get(t);if(h!==void 0){var m=WS,v=t;switch(t){case"keypress":if(hg(n)===0)break e;case"keydown":case"keyup":m=Z9;break;case"focusin":v="focus",m=K0;break;case"focusout":v="blur",m=K0;break;case"beforeblur":case"afterblur":m=K0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=HA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=B9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=n8;break;case cM:case uM:case dM:m=W9;break;case fM:m=i8;break;case"scroll":m=F9;break;case"wheel":m=s8;break;case"copy":case"cut":case"paste":m=q9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=GA}var g=(e&4)!==0,x=!g&&t==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var _=c,b;_!==null;){b=_;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,w!==null&&(C=oh(_,w),C!=null&&g.push(fh(_,C,b)))),x)break;_=_.return}0<g.length&&(h=new m(h,v,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Iw&&(v=n.relatedTarget||n.fromElement)&&(Il(v)||v[$s]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Il(v):null,v!==null&&(x=yc(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=HA,C="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=GA,C="onPointerLeave",w="onPointerEnter",_="pointer"),x=m==null?h:Yc(m),b=v==null?h:Yc(v),h=new g(C,_+"leave",m,n,d),h.target=x,h.relatedTarget=b,C=null,Il(d)===c&&(g=new g(w,_+"enter",v,n,d),g.target=b,g.relatedTarget=x,C=g),x=C,m&&v)t:{for(g=m,w=v,_=0,b=g;b;b=Nc(b))_++;for(b=0,C=w;C;C=Nc(C))b++;for(;0<_-b;)g=Nc(g),_--;for(;0<b-_;)w=Nc(w),b--;for(;_--;){if(g===w||w!==null&&g===w.alternate)break t;g=Nc(g),w=Nc(w)}g=null}else g=null;m!==null&&iC(f,h,m,g,!1),v!==null&&x!==null&&iC(f,x,v,g,!0)}}e:{if(h=c?Yc(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=h8;else if(XA(h))if(iM)E=y8;else{E=m8;var N=p8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=g8);if(E&&(E=E(t,c))){rM(f,E,n,d);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Tw(h,"number",h.value)}switch(N=c?Yc(c):window,t){case"focusin":(XA(N)||N.contentEditable==="true")&&(Gc=N,$w=c,$f=null);break;case"focusout":$f=$w=Gc=null;break;case"mousedown":Lw=!0;break;case"contextmenu":case"mouseup":case"dragend":Lw=!1,tC(f,n,d);break;case"selectionchange":if(b8)break;case"keydown":case"keyup":tC(f,n,d)}var S;if(qS)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else qc?tM(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(eM&&n.locale!=="ko"&&(qc||P!=="onCompositionStart"?P==="onCompositionEnd"&&qc&&(S=ZR()):(Na=d,zS="value"in Na?Na.value:Na.textContent,qc=!0)),N=Gg(c,P),0<N.length&&(P=new qA(P,t,null,n,d),f.push({event:P,listeners:N}),S?P.data=S:(S=nM(n),S!==null&&(P.data=S)))),(S=l8?c8(t,n):u8(t,n))&&(c=Gg(c,"onBeforeInput"),0<c.length&&(d=new qA("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}pM(f,e)})}function fh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=oh(t,n),o!=null&&r.unshift(fh(t,o,i)),o=oh(t,e),o!=null&&r.push(fh(t,o,i))),t=t.return}return r}function Nc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iC(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=oh(n,o),l!=null&&s.unshift(fh(n,l,a))):i||(l=oh(n,o),l!=null&&s.push(fh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var E8=/\r\n?/g,T8=/\u0000|\uFFFD/g;function oC(t){return(typeof t=="string"?t:""+t).replace(E8,`
`).replace(T8,"")}function _m(t,e,n){if(e=oC(e),oC(t)!==e&&n)throw Error(fe(425))}function Kg(){}var Fw=null,Vw=null;function Bw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uw=typeof setTimeout=="function"?setTimeout:void 0,P8=typeof clearTimeout=="function"?clearTimeout:void 0,sC=typeof Promise=="function"?Promise:void 0,A8=typeof queueMicrotask=="function"?queueMicrotask:typeof sC<"u"?function(t){return sC.resolve(null).then(t).catch(C8)}:Uw;function C8(t){setTimeout(function(){throw t})}function nb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lh(e)}function Da(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sd=Math.random().toString(36).slice(2),Go="__reactFiber$"+Sd,hh="__reactProps$"+Sd,$s="__reactContainer$"+Sd,zw="__reactEvents$"+Sd,N8="__reactListeners$"+Sd,I8="__reactHandles$"+Sd;function Il(t){var e=t[Go];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$s]||n[Go]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=aC(t);t!==null;){if(n=t[Go])return n;t=aC(t)}return e}t=n,n=t.parentNode}return null}function Pp(t){return t=t[Go]||t[$s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Hv(t){return t[hh]||null}var Ww=[],Xc=-1;function al(t){return{current:t}}function ln(t){0>Xc||(t.current=Ww[Xc],Ww[Xc]=null,Xc--)}function Zt(t,e){Xc++,Ww[Xc]=t.current,t.current=e}var Ya={},Dr=al(Ya),ri=al(!1),Jl=Ya;function Ou(t,e){var n=t.type.contextTypes;if(!n)return Ya;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ii(t){return t=t.childContextTypes,t!=null}function Yg(){ln(ri),ln(Dr)}function lC(t,e,n){if(Dr.current!==Ya)throw Error(fe(168));Zt(Dr,e),Zt(ri,n)}function gM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(fe(108,p9(t)||"Unknown",i));return wn({},n,r)}function Xg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ya,Jl=Dr.current,Zt(Dr,t),Zt(ri,ri.current),!0}function cC(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=gM(t,e,Jl),r.__reactInternalMemoizedMergedChildContext=t,ln(ri),ln(Dr),Zt(Dr,t)):ln(ri),Zt(ri,n)}var _s=null,qv=!1,rb=!1;function yM(t){_s===null?_s=[t]:_s.push(t)}function j8(t){qv=!0,yM(t)}function ll(){if(!rb&&_s!==null){rb=!0;var t=0,e=Wt;try{var n=_s;for(Wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_s=null,qv=!1}catch(i){throw _s!==null&&(_s=_s.slice(t+1)),UR(FS,ll),i}finally{Wt=e,rb=!1}}return null}var Qc=[],Jc=0,Qg=null,Jg=0,Fi=[],Vi=0,Zl=null,Ts=1,Ps="";function El(t,e){Qc[Jc++]=Jg,Qc[Jc++]=Qg,Qg=t,Jg=e}function vM(t,e,n){Fi[Vi++]=Ts,Fi[Vi++]=Ps,Fi[Vi++]=Zl,Zl=t;var r=Ts;t=Ps;var i=32-Eo(r)-1;r&=~(1<<i),n+=1;var o=32-Eo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ts=1<<32-Eo(e)+i|n<<i|r,Ps=o+t}else Ts=1<<o|n<<i|r,Ps=t}function KS(t){t.return!==null&&(El(t,1),vM(t,1,0))}function YS(t){for(;t===Qg;)Qg=Qc[--Jc],Qc[Jc]=null,Jg=Qc[--Jc],Qc[Jc]=null;for(;t===Zl;)Zl=Fi[--Vi],Fi[Vi]=null,Ps=Fi[--Vi],Fi[Vi]=null,Ts=Fi[--Vi],Fi[Vi]=null}var Si=null,_i=null,fn=!1,yo=null;function xM(t,e){var n=Wi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Si=t,_i=Da(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Si=t,_i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zl!==null?{id:Ts,overflow:Ps}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Si=t,_i=null,!0):!1;default:return!1}}function Hw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qw(t){if(fn){var e=_i;if(e){var n=e;if(!uC(t,e)){if(Hw(t))throw Error(fe(418));e=Da(n.nextSibling);var r=Si;e&&uC(t,e)?xM(r,n):(t.flags=t.flags&-4097|2,fn=!1,Si=t)}}else{if(Hw(t))throw Error(fe(418));t.flags=t.flags&-4097|2,fn=!1,Si=t}}}function dC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Si=t}function Sm(t){if(t!==Si)return!1;if(!fn)return dC(t),fn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bw(t.type,t.memoizedProps)),e&&(e=_i)){if(Hw(t))throw bM(),Error(fe(418));for(;e;)xM(t,e),e=Da(e.nextSibling)}if(dC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_i=Da(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_i=null}}else _i=Si?Da(t.stateNode.nextSibling):null;return!0}function bM(){for(var t=_i;t;)t=Da(t.nextSibling)}function Ru(){_i=Si=null,fn=!1}function XS(t){yo===null?yo=[t]:yo.push(t)}var k8=Xs.ReactCurrentBatchConfig;function sf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function Em(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fC(t){var e=t._init;return e(t._payload)}function wM(t){function e(w,_){if(t){var b=w.deletions;b===null?(w.deletions=[_],w.flags|=16):b.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Va(w,_),w.index=0,w.sibling=null,w}function o(w,_,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<_?(w.flags|=2,_):b):(w.flags|=2,_)):(w.flags|=1048576,_)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,b,C){return _===null||_.tag!==6?(_=ub(b,w.mode,C),_.return=w,_):(_=i(_,b),_.return=w,_)}function l(w,_,b,C){var E=b.type;return E===Hc?d(w,_,b.props.children,C,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pa&&fC(E)===_.type)?(C=i(_,b.props),C.ref=sf(w,_,b),C.return=w,C):(C=bg(b.type,b.key,b.props,null,w.mode,C),C.ref=sf(w,_,b),C.return=w,C)}function c(w,_,b,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=db(b,w.mode,C),_.return=w,_):(_=i(_,b.children||[]),_.return=w,_)}function d(w,_,b,C,E){return _===null||_.tag!==7?(_=Wl(b,w.mode,C,E),_.return=w,_):(_=i(_,b),_.return=w,_)}function f(w,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ub(""+_,w.mode,b),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hm:return b=bg(_.type,_.key,_.props,null,w.mode,b),b.ref=sf(w,null,_),b.return=w,b;case Wc:return _=db(_,w.mode,b),_.return=w,_;case pa:var C=_._init;return f(w,C(_._payload),b)}if(Sf(_)||ef(_))return _=Wl(_,w.mode,b,null),_.return=w,_;Em(w,_)}return null}function h(w,_,b,C){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(w,_,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hm:return b.key===E?l(w,_,b,C):null;case Wc:return b.key===E?c(w,_,b,C):null;case pa:return E=b._init,h(w,_,E(b._payload),C)}if(Sf(b)||ef(b))return E!==null?null:d(w,_,b,C,null);Em(w,b)}return null}function m(w,_,b,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(b)||null,a(_,w,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case hm:return w=w.get(C.key===null?b:C.key)||null,l(_,w,C,E);case Wc:return w=w.get(C.key===null?b:C.key)||null,c(_,w,C,E);case pa:var N=C._init;return m(w,_,b,N(C._payload),E)}if(Sf(C)||ef(C))return w=w.get(b)||null,d(_,w,C,E,null);Em(_,C)}return null}function v(w,_,b,C){for(var E=null,N=null,S=_,P=_=0,A=null;S!==null&&P<b.length;P++){S.index>P?(A=S,S=null):A=S.sibling;var k=h(w,S,b[P],C);if(k===null){S===null&&(S=A);break}t&&S&&k.alternate===null&&e(w,S),_=o(k,_,P),N===null?E=k:N.sibling=k,N=k,S=A}if(P===b.length)return n(w,S),fn&&El(w,P),E;if(S===null){for(;P<b.length;P++)S=f(w,b[P],C),S!==null&&(_=o(S,_,P),N===null?E=S:N.sibling=S,N=S);return fn&&El(w,P),E}for(S=r(w,S);P<b.length;P++)A=m(S,w,P,b[P],C),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?P:A.key),_=o(A,_,P),N===null?E=A:N.sibling=A,N=A);return t&&S.forEach(function(I){return e(w,I)}),fn&&El(w,P),E}function g(w,_,b,C){var E=ef(b);if(typeof E!="function")throw Error(fe(150));if(b=E.call(b),b==null)throw Error(fe(151));for(var N=E=null,S=_,P=_=0,A=null,k=b.next();S!==null&&!k.done;P++,k=b.next()){S.index>P?(A=S,S=null):A=S.sibling;var I=h(w,S,k.value,C);if(I===null){S===null&&(S=A);break}t&&S&&I.alternate===null&&e(w,S),_=o(I,_,P),N===null?E=I:N.sibling=I,N=I,S=A}if(k.done)return n(w,S),fn&&El(w,P),E;if(S===null){for(;!k.done;P++,k=b.next())k=f(w,k.value,C),k!==null&&(_=o(k,_,P),N===null?E=k:N.sibling=k,N=k);return fn&&El(w,P),E}for(S=r(w,S);!k.done;P++,k=b.next())k=m(S,w,P,k.value,C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?P:k.key),_=o(k,_,P),N===null?E=k:N.sibling=k,N=k);return t&&S.forEach(function(O){return e(w,O)}),fn&&El(w,P),E}function x(w,_,b,C){if(typeof b=="object"&&b!==null&&b.type===Hc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case hm:e:{for(var E=b.key,N=_;N!==null;){if(N.key===E){if(E=b.type,E===Hc){if(N.tag===7){n(w,N.sibling),_=i(N,b.props.children),_.return=w,w=_;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pa&&fC(E)===N.type){n(w,N.sibling),_=i(N,b.props),_.ref=sf(w,N,b),_.return=w,w=_;break e}n(w,N);break}else e(w,N);N=N.sibling}b.type===Hc?(_=Wl(b.props.children,w.mode,C,b.key),_.return=w,w=_):(C=bg(b.type,b.key,b.props,null,w.mode,C),C.ref=sf(w,_,b),C.return=w,w=C)}return s(w);case Wc:e:{for(N=b.key;_!==null;){if(_.key===N)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(w,_.sibling),_=i(_,b.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=db(b,w.mode,C),_.return=w,w=_}return s(w);case pa:return N=b._init,x(w,_,N(b._payload),C)}if(Sf(b))return v(w,_,b,C);if(ef(b))return g(w,_,b,C);Em(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,b),_.return=w,w=_):(n(w,_),_=ub(b,w.mode,C),_.return=w,w=_),s(w)):n(w,_)}return x}var Mu=wM(!0),_M=wM(!1),Zg=al(null),ey=null,Zc=null,QS=null;function JS(){QS=Zc=ey=null}function ZS(t){var e=Zg.current;ln(Zg),t._currentValue=e}function Gw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cu(t,e){ey=t,QS=Zc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ti=!0),t.firstContext=null)}function Xi(t){var e=t._currentValue;if(QS!==t)if(t={context:t,memoizedValue:e,next:null},Zc===null){if(ey===null)throw Error(fe(308));Zc=t,ey.dependencies={lanes:0,firstContext:t}}else Zc=Zc.next=t;return e}var jl=null;function eE(t){jl===null?jl=[t]:jl.push(t)}function SM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,eE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ls(t,r)}function Ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ma=!1;function tE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $a(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ls(t,n)}return i=r.interleaved,i===null?(e.next=e,eE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ls(t,n)}function pg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VS(t,n)}}function hC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ty(t,e,n,r){var i=t.updateQueue;ma=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=c=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(h=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=wn({},f,h);break e;case 2:ma=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);tc|=s,t.lanes=s,t.memoizedState=f}}function pC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var Ap={},Qo=al(Ap),ph=al(Ap),mh=al(Ap);function kl(t){if(t===Ap)throw Error(fe(174));return t}function nE(t,e){switch(Zt(mh,e),Zt(ph,t),Zt(Qo,Ap),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Aw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Aw(e,t)}ln(Qo),Zt(Qo,e)}function Du(){ln(Qo),ln(ph),ln(mh)}function TM(t){kl(mh.current);var e=kl(Qo.current),n=Aw(e,t.type);e!==n&&(Zt(ph,t),Zt(Qo,n))}function rE(t){ph.current===t&&(ln(Qo),ln(ph))}var vn=al(0);function ny(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ib=[];function iE(){for(var t=0;t<ib.length;t++)ib[t]._workInProgressVersionPrimary=null;ib.length=0}var mg=Xs.ReactCurrentDispatcher,ob=Xs.ReactCurrentBatchConfig,ec=0,bn=null,Gn=null,ir=null,ry=!1,Lf=!1,gh=0,O8=0;function Ar(){throw Error(fe(321))}function oE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ao(t[n],e[n]))return!1;return!0}function sE(t,e,n,r,i,o){if(ec=o,bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mg.current=t===null||t.memoizedState===null?$8:L8,t=n(r,i),Lf){o=0;do{if(Lf=!1,gh=0,25<=o)throw Error(fe(301));o+=1,ir=Gn=null,e.updateQueue=null,mg.current=F8,t=n(r,i)}while(Lf)}if(mg.current=iy,e=Gn!==null&&Gn.next!==null,ec=0,ir=Gn=bn=null,ry=!1,e)throw Error(fe(300));return t}function aE(){var t=gh!==0;return gh=0,t}function Vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?bn.memoizedState=ir=t:ir=ir.next=t,ir}function Qi(){if(Gn===null){var t=bn.alternate;t=t!==null?t.memoizedState:null}else t=Gn.next;var e=ir===null?bn.memoizedState:ir.next;if(e!==null)ir=e,Gn=t;else{if(t===null)throw Error(fe(310));Gn=t,t={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},ir===null?bn.memoizedState=ir=t:ir=ir.next=t}return ir}function yh(t,e){return typeof e=="function"?e(t):e}function sb(t){var e=Qi(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=Gn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((ec&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,bn.lanes|=d,tc|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Ao(r,e.memoizedState)||(ti=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,bn.lanes|=o,tc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ab(t){var e=Qi(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ao(o,e.memoizedState)||(ti=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function PM(){}function AM(t,e){var n=bn,r=Qi(),i=e(),o=!Ao(r.memoizedState,i);if(o&&(r.memoizedState=i,ti=!0),r=r.queue,lE(IM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ir!==null&&ir.memoizedState.tag&1){if(n.flags|=2048,vh(9,NM.bind(null,n,r,i,e),void 0,null),ar===null)throw Error(fe(349));ec&30||CM(n,e,i)}return i}function CM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NM(t,e,n,r){e.value=n,e.getSnapshot=r,jM(e)&&kM(t)}function IM(t,e,n){return n(function(){jM(e)&&kM(t)})}function jM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ao(t,n)}catch{return!0}}function kM(t){var e=Ls(t,1);e!==null&&To(e,t,1,-1)}function mC(t){var e=Vo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},e.queue=t,t=t.dispatch=D8.bind(null,bn,t),[e.memoizedState,t]}function vh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OM(){return Qi().memoizedState}function gg(t,e,n,r){var i=Vo();bn.flags|=t,i.memoizedState=vh(1|e,n,void 0,r===void 0?null:r)}function Gv(t,e,n,r){var i=Qi();r=r===void 0?null:r;var o=void 0;if(Gn!==null){var s=Gn.memoizedState;if(o=s.destroy,r!==null&&oE(r,s.deps)){i.memoizedState=vh(e,n,o,r);return}}bn.flags|=t,i.memoizedState=vh(1|e,n,o,r)}function gC(t,e){return gg(8390656,8,t,e)}function lE(t,e){return Gv(2048,8,t,e)}function RM(t,e){return Gv(4,2,t,e)}function MM(t,e){return Gv(4,4,t,e)}function DM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $M(t,e,n){return n=n!=null?n.concat([t]):null,Gv(4,4,DM.bind(null,e,t),n)}function cE(){}function LM(t,e){var n=Qi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FM(t,e){var n=Qi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VM(t,e,n){return ec&21?(Ao(n,e)||(n=HR(),bn.lanes|=n,tc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ti=!0),t.memoizedState=n)}function R8(t,e){var n=Wt;Wt=n!==0&&4>n?n:4,t(!0);var r=ob.transition;ob.transition={};try{t(!1),e()}finally{Wt=n,ob.transition=r}}function BM(){return Qi().memoizedState}function M8(t,e,n){var r=Fa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UM(t))zM(e,n);else if(n=SM(t,e,n,r),n!==null){var i=Wr();To(n,t,r,i),WM(n,e,r)}}function D8(t,e,n){var r=Fa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UM(t))zM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ao(a,s)){var l=e.interleaved;l===null?(i.next=i,eE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=SM(t,e,i,r),n!==null&&(i=Wr(),To(n,t,r,i),WM(n,e,r))}}function UM(t){var e=t.alternate;return t===bn||e!==null&&e===bn}function zM(t,e){Lf=ry=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VS(t,n)}}var iy={readContext:Xi,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},$8={readContext:Xi,useCallback:function(t,e){return Vo().memoizedState=[t,e===void 0?null:e],t},useContext:Xi,useEffect:gC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gg(4194308,4,DM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gg(4194308,4,t,e)},useInsertionEffect:function(t,e){return gg(4,2,t,e)},useMemo:function(t,e){var n=Vo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=M8.bind(null,bn,t),[r.memoizedState,t]},useRef:function(t){var e=Vo();return t={current:t},e.memoizedState=t},useState:mC,useDebugValue:cE,useDeferredValue:function(t){return Vo().memoizedState=t},useTransition:function(){var t=mC(!1),e=t[0];return t=R8.bind(null,t[1]),Vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bn,i=Vo();if(fn){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),ar===null)throw Error(fe(349));ec&30||CM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,gC(IM.bind(null,r,o,t),[t]),r.flags|=2048,vh(9,NM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Vo(),e=ar.identifierPrefix;if(fn){var n=Ps,r=Ts;n=(r&~(1<<32-Eo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},L8={readContext:Xi,useCallback:LM,useContext:Xi,useEffect:lE,useImperativeHandle:$M,useInsertionEffect:RM,useLayoutEffect:MM,useMemo:FM,useReducer:sb,useRef:OM,useState:function(){return sb(yh)},useDebugValue:cE,useDeferredValue:function(t){var e=Qi();return VM(e,Gn.memoizedState,t)},useTransition:function(){var t=sb(yh)[0],e=Qi().memoizedState;return[t,e]},useMutableSource:PM,useSyncExternalStore:AM,useId:BM,unstable_isNewReconciler:!1},F8={readContext:Xi,useCallback:LM,useContext:Xi,useEffect:lE,useImperativeHandle:$M,useInsertionEffect:RM,useLayoutEffect:MM,useMemo:FM,useReducer:ab,useRef:OM,useState:function(){return ab(yh)},useDebugValue:cE,useDeferredValue:function(t){var e=Qi();return Gn===null?e.memoizedState=t:VM(e,Gn.memoizedState,t)},useTransition:function(){var t=ab(yh)[0],e=Qi().memoizedState;return[t,e]},useMutableSource:PM,useSyncExternalStore:AM,useId:BM,unstable_isNewReconciler:!1};function uo(t,e){if(t&&t.defaultProps){e=wn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kv={isMounted:function(t){return(t=t._reactInternals)?yc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=Fa(t),o=js(r,i);o.payload=e,n!=null&&(o.callback=n),e=$a(t,o,i),e!==null&&(To(e,t,i,r),pg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=Fa(t),o=js(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$a(t,o,i),e!==null&&(To(e,t,i,r),pg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wr(),r=Fa(t),i=js(n,r);i.tag=2,e!=null&&(i.callback=e),e=$a(t,i,r),e!==null&&(To(e,t,r,n),pg(e,t,r))}};function yC(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!uh(n,r)||!uh(i,o):!0}function HM(t,e,n){var r=!1,i=Ya,o=e.contextType;return typeof o=="object"&&o!==null?o=Xi(o):(i=ii(e)?Jl:Dr.current,r=e.contextTypes,o=(r=r!=null)?Ou(t,i):Ya),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kv.enqueueReplaceState(e,e.state,null)}function Yw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},tE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Xi(o):(o=ii(e)?Jl:Dr.current,i.context=Ou(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Kw(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kv.enqueueReplaceState(i,i.state,null),ty(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $u(t,e){try{var n="",r=e;do n+=h9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function lb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var V8=typeof WeakMap=="function"?WeakMap:Map;function qM(t,e,n){n=js(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sy||(sy=!0,s1=r),Xw(t,e)},n}function GM(t,e,n){n=js(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xw(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xw(t,e),typeof r!="function"&&(La===null?La=new Set([this]):La.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function xC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new V8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ez.bind(null,t,e,n),e.then(t,t))}function bC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=js(-1,1),e.tag=2,$a(n,e,1))),n.lanes|=1),t)}var B8=Xs.ReactCurrentOwner,ti=!1;function Br(t,e,n,r){e.child=t===null?_M(e,null,n,r):Mu(e,t.child,n,r)}function _C(t,e,n,r,i){n=n.render;var o=e.ref;return cu(e,i),r=sE(t,e,n,r,o,i),n=aE(),t!==null&&!ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fs(t,e,i)):(fn&&n&&KS(e),e.flags|=1,Br(t,e,r,i),e.child)}function SC(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!yE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,KM(t,e,o,r,i)):(t=bg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:uh,n(s,r)&&t.ref===e.ref)return Fs(t,e,i)}return e.flags|=1,t=Va(o,r),t.ref=e.ref,t.return=e,e.child=t}function KM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(uh(o,r)&&t.ref===e.ref)if(ti=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ti=!0);else return e.lanes=t.lanes,Fs(t,e,i)}return Qw(t,e,n,r,i)}function YM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(tu,mi),mi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zt(tu,mi),mi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Zt(tu,mi),mi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Zt(tu,mi),mi|=r;return Br(t,e,i,n),e.child}function XM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qw(t,e,n,r,i){var o=ii(n)?Jl:Dr.current;return o=Ou(e,o),cu(e,i),n=sE(t,e,n,r,o,i),r=aE(),t!==null&&!ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fs(t,e,i)):(fn&&r&&KS(e),e.flags|=1,Br(t,e,n,i),e.child)}function EC(t,e,n,r,i){if(ii(n)){var o=!0;Xg(e)}else o=!1;if(cu(e,i),e.stateNode===null)yg(t,e),HM(e,n,r),Yw(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xi(c):(c=ii(n)?Jl:Dr.current,c=Ou(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&vC(e,s,r,c),ma=!1;var h=e.memoizedState;s.state=h,ty(e,r,s,i),l=e.memoizedState,a!==r||h!==l||ri.current||ma?(typeof d=="function"&&(Kw(e,n,d,r),l=e.memoizedState),(a=ma||yC(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,EM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:uo(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xi(l):(l=ii(n)?Jl:Dr.current,l=Ou(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&vC(e,s,r,l),ma=!1,h=e.memoizedState,s.state=h,ty(e,r,s,i);var v=e.memoizedState;a!==f||h!==v||ri.current||ma?(typeof m=="function"&&(Kw(e,n,m,r),v=e.memoizedState),(c=ma||yC(e,n,c,r,h,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Jw(t,e,n,r,o,i)}function Jw(t,e,n,r,i,o){XM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&cC(e,n,!1),Fs(t,e,o);r=e.stateNode,B8.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Mu(e,t.child,null,o),e.child=Mu(e,null,a,o)):Br(t,e,a,o),e.memoizedState=r.state,i&&cC(e,n,!0),e.child}function QM(t){var e=t.stateNode;e.pendingContext?lC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lC(t,e.context,!1),nE(t,e.containerInfo)}function TC(t,e,n,r,i){return Ru(),XS(i),e.flags|=256,Br(t,e,n,r),e.child}var Zw={dehydrated:null,treeContext:null,retryLane:0};function e1(t){return{baseLanes:t,cachePool:null,transitions:null}}function JM(t,e,n){var r=e.pendingProps,i=vn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Zt(vn,i&1),t===null)return qw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Qv(s,r,0,null),t=Wl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=e1(n),e.memoizedState=Zw,t):uE(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return U8(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Va(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Va(a,o):(o=Wl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?e1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Zw,r}return o=t.child,t=o.sibling,r=Va(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uE(t,e){return e=Qv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tm(t,e,n,r){return r!==null&&XS(r),Mu(e,t.child,null,n),t=uE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U8(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=lb(Error(fe(422))),Tm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Qv({mode:"visible",children:r.children},i,0,null),o=Wl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Mu(e,t.child,null,s),e.child.memoizedState=e1(s),e.memoizedState=Zw,o);if(!(e.mode&1))return Tm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(fe(419)),r=lb(o,r,void 0),Tm(t,e,s,r)}if(a=(s&t.childLanes)!==0,ti||a){if(r=ar,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ls(t,i),To(r,t,i,-1))}return gE(),r=lb(Error(fe(421))),Tm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tz.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,_i=Da(i.nextSibling),Si=e,fn=!0,yo=null,t!==null&&(Fi[Vi++]=Ts,Fi[Vi++]=Ps,Fi[Vi++]=Zl,Ts=t.id,Ps=t.overflow,Zl=e),e=uE(e,r.children),e.flags|=4096,e)}function PC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gw(t.return,e,n)}function cb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ZM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Br(t,e,r.children,n),r=vn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PC(t,n,e);else if(t.tag===19)PC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zt(vn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ny(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ny(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cb(e,!0,n,null,o);break;case"together":cb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=Va(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Va(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function z8(t,e,n){switch(e.tag){case 3:QM(e),Ru();break;case 5:TM(e);break;case 1:ii(e.type)&&Xg(e);break;case 4:nE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zt(Zg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(vn,vn.current&1),e.flags|=128,null):n&e.child.childLanes?JM(t,e,n):(Zt(vn,vn.current&1),t=Fs(t,e,n),t!==null?t.sibling:null);Zt(vn,vn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(vn,vn.current),r)break;return null;case 22:case 23:return e.lanes=0,YM(t,e,n)}return Fs(t,e,n)}var eD,t1,tD,nD;eD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};t1=function(){};tD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,kl(Qo.current);var o=null;switch(n){case"input":i=Sw(t,i),r=Sw(t,r),o=[];break;case"select":i=wn({},i,{value:void 0}),r=wn({},r,{value:void 0}),o=[];break;case"textarea":i=Pw(t,i),r=Pw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kg)}Cw(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};nD=function(t,e,n,r){n!==r&&(e.flags|=4)};function af(t,e){if(!fn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function W8(t,e,n){var r=e.pendingProps;switch(YS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(e),null;case 1:return ii(e.type)&&Yg(),Cr(e),null;case 3:return r=e.stateNode,Du(),ln(ri),ln(Dr),iE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yo!==null&&(c1(yo),yo=null))),t1(t,e),Cr(e),null;case 5:rE(e);var i=kl(mh.current);if(n=e.type,t!==null&&e.stateNode!=null)tD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return Cr(e),null}if(t=kl(Qo.current),Sm(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Go]=e,r[hh]=o,t=(e.mode&1)!==0,n){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(i=0;i<Tf.length;i++)nn(Tf[i],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":MA(r,o),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nn("invalid",r);break;case"textarea":$A(r,o),nn("invalid",r)}Cw(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&_m(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&_m(r.textContent,a,t),i=["children",""+a]):rh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nn("scroll",r)}switch(n){case"input":pm(r),DA(r,o,!0);break;case"textarea":pm(r),LA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Kg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Go]=e,t[hh]=r,eD(t,e,!1,!1),e.stateNode=t;e:{switch(s=Nw(n,r),n){case"dialog":nn("cancel",t),nn("close",t),i=r;break;case"iframe":case"object":case"embed":nn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Tf.length;i++)nn(Tf[i],t);i=r;break;case"source":nn("error",t),i=r;break;case"img":case"image":case"link":nn("error",t),nn("load",t),i=r;break;case"details":nn("toggle",t),i=r;break;case"input":MA(t,r),i=Sw(t,r),nn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wn({},r,{value:void 0}),nn("invalid",t);break;case"textarea":$A(t,r),i=Pw(t,r),nn("invalid",t);break;default:i=r}Cw(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?OR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ih(t,l):typeof l=="number"&&ih(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nn("scroll",t):l!=null&&RS(t,o,l,s))}switch(n){case"input":pm(t),DA(t,r,!1);break;case"textarea":pm(t),LA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ka(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ou(t,!!r.multiple,o,!1):r.defaultValue!=null&&ou(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cr(e),null;case 6:if(t&&e.stateNode!=null)nD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=kl(mh.current),kl(Qo.current),Sm(e)){if(r=e.stateNode,n=e.memoizedProps,r[Go]=e,(o=r.nodeValue!==n)&&(t=Si,t!==null))switch(t.tag){case 3:_m(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_m(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Go]=e,e.stateNode=r}return Cr(e),null;case 13:if(ln(vn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fn&&_i!==null&&e.mode&1&&!(e.flags&128))bM(),Ru(),e.flags|=98560,o=!1;else if(o=Sm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(fe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[Go]=e}else Ru(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cr(e),o=!1}else yo!==null&&(c1(yo),yo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vn.current&1?Yn===0&&(Yn=3):gE())),e.updateQueue!==null&&(e.flags|=4),Cr(e),null);case 4:return Du(),t1(t,e),t===null&&dh(e.stateNode.containerInfo),Cr(e),null;case 10:return ZS(e.type._context),Cr(e),null;case 17:return ii(e.type)&&Yg(),Cr(e),null;case 19:if(ln(vn),o=e.memoizedState,o===null)return Cr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)af(o,!1);else{if(Yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ny(t),s!==null){for(e.flags|=128,af(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zt(vn,vn.current&1|2),e.child}t=t.sibling}o.tail!==null&&kn()>Lu&&(e.flags|=128,r=!0,af(o,!1),e.lanes=4194304)}else{if(!r)if(t=ny(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),af(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!fn)return Cr(e),null}else 2*kn()-o.renderingStartTime>Lu&&n!==1073741824&&(e.flags|=128,r=!0,af(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=kn(),e.sibling=null,n=vn.current,Zt(vn,r?n&1|2:n&1),e):(Cr(e),null);case 22:case 23:return mE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mi&1073741824&&(Cr(e),e.subtreeFlags&6&&(e.flags|=8192)):Cr(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function H8(t,e){switch(YS(e),e.tag){case 1:return ii(e.type)&&Yg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Du(),ln(ri),ln(Dr),iE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rE(e),null;case 13:if(ln(vn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Ru()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ln(vn),null;case 4:return Du(),null;case 10:return ZS(e.type._context),null;case 22:case 23:return mE(),null;case 24:return null;default:return null}}var Pm=!1,Or=!1,q8=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function eu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){An(t,e,r)}else n.current=null}function n1(t,e,n){try{n()}catch(r){An(t,e,r)}}var AC=!1;function G8(t,e){if(Fw=Hg,t=aM(),GS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vw={focusedElem:t,selectionRange:n},Hg=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:uo(e.type,g),x);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(C){An(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return v=AC,AC=!1,v}function Ff(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&n1(e,n,o)}i=i.next}while(i!==r)}}function Yv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function r1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rD(t){var e=t.alternate;e!==null&&(t.alternate=null,rD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Go],delete e[hh],delete e[zw],delete e[N8],delete e[I8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iD(t){return t.tag===5||t.tag===3||t.tag===4}function CC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function i1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kg));else if(r!==4&&(t=t.child,t!==null))for(i1(t,e,n),t=t.sibling;t!==null;)i1(t,e,n),t=t.sibling}function o1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(o1(t,e,n),t=t.sibling;t!==null;)o1(t,e,n),t=t.sibling}var pr=null,po=!1;function la(t,e,n){for(n=n.child;n!==null;)oD(t,e,n),n=n.sibling}function oD(t,e,n){if(Xo&&typeof Xo.onCommitFiberUnmount=="function")try{Xo.onCommitFiberUnmount(Bv,n)}catch{}switch(n.tag){case 5:Or||eu(n,e);case 6:var r=pr,i=po;pr=null,la(t,e,n),pr=r,po=i,pr!==null&&(po?(t=pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pr.removeChild(n.stateNode));break;case 18:pr!==null&&(po?(t=pr,n=n.stateNode,t.nodeType===8?nb(t.parentNode,n):t.nodeType===1&&nb(t,n),lh(t)):nb(pr,n.stateNode));break;case 4:r=pr,i=po,pr=n.stateNode.containerInfo,po=!0,la(t,e,n),pr=r,po=i;break;case 0:case 11:case 14:case 15:if(!Or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&n1(n,e,s),i=i.next}while(i!==r)}la(t,e,n);break;case 1:if(!Or&&(eu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){An(n,e,a)}la(t,e,n);break;case 21:la(t,e,n);break;case 22:n.mode&1?(Or=(r=Or)||n.memoizedState!==null,la(t,e,n),Or=r):la(t,e,n);break;default:la(t,e,n)}}function NC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new q8),e.forEach(function(r){var i=nz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function so(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:pr=a.stateNode,po=!1;break e;case 3:pr=a.stateNode.containerInfo,po=!0;break e;case 4:pr=a.stateNode.containerInfo,po=!0;break e}a=a.return}if(pr===null)throw Error(fe(160));oD(o,s,i),pr=null,po=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){An(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sD(e,t),e=e.sibling}function sD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(so(e,t),Lo(t),r&4){try{Ff(3,t,t.return),Yv(3,t)}catch(g){An(t,t.return,g)}try{Ff(5,t,t.return)}catch(g){An(t,t.return,g)}}break;case 1:so(e,t),Lo(t),r&512&&n!==null&&eu(n,n.return);break;case 5:if(so(e,t),Lo(t),r&512&&n!==null&&eu(n,n.return),t.flags&32){var i=t.stateNode;try{ih(i,"")}catch(g){An(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&CR(i,o),Nw(a,s);var c=Nw(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?OR(i,f):d==="dangerouslySetInnerHTML"?jR(i,f):d==="children"?ih(i,f):RS(i,d,f,c)}switch(a){case"input":Ew(i,o);break;case"textarea":NR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ou(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?ou(i,!!o.multiple,o.defaultValue,!0):ou(i,!!o.multiple,o.multiple?[]:"",!1))}i[hh]=o}catch(g){An(t,t.return,g)}}break;case 6:if(so(e,t),Lo(t),r&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){An(t,t.return,g)}}break;case 3:if(so(e,t),Lo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lh(e.containerInfo)}catch(g){An(t,t.return,g)}break;case 4:so(e,t),Lo(t);break;case 13:so(e,t),Lo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(hE=kn())),r&4&&NC(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Or=(c=Or)||d,so(e,t),Or=c):so(e,t),Lo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Ie=t,d=t.child;d!==null;){for(f=Ie=d;Ie!==null;){switch(h=Ie,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ff(4,h,h.return);break;case 1:eu(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){An(r,n,g)}}break;case 5:eu(h,h.return);break;case 22:if(h.memoizedState!==null){jC(f);continue}}m!==null?(m.return=h,Ie=m):jC(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kR("display",s))}catch(g){An(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){An(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:so(e,t),Lo(t),r&4&&NC(t);break;case 21:break;default:so(e,t),Lo(t)}}function Lo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iD(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ih(i,""),r.flags&=-33);var o=CC(t);o1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=CC(t);i1(t,a,s);break;default:throw Error(fe(161))}}catch(l){An(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function K8(t,e,n){Ie=t,aD(t)}function aD(t,e,n){for(var r=(t.mode&1)!==0;Ie!==null;){var i=Ie,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Pm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Or;a=Pm;var c=Or;if(Pm=s,(Or=l)&&!c)for(Ie=i;Ie!==null;)s=Ie,l=s.child,s.tag===22&&s.memoizedState!==null?kC(i):l!==null?(l.return=s,Ie=l):kC(i);for(;o!==null;)Ie=o,aD(o),o=o.sibling;Ie=i,Pm=a,Or=c}IC(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ie=o):IC(t)}}function IC(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||Yv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Or)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:uo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&pC(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pC(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Or||e.flags&512&&r1(e)}catch(h){An(e,e.return,h)}}if(e===t){Ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function jC(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function kC(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yv(4,e)}catch(l){An(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){An(e,i,l)}}var o=e.return;try{r1(e)}catch(l){An(e,o,l)}break;case 5:var s=e.return;try{r1(e)}catch(l){An(e,s,l)}}}catch(l){An(e,e.return,l)}if(e===t){Ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ie=a;break}Ie=e.return}}var Y8=Math.ceil,oy=Xs.ReactCurrentDispatcher,dE=Xs.ReactCurrentOwner,Gi=Xs.ReactCurrentBatchConfig,Nt=0,ar=null,Fn=null,vr=0,mi=0,tu=al(0),Yn=0,xh=null,tc=0,Xv=0,fE=0,Vf=null,ei=null,hE=0,Lu=1/0,ws=null,sy=!1,s1=null,La=null,Am=!1,Ia=null,ay=0,Bf=0,a1=null,vg=-1,xg=0;function Wr(){return Nt&6?kn():vg!==-1?vg:vg=kn()}function Fa(t){return t.mode&1?Nt&2&&vr!==0?vr&-vr:k8.transition!==null?(xg===0&&(xg=HR()),xg):(t=Wt,t!==0||(t=window.event,t=t===void 0?16:JR(t.type)),t):1}function To(t,e,n,r){if(50<Bf)throw Bf=0,a1=null,Error(fe(185));Ep(t,n,r),(!(Nt&2)||t!==ar)&&(t===ar&&(!(Nt&2)&&(Xv|=n),Yn===4&&wa(t,vr)),oi(t,r),n===1&&Nt===0&&!(e.mode&1)&&(Lu=kn()+500,qv&&ll()))}function oi(t,e){var n=t.callbackNode;k9(t,e);var r=Wg(t,t===ar?vr:0);if(r===0)n!==null&&BA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&BA(n),e===1)t.tag===0?j8(OC.bind(null,t)):yM(OC.bind(null,t)),A8(function(){!(Nt&6)&&ll()}),n=null;else{switch(qR(r)){case 1:n=FS;break;case 4:n=zR;break;case 16:n=zg;break;case 536870912:n=WR;break;default:n=zg}n=mD(n,lD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lD(t,e){if(vg=-1,xg=0,Nt&6)throw Error(fe(327));var n=t.callbackNode;if(uu()&&t.callbackNode!==n)return null;var r=Wg(t,t===ar?vr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ly(t,r);else{e=r;var i=Nt;Nt|=2;var o=uD();(ar!==t||vr!==e)&&(ws=null,Lu=kn()+500,zl(t,e));do try{J8();break}catch(a){cD(t,a)}while(!0);JS(),oy.current=o,Nt=i,Fn!==null?e=0:(ar=null,vr=0,e=Yn)}if(e!==0){if(e===2&&(i=Rw(t),i!==0&&(r=i,e=l1(t,i))),e===1)throw n=xh,zl(t,0),wa(t,r),oi(t,kn()),n;if(e===6)wa(t,r);else{if(i=t.current.alternate,!(r&30)&&!X8(i)&&(e=ly(t,r),e===2&&(o=Rw(t),o!==0&&(r=o,e=l1(t,o))),e===1))throw n=xh,zl(t,0),wa(t,r),oi(t,kn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:Tl(t,ei,ws);break;case 3:if(wa(t,r),(r&130023424)===r&&(e=hE+500-kn(),10<e)){if(Wg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Uw(Tl.bind(null,t,ei,ws),e);break}Tl(t,ei,ws);break;case 4:if(wa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Eo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Y8(r/1960))-r,10<r){t.timeoutHandle=Uw(Tl.bind(null,t,ei,ws),r);break}Tl(t,ei,ws);break;case 5:Tl(t,ei,ws);break;default:throw Error(fe(329))}}}return oi(t,kn()),t.callbackNode===n?lD.bind(null,t):null}function l1(t,e){var n=Vf;return t.current.memoizedState.isDehydrated&&(zl(t,e).flags|=256),t=ly(t,e),t!==2&&(e=ei,ei=n,e!==null&&c1(e)),t}function c1(t){ei===null?ei=t:ei.push.apply(ei,t)}function X8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ao(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wa(t,e){for(e&=~fE,e&=~Xv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Eo(e),r=1<<n;t[n]=-1,e&=~r}}function OC(t){if(Nt&6)throw Error(fe(327));uu();var e=Wg(t,0);if(!(e&1))return oi(t,kn()),null;var n=ly(t,e);if(t.tag!==0&&n===2){var r=Rw(t);r!==0&&(e=r,n=l1(t,r))}if(n===1)throw n=xh,zl(t,0),wa(t,e),oi(t,kn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tl(t,ei,ws),oi(t,kn()),null}function pE(t,e){var n=Nt;Nt|=1;try{return t(e)}finally{Nt=n,Nt===0&&(Lu=kn()+500,qv&&ll())}}function nc(t){Ia!==null&&Ia.tag===0&&!(Nt&6)&&uu();var e=Nt;Nt|=1;var n=Gi.transition,r=Wt;try{if(Gi.transition=null,Wt=1,t)return t()}finally{Wt=r,Gi.transition=n,Nt=e,!(Nt&6)&&ll()}}function mE(){mi=tu.current,ln(tu)}function zl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,P8(n)),Fn!==null)for(n=Fn.return;n!==null;){var r=n;switch(YS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yg();break;case 3:Du(),ln(ri),ln(Dr),iE();break;case 5:rE(r);break;case 4:Du();break;case 13:ln(vn);break;case 19:ln(vn);break;case 10:ZS(r.type._context);break;case 22:case 23:mE()}n=n.return}if(ar=t,Fn=t=Va(t.current,null),vr=mi=e,Yn=0,xh=null,fE=Xv=tc=0,ei=Vf=null,jl!==null){for(e=0;e<jl.length;e++)if(n=jl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}jl=null}return t}function cD(t,e){do{var n=Fn;try{if(JS(),mg.current=iy,ry){for(var r=bn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ry=!1}if(ec=0,ir=Gn=bn=null,Lf=!1,gh=0,dE.current=null,n===null||n.return===null){Yn=1,xh=e,Fn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=vr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=bC(s);if(m!==null){m.flags&=-257,wC(m,s,a,o,e),m.mode&1&&xC(o,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){xC(o,c,e),gE();break e}l=Error(fe(426))}}else if(fn&&a.mode&1){var x=bC(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),wC(x,s,a,o,e),XS($u(l,a));break e}}o=l=$u(l,a),Yn!==4&&(Yn=2),Vf===null?Vf=[o]:Vf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=qM(o,l,e);hC(o,w);break e;case 1:a=l;var _=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(La===null||!La.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=GM(o,a,e);hC(o,C);break e}}o=o.return}while(o!==null)}fD(n)}catch(E){e=E,Fn===n&&n!==null&&(Fn=n=n.return);continue}break}while(!0)}function uD(){var t=oy.current;return oy.current=iy,t===null?iy:t}function gE(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),ar===null||!(tc&268435455)&&!(Xv&268435455)||wa(ar,vr)}function ly(t,e){var n=Nt;Nt|=2;var r=uD();(ar!==t||vr!==e)&&(ws=null,zl(t,e));do try{Q8();break}catch(i){cD(t,i)}while(!0);if(JS(),Nt=n,oy.current=r,Fn!==null)throw Error(fe(261));return ar=null,vr=0,Yn}function Q8(){for(;Fn!==null;)dD(Fn)}function J8(){for(;Fn!==null&&!S9();)dD(Fn)}function dD(t){var e=pD(t.alternate,t,mi);t.memoizedProps=t.pendingProps,e===null?fD(t):Fn=e,dE.current=null}function fD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=H8(n,e),n!==null){n.flags&=32767,Fn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yn=6,Fn=null;return}}else if(n=W8(n,e,mi),n!==null){Fn=n;return}if(e=e.sibling,e!==null){Fn=e;return}Fn=e=t}while(e!==null);Yn===0&&(Yn=5)}function Tl(t,e,n){var r=Wt,i=Gi.transition;try{Gi.transition=null,Wt=1,Z8(t,e,n,r)}finally{Gi.transition=i,Wt=r}return null}function Z8(t,e,n,r){do uu();while(Ia!==null);if(Nt&6)throw Error(fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(O9(t,o),t===ar&&(Fn=ar=null,vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Am||(Am=!0,mD(zg,function(){return uu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gi.transition,Gi.transition=null;var s=Wt;Wt=1;var a=Nt;Nt|=4,dE.current=null,G8(t,n),sD(n,t),x8(Vw),Hg=!!Fw,Vw=Fw=null,t.current=n,K8(n),E9(),Nt=a,Wt=s,Gi.transition=o}else t.current=n;if(Am&&(Am=!1,Ia=t,ay=i),o=t.pendingLanes,o===0&&(La=null),A9(n.stateNode),oi(t,kn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sy)throw sy=!1,t=s1,s1=null,t;return ay&1&&t.tag!==0&&uu(),o=t.pendingLanes,o&1?t===a1?Bf++:(Bf=0,a1=t):Bf=0,ll(),null}function uu(){if(Ia!==null){var t=qR(ay),e=Gi.transition,n=Wt;try{if(Gi.transition=null,Wt=16>t?16:t,Ia===null)var r=!1;else{if(t=Ia,Ia=null,ay=0,Nt&6)throw Error(fe(331));var i=Nt;for(Nt|=4,Ie=t.current;Ie!==null;){var o=Ie,s=o.child;if(Ie.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ie=c;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:Ff(8,d,o)}var f=d.child;if(f!==null)f.return=d,Ie=f;else for(;Ie!==null;){d=Ie;var h=d.sibling,m=d.return;if(rD(d),d===c){Ie=null;break}if(h!==null){h.return=m,Ie=h;break}Ie=m}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Ie=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ie=s;else e:for(;Ie!==null;){if(o=Ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ff(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Ie=w;break e}Ie=o.return}}var _=t.current;for(Ie=_;Ie!==null;){s=Ie;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Ie=b;else e:for(s=_;Ie!==null;){if(a=Ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yv(9,a)}}catch(E){An(a,a.return,E)}if(a===s){Ie=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ie=C;break e}Ie=a.return}}if(Nt=i,ll(),Xo&&typeof Xo.onPostCommitFiberRoot=="function")try{Xo.onPostCommitFiberRoot(Bv,t)}catch{}r=!0}return r}finally{Wt=n,Gi.transition=e}}return!1}function RC(t,e,n){e=$u(n,e),e=qM(t,e,1),t=$a(t,e,1),e=Wr(),t!==null&&(Ep(t,1,e),oi(t,e))}function An(t,e,n){if(t.tag===3)RC(t,t,n);else for(;e!==null;){if(e.tag===3){RC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(La===null||!La.has(r))){t=$u(n,t),t=GM(e,t,1),e=$a(e,t,1),t=Wr(),e!==null&&(Ep(e,1,t),oi(e,t));break}}e=e.return}}function ez(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wr(),t.pingedLanes|=t.suspendedLanes&n,ar===t&&(vr&n)===n&&(Yn===4||Yn===3&&(vr&130023424)===vr&&500>kn()-hE?zl(t,0):fE|=n),oi(t,e)}function hD(t,e){e===0&&(t.mode&1?(e=ym,ym<<=1,!(ym&130023424)&&(ym=4194304)):e=1);var n=Wr();t=Ls(t,e),t!==null&&(Ep(t,e,n),oi(t,n))}function tz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hD(t,n)}function nz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),hD(t,n)}var pD;pD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ri.current)ti=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ti=!1,z8(t,e,n);ti=!!(t.flags&131072)}else ti=!1,fn&&e.flags&1048576&&vM(e,Jg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yg(t,e),t=e.pendingProps;var i=Ou(e,Dr.current);cu(e,n),i=sE(null,e,r,t,i,n);var o=aE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ii(r)?(o=!0,Xg(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tE(e),i.updater=Kv,e.stateNode=i,i._reactInternals=e,Yw(e,r,t,n),e=Jw(null,e,r,!0,o,n)):(e.tag=0,fn&&o&&KS(e),Br(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iz(r),t=uo(r,t),i){case 0:e=Qw(null,e,r,t,n);break e;case 1:e=EC(null,e,r,t,n);break e;case 11:e=_C(null,e,r,t,n);break e;case 14:e=SC(null,e,r,uo(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:uo(r,i),Qw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:uo(r,i),EC(t,e,r,i,n);case 3:e:{if(QM(e),t===null)throw Error(fe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,EM(t,e),ty(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=$u(Error(fe(423)),e),e=TC(t,e,r,n,i);break e}else if(r!==i){i=$u(Error(fe(424)),e),e=TC(t,e,r,n,i);break e}else for(_i=Da(e.stateNode.containerInfo.firstChild),Si=e,fn=!0,yo=null,n=_M(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ru(),r===i){e=Fs(t,e,n);break e}Br(t,e,r,n)}e=e.child}return e;case 5:return TM(e),t===null&&qw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Bw(r,i)?s=null:o!==null&&Bw(r,o)&&(e.flags|=32),XM(t,e),Br(t,e,s,n),e.child;case 6:return t===null&&qw(e),null;case 13:return JM(t,e,n);case 4:return nE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mu(e,null,r,n):Br(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:uo(r,i),_C(t,e,r,i,n);case 7:return Br(t,e,e.pendingProps,n),e.child;case 8:return Br(t,e,e.pendingProps.children,n),e.child;case 12:return Br(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Zt(Zg,r._currentValue),r._currentValue=s,o!==null)if(Ao(o.value,s)){if(o.children===i.children&&!ri.current){e=Fs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=js(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Gw(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(fe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Gw(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Br(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,cu(e,n),i=Xi(i),r=r(i),e.flags|=1,Br(t,e,r,n),e.child;case 14:return r=e.type,i=uo(r,e.pendingProps),i=uo(r.type,i),SC(t,e,r,i,n);case 15:return KM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:uo(r,i),yg(t,e),e.tag=1,ii(r)?(t=!0,Xg(e)):t=!1,cu(e,n),HM(e,r,i),Yw(e,r,i,n),Jw(null,e,r,!0,t,n);case 19:return ZM(t,e,n);case 22:return YM(t,e,n)}throw Error(fe(156,e.tag))};function mD(t,e){return UR(t,e)}function rz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(t,e,n,r){return new rz(t,e,n,r)}function yE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iz(t){if(typeof t=="function")return yE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===DS)return 11;if(t===$S)return 14}return 2}function Va(t,e){var n=t.alternate;return n===null?(n=Wi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bg(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")yE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Hc:return Wl(n.children,i,o,e);case MS:s=8,i|=8;break;case xw:return t=Wi(12,n,e,i|2),t.elementType=xw,t.lanes=o,t;case bw:return t=Wi(13,n,e,i),t.elementType=bw,t.lanes=o,t;case ww:return t=Wi(19,n,e,i),t.elementType=ww,t.lanes=o,t;case TR:return Qv(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SR:s=10;break e;case ER:s=9;break e;case DS:s=11;break e;case $S:s=14;break e;case pa:s=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Wi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Wl(t,e,n,r){return t=Wi(7,t,r,e),t.lanes=n,t}function Qv(t,e,n,r){return t=Wi(22,t,r,e),t.elementType=TR,t.lanes=n,t.stateNode={isHidden:!1},t}function ub(t,e,n){return t=Wi(6,t,null,e),t.lanes=n,t}function db(t,e,n){return e=Wi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H0(0),this.expirationTimes=H0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vE(t,e,n,r,i,o,s,a,l){return t=new oz(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Wi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tE(o),t}function sz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gD(t){if(!t)return Ya;t=t._reactInternals;e:{if(yc(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(ii(n))return gM(t,n,e)}return e}function yD(t,e,n,r,i,o,s,a,l){return t=vE(n,r,!0,t,i,o,s,a,l),t.context=gD(null),n=t.current,r=Wr(),i=Fa(n),o=js(r,i),o.callback=e??null,$a(n,o,i),t.current.lanes=i,Ep(t,i,r),oi(t,r),t}function Jv(t,e,n,r){var i=e.current,o=Wr(),s=Fa(i);return n=gD(n),e.context===null?e.context=n:e.pendingContext=n,e=js(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$a(i,e,s),t!==null&&(To(t,i,s,o),pg(t,i,s)),s}function cy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function MC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xE(t,e){MC(t,e),(t=t.alternate)&&MC(t,e)}function az(){return null}var vD=typeof reportError=="function"?reportError:function(t){console.error(t)};function bE(t){this._internalRoot=t}Zv.prototype.render=bE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Jv(t,e,null,null)};Zv.prototype.unmount=bE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nc(function(){Jv(null,t,null,null)}),e[$s]=null}};function Zv(t){this._internalRoot=t}Zv.prototype.unstable_scheduleHydration=function(t){if(t){var e=YR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ba.length&&e!==0&&e<ba[n].priority;n++);ba.splice(n,0,t),n===0&&QR(t)}};function wE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ex(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DC(){}function lz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=cy(s);o.call(c)}}var s=yD(e,r,t,0,null,!1,!1,"",DC);return t._reactRootContainer=s,t[$s]=s.current,dh(t.nodeType===8?t.parentNode:t),nc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=cy(l);a.call(c)}}var l=vE(t,0,!1,null,null,!1,!1,"",DC);return t._reactRootContainer=l,t[$s]=l.current,dh(t.nodeType===8?t.parentNode:t),nc(function(){Jv(e,l,n,r)}),l}function tx(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=cy(s);a.call(l)}}Jv(e,s,t,i)}else s=lz(n,e,t,i,r);return cy(s)}GR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ef(e.pendingLanes);n!==0&&(VS(e,n|1),oi(e,kn()),!(Nt&6)&&(Lu=kn()+500,ll()))}break;case 13:nc(function(){var r=Ls(t,1);if(r!==null){var i=Wr();To(r,t,1,i)}}),xE(t,1)}};BS=function(t){if(t.tag===13){var e=Ls(t,134217728);if(e!==null){var n=Wr();To(e,t,134217728,n)}xE(t,134217728)}};KR=function(t){if(t.tag===13){var e=Fa(t),n=Ls(t,e);if(n!==null){var r=Wr();To(n,t,e,r)}xE(t,e)}};YR=function(){return Wt};XR=function(t,e){var n=Wt;try{return Wt=t,e()}finally{Wt=n}};jw=function(t,e,n){switch(e){case"input":if(Ew(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hv(r);if(!i)throw Error(fe(90));AR(r),Ew(r,i)}}}break;case"textarea":NR(t,n);break;case"select":e=n.value,e!=null&&ou(t,!!n.multiple,e,!1)}};DR=pE;$R=nc;var cz={usingClientEntryPoint:!1,Events:[Pp,Yc,Hv,RR,MR,pE]},lf={findFiberByHostInstance:Il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uz={bundleType:lf.bundleType,version:lf.version,rendererPackageName:lf.rendererPackageName,rendererConfig:lf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VR(t),t===null?null:t.stateNode},findFiberByHostInstance:lf.findFiberByHostInstance||az,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cm.isDisabled&&Cm.supportsFiber)try{Bv=Cm.inject(uz),Xo=Cm}catch{}}Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cz;Ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wE(e))throw Error(fe(200));return sz(t,e,null,n)};Ai.createRoot=function(t,e){if(!wE(t))throw Error(fe(299));var n=!1,r="",i=vD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vE(t,1,!1,null,null,n,!1,r,i),t[$s]=e.current,dh(t.nodeType===8?t.parentNode:t),new bE(e)};Ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=VR(e),t=t===null?null:t.stateNode,t};Ai.flushSync=function(t){return nc(t)};Ai.hydrate=function(t,e,n){if(!ex(e))throw Error(fe(200));return tx(null,t,e,!0,n)};Ai.hydrateRoot=function(t,e,n){if(!wE(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=vD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=yD(e,null,t,1,n??null,i,!1,o,s),t[$s]=e.current,dh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zv(e)};Ai.render=function(t,e,n){if(!ex(e))throw Error(fe(200));return tx(null,t,e,!1,n)};Ai.unmountComponentAtNode=function(t){if(!ex(t))throw Error(fe(40));return t._reactRootContainer?(nc(function(){tx(null,null,t,!1,function(){t._reactRootContainer=null,t[$s]=null})}),!0):!1};Ai.unstable_batchedUpdates=pE;Ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ex(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return tx(t,e,n,!1,r)};Ai.version="18.3.1-next-f1338f8080-20240426";function xD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xD)}catch(t){console.error(t)}}xD(),xR.exports=Ai;var vc=xR.exports;const dz=Yt(vc);var bD,$C=vc;bD=$C.createRoot,$C.hydrateRoot;function fz(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var wD={exports:{}},_D={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu=y;function hz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pz=typeof Object.is=="function"?Object.is:hz,mz=Fu.useState,gz=Fu.useEffect,yz=Fu.useLayoutEffect,vz=Fu.useDebugValue;function xz(t,e){var n=e(),r=mz({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return yz(function(){i.value=n,i.getSnapshot=e,fb(i)&&o({inst:i})},[t,n,e]),gz(function(){return fb(i)&&o({inst:i}),t(function(){fb(i)&&o({inst:i})})},[t]),vz(n),n}function fb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pz(t,n)}catch{return!0}}function bz(t,e){return e()}var wz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bz:xz;_D.useSyncExternalStore=Fu.useSyncExternalStore!==void 0?Fu.useSyncExternalStore:wz;wD.exports=_D;var _z=wD.exports;const Sz=yR.useInsertionEffect,Ez=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tz=Ez?y.useLayoutEffect:y.useEffect,Pz=Sz||Tz,SD=t=>{const e=y.useRef([t,(...n)=>e[0](...n)]).current;return Pz(()=>{e[0]=t}),e[1]},Az="popstate",_E="pushState",SE="replaceState",Cz="hashchange",LC=[Az,_E,SE,Cz],Nz=t=>{for(const e of LC)addEventListener(e,t);return()=>{for(const e of LC)removeEventListener(e,t)}},ED=(t,e)=>_z.useSyncExternalStore(Nz,t,e),Iz=()=>location.search,jz=({ssrSearch:t=""}={})=>ED(Iz,()=>t),FC=()=>location.pathname,kz=({ssrPath:t}={})=>ED(FC,t?()=>t:FC),Oz=(t,{replace:e=!1,state:n=null}={})=>history[e?SE:_E](n,"",t),Rz=(t={})=>[kz(t),Oz],VC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[VC]>"u"){for(const t of[_E,SE]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,VC,{value:!0})}const Mz=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",TD=(t="")=>t==="/"?"":t,Dz=(t,e)=>t[0]==="~"?t.slice(1):TD(e)+t,$z=(t="",e)=>Mz(BC(TD(t)),BC(e)),BC=t=>{try{return decodeURI(t)}catch{return t}},PD={hook:Rz,searchHook:jz,parser:fz,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},AD=y.createContext(PD),Cp=()=>y.useContext(AD),CD={},ND=y.createContext(CD),Lz=()=>y.useContext(ND),nx=t=>{const[e,n]=t.hook(t);return[$z(t.base,e),SD((r,i)=>n(Dz(r,t.base),i))]},cl=()=>nx(Cp()),ID=(t,e,n,r)=>{const{pattern:i,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),s=i.exec(n)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const c=o!==!1?Object.fromEntries(o.map((f,h)=>[f,l[h]])):s.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},jD=({children:t,...e})=>{var d,f;const n=Cp(),r=e.hook?PD:n;let i=r;const[o,s]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=o),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=y.useRef({}),l=a.current,c=l;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&m!==c[h]&&(a.current=c={...c}),c[h]=m,m!==r[h]&&(i=c)}return y.createElement(AD.Provider,{value:i,children:t})},UC=({children:t,component:e},n)=>e?y.createElement(e,{params:n}):typeof t=="function"?t(n):t,Fz=t=>{let e=y.useRef(CD),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},gs=({path:t,nest:e,match:n,...r})=>{const i=Cp(),[o]=nx(i),[s,a,l]=n??ID(i.parser,t,o,e),c=Fz({...Lz(),...a});if(!s)return null;const d=l?y.createElement(jD,{base:l},UC(r,c)):UC(r,c);return y.createElement(ND.Provider,{value:c,children:d})};y.forwardRef((t,e)=>{const n=Cp(),[r,i]=nx(n),{to:o="",href:s=o,onClick:a,asChild:l,children:c,className:d,replace:f,state:h,...m}=t,v=SD(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),i(s,t)))}),g=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&y.isValidElement(c)?y.cloneElement(c,{onClick:v,href:g}):y.createElement("a",{...m,onClick:v,href:g,className:d!=null&&d.call?d(r===s):d,children:c,ref:e})});const kD=t=>Array.isArray(t)?t.flatMap(e=>kD(e&&e.type===y.Fragment?e.props.children:e)):[t],Vz=({children:t,location:e})=>{const n=Cp(),[r]=nx(n);for(const i of kD(t)){let o=0;if(y.isValidElement(i)&&(o=ID(n.parser,i.props.path,e||r,i.props.nest))[0])return y.cloneElement(i,{match:o})}return null};var rx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ix=typeof window>"u"||"Deno"in globalThis;function fo(){}function Bz(t,e){return typeof t=="function"?t(e):t}function Uz(t){return typeof t=="number"&&t>=0&&t!==1/0}function zz(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zC(t,e){return typeof t=="function"?t(e):t}function Wz(t,e){return typeof t=="function"?t(e):t}function WC(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==EE(s,e.options))return!1}else if(!wh(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function HC(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(bh(e.options.mutationKey)!==bh(o))return!1}else if(!wh(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function EE(t,e){return((e==null?void 0:e.queryKeyHashFn)||bh)(t)}function bh(t){return JSON.stringify(t,(e,n)=>u1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function wh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!wh(t[n],e[n])):!1}function OD(t,e){if(t===e)return t;const n=qC(t)&&qC(e);if(n||u1(t)&&u1(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let c=0;c<s;c++){const d=n?c:o[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=OD(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function qC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function u1(t){if(!GC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!GC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function GC(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hz(t){return new Promise(e=>{setTimeout(e,t)})}function qz(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?OD(t,e):e}function Gz(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Kz(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var TE=Symbol();function RD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===TE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Fl,Ea,Su,ZO,Yz=(ZO=class extends rx{constructor(){super();Ft(this,Fl);Ft(this,Ea);Ft(this,Su);dt(this,Su,e=>{if(!ix&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){se(this,Ea)||this.setEventListener(se(this,Su))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Ea))==null||e.call(this),dt(this,Ea,void 0))}setEventListener(e){var n;dt(this,Su,e),(n=se(this,Ea))==null||n.call(this),dt(this,Ea,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){se(this,Fl)!==e&&(dt(this,Fl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof se(this,Fl)=="boolean"?se(this,Fl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fl=new WeakMap,Ea=new WeakMap,Su=new WeakMap,ZO),MD=new Yz,Eu,Ta,Tu,eR,Xz=(eR=class extends rx{constructor(){super();Ft(this,Eu,!0);Ft(this,Ta);Ft(this,Tu);dt(this,Tu,e=>{if(!ix&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){se(this,Ta)||this.setEventListener(se(this,Tu))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Ta))==null||e.call(this),dt(this,Ta,void 0))}setEventListener(e){var n;dt(this,Tu,e),(n=se(this,Ta))==null||n.call(this),dt(this,Ta,e(this.setOnline.bind(this)))}setOnline(e){se(this,Eu)!==e&&(dt(this,Eu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return se(this,Eu)}},Eu=new WeakMap,Ta=new WeakMap,Tu=new WeakMap,eR),uy=new Xz;function Qz(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Jz(t){return Math.min(1e3*2**t,3e4)}function DD(t){return(t??"online")==="online"?uy.isOnline():!0}var $D=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function hb(t){return t instanceof $D}function LD(t){let e=!1,n=0,r=!1,i;const o=Qz(),s=g=>{var x;r||(h(new $D(g)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>MD.isFocused()&&(t.networkMode==="always"||uy.isOnline())&&t.canRun(),d=()=>DD(t.networkMode)&&t.canRun(),f=g=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,g),i==null||i(),o.resolve(g))},h=g=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,g),i==null||i(),o.reject(g))},m=()=>new Promise(g=>{var x;i=w=>{(r||c())&&g(w)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(r)return;let g;const x=n===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var N;if(r)return;const _=t.retry??(ix?0:3),b=t.retryDelay??Jz,C=typeof b=="function"?b(n,w):b,E=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(e||!E){h(w);return}n++,(N=t.onFail)==null||N.call(t,n,w),Hz(C).then(()=>c()?void 0:m()).then(()=>{e?h(w):v()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),o)}}function Zz(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ur=Zz(),Vl,tR,FD=(tR=class{constructor(){Ft(this,Vl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Uz(this.gcTime)&&dt(this,Vl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ix?1/0:5*60*1e3))}clearGcTimeout(){se(this,Vl)&&(clearTimeout(se(this,Vl)),dt(this,Vl,void 0))}},Vl=new WeakMap,tR),Pu,Au,Li,Ir,wp,Bl,ho,bs,nR,e7=(nR=class extends FD{constructor(n){super();Ft(this,ho);Ft(this,Pu);Ft(this,Au);Ft(this,Li);Ft(this,Ir);Ft(this,wp);Ft(this,Bl);dt(this,Bl,!1),dt(this,wp,n.defaultOptions),this.setOptions(n.options),this.observers=[],dt(this,Li,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,dt(this,Pu,n7(this.options)),this.state=n.state??se(this,Pu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=se(this,Ir))==null?void 0:n.promise}setOptions(n){this.options={...se(this,wp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,Li).remove(this)}setData(n,r){const i=qz(this.state.data,n,this.options);return Pr(this,ho,bs).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Pr(this,ho,bs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=se(this,Ir))==null?void 0:i.promise;return(o=se(this,Ir))==null||o.cancel(n),r?r.then(fo).catch(fo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,Pu))}isActive(){return this.observers.some(n=>Wz(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===TE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!zz(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=se(this,Ir))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=se(this,Ir))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),se(this,Li).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(se(this,Ir)&&(se(this,Bl)?se(this,Ir).cancel({revert:!0}):se(this,Ir).cancelRetry()),this.scheduleGc()),se(this,Li).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pr(this,ho,bs).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,Ir))return se(this,Ir).continueRetry(),se(this,Ir).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(dt(this,Bl,!0),i.signal)})},s=()=>{const h=RD(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return o(m),dt(this,Bl,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(a),(c=this.options.behavior)==null||c.onFetch(a,this),dt(this,Au,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Pr(this,ho,bs).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,v,g,x;hb(h)&&h.silent||Pr(this,ho,bs).call(this,{type:"error",error:h}),hb(h)||((v=(m=se(this,Li).config).onError)==null||v.call(m,h,this),(x=(g=se(this,Li).config).onSettled)==null||x.call(g,this.state.data,h,this)),this.scheduleGc()};return dt(this,Ir,LD({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,v,g,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){l(w);return}(v=(m=se(this,Li).config).onSuccess)==null||v.call(m,h,this),(x=(g=se(this,Li).config).onSettled)==null||x.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Pr(this,ho,bs).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Pr(this,ho,bs).call(this,{type:"pause"})},onContinue:()=>{Pr(this,ho,bs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),se(this,Ir).start()}},Pu=new WeakMap,Au=new WeakMap,Li=new WeakMap,Ir=new WeakMap,wp=new WeakMap,Bl=new WeakMap,ho=new WeakSet,bs=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...t7(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return hb(o)&&o.revert&&se(this,Au)?{...se(this,Au),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Ur.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),se(this,Li).notify({query:this,type:"updated",action:n})})},nR);function t7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function n7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zo,rR,r7=(rR=class extends rx{constructor(e={}){super();Ft(this,zo);this.config=e,dt(this,zo,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??EE(i,n);let s=this.get(o);return s||(s=new e7({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){se(this,zo).has(e.queryHash)||(se(this,zo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=se(this,zo).get(e.queryHash);n&&(e.destroy(),n===e&&se(this,zo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,zo).get(e)}getAll(){return[...se(this,zo).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>WC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>WC(e,r)):n}notify(e){Ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zo=new WeakMap,rR),Wo,Vr,Ul,Ho,fa,iR,i7=(iR=class extends FD{constructor(n){super();Ft(this,Ho);Ft(this,Wo);Ft(this,Vr);Ft(this,Ul);this.mutationId=n.mutationId,dt(this,Vr,n.mutationCache),dt(this,Wo,[]),this.state=n.state||o7(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){se(this,Wo).includes(n)||(se(this,Wo).push(n),this.clearGcTimeout(),se(this,Vr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){dt(this,Wo,se(this,Wo).filter(r=>r!==n)),this.scheduleGc(),se(this,Vr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){se(this,Wo).length||(this.state.status==="pending"?this.scheduleGc():se(this,Vr).remove(this))}continue(){var n;return((n=se(this,Ul))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,s,a,l,c,d,f,h,m,v,g,x,w,_,b,C,E,N,S,P;dt(this,Ul,LD({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{Pr(this,Ho,fa).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{Pr(this,Ho,fa).call(this,{type:"pause"})},onContinue:()=>{Pr(this,Ho,fa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Vr).canRun(this)}));const r=this.state.status==="pending",i=!se(this,Ul).canStart();try{if(!r){Pr(this,Ho,fa).call(this,{type:"pending",variables:n,isPaused:i}),await((s=(o=se(this,Vr).config).onMutate)==null?void 0:s.call(o,n,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));k!==this.state.context&&Pr(this,Ho,fa).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const A=await se(this,Ul).start();return await((d=(c=se(this,Vr).config).onSuccess)==null?void 0:d.call(c,A,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,A,n,this.state.context)),await((v=(m=se(this,Vr).config).onSettled)==null?void 0:v.call(m,A,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,A,null,n,this.state.context)),Pr(this,Ho,fa).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(w=se(this,Vr).config).onError)==null?void 0:_.call(w,A,n,this.state.context,this)),await((C=(b=this.options).onError)==null?void 0:C.call(b,A,n,this.state.context)),await((N=(E=se(this,Vr).config).onSettled)==null?void 0:N.call(E,void 0,A,this.state.variables,this.state.context,this)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,A,n,this.state.context)),A}finally{Pr(this,Ho,fa).call(this,{type:"error",error:A})}}finally{se(this,Vr).runNext(this)}}},Wo=new WeakMap,Vr=new WeakMap,Ul=new WeakMap,Ho=new WeakSet,fa=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ur.batch(()=>{se(this,Wo).forEach(i=>{i.onMutationUpdate(n)}),se(this,Vr).notify({mutation:this,type:"updated",action:n})})},iR);function o7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pi,_p,oR,s7=(oR=class extends rx{constructor(e={}){super();Ft(this,pi);Ft(this,_p);this.config=e,dt(this,pi,new Map),dt(this,_p,Date.now())}build(e,n,r){const i=new i7({mutationCache:this,mutationId:++um(this,_p)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Nm(e),r=se(this,pi).get(n)??[];r.push(e),se(this,pi).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Nm(e);if(se(this,pi).has(n)){const i=(r=se(this,pi).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?se(this,pi).delete(n):se(this,pi).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=se(this,pi).get(Nm(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=se(this,pi).get(Nm(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...se(this,pi).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>HC(n,r))}findAll(e={}){return this.getAll().filter(n=>HC(e,n))}notify(e){Ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ur.batch(()=>Promise.all(e.map(n=>n.continue().catch(fo))))}},pi=new WeakMap,_p=new WeakMap,oR);function Nm(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function KC(t){return{onFetch:(e,n)=>{var d,f,h,m,v;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],s=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=RD(e.options,e.fetchOptions),_=async(b,C,E)=>{if(g)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const N={queryKey:e.queryKey,pageParam:C,direction:E?"backward":"forward",meta:e.options.meta};x(N);const S=await w(N),{maxPages:P}=e.options,A=E?Kz:Gz;return{pages:A(b.pages,S,P),pageParams:A(b.pageParams,C,P)}};if(i&&o.length){const b=i==="backward",C=b?a7:YC,E={pages:o,pageParams:s},N=C(r,E);a=await _(E,N,b)}else{const b=t??o.length;do{const C=l===0?s[0]??r.initialPageParam:YC(r,a);if(l>0&&C==null)break;a=await _(a,C),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function YC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function a7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Pn,Pa,Aa,Cu,Nu,Ca,Iu,ju,sR,l7=(sR=class{constructor(t={}){Ft(this,Pn);Ft(this,Pa);Ft(this,Aa);Ft(this,Cu);Ft(this,Nu);Ft(this,Ca);Ft(this,Iu);Ft(this,ju);dt(this,Pn,t.queryCache||new r7),dt(this,Pa,t.mutationCache||new s7),dt(this,Aa,t.defaultOptions||{}),dt(this,Cu,new Map),dt(this,Nu,new Map),dt(this,Ca,0)}mount(){um(this,Ca)._++,se(this,Ca)===1&&(dt(this,Iu,MD.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,Pn).onFocus())})),dt(this,ju,uy.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,Pn).onOnline())})))}unmount(){var t,e;um(this,Ca)._--,se(this,Ca)===0&&((t=se(this,Iu))==null||t.call(this),dt(this,Iu,void 0),(e=se(this,ju))==null||e.call(this),dt(this,ju,void 0))}isFetching(t){return se(this,Pn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,Pa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,Pn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=se(this,Pn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(zC(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return se(this,Pn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=se(this,Pn).get(r.queryHash),o=i==null?void 0:i.state.data,s=Bz(e,o);if(s!==void 0)return se(this,Pn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Ur.batch(()=>se(this,Pn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,Pn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=se(this,Pn);Ur.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=se(this,Pn),r={type:"active",...t};return Ur.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ur.batch(()=>se(this,Pn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(fo).catch(fo)}invalidateQueries(t={},e={}){return Ur.batch(()=>{if(se(this,Pn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ur.batch(()=>se(this,Pn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(fo)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(fo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=se(this,Pn).build(this,e);return n.isStaleByTime(zC(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fo).catch(fo)}fetchInfiniteQuery(t){return t.behavior=KC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fo).catch(fo)}ensureInfiniteQueryData(t){return t.behavior=KC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return uy.isOnline()?se(this,Pa).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,Pn)}getMutationCache(){return se(this,Pa)}getDefaultOptions(){return se(this,Aa)}setDefaultOptions(t){dt(this,Aa,t)}setQueryDefaults(t,e){se(this,Cu).set(bh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,Cu).values()];let n={};return e.forEach(r=>{wh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){se(this,Nu).set(bh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,Nu).values()];let n={};return e.forEach(r=>{wh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,Aa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=EE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===TE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,Aa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,Pn).clear(),se(this,Pa).clear()}},Pn=new WeakMap,Pa=new WeakMap,Aa=new WeakMap,Cu=new WeakMap,Nu=new WeakMap,Ca=new WeakMap,Iu=new WeakMap,ju=new WeakMap,sR),c7=y.createContext(void 0),u7=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(c7.Provider,{value:t,children:e}));async function d7(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const f7=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await d7(n),await n.json())},h7=new l7({defaultOptions:{queries:{queryFn:f7({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),p7=1,m7=1e6;let pb=0;function g7(){return pb=(pb+1)%Number.MAX_SAFE_INTEGER,pb.toString()}const mb=new Map,XC=t=>{if(mb.has(t))return;const e=setTimeout(()=>{mb.delete(t),Uf({type:"REMOVE_TOAST",toastId:t})},m7);mb.set(t,e)},y7=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,p7)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?XC(n):t.toasts.forEach(r=>{XC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},wg=[];let _g={toasts:[]};function Uf(t){_g=y7(_g,t),wg.forEach(e=>{e(_g)})}function v7({...t}){const e=g7(),n=i=>Uf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Uf({type:"DISMISS_TOAST",toastId:e});return Uf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ed(){const[t,e]=y.useState(_g);return y.useEffect(()=>(wg.push(e),()=>{const n=wg.indexOf(e);n>-1&&wg.splice(n,1)}),[t]),{...t,toast:v7,dismiss:n=>Uf({type:"DISMISS_TOAST",toastId:n})}}function je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function QC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function VD(...t){return e=>{let n=!1;const r=t.map(i=>{const o=QC(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():QC(t[i],null)}}}}function ft(...t){return y.useCallback(VD(...t),t)}function x7(t,e){const n=y.createContext(e),r=o=>{const{children:s,...a}=o,l=y.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=y.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Ni(t,e=[]){let n=[];function r(o,s){const a=y.createContext(s),l=n.length;n=[...n,s];const c=f=>{var w;const{scope:h,children:m,...v}=f,g=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,x=y.useMemo(()=>v,Object.values(v));return u.jsx(g.Provider,{value:x,children:m})};c.displayName=o+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,v=y.useContext(m);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=n.map(s=>y.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,b7(i,...e)]}function b7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Vu(t){const e=_7(t),n=y.forwardRef((r,i)=>{const{children:o,...s}=r,a=y.Children.toArray(o),l=a.find(E7);if(l){const c=l.props.children,d=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...s,ref:i,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return u.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var w7=Vu("Slot");function _7(t){const e=y.forwardRef((n,r)=>{const{children:i,...o}=n;if(y.isValidElement(i)){const s=P7(i),a=T7(o,i.props);return i.type!==y.Fragment&&(a.ref=r?VD(r,s):s),y.cloneElement(i,a)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BD=Symbol("radix.slottable");function S7(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=BD,e}function E7(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BD}function T7(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function P7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Np(t){const e=t+"CollectionProvider",[n,r]=Ni(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:x,children:w}=g,_=z.useRef(null),b=z.useRef(new Map).current;return u.jsx(i,{scope:x,itemMap:b,collectionRef:_,children:w})};s.displayName=e;const a=t+"CollectionSlot",l=Vu(a),c=z.forwardRef((g,x)=>{const{scope:w,children:_}=g,b=o(a,w),C=ft(x,b.collectionRef);return u.jsx(l,{ref:C,children:_})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Vu(d),m=z.forwardRef((g,x)=>{const{scope:w,children:_,...b}=g,C=z.useRef(null),E=ft(x,C),N=o(d,w);return z.useEffect(()=>(N.itemMap.set(C,{ref:C,...b}),()=>void N.itemMap.delete(C))),u.jsx(h,{[f]:"",ref:E,children:_})});m.displayName=d;function v(g){const x=o(t+"CollectionConsumer",g);return z.useCallback(()=>{const _=x.collectionRef.current;if(!_)return[];const b=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((N,S)=>b.indexOf(N.ref.current)-b.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:m},v,r]}var A7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fe=A7.reduce((t,e)=>{const n=Vu(`Primitive.${e}`),r=y.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function UD(t,e){t&&vc.flushSync(()=>t.dispatchEvent(e))}function On(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function C7(t,e=globalThis==null?void 0:globalThis.document){const n=On(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var N7="DismissableLayer",d1="dismissableLayer.update",I7="dismissableLayer.pointerDownOutside",j7="dismissableLayer.focusOutside",JC,zD=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ip=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=y.useContext(zD),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),v=ft(e,S=>f(S)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(x),_=d?g.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=_>=w,E=O7(S=>{const P=S.target,A=[...c.branches].some(k=>k.contains(P));!C||A||(i==null||i(S),s==null||s(S),S.defaultPrevented||a==null||a())},h),N=R7(S=>{const P=S.target;[...c.branches].some(k=>k.contains(P))||(o==null||o(S),s==null||s(S),S.defaultPrevented||a==null||a())},h);return C7(S=>{_===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),y.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(JC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),ZC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=JC)}},[d,h,n,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),ZC())},[d,c]),y.useEffect(()=>{const S=()=>m({});return document.addEventListener(d1,S),()=>document.removeEventListener(d1,S)},[]),u.jsx(Fe.div,{...l,ref:v,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:je(t.onFocusCapture,N.onFocusCapture),onBlurCapture:je(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:je(t.onPointerDownCapture,E.onPointerDownCapture)})});Ip.displayName=N7;var k7="DismissableLayerBranch",WD=y.forwardRef((t,e)=>{const n=y.useContext(zD),r=y.useRef(null),i=ft(e,r);return y.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(Fe.div,{...t,ref:i})});WD.displayName=k7;function O7(t,e=globalThis==null?void 0:globalThis.document){const n=On(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){HD(I7,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function R7(t,e=globalThis==null?void 0:globalThis.document){const n=On(t),r=y.useRef(!1);return y.useEffect(()=>{const i=o=>{o.target&&!r.current&&HD(j7,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ZC(){const t=new CustomEvent(d1);document.dispatchEvent(t)}function HD(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?UD(i,o):i.dispatchEvent(o)}var M7=Ip,D7=WD,lr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},$7="Portal",ox=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=y.useState(!1);lr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?dz.createPortal(u.jsx(Fe.div,{...r,ref:e}),s):null});ox.displayName=$7;function L7(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var eo=t=>{const{present:e,children:n}=t,r=F7(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),o=ft(r.ref,V7(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:o}):null};eo.displayName="Presence";function F7(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),o=y.useRef("none"),s=t?"mounted":"unmounted",[a,l]=L7(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=Im(r.current);o.current=a==="mounted"?c:"none"},[a]),lr(()=>{const c=r.current,d=i.current;if(d!==t){const h=o.current,m=Im(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),lr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const g=Im(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=m=>{m.target===e&&(o.current=Im(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Im(t){return(t==null?void 0:t.animationName)||"none"}function V7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Co({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=B7({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=On(n),l=y.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function B7({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,i=y.useRef(r),o=On(e);return y.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var U7="VisuallyHidden",jp=y.forwardRef((t,e)=>u.jsx(Fe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));jp.displayName=U7;var z7=jp,PE="ToastProvider",[AE,W7,H7]=Np("Toast"),[qD,_Ne]=Ni("Toast",[H7]),[q7,sx]=qD(PE),GD=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=y.useState(null),[c,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${PE}\`. Expected non-empty \`string\`.`),u.jsx(AE.Provider,{scope:e,children:u.jsx(q7,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};GD.displayName=PE;var KD="ToastViewport",G7=["F8"],f1="toast.viewportPause",h1="toast.viewportResume",YD=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=G7,label:i="Notifications ({hotkey})",...o}=t,s=sx(KD,n),a=W7(n),l=y.useRef(null),c=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=ft(e,f,s.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;y.useEffect(()=>{const x=w=>{var b;r.length!==0&&r.every(C=>w[C]||w.code===C)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,w=f.current;if(v&&x&&w){const _=()=>{if(!s.isClosePausedRef.current){const N=new CustomEvent(f1);w.dispatchEvent(N),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const N=new CustomEvent(h1);w.dispatchEvent(N),s.isClosePausedRef.current=!1}},C=N=>{!x.contains(N.relatedTarget)&&b()},E=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",_),x.addEventListener("focusout",C),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",E),window.addEventListener("blur",_),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",E),window.removeEventListener("blur",_),window.removeEventListener("focus",b)}}},[v,s.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:x})=>{const _=a().map(b=>{const C=b.ref.current,E=[C,...sW(C)];return x==="forwards"?E:E.reverse()});return(x==="forwards"?_.reverse():_).flat()},[a]);return y.useEffect(()=>{const x=f.current;if(x){const w=_=>{var E,N,S;const b=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!b){const P=document.activeElement,A=_.shiftKey;if(_.target===x&&A){(E=c.current)==null||E.focus();return}const O=g({tabbingDirection:A?"backwards":"forwards"}),R=O.findIndex(L=>L===P);gb(O.slice(R+1))?_.preventDefault():A?(N=c.current)==null||N.focus():(S=d.current)==null||S.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[a,g]),u.jsxs(D7,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(p1,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});gb(x)}}),u.jsx(AE.Slot,{scope:n,children:u.jsx(Fe.ol,{tabIndex:-1,...o,ref:h})}),v&&u.jsx(p1,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});gb(x)}})]})});YD.displayName=KD;var XD="ToastFocusProxy",p1=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=sx(XD,n);return u.jsx(jp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});p1.displayName=XD;var ax="Toast",K7="toast.swipeStart",Y7="toast.swipeMove",X7="toast.swipeCancel",Q7="toast.swipeEnd",QD=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=Co({prop:r,defaultProp:i,onChange:o});return u.jsx(eo,{present:n||a,children:u.jsx(eW,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:On(t.onPause),onResume:On(t.onResume),onSwipeStart:je(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:je(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});QD.displayName=ax;var[J7,Z7]=qD(ax,{onClose(){}}),eW=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=t,g=sx(ax,n),[x,w]=y.useState(null),_=ft(e,L=>w(L)),b=y.useRef(null),C=y.useRef(null),E=i||g.duration,N=y.useRef(0),S=y.useRef(E),P=y.useRef(0),{onToastAdd:A,onToastRemove:k}=g,I=On(()=>{var B;(x==null?void 0:x.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),s()}),O=y.useCallback(L=>{!L||L===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(I,L))},[I]);y.useEffect(()=>{const L=g.viewport;if(L){const B=()=>{O(S.current),c==null||c()},U=()=>{const W=new Date().getTime()-N.current;S.current=S.current-W,window.clearTimeout(P.current),l==null||l()};return L.addEventListener(f1,U),L.addEventListener(h1,B),()=>{L.removeEventListener(f1,U),L.removeEventListener(h1,B)}}},[g.viewport,E,l,c,O]),y.useEffect(()=>{o&&!g.isClosePausedRef.current&&O(E)},[o,E,g.isClosePausedRef,O]),y.useEffect(()=>(A(),()=>k()),[A,k]);const R=y.useMemo(()=>x?i$(x):null,[x]);return g.viewport?u.jsxs(u.Fragment,{children:[R&&u.jsx(tW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),u.jsx(J7,{scope:n,onClose:I,children:vc.createPortal(u.jsx(AE.ItemSlot,{scope:n,children:u.jsx(M7,{asChild:!0,onEscapeKeyDown:je(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:je(t.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:je(t.onPointerDown,L=>{L.button===0&&(b.current={x:L.clientX,y:L.clientY})}),onPointerMove:je(t.onPointerMove,L=>{if(!b.current)return;const B=L.clientX-b.current.x,U=L.clientY-b.current.y,W=!!C.current,F=["left","right"].includes(g.swipeDirection),V=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Z=F?V(0,B):0,Q=F?0:V(0,U),ne=L.pointerType==="touch"?10:2,ge={x:Z,y:Q},Ae={originalEvent:L,delta:ge};W?(C.current=ge,jm(Y7,f,Ae,{discrete:!1})):eN(ge,g.swipeDirection,ne)?(C.current=ge,jm(K7,d,Ae,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(B)>ne||Math.abs(U)>ne)&&(b.current=null)}),onPointerUp:je(t.onPointerUp,L=>{const B=C.current,U=L.target;if(U.hasPointerCapture(L.pointerId)&&U.releasePointerCapture(L.pointerId),C.current=null,b.current=null,B){const W=L.currentTarget,F={originalEvent:L,delta:B};eN(B,g.swipeDirection,g.swipeThreshold)?jm(Q7,m,F,{discrete:!0}):jm(X7,h,F,{discrete:!0}),W.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),tW=t=>{const{__scopeToast:e,children:n,...r}=t,i=sx(ax,e),[o,s]=y.useState(!1),[a,l]=y.useState(!1);return iW(()=>s(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(ox,{asChild:!0,children:u.jsx(jp,{...r,children:o&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},nW="ToastTitle",JD=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Fe.div,{...r,ref:e})});JD.displayName=nW;var rW="ToastDescription",ZD=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Fe.div,{...r,ref:e})});ZD.displayName=rW;var e$="ToastAction",t$=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(r$,{altText:n,asChild:!0,children:u.jsx(CE,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${e$}\`. Expected non-empty \`string\`.`),null)});t$.displayName=e$;var n$="ToastClose",CE=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Z7(n$,n);return u.jsx(r$,{asChild:!0,children:u.jsx(Fe.button,{type:"button",...r,ref:e,onClick:je(t.onClick,i.onClose)})})});CE.displayName=n$;var r$=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function i$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),oW(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...i$(r))}}),e}function jm(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?UD(i,o):i.dispatchEvent(o)}var eN=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function iW(t=()=>{}){const e=On(t);lr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function oW(t){return t.nodeType===t.ELEMENT_NODE}function sW(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gb(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var aW=GD,o$=YD,s$=QD,a$=JD,l$=ZD,c$=t$,u$=CE;function d$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=d$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=d$(t))&&(r&&(r+=" "),r+=e);return r}const tN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nN=Et,lx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return nN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const h=tN(d)||tN(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[g,x]=v;return Array.isArray(x)?x.includes({...o,...a}[g]):{...o,...a}[g]===x})?[...c,f,h]:c},[]);return nN(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f$=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>y.createElement("svg",{ref:l,...cW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:f$("lucide",i),...a},[...s.map(([c,d])=>y.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const n=y.forwardRef(({className:r,...i},o)=>y.createElement(uW,{ref:o,iconNode:e,className:f$(`lucide-${lW(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=Be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=Be("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Be("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=Be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=Be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=Be("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=Be("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=Be("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Be("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=Be("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=Be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=Be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=Be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=Be("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=Be("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=Be("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),kE="-",MW=t=>{const e=$W(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(kE);return a[0]===""&&a.length!==1&&a.shift(),y$(a,e)||DW(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},y$=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?y$(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(kE);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},aN=/^\[(.+)\]$/,DW=t=>{if(aN.test(t)){const e=aN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$W=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return FW(Object.entries(t.classGroups),n).forEach(([o,s])=>{y1(s,r,o,e)}),r},y1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:lN(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(LW(i)){y1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{y1(s,lN(e,o),n,r)})})},lN=(t,e)=>{let n=t;return e.split(kE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},LW=t=>t.isThemeGetter,FW=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,VW=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},v$="!",BW=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,d=0,f;for(let x=0;x<a.length;x++){let w=a[x];if(c===0){if(w===i&&(r||a.slice(x,x+o)===e)){l.push(a.slice(d,x)),d=x+o;continue}if(w==="/"){f=x;continue}}w==="["?c++:w==="]"&&c--}const h=l.length===0?a:a.substring(d),m=h.startsWith(v$),v=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},UW=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},zW=t=>({cache:VW(t.cacheSize),parseClassName:BW(t),...MW(t)}),WW=/\s+/,HW=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(WW);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let v=!!m,g=r(v?h.substring(0,m):h);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const x=UW(d).join(":"),w=f?x+v$:x,_=w+g;if(o.includes(_))continue;o.push(_);const b=i(g,v);for(let C=0;C<b.length;++C){const E=b[C];o.push(w+E)}a=c+(a.length>0?" "+a:a)}return a};function qW(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=x$(e))&&(r&&(r+=" "),r+=n);return r}const x$=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=x$(t[r]))&&(n&&(n+=" "),n+=e);return n};function GW(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return n=zW(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=HW(l,n);return i(l,d),d}return function(){return o(qW.apply(null,arguments))}}const tn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},b$=/^\[(?:([a-z-]+):)?(.+)\]$/i,KW=/^\d+\/\d+$/,YW=new Set(["px","full","screen"]),XW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ys=t=>fu(t)||YW.has(t)||KW.test(t),ca=t=>Td(t,"length",lH),fu=t=>!!t&&!Number.isNaN(Number(t)),yb=t=>Td(t,"number",fu),cf=t=>!!t&&Number.isInteger(Number(t)),tH=t=>t.endsWith("%")&&fu(t.slice(0,-1)),lt=t=>b$.test(t),ua=t=>XW.test(t),nH=new Set(["length","size","percentage"]),rH=t=>Td(t,nH,w$),iH=t=>Td(t,"position",w$),oH=new Set(["image","url"]),sH=t=>Td(t,oH,uH),aH=t=>Td(t,"",cH),uf=()=>!0,Td=(t,e,n)=>{const r=b$.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},lH=t=>QW.test(t)&&!JW.test(t),w$=()=>!1,cH=t=>ZW.test(t),uH=t=>eH.test(t),dH=()=>{const t=tn("colors"),e=tn("spacing"),n=tn("blur"),r=tn("brightness"),i=tn("borderColor"),o=tn("borderRadius"),s=tn("borderSpacing"),a=tn("borderWidth"),l=tn("contrast"),c=tn("grayscale"),d=tn("hueRotate"),f=tn("invert"),h=tn("gap"),m=tn("gradientColorStops"),v=tn("gradientColorStopPositions"),g=tn("inset"),x=tn("margin"),w=tn("opacity"),_=tn("padding"),b=tn("saturate"),C=tn("scale"),E=tn("sepia"),N=tn("skew"),S=tn("space"),P=tn("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",lt,e],O=()=>[lt,e],R=()=>["",ys,ca],L=()=>["auto",fu,lt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",lt],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[fu,lt];return{cacheSize:500,separator:":",theme:{colors:[uf],spacing:[ys,ca],blur:["none","",ua,lt],brightness:Q(),borderColor:[t],borderRadius:["none","","full",ua,lt],borderSpacing:O(),borderWidth:R(),contrast:Q(),grayscale:V(),hueRotate:Q(),invert:V(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[tH,ca],inset:I(),margin:I(),opacity:Q(),padding:O(),saturate:Q(),scale:Q(),sepia:V(),skew:Q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[ua]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),lt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cf,lt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",cf,lt]}],"grid-cols":[{"grid-cols":[uf]}],"col-start-end":[{col:["auto",{span:["full",cf,lt]},lt]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[uf]}],"row-start-end":[{row:["auto",{span:[cf,lt]},lt]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lt,e]}],"min-w":[{"min-w":[lt,e,"min","max","fit"]}],"max-w":[{"max-w":[lt,e,"none","full","min","max","fit","prose",{screen:[ua]},ua]}],h:[{h:[lt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ua,ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yb]}],"font-family":[{font:[uf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",fu,yb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ys,lt]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ys,ca]}],"underline-offset":[{"underline-offset":["auto",ys,lt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),iH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[ys,lt]}],"outline-w":[{outline:[ys,ca]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ys,ca]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ua,aH]}],"shadow-color":[{shadow:[uf]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ua,lt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[cf,lt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ys,ca,yb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fH=GW(dH);function st(...t){return fH(Et(t))}const hH=aW,_$=y.forwardRef(({className:t,...e},n)=>u.jsx(o$,{ref:n,className:st("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));_$.displayName=o$.displayName;const pH=lx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),S$=y.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(s$,{ref:r,className:st(pH({variant:e}),t),...n}));S$.displayName=s$.displayName;const mH=y.forwardRef(({className:t,...e},n)=>u.jsx(c$,{ref:n,className:st("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));mH.displayName=c$.displayName;const E$=y.forwardRef(({className:t,...e},n)=>u.jsx(u$,{ref:n,className:st("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Bu,{className:"h-4 w-4"})}));E$.displayName=u$.displayName;const T$=y.forwardRef(({className:t,...e},n)=>u.jsx(a$,{ref:n,className:st("text-sm font-semibold",t),...e}));T$.displayName=a$.displayName;const P$=y.forwardRef(({className:t,...e},n)=>u.jsx(l$,{ref:n,className:st("text-sm opacity-90",t),...e}));P$.displayName=l$.displayName;function gH(){const{toasts:t}=Ed();return u.jsxs(hH,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return u.jsxs(S$,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(T$,{children:n}),r&&u.jsx(P$,{children:r})]}),i,u.jsx(E$,{})]},e)}),u.jsx(_$,{})]})}var yH=yR[" useId ".trim().toString()]||(()=>{}),vH=0;function Zo(t){const[e,n]=y.useState(yH());return lr(()=>{n(r=>r??String(vH++))},[t]),e?`radix-${e}`:""}const xH=["top","right","bottom","left"],Qa=Math.min,yi=Math.max,hy=Math.round,Om=Math.floor,es=t=>({x:t,y:t}),bH={left:"right",right:"left",bottom:"top",top:"bottom"},wH={start:"end",end:"start"};function v1(t,e,n){return yi(t,Qa(e,n))}function Vs(t,e){return typeof t=="function"?t(e):t}function Bs(t){return t.split("-")[0]}function Pd(t){return t.split("-")[1]}function OE(t){return t==="x"?"y":"x"}function RE(t){return t==="y"?"height":"width"}function Ja(t){return["top","bottom"].includes(Bs(t))?"y":"x"}function ME(t){return OE(Ja(t))}function _H(t,e,n){n===void 0&&(n=!1);const r=Pd(t),i=ME(t),o=RE(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=py(s)),[s,py(s)]}function SH(t){const e=py(t);return[x1(t),e,x1(e)]}function x1(t){return t.replace(/start|end/g,e=>wH[e])}function EH(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function TH(t,e,n,r){const i=Pd(t);let o=EH(Bs(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(x1)))),o}function py(t){return t.replace(/left|right|bottom|top/g,e=>bH[e])}function PH(t){return{top:0,right:0,bottom:0,left:0,...t}}function A$(t){return typeof t!="number"?PH(t):{top:t,right:t,bottom:t,left:t}}function my(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function cN(t,e,n){let{reference:r,floating:i}=t;const o=Ja(e),s=ME(e),a=RE(s),l=Bs(e),c=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Pd(e)){case"start":m[s]-=h*(n&&c?-1:1);break;case"end":m[s]+=h*(n&&c?-1:1);break}return m}const AH=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=cN(c,r,l),h=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:x,fn:w}=a[g],{x:_,y:b,data:C,reset:E}=await w({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:t,floating:e}});d=_??d,f=b??f,m={...m,[x]:{...m[x],...C}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=cN(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Ph(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Vs(e,t),v=A$(m),x=a[h?f==="floating"?"reference":"floating":f],w=my(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},E=my(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:b,strategy:l}):_);return{top:(w.top-E.top+v.top)/C.y,bottom:(E.bottom-w.bottom+v.bottom)/C.y,left:(w.left-E.left+v.left)/C.x,right:(E.right-w.right+v.right)/C.x}}const CH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Vs(t,e)||{};if(c==null)return{};const f=A$(d),h={x:n,y:r},m=ME(i),v=RE(m),g=await s.getDimensions(c),x=m==="y",w=x?"top":"left",_=x?"bottom":"right",b=x?"clientHeight":"clientWidth",C=o.reference[v]+o.reference[m]-h[m]-o.floating[v],E=h[m]-o.reference[m],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=N?N[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(N)))&&(S=a.floating[b]||o.floating[v]);const P=C/2-E/2,A=S/2-g[v]/2-1,k=Qa(f[w],A),I=Qa(f[_],A),O=k,R=S-g[v]-I,L=S/2-g[v]/2+P,B=v1(O,L,R),U=!l.arrow&&Pd(i)!=null&&L!==B&&o.reference[v]/2-(L<O?k:I)-g[v]/2<0,W=U?L<O?L-O:L-R:0;return{[m]:h[m]+W,data:{[m]:B,centerOffset:L-B-W,...U&&{alignmentOffset:W}},reset:U}}}),NH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=Vs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=Bs(i),_=Ja(a),b=Bs(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(b||!g?[py(a)]:SH(a)),N=v!=="none";!h&&N&&E.push(...TH(a,g,v,C));const S=[a,...E],P=await Ph(e,x),A=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&A.push(P[w]),f){const L=_H(i,s,C);A.push(P[L[0]],P[L[1]])}if(k=[...k,{placement:i,overflows:A}],!A.every(L=>L<=0)){var I,O;const L=(((I=o.flip)==null?void 0:I.index)||0)+1,B=S[L];if(B)return{data:{index:L,overflows:k},reset:{placement:B}};let U=(O=k.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(m){case"bestFit":{var R;const W=(R=k.filter(F=>{if(N){const V=Ja(F.placement);return V===_||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,Z)=>V+Z,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:R[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function uN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dN(t){return xH.some(e=>t[e]>=0)}const IH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Vs(t,e);switch(r){case"referenceHidden":{const o=await Ph(e,{...i,elementContext:"reference"}),s=uN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:dN(s)}}}case"escaped":{const o=await Ph(e,{...i,altBoundary:!0}),s=uN(o,n.floating);return{data:{escapedOffsets:s,escaped:dN(s)}}}default:return{}}}}};async function jH(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Bs(n),a=Pd(n),l=Ja(n)==="y",c=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,f=Vs(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const kH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await jH(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},OH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:w,y:_}=x;return{x:w,y:_}}},...l}=Vs(t,e),c={x:n,y:r},d=await Ph(e,l),f=Ja(Bs(i)),h=OE(f);let m=c[h],v=c[f];if(o){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",_=m+d[x],b=m-d[w];m=v1(_,m,b)}if(s){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",_=v+d[x],b=v-d[w];v=v1(_,v,b)}const g=a.fn({...e,[h]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:s}}}}}},RH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Vs(t,e),d={x:n,y:r},f=Ja(i),h=OE(f);let m=d[h],v=d[f];const g=Vs(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=h==="y"?"height":"width",C=o.reference[h]-o.floating[b]+x.mainAxis,E=o.reference[h]+o.reference[b]-x.mainAxis;m<C?m=C:m>E&&(m=E)}if(c){var w,_;const b=h==="y"?"width":"height",C=["top","left"].includes(Bs(i)),E=o.reference[f]-o.floating[b]+(C&&((w=s.offset)==null?void 0:w[f])||0)+(C?0:x.crossAxis),N=o.reference[f]+o.reference[b]+(C?0:((_=s.offset)==null?void 0:_[f])||0)-(C?x.crossAxis:0);v<E?v=E:v>N&&(v=N)}return{[h]:m,[f]:v}}}},MH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Vs(t,e),d=await Ph(e,c),f=Bs(i),h=Pd(i),m=Ja(i)==="y",{width:v,height:g}=o.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,x=h==="end"?"top":"bottom");const _=g-d.top-d.bottom,b=v-d.left-d.right,C=Qa(g-d[x],_),E=Qa(v-d[w],b),N=!e.middlewareData.shift;let S=C,P=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=_),N&&!h){const k=yi(d.left,0),I=yi(d.right,0),O=yi(d.top,0),R=yi(d.bottom,0);m?P=v-2*(k!==0||I!==0?k+I:yi(d.left,d.right)):S=g-2*(O!==0||R!==0?O+R:yi(d.top,d.bottom))}await l({...e,availableWidth:P,availableHeight:S});const A=await s.getDimensions(a.floating);return v!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function ux(){return typeof window<"u"}function Ad(t){return C$(t)?(t.nodeName||"").toLowerCase():"#document"}function Ei(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hs(t){var e;return(e=(C$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function C$(t){return ux()?t instanceof Node||t instanceof Ei(t).Node:!1}function No(t){return ux()?t instanceof Element||t instanceof Ei(t).Element:!1}function ls(t){return ux()?t instanceof HTMLElement||t instanceof Ei(t).HTMLElement:!1}function fN(t){return!ux()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ei(t).ShadowRoot}function kp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Io(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function DH(t){return["table","td","th"].includes(Ad(t))}function dx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function DE(t){const e=$E(),n=No(t)?Io(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $H(t){let e=Za(t);for(;ls(e)&&!Uu(e);){if(DE(e))return e;if(dx(e))return null;e=Za(e)}return null}function $E(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Uu(t){return["html","body","#document"].includes(Ad(t))}function Io(t){return Ei(t).getComputedStyle(t)}function fx(t){return No(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Za(t){if(Ad(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fN(t)&&t.host||hs(t);return fN(e)?e.host:e}function N$(t){const e=Za(t);return Uu(e)?t.ownerDocument?t.ownerDocument.body:t.body:ls(e)&&kp(e)?e:N$(e)}function Ah(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=N$(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ei(i);if(o){const a=b1(s);return e.concat(s,s.visualViewport||[],kp(i)?i:[],a&&n?Ah(a):[])}return e.concat(i,Ah(i,[],n))}function b1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function I$(t){const e=Io(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ls(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=hy(n)!==o||hy(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function LE(t){return No(t)?t:t.contextElement}function hu(t){const e=LE(t);if(!ls(e))return es(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=I$(e);let s=(o?hy(n.width):n.width)/r,a=(o?hy(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const LH=es(0);function j$(t){const e=Ei(t);return!$E()||!e.visualViewport?LH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ei(t)?!1:e}function rc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=LE(t);let s=es(1);e&&(r?No(r)&&(s=hu(r)):s=hu(t));const a=FH(o,n,r)?j$(o):es(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const h=Ei(o),m=r&&No(r)?Ei(r):r;let v=h,g=b1(v);for(;g&&r&&m!==v;){const x=hu(g),w=g.getBoundingClientRect(),_=Io(g),b=w.left+(g.clientLeft+parseFloat(_.paddingLeft))*x.x,C=w.top+(g.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=b,c+=C,v=Ei(g),g=b1(v)}}return my({width:d,height:f,x:l,y:c})}function FE(t,e){const n=fx(t).scrollLeft;return e?e.left+n:rc(hs(t)).left+n}function k$(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:FE(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function VH(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=hs(r),a=e?dx(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=es(1);const d=es(0),f=ls(r);if((f||!f&&!o)&&((Ad(r)!=="body"||kp(s))&&(l=fx(r)),ls(r))){const m=rc(r);c=hu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!o?k$(s,l,!0):es(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function BH(t){return Array.from(t.getClientRects())}function UH(t){const e=hs(t),n=fx(t),r=t.ownerDocument.body,i=yi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=yi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+FE(t);const a=-n.scrollTop;return Io(r).direction==="rtl"&&(s+=yi(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function zH(t,e){const n=Ei(t),r=hs(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=$E();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function WH(t,e){const n=rc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ls(t)?hu(t):es(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function hN(t,e,n){let r;if(e==="viewport")r=zH(t,n);else if(e==="document")r=UH(hs(t));else if(No(e))r=WH(e,n);else{const i=j$(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return my(r)}function O$(t,e){const n=Za(t);return n===e||!No(n)||Uu(n)?!1:Io(n).position==="fixed"||O$(n,e)}function HH(t,e){const n=e.get(t);if(n)return n;let r=Ah(t,[],!1).filter(a=>No(a)&&Ad(a)!=="body"),i=null;const o=Io(t).position==="fixed";let s=o?Za(t):t;for(;No(s)&&!Uu(s);){const a=Io(s),l=DE(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||kp(s)&&!l&&O$(t,s))?r=r.filter(d=>d!==s):i=a,s=Za(s)}return e.set(t,r),r}function qH(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?dx(e)?[]:HH(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,d)=>{const f=hN(e,d,i);return c.top=yi(f.top,c.top),c.right=Qa(f.right,c.right),c.bottom=Qa(f.bottom,c.bottom),c.left=yi(f.left,c.left),c},hN(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function GH(t){const{width:e,height:n}=I$(t);return{width:e,height:n}}function KH(t,e,n){const r=ls(e),i=hs(e),o=n==="fixed",s=rc(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=es(0);if(r||!r&&!o)if((Ad(e)!=="body"||kp(i))&&(a=fx(e)),r){const h=rc(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=FE(i));const c=i&&!r&&!o?k$(i,a):es(0),d=s.left+a.scrollLeft-l.x-c.x,f=s.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function vb(t){return Io(t).position==="static"}function pN(t,e){if(!ls(t)||Io(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hs(t)===n&&(n=n.ownerDocument.body),n}function R$(t,e){const n=Ei(t);if(dx(t))return n;if(!ls(t)){let i=Za(t);for(;i&&!Uu(i);){if(No(i)&&!vb(i))return i;i=Za(i)}return n}let r=pN(t,e);for(;r&&DH(r)&&vb(r);)r=pN(r,e);return r&&Uu(r)&&vb(r)&&!DE(r)?n:r||$H(t)||n}const YH=async function(t){const e=this.getOffsetParent||R$,n=this.getDimensions,r=await n(t.floating);return{reference:KH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XH(t){return Io(t).direction==="rtl"}const QH={convertOffsetParentRelativeRectToViewportRelativeRect:VH,getDocumentElement:hs,getClippingRect:qH,getOffsetParent:R$,getElementRects:YH,getClientRects:BH,getDimensions:GH,getScale:hu,isElement:No,isRTL:XH};function M$(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function JH(t,e){let n=null,r;const i=hs(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=c;if(a||e(),!h||!m)return;const v=Om(f),g=Om(i.clientWidth-(d+h)),x=Om(i.clientHeight-(f+m)),w=Om(d),b={rootMargin:-v+"px "+-g+"px "+-x+"px "+-w+"px",threshold:yi(0,Qa(1,l))||1};let C=!0;function E(N){const S=N[0].intersectionRatio;if(S!==l){if(!C)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!M$(c,t.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(E,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(t)}return s(!0),o}function ZH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=LE(t),d=i||o?[...c?Ah(c):[],...Ah(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const f=c&&a?JH(c,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(w=>{let[_]=w;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,g=l?rc(t):null;l&&x();function x(){const w=rc(t);g&&!M$(g,w)&&n(),g=w,v=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const eq=kH,tq=OH,nq=NH,rq=MH,iq=IH,mN=CH,oq=RH,sq=(t,e,n)=>{const r=new Map,i={platform:QH,...n},o={...i.platform,_c:r};return AH(t,e,{...i,platform:o})};var Eg=typeof document<"u"?y.useLayoutEffect:y.useEffect;function gy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!gy(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!gy(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function D$(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gN(t,e){const n=D$(t);return Math.round(e*n)/n}function xb(t){const e=y.useRef(t);return Eg(()=>{e.current=t}),e}function aq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(r);gy(h,r)||m(r);const[v,g]=y.useState(null),[x,w]=y.useState(null),_=y.useCallback(F=>{F!==N.current&&(N.current=F,g(F))},[]),b=y.useCallback(F=>{F!==S.current&&(S.current=F,w(F))},[]),C=o||v,E=s||x,N=y.useRef(null),S=y.useRef(null),P=y.useRef(d),A=l!=null,k=xb(l),I=xb(i),O=xb(c),R=y.useCallback(()=>{if(!N.current||!S.current)return;const F={placement:e,strategy:n,middleware:h};I.current&&(F.platform=I.current),sq(N.current,S.current,F).then(V=>{const Z={...V,isPositioned:O.current!==!1};L.current&&!gy(P.current,Z)&&(P.current=Z,vc.flushSync(()=>{f(Z)}))})},[h,e,n,I,O]);Eg(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const L=y.useRef(!1);Eg(()=>(L.current=!0,()=>{L.current=!1}),[]),Eg(()=>{if(C&&(N.current=C),E&&(S.current=E),C&&E){if(k.current)return k.current(C,E,R);R()}},[C,E,R,k,A]);const B=y.useMemo(()=>({reference:N,floating:S,setReference:_,setFloating:b}),[_,b]),U=y.useMemo(()=>({reference:C,floating:E}),[C,E]),W=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!U.floating)return F;const V=gN(U.floating,d.x),Z=gN(U.floating,d.y);return a?{...F,transform:"translate("+V+"px, "+Z+"px)",...D$(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Z}},[n,a,U.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:R,refs:B,elements:U,floatingStyles:W}),[d,R,B,U,W])}const lq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mN({element:r.current,padding:i}).fn(n):{}:r?mN({element:r,padding:i}).fn(n):{}}}},cq=(t,e)=>({...eq(t),options:[t,e]}),uq=(t,e)=>({...tq(t),options:[t,e]}),dq=(t,e)=>({...oq(t),options:[t,e]}),fq=(t,e)=>({...nq(t),options:[t,e]}),hq=(t,e)=>({...rq(t),options:[t,e]}),pq=(t,e)=>({...iq(t),options:[t,e]}),mq=(t,e)=>({...lq(t),options:[t,e]});var gq="Arrow",$$=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return u.jsx(Fe.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});$$.displayName=gq;var yq=$$;function VE(t){const[e,n]=y.useState(void 0);return lr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var BE="Popper",[L$,hx]=Ni(BE),[vq,F$]=L$(BE),V$=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return u.jsx(vq,{scope:e,anchor:r,onAnchorChange:i,children:n})};V$.displayName=BE;var B$="PopperAnchor",U$=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=F$(B$,n),s=y.useRef(null),a=ft(e,s);return y.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Fe.div,{...i,ref:a})});U$.displayName=B$;var UE="PopperContent",[xq,bq]=L$(UE),z$=y.forwardRef((t,e)=>{var me,we,ee,he,pe,K;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,x=F$(UE,n),[w,_]=y.useState(null),b=ft(e,_e=>_(_e)),[C,E]=y.useState(null),N=VE(C),S=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,A=r+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],O=I.length>0,R={padding:k,boundary:I.filter(_q),altBoundary:O},{refs:L,floatingStyles:B,placement:U,isPositioned:W,middlewareData:F}=aq({strategy:"fixed",placement:A,whileElementsMounted:(..._e)=>ZH(..._e,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[cq({mainAxis:i+P,alignmentAxis:s}),l&&uq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dq():void 0,...R}),l&&fq({...R}),hq({...R,apply:({elements:_e,rects:Oe,availableWidth:ht,availableHeight:at})=>{const{width:Ct,height:Rt}=Oe.reference,ve=_e.floating.style;ve.setProperty("--radix-popper-available-width",`${ht}px`),ve.setProperty("--radix-popper-available-height",`${at}px`),ve.setProperty("--radix-popper-anchor-width",`${Ct}px`),ve.setProperty("--radix-popper-anchor-height",`${Rt}px`)}}),C&&mq({element:C,padding:a}),Sq({arrowWidth:S,arrowHeight:P}),h&&pq({strategy:"referenceHidden",...R})]}),[V,Z]=q$(U),Q=On(v);lr(()=>{W&&(Q==null||Q())},[W,Q]);const ne=(me=F.arrow)==null?void 0:me.x,ge=(we=F.arrow)==null?void 0:we.y,Ae=((ee=F.arrow)==null?void 0:ee.centerOffset)!==0,[Ve,Ke]=y.useState();return lr(()=>{w&&Ke(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:W?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(he=F.transformOrigin)==null?void 0:he.x,(pe=F.transformOrigin)==null?void 0:pe.y].join(" "),...((K=F.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(xq,{scope:n,placedSide:V,onArrowChange:E,arrowX:ne,arrowY:ge,shouldHideArrow:Ae,children:u.jsx(Fe.div,{"data-side":V,"data-align":Z,...g,ref:b,style:{...g.style,animation:W?void 0:"none"}})})})});z$.displayName=UE;var W$="PopperArrow",wq={top:"bottom",right:"left",bottom:"top",left:"right"},H$=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=bq(W$,r),s=wq[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(yq,{...i,ref:n,style:{...i.style,display:"block"}})})});H$.displayName=W$;function _q(t){return t!==null}var Sq=t=>({name:"transformOrigin",options:t,fn(e){var x,w,_;const{placement:n,rects:r,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=q$(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,m=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=s?f:`${h}px`,g=`${-l}px`):c==="top"?(v=s?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=s?f:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=s?f:`${m}px`),{data:{x:v,y:g}}}});function q$(t){const[e,n="center"]=t.split("-");return[e,n]}var Eq=V$,G$=U$,K$=z$,Y$=H$,[px,SNe]=Ni("Tooltip",[hx]),zE=hx(),X$="TooltipProvider",Tq=700,yN="tooltip.open",[Pq,Q$]=px(X$),J$=t=>{const{__scopeTooltip:e,delayDuration:n=Tq,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,s=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(Pq,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:o})};J$.displayName=X$;var Z$="Tooltip",[ENe,mx]=px(Z$),w1="TooltipTrigger",Aq=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=mx(w1,n),o=Q$(w1,n),s=zE(n),a=y.useRef(null),l=ft(e,a,i.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(G$,{asChild:!0,...s,children:u.jsx(Fe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:je(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:je(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:je(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:je(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:je(t.onBlur,i.onClose),onClick:je(t.onClick,i.onClose)})})});Aq.displayName=w1;var Cq="TooltipPortal",[TNe,Nq]=px(Cq,{forceMount:void 0}),zu="TooltipContent",eL=y.forwardRef((t,e)=>{const n=Nq(zu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=mx(zu,t.__scopeTooltip);return u.jsx(eo,{present:r||s.open,children:s.disableHoverableContent?u.jsx(tL,{side:i,...o,ref:e}):u.jsx(Iq,{side:i,...o,ref:e})})}),Iq=y.forwardRef((t,e)=>{const n=mx(zu,t.__scopeTooltip),r=Q$(zu,t.__scopeTooltip),i=y.useRef(null),o=ft(e,i),[s,a]=y.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=y.useCallback(()=>{a(null),f(!1)},[f]),m=y.useCallback((v,g)=>{const x=v.currentTarget,w={x:v.clientX,y:v.clientY},_=Mq(w,x.getBoundingClientRect()),b=Dq(w,_),C=$q(g.getBoundingClientRect()),E=Fq([...b,...C]);a(E),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(l&&d){const v=x=>m(x,d),g=x=>m(x,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),y.useEffect(()=>{if(s){const v=g=>{const x=g.target,w={x:g.clientX,y:g.clientY},_=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),b=!Lq(w,s);_?h():b&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,s,c,h]),u.jsx(tL,{...t,ref:o})}),[jq,kq]=px(Z$,{isInside:!1}),Oq=S7("TooltipContent"),tL=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=mx(zu,n),c=zE(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(yN,d),()=>document.removeEventListener(yN,d)),[d]),y.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Ip,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(K$,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Oq,{children:r}),u.jsx(jq,{scope:n,isInside:!0,children:u.jsx(z7,{id:l.contentId,role:"tooltip",children:i||r})})]})})});eL.displayName=zu;var nL="TooltipArrow",Rq=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=zE(n);return kq(nL,n).isInside?null:u.jsx(Y$,{...i,...r,ref:e})});Rq.displayName=nL;function Mq(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Dq(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function $q(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Lq(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function Fq(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Vq(e)}function Vq(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Bq=J$,rL=eL;const Uq=Bq,zq=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(rL,{ref:r,sideOffset:e,className:st("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));zq.displayName=rL.displayName;const Tg=[{id:"promethean",name:"Promethean Red",primary:"0 84% 42%",primaryLight:"0 84% 45%"},{id:"ocean",name:"Ocean Blue",primary:"210 84% 42%",primaryLight:"210 84% 50%"},{id:"forest",name:"Forest Green",primary:"140 70% 35%",primaryLight:"140 70% 42%"},{id:"amethyst",name:"Amethyst Purple",primary:"270 70% 45%",primaryLight:"270 70% 52%"},{id:"sunset",name:"Sunset Orange",primary:"25 95% 50%",primaryLight:"25 95% 55%"},{id:"gold",name:"Classic Gold",primary:"45 90% 45%",primaryLight:"45 90% 52%"},{id:"teal",name:"Teal",primary:"175 70% 40%",primaryLight:"175 70% 48%"},{id:"rose",name:"Rose Pink",primary:"340 75% 55%",primaryLight:"340 75% 62%"}],iL=y.createContext(void 0);function Wq({children:t}){const[e,n]=y.useState(()=>localStorage.getItem("cuemaster-theme")||"dark"),[r,i]=y.useState(()=>{const a=localStorage.getItem("cuemaster-color-theme");return a&&Tg.find(c=>c.id===a)||Tg[0]});y.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("cuemaster-theme",e)},[e]),y.useEffect(()=>{const a=document.documentElement,l=r.primary,c=r.primaryLight;a.style.setProperty("--primary",l),a.style.setProperty("--ring",l),a.style.setProperty("--sidebar-primary",e==="dark"?c:l),a.style.setProperty("--sidebar-ring",e==="dark"?c:l);const[d]=l.split(" "),f=parseFloat(d);e==="dark"?(a.style.setProperty("--sidebar-accent",`${f} 5% 15%`),a.style.setProperty("--accent",`${f} 6% 13%`)):(a.style.setProperty("--sidebar-accent",`${f} 5% 90%`),a.style.setProperty("--accent",`${f} 6% 92%`)),localStorage.setItem("cuemaster-color-theme",r.id)},[r,e]);const o=()=>{n(a=>a==="light"?"dark":"light")},s=a=>{i(a)};return u.jsx(iL.Provider,{value:{theme:e,setTheme:n,toggleTheme:o,colorTheme:r,setColorTheme:s},children:t})}function Hq(){const t=y.useContext(iL);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const qq=()=>{};var vN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Gq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},sL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Gq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new Kq;const h=o<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Kq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yq=function(t){const e=oL(t);return sL.encodeByteArray(e,!0)},yy=function(t){return Yq(t).replace(/\./g,"")},aL=function(t){try{return sL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=()=>Xq().__FIREBASE_DEFAULTS__,Jq=()=>{if(typeof process>"u"||typeof vN>"u")return;const t=vN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aL(t[1]);return e&&JSON.parse(e)},gx=()=>{try{return qq()||Qq()||Jq()||Zq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lL=t=>{var e,n;return(n=(e=gx())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},eG=t=>{const e=lL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cL=()=>{var t;return(t=gx())==null?void 0:t.config},uL=t=>{var e;return(e=gx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yy(JSON.stringify(n)),yy(JSON.stringify(s)),""].join(".")}const Hf={};function rG(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hf))Hf[e]?t.emulator.push(e):t.prod.push(e);return t}function iG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xN=!1;function fL(t,e){if(typeof window>"u"||typeof document>"u"||!Cd(window.location.host)||Hf[t]===e||Hf[t]||xN)return;Hf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=rG().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{xN=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=iG(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),x=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),d(x,g);const C=c();l(_,w),b.append(_,v,x,C),document.body.appendChild(b)}o?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function sG(){var e;const t=(e=gx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uG(){const t=$r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dG(){return!sG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fG(){try{return typeof indexedDB=="object"}catch{return!1}}function hG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG="FirebaseError";class Qs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pG,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Op.prototype.create)}}class Op{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?mG(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Qs(i,a,r)}}function mG(t,e){return t.replace(gG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gG=/\{\$([^}]+)}/g;function yG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ic(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(bN(o)&&bN(s)){if(!ic(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vG(t,e){const n=new xG(t,e);return n.subscribe.bind(n)}class xG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bb),i.error===void 0&&(i.error=bb),i.complete===void 0&&(i.complete=bb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){return t&&t._delegate?t._delegate:t}class oc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SG(e))try{this.getOrInitializeService({instanceIdentifier:Pl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Pl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pl){return this.instances.has(e)}getOptions(e=Pl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_G(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pl){return this.component?this.component.multipleInstances?e:Pl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _G(t){return t===Pl?void 0:t}function SG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const TG={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},PG=xt.INFO,AG={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},CG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WE{constructor(e){this.name=e,this._logLevel=PG,this._logHandler=CG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const NG=(t,e)=>e.some(n=>t instanceof n);let wN,_N;function IG(){return wN||(wN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jG(){return _N||(_N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hL=new WeakMap,_1=new WeakMap,pL=new WeakMap,wb=new WeakMap,HE=new WeakMap;function kG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ba(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&hL.set(n,t)}).catch(()=>{}),HE.set(e,t),e}function OG(t){if(_1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_1.set(t,e)}let S1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RG(t){S1=t(S1)}function MG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_b(this),e,...n);return pL.set(r,e.sort?e.sort():[e]),Ba(r)}:jG().includes(t)?function(...e){return t.apply(_b(this),e),Ba(hL.get(this))}:function(...e){return Ba(t.apply(_b(this),e))}}function DG(t){return typeof t=="function"?MG(t):(t instanceof IDBTransaction&&OG(t),NG(t,IG())?new Proxy(t,S1):t)}function Ba(t){if(t instanceof IDBRequest)return kG(t);if(wb.has(t))return wb.get(t);const e=DG(t);return e!==t&&(wb.set(t,e),HE.set(e,t)),e}const _b=t=>HE.get(t);function $G(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ba(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ba(s.result),l.oldVersion,l.newVersion,Ba(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const LG=["get","getKey","getAll","getAllKeys","count"],FG=["put","add","delete","clear"],Sb=new Map;function SN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sb.get(e))return Sb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LG.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Sb.set(e,o),o}RG(t=>({...t,get:(e,n,r)=>SN(e,n)||t.get(e,n,r),has:(e,n)=>!!SN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const E1="@firebase/app",EN="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new WE("@firebase/app"),UG="@firebase/app-compat",zG="@firebase/analytics-compat",WG="@firebase/analytics",HG="@firebase/app-check-compat",qG="@firebase/app-check",GG="@firebase/auth",KG="@firebase/auth-compat",YG="@firebase/database",XG="@firebase/data-connect",QG="@firebase/database-compat",JG="@firebase/functions",ZG="@firebase/functions-compat",eK="@firebase/installations",tK="@firebase/installations-compat",nK="@firebase/messaging",rK="@firebase/messaging-compat",iK="@firebase/performance",oK="@firebase/performance-compat",sK="@firebase/remote-config",aK="@firebase/remote-config-compat",lK="@firebase/storage",cK="@firebase/storage-compat",uK="@firebase/firestore",dK="@firebase/ai",fK="@firebase/firestore-compat",hK="firebase",pK="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="[DEFAULT]",mK={[E1]:"fire-core",[UG]:"fire-core-compat",[WG]:"fire-analytics",[zG]:"fire-analytics-compat",[qG]:"fire-app-check",[HG]:"fire-app-check-compat",[GG]:"fire-auth",[KG]:"fire-auth-compat",[YG]:"fire-rtdb",[XG]:"fire-data-connect",[QG]:"fire-rtdb-compat",[JG]:"fire-fn",[ZG]:"fire-fn-compat",[eK]:"fire-iid",[tK]:"fire-iid-compat",[nK]:"fire-fcm",[rK]:"fire-fcm-compat",[iK]:"fire-perf",[oK]:"fire-perf-compat",[sK]:"fire-rc",[aK]:"fire-rc-compat",[lK]:"fire-gcs",[cK]:"fire-gcs-compat",[uK]:"fire-fst",[fK]:"fire-fst-compat",[dK]:"fire-vertex","fire-js":"fire-js",[hK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map,gK=new Map,P1=new Map;function TN(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wu(t){const e=t.name;if(P1.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;P1.set(e,t);for(const n of vy.values())TN(n,t);for(const n of gK.values())TN(n,t);return!0}function qE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new Op("app","Firebase",yK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=pK;function mL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:T1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ua.create("bad-app-name",{appName:String(i)});if(n||(n=cL()),!n)throw Ua.create("no-options");const o=vy.get(i);if(o){if(ic(n,o.options)&&ic(r,o.config))return o;throw Ua.create("duplicate-app",{appName:i})}const s=new EG(i);for(const l of P1.values())s.addComponent(l);const a=new vK(n,r,s);return vy.set(i,a),a}function gL(t=T1){const e=vy.get(t);if(!e&&t===T1&&cL())return mL();if(!e)throw Ua.create("no-app",{appName:t});return e}function za(t,e,n){let r=mK[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(s.join(" "));return}Wu(new oc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK="firebase-heartbeat-database",bK=1,Ch="firebase-heartbeat-store";let Eb=null;function yL(){return Eb||(Eb=$G(xK,bK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ch)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ua.create("idb-open",{originalErrorMessage:t.message})})),Eb}async function wK(t){try{const n=(await yL()).transaction(Ch),r=await n.objectStore(Ch).get(vL(t));return await n.done,r}catch(e){if(e instanceof Qs)Us.warn(e.message);else{const n=Ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function PN(t,e){try{const r=(await yL()).transaction(Ch,"readwrite");await r.objectStore(Ch).put(e,vL(t)),await r.done}catch(n){if(n instanceof Qs)Us.warn(n.message);else{const r=Ua.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function vL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K=1024,SK=30;class EK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>SK){const s=AK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AN(),{heartbeatsToSend:r,unsentEntries:i}=TK(this._heartbeatsCache.heartbeats),o=yy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Us.warn(n),""}}}function AN(){return new Date().toISOString().substring(0,10)}function TK(t,e=_K){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),CN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fG()?hG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function CN(t){return yy(JSON.stringify({version:2,heartbeats:t})).length}function AK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CK(t){Wu(new oc("platform-logger",e=>new VG(e),"PRIVATE")),Wu(new oc("heartbeat",e=>new EK(e),"PRIVATE")),za(E1,EN,t),za(E1,EN,"esm2020"),za("fire-js","")}CK("");var NK="firebase",IK="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */za(NK,IK,"app");function xL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jK=xL,bL=new Op("auth","Firebase",xL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=new WE("@firebase/auth");function kK(t,...e){xy.logLevel<=xt.WARN&&xy.warn(`Auth (${Nd}): ${t}`,...e)}function Pg(t,...e){xy.logLevel<=xt.ERROR&&xy.error(`Auth (${Nd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,...e){throw KE(t,...e)}function Po(t,...e){return KE(t,...e)}function GE(t,e,n){const r={...jK(),[e]:n};return new Op("auth","Firebase",r).create(e,{appName:t.name})}function Hl(t){return GE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OK(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&cs(t,"argument-error"),GE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function KE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bL.create(t,...e)}function Xe(t,e,...n){if(!t)throw KE(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pg(e),new Error(e)}function zs(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function RK(){return NN()==="http:"||NN()==="https:"}function NN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RK()||lG()||"connection"in navigator)?navigator.onLine:!0}function DK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.shortDelay=e,this.longDelay=n,zs(n>e,"Short delay should be less than long delay!"),this.isMobile=oG()||cG()}get(){return MK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t,e){zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FK=new Mp(3e4,6e4);function XE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Id(t,e,n,r,i={}){return _L(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Rp({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return aG()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Cd(t.emulatorConfig.host)&&(c.credentials="include"),wL.fetch()(await SL(t,t.config.apiHost,n,a),c)})}async function _L(t,e,n){t._canInitEmulator=!1;const r={...$K,...e};try{const i=new BK(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Rm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Rm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Rm(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw GE(t,d,c);cs(t,d)}}catch(i){if(i instanceof Qs)throw i;cs(t,"network-request-failed",{message:String(i)})}}async function VK(t,e,n,r,i={}){const o=await Id(t,e,n,r,i);return"mfaPendingCredential"in o&&cs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function SL(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?YE(t.config,i):`${t.config.apiScheme}://${i}`;return LK.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class BK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Po(this.auth,"network-request-failed")),FK.get())})}}function Rm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Po(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UK(t,e){return Id(t,"POST","/v1/accounts:delete",e)}async function by(t,e){return Id(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zK(t,e=!1){const n=Ji(t),r=await n.getIdToken(e),i=QE(r);Xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:qf(Tb(i.auth_time)),issuedAtTime:qf(Tb(i.iat)),expirationTime:qf(Tb(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Tb(t){return Number(t)*1e3}function QE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pg("JWT malformed, contained fewer than 3 sections"),null;try{const i=aL(n);return i?JSON.parse(i):(Pg("Failed to decode base64 JWT payload"),null)}catch(i){return Pg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function IN(t){const e=QE(t);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qs&&WK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wy(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Nh(t,by(e,{idToken:n}));Xe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?EL(i.providerUserInfo):[],s=GK(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new C1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function qK(t){const e=Ji(t);await wy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KK(t,e){const n=await _L(t,{},async()=>{const r=Rp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await SL(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Cd(t.emulatorConfig.host)&&(l.credentials="include"),wL.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YK(t,e){return Id(t,"POST","/v2/accounts:revokeToken",XE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Xe(e.length!==0,"internal-error");const n=IN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await KK(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new pu;return r&&(Xe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Xe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Xe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pu,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t,e){Xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wo{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new HK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new C1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Nh(this,this.stsTokenManager.getToken(this.auth,e));return Xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zK(this,e)}reload(){return qK(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xo(this.auth.app))return Promise.reject(Hl(this.auth));const e=await this.getIdToken();return await Nh(this,UK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:v,stsTokenManager:g}=n;Xe(f&&g,e,"internal-error");const x=pu.fromJSON(this.name,g);Xe(typeof f=="string",e,"internal-error"),da(r,e.name),da(i,e.name),Xe(typeof h=="boolean",e,"internal-error"),Xe(typeof m=="boolean",e,"internal-error"),da(o,e.name),da(s,e.name),da(a,e.name),da(l,e.name),da(c,e.name),da(d,e.name);const w=new wo({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:d});return v&&Array.isArray(v)&&(w.providerData=v.map(_=>({..._}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new pu;i.updateFromServerResponse(n);const o=new wo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Xe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?EL(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new pu;a.updateFromIdToken(r);const l=new wo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new C1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Map;function Cs(t){zs(t instanceof Function,"Expected a class definition");let e=jN.get(t);return e?(zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TL.type="NONE";const kN=TL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e,n){return`firebase:${t}:${e}:${n}`}class mu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ag(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ag("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await by(this.auth,{idToken:e}).catch(()=>{});return n?wo._fromGetAccountInfoResponse(this.auth,n,e):null}return wo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mu(Cs(kN),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Cs(kN);const s=Ag(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){let f;if(typeof d=="string"){const h=await by(e,{idToken:d}).catch(()=>{});if(!h)break;f=await wo._fromGetAccountInfoResponse(e,h,d)}else f=wo._fromJSON(e,d);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new mu(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new mu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jL(e))return"Blackberry";if(kL(e))return"Webos";if(AL(e))return"Safari";if((e.includes("chrome/")||CL(e))&&!e.includes("edge/"))return"Chrome";if(IL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PL(t=$r()){return/firefox\//i.test(t)}function AL(t=$r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CL(t=$r()){return/crios\//i.test(t)}function NL(t=$r()){return/iemobile/i.test(t)}function IL(t=$r()){return/android/i.test(t)}function jL(t=$r()){return/blackberry/i.test(t)}function kL(t=$r()){return/webos/i.test(t)}function JE(t=$r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XK(t=$r()){var e;return JE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function QK(){return uG()&&document.documentMode===10}function OL(t=$r()){return JE(t)||IL(t)||kL(t)||jL(t)||/windows phone/i.test(t)||NL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t,e=[]){let n;switch(t){case"Browser":n=ON($r());break;case"Worker":n=`${ON($r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZK(t,e={}){return Id(t,"GET","/v2/passwordPolicy",XE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY=6;class tY{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RN(this),this.idTokenSubscription=new RN(this),this.beforeStateQueue=new JK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await mu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await by(this,{idToken:e}),r=await wo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(xo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xo(this.app))return Promise.reject(Hl(this));const n=e?Ji(e):null;return n&&Xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xo(this.app)?Promise.reject(Hl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xo(this.app)?Promise.reject(Hl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZK(this),n=new tY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Op("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Xe(n,this,"argument-error"),this.redirectPersistenceManager=await mu.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(xo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&kK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function yx(t){return Ji(t)}class RN{constructor(e){this.auth=e,this.observer=null,this.addObserver=vG(n=>this.observer=n)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rY(t){ZE=t}function iY(t){return ZE.loadJS(t)}function oY(){return ZE.gapiScript}function sY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(t,e){const n=qE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ic(o,e??{}))return i;cs(i,"already-initialized")}return n.initialize({options:e})}function lY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cY(t,e,n){const r=yx(t);Xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=ML(e),{host:s,port:a}=uY(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Xe(ic(c,r.config.emulator)&&ic(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Cd(s)?(dL(`${o}//${s}${l}`),fL("Auth",!0)):dY()}function ML(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uY(t){const e=ML(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:MN(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:MN(s)}}}function MN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t,e){return VK(t,"POST","/v1/accounts:signInWithIdp",XE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY="http://localhost";class sc extends DL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new sc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return gu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gu(e,n)}buildRequest(){const e={requestUri:fY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends eT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Dp{constructor(){super("facebook.com")}static credential(e){return sc._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Dp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sc._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Dp{constructor(){super("github.com")}static credential(e){return sc._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com";_a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Dp{constructor(){super("twitter.com")}static credential(e,n){return sc._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sa.credential(n,r)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await wo._fromIdTokenResponse(e,r,i),s=DN(r);return new Hu({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=DN(r);return new Hu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function DN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends Qs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_y.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _y(e,n,r,i)}}function $L(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_y._fromErrorAndOperation(t,o,e,r):o})}async function hY(t,e,n=!1){const r=await Nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pY(t,e,n=!1){const{auth:r}=t;if(xo(r.app))return Promise.reject(Hl(r));const i="reauthenticate";try{const o=await Nh(t,$L(r,i,e,t),n);Xe(o.idToken,r,"internal-error");const s=QE(o.idToken);Xe(s,r,"internal-error");const{sub:a}=s;return Xe(t.uid===a,r,"user-mismatch"),Hu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&cs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mY(t,e,n=!1){if(xo(t.app))return Promise.reject(Hl(t));const r="signIn",i=await $L(t,r,e),o=await Hu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function gY(t,e,n,r){return Ji(t).onIdTokenChanged(e,n,r)}function yY(t,e,n){return Ji(t).beforeAuthStateChanged(e,n)}function vY(t,e,n,r){return Ji(t).onAuthStateChanged(e,n,r)}function xY(t){return Ji(t).signOut()}const Sy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sy,"1"),this.storage.removeItem(Sy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY=1e3,wY=10;class FL extends LL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);QK()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FL.type="LOCAL";const _Y=FL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL extends LL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VL.type="SESSION";const BL=VL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await SY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=tT("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function TY(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function PY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function CY(){return UL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="firebaseLocalStorageDb",NY=1,Ey="firebaseLocalStorage",WL="fbase_key";class $p{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xx(t,e){return t.transaction([Ey],e?"readwrite":"readonly").objectStore(Ey)}function IY(){const t=indexedDB.deleteDatabase(zL);return new $p(t).toPromise()}function N1(){const t=indexedDB.open(zL,NY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ey,{keyPath:WL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ey)?e(r):(r.close(),await IY(),e(await N1()))})})}async function $N(t,e,n){const r=xx(t,!0).put({[WL]:e,value:n});return new $p(r).toPromise()}async function jY(t,e){const n=xx(t,!1).get(e),r=await new $p(n).toPromise();return r===void 0?null:r.value}function LN(t,e){const n=xx(t,!0).delete(e);return new $p(n).toPromise()}const kY=800,OY=3;class HL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vx._getInstance(CY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await PY(),!this.activeServiceWorker)return;this.sender=new EY(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N1();return await $N(e,Sy,"1"),await LN(e,Sy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$N(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>LN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=xx(i,!1).getAll();return new $p(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HL.type="LOCAL";const RY=HL;new Mp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t,e){return e?Cs(e):(Xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends DL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MY(t){return mY(t.auth,new nT(t),t.bypassAuthState)}function DY(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),pY(n,new nT(t),t.bypassAuthState)}async function $Y(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),hY(n,new nT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MY;case"linkViaPopup":case"linkViaRedirect":return $Y;case"reauthViaPopup":case"reauthViaRedirect":return DY;default:cs(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=new Mp(2e3,1e4);async function KL(t,e,n){if(xo(t.app))return Promise.reject(Po(t,"operation-not-supported-in-this-environment"));const r=yx(t);OK(t,e,eT);const i=qL(r,n);return new Ol(r,"signInViaPopup",e,i).executeNotNull()}class Ol extends GL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xe(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=tT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Po(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Po(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LY.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FY="pendingRedirect",Cg=new Map;class VY extends GL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cg.get(this.auth._key());if(!e){try{const r=await BY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cg.set(this.auth._key(),e)}return this.bypassAuthState||Cg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BY(t,e){const n=WY(e),r=zY(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UY(t,e){Cg.set(t._key(),e)}function zY(t){return Cs(t._redirectPersistence)}function WY(t){return Ag(FY,t.config.apiKey,t.name)}async function HY(t,e,n=!1){if(xo(t.app))return Promise.reject(Hl(t));const r=yx(t),i=qL(r,e),s=await new VY(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY=10*60*1e3;class GY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YL(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Po(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qY&&this.cachedEventUids.clear(),this.cachedEventUids.has(FN(e))}saveEventToCache(e){this.cachedEventUids.add(FN(e)),this.lastProcessedEventTime=Date.now()}}function FN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YY(t,e={}){return Id(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QY=/^https?/;async function JY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YY(t);for(const n of e)try{if(ZY(n))return}catch{}cs(t,"unauthorized-domain")}function ZY(t){const e=A1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!QY.test(n))return!1;if(XY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eX=new Mp(3e4,6e4);function VN(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tX(t){return new Promise((e,n)=>{var i,o,s;function r(){VN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VN(),n(Po(t,"network-request-failed"))},timeout:eX.get()})}if((o=(i=ts().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=ts().gapi)!=null&&s.load)r();else{const a=sY("iframefcb");return ts()[a]=()=>{gapi.load?r():n(Po(t,"network-request-failed"))},iY(`${oY()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ng=null,e})}let Ng=null;function nX(t){return Ng=Ng||tX(t),Ng}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=new Mp(5e3,15e3),iX="__/auth/iframe",oX="emulator/auth/iframe",sX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lX(t){const e=t.config;Xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?YE(e,oX):`https://${t.config.authDomain}/${iX}`,r={apiKey:e.apiKey,appName:t.name,v:Nd},i=aX.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Rp(r).slice(1)}`}async function cX(t){const e=await nX(t),n=ts().gapi;return Xe(n,t,"internal-error"),e.open({where:document.body,url:lX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sX,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Po(t,"network-request-failed"),a=ts().setTimeout(()=>{o(s)},rX.get());function l(){ts().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dX=500,fX=600,hX="_blank",pX="http://localhost";class BN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mX(t,e,n,r=dX,i=fX){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...uX,width:r.toString(),height:i.toString(),top:o,left:s},c=$r().toLowerCase();n&&(a=CL(c)?hX:n),PL(c)&&(e=e||pX,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(XK(c)&&a!=="_self")return gX(e||"",a),new BN(null);const f=window.open(e||"",a,d);Xe(f,t,"popup-blocked");try{f.focus()}catch{}return new BN(f)}function gX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yX="__/auth/handler",vX="emulator/auth/handler",xX=encodeURIComponent("fac");async function UN(t,e,n,r,i,o){Xe(t.config.authDomain,t,"auth-domain-config-required"),Xe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nd,eventId:i};if(e instanceof eT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",yG(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof Dp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${xX}=${encodeURIComponent(l)}`:"";return`${bX(t)}?${Rp(a).slice(1)}${c}`}function bX({config:t}){return t.emulator?YE(t,vX):`https://${t.authDomain}/${yX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="webStorageSupport";class wX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BL,this._completeRedirectFn=HY,this._overrideRedirectResult=UY}async _openPopup(e,n,r,i){var s;zs((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await UN(e,n,r,A1(),i);return mX(e,o,tT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await UN(e,n,r,A1(),i);return TY(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(zs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cX(e),r=new GY(e);return n.register("authEvent",i=>(Xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pb,{type:Pb},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[Pb];o!==void 0&&n(!!o),cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OL()||AL()||JE()}}const _X=wX;var zN="@firebase/auth",WN="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TX(t){Wu(new oc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Xe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RL(t)},c=new nY(r,i,o,l);return lY(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wu(new oc("auth-internal",e=>{const n=yx(e.getProvider("auth").getImmediate());return(r=>new SX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),za(zN,WN,EX(t)),za(zN,WN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX=5*60,AX=uL("authIdTokenMaxAge")||PX;let HN=null;const CX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AX)return;const i=n==null?void 0:n.token;HN!==i&&(HN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NX(t=gL()){const e=qE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aY(t,{popupRedirectResolver:_X,persistence:[RY,_Y,BL]}),r=uL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=CX(o.toString());yY(n,s,()=>s(n.currentUser)),gY(n,a=>s(a))}}const i=lL("auth");return i&&cY(n,`http://${i}`),n}function IX(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}rY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Po("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",IX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TX("Browser");var qN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,XL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,P){function A(){}A.prototype=P.prototype,S.F=P.prototype,S.prototype=new A,S.prototype.constructor=S,S.D=function(k,I,O){for(var R=Array(arguments.length-2),L=2;L<arguments.length;L++)R[L-2]=arguments[L];return P.prototype[I].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,P,A){A||(A=0);const k=Array(16);if(typeof P=="string")for(var I=0;I<16;++I)k[I]=P.charCodeAt(A++)|P.charCodeAt(A++)<<8|P.charCodeAt(A++)<<16|P.charCodeAt(A++)<<24;else for(I=0;I<16;++I)k[I]=P[A++]|P[A++]<<8|P[A++]<<16|P[A++]<<24;P=S.g[0],A=S.g[1],I=S.g[2];let O=S.g[3],R;R=P+(O^A&(I^O))+k[0]+3614090360&4294967295,P=A+(R<<7&4294967295|R>>>25),R=O+(I^P&(A^I))+k[1]+3905402710&4294967295,O=P+(R<<12&4294967295|R>>>20),R=I+(A^O&(P^A))+k[2]+606105819&4294967295,I=O+(R<<17&4294967295|R>>>15),R=A+(P^I&(O^P))+k[3]+3250441966&4294967295,A=I+(R<<22&4294967295|R>>>10),R=P+(O^A&(I^O))+k[4]+4118548399&4294967295,P=A+(R<<7&4294967295|R>>>25),R=O+(I^P&(A^I))+k[5]+1200080426&4294967295,O=P+(R<<12&4294967295|R>>>20),R=I+(A^O&(P^A))+k[6]+2821735955&4294967295,I=O+(R<<17&4294967295|R>>>15),R=A+(P^I&(O^P))+k[7]+4249261313&4294967295,A=I+(R<<22&4294967295|R>>>10),R=P+(O^A&(I^O))+k[8]+1770035416&4294967295,P=A+(R<<7&4294967295|R>>>25),R=O+(I^P&(A^I))+k[9]+2336552879&4294967295,O=P+(R<<12&4294967295|R>>>20),R=I+(A^O&(P^A))+k[10]+4294925233&4294967295,I=O+(R<<17&4294967295|R>>>15),R=A+(P^I&(O^P))+k[11]+2304563134&4294967295,A=I+(R<<22&4294967295|R>>>10),R=P+(O^A&(I^O))+k[12]+1804603682&4294967295,P=A+(R<<7&4294967295|R>>>25),R=O+(I^P&(A^I))+k[13]+4254626195&4294967295,O=P+(R<<12&4294967295|R>>>20),R=I+(A^O&(P^A))+k[14]+2792965006&4294967295,I=O+(R<<17&4294967295|R>>>15),R=A+(P^I&(O^P))+k[15]+1236535329&4294967295,A=I+(R<<22&4294967295|R>>>10),R=P+(I^O&(A^I))+k[1]+4129170786&4294967295,P=A+(R<<5&4294967295|R>>>27),R=O+(A^I&(P^A))+k[6]+3225465664&4294967295,O=P+(R<<9&4294967295|R>>>23),R=I+(P^A&(O^P))+k[11]+643717713&4294967295,I=O+(R<<14&4294967295|R>>>18),R=A+(O^P&(I^O))+k[0]+3921069994&4294967295,A=I+(R<<20&4294967295|R>>>12),R=P+(I^O&(A^I))+k[5]+3593408605&4294967295,P=A+(R<<5&4294967295|R>>>27),R=O+(A^I&(P^A))+k[10]+38016083&4294967295,O=P+(R<<9&4294967295|R>>>23),R=I+(P^A&(O^P))+k[15]+3634488961&4294967295,I=O+(R<<14&4294967295|R>>>18),R=A+(O^P&(I^O))+k[4]+3889429448&4294967295,A=I+(R<<20&4294967295|R>>>12),R=P+(I^O&(A^I))+k[9]+568446438&4294967295,P=A+(R<<5&4294967295|R>>>27),R=O+(A^I&(P^A))+k[14]+3275163606&4294967295,O=P+(R<<9&4294967295|R>>>23),R=I+(P^A&(O^P))+k[3]+4107603335&4294967295,I=O+(R<<14&4294967295|R>>>18),R=A+(O^P&(I^O))+k[8]+1163531501&4294967295,A=I+(R<<20&4294967295|R>>>12),R=P+(I^O&(A^I))+k[13]+2850285829&4294967295,P=A+(R<<5&4294967295|R>>>27),R=O+(A^I&(P^A))+k[2]+4243563512&4294967295,O=P+(R<<9&4294967295|R>>>23),R=I+(P^A&(O^P))+k[7]+1735328473&4294967295,I=O+(R<<14&4294967295|R>>>18),R=A+(O^P&(I^O))+k[12]+2368359562&4294967295,A=I+(R<<20&4294967295|R>>>12),R=P+(A^I^O)+k[5]+4294588738&4294967295,P=A+(R<<4&4294967295|R>>>28),R=O+(P^A^I)+k[8]+2272392833&4294967295,O=P+(R<<11&4294967295|R>>>21),R=I+(O^P^A)+k[11]+1839030562&4294967295,I=O+(R<<16&4294967295|R>>>16),R=A+(I^O^P)+k[14]+4259657740&4294967295,A=I+(R<<23&4294967295|R>>>9),R=P+(A^I^O)+k[1]+2763975236&4294967295,P=A+(R<<4&4294967295|R>>>28),R=O+(P^A^I)+k[4]+1272893353&4294967295,O=P+(R<<11&4294967295|R>>>21),R=I+(O^P^A)+k[7]+4139469664&4294967295,I=O+(R<<16&4294967295|R>>>16),R=A+(I^O^P)+k[10]+3200236656&4294967295,A=I+(R<<23&4294967295|R>>>9),R=P+(A^I^O)+k[13]+681279174&4294967295,P=A+(R<<4&4294967295|R>>>28),R=O+(P^A^I)+k[0]+3936430074&4294967295,O=P+(R<<11&4294967295|R>>>21),R=I+(O^P^A)+k[3]+3572445317&4294967295,I=O+(R<<16&4294967295|R>>>16),R=A+(I^O^P)+k[6]+76029189&4294967295,A=I+(R<<23&4294967295|R>>>9),R=P+(A^I^O)+k[9]+3654602809&4294967295,P=A+(R<<4&4294967295|R>>>28),R=O+(P^A^I)+k[12]+3873151461&4294967295,O=P+(R<<11&4294967295|R>>>21),R=I+(O^P^A)+k[15]+530742520&4294967295,I=O+(R<<16&4294967295|R>>>16),R=A+(I^O^P)+k[2]+3299628645&4294967295,A=I+(R<<23&4294967295|R>>>9),R=P+(I^(A|~O))+k[0]+4096336452&4294967295,P=A+(R<<6&4294967295|R>>>26),R=O+(A^(P|~I))+k[7]+1126891415&4294967295,O=P+(R<<10&4294967295|R>>>22),R=I+(P^(O|~A))+k[14]+2878612391&4294967295,I=O+(R<<15&4294967295|R>>>17),R=A+(O^(I|~P))+k[5]+4237533241&4294967295,A=I+(R<<21&4294967295|R>>>11),R=P+(I^(A|~O))+k[12]+1700485571&4294967295,P=A+(R<<6&4294967295|R>>>26),R=O+(A^(P|~I))+k[3]+2399980690&4294967295,O=P+(R<<10&4294967295|R>>>22),R=I+(P^(O|~A))+k[10]+4293915773&4294967295,I=O+(R<<15&4294967295|R>>>17),R=A+(O^(I|~P))+k[1]+2240044497&4294967295,A=I+(R<<21&4294967295|R>>>11),R=P+(I^(A|~O))+k[8]+1873313359&4294967295,P=A+(R<<6&4294967295|R>>>26),R=O+(A^(P|~I))+k[15]+4264355552&4294967295,O=P+(R<<10&4294967295|R>>>22),R=I+(P^(O|~A))+k[6]+2734768916&4294967295,I=O+(R<<15&4294967295|R>>>17),R=A+(O^(I|~P))+k[13]+1309151649&4294967295,A=I+(R<<21&4294967295|R>>>11),R=P+(I^(A|~O))+k[4]+4149444226&4294967295,P=A+(R<<6&4294967295|R>>>26),R=O+(A^(P|~I))+k[11]+3174756917&4294967295,O=P+(R<<10&4294967295|R>>>22),R=I+(P^(O|~A))+k[2]+718787259&4294967295,I=O+(R<<15&4294967295|R>>>17),R=A+(O^(I|~P))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+P&4294967295,S.g[1]=S.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.v=function(S,P){P===void 0&&(P=S.length);const A=P-this.blockSize,k=this.C;let I=this.h,O=0;for(;O<P;){if(I==0)for(;O<=A;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<P;)if(k[I++]=S.charCodeAt(O++),I==this.blockSize){i(this,k),I=0;break}}else for(;O<P;)if(k[I++]=S[O++],I==this.blockSize){i(this,k),I=0;break}}this.h=I,this.o+=P},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var P=1;P<S.length-8;++P)S[P]=0;P=this.o*8;for(var A=S.length-8;A<S.length;++A)S[A]=P&255,P/=256;for(this.v(S),S=Array(16),P=0,A=0;A<4;++A)for(let k=0;k<32;k+=8)S[P++]=this.g[A]>>>k&255;return S};function o(S,P){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=P(S)}function s(S,P){this.h=P;const A=[];let k=!0;for(let I=S.length-1;I>=0;I--){const O=S[I]|0;k&&O==P||(A[I]=O,k=!1)}this.g=A}var a={};function l(S){return-128<=S&&S<128?o(S,function(P){return new s([P|0],P<0?-1:0)}):new s([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return x(c(-S));const P=[];let A=1;for(let k=0;S>=A;k++)P[k]=S/A|0,A*=4294967296;return new s(P,0)}function d(S,P){if(S.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(S.charAt(0)=="-")return x(d(S.substring(1),P));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(P,8));let k=f;for(let O=0;O<S.length;O+=8){var I=Math.min(8,S.length-O);const R=parseInt(S.substring(O,O+I),P);I<8?(I=c(Math.pow(P,I)),k=k.j(I).add(c(R))):(k=k.j(A),k=k.add(c(R)))}return k}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-x(this).m();let S=0,P=1;for(let A=0;A<this.g.length;A++){const k=this.i(A);S+=(k>=0?k:4294967296+k)*P,P*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(g(this))return"-"+x(this).toString(S);const P=c(Math.pow(S,6));var A=this;let k="";for(;;){const I=C(A,P).g;A=w(A,I.j(P));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(S);if(A=I,v(A))return O+k;for(;O.length<6;)O="0"+O;k=O+k}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(let P=0;P<S.g.length;P++)if(S.g[P]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=w(this,S),g(S)?-1:v(S)?0:1};function x(S){const P=S.g.length,A=[];for(let k=0;k<P;k++)A[k]=~S.g[k];return new s(A,~S.h).add(h)}t.abs=function(){return g(this)?x(this):this},t.add=function(S){const P=Math.max(this.g.length,S.g.length),A=[];let k=0;for(let I=0;I<=P;I++){let O=k+(this.i(I)&65535)+(S.i(I)&65535),R=(O>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);k=R>>>16,O&=65535,R&=65535,A[I]=R<<16|O}return new s(A,A[A.length-1]&-2147483648?-1:0)};function w(S,P){return S.add(x(P))}t.j=function(S){if(v(this)||v(S))return f;if(g(this))return g(S)?x(this).j(x(S)):x(x(this).j(S));if(g(S))return x(this.j(x(S)));if(this.l(m)<0&&S.l(m)<0)return c(this.m()*S.m());const P=this.g.length+S.g.length,A=[];for(var k=0;k<2*P;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(let I=0;I<S.g.length;I++){const O=this.i(k)>>>16,R=this.i(k)&65535,L=S.i(I)>>>16,B=S.i(I)&65535;A[2*k+2*I]+=R*B,_(A,2*k+2*I),A[2*k+2*I+1]+=O*B,_(A,2*k+2*I+1),A[2*k+2*I+1]+=R*L,_(A,2*k+2*I+1),A[2*k+2*I+2]+=O*L,_(A,2*k+2*I+2)}for(S=0;S<P;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=P;S<2*P;S++)A[S]=0;return new s(A,0)};function _(S,P){for(;(S[P]&65535)!=S[P];)S[P+1]+=S[P]>>>16,S[P]&=65535,P++}function b(S,P){this.g=S,this.h=P}function C(S,P){if(v(P))throw Error("division by zero");if(v(S))return new b(f,f);if(g(S))return P=C(x(S),P),new b(x(P.g),x(P.h));if(g(P))return P=C(S,x(P)),new b(x(P.g),P.h);if(S.g.length>30){if(g(S)||g(P))throw Error("slowDivide_ only works with positive integers.");for(var A=h,k=P;k.l(S)<=0;)A=E(A),k=E(k);var I=N(A,1),O=N(k,1);for(k=N(k,2),A=N(A,2);!v(k);){var R=O.add(k);R.l(S)<=0&&(I=I.add(A),O=R),k=N(k,1),A=N(A,1)}return P=w(S,I.j(P)),new b(I,P)}for(I=f;S.l(P)>=0;){for(A=Math.max(1,Math.floor(S.m()/P.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),O=c(A),R=O.j(P);g(R)||R.l(S)>0;)A-=k,O=c(A),R=O.j(P);v(O)&&(O=h),I=I.add(O),S=w(S,R)}return new b(I,S)}t.B=function(S){return C(this,S).h},t.and=function(S){const P=Math.max(this.g.length,S.g.length),A=[];for(let k=0;k<P;k++)A[k]=this.i(k)&S.i(k);return new s(A,this.h&S.h)},t.or=function(S){const P=Math.max(this.g.length,S.g.length),A=[];for(let k=0;k<P;k++)A[k]=this.i(k)|S.i(k);return new s(A,this.h|S.h)},t.xor=function(S){const P=Math.max(this.g.length,S.g.length),A=[];for(let k=0;k<P;k++)A[k]=this.i(k)^S.i(k);return new s(A,this.h^S.h)};function E(S){const P=S.g.length+1,A=[];for(let k=0;k<P;k++)A[k]=S.i(k)<<1|S.i(k-1)>>>31;return new s(A,S.h)}function N(S,P){const A=P>>5;P%=32;const k=S.g.length-A,I=[];for(let O=0;O<k;O++)I[O]=P>0?S.i(O+A)>>>P|S.i(O+A+1)<<32-P:S.i(O+A);return new s(I,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,XL=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Wa=s}).apply(typeof qN<"u"?qN:typeof self<"u"?self:typeof window<"u"?window:{});var Mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QL,Af,JL,Ig,I1,ZL,e4,t4;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mm=="object"&&Mm];for(var T=0;T<p.length;++T){var j=p[T];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(p,T){if(T)e:{var j=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var H=p[D];if(!(H in j))break e;j=j[H]}p=p[p.length-1],D=j[p],T=T(D),T!=D&&T!=null&&e(j,p,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(T){var j=[],D;for(D in T)Object.prototype.hasOwnProperty.call(T,D)&&j.push([D,T[D]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function l(p,T,j){return p.call.apply(p.bind,arguments)}function c(p,T,j){return c=l,c.apply(null,arguments)}function d(p,T){var j=Array.prototype.slice.call(arguments,1);return function(){var D=j.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function f(p,T){function j(){}j.prototype=T.prototype,p.Z=T.prototype,p.prototype=new j,p.prototype.constructor=p,p.Ob=function(D,H,X){for(var ye=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ye[ut-2]=arguments[ut];return T.prototype[H].apply(D,ye)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const T=p.length;if(T>0){const j=Array(T);for(let D=0;D<T;D++)j[D]=p[D];return j}return[]}function v(p,T){for(let D=1;D<arguments.length;D++){const H=arguments[D];var j=typeof H;if(j=j!="object"?j:H?Array.isArray(H)?"array":j:"null",j=="array"||j=="object"&&typeof H.length=="number"){j=p.length||0;const X=H.length||0;p.length=j+X;for(let ye=0;ye<X;ye++)p[j+ye]=H[ye]}else p.push(H)}}class g{constructor(T,j){this.i=T,this.j=j,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function x(p){s.setTimeout(()=>{throw p},0)}function w(){var p=S;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class _{constructor(){this.h=this.g=null}add(T,j){const D=b.get();D.set(T,j),this.h?this.h.next=D:this.g=D,this.h=D}}var b=new g(()=>new C,p=>p.reset());class C{constructor(){this.next=this.g=this.h=null}set(T,j){this.h=T,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let E,N=!1,S=new _,P=()=>{const p=Promise.resolve(void 0);E=()=>{p.then(A)}};function A(){for(var p;p=w();){try{p.h.call(p.g)}catch(j){x(j)}var T=b;T.j(p),T.h<100&&(T.h++,p.next=T.g,T.g=p)}N=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const j=()=>{};s.addEventListener("test",j,T),s.removeEventListener("test",j,T)}catch{}return p}();function R(p){return/^[\s\xa0]*$/.test(p)}function L(p,T){I.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,T)}f(L,I),L.prototype.init=function(p,T){const j=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget,T||(j=="mouseover"?T=p.fromElement:j=="mouseout"&&(T=p.toElement)),this.relatedTarget=T,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),U=0;function W(p,T,j,D,H){this.listener=p,this.proxy=null,this.src=T,this.type=j,this.capture=!!D,this.ha=H,this.key=++U,this.da=this.fa=!1}function F(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function V(p,T,j){for(const D in p)T.call(j,p[D],D,p)}function Z(p,T){for(const j in p)T.call(void 0,p[j],j,p)}function Q(p){const T={};for(const j in p)T[j]=p[j];return T}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(p,T){let j,D;for(let H=1;H<arguments.length;H++){D=arguments[H];for(j in D)p[j]=D[j];for(let X=0;X<ne.length;X++)j=ne[X],Object.prototype.hasOwnProperty.call(D,j)&&(p[j]=D[j])}}function Ae(p){this.src=p,this.g={},this.h=0}Ae.prototype.add=function(p,T,j,D,H){const X=p.toString();p=this.g[X],p||(p=this.g[X]=[],this.h++);const ye=Ke(p,T,D,H);return ye>-1?(T=p[ye],j||(T.fa=!1)):(T=new W(T,this.src,X,!!D,H),T.fa=j,p.push(T)),T};function Ve(p,T){const j=T.type;if(j in p.g){var D=p.g[j],H=Array.prototype.indexOf.call(D,T,void 0),X;(X=H>=0)&&Array.prototype.splice.call(D,H,1),X&&(F(T),p.g[j].length==0&&(delete p.g[j],p.h--))}}function Ke(p,T,j,D){for(let H=0;H<p.length;++H){const X=p[H];if(!X.da&&X.listener==T&&X.capture==!!j&&X.ha==D)return H}return-1}var me="closure_lm_"+(Math.random()*1e6|0),we={};function ee(p,T,j,D,H){if(Array.isArray(T)){for(let X=0;X<T.length;X++)ee(p,T[X],j,D,H);return null}return j=Rt(j),p&&p[B]?p.J(T,j,a(D)?!!D.capture:!!D,H):he(p,T,j,!1,D,H)}function he(p,T,j,D,H,X){if(!T)throw Error("Invalid event type");const ye=a(H)?!!H.capture:!!H;let ut=at(p);if(ut||(p[me]=ut=new Ae(p)),j=ut.add(T,j,D,ye,X),j.proxy)return j;if(D=pe(),j.proxy=D,D.src=p,D.listener=j,p.addEventListener)O||(H=ye),H===void 0&&(H=!1),p.addEventListener(T.toString(),D,H);else if(p.attachEvent)p.attachEvent(Oe(T.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return j}function pe(){function p(j){return T.call(p.src,p.listener,j)}const T=ht;return p}function K(p,T,j,D,H){if(Array.isArray(T))for(var X=0;X<T.length;X++)K(p,T[X],j,D,H);else D=a(D)?!!D.capture:!!D,j=Rt(j),p&&p[B]?(p=p.i,X=String(T).toString(),X in p.g&&(T=p.g[X],j=Ke(T,j,D,H),j>-1&&(F(T[j]),Array.prototype.splice.call(T,j,1),T.length==0&&(delete p.g[X],p.h--)))):p&&(p=at(p))&&(T=p.g[T.toString()],p=-1,T&&(p=Ke(T,j,D,H)),(j=p>-1?T[p]:null)&&_e(j))}function _e(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[B])Ve(T.i,p);else{var j=p.type,D=p.proxy;T.removeEventListener?T.removeEventListener(j,D,p.capture):T.detachEvent?T.detachEvent(Oe(j),D):T.addListener&&T.removeListener&&T.removeListener(D),(j=at(T))?(Ve(j,p),j.h==0&&(j.src=null,T[me]=null)):F(p)}}}function Oe(p){return p in we?we[p]:we[p]="on"+p}function ht(p,T){if(p.da)p=!0;else{T=new L(T,this);const j=p.listener,D=p.ha||p.src;p.fa&&_e(p),p=j.call(D,T)}return p}function at(p){return p=p[me],p instanceof Ae?p:null}var Ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rt(p){return typeof p=="function"?p:(p[Ct]||(p[Ct]=function(T){return p.handleEvent(T)}),p[Ct])}function ve(){k.call(this),this.i=new Ae(this),this.M=this,this.G=null}f(ve,k),ve.prototype[B]=!0,ve.prototype.removeEventListener=function(p,T,j,D){K(this,p,T,j,D)};function Ye(p,T){var j,D=p.G;if(D)for(j=[];D;D=D.G)j.push(D);if(p=p.M,D=T.type||T,typeof T=="string")T=new I(T,p);else if(T instanceof I)T.target=T.target||p;else{var H=T;T=new I(D,p),ge(T,H)}H=!0;let X,ye;if(j)for(ye=j.length-1;ye>=0;ye--)X=T.g=j[ye],H=cn(X,D,!0,T)&&H;if(X=T.g=p,H=cn(X,D,!0,T)&&H,H=cn(X,D,!1,T)&&H,j)for(ye=0;ye<j.length;ye++)X=T.g=j[ye],H=cn(X,D,!1,T)&&H}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var p=this.i;for(const T in p.g){const j=p.g[T];for(let D=0;D<j.length;D++)F(j[D]);delete p.g[T],p.h--}}this.G=null},ve.prototype.J=function(p,T,j,D){return this.i.add(String(p),T,!1,j,D)},ve.prototype.K=function(p,T,j,D){return this.i.add(String(p),T,!0,j,D)};function cn(p,T,j,D){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();let H=!0;for(let X=0;X<T.length;++X){const ye=T[X];if(ye&&!ye.da&&ye.capture==j){const ut=ye.listener,Wn=ye.ha||ye.src;ye.fa&&Ve(p.i,ye),H=ut.call(Wn,D)!==!1&&H}}return H&&!D.defaultPrevented}function Ot(p,T){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=c(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(p,T||0)}function pn(p){p.g=Ot(()=>{p.g=null,p.i&&(p.i=!1,pn(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class wr extends k{constructor(T,j){super(),this.m=T,this.l=j,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:pn(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(p){k.call(this),this.h=p,this.g={}}f(mn,k);var ur=[];function io(p){V(p.g,function(T,j){this.g.hasOwnProperty(j)&&_e(T)},p),p.g={}}mn.prototype.N=function(){mn.Z.N.call(this),io(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xt=s.JSON.stringify,Gr=s.JSON.parse,Un=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function zn(){}function It(){}var en={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _r(){I.call(this,"d")}f(_r,I);function dr(){I.call(this,"c")}f(dr,I);var G={},ce=null;function Ee(){return ce=ce||new ve}G.Ia="serverreachability";function qe(p){I.call(this,G.Ia,p)}f(qe,I);function pt(p){const T=Ee();Ye(T,new qe(T))}G.STAT_EVENT="statevent";function Sn(p,T){I.call(this,G.STAT_EVENT,p),this.stat=T}f(Sn,I);function De(p){const T=Ee();Ye(T,new Sn(T,p))}G.Ja="timingevent";function Qe(p,T){I.call(this,G.Ja,p),this.size=T}f(Qe,I);function Mn(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},T)}function gn(){this.g=!0}gn.prototype.ua=function(){this.g=!1};function Ii(p,T,j,D,H,X){p.info(function(){if(p.g)if(X){var ye="",ut=X.split("&");for(let Gt=0;Gt<ut.length;Gt++){var Wn=ut[Gt].split("=");if(Wn.length>1){const er=Wn[0];Wn=Wn[1];const $o=er.split("_");ye=$o.length>=2&&$o[1]=="type"?ye+(er+"="+Wn+"&"):ye+(er+"=redacted&")}}}else ye=null;else ye=X;return"XMLHTTP REQ ("+D+") [attempt "+H+"]: "+T+`
`+j+`
`+ye})}function ai(p,T,j,D,H,X,ye){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+H+"]: "+T+`
`+j+`
`+X+" "+ye})}function Sr(p,T,j,D){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+na(p,j)+(D?" "+D:"")})}function li(p,T){p.info(function(){return"TIMEOUT: "+T})}gn.prototype.info=function(){};function na(p,T){if(!p.g)return T;if(!T)return null;try{const X=JSON.parse(T);if(X){for(p=0;p<X.length;p++)if(Array.isArray(X[p])){var j=X[p];if(!(j.length<2)){var D=j[1];if(Array.isArray(D)&&!(D.length<1)){var H=D[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ye=1;ye<D.length;ye++)D[ye]=""}}}}return Xt(X)}catch{return T}}var Oo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function ra(){}f(ra,zn),ra.prototype.g=function(){return new XMLHttpRequest},yl=new ra;function Lr(p){return encodeURIComponent(String(p))}function ia(p){var T=1;p=p.split(":");const j=[];for(;T>0&&p.length;)j.push(p.shift()),T--;return p.length&&j.push(p.join(":")),j}function Kr(p,T,j,D){this.j=p,this.i=T,this.l=j,this.S=D||1,this.V=new mn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oo}function oo(){this.i=null,this.g="",this.h=!1}var ci={},Yr={};function ji(p,T,j){p.M=1,p.A=Te(te(T)),p.u=j,p.R=!0,q(p,null)}function q(p,T){p.F=Date.now(),rt(p),p.B=te(p.A);var j=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),Mo(j.i,"t",D),p.C=0,j=p.j.L,p.h=new oo,p.g=EA(p.j,j?T:null,!p.u),p.P>0&&(p.O=new wr(c(p.Y,p,p.g),p.P)),T=p.V,j=p.g,D=p.ba;var H="readystatechange";Array.isArray(H)||(H&&(ur[0]=H.toString()),H=ur);for(let X=0;X<H.length;X++){const ye=ee(j,H[X],D||T.handleEvent,!1,T.h||T);if(!ye)break;T.g[ye.key]=ye}T=p.J?Q(p.J):{},p.u?(p.v||(p.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,T)):(p.v="GET",p.g.ea(p.B,p.v,null,T)),pt(),Ii(p.i,p.v,p.B,p.l,p.S,p.u)}Kr.prototype.ba=function(p){p=p.target;const T=this.O;T&&Jr(p)==3?T.j():this.Y(p)},Kr.prototype.Y=function(p){try{if(p==this.g)e:{const ut=Jr(this.g),Wn=this.g.ya(),Gt=this.g.ca();if(!(ut<3)&&(ut!=3||this.g&&(this.h.h||this.g.la()||xl(this.g)))){this.K||ut!=4||Wn==7||(Wn==8||Gt<=0?pt(3):pt(2)),Mt(this);var T=this.g.ca();this.X=T;var j=$e(this);if(this.o=T==200,ai(this.i,this.v,this.B,this.l,this.S,ut,T),this.o){if(this.U&&!this.L){t:{if(this.g){var D,H=this.g;if((D=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(D)){var X=D;break t}}X=null}if(p=X)Sr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ct(this,p);else{this.o=!1,this.m=3,De(12),$t(this),Dt(this);break e}}if(this.R){p=!0;let er;for(;!this.K&&this.C<j.length;)if(er=We(this,j),er==Yr){ut==4&&(this.m=4,De(14),p=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(er==ci){this.m=4,De(15),Sr(this.i,this.l,j,"[Invalid Chunk]"),p=!1;break}else Sr(this.i,this.l,er,null),ct(this,er);if(Je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||j.length!=0||this.h.h||(this.m=1,De(16),p=!1),this.o=this.o&&p,!p)Sr(this.i,this.l,j,"[Invalid Chunked Response]"),$t(this),Dt(this);else if(j.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),$0(ye),ye.P=!0,De(11))}}else Sr(this.i,this.l,j,null),ct(this,j);ut==4&&$t(this),this.o&&!this.K&&(ut==4?bA(this.j,this):(this.o=!1,rt(this)))}else R0(this.g),T==400&&j.indexOf("Unknown SID")>0?(this.m=3,De(12)):(this.m=0,De(13)),$t(this),Dt(this)}}}catch{}finally{}};function $e(p){if(!Je(p))return p.g.la();const T=xl(p.g);if(T==="")return"";let j="";const D=T.length,H=Jr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return $t(p),Dt(p),"";p.h.i=new s.TextDecoder}for(let X=0;X<D;X++)p.h.h=!0,j+=p.h.i.decode(T[X],{stream:!(H&&X==D-1)});return T.length=0,p.h.g+=j,p.C=0,p.h.g}function Je(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function We(p,T){var j=p.C,D=T.indexOf(`
`,j);return D==-1?Yr:(j=Number(T.substring(j,D)),isNaN(j)?ci:(D+=1,D+j>T.length?Yr:(T=T.slice(D,D+j),p.C=D+j,T)))}Kr.prototype.cancel=function(){this.K=!0,$t(this)};function rt(p){p.T=Date.now()+p.H,tt(p,p.H)}function tt(p,T){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Mn(c(p.aa,p),T)}function Mt(p){p.D&&(s.clearTimeout(p.D),p.D=null)}Kr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(li(this.i,this.B),this.M!=2&&(pt(),De(17)),$t(this),this.m=2,Dt(this)):tt(this,this.T-p)};function Dt(p){p.j.I==0||p.K||bA(p.j,p)}function $t(p){Mt(p);var T=p.O;T&&typeof T.dispose=="function"&&T.dispose(),p.O=null,io(p.V),p.g&&(T=p.g,p.g=null,T.abort(),T.dispose())}function ct(p,T){try{var j=p.j;if(j.I!=0&&(j.g==p||En(j.h,p))){if(!p.L&&En(j.h,p)&&j.I==3){try{var D=j.Ba.g.parse(T)}catch{D=null}if(Array.isArray(D)&&D.length==3){var H=D;if(H[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<p.F)am(j),om(j);else break e;D0(j),De(18)}}else j.xa=H[1],0<j.xa-j.K&&H[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=Mn(c(j.Va,j),6e3));Lt(j.h)<=1&&j.ta&&(j.ta=void 0)}else wl(j,11)}else if((p.L||j.g==p)&&am(j),!R(T))for(H=j.Ba.g.parse(T),T=0;T<H.length;T++){let Gt=H[T];const er=Gt[0];if(!(er<=j.K))if(j.K=er,Gt=Gt[1],j.I==2)if(Gt[0]=="c"){j.M=Gt[1],j.ba=Gt[2];const $o=Gt[3];$o!=null&&(j.ka=$o,j.j.info("VER="+j.ka));const _l=Gt[4];_l!=null&&(j.za=_l,j.j.info("SVER="+j.za));const sa=Gt[5];sa!=null&&typeof sa=="number"&&sa>0&&(D=1.5*sa,j.O=D,j.j.info("backChannelRequestTimeoutMs_="+D)),D=j;const aa=p.g;if(aa){const cm=aa.g?aa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cm){var X=D.h;X.g||cm.indexOf("spdy")==-1&&cm.indexOf("quic")==-1&&cm.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Tn(X,X.h),X.h=null))}if(D.G){const L0=aa.g?aa.g.getResponseHeader("X-HTTP-Session-Id"):null;L0&&(D.wa=L0,de(D.J,D.G,L0))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-p.F,j.j.info("Handshake RTT: "+j.T+"ms")),D=j;var ye=p;if(D.na=SA(D,D.L?D.ba:null,D.W),ye.L){un(D.h,ye);var ut=ye,Wn=D.O;Wn&&(ut.H=Wn),ut.D&&(Mt(ut),rt(ut)),D.g=ye}else vA(D);j.i.length>0&&sm(j)}else Gt[0]!="stop"&&Gt[0]!="close"||wl(j,7);else j.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?wl(j,7):M0(j):Gt[0]!="noop"&&j.l&&j.l.qa(Gt),j.A=0)}}pt(4)}catch{}}var fr=class{constructor(p,T){this.g=p,this.map=T}};function Xr(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ut(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Lt(p){return p.h?1:p.g?p.g.size:0}function En(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function Tn(p,T){p.g?p.g.add(T):p.h=T}function un(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}Xr.prototype.cancel=function(){if(this.i=M(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function M(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const j of p.g.values())T=T.concat(j.G);return T}return m(p.i)}var $=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y(p,T){if(p){p=p.split("&");for(let j=0;j<p.length;j++){const D=p[j].indexOf("=");let H,X=null;D>=0?(H=p[j].substring(0,D),X=p[j].substring(D+1)):H=p[j],T(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function J(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;p instanceof J?(this.l=p.l,ie(this,p.j),this.o=p.o,this.g=p.g,ue(this,p.u),this.h=p.h,be(this,tm(p.i)),this.m=p.m):p&&(T=String(p).match($))?(this.l=!1,ie(this,T[1]||"",!0),this.o=Ze(T[2]||""),this.g=Ze(T[3]||"",!0),ue(this,T[4]),this.h=Ze(T[5]||"",!0),be(this,T[6]||"",!0),this.m=Ze(T[7]||"")):(this.l=!1,this.i=new Oi(null,this.l))}J.prototype.toString=function(){const p=[];var T=this.j;T&&p.push(xe(T,mt,!0),":");var j=this.g;return(j||T=="file")&&(p.push("//"),(T=this.o)&&p.push(xe(T,mt,!0),"@"),p.push(Lr(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&p.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&p.push("/"),p.push(xe(j,j.charAt(0)=="/"?In:Nn,!0))),(j=this.i.toString())&&p.push("?",j),(j=this.m)&&p.push("#",xe(j,ki)),p.join("")},J.prototype.resolve=function(p){const T=te(this);let j=!!p.j;j?ie(T,p.j):j=!!p.o,j?T.o=p.o:j=!!p.g,j?T.g=p.g:j=p.u!=null;var D=p.h;if(j)ue(T,p.u);else if(j=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var H=T.h.lastIndexOf("/");H!=-1&&(D=T.h.slice(0,H+1)+D)}if(H=D,H==".."||H==".")D="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){D=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let ye=0;ye<H.length;){const ut=H[ye++];ut=="."?D&&ye==H.length&&X.push(""):ut==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),D&&ye==H.length&&X.push("")):(X.push(ut),D=!0)}D=X.join("/")}else D=H}return j?T.h=D:j=p.i.toString()!=="",j?be(T,tm(p.i)):j=!!p.m,j&&(T.m=p.m),T};function te(p){return new J(p)}function ie(p,T,j){p.j=j?Ze(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function ue(p,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);p.u=T}else p.u=null}function be(p,T,j){T instanceof Oi?(p.i=T,nm(p.i,p.l)):(j||(T=xe(T,Zn)),p.i=new Oi(T,p.l))}function de(p,T,j){p.i.set(T,j)}function Te(p){return de(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ze(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function xe(p,T,j){return typeof p=="string"?(p=encodeURI(p).replace(T,it),j&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function it(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var mt=/[#\/\?@]/g,Nn=/[#\?:]/g,In=/[#\?]/g,Zn=/[#\?@]/g,ki=/#/g;function Oi(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function Ro(p){p.g||(p.g=new Map,p.h=0,p.i&&Y(p.i,function(T,j){p.add(decodeURIComponent(T.replace(/\+/g," ")),j)}))}t=Oi.prototype,t.add=function(p,T){Ro(this),this.i=null,p=oa(this,p);let j=this.g.get(p);return j||this.g.set(p,j=[]),j.push(T),this.h+=1,this};function Xd(p,T){Ro(p),T=oa(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function Qd(p,T){return Ro(p),T=oa(p,T),p.g.has(T)}t.forEach=function(p,T){Ro(this),this.g.forEach(function(j,D){j.forEach(function(H){p.call(T,H,D,this)},this)},this)};function Qt(p,T){Ro(p);let j=[];if(typeof T=="string")Qd(p,T)&&(j=j.concat(p.g.get(oa(p,T))));else for(p=Array.from(p.g.values()),T=0;T<p.length;T++)j=j.concat(p[T]);return j}t.set=function(p,T){return Ro(this),this.i=null,p=oa(this,p),Qd(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},t.get=function(p,T){return p?(p=Qt(this,p),p.length>0?String(p[0]):T):T};function Mo(p,T,j){Xd(p,T),j.length>0&&(p.i=null,p.g.set(oa(p,T),m(j)),p.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(let D=0;D<T.length;D++){var j=T[D];const H=Lr(j);j=Qt(this,j);for(let X=0;X<j.length;X++){let ye=H;j[X]!==""&&(ye+="="+Lr(j[X])),p.push(ye)}}return this.i=p.join("&")};function tm(p){const T=new Oi;return T.i=p.i,p.g&&(T.g=new Map(p.g),T.h=p.h),T}function oa(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function nm(p,T){T&&!p.j&&(Ro(p),p.i=null,p.g.forEach(function(j,D){const H=D.toLowerCase();D!=H&&(Xd(this,D),Mo(this,H,j))},p)),p.j=T}function rm(p,T){const j=new gn;if(s.Image){const D=new Image;D.onload=d(St,j,"TestLoadImage: loaded",!0,T,D),D.onerror=d(St,j,"TestLoadImage: error",!1,T,D),D.onabort=d(St,j,"TestLoadImage: abort",!1,T,D),D.ontimeout=d(St,j,"TestLoadImage: timeout",!1,T,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else T(!1)}function im(p,T){const j=new gn,D=new AbortController,H=setTimeout(()=>{D.abort(),St(j,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:D.signal}).then(X=>{clearTimeout(H),X.ok?St(j,"TestPingServer: ok",!0,T):St(j,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(H),St(j,"TestPingServer: error",!1,T)})}function St(p,T,j,D,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),D(j)}catch{}}function Dn(){this.g=new Un}function Ri(p){this.i=p.Sb||null,this.h=p.ab||!1}f(Ri,zn),Ri.prototype.g=function(){return new ui(this.i,this.h)};function ui(p,T){ve.call(this),this.H=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ui,ve),t=ui.prototype,t.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=T,this.readyState=1,zt(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(T.body=p),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Do(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Do(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?Er(this):zt(this),this.readyState==3&&Do(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Er(this))},t.Na=function(p){this.g&&(this.response=p,Er(this))},t.ga=function(){this.g&&Er(this)};function Er(p){p.readyState=4,p.l=null,p.j=null,p.B=null,zt(p)}t.setRequestHeader=function(p,T){this.A.append(p,T)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var j=T.next();!j.done;)j=j.value,p.push(j[0]+": "+j[1]),j=T.next();return p.join(`\r
`)};function zt(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function gt(p){let T="";return V(p,function(j,D){T+=D,T+=":",T+=j,T+=`\r
`}),T}function ot(p,T,j){e:{for(D in j){var D=!1;break e}D=!0}D||(j=gt(j),typeof p=="string"?j!=null&&Lr(j):de(p,T,j))}function jt(p){ve.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(jt,ve);var Tr=/^https?$/i,Fr=["POST","PUT"];t=jt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,T,j,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(X){Qr(this,X);return}if(p=j||"",j=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var H in D)j.set(H,D[H]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())j.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(j.keys()).find(X=>X.toLowerCase()=="content-type"),H=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(Fr,T,void 0)>=0)||D||H||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ye]of j)this.g.setRequestHeader(X,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(X){Qr(this,X)}};function Qr(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.o=5,Ac(p),vl(p)}function Ac(p){p.A||(p.A=!0,Ye(p,"complete"),Ye(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Ye(this,"complete"),Ye(this,"abort"),vl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vl(this,!0)),jt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?O0(this):this.Xa())},t.Xa=function(){O0(this)};function O0(p){if(p.h&&typeof o<"u"){if(p.v&&Jr(p)==4)setTimeout(p.Ca.bind(p),0);else if(Ye(p,"readystatechange"),Jr(p)==4){p.h=!1;try{const X=p.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var j;if(!(j=T)){var D;if(D=X===0){let ye=String(p.D).match($)[1]||null;!ye&&s.self&&s.self.location&&(ye=s.self.location.protocol.slice(0,-1)),D=!Tr.test(ye?ye.toLowerCase():"")}j=D}if(j)Ye(p,"complete"),Ye(p,"success");else{p.o=6;try{var H=Jr(p)>2?p.g.statusText:""}catch{H=""}p.l=H+" ["+p.ca()+"]",Ac(p)}}finally{vl(p)}}}}function vl(p,T){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const j=p.g;p.g=null,T||Ye(p,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Jr(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Jr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),Gr(T)}};function xl(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function R0(p){const T={};p=(p.g&&Jr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(R(p[D]))continue;var j=ia(p[D]);const H=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const X=T[H]||[];T[H]=X,X.push(j)}Z(T,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bl(p,T,j){return j&&j.internalChannelParams&&j.internalChannelParams[p]||T}function Jd(p){this.za=0,this.i=[],this.j=new gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bl("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bl("baseRetryDelayMs",5e3,p),this.Za=bl("retryDelaySeedMs",1e4,p),this.Ta=bl("forwardChannelMaxRetries",2,p),this.va=bl("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Xr(p&&p.concurrentRequestLimit),this.Ba=new Dn,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Jd.prototype,t.ka=8,t.I=1,t.connect=function(p,T,j,D){De(0),this.W=p,this.H=T||{},j&&D!==void 0&&(this.H.OSID=j,this.H.OAID=D),this.F=this.X,this.J=SA(this,null,this.W),sm(this)};function M0(p){if(mA(p),p.I==3){var T=p.V++,j=te(p.J);if(de(j,"SID",p.M),de(j,"RID",T),de(j,"TYPE","terminate"),Zd(p,j),T=new Kr(p,p.j,T),T.M=2,T.A=Te(te(j)),j=!1,s.navigator&&s.navigator.sendBeacon)try{j=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!j&&s.Image&&(new Image().src=T.A,j=!0),j||(T.g=EA(T.j,null),T.g.ea(T.A)),T.F=Date.now(),rt(T)}_A(p)}function om(p){p.g&&($0(p),p.g.cancel(),p.g=null)}function mA(p){om(p),p.v&&(s.clearTimeout(p.v),p.v=null),am(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function sm(p){if(!Ut(p.h)&&!p.m){p.m=!0;var T=p.Ea;E||P(),N||(E(),N=!0),S.add(T,p),p.D=0}}function LU(p,T){return Lt(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=T.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Mn(c(p.Ea,p,T),wA(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const H=new Kr(this,this.j,p);let X=this.o;if(this.U&&(X?(X=Q(X),ge(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)e:{for(var T=0,j=0;j<this.i.length;j++){t:{var D=this.i[j];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(T+=D,T>4096){T=j;break e}if(T===4096||j===this.i.length-1){T=j+1;break e}}T=1e3}else T=1e3;T=yA(this,H,T),j=te(this.J),de(j,"RID",p),de(j,"CVER",22),this.G&&de(j,"X-HTTP-Session-Id",this.G),Zd(this,j),X&&(this.R?T="headers="+Lr(gt(X))+"&"+T:this.u&&ot(j,this.u,X)),Tn(this.h,H),this.Ra&&de(j,"TYPE","init"),this.S?(de(j,"$req",T),de(j,"SID","null"),H.U=!0,ji(H,j,null)):ji(H,j,T),this.I=2}}else this.I==3&&(p?gA(this,p):this.i.length==0||Ut(this.h)||gA(this))};function gA(p,T){var j;T?j=T.l:j=p.V++;const D=te(p.J);de(D,"SID",p.M),de(D,"RID",j),de(D,"AID",p.K),Zd(p,D),p.u&&p.o&&ot(D,p.u,p.o),j=new Kr(p,p.j,j,p.D+1),p.u===null&&(j.J=p.o),T&&(p.i=T.G.concat(p.i)),T=yA(p,j,1e3),j.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Tn(p.h,j),ji(j,D,T)}function Zd(p,T){p.H&&V(p.H,function(j,D){de(T,D,j)}),p.l&&V({},function(j,D){de(T,D,j)})}function yA(p,T,j){j=Math.min(p.i.length,j);const D=p.l?c(p.l.Ka,p.l,p):null;e:{var H=p.i;let ut=-1;for(;;){const Wn=["count="+j];ut==-1?j>0?(ut=H[0].g,Wn.push("ofs="+ut)):ut=0:Wn.push("ofs="+ut);let Gt=!0;for(let er=0;er<j;er++){var X=H[er].g;const $o=H[er].map;if(X-=ut,X<0)ut=Math.max(0,H[er].g-100),Gt=!1;else try{X="req"+X+"_"||"";try{var ye=$o instanceof Map?$o:Object.entries($o);for(const[_l,sa]of ye){let aa=sa;a(sa)&&(aa=Xt(sa)),Wn.push(X+_l+"="+encodeURIComponent(aa))}}catch(_l){throw Wn.push(X+"type="+encodeURIComponent("_badmap")),_l}}catch{D&&D($o)}}if(Gt){ye=Wn.join("&");break e}}ye=void 0}return p=p.i.splice(0,j),T.G=p,ye}function vA(p){if(!p.g&&!p.v){p.Y=1;var T=p.Da;E||P(),N||(E(),N=!0),S.add(T,p),p.A=0}}function D0(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Mn(c(p.Da,p),wA(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,xA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Mn(c(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,De(10),om(this),xA(this))};function $0(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function xA(p){p.g=new Kr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var T=te(p.na);de(T,"RID","rpc"),de(T,"SID",p.M),de(T,"AID",p.K),de(T,"CI",p.F?"0":"1"),!p.F&&p.ia&&de(T,"TO",p.ia),de(T,"TYPE","xmlhttp"),Zd(p,T),p.u&&p.o&&ot(T,p.u,p.o),p.O&&(p.g.H=p.O);var j=p.g;p=p.ba,j.M=1,j.A=Te(te(T)),j.u=null,j.R=!0,q(j,p)}t.Va=function(){this.C!=null&&(this.C=null,om(this),D0(this),De(19))};function am(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function bA(p,T){var j=null;if(p.g==T){am(p),$0(p),p.g=null;var D=2}else if(En(p.h,T))j=T.G,un(p.h,T),D=1;else return;if(p.I!=0){if(T.o)if(D==1){j=T.u?T.u.length:0,T=Date.now()-T.F;var H=p.D;D=Ee(),Ye(D,new Qe(D,j)),sm(p)}else vA(p);else if(H=T.m,H==3||H==0&&T.X>0||!(D==1&&LU(p,T)||D==2&&D0(p)))switch(j&&j.length>0&&(T=p.h,T.i=T.i.concat(j)),H){case 1:wl(p,5);break;case 4:wl(p,10);break;case 3:wl(p,6);break;default:wl(p,2)}}}function wA(p,T){let j=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(j*=2),j*T}function wl(p,T){if(p.j.info("Error code "+T),T==2){var j=c(p.bb,p),D=p.Ua;const H=!D;D=new J(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||ie(D,"https"),Te(D),H?rm(D.toString(),j):im(D.toString(),j)}else De(2);p.I=0,p.l&&p.l.pa(T),_A(p),mA(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function _A(p){if(p.I=0,p.ja=[],p.l){const T=M(p.h);(T.length!=0||p.i.length!=0)&&(v(p.ja,T),v(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function SA(p,T,j){var D=j instanceof J?te(j):new J(j);if(D.g!="")T&&(D.g=T+"."+D.g),ue(D,D.u);else{var H=s.location;D=H.protocol,T=T?T+"."+H.hostname:H.hostname,H=+H.port;const X=new J(null);D&&ie(X,D),T&&(X.g=T),H&&ue(X,H),j&&(X.h=j),D=X}return j=p.G,T=p.wa,j&&T&&de(D,j,T),de(D,"VER",p.ka),Zd(p,D),D}function EA(p,T,j){if(T&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Aa&&!p.ma?new jt(new Ri({ab:j})):new jt(p.ma),T.Fa(p.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function TA(){}t=TA.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lm(){}lm.prototype.g=function(p,T){return new di(p,T)};function di(p,T){ve.call(this),this.g=new Jd(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(p?p["X-WebChannel-Client-Profile"]=T.sa:p={"X-WebChannel-Client-Profile":T.sa}),this.g.U=p,(p=T&&T.Qb)&&!R(p)&&(this.g.u=p),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!R(T)&&(this.g.G=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new Cc(this)}f(di,ve),di.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},di.prototype.close=function(){M0(this.g)},di.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var j={};j.__data__=p,p=j}else this.v&&(j={},j.__data__=Xt(p),p=j);T.i.push(new fr(T.Ya++,p)),T.I==3&&sm(T)},di.prototype.N=function(){this.g.l=null,delete this.j,M0(this.g),delete this.g,di.Z.N.call(this)};function PA(p){_r.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const j in T){p=j;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}f(PA,_r);function AA(){dr.call(this),this.status=1}f(AA,dr);function Cc(p){this.g=p}f(Cc,TA),Cc.prototype.ra=function(){Ye(this.g,"a")},Cc.prototype.qa=function(p){Ye(this.g,new PA(p))},Cc.prototype.pa=function(p){Ye(this.g,new AA)},Cc.prototype.oa=function(){Ye(this.g,"b")},lm.prototype.createWebChannel=lm.prototype.g,di.prototype.send=di.prototype.o,di.prototype.open=di.prototype.m,di.prototype.close=di.prototype.close,t4=function(){return new lm},e4=function(){return Ee()},ZL=G,I1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oo.NO_ERROR=0,Oo.TIMEOUT=8,Oo.HTTP_ERROR=6,Ig=Oo,gl.COMPLETE="complete",JL=gl,It.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Af=It,jt.prototype.listenOnce=jt.prototype.K,jt.prototype.getLastError=jt.prototype.Ha,jt.prototype.getLastErrorCode=jt.prototype.ya,jt.prototype.getStatus=jt.prototype.ca,jt.prototype.getResponseJson=jt.prototype.La,jt.prototype.getResponseText=jt.prototype.la,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Fa,QL=jt}).apply(typeof Mm<"u"?Mm:typeof self<"u"?self:typeof window<"u"?window:{});const GN="@firebase/firestore",KN="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new WE("@firebase/firestore");function $c(){return ac.logLevel}function Pe(t,...e){if(ac.logLevel<=xt.DEBUG){const n=e.map(rT);ac.debug(`Firestore (${jd}): ${t}`,...n)}}function Ws(t,...e){if(ac.logLevel<=xt.ERROR){const n=e.map(rT);ac.error(`Firestore (${jd}): ${t}`,...n)}}function qu(t,...e){if(ac.logLevel<=xt.WARN){const n=e.map(rT);ac.warn(`Firestore (${jd}): ${t}`,...n)}}function rT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,n4(t,r,n)}function n4(t,e,n){let r=`FIRESTORE (${jd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ws(r),new Error(r)}function Bt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||n4(e,i,r)}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kr.UNAUTHENTICATED))}shutdown(){}}class kX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OX{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Bt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ha,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ha)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string",31837,{l:r}),new r4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new kr(e)}}class RX{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new RX(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Bt(this.o===void 0,3512);const r=o=>{o.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new YN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$X(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function wt(t,e){return t<e?-1:t>e?1:0}function j1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Ab(i)===Ab(o)?wt(i,o):Ab(i)?1:-1}return wt(t.length,e.length)}const LX=55296,FX=57343;function Ab(t){const e=t.charCodeAt(0);return e>=LX&&e<=FX}function Gu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__name__";class Bo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Bo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return wt(e.length,n.length)}static compareSegments(e,n){const r=Bo.isNumericId(e),i=Bo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Bo.extractNumericId(e).compare(Bo.extractNumericId(n)):j1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wa.fromString(e.substring(4,e.length-2))}}class xn extends Bo{construct(e,n,r){return new xn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xn(n)}static emptyPath(){return new xn([])}}const VX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Bo{construct(e,n,r){return new gr(e,n,r)}static isValidIdentifier(e){return VX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XN}static keyField(){return new gr([XN])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Le(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Le(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Le(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Le(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(xn.fromString(e))}static fromName(e){return new ze(xn.fromString(e).popFirst(5))}static empty(){return new ze(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new xn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(t,e,n){if(!n)throw new Le(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UX(t,e,n,r){if(e===!0&&r===!0)throw new Le(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QN(t){if(!ze.isDocumentKey(t))throw new Le(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function oT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Ih(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oT(t);throw new Le(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lp(t,e){if(!i4(t))throw new Le(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Le(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=-62135596800,ZN=1e6;class an{static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ZN);return new an(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JN)throw new Le(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZN}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:an._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lp(e,an._jsonSchema))return new an(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}an._jsonSchemaVersion="firestore/timestamp/1.0",an._jsonSchema={type:Vn("string",an._jsonSchemaVersion),seconds:Vn("number"),nanoseconds:Vn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new an(0,0))}static max(){return new et(new an(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=-1;function zX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new an(n+1,0):new an(n,r));return new el(i,ze.empty(),e)}function WX(t){return new el(t.readTime,t.key,jh)}class el{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new el(et.min(),ze.empty(),jh)}static max(){return new el(et.max(),ze.empty(),jh)}}function HX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:wt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==qX)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new oe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function KX(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Od(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=-1;function wx(t){return t==null}function Ty(t){return t===0&&1/t==-1/0}function YX(t){return typeof t=="number"&&Number.isInteger(t)&&!Ty(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="";function XX(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eI(e)),e=QX(t.get(n),e);return eI(e)}function QX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case o4:n+="";break;default:n+=o}}return n}function eI(t){return t+o4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new _n(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new _n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dm(this.root,e,this.comparator,!0)}}class Dm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??mr.RED,this.left=i??mr.EMPTY,this.right=o??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new mr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new _n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nI(this.data.getIterator())}getIteratorFrom(e){return new nI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qn(this.comparator);return n.data=e,n}}class nI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new _o([])}unionWith(e){let n=new Qn(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _o(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new a4("Invalid base64 string: "+o):o}}(e);return new br(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const JX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tl(t){if(Bt(!!t,39018),typeof t=="string"){let e=0;const n=JX.exec(t);if(Bt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jn(t.seconds),nanos:jn(t.nanos)}}function jn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nl(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="server_timestamp",c4="__type__",u4="__previous_value__",d4="__local_write_time__";function aT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[c4])==null?void 0:r.stringValue)===l4}function _x(t){const e=t.mapValue.fields[u4];return aT(e)?_x(e):e}function kh(t){const e=tl(t.mapValue.fields[d4].timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(e,n,r,i,o,s,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Py="(default)";class Oh{constructor(e,n){this.projectId=e,this.database=n||Py}static empty(){return new Oh("","")}get isDefaultDatabase(){return this.database===Py}isEqual(e){return e instanceof Oh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="__type__",h4="__max__",$m={mapValue:{fields:{__type__:{stringValue:h4}}}},p4="__vector__",Ay="value";function rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aT(t)?4:tQ(t)?9007199254740991:eQ(t)?10:11:Ge(28295,{value:t})}function us(t,e){if(t===e)return!0;const n=rl(t);if(n!==rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kh(t).isEqual(kh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=tl(i.timestampValue),a=tl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return nl(i.bytesValue).isEqual(nl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return jn(i.geoPointValue.latitude)===jn(o.geoPointValue.latitude)&&jn(i.geoPointValue.longitude)===jn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return jn(i.integerValue)===jn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=jn(i.doubleValue),a=jn(o.doubleValue);return s===a?Ty(s)===Ty(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(tI(s)!==tI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!us(s[l],a[l])))return!1;return!0}(t,e);default:return Ge(52216,{left:t})}}function Rh(t,e){return(t.values||[]).find(n=>us(n,e))!==void 0}function Ku(t,e){if(t===e)return 0;const n=rl(t),r=rl(e);if(n!==r)return wt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=jn(o.integerValue||o.doubleValue),l=jn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return rI(t.timestampValue,e.timestampValue);case 4:return rI(kh(t),kh(e));case 5:return j1(t.stringValue,e.stringValue);case 6:return function(o,s){const a=nl(o),l=nl(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=wt(a[c],l[c]);if(d!==0)return d}return wt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=wt(jn(o.latitude),jn(s.latitude));return a!==0?a:wt(jn(o.longitude),jn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iI(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,m,v,g;const a=o.fields||{},l=s.fields||{},c=(h=a[Ay])==null?void 0:h.arrayValue,d=(m=l[Ay])==null?void 0:m.arrayValue,f=wt(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:iI(c,d)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===$m.mapValue&&s===$m.mapValue)return 0;if(o===$m.mapValue)return 1;if(s===$m.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=j1(l[f],d[f]);if(h!==0)return h;const m=Ku(a[l[f]],c[d[f]]);if(m!==0)return m}return wt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function rI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return wt(t,e);const n=tl(t),r=tl(e),i=wt(n.seconds,r.seconds);return i!==0?i:wt(n.nanos,r.nanos)}function iI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ku(n[i],r[i]);if(o)return o}return wt(n.length,r.length)}function Yu(t){return k1(t)}function k1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=tl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return nl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ze.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=k1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${k1(n.fields[s])}`;return i+"}"}(t.mapValue):Ge(61005,{value:t})}function jg(t){switch(rl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_x(t);return e?16+jg(e):16;case 5:return 2*t.stringValue.length;case 6:return nl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+jg(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return xc(r.fields,(o,s)=>{i+=o.length+jg(s)}),i}(t.mapValue);default:throw Ge(13486,{value:t})}}function O1(t){return!!t&&"integerValue"in t}function lT(t){return!!t&&"arrayValue"in t}function oI(t){return!!t&&"nullValue"in t}function sI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kg(t){return!!t&&"mapValue"in t}function eQ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[f4])==null?void 0:r.stringValue)===p4}function Gf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gf(t.arrayValue.values[n]);return e}return{...t}}function tQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.value=e}static empty(){return new Bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gf(n)}setAll(e){let n=gr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Gf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());kg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Bi(Gf(this.value))}}function m4(t){const e=[];return xc(t.fields,(n,r)=>{const i=new gr([n]);if(kg(r)){const o=m4(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new _o(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Rr(e,0,et.min(),et.min(),et.min(),Bi.empty(),0)}static newFoundDocument(e,n,r,i){return new Rr(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new Rr(e,2,n,et.min(),et.min(),Bi.empty(),0)}static newUnknownDocument(e,n){return new Rr(e,3,n,et.min(),et.min(),Bi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.position=e,this.inclusive=n}}function aI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ze.comparator(ze.fromName(s.referenceValue),n.key):r=Ku(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function lI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n="asc"){this.field=e,this.dir=n}}function nQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{}class Kn extends g4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iQ(e,n,r):n==="array-contains"?new aQ(e,r):n==="in"?new lQ(e,r):n==="not-in"?new cQ(e,r):n==="array-contains-any"?new uQ(e,r):new Kn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oQ(e,r):new sQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ku(n,this.value)):n!==null&&rl(this.value)===rl(n)&&this.matchesComparison(Ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends g4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ds(e,n)}matches(e){return y4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y4(t){return t.op==="and"}function v4(t){return rQ(t)&&y4(t)}function rQ(t){for(const e of t.filters)if(e instanceof ds)return!1;return!0}function R1(t){if(t instanceof Kn)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(v4(t))return t.filters.map(e=>R1(e)).join(",");{const e=t.filters.map(n=>R1(n)).join(",");return`${t.op}(${e})`}}function x4(t,e){return t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.field.isEqual(i.field)&&us(r.value,i.value)}(t,e):t instanceof ds?function(r,i){return i instanceof ds&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&x4(s,i.filters[a]),!0):!1}(t,e):void Ge(19439)}function b4(t){return t instanceof Kn?function(n){return`${n.field.canonicalString()} ${n.op} ${Yu(n.value)}`}(t):t instanceof ds?function(n){return n.op.toString()+" {"+n.getFilters().map(b4).join(" ,")+"}"}(t):"Filter"}class iQ extends Kn{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class oQ extends Kn{constructor(e,n){super(e,"in",n),this.keys=w4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sQ extends Kn{constructor(e,n){super(e,"not-in",n),this.keys=w4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function w4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ze.fromName(r.referenceValue))}class aQ extends Kn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lT(n)&&Rh(n.arrayValue,this.value)}}class lQ extends Kn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rh(this.value.arrayValue,n)}}class cQ extends Kn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Rh(this.value.arrayValue,n)}}class uQ extends Kn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function cI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new dQ(t,e,n,r,i,o,s)}function cT(t){const e=nt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>R1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),wx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yu(r)).join(",")),e.Te=n}return e.Te}function uT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!x4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lI(t.startAt,e.startAt)&&lI(t.endAt,e.endAt)}function M1(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fQ(t,e,n,r,i,o,s,a){return new Sx(t,e,n,r,i,o,s,a)}function dT(t){return new Sx(t)}function uI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hQ(t){return t.collectionGroup!==null}function Kf(t){const e=nt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qn(gr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ny(o,r))}),n.has(gr.keyField().canonicalString())||e.Ie.push(new Ny(gr.keyField(),r))}return e.Ie}function ns(t){const e=nt(t);return e.Ee||(e.Ee=pQ(e,Kf(t))),e.Ee}function pQ(t,e){if(t.limitType==="F")return cI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ny(i.field,o)});const n=t.endAt?new Cy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cy(t.startAt.position,t.startAt.inclusive):null;return cI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function D1(t,e,n){return new Sx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ex(t,e){return uT(ns(t),ns(e))&&t.limitType===e.limitType}function _4(t){return`${cT(ns(t))}|lt:${t.limitType}`}function Lc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>b4(i)).join(", ")}]`),wx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yu(i)).join(",")),`Target(${r})`}(ns(t))}; limitType=${t.limitType})`}function Tx(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ze.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Kf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=aI(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Kf(r),i)||r.endAt&&!function(s,a,l){const c=aI(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Kf(r),i))}(t,e)}function mQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S4(t){return(e,n)=>{let r=!1;for(const i of Kf(t)){const o=gQ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gQ(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Ku(l,c):Ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return s4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ=new _n(ze.comparator);function Hs(){return yQ}const E4=new _n(ze.comparator);function Cf(...t){let e=E4;for(const n of t)e=e.insert(n.key,n);return e}function T4(t){let e=E4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rl(){return Yf()}function P4(){return Yf()}function Yf(){return new bc(t=>t.toString(),(t,e)=>t.isEqual(e))}const vQ=new _n(ze.comparator),xQ=new Qn(ze.comparator);function _t(...t){let e=xQ;for(const n of t)e=e.add(n);return e}const bQ=new Qn(wt);function wQ(){return bQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ty(e)?"-0":e}}function A4(t){return{integerValue:""+t}}function _Q(t,e){return YX(e)?A4(e):fT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this._=void 0}}function SQ(t,e,n){return t instanceof Mh?function(i,o){const s={fields:{[c4]:{stringValue:l4},[d4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&aT(o)&&(o=_x(o)),o&&(s.fields[u4]=o),{mapValue:s}}(n,e):t instanceof Dh?N4(t,e):t instanceof $h?I4(t,e):function(i,o){const s=C4(i,o),a=dI(s)+dI(i.Ae);return O1(s)&&O1(i.Ae)?A4(a):fT(i.serializer,a)}(t,e)}function EQ(t,e,n){return t instanceof Dh?N4(t,e):t instanceof $h?I4(t,e):n}function C4(t,e){return t instanceof Iy?function(r){return O1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Mh extends Px{}class Dh extends Px{constructor(e){super(),this.elements=e}}function N4(t,e){const n=j4(e);for(const r of t.elements)n.some(i=>us(i,r))||n.push(r);return{arrayValue:{values:n}}}class $h extends Px{constructor(e){super(),this.elements=e}}function I4(t,e){let n=j4(e);for(const r of t.elements)n=n.filter(i=>!us(i,r));return{arrayValue:{values:n}}}class Iy extends Px{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dI(t){return jn(t.integerValue||t.doubleValue)}function j4(t){return lT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,n){this.field=e,this.transform=n}}function PQ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Dh&&i instanceof Dh||r instanceof $h&&i instanceof $h?Gu(r.elements,i.elements,us):r instanceof Iy&&i instanceof Iy?us(r.Ae,i.Ae):r instanceof Mh&&i instanceof Mh}(t.transform,e.transform)}class AQ{constructor(e,n){this.version=e,this.transformResults=n}}class ks{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ks}static exists(e){return new ks(void 0,e)}static updateTime(e){return new ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Og(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ax{}function k4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new R4(t.key,ks.none()):new Fp(t.key,t.data,ks.none());{const n=t.data,r=Bi.empty();let i=new Qn(gr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new wc(t.key,r,new _o(i.toArray()),ks.none())}}function CQ(t,e,n){t instanceof Fp?function(i,o,s){const a=i.value.clone(),l=hI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wc?function(i,o,s){if(!Og(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=hI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(O4(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Xf(t,e,n,r){return t instanceof Fp?function(o,s,a,l){if(!Og(o.precondition,s))return a;const c=o.value.clone(),d=pI(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof wc?function(o,s,a,l){if(!Og(o.precondition,s))return a;const c=pI(o.fieldTransforms,l,s),d=s.data;return d.setAll(O4(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Og(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function NQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=C4(r.transform,i||null);o!=null&&(n===null&&(n=Bi.empty()),n.set(r.field,o))}return n||null}function fI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gu(r,i,(o,s)=>PQ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fp extends Ax{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wc extends Ax{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function O4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hI(t,e,n){const r=new Map;Bt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,EQ(s,a,n[i]))}return r}function pI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,SQ(o,s,e))}return r}class R4 extends Ax{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IQ extends Ax{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&CQ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P4();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=k4(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_t())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,(n,r)=>fI(n,r))&&Gu(this.baseMutations,e.baseMutations,(n,r)=>fI(n,r))}}class hT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Bt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return vQ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new hT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kQ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,Tt;function RQ(t){switch(t){case le.OK:return Ge(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function M4(t){if(t===void 0)return Ws("GRPC error has no .code"),le.UNKNOWN;switch(t){case $n.OK:return le.OK;case $n.CANCELLED:return le.CANCELLED;case $n.UNKNOWN:return le.UNKNOWN;case $n.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case $n.INTERNAL:return le.INTERNAL;case $n.UNAVAILABLE:return le.UNAVAILABLE;case $n.UNAUTHENTICATED:return le.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case $n.NOT_FOUND:return le.NOT_FOUND;case $n.ALREADY_EXISTS:return le.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return le.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case $n.ABORTED:return le.ABORTED;case $n.OUT_OF_RANGE:return le.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return le.UNIMPLEMENTED;case $n.DATA_LOSS:return le.DATA_LOSS;default:return Ge(39323,{code:t})}}(Tt=$n||($n={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ=new Wa([4294967295,4294967295],0);function mI(t){const e=MQ().encode(t),n=new XL;return n.update(e),new Uint8Array(n.digest())}function gI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wa([n,r],0),new Wa([i,o],0)]}class pT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nf(`Invalid padding: ${n}`);if(r<0)throw new Nf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wa.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Wa.fromNumber(r)));return i.compare(DQ)===1&&(i=new Wa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mI(e),[r,i]=gI(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new pT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=mI(e),[r,i]=gI(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cx(et.min(),i,new _n(wt),Hs(),_t())}}class Vp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vp(r,n,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class D4{constructor(e,n){this.targetId=e,this.Ce=n}}class $4{constructor(e,n,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yI{constructor(){this.ve=0,this.Fe=vI(),this.Me=br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_t(),n=_t(),r=_t();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:o})}}),new Vp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=vI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $Q{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hs(),this.Je=Lm(),this.He=Lm(),this.Ye=new _n(wt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(M1(o))if(r===0){const s=new ze(o.path);this.et(n,s,Rr.newNoDocument(s,et.min()))}else Bt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=nl(r).toUint8Array()}catch(l){if(l instanceof a4)return qu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pT(s,i,o)}catch(l){return qu(l instanceof Nf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&M1(a.target)){const l=new ze(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Rr.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=_t();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Cx(e,n,this.Ye,this.je,r);return this.je=Hs(),this.Je=Lm(),this.He=Lm(),this.Ye=new _n(wt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qn(wt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qn(wt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lm(){return new _n(ze.comparator)}function vI(){return new _n(ze.comparator)}const LQ={asc:"ASCENDING",desc:"DESCENDING"},FQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VQ={and:"AND",or:"OR"};class BQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $1(t,e){return t.useProto3Json||wx(e)?e:{value:e}}function jy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UQ(t,e){return jy(t,e.toTimestamp())}function rs(t){return Bt(!!t,49232),et.fromTimestamp(function(n){const r=tl(n);return new an(r.seconds,r.nanos)}(t))}function mT(t,e){return L1(t,e).canonicalString()}function L1(t,e){const n=function(i){return new xn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function F4(t){const e=xn.fromString(t);return Bt(W4(e),10190,{key:e.toString()}),e}function F1(t,e){return mT(t.databaseId,e.path)}function Cb(t,e){const n=F4(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(B4(n))}function V4(t,e){return mT(t.databaseId,e)}function zQ(t){const e=F4(t);return e.length===4?xn.emptyPath():B4(e)}function V1(t){return new xn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function B4(t){return Bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xI(t,e,n){return{name:F1(t,e),fields:n.value.mapValue.fields}}function WQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ge(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Bt(d===void 0||typeof d=="string",58123),br.fromBase64String(d||"")):(Bt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),br.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?le.UNKNOWN:M4(c.code);return new Le(d,c.message||"")}(s);n=new $4(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cb(t,r.document.name),o=rs(r.document.updateTime),s=r.document.createTime?rs(r.document.createTime):et.min(),a=new Bi({mapValue:{fields:r.document.fields}}),l=Rr.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Rg(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cb(t,r.document),o=r.readTime?rs(r.readTime):et.min(),s=Rr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Rg([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cb(t,r.document),o=r.removedTargetIds||[];n=new Rg([],o,i,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new OQ(i,o),a=r.targetId;n=new D4(a,s)}}return n}function HQ(t,e){let n;if(e instanceof Fp)n={update:xI(t,e.key,e.value)};else if(e instanceof R4)n={delete:F1(t,e.key)};else if(e instanceof wc)n={update:xI(t,e.key,e.data),updateMask:eJ(e.fieldMask)};else{if(!(e instanceof IQ))return Ge(16599,{Vt:e.type});n={verify:F1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Mh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $h)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Iy)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw Ge(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:UQ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ge(27497)}(t,e.precondition)),n}function qQ(t,e){return t&&t.length>0?(Bt(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?rs(i.updateTime):rs(o);return s.isEqual(et.min())&&(s=rs(o)),new AQ(s,i.transformResults||[])}(n,e))):[]}function GQ(t,e){return{documents:[V4(t,e.path)]}}function KQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=V4(t,i);const o=function(c){if(c.length!==0)return z4(ds.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Fc(h.field),direction:QQ(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=$1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function YQ(t){let e=zQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=U4(f);return h instanceof ds&&v4(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new Ny(Vc(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,wx(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Cy(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new Cy(m,h)}(n.endAt)),fQ(e,i,s,o,a,"F",l,c)}function XQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vc(n.unaryFilter.field);return Kn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vc(n.unaryFilter.field);return Kn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vc(n.unaryFilter.field);return Kn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vc(n.unaryFilter.field);return Kn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return Kn.create(Vc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ds.create(n.compositeFilter.filters.map(r=>U4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(n.compositeFilter.op))}(t):Ge(30097,{filter:t})}function QQ(t){return LQ[t]}function JQ(t){return FQ[t]}function ZQ(t){return VQ[t]}function Fc(t){return{fieldPath:t.canonicalString()}}function Vc(t){return gr.fromServerFormat(t.fieldPath)}function z4(t){return t instanceof Kn?function(n){if(n.op==="=="){if(sI(n.value))return{unaryFilter:{field:Fc(n.field),op:"IS_NAN"}};if(oI(n.value))return{unaryFilter:{field:Fc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sI(n.value))return{unaryFilter:{field:Fc(n.field),op:"IS_NOT_NAN"}};if(oI(n.value))return{unaryFilter:{field:Fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fc(n.field),op:JQ(n.op),value:n.value}}}(t):t instanceof ds?function(n){const r=n.getFilters().map(i=>z4(i));return r.length===1?r[0]:{compositeFilter:{op:ZQ(n.op),filters:r}}}(t):Ge(54877,{filter:t})}function eJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function W4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,r,i,o=et.min(),s=et.min(),a=br.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(e){this.yt=e}}function nJ(t){const e=YQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?D1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(){this.Cn=new iJ}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(el.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(el.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class iJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qn(xn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qn(xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H4=41943040;class Zr{static withCacheSize(e){return new Zr(e,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr.DEFAULT_COLLECTION_PERCENTILE=10,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zr.DEFAULT=new Zr(H4,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zr.DISABLED=new Zr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xu(0)}static cr(){return new Xu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="LruGarbageCollector",oJ=1048576;function _I([t,e],[n,r]){const i=wt(t,n);return i===0?wt(e,r):i}class sJ{constructor(e){this.Ir=e,this.buffer=new Qn(_I),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_I(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Pe(wI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Od(n)?Pe(wI,"Ignoring IndexedDB error during garbage collection: ",n):await kd(n)}await this.Vr(3e5)})}}class lJ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(bx.ce);const r=new sJ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(bI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bI):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),$c()<=xt.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function cJ(t,e){return new lJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJ{constructor(){this.changes=new bc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xf(r.mutation,i,_o.empty(),an.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_t()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_t()){const i=Rl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Cf();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Rl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_t()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Hs();const s=Yf(),a=function(){return Yf()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof wc)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),Xf(d.mutation,c,d.mutation.getFieldMask(),an.now())):s.set(c.key,_o.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>a.set(c,new dJ(d,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Yf();let i=new _n((s,a)=>s-a),o=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||_o.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||_t()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=P4();d.forEach(h=>{if(!o.has(h)){const m=k4(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return oe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ze.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):oe.resolve(Rl());let a=jh,l=o;return s.next(c=>oe.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?oe.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,_t())).next(d=>({batchId:a,changes:T4(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next(r=>{let i=Cf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Cf();return this.indexManager.getCollectionParents(e,o).next(a=>oe.forEach(a,l=>{const c=function(f,h){return new Sx(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Rr.newInvalidDocument(d)))});let a=Cf();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&Xf(d.mutation,c,_o.empty(),an.now()),Tx(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rs(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:nJ(i.bundledQuery),readTime:rs(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(){this.overlays=new _n(ze.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rl();return oe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=Rl(),o=n.length+1,s=new ze(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new _n((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Rl(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Rl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return oe.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new kQ(n,r));let o=this.qr.get(n);o===void 0&&(o=_t(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.Qr=new Qn(nr.$r),this.Ur=new Qn(nr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new nr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ze(new xn([])),r=new nr(n,e),i=new nr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ze(new xn([])),r=new nr(n,e),i=new nr(n,e+1);let o=_t();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new nr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ze.comparator(e.key,n.key)||wt(e.Yr,n.Yr)}static Kr(e,n){return wt(e.Yr,n.Yr)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qn(nr.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new jQ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new nr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(s)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?sT:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nr(n,0),i=new nr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qn(wt);return n.forEach(i=>{const o=new nr(i,0),s=new nr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ze.isDocumentKey(o)||(o=o.child(""));const s=new nr(new ze(o),0);let a=new Qn(wt);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),oe.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Bt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,i=>{const o=new nr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new nr(n,0),i=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e){this.ri=e,this.docs=function(){return new _n(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():Rr.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Rr.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Hs();const s=n.path,a=new ze(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||HX(WX(d),r)<=0||(i.has(d.key)||Tx(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}ii(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vJ(this)}getSize(e){return oe.resolve(this.size)}}class vJ extends uJ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e){this.persistence=e,this.si=new bc(n=>cT(n),uT),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new gT,this.targetCount=0,this.ai=Xu.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(o).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n){this.ui={},this.overlays={},this.ci=new bx(0),this.li=!1,this.li=!0,this.hi=new mJ,this.referenceDelegate=e(this),this.Pi=new xJ(this),this.indexManager=new rJ,this.remoteDocumentCache=function(i){return new yJ(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new tJ(n),this.Ii=new hJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new gJ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new bJ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return oe.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class bJ extends GX{constructor(e){super(),this.currentSequenceNumber=e}}class yT{constructor(e){this.persistence=e,this.Ri=new gT,this.Vi=null}static mi(e){return new yT(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,r=>{const i=ze.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,et.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ky{constructor(e,n){this.persistence=e,this.pi=new bc(r=>XX(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cJ(this,n)}static mi(e,n){return new ky(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return oe.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?oe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,et.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jg(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=_t(),i=_t();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new vT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return dG()?8:KX($r())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new wJ;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?($c()<=xt.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Lc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):($c()<=xt.DEBUG&&Pe("QueryEngine","Query:",Lc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?($c()<=xt.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Lc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):oe.resolve())}ys(e,n){if(uI(n))return oe.resolve(null);let r=ns(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=D1(n,null,"F"),r=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=_t(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,D1(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return uI(n)||i.isEqual(et.min())?oe.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?oe.resolve(null):($c()<=xt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lc(n)),this.vs(e,s,n,zX(i,jh)).next(a=>a))})}Ds(e,n){let r=new Qn(S4(e));return n.forEach((i,o)=>{Tx(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return $c()<=xt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Lc(n)),this.ps.getDocumentsMatchingQuery(e,n,el.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="LocalStore",SJ=3e8;class EJ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new _n(wt),this.xs=new bc(o=>cT(o),uT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fJ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function TJ(t,e,n,r){return new EJ(t,e,n,r)}async function G4(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=_t();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function PJ(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let m=oe.resolve();return h.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(g=>{const x=c.docVersions.get(v);Bt(x!==null,48541),g.version.compareTo(x)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_t();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function K4(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function AJ(t,e){const n=nt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(br.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,x,w){return g.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=SJ?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(o,m))});let l=Hs(),c=_t();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(CJ(o,s,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(et.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return oe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function CJ(t,e,n){let r=_t(),i=_t();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Hs();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(et.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Pe(xT,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function NJ(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IJ(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,oe.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new ja(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function B1(t,e,n){const r=nt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Od(s))throw s;Pe(xT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function SI(t,e,n){const r=nt(t);let i=et.min(),o=_t();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const f=nt(l),h=f.xs.get(d);return h!==void 0?oe.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,d)}(r,s,ns(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:et.min(),n?o:_t())).next(a=>(jJ(r,mQ(e),a),{documents:a,Qs:o})))}function jJ(t,e,n){let r=t.Os.get(e)||et.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class EI{constructor(){this.activeTargetIds=wQ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kJ{constructor(){this.Mo=new EI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new EI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="ConnectivityMonitor";class PI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pe(TI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Pe(TI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fm=null;function U1(){return Fm===null?Fm=function(){return 268435456+Math.round(2147483648*Math.random())}():Fm++,"0x"+Fm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="RestConnection",RJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MJ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Py?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=U1(),a=this.zo(e,n.toUriEncodedString());Pe(Nb,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),d=Cd(c);return this.Jo(e,a,l,r,d).then(f=>(Pe(Nb,`Received RPC '${e}' ${s}: `,f),f),f=>{throw qu(Nb,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=RJ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="WebChannelConnection";class $J extends MJ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=U1();return new Promise((a,l)=>{const c=new QL;c.setWithCredentials(!0),c.listenOnce(JL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ig.NO_ERROR:const f=c.getResponseJson();Pe(Nr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ig.TIMEOUT:Pe(Nr,`RPC '${e}' ${s} timed out`),l(new Le(le.DEADLINE_EXCEEDED,"Request time out"));break;case Ig.HTTP_ERROR:const h=c.getStatus();if(Pe(Nr,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const g=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(_)>=0?_:le.UNKNOWN}(v.status);l(new Le(g,v.message))}else l(new Le(le.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Le(le.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Pe(Nr,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Pe(Nr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=U1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=t4(),a=e4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Pe(Nr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);this.I_(f);let h=!1,m=!1;const v=new DJ({Yo:x=>{m?Pe(Nr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(Pe(Nr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Pe(Nr,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Zo:()=>f.close()}),g=(x,w,_)=>{x.listen(w,b=>{try{_(b)}catch(C){setTimeout(()=>{throw C},0)}})};return g(f,Af.EventType.OPEN,()=>{m||(Pe(Nr,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),g(f,Af.EventType.CLOSE,()=>{m||(m=!0,Pe(Nr,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))}),g(f,Af.EventType.ERROR,x=>{m||(m=!0,qu(Nr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),v.a_(new Le(le.UNAVAILABLE,"The operation could not be completed")))}),g(f,Af.EventType.MESSAGE,x=>{var w;if(!m){const _=x.data[0];Bt(!!_,16349);const b=_,C=(b==null?void 0:b.error)||((w=b[0])==null?void 0:w.error);if(C){Pe(Nr,`RPC '${e}' stream ${i} received error:`,C);const E=C.status;let N=function(A){const k=$n[A];if(k!==void 0)return M4(k)}(E),S=C.message;N===void 0&&(N=le.INTERNAL,S="Unknown error status: "+E+" with message "+C.message),m=!0,v.a_(new Le(N,S)),f.close()}else Pe(Nr,`RPC '${e}' stream ${i} received:`,_),v.u_(_)}}),g(a,ZL.STAT_EVENT,x=>{x.stat===I1.PROXY?Pe(Nr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===I1.NOPROXY&&Pe(Nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ib(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){return new BQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="PersistentStream";class X4{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Ws(n.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Le(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Pe(AI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Pe(AI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LJ extends X4{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WQ(this.serializer,e),r=function(o){if(!("targetChange"in o))return et.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?et.min():s.readTime?rs(s.readTime):et.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=V1(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=M1(l)?{documents:GQ(o,l)}:{query:KQ(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=L4(o,s.resumeToken);const c=$1(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(et.min())>0){a.readTime=jy(o,s.snapshotVersion.toTimestamp());const c=$1(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=XQ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=V1(this.serializer),n.removeTarget=e,this.q_(n)}}class FJ extends X4{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qQ(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=V1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>HQ(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{}class BJ extends VJ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Le(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,L1(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(le.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,L1(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(le.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class UJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ws(n),this.aa=!1):Pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc="RemoteStore";class zJ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{_c(this)&&(Pe(lc,"Restarting streams for network reachability change."),await async function(l){const c=nt(l);c.Ea.add(4),await Bp(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Ix(c)}(this))})}),this.Ra=new UJ(r,i)}}async function Ix(t){if(_c(t))for(const e of t.da)await e(!0)}async function Bp(t){for(const e of t.da)await e(!1)}function Q4(t,e){const n=nt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ST(n)?_T(n):Rd(n).O_()&&wT(n,e))}function bT(t,e){const n=nt(t),r=Rd(n);n.Ia.delete(e),r.O_()&&J4(n,e),n.Ia.size===0&&(r.O_()?r.L_():_c(n)&&n.Ra.set("Unknown"))}function wT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rd(t).Y_(e)}function J4(t,e){t.Va.Ue(e),Rd(t).Z_(e)}function _T(t){t.Va=new $Q({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rd(t).start(),t.Ra.ua()}function ST(t){return _c(t)&&!Rd(t).x_()&&t.Ia.size>0}function _c(t){return nt(t).Ea.size===0}function Z4(t){t.Va=void 0}async function WJ(t){t.Ra.set("Online")}async function HJ(t){t.Ia.forEach((e,n)=>{wT(t,e)})}async function qJ(t,e){Z4(t),ST(t)?(t.Ra.ha(e),_T(t)):t.Ra.set("Unknown")}async function GJ(t,e,n){if(t.Ra.set("Online"),e instanceof $4&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Pe(lc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oy(t,r)}else if(e instanceof Rg?t.Va.Ze(e):e instanceof D4?t.Va.st(e):t.Va.tt(e),!n.isEqual(et.min()))try{const r=await K4(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.Ia.get(c);d&&o.Ia.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.Ia.get(l);if(!d)return;o.Ia.set(l,d.withResumeToken(br.EMPTY_BYTE_STRING,d.snapshotVersion)),J4(o,l);const f=new ja(d.target,l,c,d.sequenceNumber);wT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Pe(lc,"Failed to raise snapshot:",r),await Oy(t,r)}}async function Oy(t,e,n){if(!Od(e))throw e;t.Ea.add(1),await Bp(t),t.Ra.set("Offline"),n||(n=()=>K4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Pe(lc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ix(t)})}function e3(t,e){return e().catch(n=>Oy(t,n,e))}async function jx(t){const e=nt(t),n=il(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sT;for(;KJ(e);)try{const i=await NJ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,YJ(e,i)}catch(i){await Oy(e,i)}t3(e)&&n3(e)}function KJ(t){return _c(t)&&t.Ta.length<10}function YJ(t,e){t.Ta.push(e);const n=il(t);n.O_()&&n.X_&&n.ea(e.mutations)}function t3(t){return _c(t)&&!il(t).x_()&&t.Ta.length>0}function n3(t){il(t).start()}async function XJ(t){il(t).ra()}async function QJ(t){const e=il(t);for(const n of t.Ta)e.ea(n.mutations)}async function JJ(t,e,n){const r=t.Ta.shift(),i=hT.from(r,e,n);await e3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jx(t)}async function ZJ(t,e){e&&il(t).X_&&await async function(r,i){if(function(s){return RQ(s)&&s!==le.ABORTED}(i.code)){const o=r.Ta.shift();il(r).B_(),await e3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await jx(r)}}(t,e),t3(t)&&n3(t)}async function CI(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),Pe(lc,"RemoteStore received new credentials");const r=_c(n);n.Ea.add(3),await Bp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ix(n)}async function eZ(t,e){const n=nt(t);e?(n.Ea.delete(2),await Ix(n)):e||(n.Ea.add(2),await Bp(n),n.Ra.set("Unknown"))}function Rd(t){return t.ma||(t.ma=function(n,r,i){const o=nt(n);return o.sa(),new LJ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:WJ.bind(null,t),t_:HJ.bind(null,t),r_:qJ.bind(null,t),H_:GJ.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ST(t)?_T(t):t.Ra.set("Unknown")):(await t.ma.stop(),Z4(t))})),t.ma}function il(t){return t.fa||(t.fa=function(n,r,i){const o=nt(n);return o.sa(),new FJ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:XJ.bind(null,t),r_:ZJ.bind(null,t),ta:QJ.bind(null,t),na:JJ.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await jx(t)):(await t.fa.stop(),t.Ta.length>0&&(Pe(lc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ET(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function TT(t,e){if(Ws("AsyncQueue",`${e}: ${t}`),Od(t))return new Le(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{static emptySet(e){return new yu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=Cf(),this.sortedSet=new _n(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.ga=new _n(ze.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qu{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Qu(e,n,yu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ex(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class nZ{constructor(){this.queries=II(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=nt(n),o=i.queries;i.queries=II(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Le(le.ABORTED,"Firestore shutting down"))}}function II(){return new bc(t=>_4(t),Ex)}async function rZ(t,e){const n=nt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new tZ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=TT(s,`Initialization of query '${Lc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&PT(n)}async function iZ(t,e){const n=nt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oZ(t,e){const n=nt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&PT(n)}function sZ(t,e,n){const r=nt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function PT(t){t.Ca.forEach(e=>{e.next()})}var z1,jI;(jI=z1||(z1={})).Ma="default",jI.Cache="cache";class aZ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==z1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.key=e}}class i3{constructor(e){this.key=e}}class lZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_t(),this.mutatedKeys=_t(),this.eu=S4(e),this.tu=new yu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new NI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Tx(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;h&&m?h.data.isEqual(m.data)?v!==g&&(r.track({type:3,doc:m}),x=!0):this.su(h,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),x=!0):h&&!m&&(r.track({type:1,doc:h}),x=!0,(l||c)&&(a=!0)),x&&(m?(s=s.add(m),o=g?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,f)=>function(m,v){const g=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:x})}};return g(m)-g(v)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Qu(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_t(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new i3(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new r3(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=_t();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const AT="SyncEngine";class cZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uZ{constructor(e){this.key=e,this.hu=!1}}class dZ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new bc(a=>_4(a),Ex),this.Iu=new Map,this.Eu=new Set,this.du=new _n(ze.comparator),this.Au=new Map,this.Ru=new gT,this.Vu={},this.mu=new Map,this.fu=Xu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fZ(t,e,n=!0){const r=u3(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await o3(r,e,n,!0),i}async function hZ(t,e){const n=u3(t);await o3(n,e,!0,!1)}async function o3(t,e,n,r){const i=await IJ(t.localStore,ns(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await pZ(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Q4(t.remoteStore,i),a}async function pZ(t,e,n,r,i){t.pu=(f,h,m)=>async function(g,x,w,_){let b=x.view.ru(w);b.Cs&&(b=await SI(g.localStore,x.query,!1).then(({documents:S})=>x.view.ru(S,b)));const C=_&&_.targetChanges.get(x.targetId),E=_&&_.targetMismatches.get(x.targetId)!=null,N=x.view.applyChanges(b,g.isPrimaryClient,C,E);return OI(g,x.targetId,N.au),N.snapshot}(t,f,h,m);const o=await SI(t.localStore,e,!0),s=new lZ(e,o.Qs),a=s.ru(o.documents),l=Vp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);OI(t,n,c.au);const d=new cZ(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function mZ(t,e,n){const r=nt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Ex(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await B1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bT(r.remoteStore,i.targetId),W1(r,i.targetId)}).catch(kd)):(W1(r,i.targetId),await B1(r.localStore,i.targetId,!0))}async function gZ(t,e){const n=nt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bT(n.remoteStore,r.targetId))}async function yZ(t,e,n){const r=EZ(t);try{const i=await function(s,a){const l=nt(s),c=an.now(),d=a.reduce((m,v)=>m.add(v.key),_t());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Hs(),g=_t();return l.Ns.getEntries(m,d).next(x=>{v=x,v.forEach((w,_)=>{_.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(x=>{f=x;const w=[];for(const _ of a){const b=NQ(_,f.get(_.key).overlayedDocument);b!=null&&w.push(new wc(_.key,b,m4(b.value.mapValue),ks.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,a)}).next(x=>{h=x;const w=x.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,x.batchId,w)})}).then(()=>({batchId:h.batchId,changes:T4(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new _n(wt)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Up(r,i.changes),await jx(r.remoteStore)}catch(i){const o=TT(i,"Failed to persist write");n.reject(o)}}async function s3(t,e){const n=nt(t);try{const r=await AJ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Bt(s.hu,14607):i.removedDocuments.size>0&&(Bt(s.hu,42227),s.hu=!1))}),await Up(n,r,e)}catch(r){await kd(r)}}function kI(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=nt(s);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&PT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vZ(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new _n(ze.comparator);s=s.insert(o,Rr.newNoDocument(o,et.min()));const a=_t().add(o),l=new Cx(et.min(),new Map,new _n(wt),s,a);await s3(r,l),r.du=r.du.remove(o),r.Au.delete(e),CT(r)}else await B1(r.localStore,e,!1).then(()=>W1(r,e,n)).catch(kd)}async function xZ(t,e){const n=nt(t),r=e.batch.batchId;try{const i=await PJ(n.localStore,e);l3(n,r,null),a3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Up(n,i)}catch(i){await kd(i)}}async function bZ(t,e,n){const r=nt(t);try{const i=await function(s,a){const l=nt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Bt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);l3(r,e,n),a3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Up(r,i)}catch(i){await kd(i)}}function a3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function l3(t,e,n){const r=nt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function W1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||c3(t,r)})}function c3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),CT(t))}function OI(t,e,n){for(const r of n)r instanceof r3?(t.Ru.addReference(r.key,e),wZ(t,r)):r instanceof i3?(Pe(AT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||c3(t,r.key)):Ge(19791,{wu:r})}function wZ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Pe(AT,"New document in limbo: "+n),t.Eu.add(r),CT(t))}function CT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ze(xn.fromString(e)),r=t.fu.next();t.Au.set(r,new uZ(n)),t.du=t.du.insert(n,r),Q4(t.remoteStore,new ja(ns(dT(n.path)),r,"TargetPurposeLimboResolution",bx.ce))}}async function Up(t,e,n){const r=nt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=vT.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const d=nt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>oe.forEach(c,h=>oe.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>oe.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Od(f))throw f;Pe(xT,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(h,g)}}}(r.localStore,o))}async function _Z(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){Pe(AT,"User change. New user:",e.toKey());const r=await G4(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Le(le.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Up(n,r.Ls)}}function SZ(t,e){const n=nt(t),r=n.Au.get(e);if(r&&r.hu)return _t().add(r.key);{let i=_t();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function u3(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vZ.bind(null,e),e.Pu.H_=oZ.bind(null,e.eventManager),e.Pu.yu=sZ.bind(null,e.eventManager),e}function EZ(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bZ.bind(null,e),e}class Ry{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TJ(this.persistence,new _J,e.initialUser,this.serializer)}Cu(e){return new q4(yT.mi,this.serializer)}Du(e){return new kJ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ry.provider={build:()=>new Ry};class TZ extends Ry{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Bt(this.persistence.referenceDelegate instanceof ky,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aJ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Zr.withCacheSize(this.cacheSizeBytes):Zr.DEFAULT;return new q4(r=>ky.mi(r,n),this.serializer)}}class H1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_Z.bind(null,this.syncEngine),await eZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nZ}()}createDatastore(e){const n=Nx(e.databaseInfo.databaseId),r=function(o){return new $J(o)}(e.databaseInfo);return function(o,s,a,l){return new BJ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new zJ(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>kI(this.syncEngine,n,0),function(){return PI.v()?new PI:new OJ}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const f=new dZ(i,o,s,a,l,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=nt(i);Pe(lc,"RemoteStore shutting down."),o.Ea.add(5),await Bp(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}H1.provider={build:()=>new H1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="FirestoreClient";class AZ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=iT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Pe(ol,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Pe(ol,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=TT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jb(t,e){t.asyncQueue.verifyOperationInProgress(),Pe(ol,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await G4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CZ(t);Pe(ol,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CI(e.remoteStore,i)),t._onlineComponents=e}async function CZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe(ol,"Using user provided OfflineComponentProvider");try{await jb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;qu("Error using user provided cache. Falling back to memory cache: "+n),await jb(t,new Ry)}}else Pe(ol,"Using default OfflineComponentProvider"),await jb(t,new TZ(void 0));return t._offlineComponents}async function d3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe(ol,"Using user provided OnlineComponentProvider"),await RI(t,t._uninitializedComponentsProvider._online)):(Pe(ol,"Using default OnlineComponentProvider"),await RI(t,new H1))),t._onlineComponents}function NZ(t){return d3(t).then(e=>e.syncEngine)}async function IZ(t){const e=await d3(t),n=e.eventManager;return n.onListen=fZ.bind(null,e.syncEngine),n.onUnlisten=mZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gZ.bind(null,e.syncEngine),n}function jZ(t,e,n={}){const r=new Ha;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new PZ({next:h=>{d.Nu(),s.enqueueAndForget(()=>iZ(o,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new Le(le.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new Le(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new aZ(dT(a.path),d,{includeMetadataChanges:!0,qa:!0});return rZ(o,f)}(await IZ(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="firestore.googleapis.com",DI=!0;class $I{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Le(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h3,this.ssl=DI}else this.host=e.host,this.ssl=e.ssl??DI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oJ)throw new Le(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f3(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Le(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Le(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Le(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class NT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $I({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $I(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jX;switch(r.type){case"firstParty":return new MX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=MI.get(n);r&&(Pe("ComponentProvider","Removing Datastore"),MI.delete(n),r.terminate())}(this),Promise.resolve()}}function kZ(t,e,n,r={}){var c;t=Ih(t,NT);const i=Cd(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(dL(`https://${a}`),fL("Firestore",!0)),o.host!==h3&&o.host!==a&&qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ic(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=kr.MOCK_USER;else{d=nG(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Le(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new kr(h)}t._authCredentials=new kX(new r4(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new IT(this.firestore,e,this._query)}}class sr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}toJSON(){return{type:sr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lp(n,sr._jsonSchema))return new sr(e,r||null,new ze(xn.fromString(n.referencePath)))}}sr._jsonSchemaVersion="firestore/documentReference/1.0",sr._jsonSchema={type:Vn("string",sr._jsonSchemaVersion),referencePath:Vn("string")};class Lh extends IT{constructor(e,n,r){super(e,n,dT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new ze(e))}withConverter(e){return new Lh(this.firestore,e,this._path)}}function p3(t,e,...n){if(t=Ji(t),arguments.length===1&&(e=iT.newId()),BX("doc","path",e),t instanceof NT){const r=xn.fromString(e,...n);return QN(r),new sr(t,null,new ze(r))}{if(!(t instanceof sr||t instanceof Lh))throw new Le(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xn.fromString(e,...n));return QN(r),new sr(t.firestore,t instanceof Lh?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="AsyncQueue";class FI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y4(this,"async_queue_retry"),this._c=()=>{const r=Ib();r&&Pe(LI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ib();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ib();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ha;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Od(e))throw e;Pe(LI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ws("INTERNAL UNHANDLED ERROR: ",VI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=ET.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:VI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class jT extends NT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FI(e),this._firestoreClient=void 0,await e}}}function OZ(t,e){const n=typeof t=="object"?t:gL(),r=typeof t=="string"?t:Py,i=qE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=eG("firestore");o&&kZ(i,...o)}return i}function m3(t){if(t._terminated)throw new Le(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RZ(t),t._firestoreClient}function RZ(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,d){return new ZX(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,f3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(br.fromBase64String(e))}catch(n){throw new Le(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lp(e,Ui._jsonSchema))return Ui.fromBase64String(e.bytes)}}Ui._jsonSchemaVersion="firestore/bytes/1.0",Ui._jsonSchema={type:Vn("string",Ui._jsonSchemaVersion),bytes:Vn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(e){if(Lp(e,is._jsonSchema))return new is(e.latitude,e.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:Vn("string",is._jsonSchemaVersion),latitude:Vn("number"),longitude:Vn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lp(e,os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new os(e.vectorValues);throw new Le(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:Vn("string",os._jsonSchemaVersion),vectorValues:Vn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ=/^__.*__$/;class DZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fp(e,this.data,n,this.fieldTransforms)}}function g3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class RT{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new RT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return My(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(g3(this.Ac)&&MZ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $Z{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nx(e)}Cc(e,n,r,i=!1){return new RT({Ac:e,methodName:n,Dc:r,path:gr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LZ(t){const e=t._freezeSettings(),n=Nx(t._databaseId);return new $Z(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FZ(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);b3("Data must be an object, but it was:",s,r);const a=v3(r,s);let l,c;if(o.merge)l=new _o(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=VZ(e,f,n);if(!s.contains(h))throw new Le(le.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);UZ(d,h)||d.push(h)}l=new _o(d),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new DZ(new Bi(a),l,c)}class MT extends OT{_toFieldTransform(e){return new TQ(e.path,new Mh)}isEqual(e){return e instanceof MT}}function y3(t,e){if(x3(t=Ji(t)))return b3("Unsupported field value:",e,t),v3(t,e);if(t instanceof OT)return function(r,i){if(!g3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=y3(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ji(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _Q(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=an.fromDate(r);return{timestampValue:jy(i.serializer,o)}}if(r instanceof an){const o=new an(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jy(i.serializer,o)}}if(r instanceof is)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ui)return{bytesValue:L4(i.serializer,r._byteString)};if(r instanceof sr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof os)return function(s,a){return{mapValue:{fields:{[f4]:{stringValue:p4},[Ay]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return fT(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${oT(r)}`)}(t,e)}function v3(t,e){const n={};return s4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xc(t,(r,i)=>{const o=y3(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function x3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof an||t instanceof is||t instanceof Ui||t instanceof sr||t instanceof OT||t instanceof os)}function b3(t,e,n){if(!x3(n)||!i4(n)){const r=oT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function VZ(t,e,n){if((e=Ji(e))instanceof kT)return e._internalPath;if(typeof e=="string")return w3(t,e);throw My("Field path arguments must be of type string or ",t,!1,void 0,n)}const BZ=new RegExp("[~\\*/\\[\\]]");function w3(t,e,n){if(e.search(BZ)>=0)throw My(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kT(...e.split("."))._internalPath}catch{throw My(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function My(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Le(le.INVALID_ARGUMENT,a+t+l)}function UZ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(S3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zZ extends _3{data(){return super.data()}}function S3(t,e){return typeof e=="string"?w3(t,e):e instanceof kT?e._internalPath:e._delegate._internalPath}class WZ{convertValue(e,n="none"){switch(rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Ay].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>jn(s.doubleValue));return new os(n)}convertGeoPoint(e){return new is(jn(e.latitude),jn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_x(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const n=tl(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xn.fromString(e);Bt(W4(r),9688,{name:e});const i=new Oh(r.get(1),r.get(3)),o=new ze(r.popFirst(5));return i.isEqual(n)||Ws(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class If{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends _3{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(S3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ql._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",ql._jsonSchema={type:Vn("string",ql._jsonSchemaVersion),bundleSource:Vn("string","DocumentSnapshot"),bundleName:Vn("string"),bundle:Vn("string")};class Mg extends ql{data(e={}){return super.data(e)}}class Qf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new If(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mg(this._firestore,this._userDataWriter,r.key,r,new If(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Mg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new If(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Mg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new If(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:qZ(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GZ(t){t=Ih(t,sr);const e=Ih(t.firestore,jT);return jZ(m3(e),t._key).then(n=>QZ(e,t,n))}Qf._jsonSchemaVersion="firestore/querySnapshot/1.0",Qf._jsonSchema={type:Vn("string",Qf._jsonSchemaVersion),bundleSource:Vn("string","QuerySnapshot"),bundleName:Vn("string"),bundle:Vn("string")};class KZ extends WZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,n)}}function YZ(t,e,n){t=Ih(t,sr);const r=Ih(t.firestore,jT),i=HZ(t.converter,e,n);return XZ(r,[FZ(LZ(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ks.none())])}function XZ(t,e){return function(r,i){const o=new Ha;return r.asyncQueue.enqueueAndForget(async()=>yZ(await NZ(r),i,o)),o.promise}(m3(t),e)}function QZ(t,e,n){const r=n.docs.get(e._key),i=new KZ(t);return new ql(t,i,e._key,r,new If(n.hasPendingWrites,n.fromCache),e.converter)}function JZ(){return new MT("serverTimestamp")}(function(e,n=!0){(function(i){jd=i})(Nd),Wu(new oc("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new jT(new OX(r.getProvider("auth-internal")),new DX(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Le(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(c.options.projectId,d)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),za(GN,KN,e),za(GN,KN,"esm2020")})();const ZZ={apiKey:"AIzaSyA3jeqtK7sD7WGDSiGTW0sZO4CxwYimkNc",authDomain:"cuemastersuite.firebaseapp.com",projectId:"cuemastersuite",storageBucket:"cuemastersuite.firebasestorage.app",messagingSenderId:"565840195638",appId:"1:565840195638:web:1aa5acd2440bd998ffa897",measurementId:"G-0WVC9LP6WX"},E3=mL(ZZ),kx=NX(E3),T3=OZ(E3),eee=new Es,tee=new Ss;async function nee(){try{return(await KL(kx,eee)).user}catch(t){return console.error("Google sign-in error:",t),null}}async function ree(){try{return(await KL(kx,tee)).user}catch(t){return console.error("Facebook sign-in error:",t),null}}async function iee(){try{await xY(kx)}catch(t){console.error("Sign-out error:",t)}}function oee(t){return vY(kx,t)}async function BI(t){try{const e=await GZ(p3(T3,"users",t));if(e.exists()){const n=e.data();return{isPro:(n==null?void 0:n.isPro)===!0,promoCode:(n==null?void 0:n.promoCode)||null}}return{isPro:!1,promoCode:null}}catch(e){return console.error("Error fetching Pro status:",e),{isPro:!1,promoCode:null}}}async function see(t,e,n){try{return await YZ(p3(T3,"users",t),{isPro:e,promoCode:n||null,updatedAt:JZ()},{merge:!0}),!0}catch(r){return console.error("Error setting Pro status:",r),!1}}const P3=y.createContext(null);function zp(){const t=y.useContext(P3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function aee(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[i,o]=y.useState(null),[s,a]=y.useState(!0),l=async()=>{if(t){const m=await BI(t.uid);r(m.isPro),o(m.promoCode)}else{const m=localStorage.getItem("cuemaster_pro_unlocked")==="true",v=localStorage.getItem("cuemaster_promo_code");r(m),o(v)}};return y.useEffect(()=>{const m=oee(async v=>{if(e(v),v){const g=await BI(v.uid);r(g.isPro),o(g.promoCode)}else{const g=localStorage.getItem("cuemaster_pro_unlocked")==="true",x=localStorage.getItem("cuemaster_promo_code");r(g),o(x)}a(!1)});return()=>m()},[]),{user:t,isPro:n,promoCode:i,isLoading:s,signInWithGoogle:async()=>{a(!0),await nee(),a(!1)},signInWithFacebook:async()=>{a(!0),await ree(),a(!1)},signOut:async()=>{await iee(),r(!1)},refreshProStatus:l,unlockPro:async m=>{if(t){const v=await see(t.uid,!0,m);return v&&(r(!0),o(m||null)),v}else return localStorage.setItem("cuemaster_pro_unlocked","true"),m&&localStorage.setItem("cuemaster_promo_code",m),r(!0),o(m||null),!0}}}function lee({children:t}){const e=aee();return u.jsx(P3.Provider,{value:e,children:t})}const Ue=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:st("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Ue.displayName="Card";const cee=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:st("flex flex-col space-y-1.5 p-6",t),...e}));cee.displayName="CardHeader";const uee=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:st("text-2xl font-semibold leading-none tracking-tight",t),...e}));uee.displayName="CardTitle";const dee=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:st("text-sm text-muted-foreground",t),...e}));dee.displayName="CardDescription";const A3=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:st("p-6 pt-0",t),...e}));A3.displayName="CardContent";const fee=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:st("flex items-center p-6 pt-0",t),...e}));fee.displayName="CardFooter";function Vm({icon:t,title:e,subtitle:n,description:r,onClick:i,testId:o,disabled:s=!1}){return u.jsx(Ue,{className:`p-6 ${s?"border border-dashed border-muted-foreground/40 bg-muted/30 cursor-not-allowed opacity-70":"cursor-pointer hover-elevate active-elevate-2 border-l-4 border-l-primary"}`,onClick:s?void 0:i,"data-testid":o,children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${s?"bg-muted/50":"bg-primary/10"}`,children:t}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider mb-0.5 ${s?"text-muted-foreground/60":"text-primary"}`,children:n}),u.jsx("h3",{className:`text-xl font-bold mb-1 ${s?"text-muted-foreground":"text-foreground"}`,children:e}),u.jsx("p",{className:`text-sm ${s?"text-muted-foreground/70":"text-muted-foreground"}`,children:r}),s&&u.jsx("p",{className:"text-xs font-medium text-primary/70 mt-3 uppercase tracking-wider",children:"Coming Soon"})]})]})})}function hee(){const[t,e]=y.useState(null),{toast:n}=Ed(),r="0.9.7.1",i=()=>{const s=setTimeout(()=>{navigator.clipboard.writeText(r),n({title:"Version copied",description:`v${r} copied to clipboard`,duration:2e3})},500);e(s)},o=()=>{t&&(clearTimeout(t),e(null))};return u.jsxs("span",{className:"text-xs text-muted-foreground select-none cursor-pointer hover-elevate active-elevate-2 px-2 py-1 rounded-md",onMouseDown:i,onMouseUp:o,onMouseLeave:o,onTouchStart:i,onTouchEnd:o,"data-testid":"text-version",children:["v",r]})}var kb="focusScope.autoFocusOnMount",Ob="focusScope.autoFocusOnUnmount",UI={bubbles:!1,cancelable:!0},pee="FocusScope",DT=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=y.useState(null),c=On(i),d=On(o),f=y.useRef(null),h=ft(e,g=>l(g)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(b){if(m.paused||!a)return;const C=b.target;a.contains(C)?f.current=C:ha(f.current,{select:!0})},x=function(b){if(m.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||ha(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&ha(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const _=new MutationObserver(w);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),_.disconnect()}}},[r,a,m.paused]),y.useEffect(()=>{if(a){WI.add(m);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(kb,UI);a.addEventListener(kb,c),a.dispatchEvent(w),w.defaultPrevented||(mee(bee(C3(a)),{select:!0}),document.activeElement===g&&ha(a))}return()=>{a.removeEventListener(kb,c),setTimeout(()=>{const w=new CustomEvent(Ob,UI);a.addEventListener(Ob,d),a.dispatchEvent(w),w.defaultPrevented||ha(g??document.body,{select:!0}),a.removeEventListener(Ob,d),WI.remove(m)},0)}}},[a,c,d,m]);const v=y.useCallback(g=>{if(!n&&!r||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(x&&w){const _=g.currentTarget,[b,C]=gee(_);b&&C?!g.shiftKey&&w===C?(g.preventDefault(),n&&ha(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),n&&ha(C,{select:!0})):w===_&&g.preventDefault()}},[n,r,m.paused]);return u.jsx(Fe.div,{tabIndex:-1,...s,ref:h,onKeyDown:v})});DT.displayName=pee;function mee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ha(r,{select:e}),document.activeElement!==n)return}function gee(t){const e=C3(t),n=zI(e,t),r=zI(e.reverse(),t);return[n,r]}function C3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zI(t,e){for(const n of t)if(!yee(n,{upTo:e}))return n}function yee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vee(t){return t instanceof HTMLInputElement&&"select"in t}function ha(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&vee(t)&&e&&t.select()}}var WI=xee();function xee(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=HI(t,e),t.unshift(e)},remove(e){var n;t=HI(t,e),(n=t[0])==null||n.resume()}}}function HI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function bee(t){return t.filter(e=>e.tagName!=="A")}var Rb=0;function N3(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??qI()),document.body.insertAdjacentElement("beforeend",t[1]??qI()),Rb++,()=>{Rb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rb--}},[])}function qI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ko=function(){return Ko=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ko.apply(this,arguments)};function I3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wee(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Dg="right-scroll-bar-position",$g="width-before-scroll-bar",_ee="with-scroll-bars-hidden",See="--removed-body-scroll-bar-size";function Mb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Eee(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Tee=typeof window<"u"?y.useLayoutEffect:y.useEffect,GI=new WeakMap;function Pee(t,e){var n=Eee(null,function(r){return t.forEach(function(i){return Mb(i,r)})});return Tee(function(){var r=GI.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Mb(a,null)}),o.forEach(function(a){i.has(a)||Mb(a,s)})}GI.set(n,t)},[t]),n}function Aee(t){return t}function Cee(t,e){e===void 0&&(e=Aee);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function Nee(t){t===void 0&&(t={});var e=Cee(null);return e.options=Ko({async:!0,ssr:!1},t),e}var j3=function(t){var e=t.sideCar,n=I3(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Ko({},n))};j3.isSideCarExport=!0;function Iee(t,e){return t.useMedium(e),j3}var k3=Nee(),Db=function(){},Ox=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Db,onWheelCapture:Db,onTouchMoveCapture:Db}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,v=t.inert,g=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,_=t.gapMode,b=I3(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=Pee([n,e]),N=Ko(Ko({},b),i);return y.createElement(y.Fragment,null,d&&y.createElement(C,{sideCar:k3,removeScrollBar:c,shards:f,noIsolation:m,inert:v,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:_}),s?y.cloneElement(y.Children.only(a),Ko(Ko({},N),{ref:E})):y.createElement(w,Ko({},N,{className:l,ref:E}),a))});Ox.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ox.classNames={fullWidth:$g,zeroRight:Dg};var jee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=jee();return e&&t.setAttribute("nonce",e),t}function Oee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ree(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Mee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=kee())&&(Oee(e,n),Ree(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Dee=function(){var t=Mee();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},O3=function(){var t=Dee(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},$ee={left:0,top:0,right:0,gap:0},$b=function(t){return parseInt(t||"",10)||0},Lee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[$b(n),$b(r),$b(i)]},Fee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $ee;var e=Lee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Vee=O3(),vu="data-scroll-locked",Bee=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_ee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(vu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($g,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dg," .").concat(Dg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($g," .").concat($g,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vu,`] {
    `).concat(See,": ").concat(a,`px;
  }
`)},KI=function(){var t=parseInt(document.body.getAttribute(vu)||"0",10);return isFinite(t)?t:0},Uee=function(){y.useEffect(function(){return document.body.setAttribute(vu,(KI()+1).toString()),function(){var t=KI()-1;t<=0?document.body.removeAttribute(vu):document.body.setAttribute(vu,t.toString())}},[])},zee=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Uee();var o=y.useMemo(function(){return Fee(i)},[i]);return y.createElement(Vee,{styles:Bee(o,!e,i,n?"":"!important")})},q1=!1;if(typeof window<"u")try{var Bm=Object.defineProperty({},"passive",{get:function(){return q1=!0,!0}});window.addEventListener("test",Bm,Bm),window.removeEventListener("test",Bm,Bm)}catch{q1=!1}var Ic=q1?{passive:!1}:!1,Wee=function(t){return t.tagName==="TEXTAREA"},R3=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Wee(t)&&n[e]==="visible")},Hee=function(t){return R3(t,"overflowY")},qee=function(t){return R3(t,"overflowX")},YI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=M3(t,r);if(i){var o=D3(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Gee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Kee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},M3=function(t,e){return t==="v"?Hee(e):qee(e)},D3=function(t,e){return t==="v"?Gee(e):Kee(e)},Yee=function(t,e){return t==="h"&&e==="rtl"?-1:1},Xee=function(t,e,n,r,i){var o=Yee(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,d=s>0,f=0,h=0;do{var m=D3(t,a),v=m[0],g=m[1],x=m[2],w=g-x-o*v;(v||w)&&M3(t,a)&&(f+=w,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Um=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},XI=function(t){return[t.deltaX,t.deltaY]},QI=function(t){return t&&"current"in t?t.current:t},Qee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Jee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Zee=0,jc=[];function ete(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(Zee++)[0],o=y.useState(O3)[0],s=y.useRef(t);y.useEffect(function(){s.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=wee([t.lockRef.current],(t.shards||[]).map(QI),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var w=Um(g),_=n.current,b="deltaX"in g?g.deltaX:_[0]-w[0],C="deltaY"in g?g.deltaY:_[1]-w[1],E,N=g.target,S=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in g&&S==="h"&&N.type==="range")return!1;var P=YI(S,N);if(!P)return!0;if(P?E=S:(E=S==="v"?"h":"v",P=YI(S,N)),!P)return!1;if(!r.current&&"changedTouches"in g&&(b||C)&&(r.current=E),!E)return!0;var A=r.current||E;return Xee(A,x,g,A==="h"?b:C,!0)},[]),l=y.useCallback(function(g){var x=g;if(!(!jc.length||jc[jc.length-1]!==o)){var w="deltaY"in x?XI(x):Um(x),_=e.current.filter(function(E){return E.name===x.type&&(E.target===x.target||x.target===E.shadowParent)&&Qee(E.delta,w)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var b=(s.current.shards||[]).map(QI).filter(Boolean).filter(function(E){return E.contains(x.target)}),C=b.length>0?a(x,b[0]):!s.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=y.useCallback(function(g,x,w,_){var b={name:g,delta:x,target:w,should:_,shadowParent:tte(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(C){return C!==b})},1)},[]),d=y.useCallback(function(g){n.current=Um(g),r.current=void 0},[]),f=y.useCallback(function(g){c(g.type,XI(g),g.target,a(g,t.lockRef.current))},[]),h=y.useCallback(function(g){c(g.type,Um(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return jc.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ic),document.addEventListener("touchmove",l,Ic),document.addEventListener("touchstart",d,Ic),function(){jc=jc.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Ic),document.removeEventListener("touchmove",l,Ic),document.removeEventListener("touchstart",d,Ic)}},[]);var m=t.removeScrollBar,v=t.inert;return y.createElement(y.Fragment,null,v?y.createElement(o,{styles:Jee(i)}):null,m?y.createElement(zee,{gapMode:t.gapMode}):null)}function tte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const nte=Iee(k3,ete);var $T=y.forwardRef(function(t,e){return y.createElement(Ox,Ko({},t,{ref:e,sideCar:nte}))});$T.classNames=Ox.classNames;var rte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},kc=new WeakMap,zm=new WeakMap,Wm={},Lb=0,$3=function(t){return t&&(t.host||$3(t.parentNode))},ite=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$3(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ote=function(t,e,n,r){var i=ite(e,Array.isArray(t)?t:[t]);Wm[n]||(Wm[n]=new WeakMap);var o=Wm[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",g=(kc.get(h)||0)+1,x=(o.get(h)||0)+1;kc.set(h,g),o.set(h,x),s.push(h),g===1&&v&&zm.set(h,!0),x===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),a.clear(),Lb++,function(){s.forEach(function(f){var h=kc.get(f)-1,m=o.get(f)-1;kc.set(f,h),o.set(f,m),h||(zm.has(f)||f.removeAttribute(r),zm.delete(f)),m||f.removeAttribute(n)}),Lb--,Lb||(kc=new WeakMap,kc=new WeakMap,zm=new WeakMap,Wm={})}},L3=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=rte(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ote(r,i,n,"aria-hidden")):function(){return null}},LT="Dialog",[F3,CNe]=Ni(LT),[ste,jo]=F3(LT),V3=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=y.useRef(null),l=y.useRef(null),[c=!1,d]=Co({prop:r,defaultProp:i,onChange:o});return u.jsx(ste,{scope:e,triggerRef:a,contentRef:l,contentId:Zo(),titleId:Zo(),descriptionId:Zo(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};V3.displayName=LT;var B3="DialogTrigger",U3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jo(B3,n),o=ft(e,i.triggerRef);return u.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":BT(i.open),...r,ref:o,onClick:je(t.onClick,i.onOpenToggle)})});U3.displayName=B3;var FT="DialogPortal",[ate,z3]=F3(FT,{forceMount:void 0}),W3=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=jo(FT,e);return u.jsx(ate,{scope:e,forceMount:n,children:y.Children.map(r,s=>u.jsx(eo,{present:n||o.open,children:u.jsx(ox,{asChild:!0,container:i,children:s})}))})};W3.displayName=FT;var Dy="DialogOverlay",H3=y.forwardRef((t,e)=>{const n=z3(Dy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=jo(Dy,t.__scopeDialog);return o.modal?u.jsx(eo,{present:r||o.open,children:u.jsx(cte,{...i,ref:e})}):null});H3.displayName=Dy;var lte=Vu("DialogOverlay.RemoveScroll"),cte=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jo(Dy,n);return u.jsx($T,{as:lte,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Fe.div,{"data-state":BT(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),cc="DialogContent",q3=y.forwardRef((t,e)=>{const n=z3(cc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=jo(cc,t.__scopeDialog);return u.jsx(eo,{present:r||o.open,children:o.modal?u.jsx(ute,{...i,ref:e}):u.jsx(dte,{...i,ref:e})})});q3.displayName=cc;var ute=y.forwardRef((t,e)=>{const n=jo(cc,t.__scopeDialog),r=y.useRef(null),i=ft(e,n.contentRef,r);return y.useEffect(()=>{const o=r.current;if(o)return L3(o)},[]),u.jsx(G3,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:je(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:je(t.onFocusOutside,o=>o.preventDefault())})}),dte=y.forwardRef((t,e)=>{const n=jo(cc,t.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return u.jsx(G3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),G3=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=jo(cc,n),l=y.useRef(null),c=ft(e,l);return N3(),u.jsxs(u.Fragment,{children:[u.jsx(DT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(Ip,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":BT(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(fte,{titleId:a.titleId}),u.jsx(pte,{contentRef:l,descriptionId:a.descriptionId})]})]})}),VT="DialogTitle",K3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jo(VT,n);return u.jsx(Fe.h2,{id:i.titleId,...r,ref:e})});K3.displayName=VT;var Y3="DialogDescription",X3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jo(Y3,n);return u.jsx(Fe.p,{id:i.descriptionId,...r,ref:e})});X3.displayName=Y3;var Q3="DialogClose",J3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jo(Q3,n);return u.jsx(Fe.button,{type:"button",...r,ref:e,onClick:je(t.onClick,()=>i.onOpenChange(!1))})});J3.displayName=Q3;function BT(t){return t?"open":"closed"}var Z3="DialogTitleWarning",[NNe,e5]=x7(Z3,{contentName:cc,titleName:VT,docsSlug:"dialog"}),fte=({titleId:t})=>{const e=e5(Z3),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},hte="DialogDescriptionWarning",pte=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e5(hte).contentName}}.`;return y.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},mte=V3,gte=U3,yte=W3,t5=H3,n5=q3,r5=K3,i5=X3,vte=J3;const zi=mte,xte=gte,bte=yte,o5=y.forwardRef(({className:t,...e},n)=>u.jsx(t5,{ref:n,className:st("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));o5.displayName=t5.displayName;const vi=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(bte,{children:[u.jsx(o5,{}),u.jsxs(n5,{ref:r,className:st("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(vte,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Bu,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vi.displayName=n5.displayName;const xi=({className:t,...e})=>u.jsx("div",{className:st("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xi.displayName="DialogHeader";const bi=y.forwardRef(({className:t,...e},n)=>u.jsx(r5,{ref:n,className:st("text-lg font-semibold leading-none tracking-tight",t),...e}));bi.displayName=r5.displayName;const uc=y.forwardRef(({className:t,...e},n)=>u.jsx(i5,{ref:n,className:st("text-sm text-muted-foreground",t),...e}));uc.displayName=i5.displayName;const wte=lx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ae=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?w7:"button";return u.jsx(s,{className:st(wte({variant:e,size:n,className:t})),ref:o,...i})});ae.displayName="Button";function UT(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var zT="Switch",[_te,INe]=Ni(zT),[Ste,Ete]=_te(zT),s5=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,m]=y.useState(null),v=ft(e,b=>m(b)),g=y.useRef(!1),x=h?d||!!h.closest("form"):!0,[w=!1,_]=Co({prop:i,defaultProp:o,onChange:c});return u.jsxs(Ste,{scope:n,checked:w,disabled:a,children:[u.jsx(Fe.button,{type:"button",role:"switch","aria-checked":w,"aria-required":s,"data-state":c5(w),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:v,onClick:je(t.onClick,b=>{_(C=>!C),x&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),x&&u.jsx(Tte,{control:h,bubbles:!g.current,name:r,value:l,checked:w,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});s5.displayName=zT;var a5="SwitchThumb",l5=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Ete(a5,n);return u.jsx(Fe.span,{"data-state":c5(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});l5.displayName=a5;var Tte=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=y.useRef(null),s=UT(n),a=VE(e);return y.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function c5(t){return t?"checked":"unchecked"}var u5=s5,Pte=l5;const Hi=y.forwardRef(({className:t,...e},n)=>u.jsx(u5,{className:st("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(Pte,{className:st("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Hi.displayName=u5.displayName;const Fb="cuemaster_analytics_consent",Vb="cuemaster_analytics_events",Hm="cuemaster_analytics_sessions",qm="cuemaster_analytics_stats",Bb="cuemaster_first_launch_complete",Gm=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36);class Ate{constructor(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},this.currentSession=null,this.events=[],this.initialized=!1,this.loadConsent(),this.loadEvents()}loadConsent(){try{const e=localStorage.getItem(Fb);e&&(this.consent=JSON.parse(e))}catch(e){console.error("Failed to load analytics consent:",e)}}loadEvents(){try{const e=localStorage.getItem(Vb);e&&(this.events=JSON.parse(e))}catch(e){console.error("Failed to load analytics events:",e),this.events=[]}}saveEvents(){try{this.events.length>1e3&&(this.events=this.events.slice(-1e3)),localStorage.setItem(Vb,JSON.stringify(this.events))}catch(e){console.error("Failed to save analytics events:",e)}}saveSession(e){try{const n=localStorage.getItem(Hm);let r=n?JSON.parse(n):[];r.push(e);const i=100;r.length>i&&(r=r.slice(-i)),localStorage.setItem(Hm,JSON.stringify(r))}catch(n){console.error("Failed to save session:",n)}}isFirstLaunch(){return!localStorage.getItem(Bb)}markFirstLaunchComplete(){localStorage.setItem(Bb,"true")}getConsent(){return{...this.consent}}hasAnyConsent(){return this.consent.usageStats||this.consent.skillMetrics||this.consent.benchmarking}setConsent(e){this.consent=e;try{localStorage.setItem(Fb,JSON.stringify(e))}catch(n){console.error("Failed to save consent:",n)}}startSession(e){this.consent.usageStats&&(this.currentSession&&this.endSession(),this.currentSession={id:Gm(),startTime:Date.now(),module:e,events:[]},this.track("session_start",e,"start"))}endSession(){this.currentSession&&(this.currentSession.endTime=Date.now(),this.track("session_end",this.currentSession.module,"end",{duration:this.currentSession.endTime-this.currentSession.startTime}),this.saveSession(this.currentSession),this.updateAggregatedStats(this.currentSession),this.currentSession=null,this.consent.benchmarking&&this.submitToBenchmarking().catch(()=>{}))}track(e,n,r,i){var s;if(!this.consent.usageStats&&e!=="consent_updated")return;const o={id:Gm(),type:e,module:n,action:r,data:i,timestamp:Date.now(),sessionId:((s=this.currentSession)==null?void 0:s.id)||"no-session"};this.events.push(o),this.currentSession&&this.currentSession.events.push(o),this.saveEvents()}trackSkillMetric(e,n,r,i){this.consent.skillMetrics&&(this.track("skill_metric",e,n,{value:r,...i}),this.updateSkillStats(e,n,r))}trackFeatureUsage(e,n,r){this.consent.usageStats&&this.track("feature_usage",e,n,r)}updateAggregatedStats(e){try{const n=this.getAggregatedStats();n.totalSessions++,n.totalTimeMs+=(e.endTime||Date.now())-e.startTime,n.lastActive=Date.now(),n.moduleUsage[e.module]||(n.moduleUsage[e.module]={sessions:0,timeMs:0}),n.moduleUsage[e.module].sessions++,n.moduleUsage[e.module].timeMs+=(e.endTime||Date.now())-e.startTime,localStorage.setItem(qm,JSON.stringify(n))}catch(n){console.error("Failed to update aggregated stats:",n)}}updateSkillStats(e,n,r){try{const i=this.getAggregatedStats();switch(e){case"tempo":if(n==="shot_time"){const o=i.skillMetrics.tempo.avgShotTime*i.skillMetrics.tempo.totalShots;i.skillMetrics.tempo.totalShots++,i.skillMetrics.tempo.avgShotTime=(o+r)/i.skillMetrics.tempo.totalShots}else n==="session_complete"&&i.skillMetrics.tempo.sessionsPlayed++;break;case"velocity":if(n==="break_speed"){const o=i.skillMetrics.velocity.avgBreakSpeed*i.skillMetrics.velocity.breaksRecorded;i.skillMetrics.velocity.breaksRecorded++,i.skillMetrics.velocity.avgBreakSpeed=(o+r)/i.skillMetrics.velocity.breaksRecorded,i.skillMetrics.velocity.maxBreakSpeed=Math.max(i.skillMetrics.velocity.maxBreakSpeed,r)}break;case"vectors":if(n==="shot_simulated")i.skillMetrics.vectors.shotsSimulated++;else if(n==="shot_power"){const o=i.skillMetrics.vectors.avgPower*(i.skillMetrics.vectors.shotsSimulated-1);i.skillMetrics.vectors.avgPower=(o+r)/i.skillMetrics.vectors.shotsSimulated}else n==="session_complete"&&i.skillMetrics.vectors.sessionsPlayed++;break;case"truelevel":n==="calibration"?i.skillMetrics.truelevel.calibrationsPerformed++:n==="table_check"&&i.skillMetrics.truelevel.tablesChecked++;break}localStorage.setItem(qm,JSON.stringify(i))}catch(i){console.error("Failed to update skill stats:",i)}}getAggregatedStats(){try{const e=localStorage.getItem(qm);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load aggregated stats:",e)}return{totalSessions:0,totalTimeMs:0,moduleUsage:{},lastActive:0,skillMetrics:{tempo:{avgShotTime:0,totalShots:0,sessionsPlayed:0},velocity:{avgBreakSpeed:0,maxBreakSpeed:0,breaksRecorded:0},vectors:{shotsSimulated:0,avgPower:0,sessionsPlayed:0},truelevel:{calibrationsPerformed:0,tablesChecked:0}}}}getSessions(){try{const e=localStorage.getItem(Hm);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load sessions:",e),[]}}getEvents(){return[...this.events]}exportData(){const e={consent:this.consent,stats:this.getAggregatedStats(),sessions:this.getSessions(),events:this.events,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}deleteAllData(){this.events=[],this.currentSession=null,localStorage.removeItem(Vb),localStorage.removeItem(Hm),localStorage.removeItem(qm)}resetConsent(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},localStorage.removeItem(Fb),localStorage.removeItem(Bb)}getAnonymousId(){const e="cuemaster_anonymous_id";let n=localStorage.getItem(e);return n||(n=Gm()+Gm(),localStorage.setItem(e,n)),n}async submitToBenchmarking(){if(!this.consent.benchmarking)return!1;try{const e=this.getAggregatedStats(),n={anonymousId:this.getAnonymousId(),timestamp:new Date().toISOString(),moduleUsage:e.moduleUsage,skillMetrics:e.skillMetrics},r="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";if(r){const i=encodeURIComponent(JSON.stringify(n)),o=`${r}?action=submit&data=${i}`,s=await fetch(o,{method:"GET"});return s.ok?(await s.json()).result==="success":!1}}catch(e){return console.error("Failed to submit benchmarking data:",e),!1}}async getExternalSummary(){const e="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";try{const n=await fetch(`${e}?action=summary`);if(n.ok)return await n.json()}catch(n){console.error("Failed to fetch external summary:",n)}return null}}const Pt=new Ate;function Cte({open:t,onComplete:e}){const[n,r]=y.useState(0),[i,o]=y.useState({usageStats:!1,skillMetrics:!1,benchmarking:!1}),s=()=>{Pt.setConsent(i),Pt.markFirstLaunchComplete(),Pt.track("consent_updated","home","initial_consent",{consent:i}),e()},a=()=>{const c={usageStats:!0,skillMetrics:!0,benchmarking:!0};o(c),Pt.setConsent(c),Pt.markFirstLaunchComplete(),Pt.track("consent_updated","home","accept_all",{consent:c}),e()},l=()=>{const c={usageStats:!1,skillMetrics:!1,benchmarking:!1};Pt.setConsent(c),Pt.markFirstLaunchComplete(),e()};return u.jsx(zi,{open:t,onOpenChange:()=>{},children:u.jsxs(vi,{className:"max-w-md",onPointerDownOutside:c=>c.preventDefault(),children:[n===0&&u.jsxs(u.Fragment,{children:[u.jsxs(xi,{children:[u.jsxs(bi,{className:"text-xl flex items-center gap-2",children:[u.jsx(dy,{className:"w-5 h-5 text-primary"}),"Welcome to CueMaster Suite"]}),u.jsx(uc,{className:"text-left pt-2",children:"Help us improve your experience by sharing anonymous usage data. Your privacy is our priority."})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[u.jsx("h3",{className:"font-semibold text-sm",children:"What we collect (with your permission):"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(Xa,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Which tools you use and for how long"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(Th,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Your skill metrics to show personal progress"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(du,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Anonymous benchmarks to compare with others"})]})]})]}),u.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-sm text-primary mb-2",children:"Your data stays local"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All data is stored on your device. You can export or delete it anytime from Settings. No account required."})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(ae,{onClick:a,className:"w-full","data-testid":"button-accept-all",children:"Accept All"}),u.jsxs(ae,{variant:"outline",onClick:()=>r(1),className:"w-full","data-testid":"button-customize",children:["Customize",u.jsx(h$,{className:"w-4 h-4 ml-1"})]}),u.jsx(ae,{variant:"ghost",onClick:l,className:"w-full text-muted-foreground","data-testid":"button-decline-all",children:"Continue without sharing"})]})]}),n===1&&u.jsxs(u.Fragment,{children:[u.jsxs(xi,{children:[u.jsx(bi,{className:"text-xl",children:"Customize Your Preferences"}),u.jsx(uc,{className:"text-left pt-2",children:"Choose exactly what you want to share. You can change these anytime in Settings."})]}),u.jsx("div",{className:"space-y-4 py-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Xa,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use, session duration, and feature adoption. Helps us understand what's valuable."})]}),u.jsx(Hi,{checked:i.usageStats,onCheckedChange:c=>o(d=>({...d,usageStats:c})),"data-testid":"switch-usage-stats"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Th,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record shot times, break speeds, and other performance data. See your personal progress over time."})]}),u.jsx(Hi,{checked:i.skillMetrics,onCheckedChange:c=>o(d=>({...d,skillMetrics:c})),"data-testid":"switch-skill-metrics"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(du,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Anonymous Benchmarking"})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compare your stats with other players anonymously. See where you rank and track improvement.",!i.usageStats&&u.jsx("span",{className:"text-primary",children:" (Requires Usage Statistics)"})]})]}),u.jsx(Hi,{checked:i.benchmarking,onCheckedChange:c=>o(d=>({...d,benchmarking:c,usageStats:c?!0:d.usageStats})),"data-testid":"switch-benchmarking"})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ae,{variant:"outline",onClick:()=>r(0),className:"flex-1","data-testid":"button-back",children:"Back"}),u.jsx(ae,{onClick:s,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"})]})]})]})})}const d5=y.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:st("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));d5.displayName="Textarea";function Fh(t,[e,n]){return Math.min(n,Math.max(e,t))}var Nte=y.createContext(void 0);function Md(t){const e=y.useContext(Nte);return t||e||"ltr"}var Ite=[" ","Enter","ArrowUp","ArrowDown"],jte=[" ","Enter"],Wp="Select",[Rx,Mx,kte]=Np(Wp),[Dd,jNe]=Ni(Wp,[kte,hx]),Dx=hx(),[Ote,ul]=Dd(Wp),[Rte,Mte]=Dd(Wp),f5=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:m,form:v}=t,g=Dx(e),[x,w]=y.useState(null),[_,b]=y.useState(null),[C,E]=y.useState(!1),N=Md(c),[S=!1,P]=Co({prop:r,defaultProp:i,onChange:o}),[A,k]=Co({prop:s,defaultProp:a,onChange:l}),I=y.useRef(null),O=x?v||!!x.closest("form"):!0,[R,L]=y.useState(new Set),B=Array.from(R).map(U=>U.props.value).join(";");return u.jsx(Eq,{...g,children:u.jsxs(Ote,{required:m,scope:e,trigger:x,onTriggerChange:w,valueNode:_,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:Zo(),value:A,onValueChange:k,open:S,onOpenChange:P,dir:N,triggerPointerDownPosRef:I,disabled:h,children:[u.jsx(Rx.Provider,{scope:e,children:u.jsx(Rte,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(U=>{L(W=>new Set(W).add(U))},[]),onNativeOptionRemove:y.useCallback(U=>{L(W=>{const F=new Set(W);return F.delete(U),F})},[]),children:n})}),O?u.jsxs($5,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:U=>k(U.target.value),disabled:h,form:v,children:[A===void 0?u.jsx("option",{value:""}):null,Array.from(R)]},B):null]})})};f5.displayName=Wp;var h5="SelectTrigger",p5=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Dx(n),s=ul(h5,n),a=s.disabled||r,l=ft(e,s.onTriggerChange),c=Mx(n),d=y.useRef("touch"),[f,h,m]=L5(g=>{const x=c().filter(b=>!b.disabled),w=x.find(b=>b.value===s.value),_=F5(x,g,w);_!==void 0&&s.onValueChange(_.value)}),v=g=>{a||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(G$,{asChild:!0,...o,children:u.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":D5(s.value)?"":void 0,...i,ref:l,onClick:je(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:je(i.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:je(i.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&Ite.includes(g.key)&&(v(),g.preventDefault())})})})});p5.displayName=h5;var m5="SelectValue",g5=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=ul(m5,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=ft(e,l.onValueNodeChange);return lr(()=>{c(d)},[c,d]),u.jsx(Fe.span,{...a,ref:f,style:{pointerEvents:"none"},children:D5(l.value)?u.jsx(u.Fragment,{children:s}):o})});g5.displayName=m5;var Dte="SelectIcon",y5=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Fe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});y5.displayName=Dte;var $te="SelectPortal",v5=t=>u.jsx(ox,{asChild:!0,...t});v5.displayName=$te;var dc="SelectContent",x5=y.forwardRef((t,e)=>{const n=ul(dc,t.__scopeSelect),[r,i]=y.useState();if(lr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?vc.createPortal(u.jsx(b5,{scope:t.__scopeSelect,children:u.jsx(Rx.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(w5,{...t,ref:e})});x5.displayName=dc;var co=10,[b5,dl]=Dd(dc),Lte="SelectContentImpl",Fte=Vu("SelectContent.RemoveScroll"),w5=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:x,...w}=t,_=ul(dc,n),[b,C]=y.useState(null),[E,N]=y.useState(null),S=ft(e,me=>C(me)),[P,A]=y.useState(null),[k,I]=y.useState(null),O=Mx(n),[R,L]=y.useState(!1),B=y.useRef(!1);y.useEffect(()=>{if(b)return L3(b)},[b]),N3();const U=y.useCallback(me=>{const[we,...ee]=O().map(K=>K.ref.current),[he]=ee.slice(-1),pe=document.activeElement;for(const K of me)if(K===pe||(K==null||K.scrollIntoView({block:"nearest"}),K===we&&E&&(E.scrollTop=0),K===he&&E&&(E.scrollTop=E.scrollHeight),K==null||K.focus(),document.activeElement!==pe))return},[O,E]),W=y.useCallback(()=>U([P,b]),[U,P,b]);y.useEffect(()=>{R&&W()},[R,W]);const{onOpenChange:F,triggerPointerDownPosRef:V}=_;y.useEffect(()=>{if(b){let me={x:0,y:0};const we=he=>{var pe,K;me={x:Math.abs(Math.round(he.pageX)-(((pe=V.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(he.pageY)-(((K=V.current)==null?void 0:K.y)??0))}},ee=he=>{me.x<=10&&me.y<=10?he.preventDefault():b.contains(he.target)||F(!1),document.removeEventListener("pointermove",we),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",ee,{capture:!0})}}},[b,F,V]),y.useEffect(()=>{const me=()=>F(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[F]);const[Z,Q]=L5(me=>{const we=O().filter(pe=>!pe.disabled),ee=we.find(pe=>pe.ref.current===document.activeElement),he=F5(we,me,ee);he&&setTimeout(()=>he.ref.current.focus())}),ne=y.useCallback((me,we,ee)=>{const he=!B.current&&!ee;(_.value!==void 0&&_.value===we||he)&&(A(me),he&&(B.current=!0))},[_.value]),ge=y.useCallback(()=>b==null?void 0:b.focus(),[b]),Ae=y.useCallback((me,we,ee)=>{const he=!B.current&&!ee;(_.value!==void 0&&_.value===we||he)&&I(me)},[_.value]),Ve=r==="popper"?G1:_5,Ke=Ve===G1?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return u.jsx(b5,{scope:n,content:b,viewport:E,onViewportChange:N,itemRefCallback:ne,selectedItem:P,onItemLeave:ge,itemTextRefCallback:Ae,focusSelectedItem:W,selectedItemText:k,position:r,isPositioned:R,searchRef:Z,children:u.jsx($T,{as:Fte,allowPinchZoom:!0,children:u.jsx(DT,{asChild:!0,trapped:_.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:je(i,me=>{var we;(we=_.trigger)==null||we.focus({preventScroll:!0}),me.preventDefault()}),children:u.jsx(Ip,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:u.jsx(Ve,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:me=>me.preventDefault(),...w,...Ke,onPlaced:()=>L(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:je(w.onKeyDown,me=>{const we=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!we&&me.key.length===1&&Q(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let he=O().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(me.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const pe=me.target,K=he.indexOf(pe);he=he.slice(K+1)}setTimeout(()=>U(he)),me.preventDefault()}})})})})})})});w5.displayName=Lte;var Vte="SelectItemAlignedPosition",_5=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=ul(dc,n),s=dl(dc,n),[a,l]=y.useState(null),[c,d]=y.useState(null),f=ft(e,S=>d(S)),h=Mx(n),m=y.useRef(!1),v=y.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:w,focusSelectedItem:_}=s,b=y.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&x&&w){const S=o.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),k=w.getBoundingClientRect();if(o.dir!=="rtl"){const pe=k.left-P.left,K=A.left-pe,_e=S.left-K,Oe=S.width+_e,ht=Math.max(Oe,P.width),at=window.innerWidth-co,Ct=Fh(K,[co,Math.max(co,at-ht)]);a.style.minWidth=Oe+"px",a.style.left=Ct+"px"}else{const pe=P.right-k.right,K=window.innerWidth-A.right-pe,_e=window.innerWidth-S.right-K,Oe=S.width+_e,ht=Math.max(Oe,P.width),at=window.innerWidth-co,Ct=Fh(K,[co,Math.max(co,at-ht)]);a.style.minWidth=Oe+"px",a.style.right=Ct+"px"}const I=h(),O=window.innerHeight-co*2,R=g.scrollHeight,L=window.getComputedStyle(c),B=parseInt(L.borderTopWidth,10),U=parseInt(L.paddingTop,10),W=parseInt(L.borderBottomWidth,10),F=parseInt(L.paddingBottom,10),V=B+U+R+F+W,Z=Math.min(x.offsetHeight*5,V),Q=window.getComputedStyle(g),ne=parseInt(Q.paddingTop,10),ge=parseInt(Q.paddingBottom,10),Ae=S.top+S.height/2-co,Ve=O-Ae,Ke=x.offsetHeight/2,me=x.offsetTop+Ke,we=B+U+me,ee=V-we;if(we<=Ae){const pe=I.length>0&&x===I[I.length-1].ref.current;a.style.bottom="0px";const K=c.clientHeight-g.offsetTop-g.offsetHeight,_e=Math.max(Ve,Ke+(pe?ge:0)+K+W),Oe=we+_e;a.style.height=Oe+"px"}else{const pe=I.length>0&&x===I[0].ref.current;a.style.top="0px";const _e=Math.max(Ae,B+g.offsetTop+(pe?ne:0)+Ke)+ee;a.style.height=_e+"px",g.scrollTop=we-Ae+g.offsetTop}a.style.margin=`${co}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,c,g,x,w,o.dir,r]);lr(()=>b(),[b]);const[C,E]=y.useState();lr(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const N=y.useCallback(S=>{S&&v.current===!0&&(b(),_==null||_(),v.current=!1)},[b,_]);return u.jsx(Ute,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:u.jsx(Fe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});_5.displayName=Vte;var Bte="SelectPopperPosition",G1=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=co,...o}=t,s=Dx(n);return u.jsx(K$,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});G1.displayName=Bte;var[Ute,WT]=Dd(dc,{}),K1="SelectViewport",S5=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=dl(K1,n),s=WT(K1,n),a=ft(e,o.onViewportChange),l=y.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Rx.Slot,{scope:n,children:u.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:je(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-co*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(g,x);if(w<v){const _=w+m,b=Math.min(v,_),C=_-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});S5.displayName=K1;var E5="SelectGroup",[zte,Wte]=Dd(E5),Hte=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Zo();return u.jsx(zte,{scope:n,id:i,children:u.jsx(Fe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Hte.displayName=E5;var T5="SelectLabel",P5=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Wte(T5,n);return u.jsx(Fe.div,{id:i.id,...r,ref:e})});P5.displayName=T5;var $y="SelectItem",[qte,A5]=Dd($y),C5=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=ul($y,n),l=dl($y,n),c=a.value===r,[d,f]=y.useState(o??""),[h,m]=y.useState(!1),v=ft(e,_=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,_,r,i)}),g=Zo(),x=y.useRef("touch"),w=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(qte,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:y.useCallback(_=>{f(b=>b||((_==null?void 0:_.textContent)??"").trim())},[]),children:u.jsx(Rx.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Fe.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:v,onFocus:je(s.onFocus,()=>m(!0)),onBlur:je(s.onBlur,()=>m(!1)),onClick:je(s.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:je(s.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:je(s.onPointerDown,_=>{x.current=_.pointerType}),onPointerMove:je(s.onPointerMove,_=>{var b;x.current=_.pointerType,i?(b=l.onItemLeave)==null||b.call(l):x.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(s.onPointerLeave,_=>{var b;_.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:je(s.onKeyDown,_=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&_.key===" "||(jte.includes(_.key)&&w(),_.key===" "&&_.preventDefault())})})})})});C5.displayName=$y;var jf="SelectItemText",N5=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=ul(jf,n),a=dl(jf,n),l=A5(jf,n),c=Mte(jf,n),[d,f]=y.useState(null),h=ft(e,w=>f(w),l.onItemTextChange,w=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,w,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=y.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return lr(()=>(g(v),()=>x(v)),[g,x,v]),u.jsxs(u.Fragment,{children:[u.jsx(Fe.span,{id:l.textId,...o,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?vc.createPortal(o.children,s.valueNode):null]})});N5.displayName=jf;var I5="SelectItemIndicator",j5=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return A5(I5,n).isSelected?u.jsx(Fe.span,{"aria-hidden":!0,...r,ref:e}):null});j5.displayName=I5;var Y1="SelectScrollUpButton",k5=y.forwardRef((t,e)=>{const n=dl(Y1,t.__scopeSelect),r=WT(Y1,t.__scopeSelect),[i,o]=y.useState(!1),s=ft(e,r.onScrollButtonChange);return lr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(R5,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});k5.displayName=Y1;var X1="SelectScrollDownButton",O5=y.forwardRef((t,e)=>{const n=dl(X1,t.__scopeSelect),r=WT(X1,t.__scopeSelect),[i,o]=y.useState(!1),s=ft(e,r.onScrollButtonChange);return lr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(R5,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});O5.displayName=X1;var R5=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=dl("SelectScrollButton",n),s=y.useRef(null),a=Mx(n),l=y.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),lr(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Fe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:je(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:je(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:je(i.onPointerLeave,()=>{l()})})}),Gte="SelectSeparator",M5=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Fe.div,{"aria-hidden":!0,...r,ref:e})});M5.displayName=Gte;var Q1="SelectArrow",Kte=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Dx(n),o=ul(Q1,n),s=dl(Q1,n);return o.open&&s.position==="popper"?u.jsx(Y$,{...i,...r,ref:e}):null});Kte.displayName=Q1;function D5(t){return t===""||t===void 0}var $5=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=y.useRef(null),o=ft(e,i),s=UT(n);return y.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[s,n]),u.jsx(jp,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});$5.displayName="BubbleSelect";function L5(t){const e=On(t),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function F5(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Yte(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Yte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Xte=f5,V5=p5,Qte=g5,Jte=y5,Zte=v5,B5=x5,ene=S5,U5=P5,z5=C5,tne=N5,nne=j5,W5=k5,H5=O5,q5=M5;const G5=Xte,K5=Qte,HT=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(V5,{ref:r,className:st("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Jte,{asChild:!0,children:u.jsx(_h,{className:"h-4 w-4 opacity-50"})})]}));HT.displayName=V5.displayName;const Y5=y.forwardRef(({className:t,...e},n)=>u.jsx(W5,{ref:n,className:st("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(pW,{className:"h-4 w-4"})}));Y5.displayName=W5.displayName;const X5=y.forwardRef(({className:t,...e},n)=>u.jsx(H5,{ref:n,className:st("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(_h,{className:"h-4 w-4"})}));X5.displayName=H5.displayName;const qT=y.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(Zte,{children:u.jsxs(B5,{ref:i,className:st("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(Y5,{}),u.jsx(ene,{className:st("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(X5,{})]})}));qT.displayName=B5.displayName;const rne=y.forwardRef(({className:t,...e},n)=>u.jsx(U5,{ref:n,className:st("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));rne.displayName=U5.displayName;const tr=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(z5,{ref:r,className:st("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(nne,{children:u.jsx(fW,{className:"h-4 w-4"})})}),u.jsx(tne,{children:e})]}));tr.displayName=z5.displayName;const ine=y.forwardRef(({className:t,...e},n)=>u.jsx(q5,{ref:n,className:st("-mx-1 my-1 h-px bg-muted",t),...e}));ine.displayName=q5.displayName;const one=[{value:"tempo",label:"Tempo (Shot Clock)"},{value:"velocity",label:"Velocity (Break Speed)"},{value:"truelevel",label:"TrueLevel (Table Gauge)"},{value:"vectors",label:"Vectors (Cueing Emulator)"},{value:"general",label:"General / App Overall"}];function sne(){const{promoCode:t,user:e}=zp(),{toast:n}=Ed(),[r,i]=y.useState(!1),[o,s]=y.useState(""),[a,l]=y.useState(0),[c,d]=y.useState(""),[f,h]=y.useState(!1);if(!((t==null?void 0:t.toUpperCase())==="EARLYBIRD"))return null;const v=async()=>{if(!o||a===0){n({title:"Missing info",description:"Please select a tool and rating",variant:"destructive"});return}h(!0);try{const g={tool:o,rating:a,comment:c,userId:(e==null?void 0:e.uid)||"anonymous",userEmail:(e==null?void 0:e.email)||"anonymous",promoCode:t,timestamp:new Date().toISOString()},x="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";x&&await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"feedback",...g})}),n({title:"Thank you!",description:"Your feedback helps us improve CueMaster Suite."}),i(!1),s(""),l(0),d("")}catch(g){console.error("Feedback error:",g),n({title:"Feedback sent",description:"Thank you for your input!"}),i(!1)}finally{h(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx(ae,{onClick:()=>i(!0),className:"fixed bottom-4 right-4 rounded-full w-14 h-14 shadow-lg z-50",size:"icon","data-testid":"button-feedback",children:u.jsx(iN,{className:"w-6 h-6"})}),u.jsx(zi,{open:r,onOpenChange:i,children:u.jsxs(vi,{className:"max-w-sm",children:[u.jsxs(xi,{children:[u.jsxs(bi,{className:"flex items-center gap-2",children:[u.jsx(iN,{className:"w-5 h-5 text-primary"}),"Early Adopter Feedback"]}),u.jsx(uc,{children:"Thanks for being an early adopter! Your feedback shapes CueMaster."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Which tool?"}),u.jsxs(G5,{value:o,onValueChange:s,children:[u.jsx(HT,{"data-testid":"select-feedback-tool",children:u.jsx(K5,{placeholder:"Select a tool"})}),u.jsx(qT,{children:one.map(g=>u.jsx(tr,{value:g.value,children:g.label},g.value))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rating"}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(g=>u.jsx("button",{onClick:()=>l(g),className:"p-1 transition-colors","data-testid":`button-star-${g}`,children:u.jsx(kW,{className:`w-8 h-8 ${g<=a?"fill-amber-400 text-amber-400":"text-muted-foreground"}`})},g))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comments (optional)"}),u.jsx(d5,{placeholder:"What's working? What could be better?",value:c,onChange:g=>d(g.target.value),rows:3,"data-testid":"textarea-feedback-comment"})]}),u.jsxs(ae,{onClick:v,className:"w-full gap-2",disabled:f,"data-testid":"button-submit-feedback",children:[u.jsx(IW,{className:"w-4 h-4"}),f?"Sending...":"Send Feedback"]})]})]})})]})}const ane=lx("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function lne({className:t,variant:e,...n}){return u.jsx("div",{className:st(ane({variant:e}),t),...n})}var cne="Label",Q5=y.forwardRef((t,e)=>u.jsx(Fe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Q5.displayName=cne;var J5=Q5;const une=lx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dn=y.forwardRef(({className:t,...e},n)=>u.jsx(J5,{ref:n,className:st(une(),t),...e}));dn.displayName=J5.displayName;var Ub="rovingFocusGroup.onEntryFocus",dne={bubbles:!1,cancelable:!0},$x="RovingFocusGroup",[J1,Z5,fne]=Np($x),[hne,eF]=Ni($x,[fne]),[pne,mne]=hne($x),tF=y.forwardRef((t,e)=>u.jsx(J1.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(J1.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(gne,{...t,ref:e})})}));tF.displayName=$x;var gne=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=y.useRef(null),m=ft(e,h),v=Md(o),[g=null,x]=Co({prop:s,defaultProp:a,onChange:l}),[w,_]=y.useState(!1),b=On(c),C=Z5(n),E=y.useRef(!1),[N,S]=y.useState(0);return y.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(Ub,b),()=>P.removeEventListener(Ub,b)},[b]),u.jsx(pne,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:g,onItemFocus:y.useCallback(P=>x(P),[x]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(P=>P+1),[]),onFocusableItemRemove:y.useCallback(()=>S(P=>P-1),[]),children:u.jsx(Fe.div,{tabIndex:w||N===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:je(t.onMouseDown,()=>{E.current=!0}),onFocus:je(t.onFocus,P=>{const A=!E.current;if(P.target===P.currentTarget&&A&&!w){const k=new CustomEvent(Ub,dne);if(P.currentTarget.dispatchEvent(k),!k.defaultPrevented){const I=C().filter(U=>U.focusable),O=I.find(U=>U.active),R=I.find(U=>U.id===g),B=[O,R,...I].filter(Boolean).map(U=>U.ref.current);iF(B,d)}}E.current=!1}),onBlur:je(t.onBlur,()=>_(!1))})})}),nF="RovingFocusGroupItem",rF=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=Zo(),l=o||a,c=mne(nF,n),d=c.currentTabStopId===l,f=Z5(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return y.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),u.jsx(J1.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Fe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:je(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:je(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:je(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=xne(v,c.orientation,c.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=f().filter(_=>_.focusable).map(_=>_.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=c.loop?bne(w,_+1):w.slice(_+1)}setTimeout(()=>iF(w))}})})})});rF.displayName=nF;var yne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xne(t,e,n){const r=vne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yne[r]}function iF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function bne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wne=tF,_ne=rF,GT="Tabs",[Sne,kNe]=Ni(GT,[eF]),oF=eF(),[Ene,KT]=Sne(GT),sF=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Md(a),[f,h]=Co({prop:r,onChange:i,defaultProp:o});return u.jsx(Ene,{scope:n,baseId:Zo(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx(Fe.div,{dir:d,"data-orientation":s,...c,ref:e})})});sF.displayName=GT;var aF="TabsList",lF=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=KT(aF,n),s=oF(n);return u.jsx(wne,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:u.jsx(Fe.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});lF.displayName=aF;var cF="TabsTrigger",uF=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=KT(cF,n),a=oF(n),l=hF(s.baseId,r),c=pF(s.baseId,r),d=r===s.value;return u.jsx(_ne,{asChild:!0,...a,focusable:!i,active:d,children:u.jsx(Fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:je(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:je(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:je(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});uF.displayName=cF;var dF="TabsContent",fF=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=KT(dF,n),l=hF(a.baseId,r),c=pF(a.baseId,r),d=r===a.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(eo,{present:i||d,children:({present:h})=>u.jsx(Fe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});fF.displayName=dF;function hF(t,e){return`${t}-trigger-${e}`}function pF(t,e){return`${t}-content-${e}`}var Tne=sF,mF=lF,gF=uF,yF=fF;const vF=Tne,YT=y.forwardRef(({className:t,...e},n)=>u.jsx(mF,{ref:n,className:st("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));YT.displayName=mF.displayName;const Gl=y.forwardRef(({className:t,...e},n)=>u.jsx(gF,{ref:n,className:st("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Gl.displayName=gF.displayName;const Kl=y.forwardRef(({className:t,...e},n)=>u.jsx(yF,{ref:n,className:st("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Kl.displayName=yF.displayName;function Pne(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var XT="ScrollArea",[xF,ONe]=Ni(XT),[Ane,to]=xF(XT),bF=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=y.useState(null),[c,d]=y.useState(null),[f,h]=y.useState(null),[m,v]=y.useState(null),[g,x]=y.useState(null),[w,_]=y.useState(0),[b,C]=y.useState(0),[E,N]=y.useState(!1),[S,P]=y.useState(!1),A=ft(e,I=>l(I)),k=Md(i);return u.jsx(Ane,{scope:n,type:r,dir:k,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:S,onScrollbarYEnabledChange:P,onCornerWidthChange:_,onCornerHeightChange:C,children:u.jsx(Fe.div,{dir:k,...s,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});bF.displayName=XT;var wF="ScrollAreaViewport",_F=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=to(wF,n),a=y.useRef(null),l=ft(e,a,s.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Fe.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});_F.displayName=wF;var ps="ScrollAreaScrollbar",QT=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=to(ps,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return y.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?u.jsx(Cne,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(Nne,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(SF,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(JT,{...r,ref:e}):null});QT.displayName=ps;var Cne=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=to(ps,t.__scopeScrollArea),[o,s]=y.useState(!1);return y.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(eo,{present:n||o,children:u.jsx(SF,{"data-state":o?"visible":"hidden",...r,ref:e})})}),Nne=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=to(ps,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Fx(()=>l("SCROLL_END"),100),[a,l]=Pne("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),y.useEffect(()=>{const c=i.viewport,d=o?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const m=c[d];f!==m&&(l("SCROLL"),s()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),u.jsx(eo,{present:n||a!=="hidden",children:u.jsx(JT,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:je(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:je(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),SF=y.forwardRef((t,e)=>{const n=to(ps,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=y.useState(!1),a=t.orientation==="horizontal",l=Fx(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:d)}},10);return Ju(n.viewport,l),Ju(n.content,l),u.jsx(eo,{present:r||o,children:u.jsx(JT,{"data-state":o?"visible":"hidden",...i,ref:e})})}),JT=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=to(ps,t.__scopeScrollArea),o=y.useRef(null),s=y.useRef(0),[a,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=CF(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return Mne(h,s.current,a,m)}return n==="horizontal"?u.jsx(Ine,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,m=JI(h,a,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(jne,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,m=JI(h,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Ine=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=to(ps,t.__scopeScrollArea),[s,a]=y.useState(),l=y.useRef(null),c=ft(e,l,o.onScrollbarXChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(TF,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Lx(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),IF(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Fy(s.paddingLeft),paddingEnd:Fy(s.paddingRight)}})}})}),jne=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=to(ps,t.__scopeScrollArea),[s,a]=y.useState(),l=y.useRef(null),c=ft(e,l,o.onScrollbarYChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(TF,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Lx(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),IF(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Fy(s.paddingTop),paddingEnd:Fy(s.paddingBottom)}})}})}),[kne,EF]=xF(ps),TF=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,m=to(ps,n),[v,g]=y.useState(null),x=ft(e,A=>g(A)),w=y.useRef(null),_=y.useRef(""),b=m.viewport,C=r.content-r.viewport,E=On(d),N=On(l),S=Fx(f,10);function P(A){if(w.current){const k=A.clientX-w.current.left,I=A.clientY-w.current.top;c({x:k,y:I})}}return y.useEffect(()=>{const A=k=>{const I=k.target;(v==null?void 0:v.contains(I))&&E(k,C)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[b,v,C,E]),y.useEffect(N,[r,N]),Ju(v,S),Ju(m.content,S),u.jsx(kne,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:On(o),onThumbPointerUp:On(s),onThumbPositionChange:N,onThumbPointerDown:On(a),children:u.jsx(Fe.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:je(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),w.current=v.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),P(A))}),onPointerMove:je(t.onPointerMove,P),onPointerUp:je(t.onPointerUp,A=>{const k=A.target;k.hasPointerCapture(A.pointerId)&&k.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=_.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),Ly="ScrollAreaThumb",PF=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=EF(Ly,t.__scopeScrollArea);return u.jsx(eo,{present:n||i.hasThumb,children:u.jsx(One,{ref:e,...r})})}),One=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=to(Ly,n),s=EF(Ly,n),{onThumbPositionChange:a}=s,l=ft(e,f=>s.onThumbChange(f)),c=y.useRef(void 0),d=Fx(()=>{c.current&&(c.current(),c.current=void 0)},100);return y.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!c.current){const m=Dne(f,a);c.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,a]),u.jsx(Fe.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:je(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,g=f.clientY-m.top;s.onThumbPointerDown({x:v,y:g})}),onPointerUp:je(t.onPointerUp,s.onThumbPointerUp)})});PF.displayName=Ly;var ZT="ScrollAreaCorner",AF=y.forwardRef((t,e)=>{const n=to(ZT,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(Rne,{...t,ref:e}):null});AF.displayName=ZT;var Rne=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=to(ZT,n),[o,s]=y.useState(0),[a,l]=y.useState(0),c=!!(o&&a);return Ju(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Ju(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),c?u.jsx(Fe.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Fy(t){return t?parseInt(t,10):0}function CF(t,e){const n=t/e;return isNaN(n)?0:n}function Lx(t){const e=CF(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Mne(t,e,n,r="ltr"){const i=Lx(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return NF([l,c],f)(t)}function JI(t,e,n="ltr"){const r=Lx(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Fh(t,l);return NF([0,s],[0,a])(c)}function NF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function IF(t,e){return t>0&&t<e}var Dne=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Fx(t,e){const n=On(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ju(t,e){const n=On(e);lr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var jF=bF,$ne=_F,Lne=AF;const kF=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(jF,{ref:r,className:st("relative overflow-hidden",t),...n,children:[u.jsx($ne,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(OF,{}),u.jsx(Lne,{})]}));kF.displayName=jF.displayName;const OF=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(QT,{ref:r,orientation:e,className:st("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(PF,{className:"relative flex-1 rounded-full bg-border"})}));OF.displayName=QT.displayName;const zb="shotclock_sessions";function Fne({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("circle",{cx:"24",cy:"24",r:"20",strokeDasharray:"4 2"}),u.jsx("circle",{cx:"24",cy:"24",r:"16"}),u.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"10",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"}),u.jsx("line",{x1:"24",y1:"24",x2:"32",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]})}function Vne({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"2",y:"18",width:"44",height:"12",rx:"2"}),u.jsx("rect",{x:"16",y:"20",width:"16",height:"8",rx:"4",strokeWidth:"1.5"}),u.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"currentColor"}),u.jsx("line",{x1:"24",y1:"20",x2:"24",y2:"21",strokeWidth:"1"}),u.jsx("line",{x1:"24",y1:"27",x2:"24",y2:"28",strokeWidth:"1"}),u.jsx("line",{x1:"6",y1:"24",x2:"8",y2:"24",strokeWidth:"1.5"}),u.jsx("line",{x1:"40",y1:"24",x2:"42",y2:"24",strokeWidth:"1.5"})]})}function Bne({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("path",{d:"M6 38 A22 22 0 0 1 42 38",strokeLinecap:"round"}),u.jsx("line",{x1:"24",y1:"36",x2:"34",y2:"18",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"36",r:"3",fill:"currentColor"}),u.jsx("line",{x1:"10",y1:"28",x2:"10",y2:"24",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"16",y1:"18",x2:"18",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"10",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"32",y1:"18",x2:"30",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"38",y1:"28",x2:"38",y2:"24",strokeWidth:"2",strokeLinecap:"round"})]})}function Une({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("circle",{cx:"24",cy:"24",r:"10"}),u.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"4",strokeWidth:"2",markerEnd:"url(#arrowUp)"}),u.jsx("line",{x1:"24",y1:"34",x2:"24",y2:"44",strokeWidth:"2"}),u.jsx("line",{x1:"14",y1:"24",x2:"4",y2:"24",strokeWidth:"2"}),u.jsx("line",{x1:"34",y1:"24",x2:"44",y2:"24",strokeWidth:"2"}),u.jsx("path",{d:"M24 4 L22 8 L26 8 Z",fill:"currentColor"}),u.jsx("path",{d:"M44 24 L40 22 L40 26 Z",fill:"currentColor"}),u.jsx("path",{d:"M38 10 L24 24",strokeWidth:"2",strokeDasharray:"3 2"}),u.jsx("circle",{cx:"38",cy:"10",r:"3",fill:"currentColor"}),u.jsx("path",{d:"M10 38 C16 32, 20 28, 24 24",strokeWidth:"2",strokeDasharray:"3 2"})]})}const ZI="cuemaster_dev_mode";function zne(){const{promoCode:t}=zp();return(t==null?void 0:t.toUpperCase())==="EARLYBIRD"?u.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(dW,{className:"w-5 h-5 text-amber-500"}),u.jsxs("div",{children:[u.jsx(lne,{variant:"secondary",className:"bg-amber-500/20 text-amber-500 border-amber-500/30",children:"Early Adopter"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Thanks for being an early supporter! Use the feedback button to share your thoughts."})]})]})}):null}function Wne(){const[,t]=cl(),[e,n]=y.useState(!1),{theme:r,toggleTheme:i,colorTheme:o,setColorTheme:s}=Hq(),[a,l]=y.useState([]),[c,d]=y.useState(!1),[f,h]=y.useState(0),m=y.useRef(null),v=y.useRef(0),[g,x]=y.useState(!1),[w,_]=y.useState(Pt.getConsent());y.useEffect(()=>{localStorage.getItem(ZI)==="true"&&d(!0),Pt.isFirstLaunch()&&x(!0)},[]);const b=A=>{if(A.type==="click"&&v.current>Date.now()-300||(A.type==="touchend"&&(v.current=Date.now(),A.preventDefault()),c))return;const k=f+1;h(k),m.current&&clearTimeout(m.current),k>=7?(d(!0),localStorage.setItem(ZI,"true"),h(0)):m.current=setTimeout(()=>h(0),2e3)};y.useEffect(()=>{const A=()=>{try{const I=localStorage.getItem(zb);if(I){const O=JSON.parse(I);Array.isArray(O)&&l(O)}}catch(I){console.error("Failed to parse sessions:",I),l([])}};A();const k=()=>A();return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[]);const C=()=>{localStorage.removeItem(zb),l([])},E=A=>{const k=a.filter(I=>I.id!==A);localStorage.setItem(zb,JSON.stringify(k)),l(k)},N=A=>new Date(A).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=A=>{const k=Math.floor(A/60),I=Math.floor(A%60);return k>0?`${k}m ${I}s`:`${I.toFixed(1)}s`},P=A=>A.stats.shotDurations.length===0?0:A.stats.shotDurations.reduce((I,O)=>I+O,0)/A.stats.shotDurations.length;return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"CUEMASTER"}),u.jsx("p",{className:"text-sm font-light text-muted-foreground",children:"Suite"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{onClick:b,onTouchEnd:b,className:"cursor-default select-none touch-manipulation",children:u.jsx(hee,{})}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/insights"),"data-testid":"button-insights",children:u.jsx(Xa,{className:"w-5 h-5"})}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(!0),"data-testid":"button-settings",children:u.jsx(NE,{className:"w-5 h-5"})})]})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Tool"}),u.jsx("p",{className:"text-muted-foreground",children:"Professional billiards companion utilities"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Vm,{icon:u.jsx(Une,{}),title:"Vectors",subtitle:"CueMaster",description:"Test spin, angles, and speed before you ever pull the trigger.",onClick:()=>t("/cue-emulator"),testId:"card-cue-emulator"}),u.jsx(Vm,{icon:u.jsx(Vne,{}),title:"TrueLevel",subtitle:"CueMaster",description:"Verify your battlefield. No excuses, no hidden slopes.",onClick:()=>t("/table-level"),testId:"card-table-level"}),u.jsx(Vm,{icon:u.jsx(Fne,{}),title:"Tempo",subtitle:"CueMaster",description:"Own the pace of play  solo drills or match pressure, on a clock.",onClick:()=>t("/shot-clock"),testId:"card-shot-clock"}),u.jsx(Vm,{icon:u.jsx(Bne,{disabled:!c}),title:"Velocity",subtitle:"CueMaster",description:"Dial in raw power with break speed you can actually measure.",onClick:c?()=>t("/break-speed"):void 0,disabled:!c,testId:"card-break-speed"})]})]})}),u.jsx("footer",{className:"py-4 px-6 text-center border-t",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:" Promethean Games. Promethean-Games.com, All rights reserved."})}),u.jsx(zi,{open:e,onOpenChange:n,children:u.jsxs(vi,{className:"max-w-md max-h-[85vh] overflow-hidden flex flex-col",children:[u.jsx(xi,{className:"flex-shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(bi,{children:"Settings"}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>n(!1),"data-testid":"button-close-settings",children:u.jsx(Bu,{className:"w-5 h-5"})})]})}),u.jsxs(vF,{defaultValue:"appearance",className:"flex-1 overflow-hidden flex flex-col",children:[u.jsxs(YT,{className:"grid w-full grid-cols-3 flex-shrink-0",children:[u.jsxs(Gl,{value:"appearance","data-testid":"tab-appearance",children:[u.jsx(oN,{className:"w-4 h-4 mr-2"}),"Theme"]}),u.jsxs(Gl,{value:"analytics","data-testid":"tab-analytics",children:[u.jsx(Xa,{className:"w-4 h-4 mr-2"}),"Privacy"]}),u.jsxs(Gl,{value:"history","data-testid":"tab-history",children:[u.jsx(m1,{className:"w-4 h-4 mr-2"}),"History"]})]}),u.jsxs(Kl,{value:"appearance",className:"flex-1 overflow-auto mt-4 space-y-6",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(dn,{htmlFor:"theme-toggle",className:"flex items-center gap-2",children:[r==="dark"?u.jsx(TW,{className:"w-4 h-4"}):u.jsx(OW,{className:"w-4 h-4"}),"Theme Mode"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:r==="dark"?"Dark":"Light"}),u.jsx(Hi,{id:"theme-toggle",checked:r==="dark",onCheckedChange:i,"data-testid":"switch-theme"})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(dn,{className:"flex items-center gap-2",children:[u.jsx(oN,{className:"w-4 h-4"}),"Accent Color"]}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:Tg.map(A=>u.jsx("button",{onClick:()=>s(A),className:`relative aspect-square rounded-lg transition-all ${o.id===A.id?"ring-2 ring-offset-2 ring-offset-background ring-foreground scale-105":"hover:scale-105"}`,style:{backgroundColor:`hsl(${A.primary})`},title:A.name,"data-testid":`button-color-${A.id}`,children:o.id===A.id&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})},A.id))}),u.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",o.name]})]})]}),u.jsxs(Kl,{value:"analytics",className:"flex-1 overflow-auto mt-4 space-y-4",children:[u.jsx(zne,{}),u.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(dy,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-semibold text-sm",children:"Your Privacy"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All data stays on your device. No account required. Export or delete anytime."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(dn,{className:"text-sm font-medium",children:"Data Collection"}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use and session duration"})]}),u.jsx(Hi,{checked:w.usageStats,onCheckedChange:A=>{const k={...w,usageStats:A};_(k),Pt.setConsent(k)},"data-testid":"switch-settings-usage"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record performance data for personal insights"})]}),u.jsx(Hi,{checked:w.skillMetrics,onCheckedChange:A=>{const k={...w,skillMetrics:A};_(k),Pt.setConsent(k)},"data-testid":"switch-settings-skills"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Benchmarking"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anonymous comparison with other players",!w.usageStats&&u.jsx("span",{className:"text-primary",children:" (Enables Usage Stats)"})]})]}),u.jsx(Hi,{checked:w.benchmarking,onCheckedChange:A=>{const k={...w,benchmarking:A,usageStats:A?!0:w.usageStats};_(k),Pt.setConsent(k)},"data-testid":"switch-settings-benchmark"})]})]}),u.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[u.jsx(dn,{className:"text-sm font-medium",children:"Data Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ae,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const A=Pt.exportData(),k=new Blob([A],{type:"application/json"}),I=URL.createObjectURL(k),O=document.createElement("a");O.href=I,O.download=`cuemaster-data-${new Date().toISOString().split("T")[0]}.json`,O.click(),URL.revokeObjectURL(I)},"data-testid":"button-export-data",children:[u.jsx(p$,{className:"w-4 h-4 mr-2"}),"Export"]}),u.jsxs(ae,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>{confirm("Delete all analytics data? This cannot be undone.")&&Pt.deleteAllData()},"data-testid":"button-delete-data",children:[u.jsx(fy,{className:"w-4 h-4 mr-2"}),"Delete All"]})]})]})]}),u.jsxs(Kl,{value:"history",className:"flex-1 overflow-hidden mt-4 flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[u.jsxs(dn,{className:"flex items-center gap-2",children:[u.jsx(Sh,{className:"w-4 h-4"}),"Shot Clock Sessions"]}),a.length>0&&u.jsxs(ae,{variant:"ghost",size:"sm",onClick:C,className:"text-destructive hover:text-destructive","data-testid":"button-clear-sessions",children:[u.jsx(fy,{className:"w-4 h-4 mr-1"}),"Clear All"]})]}),u.jsx(kF,{className:"flex-1",children:a.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(m1,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{className:"text-sm",children:"No session history yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Complete a Shot Clock session to see stats here"})]}):u.jsx("div",{className:"space-y-3 pr-3",children:a.map(A=>u.jsxs(Ue,{className:"p-3","data-testid":`card-session-${A.id}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:A.stats.playerNames.join(" vs ")}),u.jsx("p",{className:"text-xs text-muted-foreground",children:N(A.date)})]}),u.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>E(A.id),"data-testid":`button-delete-session-${A.id}`,children:u.jsx(Bu,{className:"w-3 h-3"})})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(IE,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:S(P(A))}),u.jsx("p",{className:"text-muted-foreground",children:"Avg"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(Pf,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:A.stats.shotCount}),u.jsx("p",{className:"text-muted-foreground",children:"Shots"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(Sh,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:A.stats.totalExtensions}),u.jsx("p",{className:"text-muted-foreground",children:"Ext"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(jE,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:A.stats.timeouts}),u.jsx("p",{className:"text-muted-foreground",children:"T/O"})]})]})]},A.id))})})]})]})]})}),u.jsx(Cte,{open:g,onComplete:()=>{x(!1),_(Pt.getConsent())}}),u.jsx(sne,{})]})}var eP="Collapsible",[Hne,RF]=Ni(eP),[qne,tP]=Hne(eP),MF=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=t,[l=!1,c]=Co({prop:r,defaultProp:i,onChange:s});return u.jsx(qne,{scope:n,disabled:o,contentId:Zo(),open:l,onOpenToggle:y.useCallback(()=>c(d=>!d),[c]),children:u.jsx(Fe.div,{"data-state":oP(l),"data-disabled":o?"":void 0,...a,ref:e})})});MF.displayName=eP;var DF="CollapsibleTrigger",nP=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=tP(DF,n);return u.jsx(Fe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":oP(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:je(t.onClick,i.onOpenToggle)})});nP.displayName=DF;var rP="CollapsibleContent",iP=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=tP(rP,t.__scopeCollapsible);return u.jsx(eo,{present:n||i.open,children:({present:o})=>u.jsx(Gne,{...r,ref:e,present:o})})});iP.displayName=rP;var Gne=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=t,s=tP(rP,n),[a,l]=y.useState(r),c=y.useRef(null),d=ft(e,c),f=y.useRef(0),h=f.current,m=y.useRef(0),v=m.current,g=s.open||a,x=y.useRef(g),w=y.useRef(void 0);return y.useEffect(()=>{const _=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(_)},[]),lr(()=>{const _=c.current;if(_){w.current=w.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const b=_.getBoundingClientRect();f.current=b.height,m.current=b.width,x.current||(_.style.transitionDuration=w.current.transitionDuration,_.style.animationName=w.current.animationName),l(r)}},[s.open,r]),u.jsx(Fe.div,{"data-state":oP(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:g&&i})});function oP(t){return t?"open":"closed"}var $F=MF,Kne=nP,Yne=iP;const ej=$F,tj=nP,nj=iP,or=y.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:st("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));or.displayName="Input";var Js="Accordion",Xne=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[sP,Qne,Jne]=Np(Js),[Vx,RNe]=Ni(Js,[Jne,RF]),aP=RF(),LF=z.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,o=r;return u.jsx(sP.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?u.jsx(nre,{...o,ref:e}):u.jsx(tre,{...i,ref:e})})});LF.displayName=Js;var[FF,Zne]=Vx(Js),[VF,ere]=Vx(Js,{collapsible:!1}),tre=z.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=t,[a,l]=Co({prop:n,defaultProp:r,onChange:i});return u.jsx(FF,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:z.useCallback(()=>o&&l(""),[o,l]),children:u.jsx(VF,{scope:t.__scopeAccordion,collapsible:o,children:u.jsx(BF,{...s,ref:e})})})}),nre=z.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=Co({prop:n,defaultProp:r,onChange:i}),l=z.useCallback(d=>a((f=[])=>[...f,d]),[a]),c=z.useCallback(d=>a((f=[])=>f.filter(h=>h!==d)),[a]);return u.jsx(FF,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:c,children:u.jsx(VF,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(BF,{...o,ref:e})})})}),[rre,Bx]=Vx(Js),BF=z.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=t,a=z.useRef(null),l=ft(a,e),c=Qne(n),f=Md(i)==="ltr",h=je(t.onKeyDown,m=>{var P;if(!Xne.includes(m.key))return;const v=m.target,g=c().filter(A=>{var k;return!((k=A.ref.current)!=null&&k.disabled)}),x=g.findIndex(A=>A.ref.current===v),w=g.length;if(x===-1)return;m.preventDefault();let _=x;const b=0,C=w-1,E=()=>{_=x+1,_>C&&(_=b)},N=()=>{_=x-1,_<b&&(_=C)};switch(m.key){case"Home":_=b;break;case"End":_=C;break;case"ArrowRight":o==="horizontal"&&(f?E():N());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?N():E());break;case"ArrowUp":o==="vertical"&&N();break}const S=_%w;(P=g[S].ref.current)==null||P.focus()});return u.jsx(rre,{scope:n,disabled:r,direction:i,orientation:o,children:u.jsx(sP.Slot,{scope:n,children:u.jsx(Fe.div,{...s,"data-orientation":o,ref:l,onKeyDown:r?void 0:h})})})}),Vy="AccordionItem",[ire,lP]=Vx(Vy),UF=z.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,o=Bx(Vy,n),s=Zne(Vy,n),a=aP(n),l=Zo(),c=r&&s.value.includes(r)||!1,d=o.disabled||t.disabled;return u.jsx(ire,{scope:n,open:c,disabled:d,triggerId:l,children:u.jsx($F,{"data-orientation":o.orientation,"data-state":KF(c),...a,...i,ref:e,disabled:d,open:c,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})})});UF.displayName=Vy;var zF="AccordionHeader",WF=z.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Bx(Js,n),o=lP(zF,n);return u.jsx(Fe.h3,{"data-orientation":i.orientation,"data-state":KF(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});WF.displayName=zF;var Z1="AccordionTrigger",HF=z.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Bx(Js,n),o=lP(Z1,n),s=ere(Z1,n),a=aP(n);return u.jsx(sP.ItemSlot,{scope:n,children:u.jsx(Kne,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...a,...r,ref:e})})});HF.displayName=Z1;var qF="AccordionContent",GF=z.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Bx(Js,n),o=lP(qF,n),s=aP(n);return u.jsx(Yne,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...s,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});GF.displayName=qF;function KF(t){return t?"open":"closed"}var ore=LF,sre=UF,are=WF,YF=HF,XF=GF;const QF=ore,ga=y.forwardRef(({className:t,...e},n)=>u.jsx(sre,{ref:n,className:st("border-b",t),...e}));ga.displayName="AccordionItem";const ya=y.forwardRef(({className:t,children:e,...n},r)=>u.jsx(are,{className:"flex",children:u.jsxs(YF,{ref:r,className:st("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,u.jsx(_h,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ya.displayName=YF.displayName;const va=y.forwardRef(({className:t,children:e,...n},r)=>u.jsx(XF,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:st("pb-4 pt-0",t),children:e})}));va.displayName=XF.displayName;const lre=["CUEMASTER2024","PROMETHEAN","EARLYBIRD"];function cre(t){return lre.includes(t.toUpperCase().trim())}function cP({className:t=""}){return u.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 bg-gradient-to-r from-amber-500 to-yellow-400 text-black rounded-full ${t}`,children:u.jsx(Eh,{className:"w-3 h-3"})})}function Lg({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,signInWithFacebook:i,unlockPro:o,isLoading:s}=zp(),[a,l]=y.useState(""),[c,d]=y.useState(""),[f,h]=y.useState(!1),m=async v=>{if(v.preventDefault(),!cre(a)){d("Invalid promo code. Please try again.");return}h(!0);const g=await o(a);h(!1),g?(e(!1),window.location.reload()):d("Failed to unlock. Please try again.")};return u.jsx(zi,{open:t,onOpenChange:e,children:u.jsxs(vi,{className:"max-w-sm",children:[u.jsxs(xi,{children:[u.jsxs(bi,{className:"flex items-center gap-2",children:[u.jsx(Eh,{className:"w-5 h-5 text-amber-500"}),"Upgrade to Pro"]}),u.jsx(uc,{children:n?"Enter a promo code to unlock all premium features.":"Sign in to sync your Pro status across devices, or enter a promo code."})]}),!n&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs(ae,{variant:"outline",className:"w-full gap-2",onClick:r,disabled:s,"data-testid":"button-google-signin",children:[u.jsx(rN,{className:"w-4 h-4"}),"Sign in with Google"]}),u.jsxs(ae,{variant:"outline",className:"w-full gap-2",onClick:i,disabled:s,"data-testid":"button-facebook-signin",children:[u.jsx(rN,{className:"w-4 h-4"}),"Sign in with Facebook"]})]}),n&&u.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["Signed in as ",n.displayName||n.email]}),u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(or,{placeholder:"Enter promo code",value:a,onChange:v=>{l(v.target.value),d("")},className:"text-center uppercase tracking-widest","data-testid":"input-promo-code"}),c&&u.jsx("p",{className:"text-sm text-destructive mt-2",children:c})]}),u.jsxs(ae,{type:"submit",className:"w-full gap-2",disabled:f,"data-testid":"button-submit-promo",children:[u.jsx(Eh,{className:"w-4 h-4"}),f?"Unlocking...":"Unlock Pro"]})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Full payment integration coming soon."})]})})}function uP({children:t,isLocked:e=!0,featureName:n="This feature",variant:r="blur",onUpgradeClick:i}){const[o,s]=y.useState(!1),{isPro:a}=zp();if(a||!e)return u.jsx(u.Fragment,{children:t});const l=()=>{i?i():s(!0)};return r==="badge"?u.jsxs("div",{className:"relative",children:[t,u.jsx("div",{className:"absolute top-1 right-1",children:u.jsx(cP,{})}),u.jsx(Lg,{open:o,onOpenChange:s})]}):r==="overlay"?u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"opacity-50 pointer-events-none select-none",children:t}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg",children:[u.jsx(g1,{className:"w-8 h-8 text-muted-foreground mb-2"}),u.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n," requires Pro"]}),u.jsxs(ae,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[u.jsx(Eh,{className:"w-4 h-4"}),"Upgrade to Pro"]})]}),u.jsx(Lg,{open:o,onOpenChange:s})]}):u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"blur-sm opacity-60 pointer-events-none select-none",children:t}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:u.jsxs("div",{className:"bg-background/90 backdrop-blur-sm p-4 rounded-lg text-center border shadow-lg",children:[u.jsx(g1,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),u.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:n}),u.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Unlock with CueMaster Pro"}),u.jsxs(ae,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[u.jsx(Eh,{className:"w-4 h-4"}),"Upgrade"]})]})}),u.jsx(Lg,{open:o,onOpenChange:s})]})}function ure({children:t,isLocked:e=!0,onClick:n,...r}){const[i,o]=y.useState(!1),{isPro:s}=zp();if(s||!e)return u.jsx(ae,{onClick:n,...r,children:t});const a=l=>{l.preventDefault(),o(!0)};return u.jsxs(u.Fragment,{children:[u.jsxs(ae,{onClick:a,...r,className:`relative ${r.className||""}`,children:[t,u.jsx("span",{className:"absolute -top-1 -right-1",children:u.jsx(cP,{})})]}),u.jsx(Lg,{open:i,onOpenChange:o})]})}const Oc=["mph","kph","m/s","ft/s"],Fg={"7' (bar)":{W:39,L:78},"8' (standard)":{W:44,L:88},"8' (pro)":{W:46,L:92},"9' (tournament)":{W:50,L:100}},rj=Object.keys(Fg),Fo=(t,e,n)=>Math.min(n,Math.max(e,t)),dre=.0254,qo=2.25,vs=qo/2,JF="cuemaster-velocity-v1";function fre(){try{const t=localStorage.getItem(JF);return t?JSON.parse(t):null}catch{return null}}function hre(t){try{localStorage.setItem(JF,JSON.stringify(t))}catch{}}function pre(t,e,n){const r=3*n/4,i=e/2,o=[];if(t==="8"){const s=[1,2,3,4,5];for(let a=0;a<s.length;a++){const l=s[a],c=r+a*qo,d=(l-1)*qo;for(let f=0;f<l;f++)o.push({x:i-d/2+f*qo,y:c,row:a,idx:f,n:l})}}else{const s=[1,2,3,2,1];for(let a=0;a<s.length;a++){const l=s[a],c=r+a*qo,d=(l-1)*qo;for(let f=0;f<l;f++)o.push({x:i-d/2+f*qo,y:c,row:a,idx:f,n:l})}}return o}function mre(t){if(!t||!t.length)return null;const e=t.map(r=>r.mph).filter(r=>Number.isFinite(r));return e.length?{avg:e.reduce((r,i)=>r+i,0)/e.length,high:Math.max(...e),low:Math.min(...e)}:null}function gre({x0:t,y0:e,dx:n,dy:r,W:i,L:o}){const s=[];r>0&&s.push((o-e)/r),n<0&&s.push((0-t)/n),n>0&&s.push((i-t)/n);const a=Math.min(...s.filter(l=>l>0));return isFinite(a)?a:null}function yre(){const[,t]=cl(),{toast:e}=Ed(),[n,r]=y.useState("record"),[i,o]=y.useState(3),s=rj[i]||"9' (tournament)",a=Fg[s],l=a.W,c=a.L,[d,f]=y.useState("9"),[h,m]=y.useState(!0),[v,g]=y.useState("mph"),[x,w]=y.useState(!1),_=()=>{const q=Oc.indexOf(v);g(Oc[(q+1)%Oc.length])},[b,C]=y.useState({x:25,y:20}),[E,N]=y.useState({x:l/2,y:3*c/4-qo}),[S,P]=y.useState(null),[A,k]=y.useState(null),[I,O]=y.useState(!1),[R,L]=y.useState(null),[B,U]=y.useState(null),[W,F]=y.useState(null),[V,Z]=y.useState(null),[Q,ne]=y.useState([]),[ge,Ae]=y.useState(!1),[Ve,Ke]=y.useState(!1),[me,we]=y.useState(1),[ee,he]=y.useState(!1),[pe,K]=y.useState([null,null,null,null,null]),[_e,Oe]=y.useState({open:!1,kind:null,index:null}),[ht,at]=y.useState(!1),[Ct,Rt]=y.useState(!1),[ve,Ye]=y.useState([]),[cn,Ot]=y.useState(!1),[pn,wr]=y.useState(""),[mn,ur]=y.useState(""),[io,Xt]=y.useState(!1),[Gr,Un]=y.useState(0),zn=y.useRef(null),It=y.useRef(null),en=y.useRef(null),_r=y.useRef(!1),dr=y.useRef(!1);y.useEffect(()=>(Pt.startSession("velocity"),()=>{Pt.endSession()}),[]),y.useEffect(()=>{const q=fre();q?(o(q.presetIndex??3),C(q.cue||{x:25,y:20}),N(q.ghost||{x:l/2,y:3*c/4-qo}),g(q.unit||"mph"),ne(q.history||[]),f(q.variant||"9"),m(q.snap??!0),K(q.breakSlots||[null,null,null,null,null]),Ye(q.leaderboard||[]),ur(q.storedInitials||""),q.tutorialDone||Ke(!0)):Ke(!0)},[]),y.useEffect(()=>{hre({presetIndex:i,cue:b,ghost:E,unit:v,history:Q,variant:d,snap:h,breakSlots:pe,leaderboard:ve,storedInitials:mn,tutorialDone:!0})},[i,b,E,v,Q,d,h,pe,ve,mn]),y.useEffect(()=>{const q=setInterval(()=>{Un($e=>($e+1)%Oc.length)},4e3);return()=>clearInterval(q)},[]),y.useEffect(()=>{C(q=>({x:Fo(q.x,0,l),y:Fo(q.y,0,c/4)})),N(q=>({x:Fo(q.x,0,l),y:Fo(q.y,vs,c-vs)}))},[l,c]);const G=y.useMemo(()=>pre(d,l,c),[d,l,c]),ce=y.useCallback((q,$e)=>{const Je=$e.x-q.x,We=$e.y-q.y,rt=Math.hypot(Je,We);if(!rt)return null;const tt=Je/rt,Mt=We/rt,Dt=qo;let $t=1/0,ct=null,fr=null;for(let Xr=0;Xr<G.length;Xr++){const Ut=G[Xr],Lt=Ut.x-q.x,En=Ut.y-q.y,Tn=Lt*tt+En*Mt;if(Tn<=0)continue;const un=q.x+tt*Tn,M=q.y+Mt*Tn,$=Math.hypot(Ut.x-un,Ut.y-M);if($>Dt)continue;const Y=Math.sqrt(Dt*Dt-$*$),J=Tn-Y;J<=0||J<$t&&($t=J,ct={x:q.x+tt*J,y:q.y+Mt*J},fr=Xr)}return ct?{point:ct,index:fr}:null},[G]),Ee=y.useCallback((q=b,$e=E)=>{const Je=$e.x-q.x,We=$e.y-q.y,rt=Math.hypot(Je,We);return We<=0||rt<=0?null:rt},[b,E]),qe=y.useMemo(()=>{const q=Ee();if(!q)return!1;const $e=(E.x-b.x)/q,Je=(E.y-b.y)/q,We=gre({x0:b.x,y0:b.y,dx:$e,dy:Je,W:l,L:c});return!We||q<=We+1e-6},[b,E,l,c,Ee]),pt=y.useMemo(()=>{const q=Ee();return{dCG:q?q.toFixed(2):""}},[Ee]),Sn=q=>{switch(v){case"ft/s":return(q*3.28084).toFixed(2);case"m/s":return q.toFixed(2);case"kph":return(q*3.6).toFixed(2);default:return(q*2.23693629).toFixed(2)}},De=q=>{switch(v){case"ft/s":return(q*1.46667).toFixed(2);case"m/s":return(q*.44704).toFixed(2);case"kph":return(q*1.60934).toFixed(2);default:return q.toFixed(2)}},Qe=(q,$e)=>{switch($e){case"ft/s":return(q*1.46667).toFixed(2);case"m/s":return(q*.44704).toFixed(2);case"kph":return(q*1.60934).toFixed(2);default:return q.toFixed(2)}},Mn=(q,$e,Je=!1)=>{const We=q.toUpperCase().slice(0,3),rt=Math.min(100,Math.round($e/25*100)),tt={initials:We,mph:$e,percentage:rt,ts:Date.now()};Ye(Mt=>[...Mt,tt].sort(($t,ct)=>ct.percentage-$t.percentage).slice(0,1e3)),We.length===3&&ur(We),Xt(!1),wr(""),Je||e({title:"Added to Leaderboard",description:`${We} - ${rt}%`})},gn=y.useRef([]),[Ii,ai]=y.useState(0),[Sr,li]=y.useState(null),na=3e3,Oo=48e3,gl=q=>{if(q.length<10)return null;let $e=0;for(let ct=0;ct<q.length;ct++)q[ct].amplitude>$e&&($e=q[ct].amplitude);if($e<.1)return null;const Je=40,We=300;let rt=0,tt=q[0].amplitude;for(let ct=0;ct<q.length&&!(q[ct].time>50);ct++)q[ct].amplitude>tt&&(tt=q[ct].amplitude,rt=ct);const Mt=q[rt].time;let Dt=-1,$t=0;for(let ct=0;ct<q.length;ct++){const fr=q[ct].time-Mt;fr>=Je&&fr<=We&&q[ct].amplitude>$t&&($t=q[ct].amplitude,Dt=ct)}return Dt===-1||$t<$e*.1?null:{first:q[rt],second:q[Dt]}},yl=async()=>{const q={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:Oo}},$e=await navigator.mediaDevices.getUserMedia(q),Je=new AudioContext({sampleRate:Oo});Je.state==="suspended"&&await Je.resume();const We=Je.createMediaStreamSource($e),rt=Je.createBiquadFilter();rt.type="highpass",rt.frequency.value=150;const tt=Je.createBiquadFilter();tt.type="lowpass",tt.frequency.value=8e3;const Mt=Je.createAnalyser();Mt.fftSize=2048,We.connect(rt),rt.connect(tt),tt.connect(Mt);const Dt=new Float32Array(Mt.fftSize);gn.current=[];let $t=null,ct=null;const fr=.15,Xr=()=>{if(!_r.current)return;Mt.getFloatTimeDomainData(Dt);let Ut=0;for(let En=0;En<Dt.length;En++)Ut=Math.max(Ut,Math.abs(Dt[En]));const Lt=performance.now();if($t===null&&Ut>fr&&($t=Lt,ct=Lt,li("Recording break...")),$t!==null){gn.current.push({time:Lt-$t,amplitude:Ut});const En=Lt-ct;if(ai(Math.min(100,En/na*100)),En>=na){_r.current=!1,li("Analyzing audio...");const Tn=gl(gn.current);if(Tn){const un=(Tn.second.time-Tn.first.time)/1e3;if(un>=.04&&un<=.3)U(Tn.first.time/1e3),F(Tn.second.time/1e3),li(`Found peaks: ${un.toFixed(4)}s apart`);else{const M=`Peaks were ${(un*1e3).toFixed(0)}ms apart (expected 40-300ms)`;en.current&&(en.current.stream.getTracks().forEach($=>$.stop()),en.current.audioCtx.close(),en.current=null),O(!1),ai(0),li(null),It.current&&clearTimeout(It.current),e({title:"Detection failed",description:M,variant:"destructive"})}}else en.current&&(en.current.stream.getTracks().forEach(un=>un.stop()),en.current.audioCtx.close(),en.current=null),O(!1),ai(0),li(null),It.current&&clearTimeout(It.current),e({title:"Detection failed",description:"Could not find two distinct impact sounds",variant:"destructive"});return}}requestAnimationFrame(Xr)};return requestAnimationFrame(Xr),{audioCtx:Je,stream:$e}},ra=async()=>{if(!Ee()){e({title:"Invalid setup",description:"Line would hit a cushion before the rack. Adjust cue/ghost.",variant:"destructive"});return}Z(null),U(null),F(null),ai(0),li(null),dr.current=!1;for(let $e=5;$e>0;$e--){if(dr.current){L(null);return}L($e),await new Promise(Je=>setTimeout(Je,1e3))}if(dr.current){L(null);return}L(null),O(!0);try{_r.current=!0,en.current=await yl(),It.current&&clearTimeout(It.current),It.current=setTimeout(()=>{Lr(),e({title:"No break detected",description:"Recording stopped after 30 seconds - no loud sound detected"})},3e4),e({title:"Listening...",description:"Break when ready - recording starts on impact"})}catch($e){console.error($e),O(!1),e({title:"Microphone error",description:"Please allow microphone access",variant:"destructive"})}},Lr=()=>{_r.current=!1,dr.current=!0,L(null),en.current&&(en.current.stream.getTracks().forEach(q=>q.stop()),en.current.audioCtx.close(),en.current=null),O(!1),ai(0),li(null),It.current&&clearTimeout(It.current)};y.useEffect(()=>{if(B!==null&&W!==null&&I){const q=Ee()||0,$e=q*dre,Je=Math.max(.005,W-B),We=$e/Je,rt=We*2.23693629,tt={raw_mps:We,mph:Number(rt.toFixed(2)),distanceIn:Number(q.toFixed(1)),deltaT:Number(Je.toFixed(4)),ts:Date.now(),cue:b,ghost:E,table:{W:l,L:c},variant:d};ne(Mt=>[tt,...Mt].slice(0,500)),Z(tt),O(!1),Lr(),Ae(!0),n==="shark"&&mn.length===3&&Mn(mn,tt.mph,!0),Pt.trackSkillMetric("velocity","break_speed",tt.mph,{distanceIn:tt.distanceIn,variant:tt.variant})}},[B,W,I,b,E,l,c,d,Ee,n,mn]);const ia=(q,$e,Je)=>{const We=$e/Je,tt=Math.round(q/We)*We;return Math.abs(q-tt)<=.35&&h?tt:q},Kr=()=>{const $e=Math.min(typeof window<"u"?window.innerWidth-48:400,500),We=Math.min($e/l,400/c),rt=l*We,tt=c*We,Mt=b.x*We+8,Dt=tt-b.y*We+8,$t=E.x*We+8,ct=tt-E.y*We+8,fr=Ut=>{var un;Ut.preventDefault(),Rt(!0);const Lt=(un=zn.current)==null?void 0:un.getBoundingClientRect();if(!Lt)return;const En=M=>{const $={x:M.clientX-Lt.left,y:M.clientY-Lt.top};let Y=($.x-8)/We,J=(tt-($.y-8))/We;Y=Fo(ia(Y,l,8),0,l),J=Fo(ia(J,c,8),vs,c-vs);const ie=ce(b,{x:Y,y:J});if(ie&&ie.point){const{point:ue,index:be}=ie,de=Fo(ue.x,0,l),Te=Fo(ue.y,vs,c-vs);N({x:de,y:Te}),P({x:de,y:Te,index:be}),k(be)}else S&&(N({x:S.x,y:S.y}),k(S.index??null))},Tn=()=>{Rt(!1),window.removeEventListener("pointermove",En)};window.addEventListener("pointermove",En),window.addEventListener("pointerup",Tn,{once:!0})},Xr=Ut=>{var un;Ut.preventDefault(),at(!0);const Lt=(un=zn.current)==null?void 0:un.getBoundingClientRect();if(!Lt)return;const En=M=>{const $={x:M.clientX-Lt.left,y:M.clientY-Lt.top};let Y=($.x-8)/We,J=(tt-($.y-8))/We;Y=Fo(ia(Y,l,8),0,l),J=Fo(ia(J,c,8),0,c/4),C({x:Y,y:J})},Tn=()=>{at(!1),window.removeEventListener("pointermove",En)};window.addEventListener("pointermove",En),window.addEventListener("pointerup",Tn,{once:!0})};return u.jsxs("svg",{ref:zn,width:rt+8*2,height:tt+8*2,className:"rounded-xl touch-none mx-auto block",style:{background:"hsl(var(--muted))"},children:[u.jsx("rect",{x:8,y:8,width:rt,height:tt,fill:"#03C04A",stroke:qe?"hsl(var(--primary))":"#cc8400",strokeWidth:"2"}),Array.from({length:7},(Ut,Lt)=>(Lt+1)/8*rt+8).map((Ut,Lt)=>u.jsx("line",{x1:Ut,x2:Ut,y1:8,y2:8+tt,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gx"+Lt)),Array.from({length:7},(Ut,Lt)=>(Lt+1)/8*tt+8).map((Ut,Lt)=>u.jsx("line",{x1:8,x2:8+rt,y1:Ut,y2:Ut,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gy"+Lt)),u.jsx("line",{x1:Mt,y1:Dt,x2:$t,y2:ct,stroke:"#1e1e1e",strokeWidth:"2.5"}),G.map((Ut,Lt)=>{const En=Ut.x*We+8,Tn=tt-Ut.y*We+8,un=Lt===A;return u.jsx("circle",{cx:En,cy:Tn,r:vs*We,fill:un?"#ffe9e9":"#ffffff",stroke:un?"hsl(var(--primary))":"#000000",strokeWidth:un?2.2:1.25,opacity:un?1:.9},Lt)}),Ct&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:8,y1:ct,x2:8+rt,y2:ct,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"}),u.jsx("line",{x1:$t,y1:8,x2:$t,y2:8+tt,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),ht&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:8,y1:Dt,x2:8+rt,y2:Dt,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"}),u.jsx("line",{x1:Mt,y1:8,x2:Mt,y2:8+tt,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),u.jsx("circle",{cx:$t,cy:ct,r:vs*We,fill:"hsl(var(--primary))",stroke:"#000000",strokeWidth:"2",onPointerDown:fr,style:{cursor:"grab"}}),u.jsx("circle",{cx:Mt,cy:Dt,r:vs*We,fill:"#ffffff",stroke:"#000000",strokeWidth:"1.75",onPointerDown:Xr,style:{cursor:"grab"}})]})},oo=y.useMemo(()=>mre(Q),[Q]),ci=q=>Oe({open:!0,kind:"load",index:q}),Yr=q=>Oe({open:!0,kind:"save",index:q}),ji=({i:q})=>{const $e=!!pe[q],Je=y.useRef(null),We=()=>{Je.current=setTimeout(()=>{Yr(q),Je.current=null},520)},rt=()=>{Je.current&&(clearTimeout(Je.current),ci(q),Je.current=null)};return u.jsxs("button",{className:`text-xs py-2 px-3 rounded-lg border transition-colors ${$e?"bg-primary/20 border-primary/40":"bg-muted border-muted-foreground/20"}`,onPointerDown:We,onPointerUp:rt,onPointerLeave:()=>Je.current&&clearTimeout(Je.current),"data-testid":`button-slot-${q+1}`,children:["Slot ",q+1]})};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Jo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"CueMaster: Velocity"}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>Ke(!0),"data-testid":"button-help",children:u.jsx(cx,{className:"w-5 h-5"})}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>he(!0),"data-testid":"button-settings",children:u.jsx(NE,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 overflow-auto p-4",children:u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs(vF,{value:n,onValueChange:r,className:"w-full",children:[u.jsxs(YT,{className:"grid w-full grid-cols-3",children:[u.jsx(Gl,{value:"record","data-testid":"tab-record",children:"Record"}),u.jsx(Gl,{value:"stats","data-testid":"tab-stats",children:"Stats"}),u.jsxs(Gl,{value:"shark","data-testid":"tab-shark",className:"gap-1",children:["Shark ",u.jsx(cP,{})]})]}),u.jsxs(Kl,{value:"record",className:"space-y-3 mt-3",children:[u.jsxs(Ue,{className:"p-3",children:[u.jsxs("div",{className:"text-center mb-3",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Cue  Rack Speed"}),u.jsxs("button",{onClick:_,className:"text-4xl font-bold text-foreground hover:text-primary transition-colors cursor-pointer","data-testid":"button-cycle-unit",children:[V?Sn(V.raw_mps):"--.--.",u.jsx("span",{className:"text-2xl ml-1 text-primary underline decoration-dotted underline-offset-4",children:v})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap unit to change"})]}),u.jsx(ae,{className:"w-full",size:"lg",variant:I||R!==null?"destructive":"default",onClick:I||R!==null?Lr:ra,"data-testid":"button-record",children:R!==null?`Cancel (${R})`:I?"Stop Recording":"Tap to Record  Break"}),I&&u.jsxs("div",{className:"mt-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-muted-foreground",children:Sr||"Waiting for sound..."}),u.jsxs("span",{className:"font-mono text-primary",children:[Math.round(Ii),"%"]})]}),u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all duration-100",style:{width:`${Ii}%`}})})]})]}),u.jsx(Ue,{className:"p-3",children:u.jsxs(ej,{open:x,onOpenChange:w,children:[u.jsxs(tj,{className:"flex items-center justify-between w-full py-2","data-testid":"button-toggle-table",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[pt.dCG,'"  ',d,"-ball"]})]}),u.jsx(_h,{className:`w-4 h-4 transition-transform ${x?"rotate-180":""}`})]}),u.jsxs(nj,{className:"pt-2",children:[u.jsx("div",{className:"flex items-center justify-end gap-2 mb-2",children:["8","9"].map(q=>u.jsxs(ae,{variant:d===q?"default":"outline",size:"sm",onClick:()=>f(q),"data-testid":`button-variant-${q}`,children:[q,"-ball"]},q))}),u.jsx(Kr,{}),!qe&&u.jsx("p",{className:"text-xs text-amber-500 mt-2 text-center",children:"Warning: current ray hits a cushion before rack."}),u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Presets"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load  Hold to save"})]}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4].map(q=>u.jsx(ji,{i:q},q))})]})]})]})})]}),u.jsx(Kl,{value:"stats",className:"space-y-3 mt-3",children:u.jsxs(Ue,{className:"p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Statistics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to change units"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("button",{onClick:_,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-high",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"High"}),u.jsx("div",{className:"text-lg font-bold",children:oo?De(oo.high):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]}),u.jsxs("button",{onClick:_,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-avg",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"}),u.jsx("div",{className:"text-lg font-bold",children:oo?De(oo.avg):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]}),u.jsxs("button",{onClick:_,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-low",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"}),u.jsx("div",{className:"text-lg font-bold",children:oo?De(oo.low):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]})]}),u.jsxs("div",{className:"mt-3 text-sm text-muted-foreground text-center",children:[Q.length," breaks recorded"]}),Q.length>0&&u.jsxs(ae,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>ne([]),"data-testid":"button-clear-history",children:[u.jsx(CW,{className:"w-4 h-4 mr-2"}),"Clear History"]})]})}),u.jsx(Kl,{value:"shark",className:"space-y-3 mt-3",children:u.jsxs(uP,{isLocked:!0,featureName:"Shark Mode",variant:"blur",children:[u.jsxs(Ue,{className:"p-3",children:[u.jsxs("div",{className:"text-center mb-2",children:[u.jsx("div",{className:"text-2xl font-extrabold",children:"Shark Mode"}),u.jsx("button",{onClick:_,className:"text-sm text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 transition-colors cursor-pointer","data-testid":"button-shark-cycle-unit",children:v})]}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),u.jsx("stop",{offset:"50%",stopColor:"#eab308"}),u.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),u.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),u.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${Math.min(100,V?V.mph/25*100:0)*2.2} 220`}),(()=>{const Je=(-180+Math.min(100,V?V.mph/25*100:0)/100*180)*Math.PI/180,We=90,rt=90,tt=55,Mt=We+tt*Math.cos(Je),Dt=rt+tt*Math.sin(Je);return u.jsxs("g",{children:[u.jsx("line",{x1:We,y1:rt,x2:Mt,y2:Dt,stroke:"hsl(var(--foreground))",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:We,cy:rt,r:"6",fill:"hsl(var(--foreground))"})]})})(),u.jsxs("text",{x:"90",y:"75",fontSize:"24",fontWeight:"bold",fill:"hsl(var(--foreground))",textAnchor:"middle",children:[V?Math.min(100,Math.round(V.mph/25*100)):0,"%"]})]})}),u.jsx(ae,{className:"w-full",size:"lg",variant:I?"destructive":"default",onClick:I?Lr:ra,"data-testid":"button-shark-record",children:I?"STOP":"REC"})]}),u.jsx(Ue,{className:"p-3",children:u.jsxs(ej,{open:x,onOpenChange:w,children:[u.jsxs(tj,{className:"flex items-center justify-between w-full py-2","data-testid":"button-shark-toggle-table",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[pt.dCG,'"  ',d,"-ball"]})]}),u.jsx(_h,{className:`w-4 h-4 transition-transform ${x?"rotate-180":""}`})]}),u.jsx(nj,{className:"pt-2",children:u.jsx(Kr,{})})]})}),V&&u.jsxs(ae,{variant:"outline",className:"w-full",onClick:()=>Xt(!0),"data-testid":"button-add-to-leaderboard",children:[u.jsx(Sg,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]}),u.jsx(Ue,{className:"p-3",children:u.jsx(QF,{type:"single",collapsible:!0,value:cn?"leaderboard":"",onValueChange:q=>Ot(q==="leaderboard"),children:u.jsxs(ga,{value:"leaderboard",className:"border-none",children:[u.jsx(ya,{className:"py-2 hover:no-underline","data-testid":"button-toggle-leaderboard",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Sg,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium",children:"Leaderboard"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",ve.length,")"]})]})}),u.jsxs(va,{children:[ve.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No entries yet. Record a break and add it to the leaderboard!"}):u.jsx("div",{className:"max-h-64 overflow-y-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"sticky top-0 bg-card",children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"#"}),u.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"Player"}),u.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:"Score"}),u.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:u.jsx("span",{className:"text-primary",children:Oc[Gr]})})]})}),u.jsx("tbody",{children:ve.map((q,$e)=>u.jsxs("tr",{className:`border-b border-border/50 ${$e<3?"bg-primary/5":""}`,"data-testid":`row-leaderboard-${$e}`,children:[u.jsxs("td",{className:"py-2 px-1 font-mono text-muted-foreground",children:[$e===0&&u.jsx("span",{className:"text-yellow-500",children:""}),$e===1&&u.jsx("span",{className:"text-gray-400",children:""}),$e===2&&u.jsx("span",{className:"text-amber-600",children:""}),$e>2&&$e+1]}),u.jsx("td",{className:"py-2 px-1 font-bold tracking-wider",children:q.initials}),u.jsxs("td",{className:"py-2 px-1 text-right font-mono text-primary",children:[q.percentage,"%"]}),u.jsx("td",{className:"py-2 px-1 text-right font-mono text-muted-foreground transition-opacity duration-300",children:Qe(q.mph,Oc[Gr])})]},`${q.initials}-${q.ts}`))})]})}),ve.length>0&&u.jsx(ae,{variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive",onClick:()=>{confirm("Clear all leaderboard entries?")&&Ye([])},"data-testid":"button-clear-leaderboard",children:"Clear Leaderboard"})]})]})})})]})})]})})}),u.jsx(zi,{open:Ve,onOpenChange:Ke,children:u.jsxs(vi,{className:"max-w-md",children:[u.jsx(xi,{children:u.jsx(bi,{children:"Welcome to CueMaster: Velocity"})}),u.jsxs("div",{className:"space-y-4",children:[me===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"1) Microphone Access"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["We detect two sharp sounds: ",u.jsx("span",{className:"font-semibold text-foreground",children:"tip impact"})," and"," ",u.jsx("span",{className:"font-semibold text-foreground",children:"cue-ball / rack"})," contact. Time between them plus the measured distance yields your speed. Audio is processed locally; nothing leaves your device."]}),u.jsx(ae,{variant:"outline",onClick:async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0}),e({title:"Microphone permission granted"})}catch{e({title:"Permission denied",variant:"destructive"})}},"data-testid":"button-allow-mic",children:"Allow Microphone"})]}),me===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"2) Aim Setup"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag the ",u.jsx("span",{className:"font-semibold text-foreground",children:"white"})," cue ball and"," ",u.jsx("span",{className:"font-semibold text-red-500",children:"red"})," ghost ball on the table to match your intended first contact. Enable snap-to-grid in Settings for quick alignment."]})]}),me===3&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"3) Record & Confirm"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tap ",u.jsx("span",{className:"font-semibold text-foreground",children:"Record"}),", break, then confirm the first contact if needed. Results save to Stats. Auto-timeout after 30s if no break is detected."]})]}),me===4&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"4) Shark Mode"}),u.jsx("p",{className:"text-sm text-primary italic",children:"Can you out pace a Great White?"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Switch to the ",u.jsx("span",{className:"font-semibold text-foreground",children:"Shark"})," tab for a focused speed challenge. The speedometer gauge shows your power level from 0-100%. Push your limits and see how you stack up!"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ae,{variant:"outline",size:"sm",onClick:()=>we(q=>Math.max(1,q-1)),disabled:me===1,children:"Back"}),u.jsx(ae,{variant:"outline",size:"sm",onClick:()=>we(q=>Math.min(4,q+1)),disabled:me===4,children:"Next"})]}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(q=>u.jsx("div",{className:`w-2 h-2 rounded-full ${q===me?"bg-primary":"bg-muted"}`},q))}),u.jsx(ae,{size:"sm",onClick:()=>Ke(!1),children:me===4?"Finish":"Skip"})]})]})}),u.jsx(zi,{open:ge,onOpenChange:Ae,children:u.jsxs(vi,{className:"max-w-md",children:[u.jsx(xi,{children:u.jsx(bi,{children:"Confirm First Contact"})}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If the real first contact differed, drag to match what actually happened, then confirm."}),u.jsx(Kr,{}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(ae,{variant:"outline",onClick:()=>Ae(!1),children:"Looks Right"}),u.jsx(ae,{onClick:()=>Ae(!1),children:"Confirm"})]})]})}),u.jsx(zi,{open:_e.open,onOpenChange:q=>Oe({..._e,open:q}),children:u.jsxs(vi,{className:"max-w-sm",children:[u.jsx(xi,{children:u.jsx(bi,{children:_e.kind==="load"?"Load Preset":"Save Preset"})}),u.jsx("p",{className:"text-sm text-muted-foreground",children:_e.kind==="load"?pe[_e.index]?"Load this saved break setup?":"This slot is empty.":pe[_e.index]?"Overwrite the existing setup for this slot?":"Save your current layout to this slot?"}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(ae,{variant:"outline",onClick:()=>Oe({open:!1,kind:null,index:null}),children:"Cancel"}),u.jsx(ae,{onClick:()=>{if(_e.kind==="load"){const q=pe[_e.index];q&&(C(q.cue),N(q.ghost),f(q.variant),o(q.presetIndex),m(q.snap),e({title:"Preset loaded"}))}else{const q={cue:b,ghost:E,variant:d,presetIndex:i,snap:h,savedAt:Date.now()};K($e=>{const Je=[...$e];return Je[_e.index]=q,Je}),e({title:"Preset saved"})}Oe({open:!1,kind:null,index:null})},disabled:_e.kind==="load"&&!pe[_e.index],children:_e.kind==="load"?"Load":pe[_e.index]?"Overwrite":"Save"})]})]})}),u.jsx(zi,{open:ee,onOpenChange:he,children:u.jsxs(vi,{className:"max-w-md",children:[u.jsx(xi,{children:u.jsx(bi,{children:"Settings"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(dn,{children:"Snap to Grid"}),u.jsx(Hi,{checked:h,onCheckedChange:m,"data-testid":"switch-snap"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"mb-2 block",children:"Table Size"}),u.jsx("div",{className:"space-y-1",children:rj.map((q,$e)=>u.jsxs("button",{onClick:()=>o($e),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${$e===i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`button-table-${$e}`,children:[u.jsx("span",{className:"font-medium",children:q}),u.jsxs("span",{className:"text-xs ml-2 opacity-70",children:[Fg[q].W,"",Fg[q].L," in"]})]},q))})]}),u.jsx(ae,{variant:"outline",className:"w-full",onClick:()=>Ke(!0),children:"Open Tutorial"})]})]})}),u.jsx(zi,{open:io,onOpenChange:Xt,children:u.jsxs(vi,{className:"max-w-sm",children:[u.jsxs(xi,{children:[u.jsx(bi,{children:"Enter Your Initials"}),u.jsx(uc,{children:"Add your break to the leaderboard with your 3-letter initials."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(dn,{htmlFor:"initials",children:"Initials (3 letters)"}),u.jsx(or,{id:"initials",value:pn,onChange:q=>wr(q.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3)),placeholder:"ABC",maxLength:3,className:"text-center text-2xl font-bold tracking-[0.5em] uppercase",autoComplete:"off","data-testid":"input-initials"})]}),V&&u.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"}),u.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.min(100,Math.round(V.mph/25*100)),"%"]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[V.mph.toFixed(2)," mph"]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(ae,{variant:"outline",onClick:()=>Xt(!1),children:"Cancel"}),u.jsxs(ae,{onClick:()=>V&&Mn(pn,V.mph),disabled:pn.length!==3,"data-testid":"button-submit-initials",children:[u.jsx(Sg,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]})]})]})]})}),R!==null&&u.jsxs("div",{className:"fixed inset-0 z-50 bg-background/95 backdrop-blur-sm flex flex-col items-center justify-center",onClick:Lr,children:[u.jsx("div",{className:"text-[12rem] font-bold text-primary animate-pulse leading-none",children:R}),u.jsx("p",{className:"text-2xl text-muted-foreground mt-4",children:"Get into position..."}),u.jsx(ae,{variant:"destructive",size:"lg",className:"mt-8",onClick:Lr,children:"Cancel"})]})]})}var vre=Array.isArray,si=vre,xre=typeof dm=="object"&&dm&&dm.Object===Object&&dm,ZF=xre,bre=ZF,wre=typeof self=="object"&&self&&self.Object===Object&&self,_re=bre||wre||Function("return this")(),ms=_re,Sre=ms,Ere=Sre.Symbol,Hp=Ere,ij=Hp,eV=Object.prototype,Tre=eV.hasOwnProperty,Pre=eV.toString,df=ij?ij.toStringTag:void 0;function Are(t){var e=Tre.call(t,df),n=t[df];try{t[df]=void 0;var r=!0}catch{}var i=Pre.call(t);return r&&(e?t[df]=n:delete t[df]),i}var Cre=Are,Nre=Object.prototype,Ire=Nre.toString;function jre(t){return Ire.call(t)}var kre=jre,oj=Hp,Ore=Cre,Rre=kre,Mre="[object Null]",Dre="[object Undefined]",sj=oj?oj.toStringTag:void 0;function $re(t){return t==null?t===void 0?Dre:Mre:sj&&sj in Object(t)?Ore(t):Rre(t)}var Zs=$re;function Lre(t){return t!=null&&typeof t=="object"}var ea=Lre,Fre=Zs,Vre=ea,Bre="[object Symbol]";function Ure(t){return typeof t=="symbol"||Vre(t)&&Fre(t)==Bre}var $d=Ure,zre=si,Wre=$d,Hre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qre=/^\w*$/;function Gre(t,e){if(zre(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Wre(t)?!0:qre.test(t)||!Hre.test(t)||e!=null&&t in Object(e)}var dP=Gre;function Kre(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fl=Kre;const Ld=Yt(fl);var Yre=Zs,Xre=fl,Qre="[object AsyncFunction]",Jre="[object Function]",Zre="[object GeneratorFunction]",eie="[object Proxy]";function tie(t){if(!Xre(t))return!1;var e=Yre(t);return e==Jre||e==Zre||e==Qre||e==eie}var fP=tie;const bt=Yt(fP);var nie=ms,rie=nie["__core-js_shared__"],iie=rie,Wb=iie,aj=function(){var t=/[^.]+$/.exec(Wb&&Wb.keys&&Wb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function oie(t){return!!aj&&aj in t}var sie=oie,aie=Function.prototype,lie=aie.toString;function cie(t){if(t!=null){try{return lie.call(t)}catch{}try{return t+""}catch{}}return""}var tV=cie,uie=fP,die=sie,fie=fl,hie=tV,pie=/[\\^$.*+?()[\]{}|]/g,mie=/^\[object .+?Constructor\]$/,gie=Function.prototype,yie=Object.prototype,vie=gie.toString,xie=yie.hasOwnProperty,bie=RegExp("^"+vie.call(xie).replace(pie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wie(t){if(!fie(t)||die(t))return!1;var e=uie(t)?bie:mie;return e.test(hie(t))}var _ie=wie;function Sie(t,e){return t==null?void 0:t[e]}var Eie=Sie,Tie=_ie,Pie=Eie;function Aie(t,e){var n=Pie(t,e);return Tie(n)?n:void 0}var Sc=Aie,Cie=Sc,Nie=Cie(Object,"create"),Ux=Nie,lj=Ux;function Iie(){this.__data__=lj?lj(null):{},this.size=0}var jie=Iie;function kie(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Oie=kie,Rie=Ux,Mie="__lodash_hash_undefined__",Die=Object.prototype,$ie=Die.hasOwnProperty;function Lie(t){var e=this.__data__;if(Rie){var n=e[t];return n===Mie?void 0:n}return $ie.call(e,t)?e[t]:void 0}var Fie=Lie,Vie=Ux,Bie=Object.prototype,Uie=Bie.hasOwnProperty;function zie(t){var e=this.__data__;return Vie?e[t]!==void 0:Uie.call(e,t)}var Wie=zie,Hie=Ux,qie="__lodash_hash_undefined__";function Gie(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Hie&&e===void 0?qie:e,this}var Kie=Gie,Yie=jie,Xie=Oie,Qie=Fie,Jie=Wie,Zie=Kie;function Fd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fd.prototype.clear=Yie;Fd.prototype.delete=Xie;Fd.prototype.get=Qie;Fd.prototype.has=Jie;Fd.prototype.set=Zie;var eoe=Fd;function toe(){this.__data__=[],this.size=0}var noe=toe;function roe(t,e){return t===e||t!==t&&e!==e}var hP=roe,ioe=hP;function ooe(t,e){for(var n=t.length;n--;)if(ioe(t[n][0],e))return n;return-1}var zx=ooe,soe=zx,aoe=Array.prototype,loe=aoe.splice;function coe(t){var e=this.__data__,n=soe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():loe.call(e,n,1),--this.size,!0}var uoe=coe,doe=zx;function foe(t){var e=this.__data__,n=doe(e,t);return n<0?void 0:e[n][1]}var hoe=foe,poe=zx;function moe(t){return poe(this.__data__,t)>-1}var goe=moe,yoe=zx;function voe(t,e){var n=this.__data__,r=yoe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var xoe=voe,boe=noe,woe=uoe,_oe=hoe,Soe=goe,Eoe=xoe;function Vd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vd.prototype.clear=boe;Vd.prototype.delete=woe;Vd.prototype.get=_oe;Vd.prototype.has=Soe;Vd.prototype.set=Eoe;var Wx=Vd,Toe=Sc,Poe=ms,Aoe=Toe(Poe,"Map"),pP=Aoe,cj=eoe,Coe=Wx,Noe=pP;function Ioe(){this.size=0,this.__data__={hash:new cj,map:new(Noe||Coe),string:new cj}}var joe=Ioe;function koe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ooe=koe,Roe=Ooe;function Moe(t,e){var n=t.__data__;return Roe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Hx=Moe,Doe=Hx;function $oe(t){var e=Doe(this,t).delete(t);return this.size-=e?1:0,e}var Loe=$oe,Foe=Hx;function Voe(t){return Foe(this,t).get(t)}var Boe=Voe,Uoe=Hx;function zoe(t){return Uoe(this,t).has(t)}var Woe=zoe,Hoe=Hx;function qoe(t,e){var n=Hoe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Goe=qoe,Koe=joe,Yoe=Loe,Xoe=Boe,Qoe=Woe,Joe=Goe;function Bd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bd.prototype.clear=Koe;Bd.prototype.delete=Yoe;Bd.prototype.get=Xoe;Bd.prototype.has=Qoe;Bd.prototype.set=Joe;var mP=Bd,nV=mP,Zoe="Expected a function";function gP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Zoe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(gP.Cache||nV),n}gP.Cache=nV;var rV=gP;const ese=Yt(rV);var tse=rV,nse=500;function rse(t){var e=tse(t,function(r){return n.size===nse&&n.clear(),r}),n=e.cache;return e}var ise=rse,ose=ise,sse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ase=/\\(\\)?/g,lse=ose(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sse,function(n,r,i,o){e.push(i?o.replace(ase,"$1"):r||n)}),e}),cse=lse;function use(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var yP=use,uj=Hp,dse=yP,fse=si,hse=$d,pse=1/0,dj=uj?uj.prototype:void 0,fj=dj?dj.toString:void 0;function iV(t){if(typeof t=="string")return t;if(fse(t))return dse(t,iV)+"";if(hse(t))return fj?fj.call(t):"";var e=t+"";return e=="0"&&1/t==-pse?"-0":e}var mse=iV,gse=mse;function yse(t){return t==null?"":gse(t)}var oV=yse,vse=si,xse=dP,bse=cse,wse=oV;function _se(t,e){return vse(t)?t:xse(t,e)?[t]:bse(wse(t))}var sV=_se,Sse=$d,Ese=1/0;function Tse(t){if(typeof t=="string"||Sse(t))return t;var e=t+"";return e=="0"&&1/t==-Ese?"-0":e}var qx=Tse,Pse=sV,Ase=qx;function Cse(t,e){e=Pse(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Ase(e[n++])];return n&&n==r?t:void 0}var vP=Cse,Nse=vP;function Ise(t,e,n){var r=t==null?void 0:Nse(t,e);return r===void 0?n:r}var aV=Ise;const Ki=Yt(aV);function jse(t){return t==null}var kse=jse;const yt=Yt(kse);var Ose=Zs,Rse=si,Mse=ea,Dse="[object String]";function $se(t){return typeof t=="string"||!Rse(t)&&Mse(t)&&Ose(t)==Dse}var Lse=$se;const fc=Yt(Lse);var lV={exports:{}},Ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=Symbol.for("react.element"),bP=Symbol.for("react.portal"),Gx=Symbol.for("react.fragment"),Kx=Symbol.for("react.strict_mode"),Yx=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Qx=Symbol.for("react.context"),Fse=Symbol.for("react.server_context"),Jx=Symbol.for("react.forward_ref"),Zx=Symbol.for("react.suspense"),e0=Symbol.for("react.suspense_list"),t0=Symbol.for("react.memo"),n0=Symbol.for("react.lazy"),Vse=Symbol.for("react.offscreen"),cV;cV=Symbol.for("react.module.reference");function no(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xP:switch(t=t.type,t){case Gx:case Yx:case Kx:case Zx:case e0:return t;default:switch(t=t&&t.$$typeof,t){case Fse:case Qx:case Jx:case n0:case t0:case Xx:return t;default:return e}}case bP:return e}}}Ht.ContextConsumer=Qx;Ht.ContextProvider=Xx;Ht.Element=xP;Ht.ForwardRef=Jx;Ht.Fragment=Gx;Ht.Lazy=n0;Ht.Memo=t0;Ht.Portal=bP;Ht.Profiler=Yx;Ht.StrictMode=Kx;Ht.Suspense=Zx;Ht.SuspenseList=e0;Ht.isAsyncMode=function(){return!1};Ht.isConcurrentMode=function(){return!1};Ht.isContextConsumer=function(t){return no(t)===Qx};Ht.isContextProvider=function(t){return no(t)===Xx};Ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xP};Ht.isForwardRef=function(t){return no(t)===Jx};Ht.isFragment=function(t){return no(t)===Gx};Ht.isLazy=function(t){return no(t)===n0};Ht.isMemo=function(t){return no(t)===t0};Ht.isPortal=function(t){return no(t)===bP};Ht.isProfiler=function(t){return no(t)===Yx};Ht.isStrictMode=function(t){return no(t)===Kx};Ht.isSuspense=function(t){return no(t)===Zx};Ht.isSuspenseList=function(t){return no(t)===e0};Ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gx||t===Yx||t===Kx||t===Zx||t===e0||t===Vse||typeof t=="object"&&t!==null&&(t.$$typeof===n0||t.$$typeof===t0||t.$$typeof===Xx||t.$$typeof===Qx||t.$$typeof===Jx||t.$$typeof===cV||t.getModuleId!==void 0)};Ht.typeOf=no;lV.exports=Ht;var Bse=lV.exports,Use=Zs,zse=ea,Wse="[object Number]";function Hse(t){return typeof t=="number"||zse(t)&&Use(t)==Wse}var uV=Hse;const qse=Yt(uV);var Gse=uV;function Kse(t){return Gse(t)&&t!=+t}var Yse=Kse;const qp=Yt(Yse);var So=function(e){return e===0?0:e>0?1:-1},Ml=function(e){return fc(e)&&e.indexOf("%")===e.length-1},Se=function(e){return qse(e)&&!qp(e)},Xse=function(e){return yt(e)},Xn=function(e){return Se(e)||fc(e)},Qse=0,Gp=function(e){var n=++Qse;return"".concat(e||"").concat(n)},hc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(e)&&!fc(e))return r;var o;if(Ml(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return qp(o)&&(o=r),i&&o>n&&(o=n),o},Bc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Jse=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},vo=function(e,n){return Se(e)&&Se(n)?function(r){return e+r*(n-e)}:function(){return n}};function By(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ki(r,e))===n})}var Zse=function(e,n){return Se(e)&&Se(n)?e-n:fc(e)&&fc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function xu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function e_(t){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e_(t)}var eae=["viewBox","children"],tae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hj=["points","pathLength"],Hb={svg:eae,polygon:hj,polyline:hj},wP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Uy=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),!Ld(r))return null;var i={};return Object.keys(r).forEach(function(o){wP.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},nae=function(e,n,r){return function(i){return e(n,r,i),null}},zy=function(e,n,r){if(!Ld(e)||e_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];wP.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=nae(s,n,r))}),i},rae=["children"],iae=["children"];function pj(t,e){if(t==null)return{};var n=oae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t_(t){"@babel/helpers - typeof";return t_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t_(t)}var mj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Os=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},gj=null,qb=null,_P=function t(e){if(e===gj&&Array.isArray(qb))return qb;var n=[];return y.Children.forEach(e,function(r){yt(r)||(Bse.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),qb=n,gj=e,n};function Yi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Os(i)}):r=[Os(e)],_P(t).forEach(function(i){var o=Ki(i,"type.displayName")||Ki(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function gi(t,e){var n=Yi(t,e);return n&&n[0]}var yj=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Se(r)||r<=0||!Se(i)||i<=0)},sae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aae=function(e){return e&&e.type&&fc(e.type)&&sae.indexOf(e.type)>=0},lae=function(e){return e&&t_(e)==="object"&&"clipDot"in e},cae=function(e,n,r,i){var o,s=(o=Hb==null?void 0:Hb[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!bt(e)&&(i&&s.includes(n)||tae.includes(n))||r&&wP.includes(n)},At=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(y.isValidElement(e)&&(i=e.props),!Ld(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;cae((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},n_=function t(e,n){if(e===n)return!0;var r=y.Children.count(e);if(r!==y.Children.count(n))return!1;if(r===0)return!0;if(r===1)return vj(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!vj(o,s))return!1}return!0},vj=function(e,n){if(yt(e)&&yt(n))return!0;if(!yt(e)&&!yt(n)){var r=e.props||{},i=r.children,o=pj(r,rae),s=n.props||{},a=s.children,l=pj(s,iae);return i&&a?xu(o,l)&&n_(i,a):!i&&!a?xu(o,l):!1}return!1},xj=function(e,n){var r=[],i={};return _P(e).forEach(function(o,s){if(aae(o))r.push(o);else if(o){var a=Os(o.type),l=n[a]||{},c=l.handler,d=l.once;if(c&&(!d||!i[a])){var f=c(o,a,s);r.push(f),i[a]=!0}}}),r},uae=function(e){var n=e&&e.type;return n&&mj[n]?mj[n]:null},dae=function(e,n){return _P(n).indexOf(e)},fae=["children","width","height","viewBox","className","style","title","desc"];function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(this,arguments)}function hae(t,e){if(t==null)return{};var n=pae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=hae(t,fae),d=i||{width:n,height:r,x:0,y:0},f=Et("recharts-surface",o);return z.createElement("svg",r_({},At(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,a),z.createElement("desc",null,l),e)}var mae=["children","className"];function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(this,arguments)}function gae(t,e){if(t==null)return{};var n=yae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rn=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=gae(t,mae),o=Et("recharts-layer",r);return z.createElement("g",o_({className:o},At(i,!0),{ref:e}),n)}),Yl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function vae(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var xae=vae,bae=xae;function wae(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:bae(t,e,n)}var _ae=wae,Sae="\\ud800-\\udfff",Eae="\\u0300-\\u036f",Tae="\\ufe20-\\ufe2f",Pae="\\u20d0-\\u20ff",Aae=Eae+Tae+Pae,Cae="\\ufe0e\\ufe0f",Nae="\\u200d",Iae=RegExp("["+Nae+Sae+Aae+Cae+"]");function jae(t){return Iae.test(t)}var dV=jae;function kae(t){return t.split("")}var Oae=kae,fV="\\ud800-\\udfff",Rae="\\u0300-\\u036f",Mae="\\ufe20-\\ufe2f",Dae="\\u20d0-\\u20ff",$ae=Rae+Mae+Dae,Lae="\\ufe0e\\ufe0f",Fae="["+fV+"]",s_="["+$ae+"]",a_="\\ud83c[\\udffb-\\udfff]",Vae="(?:"+s_+"|"+a_+")",hV="[^"+fV+"]",pV="(?:\\ud83c[\\udde6-\\uddff]){2}",mV="[\\ud800-\\udbff][\\udc00-\\udfff]",Bae="\\u200d",gV=Vae+"?",yV="["+Lae+"]?",Uae="(?:"+Bae+"(?:"+[hV,pV,mV].join("|")+")"+yV+gV+")*",zae=yV+gV+Uae,Wae="(?:"+[hV+s_+"?",s_,pV,mV,Fae].join("|")+")",Hae=RegExp(a_+"(?="+a_+")|"+Wae+zae,"g");function qae(t){return t.match(Hae)||[]}var Gae=qae,Kae=Oae,Yae=dV,Xae=Gae;function Qae(t){return Yae(t)?Xae(t):Kae(t)}var Jae=Qae,Zae=_ae,ele=dV,tle=Jae,nle=oV;function rle(t){return function(e){e=nle(e);var n=ele(e)?tle(e):void 0,r=n?n[0]:e.charAt(0),i=n?Zae(n,1).join(""):e.slice(1);return r[t]()+i}}var ile=rle,ole=ile,sle=ole("toUpperCase"),ale=sle;const r0=Yt(ale);function Jt(t){return function(){return t}}const vV=Math.cos,Wy=Math.sin,ko=Math.sqrt,Hy=Math.PI,i0=2*Hy,l_=Math.PI,c_=2*l_,Al=1e-6,lle=c_-Al;function xV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function cle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xV;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ule{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xV:cle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,c=i-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Al)if(!(Math.abs(f*l-c*d)>Al)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,v=i-a,g=l*l+c*c,x=m*m+v*v,w=Math.sqrt(g),_=Math.sqrt(h),b=o*Math.tan((l_-Math.acos((g+h-x)/(2*w*_)))/2),C=b/_,E=b/w;Math.abs(C-1)>Al&&this._append`L${e+C*d},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*m>d*v)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,d=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Al||Math.abs(this._y1-d)>Al)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%c_+c_),h>lle?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Al&&this._append`A${r},${r},0,${+(h>=l_)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function SP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ule(e)}function EP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bV(t){this._context=t}bV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function o0(t){return new bV(t)}function wV(t){return t[0]}function _V(t){return t[1]}function SV(t,e){var n=Jt(!0),r=null,i=o0,o=null,s=SP(a);t=typeof t=="function"?t:t===void 0?wV:Jt(t),e=typeof e=="function"?e:e===void 0?_V:Jt(e);function a(l){var c,d=(l=EP(l)).length,f,h=!1,m;for(r==null&&(o=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(m)return o=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Jt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Jt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Jt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Km(t,e,n){var r=null,i=Jt(!0),o=null,s=o0,a=null,l=SP(c);t=typeof t=="function"?t:t===void 0?wV:Jt(+t),e=typeof e=="function"?e:Jt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?_V:Jt(+n);function c(f){var h,m,v,g=(f=EP(f)).length,x,w=!1,_,b=new Array(g),C=new Array(g);for(o==null&&(a=s(_=l())),h=0;h<=g;++h){if(!(h<g&&i(x=f[h],h,f))===w)if(w=!w)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=m;--v)a.point(b[v],C[v]);a.lineEnd(),a.areaEnd()}w&&(b[h]=+t(x,h,f),C[h]=+e(x,h,f),a.point(r?+r(x,h,f):b[h],n?+n(x,h,f):C[h]))}if(_)return a=null,_+""||null}function d(){return SV().defined(i).curve(s).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Jt(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Jt(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Jt(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Jt(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Jt(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Jt(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Jt(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),c):s},c.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),c):o},c}class EV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function dle(t){return new EV(t,!0)}function fle(t){return new EV(t,!1)}const TP={draw(t,e){const n=ko(e/Hy);t.moveTo(n,0),t.arc(0,0,n,0,i0)}},hle={draw(t,e){const n=ko(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},TV=ko(1/3),ple=TV*2,mle={draw(t,e){const n=ko(e/ple),r=n*TV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gle={draw(t,e){const n=ko(e),r=-n/2;t.rect(r,r,n,n)}},yle=.8908130915292852,PV=Wy(Hy/10)/Wy(7*Hy/10),vle=Wy(i0/10)*PV,xle=-vV(i0/10)*PV,ble={draw(t,e){const n=ko(e*yle),r=vle*n,i=xle*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=i0*o/5,a=vV(s),l=Wy(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Gb=ko(3),wle={draw(t,e){const n=-ko(e/(Gb*3));t.moveTo(0,n*2),t.lineTo(-Gb*n,-n),t.lineTo(Gb*n,-n),t.closePath()}},Mi=-.5,Di=ko(3)/2,u_=1/ko(12),_le=(u_/2+1)*3,Sle={draw(t,e){const n=ko(e/_le),r=n/2,i=n*u_,o=r,s=n*u_+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Mi*r-Di*i,Di*r+Mi*i),t.lineTo(Mi*o-Di*s,Di*o+Mi*s),t.lineTo(Mi*a-Di*l,Di*a+Mi*l),t.lineTo(Mi*r+Di*i,Mi*i-Di*r),t.lineTo(Mi*o+Di*s,Mi*s-Di*o),t.lineTo(Mi*a+Di*l,Mi*l-Di*a),t.closePath()}};function Ele(t,e){let n=null,r=SP(i);t=typeof t=="function"?t:Jt(t||TP),e=typeof e=="function"?e:Jt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Jt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Jt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function qy(){}function Gy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function AV(t){this._context=t}AV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tle(t){return new AV(t)}function CV(t){this._context=t}CV.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ple(t){return new CV(t)}function NV(t){this._context=t}NV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ale(t){return new NV(t)}function IV(t){this._context=t}IV.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Cle(t){return new IV(t)}function bj(t){return t<0?-1:1}function wj(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(bj(o)+bj(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function _j(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Kb(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Ky(t){this._context=t}Ky.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kb(this,this._t0,_j(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Kb(this,_j(this,n=wj(this,t,e)),n);break;default:Kb(this,this._t0,n=wj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function jV(t){this._context=new kV(t)}(jV.prototype=Object.create(Ky.prototype)).point=function(t,e){Ky.prototype.point.call(this,e,t)};function kV(t){this._context=t}kV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Nle(t){return new Ky(t)}function Ile(t){return new jV(t)}function OV(t){this._context=t}OV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Sj(t),i=Sj(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Sj(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function jle(t){return new OV(t)}function s0(t,e){this._context=t,this._t=e}s0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function kle(t){return new s0(t,.5)}function Ole(t){return new s0(t,0)}function Rle(t){return new s0(t,1)}function Zu(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function d_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Mle(t,e){return t[e]}function Dle(t){const e=[];return e.key=t,e}function $le(){var t=Jt([]),e=d_,n=Zu,r=Mle;function i(o){var s=Array.from(t.apply(this,arguments),Dle),a,l=s.length,c=-1,d;for(const f of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(f,s[a].key,c,o)]).data=f;for(a=0,d=EP(e(s));a<l;++a)s[d[a]].index=a;return n(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Jt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Jt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?d_:typeof o=="function"?o:Jt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Zu,i):n},i}function Lle(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Zu(t,e)}}function Fle(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Zu(t,e)}}function Vle(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,v=0;v<a;++v){var g=t[e[v]],x=g[r][1]||0,w=g[r-1][1]||0;m+=x-w}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Zu(t,e)}}function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}var Ble=["type","size","sizeType"];function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){Ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ule(t,e,n){return e=zle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=Wle(t,"string");return Vh(e)=="symbol"?e:e+""}function Wle(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hle(t,e){if(t==null)return{};var n=qle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var RV={symbolCircle:TP,symbolCross:hle,symbolDiamond:mle,symbolSquare:gle,symbolStar:ble,symbolTriangle:wle,symbolWye:Sle},Gle=Math.PI/180,Kle=function(e){var n="symbol".concat(r0(e));return RV[n]||TP},Yle=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Gle;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Xle=function(e,n){RV["symbol".concat(r0(e))]=n},PP=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Hle(e,Ble),c=Tj(Tj({},l),{},{type:r,size:o,sizeType:a}),d=function(){var x=Kle(r),w=Ele().type(x).size(Yle(o,a,r));return w()},f=c.className,h=c.cx,m=c.cy,v=At(c,!0);return h===+h&&m===+m&&o===+o?z.createElement("path",f_({},v,{className:Et("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};PP.registerSymbol=Xle;function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){Bh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DV(r.key),r)}}function ece(t,e,n){return e&&Zle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tce(t,e,n){return e=Yy(e),nce(t,MV()?Reflect.construct(e,n||[],Yy(t).constructor):e.apply(t,n))}function nce(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rce(t)}function rce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MV=function(){return!!t})()}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yy(t)}function ice(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}function p_(t,e){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p_(t,e)}function Bh(t,e,n){return e=DV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DV(t){var e=oce(t,"string");return ed(e)=="symbol"?e:e+""}function oce(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $i=32,AP=function(t){function e(){return Jle(this,e),tce(this,e,arguments)}return ice(e,t),ece(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=$i/2,s=$i/6,a=$i/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:$i,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat($i,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat($i/8,"h").concat($i,"v").concat($i*3/4,"h").concat(-$i,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var c=Qle({},r);return delete c.legendIcon,z.cloneElement(r.legendIcon,c)}return z.createElement(PP,{fill:l,cx:o,cy:o,size:$i,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:$i,height:$i},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,v){var g=m.formatter||l,x=Et(Bh(Bh({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=bt(m.value)?null:m.value;Yl(!bt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=m.inactive?c:m.color;return z.createElement("li",h_({className:x,style:f,key:"legend-item-".concat(v)},zy(r.props,m,v)),z.createElement(i_,{width:s,height:s,viewBox:d,style:h},r.renderIcon(m)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(w,m,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(y.PureComponent);Bh(AP,"displayName","Legend");Bh(AP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var sce=Wx;function ace(){this.__data__=new sce,this.size=0}var lce=ace;function cce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var uce=cce;function dce(t){return this.__data__.get(t)}var fce=dce;function hce(t){return this.__data__.has(t)}var pce=hce,mce=Wx,gce=pP,yce=mP,vce=200;function xce(t,e){var n=this.__data__;if(n instanceof mce){var r=n.__data__;if(!gce||r.length<vce-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yce(r)}return n.set(t,e),this.size=n.size,this}var bce=xce,wce=Wx,_ce=lce,Sce=uce,Ece=fce,Tce=pce,Pce=bce;function Ud(t){var e=this.__data__=new wce(t);this.size=e.size}Ud.prototype.clear=_ce;Ud.prototype.delete=Sce;Ud.prototype.get=Ece;Ud.prototype.has=Tce;Ud.prototype.set=Pce;var $V=Ud,Ace="__lodash_hash_undefined__";function Cce(t){return this.__data__.set(t,Ace),this}var Nce=Cce;function Ice(t){return this.__data__.has(t)}var jce=Ice,kce=mP,Oce=Nce,Rce=jce;function Xy(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new kce;++e<n;)this.add(t[e])}Xy.prototype.add=Xy.prototype.push=Oce;Xy.prototype.has=Rce;var LV=Xy;function Mce(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var FV=Mce;function Dce(t,e){return t.has(e)}var VV=Dce,$ce=LV,Lce=FV,Fce=VV,Vce=1,Bce=2;function Uce(t,e,n,r,i,o){var s=n&Vce,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,m=n&Bce?new $ce:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],g=e[f];if(r)var x=s?r(g,v,f,e,t,o):r(v,g,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!Lce(e,function(w,_){if(!Fce(m,_)&&(v===w||i(v,w,n,r,o)))return m.push(_)})){h=!1;break}}else if(!(v===g||i(v,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var BV=Uce,zce=ms,Wce=zce.Uint8Array,Hce=Wce;function qce(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Gce=qce;function Kce(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var CP=Kce,Aj=Hp,Cj=Hce,Yce=hP,Xce=BV,Qce=Gce,Jce=CP,Zce=1,eue=2,tue="[object Boolean]",nue="[object Date]",rue="[object Error]",iue="[object Map]",oue="[object Number]",sue="[object RegExp]",aue="[object Set]",lue="[object String]",cue="[object Symbol]",uue="[object ArrayBuffer]",due="[object DataView]",Nj=Aj?Aj.prototype:void 0,Yb=Nj?Nj.valueOf:void 0;function fue(t,e,n,r,i,o,s){switch(n){case due:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case uue:return!(t.byteLength!=e.byteLength||!o(new Cj(t),new Cj(e)));case tue:case nue:case oue:return Yce(+t,+e);case rue:return t.name==e.name&&t.message==e.message;case sue:case lue:return t==e+"";case iue:var a=Qce;case aue:var l=r&Zce;if(a||(a=Jce),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=eue,s.set(t,e);var d=Xce(a(t),a(e),r,i,o,s);return s.delete(t),d;case cue:if(Yb)return Yb.call(t)==Yb.call(e)}return!1}var hue=fue;function pue(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var UV=pue,mue=UV,gue=si;function yue(t,e,n){var r=e(t);return gue(t)?r:mue(r,n(t))}var vue=yue;function xue(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var bue=xue;function wue(){return[]}var _ue=wue,Sue=bue,Eue=_ue,Tue=Object.prototype,Pue=Tue.propertyIsEnumerable,Ij=Object.getOwnPropertySymbols,Aue=Ij?function(t){return t==null?[]:(t=Object(t),Sue(Ij(t),function(e){return Pue.call(t,e)}))}:Eue,Cue=Aue;function Nue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Iue=Nue,jue=Zs,kue=ea,Oue="[object Arguments]";function Rue(t){return kue(t)&&jue(t)==Oue}var Mue=Rue,jj=Mue,Due=ea,zV=Object.prototype,$ue=zV.hasOwnProperty,Lue=zV.propertyIsEnumerable,Fue=jj(function(){return arguments}())?jj:function(t){return Due(t)&&$ue.call(t,"callee")&&!Lue.call(t,"callee")},NP=Fue,Qy={exports:{}};function Vue(){return!1}var Bue=Vue;Qy.exports;(function(t,e){var n=ms,r=Bue,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Qy,Qy.exports);var WV=Qy.exports,Uue=9007199254740991,zue=/^(?:0|[1-9]\d*)$/;function Wue(t,e){var n=typeof t;return e=e??Uue,!!e&&(n=="number"||n!="symbol"&&zue.test(t))&&t>-1&&t%1==0&&t<e}var IP=Wue,Hue=9007199254740991;function que(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Hue}var jP=que,Gue=Zs,Kue=jP,Yue=ea,Xue="[object Arguments]",Que="[object Array]",Jue="[object Boolean]",Zue="[object Date]",ede="[object Error]",tde="[object Function]",nde="[object Map]",rde="[object Number]",ide="[object Object]",ode="[object RegExp]",sde="[object Set]",ade="[object String]",lde="[object WeakMap]",cde="[object ArrayBuffer]",ude="[object DataView]",dde="[object Float32Array]",fde="[object Float64Array]",hde="[object Int8Array]",pde="[object Int16Array]",mde="[object Int32Array]",gde="[object Uint8Array]",yde="[object Uint8ClampedArray]",vde="[object Uint16Array]",xde="[object Uint32Array]",on={};on[dde]=on[fde]=on[hde]=on[pde]=on[mde]=on[gde]=on[yde]=on[vde]=on[xde]=!0;on[Xue]=on[Que]=on[cde]=on[Jue]=on[ude]=on[Zue]=on[ede]=on[tde]=on[nde]=on[rde]=on[ide]=on[ode]=on[sde]=on[ade]=on[lde]=!1;function bde(t){return Yue(t)&&Kue(t.length)&&!!on[Gue(t)]}var wde=bde;function _de(t){return function(e){return t(e)}}var HV=_de,Jy={exports:{}};Jy.exports;(function(t,e){var n=ZF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Jy,Jy.exports);var Sde=Jy.exports,Ede=wde,Tde=HV,kj=Sde,Oj=kj&&kj.isTypedArray,Pde=Oj?Tde(Oj):Ede,qV=Pde,Ade=Iue,Cde=NP,Nde=si,Ide=WV,jde=IP,kde=qV,Ode=Object.prototype,Rde=Ode.hasOwnProperty;function Mde(t,e){var n=Nde(t),r=!n&&Cde(t),i=!n&&!r&&Ide(t),o=!n&&!r&&!i&&kde(t),s=n||r||i||o,a=s?Ade(t.length,String):[],l=a.length;for(var c in t)(e||Rde.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||jde(c,l)))&&a.push(c);return a}var Dde=Mde,$de=Object.prototype;function Lde(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||$de;return t===n}var Fde=Lde;function Vde(t,e){return function(n){return t(e(n))}}var GV=Vde,Bde=GV,Ude=Bde(Object.keys,Object),zde=Ude,Wde=Fde,Hde=zde,qde=Object.prototype,Gde=qde.hasOwnProperty;function Kde(t){if(!Wde(t))return Hde(t);var e=[];for(var n in Object(t))Gde.call(t,n)&&n!="constructor"&&e.push(n);return e}var Yde=Kde,Xde=fP,Qde=jP;function Jde(t){return t!=null&&Qde(t.length)&&!Xde(t)}var a0=Jde,Zde=Dde,efe=Yde,tfe=a0;function nfe(t){return tfe(t)?Zde(t):efe(t)}var kP=nfe,rfe=vue,ife=Cue,ofe=kP;function sfe(t){return rfe(t,ofe,ife)}var afe=sfe,Rj=afe,lfe=1,cfe=Object.prototype,ufe=cfe.hasOwnProperty;function dfe(t,e,n,r,i,o){var s=n&lfe,a=Rj(t),l=a.length,c=Rj(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:ufe.call(e,h)))return!1}var m=o.get(t),v=o.get(e);if(m&&v)return m==e&&v==t;var g=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var w=t[h],_=e[h];if(r)var b=s?r(_,w,h,e,t,o):r(w,_,h,t,e,o);if(!(b===void 0?w===_||i(w,_,n,r,o):b)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var ffe=dfe,hfe=Sc,pfe=ms,mfe=hfe(pfe,"DataView"),gfe=mfe,yfe=Sc,vfe=ms,xfe=yfe(vfe,"Promise"),bfe=xfe,wfe=Sc,_fe=ms,Sfe=wfe(_fe,"Set"),KV=Sfe,Efe=Sc,Tfe=ms,Pfe=Efe(Tfe,"WeakMap"),Afe=Pfe,m_=gfe,g_=pP,y_=bfe,v_=KV,x_=Afe,YV=Zs,zd=tV,Mj="[object Map]",Cfe="[object Object]",Dj="[object Promise]",$j="[object Set]",Lj="[object WeakMap]",Fj="[object DataView]",Nfe=zd(m_),Ife=zd(g_),jfe=zd(y_),kfe=zd(v_),Ofe=zd(x_),Cl=YV;(m_&&Cl(new m_(new ArrayBuffer(1)))!=Fj||g_&&Cl(new g_)!=Mj||y_&&Cl(y_.resolve())!=Dj||v_&&Cl(new v_)!=$j||x_&&Cl(new x_)!=Lj)&&(Cl=function(t){var e=YV(t),n=e==Cfe?t.constructor:void 0,r=n?zd(n):"";if(r)switch(r){case Nfe:return Fj;case Ife:return Mj;case jfe:return Dj;case kfe:return $j;case Ofe:return Lj}return e});var Rfe=Cl,Xb=$V,Mfe=BV,Dfe=hue,$fe=ffe,Vj=Rfe,Bj=si,Uj=WV,Lfe=qV,Ffe=1,zj="[object Arguments]",Wj="[object Array]",Ym="[object Object]",Vfe=Object.prototype,Hj=Vfe.hasOwnProperty;function Bfe(t,e,n,r,i,o){var s=Bj(t),a=Bj(e),l=s?Wj:Vj(t),c=a?Wj:Vj(e);l=l==zj?Ym:l,c=c==zj?Ym:c;var d=l==Ym,f=c==Ym,h=l==c;if(h&&Uj(t)){if(!Uj(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new Xb),s||Lfe(t)?Mfe(t,e,n,r,i,o):Dfe(t,e,l,n,r,i,o);if(!(n&Ffe)){var m=d&&Hj.call(t,"__wrapped__"),v=f&&Hj.call(e,"__wrapped__");if(m||v){var g=m?t.value():t,x=v?e.value():e;return o||(o=new Xb),i(g,x,n,r,o)}}return h?(o||(o=new Xb),$fe(t,e,n,r,i,o)):!1}var Ufe=Bfe,zfe=Ufe,qj=ea;function XV(t,e,n,r,i){return t===e?!0:t==null||e==null||!qj(t)&&!qj(e)?t!==t&&e!==e:zfe(t,e,n,r,XV,i)}var OP=XV,Wfe=$V,Hfe=OP,qfe=1,Gfe=2;function Kfe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],d=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Wfe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?Hfe(d,c,qfe|Gfe,r,f):h))return!1}}return!0}var Yfe=Kfe,Xfe=fl;function Qfe(t){return t===t&&!Xfe(t)}var QV=Qfe,Jfe=QV,Zfe=kP;function ehe(t){for(var e=Zfe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Jfe(i)]}return e}var the=ehe;function nhe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var JV=nhe,rhe=Yfe,ihe=the,ohe=JV;function she(t){var e=ihe(t);return e.length==1&&e[0][2]?ohe(e[0][0],e[0][1]):function(n){return n===t||rhe(n,t,e)}}var ahe=she;function lhe(t,e){return t!=null&&e in Object(t)}var che=lhe,uhe=sV,dhe=NP,fhe=si,hhe=IP,phe=jP,mhe=qx;function ghe(t,e,n){e=uhe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=mhe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&phe(i)&&hhe(s,i)&&(fhe(t)||dhe(t)))}var yhe=ghe,vhe=che,xhe=yhe;function bhe(t,e){return t!=null&&xhe(t,e,vhe)}var whe=bhe,_he=OP,She=aV,Ehe=whe,The=dP,Phe=QV,Ahe=JV,Che=qx,Nhe=1,Ihe=2;function jhe(t,e){return The(t)&&Phe(e)?Ahe(Che(t),e):function(n){var r=She(n,t);return r===void 0&&r===e?Ehe(n,t):_he(e,r,Nhe|Ihe)}}var khe=jhe;function Ohe(t){return t}var Wd=Ohe;function Rhe(t){return function(e){return e==null?void 0:e[t]}}var Mhe=Rhe,Dhe=vP;function $he(t){return function(e){return Dhe(e,t)}}var Lhe=$he,Fhe=Mhe,Vhe=Lhe,Bhe=dP,Uhe=qx;function zhe(t){return Bhe(t)?Fhe(Uhe(t)):Vhe(t)}var Whe=zhe,Hhe=ahe,qhe=khe,Ghe=Wd,Khe=si,Yhe=Whe;function Xhe(t){return typeof t=="function"?t:t==null?Ghe:typeof t=="object"?Khe(t)?qhe(t[0],t[1]):Hhe(t):Yhe(t)}var Hd=Xhe;function Qhe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Jhe=Qhe;function Zhe(t){return t!==t}var epe=Zhe;function tpe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var npe=tpe,rpe=Jhe,ipe=epe,ope=npe;function spe(t,e,n){return e===e?ope(t,e,n):rpe(t,ipe,n)}var ape=spe,lpe=ape;function cpe(t,e){var n=t==null?0:t.length;return!!n&&lpe(t,e,0)>-1}var upe=cpe;function dpe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var fpe=dpe;function hpe(){}var ppe=hpe,Qb=KV,mpe=ppe,gpe=CP,ype=1/0,vpe=Qb&&1/gpe(new Qb([,-0]))[1]==ype?function(t){return new Qb(t)}:mpe,xpe=vpe,bpe=LV,wpe=upe,_pe=fpe,Spe=VV,Epe=xpe,Tpe=CP,Ppe=200;function Ape(t,e,n){var r=-1,i=wpe,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=_pe;else if(o>=Ppe){var c=e?null:Epe(t);if(c)return Tpe(c);s=!1,i=Spe,l=new bpe}else l=e?[]:a;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(d)}else i(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var Cpe=Ape,Npe=Hd,Ipe=Cpe;function jpe(t,e){return t&&t.length?Ipe(t,Npe(e)):[]}var kpe=jpe;const Gj=Yt(kpe);function ZV(t,e,n){return e===!0?Gj(t,n):bt(e)?Gj(t,e):t}function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}var Ope=["ref"];function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){l0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t6(r.key),r)}}function Mpe(t,e,n){return e&&Yj(t.prototype,e),n&&Yj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dpe(t,e,n){return e=Zy(e),$pe(t,e6()?Reflect.construct(e,n||[],Zy(t).constructor):e.apply(t,n))}function $pe(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lpe(t)}function Lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!t})()}function Zy(t){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zy(t)}function Fpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b_(t,e)}function b_(t,e){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b_(t,e)}function l0(t,e,n){return e=t6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t6(t){var e=Vpe(t,"string");return td(e)=="symbol"?e:e+""}function Vpe(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bpe(t,e){if(t==null)return{};var n=Upe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Upe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zpe(t){return t.value}function Wpe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=Bpe(e,Ope);return z.createElement(AP,n)}var Xj=1,bu=function(t){function e(){var n;Rpe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Dpe(this,e,[].concat(i)),l0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Fpe(e,t),Mpe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Xj||Math.abs(i.height-this.lastBoundingBox.height)>Xj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((c||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return xs(xs({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=xs(xs({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Wpe(o,xs(xs({},this.props),{},{payload:ZV(d,c,zpe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=xs(xs({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&Se(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(y.PureComponent);l0(bu,"displayName","Legend");l0(bu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Qj=Hp,Hpe=NP,qpe=si,Jj=Qj?Qj.isConcatSpreadable:void 0;function Gpe(t){return qpe(t)||Hpe(t)||!!(Jj&&t&&t[Jj])}var Kpe=Gpe,Ype=UV,Xpe=Kpe;function n6(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Xpe),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?n6(a,e-1,n,r,i):Ype(i,a):r||(i[i.length]=a)}return i}var r6=n6;function Qpe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Jpe=Qpe,Zpe=Jpe,eme=Zpe(),tme=eme,nme=tme,rme=kP;function ime(t,e){return t&&nme(t,e,rme)}var i6=ime,ome=a0;function sme(t,e){return function(n,r){if(n==null)return n;if(!ome(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var ame=sme,lme=i6,cme=ame,ume=cme(lme),RP=ume,dme=RP,fme=a0;function hme(t,e){var n=-1,r=fme(t)?Array(t.length):[];return dme(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var o6=hme;function pme(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var mme=pme,Zj=$d;function gme(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=Zj(t),s=e!==void 0,a=e===null,l=e===e,c=Zj(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var yme=gme,vme=yme;function xme(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=vme(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var bme=xme,Jb=yP,wme=vP,_me=Hd,Sme=o6,Eme=mme,Tme=HV,Pme=bme,Ame=Wd,Cme=si;function Nme(t,e,n){e.length?e=Jb(e,function(o){return Cme(o)?function(s){return wme(s,o.length===1?o[0]:o)}:o}):e=[Ame];var r=-1;e=Jb(e,Tme(_me));var i=Sme(t,function(o,s,a){var l=Jb(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return Eme(i,function(o,s){return Pme(o,s,n)})}var Ime=Nme;function jme(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var kme=jme,Ome=kme,ek=Math.max;function Rme(t,e,n){return e=ek(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=ek(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Ome(t,this,a)}}var Mme=Rme;function Dme(t){return function(){return t}}var $me=Dme,Lme=Sc,Fme=function(){try{var t=Lme(Object,"defineProperty");return t({},"",{}),t}catch{}}(),s6=Fme,Vme=$me,tk=s6,Bme=Wd,Ume=tk?function(t,e){return tk(t,"toString",{configurable:!0,enumerable:!1,value:Vme(e),writable:!0})}:Bme,zme=Ume,Wme=800,Hme=16,qme=Date.now;function Gme(t){var e=0,n=0;return function(){var r=qme(),i=Hme-(r-n);if(n=r,i>0){if(++e>=Wme)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Kme=Gme,Yme=zme,Xme=Kme,Qme=Xme(Yme),Jme=Qme,Zme=Wd,ege=Mme,tge=Jme;function nge(t,e){return tge(ege(t,e,Zme),t+"")}var rge=nge,ige=hP,oge=a0,sge=IP,age=fl;function lge(t,e,n){if(!age(n))return!1;var r=typeof e;return(r=="number"?oge(n)&&sge(e,n.length):r=="string"&&e in n)?ige(n[e],t):!1}var c0=lge,cge=r6,uge=Ime,dge=rge,nk=c0,fge=dge(function(t,e){if(t==null)return[];var n=e.length;return n>1&&nk(t,e[0],e[1])?e=[]:n>2&&nk(e[0],e[1],e[2])&&(e=[e[0]]),uge(t,cge(e,1),[])}),hge=fge;const MP=Yt(hge);function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function pge(t,e){return vge(t)||yge(t,e)||gge(t,e)||mge()}function mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gge(t,e){if(t){if(typeof t=="string")return rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rk(t,e)}}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function vge(t){if(Array.isArray(t))return t}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){xge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xge(t,e,n){return e=bge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bge(t){var e=wge(t,"string");return Uh(e)=="symbol"?e:e+""}function wge(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ge(t){return Array.isArray(t)&&Xn(t[0])&&Xn(t[1])?t.join(" ~ "):t}var Sge=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,g=e.label,x=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,b=function(){if(d&&d.length){var O={padding:0,margin:0},R=(h?MP(d,h):d).map(function(L,B){if(L.type==="none")return null;var U=Zb({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},a),W=L.formatter||f||_ge,F=L.value,V=L.name,Z=F,Q=V;if(W&&Z!=null&&Q!=null){var ne=W(F,V,L,B,d);if(Array.isArray(ne)){var ge=pge(ne,2);Z=ge[0],Q=ge[1]}else Z=ne}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},Xn(Q)?z.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Xn(Q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},Z),z.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},C=Zb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=Zb({margin:0},c),N=!yt(g),S=N?g:"",P=Et("recharts-default-tooltip",m),A=Et("recharts-tooltip-label",v);N&&x&&d!==void 0&&d!==null&&(S=x(g,d));var k=_?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",w_({className:P,style:C},k),z.createElement("p",{className:A,style:E},z.isValidElement(S)?S:"".concat(S)),b())};function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function Xm(t,e,n){return e=Ege(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ege(t){var e=Tge(t,"string");return zh(e)=="symbol"?e:e+""}function Tge(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ff="recharts-tooltip-wrapper",Pge={visibility:"hidden"};function Age(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Et(ff,Xm(Xm(Xm(Xm({},"".concat(ff,"-right"),Se(n)&&e&&Se(e.x)&&n>=e.x),"".concat(ff,"-left"),Se(n)&&e&&Se(e.x)&&n<e.x),"".concat(ff,"-bottom"),Se(r)&&e&&Se(e.y)&&r>=e.y),"".concat(ff,"-top"),Se(r)&&e&&Se(e.y)&&r<e.y))}function ok(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&Se(o[r]))return o[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var v=f+a,g=l[r]+c;return v>g?Math.max(d,l[r]):Math.max(f,l[r])}function Cge(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Nge(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&n?(d=ok({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=ok({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Cge({translateX:d,translateY:f,useTranslate3d:a})):c=Pge,{cssProperties:c,cssClasses:Age({translateX:d,translateY:f,coordinate:n})}}function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ak(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){S_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ige(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l6(r.key),r)}}function kge(t,e,n){return e&&jge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oge(t,e,n){return e=ev(e),Rge(t,a6()?Reflect.construct(e,n||[],ev(t).constructor):e.apply(t,n))}function Rge(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mge(t)}function Mge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a6=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ev(t)}function Dge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function S_(t,e,n){return e=l6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l6(t){var e=$ge(t,"string");return nd(e)=="symbol"?e:e+""}function $ge(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lk=1,Lge=function(t){function e(){var n;Ige(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Oge(this,e,[].concat(i)),S_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),S_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return Dge(e,t),kge(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>lk||Math.abs(r.height-this.state.lastBoundingBox.height)>lk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,g=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,b=Nge({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),C=b.cssClasses,E=b.cssProperties,N=ak(ak({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return z.createElement("div",{tabIndex:-1,className:C,style:N,ref:function(P){r.wrapperNode=P}},c)}}])}(y.PureComponent),Fge=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rs={isSsr:Fge(),get:function(e){return Rs[e]},set:function(e,n){if(typeof e=="string")Rs[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Rs[i]=e[i]})}}};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){DP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u6(r.key),r)}}function Uge(t,e,n){return e&&Bge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zge(t,e,n){return e=tv(e),Wge(t,c6()?Reflect.construct(e,n||[],tv(t).constructor):e.apply(t,n))}function Wge(t,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hge(t)}function Hge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tv(t)}function qge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function DP(t,e,n){return e=u6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u6(t){var e=Gge(t,"string");return rd(e)=="symbol"?e:e+""}function Gge(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kge(t){return t.dataKey}function Yge(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(Sge,e)}var Uo=function(t){function e(){return Vge(this,e),zge(this,e,arguments)}return qge(e,t),Uge(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,g=i.payloadUniqBy,x=i.position,w=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,C=i.wrapperStyle,E=v??[];f&&E.length&&(E=ZV(v.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),g,Kge));var N=E.length>0;return z.createElement(Lge,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:N,offset:m,position:x,reverseDirection:w,useTranslate3d:_,viewBox:b,wrapperStyle:C},Yge(c,uk(uk({},this.props),{},{payload:E})))}}])}(y.PureComponent);DP(Uo,"displayName","Tooltip");DP(Uo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xge=ms,Qge=function(){return Xge.Date.now()},Jge=Qge,Zge=/\s/;function eye(t){for(var e=t.length;e--&&Zge.test(t.charAt(e)););return e}var tye=eye,nye=tye,rye=/^\s+/;function iye(t){return t&&t.slice(0,nye(t)+1).replace(rye,"")}var oye=iye,sye=oye,dk=fl,aye=$d,fk=NaN,lye=/^[-+]0x[0-9a-f]+$/i,cye=/^0b[01]+$/i,uye=/^0o[0-7]+$/i,dye=parseInt;function fye(t){if(typeof t=="number")return t;if(aye(t))return fk;if(dk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=dk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=sye(t);var n=cye.test(t);return n||uye.test(t)?dye(t.slice(2),n?2:8):lye.test(t)?fk:+t}var d6=fye,hye=fl,ew=Jge,hk=d6,pye="Expected a function",mye=Math.max,gye=Math.min;function yye(t,e,n){var r,i,o,s,a,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(pye);e=hk(e)||0,hye(n)&&(d=!!n.leading,f="maxWait"in n,o=f?mye(hk(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(N){var S=r,P=i;return r=i=void 0,c=N,s=t.apply(P,S),s}function v(N){return c=N,a=setTimeout(w,e),d?m(N):s}function g(N){var S=N-l,P=N-c,A=e-S;return f?gye(A,o-P):A}function x(N){var S=N-l,P=N-c;return l===void 0||S>=e||S<0||f&&P>=o}function w(){var N=ew();if(x(N))return _(N);a=setTimeout(w,g(N))}function _(N){return a=void 0,h&&r?m(N):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:_(ew())}function E(){var N=ew(),S=x(N);if(r=arguments,i=this,l=N,S){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(w,e),m(l)}return a===void 0&&(a=setTimeout(w,e)),s}return E.cancel=b,E.flush=C,E}var vye=yye,xye=vye,bye=fl,wye="Expected a function";function _ye(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(wye);return bye(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xye(t,e,{leading:r,maxWait:e,trailing:i})}var Sye=_ye;const f6=Yt(Sye);function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){Eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eye(t,e,n){return e=Tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tye(t){var e=Pye(t,"string");return Wh(e)=="symbol"?e:e+""}function Pye(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aye(t,e){return jye(t)||Iye(t,e)||Nye(t,e)||Cye()}function Cye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nye(t,e){if(t){if(typeof t=="string")return mk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mk(t,e)}}function mk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function jye(t){if(Array.isArray(t))return t}var kye=y.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,g=v===void 0?0:v,x=t.id,w=t.className,_=t.onResize,b=t.style,C=b===void 0?{}:b,E=y.useRef(null),N=y.useRef();N.current=_,y.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=y.useState({containerWidth:i.width,containerHeight:i.height}),P=Aye(S,2),A=P[0],k=P[1],I=y.useCallback(function(R,L){k(function(B){var U=Math.round(R),W=Math.round(L);return B.containerWidth===U&&B.containerHeight===W?B:{containerWidth:U,containerHeight:W}})},[]);y.useEffect(function(){var R=function(V){var Z,Q=V[0].contentRect,ne=Q.width,ge=Q.height;I(ne,ge),(Z=N.current)===null||Z===void 0||Z.call(N,ne,ge)};g>0&&(R=f6(R,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(R),B=E.current.getBoundingClientRect(),U=B.width,W=B.height;return I(U,W),L.observe(E.current),function(){L.disconnect()}},[I,g]);var O=y.useMemo(function(){var R=A.containerWidth,L=A.containerHeight;if(R<0||L<0)return null;Yl(Ml(s)||Ml(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Yl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Ml(s)?R:s,U=Ml(l)?L:l;n&&n>0&&(B?U=B/n:U&&(B=U*n),h&&U>h&&(U=h)),Yl(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,s,l,d,f,n);var W=!Array.isArray(m)&&Os(m.type).endsWith("Chart");return z.Children.map(m,function(F){return z.isValidElement(F)?y.cloneElement(F,Qm({width:B,height:U},W?{style:Qm({height:"100%",width:"100%",maxHeight:U,maxWidth:B},F.props.style)}:{})):F})},[n,m,l,h,f,d,A,s]);return z.createElement("div",{id:x?"".concat(x):void 0,className:Et("recharts-responsive-container",w),style:Qm(Qm({},C),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},O)}),h6=function(e){return null};h6.displayName="Cell";function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Oye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oye(t,e,n){return e=Rye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rye(t){var e=Mye(t,"string");return Hh(e)=="symbol"?e:e+""}function Mye(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rc={widthCache:{},cacheCount:0},Dye=2e3,$ye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yk="recharts_measurement_span";function Lye(t){var e=T_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Jf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rs.isSsr)return{width:0,height:0};var r=Lye(n),i=JSON.stringify({text:e,copyStyle:r});if(Rc.widthCache[i])return Rc.widthCache[i];try{var o=document.getElementById(yk);o||(o=document.createElement("span"),o.setAttribute("id",yk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=T_(T_({},$ye),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Rc.widthCache[i]=l,++Rc.cacheCount>Dye&&(Rc.cacheCount=0,Rc.widthCache={}),l}catch{return{width:0,height:0}}},Fye=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function nv(t,e){return zye(t)||Uye(t,e)||Bye(t,e)||Vye()}function Vye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bye(t,e){if(t){if(typeof t=="string")return vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vk(t,e)}}function vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function zye(t){if(Array.isArray(t))return t}function Wye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qye(r.key),r)}}function Hye(t,e,n){return e&&xk(t.prototype,e),n&&xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qye(t){var e=Gye(t,"string");return qh(e)=="symbol"?e:e+""}function Gye(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,p6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xye=Object.keys(p6),nu="NaN";function Qye(t,e){return t*p6[e]}var Jm=function(){function t(e,n){Wye(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Kye.test(n)&&(this.num=NaN,this.unit=""),Xye.includes(n)&&(this.num=Qye(e,n),this.unit="px")}return Hye(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Yye.exec(n))!==null&&r!==void 0?r:[],o=nv(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function m6(t){if(t.includes(nu))return nu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=bk.exec(e))!==null&&n!==void 0?n:[],i=nv(r,4),o=i[1],s=i[2],a=i[3],l=Jm.parse(o??""),c=Jm.parse(a??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return nu;e=e.replace(bk,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=wk.exec(e))!==null&&f!==void 0?f:[],m=nv(h,4),v=m[1],g=m[2],x=m[3],w=Jm.parse(v??""),_=Jm.parse(x??""),b=g==="+"?w.add(_):w.subtract(_);if(b.isNaN())return nu;e=e.replace(wk,b.toString())}return e}var _k=/\(([^()]*)\)/;function Jye(t){for(var e=t;e.includes("(");){var n=_k.exec(e),r=nv(n,2),i=r[1];e=e.replace(_k,m6(i))}return e}function Zye(t){var e=t.replace(/\s+/g,"");return e=Jye(e),e=m6(e),e}function eve(t){try{return Zye(t)}catch{return nu}}function tw(t){var e=eve(t.slice(5,-1));return e===nu?"":e}var tve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nve=["dx","dy","angle","className","breakAll"];function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function Sk(t,e){if(t==null)return{};var n=rve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ek(t,e){return ave(t)||sve(t,e)||ove(t,e)||ive()}function ive(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(t,e){if(t){if(typeof t=="string")return Tk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tk(t,e)}}function Tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function ave(t){if(Array.isArray(t))return t}var g6=/[ \f\n\r\t\v\u2028\u2029]+/,y6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];yt(n)||(r?o=n.toString().split(""):o=n.toString().split(g6));var s=o.map(function(l){return{word:l,width:Jf(l,i).width}}),a=r?0:Jf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},lve=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,d=Se(s),f=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,W){var F=W.word,V=W.width,Z=U[U.length-1];if(Z&&(i==null||o||Z.width+V+r<Number(i)))Z.words.push(F),Z.width+=V+r;else{var Q={words:[F],width:V};U.push(Q)}return U},[])},m=h(n),v=function(B){return B.reduce(function(U,W){return U.width>W.width?U:W})};if(!d)return m;for(var g="",x=function(B){var U=f.slice(0,B),W=y6({breakAll:c,style:l,children:U+g}).wordsWithComputedWidth,F=h(W),V=F.length>s||v(F).width>Number(i);return[V,F]},w=0,_=f.length-1,b=0,C;w<=_&&b<=f.length-1;){var E=Math.floor((w+_)/2),N=E-1,S=x(N),P=Ek(S,2),A=P[0],k=P[1],I=x(E),O=Ek(I,1),R=O[0];if(!A&&!R&&(w=E+1),A&&R&&(_=E-1),!A&&R){C=k;break}b++}return C||m},Pk=function(e){var n=yt(e)?[]:e.toString().split(g6);return[{words:n}]},cve=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Rs.isSsr){var l,c,d=y6({breakAll:s,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return Pk(i);return lve({breakAll:s,children:i,maxLines:a,style:o},l,c,n,r)}return Pk(i)},Ak="#808080",rv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,g=v===void 0?"end":v,x=e.fill,w=x===void 0?Ak:x,_=Sk(e,tve),b=y.useMemo(function(){return cve({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),C=_.dx,E=_.dy,N=_.angle,S=_.className,P=_.breakAll,A=Sk(_,nve);if(!Xn(r)||!Xn(o))return null;var k=r+(Se(C)?C:0),I=o+(Se(E)?E:0),O;switch(g){case"start":O=tw("calc(".concat(c,")"));break;case"middle":O=tw("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:O=tw("calc(".concat(b.length-1," * -").concat(a,")"));break}var R=[];if(f){var L=b[0].width,B=_.width;R.push("scale(".concat((Se(B)?B/L:1)/L,")"))}return N&&R.push("rotate(".concat(N,", ").concat(k,", ").concat(I,")")),R.length&&(A.transform=R.join(" ")),z.createElement("text",P_({},At(A,!0),{x:k,y:I,className:Et("recharts-text",S),textAnchor:m,fill:w.includes("url")?Ak:w}),b.map(function(U,W){var F=U.words.join(P?"":" ");return z.createElement("tspan",{x:k,dy:W===0?O:a,key:"".concat(F,"-").concat(W)},F)}))};function qa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $P(t){let e,n,r;t.length!==2?(e=qa,n=(a,l)=>qa(t(a),l),r=(a,l)=>t(a)-l):(e=t===qa||t===uve?t:dve,n=t,r=t);function i(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(a,l,c=0,d=a.length){const f=i(a,l,c,d-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function dve(){return 0}function v6(t){return t===null?NaN:+t}function*fve(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const hve=$P(qa),Kp=hve.right;$P(v6).center;class Ck extends Map{constructor(e,n=gve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Nk(this,e))}has(e){return super.has(Nk(this,e))}set(e,n){return super.set(pve(this,e),n)}delete(e){return super.delete(mve(this,e))}}function Nk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function pve({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function mve({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function gve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yve(t=qa){if(t===qa)return x6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function x6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vve=Math.sqrt(50),xve=Math.sqrt(10),bve=Math.sqrt(2);function iv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=vve?10:o>=xve?5:o>=bve?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?iv(t,e,n*2):[a,l,c]}function A_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?iv(e,t,n):iv(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function C_(t,e,n){return e=+e,t=+t,n=+n,iv(t,e,n)[2]}function N_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?C_(e,t,n):C_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ik(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function b6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?x6:yve(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*f/l+h)),v=Math.min(r,Math.floor(e+(l-c)*f/l+h));b6(t,e,m,v,i)}const o=t[e];let s=n,a=r;for(hf(t,n,e),i(t[r],o)>0&&hf(t,n,r);s<a;){for(hf(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?hf(t,n,a):(++a,hf(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function hf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function wve(t,e,n){if(t=Float64Array.from(fve(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return jk(t);if(e>=1)return Ik(t);var r,i=(r-1)*e,o=Math.floor(i),s=Ik(b6(t,o).subarray(0,o+1)),a=jk(t.subarray(o+1));return s+(a-s)*(i-o)}}function _ve(t,e,n=v6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Sve(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ro(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ta(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const I_=Symbol("implicit");function LP(){var t=new Ck,e=[],n=[],r=I_;function i(o){let s=t.get(o);if(s===void 0){if(r!==I_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ck;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return LP(e,n).unknown(r)},ro.apply(i,arguments),i}function Gh(){var t=LP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,v=m?i:r,g=m?r:i;o=(g-v)/Math.max(1,h-l+c*2),a&&(o=Math.floor(o)),v+=(g-v-o*(h-l))*d,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var x=Sve(h).map(function(w){return v+o*w});return n(m?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Gh(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},ro.apply(f(),arguments)}function w6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return w6(e())},t}function Zf(){return w6(Gh.apply(null,arguments).paddingInner(1))}function FP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yp(){}var Kh=.7,ov=1/Kh,wu="\\s*([+-]?\\d+)\\s*",Yh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eve=/^#([0-9a-f]{3,8})$/,Tve=new RegExp(`^rgb\\(${wu},${wu},${wu}\\)$`),Pve=new RegExp(`^rgb\\(${ss},${ss},${ss}\\)$`),Ave=new RegExp(`^rgba\\(${wu},${wu},${wu},${Yh}\\)$`),Cve=new RegExp(`^rgba\\(${ss},${ss},${ss},${Yh}\\)$`),Nve=new RegExp(`^hsl\\(${Yh},${ss},${ss}\\)$`),Ive=new RegExp(`^hsla\\(${Yh},${ss},${ss},${Yh}\\)$`),kk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FP(Yp,Xh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ok,formatHex:Ok,formatHex8:jve,formatHsl:kve,formatRgb:Rk,toString:Rk});function Ok(){return this.rgb().formatHex()}function jve(){return this.rgb().formatHex8()}function kve(){return S6(this).formatHsl()}function Rk(){return this.rgb().formatRgb()}function Xh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Eve.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Mk(e):n===3?new ni(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Tve.exec(t))?new ni(e[1],e[2],e[3],1):(e=Pve.exec(t))?new ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ave.exec(t))?Zm(e[1],e[2],e[3],e[4]):(e=Cve.exec(t))?Zm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Nve.exec(t))?Lk(e[1],e[2]/100,e[3]/100,1):(e=Ive.exec(t))?Lk(e[1],e[2]/100,e[3]/100,e[4]):kk.hasOwnProperty(t)?Mk(kk[t]):t==="transparent"?new ni(NaN,NaN,NaN,0):null}function Mk(t){return new ni(t>>16&255,t>>8&255,t&255,1)}function Zm(t,e,n,r){return r<=0&&(t=e=n=NaN),new ni(t,e,n,r)}function Ove(t){return t instanceof Yp||(t=Xh(t)),t?(t=t.rgb(),new ni(t.r,t.g,t.b,t.opacity)):new ni}function j_(t,e,n,r){return arguments.length===1?Ove(t):new ni(t,e,n,r??1)}function ni(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}FP(ni,j_,_6(Yp,{brighter(t){return t=t==null?ov:Math.pow(ov,t),new ni(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Kh:Math.pow(Kh,t),new ni(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ni(Xl(this.r),Xl(this.g),Xl(this.b),sv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dk,formatHex:Dk,formatHex8:Rve,formatRgb:$k,toString:$k}));function Dk(){return`#${Dl(this.r)}${Dl(this.g)}${Dl(this.b)}`}function Rve(){return`#${Dl(this.r)}${Dl(this.g)}${Dl(this.b)}${Dl((isNaN(this.opacity)?1:this.opacity)*255)}`}function $k(){const t=sv(this.opacity);return`${t===1?"rgb(":"rgba("}${Xl(this.r)}, ${Xl(this.g)}, ${Xl(this.b)}${t===1?")":`, ${t})`}`}function sv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dl(t){return t=Xl(t),(t<16?"0":"")+t.toString(16)}function Lk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bo(t,e,n,r)}function S6(t){if(t instanceof bo)return new bo(t.h,t.s,t.l,t.opacity);if(t instanceof Yp||(t=Xh(t)),!t)return new bo;if(t instanceof bo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new bo(s,a,l,t.opacity)}function Mve(t,e,n,r){return arguments.length===1?S6(t):new bo(t,e,n,r??1)}function bo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}FP(bo,Mve,_6(Yp,{brighter(t){return t=t==null?ov:Math.pow(ov,t),new bo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kh:Math.pow(Kh,t),new bo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ni(nw(t>=240?t-240:t+120,i,r),nw(t,i,r),nw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new bo(Fk(this.h),eg(this.s),eg(this.l),sv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sv(this.opacity);return`${t===1?"hsl(":"hsla("}${Fk(this.h)}, ${eg(this.s)*100}%, ${eg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fk(t){return t=(t||0)%360,t<0?t+360:t}function eg(t){return Math.max(0,Math.min(1,t||0))}function nw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const VP=t=>()=>t;function Dve(t,e){return function(n){return t+n*e}}function $ve(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lve(t){return(t=+t)==1?E6:function(e,n){return n-e?$ve(e,n,t):VP(isNaN(e)?n:e)}}function E6(t,e){var n=e-t;return n?Dve(t,n):VP(isNaN(t)?e:t)}const Vk=function t(e){var n=Lve(e);function r(i,o){var s=n((i=j_(i)).r,(o=j_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=E6(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function Fve(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Vve(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bve(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=qd(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Uve(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function av(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zve(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=qd(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var k_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rw=new RegExp(k_.source,"g");function Wve(t){return function(){return t}}function Hve(t){return function(e){return t(e)+""}}function qve(t,e){var n=k_.lastIndex=rw.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=k_.exec(t))&&(i=rw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:av(r,i)})),n=rw.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Hve(l[0].x):Wve(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}function qd(t,e){var n=typeof e,r;return e==null||n==="boolean"?VP(e):(n==="number"?av:n==="string"?(r=Xh(e))?(e=r,Vk):qve:e instanceof Xh?Vk:e instanceof Date?Uve:Vve(e)?Fve:Array.isArray(e)?Bve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zve:av)(t,e)}function BP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Gve(t,e){e===void 0&&(e=t,t=qd);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Kve(t){return function(){return t}}function lv(t){return+t}var Bk=[0,1];function zr(t){return t}function O_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Kve(isNaN(e)?NaN:.5)}function Yve(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Xve(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=O_(i,r),o=n(s,o)):(r=O_(r,i),o=n(o,s)),function(a){return o(r(a))}}function Qve(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=O_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Kp(t,a,1,r)-1;return o[l](i[l](a))}}function Xp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function u0(){var t=Bk,e=Bk,n=qd,r,i,o,s=zr,a,l,c;function d(){var h=Math.min(t.length,e.length);return s!==zr&&(s=Yve(t[0],t[h-1])),a=h>2?Qve:Xve,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=a(e,t.map(r),av)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,lv),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=BP,d()},f.clamp=function(h){return arguments.length?(s=h?!0:zr,d()):s!==zr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function UP(){return u0()(zr,zr)}function Jve(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function id(t){return t=cv(Math.abs(t)),t?t[1]:NaN}function Zve(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function exe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var txe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qh(t){if(!(e=txe.exec(t)))throw new Error("invalid format: "+t);var e;return new zP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qh.prototype=zP.prototype;function zP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var T6;function rxe(t,e){var n=cv(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(T6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+cv(t,Math.max(0,e+o-1))[0]}function Uk(t,e){var n=cv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Jve,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Uk(t*100,e),r:Uk,s:rxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Wk(t){return t}var Hk=Array.prototype.map,qk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ixe(t){var e=t.grouping===void 0||t.thousands===void 0?Wk:Zve(Hk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Wk:exe(Hk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Qh(f);var h=f.fill,m=f.align,v=f.sign,g=f.symbol,x=f.zero,w=f.width,_=f.comma,b=f.precision,C=f.trim,E=f.type;E==="n"?(_=!0,E="g"):zk[E]||(b===void 0&&(b=12),C=!0,E="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=g==="$"?r:/[%p]/.test(E)?s:"",P=zk[E],A=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(I){var O=N,R=S,L,B,U;if(E==="c")R=P(I)+R,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?l:P(Math.abs(I),b),C&&(I=nxe(I)),W&&+I==0&&v!=="+"&&(W=!1),O=(W?v==="("?v:a:v==="-"||v==="("?"":v)+O,R=(E==="s"?qk[8+T6/3]:"")+R+(W&&v==="("?")":""),A){for(L=-1,B=I.length;++L<B;)if(U=I.charCodeAt(L),48>U||U>57){R=(U===46?i+I.slice(L+1):I.slice(L))+R,I=I.slice(0,L);break}}}_&&!x&&(I=e(I,1/0));var F=O.length+I.length+R.length,V=F<w?new Array(w-F+1).join(h):"";switch(_&&x&&(I=e(V+I,V.length?w-R.length:1/0),V=""),m){case"<":I=O+I+R+V;break;case"=":I=O+V+I+R;break;case"^":I=V.slice(0,F=V.length>>1)+O+I+R+V.slice(F);break;default:I=V+O+I+R;break}return o(I)}return k.toString=function(){return f+""},k}function d(f,h){var m=c((f=Qh(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(id(h)/3)))*3,g=Math.pow(10,-v),x=qk[8+v/3];return function(w){return m(g*w)+x}}return{format:c,formatPrefix:d}}var tg,WP,P6;oxe({thousands:",",grouping:[3],currency:["$",""]});function oxe(t){return tg=ixe(t),WP=tg.format,P6=tg.formatPrefix,tg}function sxe(t){return Math.max(0,-id(Math.abs(t)))}function axe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(id(e)/3)))*3-id(Math.abs(t)))}function lxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,id(e)-id(t))+1}function A6(t,e,n,r){var i=N_(t,e,n),o;switch(r=Qh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=axe(i,s))&&(r.precision=o),P6(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=lxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=sxe(i))&&(r.precision=o-(r.type==="%")*2);break}}return WP(r)}function hl(t){var e=t.domain;return t.ticks=function(n){var r=e();return A_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return A6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,d=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);d-- >0;){if(c=C_(s,a,n),c===l)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function uv(){var t=UP();return t.copy=function(){return Xp(t,uv())},ro.apply(t,arguments),hl(t)}function C6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,lv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return C6(t).unknown(e)},t=arguments.length?Array.from(t,lv):[0,1],hl(n)}function N6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Gk(t){return Math.log(t)}function Kk(t){return Math.exp(t)}function cxe(t){return-Math.log(-t)}function uxe(t){return-Math.exp(-t)}function dxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function fxe(t){return t===10?dxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Yk(t){return(e,n)=>-t(-e,n)}function HP(t){const e=t(Gk,Kk),n=e.domain;let r=10,i,o;function s(){return i=hxe(r),o=fxe(r),n()[0]<0?(i=Yk(i),o=Yk(o),t(cxe,uxe)):t(Gk,Kk),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),v,g;const x=a==null?10:+a;let w=[];if(!(r%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(v=1;v<r;++v)if(g=h<0?v/o(-h):v*o(h),!(g<c)){if(g>d)break;w.push(g)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(g=h>0?v/o(-h):v*o(h),!(g<c)){if(g>d)break;w.push(g)}w.length*2<x&&(w=A_(c,d,x))}else w=A_(h,m,Math.min(m-h,x)).map(o);return f?w.reverse():w},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Qh(l)).precision==null&&(l.trim=!0),l=WP(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(N6(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function I6(){const t=HP(u0()).domain([1,10]);return t.copy=()=>Xp(t,I6()).base(t.base()),ro.apply(t,arguments),t}function Xk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Qk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function qP(t){var e=1,n=t(Xk(e),Qk(e));return n.constant=function(r){return arguments.length?t(Xk(e=+r),Qk(e)):e},hl(n)}function j6(){var t=qP(u0());return t.copy=function(){return Xp(t,j6()).constant(t.constant())},ro.apply(t,arguments)}function Jk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mxe(t){return t<0?-t*t:t*t}function GP(t){var e=t(zr,zr),n=1;function r(){return n===1?t(zr,zr):n===.5?t(pxe,mxe):t(Jk(n),Jk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},hl(e)}function KP(){var t=GP(u0());return t.copy=function(){return Xp(t,KP()).exponent(t.exponent())},ro.apply(t,arguments),t}function gxe(){return KP.apply(null,arguments).exponent(.5)}function Zk(t){return Math.sign(t)*t*t}function yxe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function k6(){var t=UP(),e=[0,1],n=!1,r;function i(o){var s=yxe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Zk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,lv)).map(Zk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return k6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ro.apply(i,arguments),hl(i)}function O6(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=_ve(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Kp(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(qa),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return O6().domain(t).range(e).unknown(r)},ro.apply(o,arguments)}function R6(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Kp(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return R6().domain([t,e]).range(i).unknown(o)},ro.apply(hl(s),arguments)}function M6(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Kp(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return M6().domain(t).range(e).unknown(n)},ro.apply(i,arguments)}const iw=new Date,ow=new Date;function Jn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>Jn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(iw.setTime(+o),ow.setTime(+s),t(iw),t(ow),Math.floor(n(iw,ow))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const dv=Jn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):dv);dv.range;const Ns=1e3,qi=Ns*60,Is=qi*60,qs=Is*24,YP=qs*7,e2=qs*30,sw=qs*365,$l=Jn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getUTCSeconds());$l.range;const XP=Jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns)},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getMinutes());XP.range;const QP=Jn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getUTCMinutes());QP.range;const JP=Jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns-t.getMinutes()*qi)},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getHours());JP.range;const ZP=Jn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getUTCHours());ZP.range;const Qp=Jn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qi)/qs,t=>t.getDate()-1);Qp.range;const d0=Jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qs,t=>t.getUTCDate()-1);d0.range;const D6=Jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qs,t=>Math.floor(t/qs));D6.range;function Ec(t){return Jn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*qi)/YP)}const f0=Ec(0),fv=Ec(1),vxe=Ec(2),xxe=Ec(3),od=Ec(4),bxe=Ec(5),wxe=Ec(6);f0.range;fv.range;vxe.range;xxe.range;od.range;bxe.range;wxe.range;function Tc(t){return Jn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/YP)}const h0=Tc(0),hv=Tc(1),_xe=Tc(2),Sxe=Tc(3),sd=Tc(4),Exe=Tc(5),Txe=Tc(6);h0.range;hv.range;_xe.range;Sxe.range;sd.range;Exe.range;Txe.range;const eA=Jn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());eA.range;const tA=Jn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tA.range;const Gs=Jn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Gs.range;const Ks=Jn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ks.range;function $6(t,e,n,r,i,o){const s=[[$l,1,Ns],[$l,5,5*Ns],[$l,15,15*Ns],[$l,30,30*Ns],[o,1,qi],[o,5,5*qi],[o,15,15*qi],[o,30,30*qi],[i,1,Is],[i,3,3*Is],[i,6,6*Is],[i,12,12*Is],[r,1,qs],[r,2,2*qs],[n,1,YP],[e,1,e2],[e,3,3*e2],[t,1,sw]];function a(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),v=m?m.range(c,+d+1):[];return h?v.reverse():v}function l(c,d,f){const h=Math.abs(d-c)/f,m=$P(([,,x])=>x).right(s,h);if(m===s.length)return t.every(N_(c/sw,d/sw,f));if(m===0)return dv.every(Math.max(N_(c,d,f),1));const[v,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return v.every(g)}return[a,l]}const[Pxe,Axe]=$6(Ks,tA,h0,D6,ZP,QP),[Cxe,Nxe]=$6(Gs,eA,f0,Qp,JP,XP);function aw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function pf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ixe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=mf(i),d=gf(i),f=mf(o),h=gf(o),m=mf(s),v=gf(s),g=mf(a),x=gf(a),w=mf(l),_=gf(l),b={a:W,A:F,b:V,B:Z,c:null,d:s2,e:s2,f:Zxe,g:c0e,G:d0e,H:Xxe,I:Qxe,j:Jxe,L:L6,m:e0e,M:t0e,p:Q,q:ne,Q:c2,s:u2,S:n0e,u:r0e,U:i0e,V:o0e,w:s0e,W:a0e,x:null,X:null,y:l0e,Y:u0e,Z:f0e,"%":l2},C={a:ge,A:Ae,b:Ve,B:Ke,c:null,d:a2,e:a2,f:g0e,g:P0e,G:C0e,H:h0e,I:p0e,j:m0e,L:V6,m:y0e,M:v0e,p:me,q:we,Q:c2,s:u2,S:x0e,u:b0e,U:w0e,V:_0e,w:S0e,W:E0e,x:null,X:null,y:T0e,Y:A0e,Z:N0e,"%":l2},E={a:k,A:I,b:O,B:R,c:L,d:i2,e:i2,f:qxe,g:r2,G:n2,H:o2,I:o2,j:Uxe,L:Hxe,m:Bxe,M:zxe,p:A,q:Vxe,Q:Kxe,s:Yxe,S:Wxe,u:Mxe,U:Dxe,V:$xe,w:Rxe,W:Lxe,x:B,X:U,y:r2,Y:n2,Z:Fxe,"%":Gxe};b.x=N(n,b),b.X=N(r,b),b.c=N(e,b),C.x=N(n,C),C.X=N(r,C),C.c=N(e,C);function N(ee,he){return function(pe){var K=[],_e=-1,Oe=0,ht=ee.length,at,Ct,Rt;for(pe instanceof Date||(pe=new Date(+pe));++_e<ht;)ee.charCodeAt(_e)===37&&(K.push(ee.slice(Oe,_e)),(Ct=t2[at=ee.charAt(++_e)])!=null?at=ee.charAt(++_e):Ct=at==="e"?" ":"0",(Rt=he[at])&&(at=Rt(pe,Ct)),K.push(at),Oe=_e+1);return K.push(ee.slice(Oe,_e)),K.join("")}}function S(ee,he){return function(pe){var K=pf(1900,void 0,1),_e=P(K,ee,pe+="",0),Oe,ht;if(_e!=pe.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(he&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Oe=lw(pf(K.y,0,1)),ht=Oe.getUTCDay(),Oe=ht>4||ht===0?hv.ceil(Oe):hv(Oe),Oe=d0.offset(Oe,(K.V-1)*7),K.y=Oe.getUTCFullYear(),K.m=Oe.getUTCMonth(),K.d=Oe.getUTCDate()+(K.w+6)%7):(Oe=aw(pf(K.y,0,1)),ht=Oe.getDay(),Oe=ht>4||ht===0?fv.ceil(Oe):fv(Oe),Oe=Qp.offset(Oe,(K.V-1)*7),K.y=Oe.getFullYear(),K.m=Oe.getMonth(),K.d=Oe.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ht="Z"in K?lw(pf(K.y,0,1)).getUTCDay():aw(pf(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ht+5)%7:K.w+K.U*7-(ht+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,lw(K)):aw(K)}}function P(ee,he,pe,K){for(var _e=0,Oe=he.length,ht=pe.length,at,Ct;_e<Oe;){if(K>=ht)return-1;if(at=he.charCodeAt(_e++),at===37){if(at=he.charAt(_e++),Ct=E[at in t2?he.charAt(_e++):at],!Ct||(K=Ct(ee,pe,K))<0)return-1}else if(at!=pe.charCodeAt(K++))return-1}return K}function A(ee,he,pe){var K=c.exec(he.slice(pe));return K?(ee.p=d.get(K[0].toLowerCase()),pe+K[0].length):-1}function k(ee,he,pe){var K=m.exec(he.slice(pe));return K?(ee.w=v.get(K[0].toLowerCase()),pe+K[0].length):-1}function I(ee,he,pe){var K=f.exec(he.slice(pe));return K?(ee.w=h.get(K[0].toLowerCase()),pe+K[0].length):-1}function O(ee,he,pe){var K=w.exec(he.slice(pe));return K?(ee.m=_.get(K[0].toLowerCase()),pe+K[0].length):-1}function R(ee,he,pe){var K=g.exec(he.slice(pe));return K?(ee.m=x.get(K[0].toLowerCase()),pe+K[0].length):-1}function L(ee,he,pe){return P(ee,e,he,pe)}function B(ee,he,pe){return P(ee,n,he,pe)}function U(ee,he,pe){return P(ee,r,he,pe)}function W(ee){return s[ee.getDay()]}function F(ee){return o[ee.getDay()]}function V(ee){return l[ee.getMonth()]}function Z(ee){return a[ee.getMonth()]}function Q(ee){return i[+(ee.getHours()>=12)]}function ne(ee){return 1+~~(ee.getMonth()/3)}function ge(ee){return s[ee.getUTCDay()]}function Ae(ee){return o[ee.getUTCDay()]}function Ve(ee){return l[ee.getUTCMonth()]}function Ke(ee){return a[ee.getUTCMonth()]}function me(ee){return i[+(ee.getUTCHours()>=12)]}function we(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var he=N(ee+="",b);return he.toString=function(){return ee},he},parse:function(ee){var he=S(ee+="",!1);return he.toString=function(){return ee},he},utcFormat:function(ee){var he=N(ee+="",C);return he.toString=function(){return ee},he},utcParse:function(ee){var he=S(ee+="",!0);return he.toString=function(){return ee},he}}}var t2={"-":"",_:" ",0:"0"},cr=/^\s*\d+/,jxe=/^%/,kxe=/[\\^$*+?|[\]().{}]/g;function kt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Oxe(t){return t.replace(kxe,"\\$&")}function mf(t){return new RegExp("^(?:"+t.map(Oxe).join("|")+")","i")}function gf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Rxe(t,e,n){var r=cr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Mxe(t,e,n){var r=cr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Dxe(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $xe(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Lxe(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function n2(t,e,n){var r=cr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function r2(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fxe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Vxe(t,e,n){var r=cr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Bxe(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function i2(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Uxe(t,e,n){var r=cr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function o2(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function zxe(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Wxe(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Hxe(t,e,n){var r=cr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function qxe(t,e,n){var r=cr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Gxe(t,e,n){var r=jxe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Kxe(t,e,n){var r=cr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Yxe(t,e,n){var r=cr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function s2(t,e){return kt(t.getDate(),e,2)}function Xxe(t,e){return kt(t.getHours(),e,2)}function Qxe(t,e){return kt(t.getHours()%12||12,e,2)}function Jxe(t,e){return kt(1+Qp.count(Gs(t),t),e,3)}function L6(t,e){return kt(t.getMilliseconds(),e,3)}function Zxe(t,e){return L6(t,e)+"000"}function e0e(t,e){return kt(t.getMonth()+1,e,2)}function t0e(t,e){return kt(t.getMinutes(),e,2)}function n0e(t,e){return kt(t.getSeconds(),e,2)}function r0e(t){var e=t.getDay();return e===0?7:e}function i0e(t,e){return kt(f0.count(Gs(t)-1,t),e,2)}function F6(t){var e=t.getDay();return e>=4||e===0?od(t):od.ceil(t)}function o0e(t,e){return t=F6(t),kt(od.count(Gs(t),t)+(Gs(t).getDay()===4),e,2)}function s0e(t){return t.getDay()}function a0e(t,e){return kt(fv.count(Gs(t)-1,t),e,2)}function l0e(t,e){return kt(t.getFullYear()%100,e,2)}function c0e(t,e){return t=F6(t),kt(t.getFullYear()%100,e,2)}function u0e(t,e){return kt(t.getFullYear()%1e4,e,4)}function d0e(t,e){var n=t.getDay();return t=n>=4||n===0?od(t):od.ceil(t),kt(t.getFullYear()%1e4,e,4)}function f0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+kt(e/60|0,"0",2)+kt(e%60,"0",2)}function a2(t,e){return kt(t.getUTCDate(),e,2)}function h0e(t,e){return kt(t.getUTCHours(),e,2)}function p0e(t,e){return kt(t.getUTCHours()%12||12,e,2)}function m0e(t,e){return kt(1+d0.count(Ks(t),t),e,3)}function V6(t,e){return kt(t.getUTCMilliseconds(),e,3)}function g0e(t,e){return V6(t,e)+"000"}function y0e(t,e){return kt(t.getUTCMonth()+1,e,2)}function v0e(t,e){return kt(t.getUTCMinutes(),e,2)}function x0e(t,e){return kt(t.getUTCSeconds(),e,2)}function b0e(t){var e=t.getUTCDay();return e===0?7:e}function w0e(t,e){return kt(h0.count(Ks(t)-1,t),e,2)}function B6(t){var e=t.getUTCDay();return e>=4||e===0?sd(t):sd.ceil(t)}function _0e(t,e){return t=B6(t),kt(sd.count(Ks(t),t)+(Ks(t).getUTCDay()===4),e,2)}function S0e(t){return t.getUTCDay()}function E0e(t,e){return kt(hv.count(Ks(t)-1,t),e,2)}function T0e(t,e){return kt(t.getUTCFullYear()%100,e,2)}function P0e(t,e){return t=B6(t),kt(t.getUTCFullYear()%100,e,2)}function A0e(t,e){return kt(t.getUTCFullYear()%1e4,e,4)}function C0e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?sd(t):sd.ceil(t),kt(t.getUTCFullYear()%1e4,e,4)}function N0e(){return"+0000"}function l2(){return"%"}function c2(t){return+t}function u2(t){return Math.floor(+t/1e3)}var Mc,U6,z6;I0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function I0e(t){return Mc=Ixe(t),U6=Mc.format,Mc.parse,z6=Mc.utcFormat,Mc.utcParse,Mc}function j0e(t){return new Date(t)}function k0e(t){return t instanceof Date?+t:+new Date(+t)}function nA(t,e,n,r,i,o,s,a,l,c){var d=UP(),f=d.invert,h=d.domain,m=c(".%L"),v=c(":%S"),g=c("%I:%M"),x=c("%I %p"),w=c("%a %d"),_=c("%b %d"),b=c("%B"),C=c("%Y");function E(N){return(l(N)<N?m:a(N)<N?v:s(N)<N?g:o(N)<N?x:r(N)<N?i(N)<N?w:_:n(N)<N?b:C)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,k0e)):h().map(j0e)},d.ticks=function(N){var S=h();return t(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?E:c(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=e(S[0],S[S.length-1],N??10)),N?h(N6(S,N)):d},d.copy=function(){return Xp(d,nA(t,e,n,r,i,o,s,a,l,c))},d}function O0e(){return ro.apply(nA(Cxe,Nxe,Gs,eA,f0,Qp,JP,XP,$l,U6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function R0e(){return ro.apply(nA(Pxe,Axe,Ks,tA,h0,d0,ZP,QP,$l,z6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function p0(){var t=0,e=1,n,r,i,o,s=zr,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,s=f(m,v),c):[s(0),s(1)]}}return c.range=d(qd),c.rangeRound=d(BP),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function pl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function W6(){var t=hl(p0()(zr));return t.copy=function(){return pl(t,W6())},ta.apply(t,arguments)}function H6(){var t=HP(p0()).domain([1,10]);return t.copy=function(){return pl(t,H6()).base(t.base())},ta.apply(t,arguments)}function q6(){var t=qP(p0());return t.copy=function(){return pl(t,q6()).constant(t.constant())},ta.apply(t,arguments)}function rA(){var t=GP(p0());return t.copy=function(){return pl(t,rA()).exponent(t.exponent())},ta.apply(t,arguments)}function M0e(){return rA.apply(null,arguments).exponent(.5)}function G6(){var t=[],e=zr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Kp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(qa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>wve(t,o/r))},n.copy=function(){return G6(e).domain(t)},ta.apply(n,arguments)}function m0(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,c=zr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?a:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),s=d(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function v(g){return function(x){var w,_,b;return arguments.length?([w,_,b]=x,c=Gve(g,[w,_,b]),m):[c(0),c(.5),c(1)]}}return m.range=v(qd),m.rangeRound=v(BP),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m}}function K6(){var t=hl(m0()(zr));return t.copy=function(){return pl(t,K6())},ta.apply(t,arguments)}function Y6(){var t=HP(m0()).domain([.1,1,10]);return t.copy=function(){return pl(t,Y6()).base(t.base())},ta.apply(t,arguments)}function X6(){var t=qP(m0());return t.copy=function(){return pl(t,X6()).constant(t.constant())},ta.apply(t,arguments)}function iA(){var t=GP(m0());return t.copy=function(){return pl(t,iA()).exponent(t.exponent())},ta.apply(t,arguments)}function D0e(){return iA.apply(null,arguments).exponent(.5)}const d2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gh,scaleDiverging:K6,scaleDivergingLog:Y6,scaleDivergingPow:iA,scaleDivergingSqrt:D0e,scaleDivergingSymlog:X6,scaleIdentity:C6,scaleImplicit:I_,scaleLinear:uv,scaleLog:I6,scaleOrdinal:LP,scalePoint:Zf,scalePow:KP,scaleQuantile:O6,scaleQuantize:R6,scaleRadial:k6,scaleSequential:W6,scaleSequentialLog:H6,scaleSequentialPow:rA,scaleSequentialQuantile:G6,scaleSequentialSqrt:M0e,scaleSequentialSymlog:q6,scaleSqrt:gxe,scaleSymlog:j6,scaleThreshold:M6,scaleTime:O0e,scaleUtc:R0e,tickFormat:A6},Symbol.toStringTag,{value:"Module"}));var $0e=$d;function L0e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!$0e(s):n(s,a)))var a=s,l=o}return l}var Q6=L0e;function F0e(t,e){return t>e}var V0e=F0e,B0e=Q6,U0e=V0e,z0e=Wd;function W0e(t){return t&&t.length?B0e(t,z0e,U0e):void 0}var H0e=W0e;const g0=Yt(H0e);function q0e(t,e){return t<e}var G0e=q0e,K0e=Q6,Y0e=G0e,X0e=Wd;function Q0e(t){return t&&t.length?K0e(t,X0e,Y0e):void 0}var J0e=Q0e;const y0=Yt(J0e);var Z0e=yP,ebe=Hd,tbe=o6,nbe=si;function rbe(t,e){var n=nbe(t)?Z0e:tbe;return n(t,ebe(e))}var ibe=rbe,obe=r6,sbe=ibe;function abe(t,e){return obe(sbe(t,e),1)}var lbe=abe;const cbe=Yt(lbe);var ube=OP;function dbe(t,e){return ube(t,e)}var fbe=dbe;const v0=Yt(fbe);var Gd=1e9,hbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sA,hn=!0,Zi="[DecimalError] ",Ql=Zi+"Invalid argument: ",oA=Zi+"Exponent out of range: ",Kd=Math.floor,Nl=Math.pow,pbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wi,rr=1e7,sn=7,J6=9007199254740991,pv=Kd(J6/sn),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*sn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(t){return Ms(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,n=e.constructor;return Kt(Ms(e,new n(t),0,1),n.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return Bn(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wi))throw Error(Zi+"NaN");if(n.s<1)throw Error(Zi+(n.s?"NaN":"-Infinity"));return n.eq(wi)?new r(0):(hn=!1,e=Ms(Jh(n,o),Jh(t,o),o),hn=!0,Kt(e,i))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tB(e,t):Z6(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Zi+"NaN");return n.s?(hn=!1,e=Ms(n,t,0,1).times(t),hn=!0,n.minus(e)):Kt(new r(n),i)};ke.naturalExponential=ke.exp=function(){return eB(this)};ke.naturalLogarithm=ke.ln=function(){return Jh(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z6(e,t):tB(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ql+t);if(e=Bn(i)+1,r=i.d.length-1,n=r*sn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ke.squareRoot=ke.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Zi+"NaN")}for(t=Bn(a),hn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Yo(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Kd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ms(a,o,s+2)).times(.5),Yo(o.d).slice(0,s)===(e=Yo(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Kt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return hn=!0,Kt(r,n)};ke.times=ke.mul=function(t){var e,n,r,i,o,s,a,l,c,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=m.length,l<c&&(o=h,h=m,m=o,s=l,l=c,c=s),o=[],s=l+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+m[r]*h[i-r-1]+e,o[i--]=a%rr|0,e=a/rr|0;o[i]=(o[i]+e)%rr|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,hn?Kt(t,f.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(fs(t,0,Gd),e===void 0?e=r.rounding:fs(e,0,8),Kt(n,t+Bn(n)+1,e))};ke.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=pc(r,!0):(fs(t,0,Gd),e===void 0?e=i.rounding:fs(e,0,8),r=Kt(new i(r),t+1,e),n=pc(r,!0,t+1)),n};ke.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?pc(i):(fs(t,0,Gd),e===void 0?e=o.rounding:fs(e,0,8),r=Kt(new o(i),t+Bn(i)+1,e),n=pc(r.abs(),!1,t+Bn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return Kt(new e(t),Bn(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(wi);if(a=new l(a),!a.s){if(t.s<1)throw Error(Zi+"Infinity");return a}if(a.eq(wi))return a;if(r=l.precision,t.eq(wi))return Kt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=d<0?-d:d)<=J6){for(i=new l(wi),e=Math.ceil(r/sn+4),hn=!1;n%2&&(i=i.times(a),h2(i.d,e)),n=Kd(n/2),n!==0;)a=a.times(a),h2(a.d,e);return hn=!0,t.s<0?new l(wi).div(i):Kt(i,r)}}else if(o<0)throw Error(Zi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,hn=!1,i=t.times(Jh(a,r+c)),hn=!0,i=eB(i),i.s=o,i};ke.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Bn(i),r=pc(i,n<=o.toExpNeg||n>=o.toExpPos)):(fs(t,1,Gd),e===void 0?e=o.rounding:fs(e,0,8),i=Kt(new o(i),t,e),n=Bn(i),r=pc(i,t<=n||n<=o.toExpNeg,t)),r};ke.toSignificantDigits=ke.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(fs(t,1,Gd),e===void 0?e=r.rounding:fs(e,0,8)),Kt(new r(n),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bn(t),n=t.constructor;return pc(t,e<=n.toExpNeg||e>=n.toExpPos)};function Z6(t,e){var n,r,i,o,s,a,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),hn?Kt(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=c.length):(r=c,i=s,a=l.length),s=Math.ceil(f/sn),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/rr|0,l[o]%=rr;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,hn?Kt(e,f):e}function fs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ql+t)}function Yo(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=sn-r.length,n&&(o+=xa(n)),o+=r;s=t[e],r=s+"",n=sn-r.length,n&&(o+=xa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ms=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%rr|0,s=o/rr|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*rr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,c,d,f,h,m,v,g,x,w,_,b,C,E,N,S,P,A=r.constructor,k=r.s==i.s?1:-1,I=r.d,O=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(Zi+"Division by zero");for(l=r.e-i.e,S=O.length,E=I.length,m=new A(k),v=m.d=[],c=0;O[c]==(I[c]||0);)++c;if(O[c]>(I[c]||0)&&--l,o==null?_=o=A.precision:s?_=o+(Bn(r)-Bn(i))+1:_=o,_<0)return new A(0);if(_=_/sn+2|0,c=0,S==1)for(d=0,O=O[0],_++;(c<E||d)&&_--;c++)b=d*rr+(I[c]||0),v[c]=b/O|0,d=b%O|0;else{for(d=rr/(O[0]+1)|0,d>1&&(O=t(O,d),I=t(I,d),S=O.length,E=I.length),C=S,g=I.slice(0,S),x=g.length;x<S;)g[x++]=0;P=O.slice(),P.unshift(0),N=O[0],O[1]>=rr/2&&++N;do d=0,a=e(O,g,S,x),a<0?(w=g[0],S!=x&&(w=w*rr+(g[1]||0)),d=w/N|0,d>1?(d>=rr&&(d=rr-1),f=t(O,d),h=f.length,x=g.length,a=e(f,g,h,x),a==1&&(d--,n(f,S<h?P:O,h))):(d==0&&(a=d=1),f=O.slice()),h=f.length,h<x&&f.unshift(0),n(g,f,x),a==-1&&(x=g.length,a=e(O,g,S,x),a<1&&(d++,n(g,S<x?P:O,x))),x=g.length):a===0&&(d++,g=[0]),v[c++]=d,a&&g[0]?g[x++]=I[C]||0:(g=[I[C]],x=1);while((C++<E||g[0]!==void 0)&&_--)}return v[0]||v.shift(),m.e=l,Kt(m,s?o+Bn(m)+1:o)}}();function eB(t,e){var n,r,i,o,s,a,l=0,c=0,d=t.constructor,f=d.precision;if(Bn(t)>16)throw Error(oA+Bn(t));if(!t.s)return new d(wi);for(e==null?(hn=!1,a=f):a=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Nl(2,c))/Math.LN10*2+5|0,a+=r,n=i=o=new d(wi),d.precision=a;;){if(i=Kt(i.times(t),a),n=n.times(++l),s=o.plus(Ms(i,n,a)),Yo(s.d).slice(0,a)===Yo(o.d).slice(0,a)){for(;c--;)o=Kt(o.times(o),a);return d.precision=f,e==null?(hn=!0,Kt(o,f)):o}o=s}}function Bn(t){for(var e=t.e*sn,n=t.d[0];n>=10;n/=10)e++;return e}function cw(t,e,n){if(e>t.LN10.sd())throw hn=!0,n&&(t.precision=n),Error(Zi+"LN10 precision limit exceeded");return Kt(new t(t.LN10),e)}function xa(t){for(var e="";t--;)e+="0";return e}function Jh(t,e){var n,r,i,o,s,a,l,c,d,f=1,h=10,m=t,v=m.d,g=m.constructor,x=g.precision;if(m.s<1)throw Error(Zi+(m.s?"NaN":"-Infinity"));if(m.eq(wi))return new g(0);if(e==null?(hn=!1,c=x):c=e,m.eq(10))return e==null&&(hn=!0),cw(g,c);if(c+=h,g.precision=c,n=Yo(v),r=n.charAt(0),o=Bn(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Yo(m.d),r=n.charAt(0),f++;o=Bn(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=cw(g,c+2,x).times(o+""),m=Jh(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=x,e==null?(hn=!0,Kt(m,x)):m;for(a=s=m=Ms(m.minus(wi),m.plus(wi),c),d=Kt(m.times(m),c),i=3;;){if(s=Kt(s.times(d),c),l=a.plus(Ms(s,new g(i),c)),Yo(l.d).slice(0,c)===Yo(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(cw(g,c+2,x).times(o+""))),a=Ms(a,new g(f),c),g.precision=x,e==null?(hn=!0,Kt(a,x)):a;a=l,i+=2}}function f2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Kd(n/sn),t.d=[],r=(n+1)%sn,n<0&&(r+=sn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=sn;r<i;)t.d.push(+e.slice(r,r+=sn));e=e.slice(r),r=sn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),hn&&(t.e>pv||t.e<-pv))throw Error(oA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Kt(t,e,n){var r,i,o,s,a,l,c,d,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=sn,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/sn),o=f.length,d>=o)return t;for(c=o=f[d],s=1;o>=10;o/=10)s++;r%=sn,i=r-sn+s}if(n!==void 0&&(o=Nl(10,s-i-1),a=c/o%10|0,l=e<0||f[d+1]!==void 0||c%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/Nl(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Bn(t),f.length=1,e=e-o-1,f[0]=Nl(10,(sn-e%sn)%sn),t.e=Kd(-e/sn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Nl(10,sn-r),f[d]=i>0?(c/Nl(10,s-i)%Nl(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==rr&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=rr)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(hn&&(t.e>pv||t.e<-pv))throw Error(oA+Bn(t));return t}function tB(t,e){var n,r,i,o,s,a,l,c,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),hn?Kt(e,m):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,a=f.length):(n=f,r=c,a=l.length),i=Math.max(Math.ceil(m/sn),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=rr-1;--l[o],l[i]+=rr}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,hn?Kt(e,m):e):new h(0)}function pc(t,e,n){var r,i=Bn(t),o=Yo(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+xa(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+xa(-i-1)+o,n&&(r=n-s)>0&&(o+=xa(r))):i>=s?(o+=xa(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+xa(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=xa(r))),t.s<0?"-"+o:o}function h2(t,e){if(t.length>e)return t.length=e,!0}function nB(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ql+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return f2(s,o.toString())}else if(typeof o!="string")throw Error(Ql+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,pbe.test(o))f2(s,o);else throw Error(Ql+o)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nB,i.config=i.set=mbe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mbe(t){if(!t||typeof t!="object")throw Error(Zi+"Object expected");var e,n,r,i=["precision",1,Gd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Kd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ql+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ql+n+": "+r);return this}var sA=nB(hbe);wi=new sA(1);const qt=sA;function gbe(t){return bbe(t)||xbe(t)||vbe(t)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vbe(t,e){if(t){if(typeof t=="string")return R_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(t,e)}}function xbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bbe(t){if(Array.isArray(t))return R_(t)}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wbe=function(e){return e},rB={"@@functional/placeholder":!0},iB=function(e){return e===rB},p2=function(e){return function n(){return arguments.length===0||arguments.length===1&&iB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},_be=function t(e,n){return e===1?n:p2(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==rB}).length;return s>=e?n.apply(void 0,i):t(e-s,p2(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=i.map(function(f){return iB(f)?l.shift():f});return n.apply(void 0,gbe(d).concat(l))}))})},x0=function(e){return _be(e.length,e)},M_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Sbe=x0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Ebe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return wbe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},D_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},oB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Tbe(t){var e;return t===0?e=1:e=Math.floor(new qt(t).abs().log(10).toNumber())+1,e}function Pbe(t,e,n){for(var r=new qt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Abe=x0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Cbe=x0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Nbe=x0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const b0={rangeStep:Pbe,getDigitCount:Tbe,interpolateNumber:Abe,uninterpolateNumber:Cbe,uninterpolateTruncation:Nbe};function $_(t){return kbe(t)||jbe(t)||sB(t)||Ibe()}function Ibe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kbe(t){if(Array.isArray(t))return L_(t)}function Zh(t,e){return Mbe(t)||Rbe(t,e)||sB(t,e)||Obe()}function Obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sB(t,e){if(t){if(typeof t=="string")return L_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L_(t,e)}}function L_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rbe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Mbe(t){if(Array.isArray(t))return t}function aB(t){var e=Zh(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function lB(t,e,n){if(t.lte(0))return new qt(0);var r=b0.getDigitCount(t.toNumber()),i=new qt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new qt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new qt(Math.ceil(l))}function Dbe(t,e,n){var r=1,i=new qt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new qt(10).pow(b0.getDigitCount(t)-1),i=new qt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new qt(Math.floor(t)))}else t===0?i=new qt(Math.floor((e-1)/2)):n||(i=new qt(Math.floor(t)));var s=Math.floor((e-1)/2),a=Ebe(Sbe(function(l){return i.add(new qt(l-s).mul(r)).toNumber()}),M_);return a(0,e)}function cB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qt(0),tickMin:new qt(0),tickMax:new qt(0)};var o=lB(new qt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new qt(0):(s=new qt(t).add(e).div(2),s=s.sub(new qt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new qt(e).sub(s).div(o).toNumber()),c=a+l+1;return c>n?cB(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:o,tickMin:s.sub(new qt(a).mul(o)),tickMax:s.add(new qt(l).mul(o))})}function $be(t){var e=Zh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=aB([n,r]),l=Zh(a,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat($_(M_(0,i-1).map(function(){return 1/0}))):[].concat($_(M_(0,i-1).map(function(){return-1/0})),[d]);return n>r?D_(f):f}if(c===d)return Dbe(c,i,o);var h=cB(c,d,s,o),m=h.step,v=h.tickMin,g=h.tickMax,x=b0.rangeStep(v,g.add(new qt(.1).mul(m)),m);return n>r?D_(x):x}function Lbe(t,e){var n=Zh(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=aB([r,i]),a=Zh(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=lB(new qt(c).sub(l).div(d-1),o,0),h=[].concat($_(b0.rangeStep(new qt(l),new qt(c).sub(new qt(.99).mul(f)),f)),[c]);return r>i?D_(h):h}var Fbe=oB($be),Vbe=oB(Lbe),Bbe="Invariant failed";function mc(t,e){throw new Error(Bbe)}var Ube=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function zbe(t,e){return Gbe(t)||qbe(t,e)||Hbe(t,e)||Wbe()}function Wbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(t,e){if(t){if(typeof t=="string")return m2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m2(t,e)}}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Gbe(t){if(Array.isArray(t))return t}function Kbe(t,e){if(t==null)return{};var n=Ybe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ybe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fB(r.key),r)}}function Jbe(t,e,n){return e&&Qbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zbe(t,e,n){return e=gv(e),ewe(t,uB()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function ewe(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return twe(t)}function twe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uB=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function nwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function dB(t,e,n){return e=fB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fB(t){var e=rwe(t,"string");return ad(e)=="symbol"?e:e+""}function rwe(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jp=function(t){function e(){return Xbe(this,e),Zbe(this,e,arguments)}return nwe(e,t),Jbe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Kbe(r,Ube),m=At(h,!1);this.props.direction==="x"&&d.type!=="number"&&mc();var v=l.map(function(g){var x=c(g,a),w=x.x,_=x.y,b=x.value,C=x.errorVal;if(!C)return null;var E=[],N,S;if(Array.isArray(C)){var P=zbe(C,2);N=P[0],S=P[1]}else N=S=C;if(o==="vertical"){var A=d.scale,k=_+i,I=k+s,O=k-s,R=A(b-N),L=A(b+S);E.push({x1:L,y1:I,x2:L,y2:O}),E.push({x1:R,y1:k,x2:L,y2:k}),E.push({x1:R,y1:I,x2:R,y2:O})}else if(o==="horizontal"){var B=f.scale,U=w+i,W=U-s,F=U+s,V=B(b-N),Z=B(b+S);E.push({x1:W,y1:Z,x2:F,y2:Z}),E.push({x1:U,y1:V,x2:U,y2:Z}),E.push({x1:W,y1:V,x2:F,y2:V})}return z.createElement(Rn,mv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),E.map(function(Q){return z.createElement("line",mv({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return z.createElement(Rn,{className:"recharts-errorBars"},v)}}])}(z.Component);dB(Jp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dB(Jp,"displayName","ErrorBar");function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){iwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iwe(t,e,n){return e=owe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function owe(t){var e=swe(t,"string");return ep(e)=="symbol"?e:e+""}function swe(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hB=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=gi(n,bu);if(!s)return null;var a=bu.defaultProps,l=a!==void 0?Sl(Sl({},a),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Sl(Sl({},h),f.props):{},v=m.dataKey,g=m.name,x=m.legendType,w=m.hide;return{inactive:w,dataKey:v,type:l.iconType||x||"square",color:aA(f),value:g||v,payload:m}}),Sl(Sl(Sl({},l),bu.getWithHeight(s,i)),{},{payload:c,item:s})};function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function y2(t){return uwe(t)||cwe(t)||lwe(t)||awe()}function awe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lwe(t,e){if(t){if(typeof t=="string")return V_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(t,e)}}function cwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uwe(t){if(Array.isArray(t))return V_(t)}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){_u(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _u(t,e,n){return e=dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dwe(t){var e=fwe(t,"string");return tp(e)=="symbol"?e:e+""}function fwe(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pi(t,e,n){return yt(t)||yt(e)?n:Xn(e)?Ki(t,e,n):bt(e)?e(t):n}function eh(t,e,n,r){var i=cbe(t,function(a){return Pi(a,e)});if(n==="number"){var o=i.filter(function(a){return Se(a)||parseFloat(a)});return o.length?[y0(o),g0(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!yt(a)}):i;return s.map(function(a){return Xn(a)||a instanceof Date?a:""})}var hwe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var d=c>0?i[c-1].coordinate:i[a-1].coordinate,f=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(So(f-d)!==So(h-f)){var v=[];if(So(h-f)===So(l[1]-l[0])){m=h;var g=f+l[1]-l[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{m=d;var x=h+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var w=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){s=i[c].index;break}}else{var _=Math.min(d,h),b=Math.max(d,h);if(e>(_+f)/2&&e<=(b+f)/2){s=i[c].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},aA=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Cn(Cn({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},pwe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var d=o[a[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],g=v.items,x=v.cateAxisId,w=g.filter(function(S){return Os(S.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,b=_!==void 0?Cn(Cn({},_),w[0].props):w[0].props,C=b.barSize,E=b[x];s[E]||(s[E]=[]);var N=yt(C)?n:C;s[E].push({item:w[0],stackList:w.slice(1),barSize:yt(N)?void 0:hc(N,r,0)})}}return s},mwe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=hc(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/l,v=s.reduce(function(C,E){return C+E.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&m>0&&(h=!0,m*=.9,v=l*m);var g=(i-v)/2>>0,x={offset:g-c,size:0};d=s.reduce(function(C,E){var N={item:E.item,position:{offset:x.offset+x.size+c,size:h?m:E.barSize}},S=[].concat(y2(C),[N]);return x=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(P){S.push({item:P,position:x})}),S},f)}else{var w=hc(r,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var _=(i-2*w-(l-1)*c)/l;_>1&&(_>>=0);var b=a===+a?Math.min(_,a):_;d=s.reduce(function(C,E,N){var S=[].concat(y2(C),[{item:E.item,position:{offset:w+(_+c)*N+(_-b)/2,size:b}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(P){S.push({item:P,position:S[S.length-1].position})}),S},f)}return d},gwe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),c=hB({children:o,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,m=c.align,v=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&m!=="center"&&Se(e[m]))return Cn(Cn({},e),{},_u({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&v!=="middle"&&Se(e[v]))return Cn(Cn({},e),{},_u({},v,e[v]+(h||0)))}return e},ywe=function(e,n,r){return yt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},pB=function(e,n,r,i,o){var s=n.props.children,a=Yi(s,Jp).filter(function(c){return ywe(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=Pi(d,r);if(yt(f))return c;var h=Array.isArray(f)?[y0(f),g0(f)]:[f,f],m=l.reduce(function(v,g){var x=Pi(d,g,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),_=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},vwe=function(e,n,r,i,o){var s=n.map(function(a){return pB(e,a,r,o,i)}).filter(function(a){return!yt(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},mB=function(e,n,r,i,o){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&pB(e,l,c,i)||eh(e,c,r,o)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)a[c[d]]||(a[c[d]]=!0,l.push(c[d]));return l},[])},gB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Ll=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?So(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!qp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},uw=new WeakMap,ng=function(e,n){if(typeof n!="function")return e;uw.has(e)||uw.set(e,new WeakMap);var r=uw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},xwe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Gh(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:uv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Zf(),realScaleType:"point"}:o==="category"?{scale:Gh(),realScaleType:"band"}:{scale:uv(),realScaleType:"linear"};if(fc(i)){var l="scale".concat(r0(i));return{scale:(d2[l]||Zf)(),realScaleType:d2[l]?l:"point"}}return bt(i)?{scale:i}:{scale:Zf(),realScaleType:"point"}},x2=1e-4,bwe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-x2,s=Math.max(i[0],i[1])+x2,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},wwe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},_we=function(e,n){if(!n||n.length!==2||!Se(n[0])||!Se(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Se(e[0])||e[0]<r)&&(o[0]=r),(!Se(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Swe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=qp(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},Ewe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=qp(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Twe={sign:Swe,expand:Lle,none:Zu,silhouette:Fle,wiggle:Vle,positive:Ewe},Pwe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Twe[r],s=$le().keys(i).value(function(a,l){return+Pi(a,l,0)}).order(d_).offset(o);return s(e)},Awe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},c=a.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Cn(Cn({},h.type.defaultProps),h.props):h.props,g=v.stackId,x=v.hide;if(x)return f;var w=v[r],_=f[w]||{hasStack:!1,stackGroups:{}};if(Xn(g)){var b=_.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),_.hasStack=!0,_.stackGroups[g]=b}else _.stackGroups[Gp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Cn(Cn({},f),{},_u({},w,_))},l),d={};return Object.keys(c).reduce(function(f,h){var m=c[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,x){var w=m.stackGroups[x];return Cn(Cn({},g),{},_u({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:Pwe(e,w.items,o)}))},v)}return Cn(Cn({},f),{},_u({},h,m))},d)},Cwe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=Fbe(c,o,a);return e.domain([y0(d),g0(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=Vbe(f,o,a);return{niceTicks:h}}return null};function b2(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!yt(i[e.dataKey])){var a=By(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Pi(i,yt(s)?e.dataKey:s);return yt(l)?null:e.scale(l)}var w2=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Pi(s,n.dataKey,n.domain[a]);return yt(l)?null:n.scale(l)-o/2+i},Nwe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Iwe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Cn(Cn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Xn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},jwe=function(e){return e.reduce(function(n,r){return[y0(r.concat([n[0]]).filter(Se)),g0(r.concat([n[1]]).filter(Se))]},[1/0,-1/0])},yB=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,d){var f=jwe(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},_2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B_=function(e,n,r){if(bt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Se(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(_2.test(e[0])){var o=+_2.exec(e[0])[1];i[0]=n[0]-o}else bt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Se(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(S2.test(e[1])){var s=+S2.exec(e[1])[1];i[1]=n[1]+s}else bt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},yv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=MP(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],d=o[a-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},E2=function(e,n,r){return!e||!e.length||v0(e,Ki(r,"type.defaultProps.domain"))?n:e},vB=function(e,n){var r=e.type.defaultProps?Cn(Cn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Cn(Cn({},At(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:aA(e),value:Pi(n,i),type:l,payload:n,chartType:c,hide:d})};function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){kwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kwe(t,e,n){return e=Owe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Owe(t){var e=Rwe(t,"string");return np(e)=="symbol"?e:e+""}function Rwe(t,e){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vv=Math.PI/180,Mwe=function(e){return e*180/Math.PI},yr=function(e,n,r,i){return{x:e+Math.cos(-vv*i)*r,y:n+Math.sin(-vv*i)*r}},Dwe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},$we=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Dwe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:Mwe(c),angleInRadian:c}},Lwe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Fwe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},A2=function(e,n){var r=e.x,i=e.y,o=$we({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=Lwe(n),f=d.startAngle,h=d.endAngle,m=a,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?P2(P2({},n),{},{radius:s,angle:Fwe(m,n)}):null};function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}var Vwe=["offset"];function Bwe(t){return Hwe(t)||Wwe(t)||zwe(t)||Uwe()}function Uwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zwe(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function Wwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hwe(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qwe(t,e){if(t==null)return{};var n=Gwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(n),!0).forEach(function(r){Kwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kwe(t,e,n){return e=Ywe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ywe(t){var e=Xwe(t,"string");return rp(e)=="symbol"?e:e+""}function Xwe(t,e){if(rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(this,arguments)}var Qwe=function(e){var n=e.value,r=e.formatter,i=yt(e.children)?n:e.children;return bt(r)?r(i):i},Jwe=function(e,n){var r=So(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Zwe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,v=l.endAngle,g=l.clockWise,x=(f+h)/2,w=Jwe(m,v),_=w>=0?1:-1,b,C;i==="insideStart"?(b=m+_*s,C=g):i==="insideEnd"?(b=v-_*s,C=!g):i==="end"&&(b=v+_*s,C=g),C=w<=0?C:!C;var E=yr(c,d,x,b),N=yr(c,d,x,b+(C?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),P=yt(e.id)?Gp("recharts-radial-line-"):e.id;return z.createElement("text",ip({},r,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",a)}),z.createElement("defs",null,z.createElement("path",{id:P,d:S})),z.createElement("textPath",{xlinkHref:"#".concat(P)},n))},e1e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=yr(s,a,c+r,h),v=m.x,g=m.y;return{x:v,y:g,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,w=yr(s,a,x,h),_=w.x,b=w.y;return{x:_,y:b,textAnchor:"middle",verticalAnchor:"middle"}},t1e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",v=f>0?"start":"end",g=c>=0?1:-1,x=g*i,w=g>0?"end":"start",_=g>0?"start":"end";if(o==="top"){var b={x:a+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return qn(qn({},b),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var C={x:a+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return qn(qn({},C),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(o==="left"){var E={x:a-x,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return qn(qn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(o==="right"){var N={x:a+c+x,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return qn(qn({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var S=r?{width:c,height:d}:{};return o==="insideLeft"?qn({x:a+x,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},S):o==="insideRight"?qn({x:a+c-x,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},S):o==="insideTop"?qn({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},S):o==="insideBottom"?qn({x:a+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},S):o==="insideTopLeft"?qn({x:a+x,y:l+h,textAnchor:_,verticalAnchor:v},S):o==="insideTopRight"?qn({x:a+c-x,y:l+h,textAnchor:w,verticalAnchor:v},S):o==="insideBottomLeft"?qn({x:a+x,y:l+d-h,textAnchor:_,verticalAnchor:m},S):o==="insideBottomRight"?qn({x:a+c-x,y:l+d-h,textAnchor:w,verticalAnchor:m},S):Ld(o)&&(Se(o.x)||Ml(o.x))&&(Se(o.y)||Ml(o.y))?qn({x:a+hc(o.x,c),y:l+hc(o.y,d),textAnchor:"end",verticalAnchor:"end"},S):qn({x:a+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},n1e=function(e){return"cx"in e&&Se(e.cx)};function Mr(t){var e=t.offset,n=e===void 0?5:e,r=qwe(t,Vwe),i=qn({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||yt(a)&&yt(l)&&!y.isValidElement(c)&&!bt(c))return null;if(y.isValidElement(c))return y.cloneElement(c,i);var m;if(bt(c)){if(m=y.createElement(c,i),y.isValidElement(m))return m}else m=Qwe(i);var v=n1e(o),g=At(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Zwe(i,m,g);var x=v?e1e(i):t1e(i);return z.createElement(rv,ip({className:Et("recharts-label",f)},g,x,{breakAll:h}),m)}Mr.displayName="Label";var xB=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,v=e.left,g=e.width,x=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(Se(g)&&Se(x)){if(Se(f)&&Se(h))return{x:f,y:h,width:g,height:x};if(Se(m)&&Se(v))return{x:m,y:v,width:g,height:x}}return Se(f)&&Se(h)?{x:f,y:h,width:0,height:0}:Se(n)&&Se(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||a||0,clockWise:w}:e.viewBox?e.viewBox:{}},r1e=function(e,n){return e?e===!0?z.createElement(Mr,{key:"label-implicit",viewBox:n}):Xn(e)?z.createElement(Mr,{key:"label-implicit",viewBox:n,value:e}):y.isValidElement(e)?e.type===Mr?y.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(Mr,{key:"label-implicit",content:e,viewBox:n}):bt(e)?z.createElement(Mr,{key:"label-implicit",content:e,viewBox:n}):Ld(e)?z.createElement(Mr,ip({viewBox:n},e,{key:"label-implicit"})):null:null},i1e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=xB(e),s=Yi(i,Mr).map(function(l,c){return y.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return s;var a=r1e(e.label,n||o);return[a].concat(Bwe(s))};Mr.parseViewBox=xB;Mr.renderCallByParent=i1e;function o1e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var s1e=o1e;const a1e=Yt(s1e);function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}var l1e=["valueAccessor"],c1e=["data","dataKey","clockWise","id","textBreakAll"];function u1e(t){return p1e(t)||h1e(t)||f1e(t)||d1e()}function d1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f1e(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function h1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p1e(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){m1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m1e(t,e,n){return e=g1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1e(t){var e=y1e(t,"string");return op(e)=="symbol"?e:e+""}function y1e(t,e){if(op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j2(t,e){if(t==null)return{};var n=v1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var x1e=function(e){return Array.isArray(e.value)?a1e(e.value):e.value};function Ga(t){var e=t.valueAccessor,n=e===void 0?x1e:e,r=j2(t,l1e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,c=j2(r,c1e);return!i||!i.length?null:z.createElement(Rn,{className:"recharts-label-list"},i.map(function(d,f){var h=yt(o)?n(d,f):Pi(d&&d.payload,o),m=yt(a)?{}:{id:"".concat(a,"-").concat(f)};return z.createElement(Mr,xv({},At(d,!0),c,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Mr.parseViewBox(yt(s)?d:I2(I2({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ga.displayName="LabelList";function b1e(t,e){return t?t===!0?z.createElement(Ga,{key:"labelList-implicit",data:e}):z.isValidElement(t)||bt(t)?z.createElement(Ga,{key:"labelList-implicit",data:e,content:t}):Ld(t)?z.createElement(Ga,xv({data:e},t,{key:"labelList-implicit"})):null:null}function w1e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Yi(r,Ga).map(function(s,a){return y.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=b1e(t.label,e);return[o].concat(u1e(i))}Ga.renderCallByParent=w1e;function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){_1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _1e(t,e,n){return e=S1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S1e(t){var e=E1e(t,"string");return sp(e)=="symbol"?e:e+""}function E1e(t,e){if(sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T1e=function(e,n){var r=So(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},rg=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(a?1:-1)+i,f=Math.asin(l/d)/vv,h=c?o:o+s*f,m=yr(n,r,d,h),v=yr(n,r,i,h),g=c?o-s*f:o,x=yr(n,r,d*Math.cos(f*vv),g);return{center:m,circleTangency:v,lineTangency:x,theta:f}},bB=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=T1e(s,a),c=s+l,d=yr(n,r,o,s),f=yr(n,r,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=yr(n,r,i,s),v=yr(n,r,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},P1e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=So(d-c),h=rg({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,v=h.lineTangency,g=h.theta,x=rg({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),w=x.circleTangency,_=x.lineTangency,b=x.theta,C=l?Math.abs(c-d):Math.abs(c-d)-g-b;if(C<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):bB({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var N=rg({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=N.circleTangency,P=N.lineTangency,A=N.theta,k=rg({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=k.circleTangency,O=k.lineTangency,R=k.theta,L=l?Math.abs(c-d):Math.abs(c-d)-A-R;if(L<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},A1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wB=function(e){var n=O2(O2({},A1e),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<o||d===f)return null;var m=Et("recharts-sector",h),v=s-o,g=hc(a,v,0,!0),x;return g>0&&Math.abs(d-f)<360?x=P1e({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):x=bB({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:f}),z.createElement("path",W_({},At(n,!0),{className:m,d:x,role:"img"}))};function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){C1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C1e(t,e,n){return e=N1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N1e(t){var e=I1e(t,"string");return ap(e)=="symbol"?e:e+""}function I1e(t,e){if(ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D2={curveBasisClosed:Ple,curveBasisOpen:Ale,curveBasis:Tle,curveBumpX:dle,curveBumpY:fle,curveLinearClosed:Cle,curveLinear:o0,curveMonotoneX:Nle,curveMonotoneY:Ile,curveNatural:jle,curveStep:kle,curveStepAfter:Rle,curveStepBefore:Ole},ig=function(e){return e.x===+e.x&&e.y===+e.y},yf=function(e){return e.x},vf=function(e){return e.y},j1e=function(e,n){if(bt(e))return e;var r="curve".concat(r0(e));return(r==="curveMonotone"||r==="curveBump")&&n?D2["".concat(r).concat(n==="vertical"?"Y":"X")]:D2[r]||o0},k1e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=j1e(r,a),f=c?o.filter(function(g){return ig(g)}):o,h;if(Array.isArray(s)){var m=c?s.filter(function(g){return ig(g)}):s,v=f.map(function(g,x){return M2(M2({},g),{},{base:m[x]})});return a==="vertical"?h=Km().y(vf).x1(yf).x0(function(g){return g.base.x}):h=Km().x(yf).y1(vf).y0(function(g){return g.base.y}),h.defined(ig).curve(d),h(v)}return a==="vertical"&&Se(s)?h=Km().y(vf).x1(yf).x0(s):Se(s)?h=Km().x(yf).y1(vf).y0(s):h=SV().x(yf).y(vf),h.defined(ig).curve(d),h(f)},q_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?k1e(e):i;return y.createElement("path",H_({},At(e,!1),Uy(e),{className:Et("recharts-curve",n),d:s,ref:o}))},_B={exports:{}},O1e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",R1e=O1e,M1e=R1e;function SB(){}function EB(){}EB.resetWarningCache=SB;var D1e=function(){function t(r,i,o,s,a,l){if(l!==M1e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EB,resetWarningCache:SB};return n.PropTypes=n,n};_B.exports=D1e();var $1e=_B.exports;const Vt=Yt($1e);var L1e=Object.getOwnPropertyNames,F1e=Object.getOwnPropertySymbols,V1e=Object.prototype.hasOwnProperty;function $2(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function og(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function L2(t){return L1e(t).concat(F1e(t))}var B1e=Object.hasOwn||function(t,e){return V1e.call(t,e)};function Pc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var U1e="__v",z1e="__o",W1e="_owner",F2=Object.getOwnPropertyDescriptor,V2=Object.keys;function H1e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function q1e(t,e){return Pc(t.getTime(),e.getTime())}function G1e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function K1e(t,e){return t===e}function B2(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var c=e.entries(),d=!1,f=0;(a=c.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,m=a.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Y1e=Pc;function X1e(t,e,n){var r=V2(t),i=r.length;if(V2(e).length!==i)return!1;for(;i-- >0;)if(!TB(t,e,n,r[i]))return!1;return!0}function xf(t,e,n){var r=L2(t),i=r.length;if(L2(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!TB(t,e,n,o)||(s=F2(t,o),a=F2(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Q1e(t,e){return Pc(t.valueOf(),e.valueOf())}function J1e(t,e){return t.source===e.source&&t.flags===e.flags}function U2(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function Z1e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function e_e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function TB(t,e,n,r){return(r===W1e||r===z1e||r===U1e)&&(t.$$typeof||e.$$typeof)?!0:B1e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var t_e="[object Arguments]",n_e="[object Boolean]",r_e="[object Date]",i_e="[object Error]",o_e="[object Map]",s_e="[object Number]",a_e="[object Object]",l_e="[object RegExp]",c_e="[object Set]",u_e="[object String]",d_e="[object URL]",f_e=Array.isArray,z2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,W2=Object.assign,h_e=Object.prototype.toString.call.bind(Object.prototype.toString);function p_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,g,x){if(v===g)return!0;if(v==null||g==null)return!1;var w=typeof v;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?s(v,g,x):w==="function"?i(v,g,x):!1;var _=v.constructor;if(_!==g.constructor)return!1;if(_===Object)return a(v,g,x);if(f_e(v))return e(v,g,x);if(z2!=null&&z2(v))return f(v,g,x);if(_===Date)return n(v,g,x);if(_===RegExp)return c(v,g,x);if(_===Map)return o(v,g,x);if(_===Set)return d(v,g,x);var b=h_e(v);return b===r_e?n(v,g,x):b===l_e?c(v,g,x):b===o_e?o(v,g,x):b===c_e?d(v,g,x):b===a_e?typeof v.then!="function"&&typeof g.then!="function"&&a(v,g,x):b===d_e?h(v,g,x):b===i_e?r(v,g,x):b===t_e?a(v,g,x):b===n_e||b===s_e||b===u_e?l(v,g,x):!1}}function m_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?xf:H1e,areDatesEqual:q1e,areErrorsEqual:G1e,areFunctionsEqual:K1e,areMapsEqual:r?$2(B2,xf):B2,areNumbersEqual:Y1e,areObjectsEqual:r?xf:X1e,arePrimitiveWrappersEqual:Q1e,areRegExpsEqual:J1e,areSetsEqual:r?$2(U2,xf):U2,areTypedArraysEqual:r?xf:Z1e,areUrlsEqual:e_e};if(n&&(i=W2({},i,n(i))),e){var o=og(i.areArraysEqual),s=og(i.areMapsEqual),a=og(i.areObjectsEqual),l=og(i.areSetsEqual);i=W2({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function g_e(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function y_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,c,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,s)}}var v_e=ml();ml({strict:!0});ml({circular:!0});ml({circular:!0,strict:!0});ml({createInternalComparator:function(){return Pc}});ml({strict:!0,createInternalComparator:function(){return Pc}});ml({circular:!0,createInternalComparator:function(){return Pc}});ml({circular:!0,createInternalComparator:function(){return Pc},strict:!0});function ml(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=m_e(t),l=p_e(a),c=r?r(l):g_e(l);return y_e({circular:n,comparator:l,createState:i,equals:c,strict:s})}function x_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function H2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):x_e(i)};requestAnimationFrame(r)}function G_(t){"@babel/helpers - typeof";return G_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(t)}function b_e(t){return E_e(t)||S_e(t)||__e(t)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function __e(t,e){if(t){if(typeof t=="string")return q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q2(t,e)}}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E_e(t){if(Array.isArray(t))return t}function T_e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=b_e(s),l=a[0],c=a.slice(1);if(typeof l=="number"){H2(i.bind(null,c),l);return}i(l),H2(i.bind(null,c));return}G_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){PB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PB(t,e,n){return e=P_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P_e(t){var e=A_e(t,"string");return lp(e)==="symbol"?e:String(e)}function A_e(t,e){if(lp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C_e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},N_e=function(e){return e},I_e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},th=function(e,n){return Object.keys(n).reduce(function(r,i){return K2(K2({},r),{},PB({},i,e(i,n[i])))},{})},Y2=function(e,n,r){return e.map(function(i){return"".concat(I_e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function j_e(t,e){return R_e(t)||O_e(t,e)||AB(t,e)||k_e()}function k_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function R_e(t){if(Array.isArray(t))return t}function M_e(t){return L_e(t)||$_e(t)||AB(t)||D_e()}function D_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AB(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function $_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L_e(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bv=1e-4,CB=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},NB=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},X2=function(e,n){return function(r){var i=CB(e,n);return NB(i,r)}},F_e=function(e,n){return function(r){var i=CB(e,n),o=[].concat(M_e(i.map(function(s,a){return s*a}).slice(1)),[0]);return NB(o,r)}},Q2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=j_e(c,4);i=d[0],o=d[1],s=d[2],a=d[3]}}}var f=X2(i,s),h=X2(o,a),m=F_e(i,s),v=function(w){return w>1?1:w<0?0:w},g=function(w){for(var _=w>1?1:w,b=_,C=0;C<8;++C){var E=f(b)-_,N=m(b);if(Math.abs(E-_)<bv||N<bv)return h(b);b=v(b-E/N)}return h(b)};return g.isStepper=!1,g},V_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(d,f,h){var m=-(d-f)*r,v=h*o,g=h+(m-v)*a/1e3,x=h*a/1e3+d;return Math.abs(x-f)<bv&&Math.abs(g)<bv?[f,0]:[x,g]};return l.isStepper=!0,l.dt=a,l},B_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Q2(i);case"spring":return V_e();default:if(i.split("(")[0]==="cubic-bezier")return Q2(i)}return typeof i=="function"?i:null};function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function J2(t){return W_e(t)||z_e(t)||IB(t)||U_e()}function U_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W_e(t){if(Array.isArray(t))return X_(t)}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){Y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y_(t,e,n){return e=H_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H_e(t){var e=q_e(t,"string");return cp(e)==="symbol"?e:String(e)}function q_e(t,e){if(cp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G_e(t,e){return X_e(t)||Y_e(t,e)||IB(t,e)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IB(t,e){if(t){if(typeof t=="string")return X_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(t,e)}}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function X_e(t){if(Array.isArray(t))return t}var wv=function(e,n,r){return e+(n-e)*r},Q_=function(e){var n=e.from,r=e.to;return n!==r},Q_e=function t(e,n,r){var i=th(function(o,s){if(Q_(s)){var a=e(s.from,s.to,s.velocity),l=G_e(a,2),c=l[0],d=l[1];return hr(hr({},s),{},{from:c,velocity:d})}return s},n);return r<1?th(function(o,s){return Q_(s)?hr(hr({},s),{},{velocity:wv(s.velocity,i[o].velocity,r),from:wv(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const J_e=function(t,e,n,r,i){var o=C_e(t,e),s=o.reduce(function(x,w){return hr(hr({},x),{},Y_({},w,[t[w],e[w]]))},{}),a=o.reduce(function(x,w){return hr(hr({},x),{},Y_({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return th(function(w,_){return _.from},a)},m=function(){return!Object.values(a).filter(Q_).length},v=function(w){c||(c=w);var _=w-c,b=_/n.dt;a=Q_e(n,a,b),i(hr(hr(hr({},t),e),h())),c=w,m()||(l=requestAnimationFrame(f))},g=function(w){d||(d=w);var _=(w-d)/r,b=th(function(E,N){return wv.apply(void 0,J2(N).concat([n(_)]))},s);if(i(hr(hr(hr({},t),e),b)),_<1)l=requestAnimationFrame(f);else{var C=th(function(E,N){return wv.apply(void 0,J2(N).concat([n(1)]))},s);i(hr(hr(hr({},t),e),C))}};return f=n.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}var Z_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function eSe(t,e){if(t==null)return{};var n=tSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dw(t){return oSe(t)||iSe(t)||rSe(t)||nSe()}function nSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rSe(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function iSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oSe(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){kf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kf(t,e,n){return e=jB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jB(r.key),r)}}function lSe(t,e,n){return e&&aSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jB(t){var e=cSe(t,"string");return ld(e)==="symbol"?e:String(e)}function cSe(t,e){if(ld(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z_(t,e)}function dSe(t){var e=fSe();return function(){var r=_v(t),i;if(e){var o=_v(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return eS(this,i)}}function eS(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tS(t)}function tS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _v(t){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_v(t)}var Ys=function(t){uSe(n,t);var e=dSe(n);function n(r,i){var o;sSe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(tS(o)),o.changeStyle=o.changeStyle.bind(tS(o)),!a||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),eS(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},eS(o);o.state={style:l?kf({},l,c):c}}else o.state={style:{}};return o}return lSe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(a){if(!s){var m={style:l?kf({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(v_e(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||c?f:i.to;if(this.state&&h){var x={style:l?kf({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(x)}this.runAnimation(ao(ao({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=J_e(s,a,B_e(c),l,this.changeStyle),v=function(){o.stopJSAnimation=m()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,m=function(g,x,w){if(w===0)return g;var _=x.duration,b=x.easing,C=b===void 0?"ease":b,E=x.style,N=x.properties,S=x.onAnimationEnd,P=w>0?s[w-1]:x,A=N||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(dw(g),[o.runJSAnimation.bind(o,{from:P.style,to:E,duration:_,easing:C}),_]);var k=Y2(A,_,C),I=ao(ao(ao({},P.style),E),{},{transition:k});return[].concat(dw(g),[I,_,S]).filter(N_e)};return this.manager.start([l].concat(dw(s.reduce(m,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=T_e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=a?kf({},a,l):l,x=Y2(Object.keys(g),s,c);v.start([d,o,ao(ao({},g),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=eSe(i,Z_e),c=y.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!a||c===0||s<=0)return o;var f=function(m){var v=m.props,g=v.style,x=g===void 0?{}:g,w=v.className,_=y.cloneElement(m,ao(ao({},l),{},{style:ao(ao({},x),d),className:w}));return _};return c===1?f(y.Children.only(o)):z.createElement("div",null,y.Children.map(o,function(h){return f(h)}))}}]),n}(y.PureComponent);Ys.displayName="Animate";Ys.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ys.propTypes={from:Vt.oneOfType([Vt.object,Vt.string]),to:Vt.oneOfType([Vt.object,Vt.string]),attributeName:Vt.string,duration:Vt.number,begin:Vt.number,easing:Vt.oneOfType([Vt.string,Vt.func]),steps:Vt.arrayOf(Vt.shape({duration:Vt.number.isRequired,style:Vt.object.isRequired,easing:Vt.oneOfType([Vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Vt.func]),properties:Vt.arrayOf("string"),onAnimationEnd:Vt.func})),children:Vt.oneOfType([Vt.node,Vt.func]),isActive:Vt.bool,canBegin:Vt.bool,onAnimationEnd:Vt.func,shouldReAnimate:Vt.bool,onAnimationStart:Vt.func,onAnimationReStart:Vt.func};function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function hSe(t,e){return ySe(t)||gSe(t,e)||mSe(t,e)||pSe()}function pSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mSe(t,e){if(t){if(typeof t=="string")return tO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(t,e)}}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function ySe(t){if(Array.isArray(t))return t}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){vSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vSe(t,e,n){return e=xSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xSe(t){var e=bSe(t,"string");return up(e)=="symbol"?e:e+""}function bSe(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iO=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>s?s:o[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);d="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},wSe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),d=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},_Se={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lA=function(e){var n=rO(rO({},_Se),e),r=y.useRef(),i=y.useState(-1),o=hSe(i,2),s=o[0],a=o[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,v=n.animationEasing,g=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var b=Et("recharts-rectangle",m);return _?z.createElement(Ys,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:v,isActive:_},function(C){var E=C.width,N=C.height,S=C.x,P=C.y;return z.createElement(Ys,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:w,easing:v},z.createElement("path",Sv({},At(n,!0),{className:b,d:iO(S,P,E,N,h),ref:r})))}):z.createElement("path",Sv({},At(n,!0),{className:b,d:iO(l,c,d,f,h)}))};function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(this,arguments)}var cA=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Et("recharts-dot",o);return n===+n&&r===+r&&i===+i?y.createElement("circle",nS({},At(e,!1),Uy(e),{className:s,cx:n,cy:r,r:i})):null};function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}var SSe=["x","y","top","left","width","height","className"];function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rS.apply(this,arguments)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ESe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){TSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TSe(t,e,n){return e=PSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PSe(t){var e=ASe(t,"string");return dp(e)=="symbol"?e:e+""}function ASe(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CSe(t,e){if(t==null)return{};var n=NSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ISe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},jSe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,v=e.className,g=CSe(e,SSe),x=ESe({x:r,y:o,top:a,left:c,width:f,height:m},g);return!Se(r)||!Se(o)||!Se(f)||!Se(m)||!Se(a)||!Se(c)?null:z.createElement("path",rS({},At(x,!0),{className:Et("recharts-cross",v),d:ISe(r,o,f,m,a,c)}))},kSe=GV,OSe=kSe(Object.getPrototypeOf,Object),RSe=OSe,MSe=Zs,DSe=RSe,$Se=ea,LSe="[object Object]",FSe=Function.prototype,VSe=Object.prototype,kB=FSe.toString,BSe=VSe.hasOwnProperty,USe=kB.call(Object);function zSe(t){if(!$Se(t)||MSe(t)!=LSe)return!1;var e=DSe(t);if(e===null)return!0;var n=BSe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&kB.call(n)==USe}var WSe=zSe;const HSe=Yt(WSe);var qSe=Zs,GSe=ea,KSe="[object Boolean]";function YSe(t){return t===!0||t===!1||GSe(t)&&qSe(t)==KSe}var XSe=YSe;const QSe=Yt(XSe);function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function JSe(t,e){return nEe(t)||tEe(t,e)||eEe(t,e)||ZSe()}function ZSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eEe(t,e){if(t){if(typeof t=="string")return sO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sO(t,e)}}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function nEe(t){if(Array.isArray(t))return t}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){rEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rEe(t,e,n){return e=iEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iEe(t){var e=oEe(t,"string");return fp(e)=="symbol"?e:e+""}function oEe(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cO=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},sEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aEe=function(e){var n=lO(lO({},sEe),e),r=y.useRef(),i=y.useState(-1),o=JSe(i,2),s=o[0],a=o[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,g=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Et("recharts-trapezoid",m);return w?z.createElement(Ys,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:v,isActive:w},function(b){var C=b.upperWidth,E=b.lowerWidth,N=b.height,S=b.x,P=b.y;return z.createElement(Ys,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:v},z.createElement("path",Ev({},At(n,!0),{className:_,d:cO(S,P,C,E,N),ref:r})))}):z.createElement("g",null,z.createElement("path",Ev({},At(n,!0),{className:_,d:cO(l,c,d,f,h)})))},lEe=["option","shapeType","propTransformer","activeClassName","isActive"];function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function cEe(t,e){if(t==null)return{};var n=uEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){dEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dEe(t,e,n){return e=fEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fEe(t){var e=hEe(t,"string");return hp(e)=="symbol"?e:e+""}function hEe(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pEe(t,e){return Tv(Tv({},e),t)}function mEe(t,e){return t==="symbols"}function dO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(lA,n);case"trapezoid":return z.createElement(aEe,n);case"sector":return z.createElement(wB,n);case"symbols":if(mEe(e))return z.createElement(PP,n);break;default:return null}}function gEe(t){return y.isValidElement(t)?t.props:t}function yEe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?pEe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=cEe(t,lEe),c;if(y.isValidElement(e))c=y.cloneElement(e,Tv(Tv({},l),gEe(e)));else if(bt(e))c=e(l);else if(HSe(e)&&!QSe(e)){var d=i(e,l);c=z.createElement(dO,{shapeType:n,elementProps:d})}else{var f=l;c=z.createElement(dO,{shapeType:n,elementProps:f})}return a?z.createElement(Rn,{className:s},c):c}function w0(t,e){return e!=null&&"trapezoids"in t.props}function _0(t,e){return e!=null&&"sectors"in t.props}function pp(t,e){return e!=null&&"points"in t.props}function vEe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function xEe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function bEe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function wEe(t,e){var n;return w0(t,e)?n=vEe:_0(t,e)?n=xEe:pp(t,e)&&(n=bEe),n}function _Ee(t,e){var n;return w0(t,e)?n="trapezoids":_0(t,e)?n="sectors":pp(t,e)&&(n="points"),n}function SEe(t,e){if(w0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(_0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return pp(t,e)?e.payload:{}}function EEe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=_Ee(n,e),o=SEe(n,e),s=r.filter(function(l,c){var d=v0(o,l),f=n.props[i].filter(function(v){var g=wEe(n,e);return g(v,e)}),h=n.props[i].indexOf(f[f.length-1]),m=c===h;return d&&m}),a=r.indexOf(s[s.length-1]);return a}var TEe=Math.ceil,PEe=Math.max;function AEe(t,e,n,r){for(var i=-1,o=PEe(TEe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var CEe=AEe,NEe=d6,fO=1/0,IEe=17976931348623157e292;function jEe(t){if(!t)return t===0?t:0;if(t=NEe(t),t===fO||t===-fO){var e=t<0?-1:1;return e*IEe}return t===t?t:0}var kEe=jEe,OEe=CEe,REe=c0,fw=kEe;function MEe(t){return function(e,n,r){return r&&typeof r!="number"&&REe(e,n,r)&&(n=r=void 0),e=fw(e),n===void 0?(n=e,e=0):n=fw(n),r=r===void 0?e<n?1:-1:fw(r),OEe(e,n,r,t)}}var DEe=MEe,$Ee=DEe,LEe=$Ee(),FEe=LEe;const Pv=Yt(FEe);function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){OB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OB(t,e,n){return e=VEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VEe(t){var e=BEe(t,"string");return mp(e)=="symbol"?e:e+""}function BEe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UEe=["Webkit","Moz","O","ms"],zEe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=UEe.reduce(function(o,s){return pO(pO({},o),{},OB({},s+r,n))},{});return i[e]=n,i};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){hi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MB(r.key),r)}}function HEe(t,e,n){return e&&gO(t.prototype,e),n&&gO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qEe(t,e,n){return e=Cv(e),GEe(t,RB()?Reflect.construct(e,n||[],Cv(t).constructor):e.apply(t,n))}function GEe(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KEe(t)}function KEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RB=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cv(t)}function YEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iS(t,e)}function hi(t,e,n){return e=MB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MB(t){var e=XEe(t,"string");return cd(e)=="symbol"?e:e+""}function XEe(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Zf().domain(Pv(0,l)).range([o,o+s-a]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},yO=function(e){return e.changedTouches&&!!e.changedTouches.length},ud=function(t){function e(n){var r;return WEe(this,e),r=qEe(this,e,[n]),hi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),hi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),hi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),hi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),hi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),hi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),hi(r,"handleSlideDragStart",function(i){var o=yO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return YEe(e,t),HEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,d=c.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Pi(o[r],a,r);return bt(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,v=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+d-f-a,c+d-f-s):g<0&&(g=Math.max(g,c-s,c-a));var x=this.getIndex({startX:s+g,endX:a+g});(x.startIndex!==h||x.endIndex!==m)&&v&&v(x),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=yO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,g=d.gap,x=d.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+h-m-c):_<0&&(_=Math.max(_,f-c)),w[s]=c+_;var b=this.getIndex(w),C=b.startIndex,E=b.endIndex,N=function(){var P=x.length-1;return s==="startX"&&(a>l?C%g===0:E%g===0)||a<l&&E===P||s==="endX"&&(a>l?E%g===0:C%g===0)||a>l&&E===P};this.setState(hi(hi({},s,c+_),"brushMoveStartX",r.pageX),function(){v&&N()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var m=a[h];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(hi({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,c=r.stroke;return z.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,c=r.children,d=r.padding,f=y.Children.only(c);return f?z.cloneElement(f,{x:i,y:o,width:s,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,v=l.data,g=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),_=hw(hw({},At(this.props,!1)),{},{x:w,y:c,width:d,height:f}),b=m||"Min value: ".concat((o=v[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return z.createElement(Rn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:c};return z.createElement(Rn,{className:"recharts-brush-texts"},z.createElement(rv,Av({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+a/2},v),this.getTextOfTick(i)),z.createElement(rv,Av({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,g=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!Se(a)||!Se(l)||!Se(c)||!Se(d)||c<=0||d<=0)return null;var b=Et("recharts-brush",o),C=z.Children.count(s)===1,E=zEe("userSelect","none");return z.createElement(Rn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(g||x||w||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,c=Math.floor(o+a/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return z.isValidElement(r)?o=z.cloneElement(r,i):bt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return hw({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?QEe({data:o,width:s,x:a,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(y.PureComponent);hi(ud,"displayName","Brush");hi(ud,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var JEe=RP;function ZEe(t,e){var n;return JEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var eTe=ZEe,tTe=FV,nTe=Hd,rTe=eTe,iTe=si,oTe=c0;function sTe(t,e,n){var r=iTe(t)?tTe:rTe;return n&&oTe(t,e,n)&&(e=void 0),r(t,nTe(e))}var aTe=sTe;const lTe=Yt(aTe);var as=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},vO=s6;function cTe(t,e,n){e=="__proto__"&&vO?vO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var uTe=cTe,dTe=uTe,fTe=i6,hTe=Hd;function pTe(t,e){var n={};return e=hTe(e),fTe(t,function(r,i,o){dTe(n,i,e(r,i,o))}),n}var mTe=pTe;const gTe=Yt(mTe);function yTe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var vTe=yTe,xTe=RP;function bTe(t,e){var n=!0;return xTe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var wTe=bTe,_Te=vTe,STe=wTe,ETe=Hd,TTe=si,PTe=c0;function ATe(t,e,n){var r=TTe(t)?_Te:STe;return n&&PTe(t,e,n)&&(e=void 0),r(t,ETe(e))}var CTe=ATe;const NTe=Yt(CTe);var ITe=["x","y"];function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){jTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jTe(t,e,n){return e=kTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kTe(t){var e=OTe(t,"string");return gp(e)=="symbol"?e:e+""}function OTe(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RTe(t,e){if(t==null)return{};var n=MTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DTe(t,e){var n=t.x,r=t.y,i=RTe(t,ITe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return bf(bf(bf(bf(bf({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function bO(t){return z.createElement(yEe,oS({shapeType:"rectangle",propTransformer:DTe,activeClassName:"recharts-active-bar"},t))}var $Te=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Se(r)||Xse(r);return o?e(r,i):(o||mc(),n)}},LTe=["value","background"],DB;function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function FTe(t,e){if(t==null)return{};var n=VTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(this,arguments)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){ka(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LB(r.key),r)}}function UTe(t,e,n){return e&&_O(t.prototype,e),n&&_O(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zTe(t,e,n){return e=Iv(e),WTe(t,$B()?Reflect.construct(e,n||[],Iv(t).constructor):e.apply(t,n))}function WTe(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HTe(t)}function HTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function qTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sS(t,e)}function ka(t,e,n){return e=LB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LB(t){var e=GTe(t,"string");return dd(e)=="symbol"?e:e+""}function GTe(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zp=function(t){function e(){var n;BTe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=zTe(this,e,[].concat(i)),ka(n,"state",{isAnimationFinished:!1}),ka(n,"id",Gp("recharts-bar-")),ka(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),ka(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return qTe(e,t),UTe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,d=At(this.props,!1);return r&&r.map(function(f,h){var m=h===l,v=m?c:s,g=Ln(Ln(Ln({},d),f),{},{isActive:m,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(Rn,Nv({className:"recharts-bar-rectangle"},zy(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),z.createElement(bO,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return z.createElement(Ys,{begin:l,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,g=o.map(function(x,w){var _=h&&h[w];if(_){var b=vo(_.x,x.x),C=vo(_.y,x.y),E=vo(_.width,x.width),N=vo(_.height,x.height);return Ln(Ln({},x),{},{x:b(v),y:C(v),width:E(v),height:N(v)})}if(s==="horizontal"){var S=vo(0,x.height),P=S(v);return Ln(Ln({},x),{},{y:x.y+x.height-P,height:P})}var A=vo(0,x.width),k=A(v);return Ln(Ln({},x),{},{width:k})});return z.createElement(Rn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!v0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=At(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=FTe(c,LTe);if(!f)return null;var m=Ln(Ln(Ln(Ln(Ln({},h),{},{fill:"#eee"},f),l),zy(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(bO,Nv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Yi(d,Jp);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,m=function(x,w){var _=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:_,errorVal:Pi(x,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(Rn,v,f.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,v=r.background,g=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,w=Et("recharts-bar",s),_=a&&a.allowDataOverflow,b=l&&l.allowDataOverflow,C=_||b,E=yt(g)?this.id:g;return z.createElement(Rn,{className:w},_||b?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:_?c:c-f/2,y:b?d:d-h/2,width:_?f:f*2,height:b?h:h*2}))):null,z.createElement(Rn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!m||x)&&Ga.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(y.PureComponent);DB=Zp;ka(Zp,"displayName","Bar");ka(Zp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ka(Zp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=wwe(r,n);if(!m)return null;var v=e.layout,g=n.type.defaultProps,x=g!==void 0?Ln(Ln({},g),n.props):n.props,w=x.dataKey,_=x.children,b=x.minPointSize,C=v==="horizontal"?s:o,E=c?C.scale.domain():null,N=Nwe({numericAxis:C}),S=Yi(_,h6),P=f.map(function(A,k){var I,O,R,L,B,U;c?I=_we(c[d+k],E):(I=Pi(A,w),Array.isArray(I)||(I=[N,I]));var W=$Te(b,DB.defaultProps.minPointSize)(I[1],k);if(v==="horizontal"){var F,V=[s.scale(I[0]),s.scale(I[1])],Z=V[0],Q=V[1];O=w2({axis:o,ticks:a,bandSize:i,offset:m.offset,entry:A,index:k}),R=(F=Q??Z)!==null&&F!==void 0?F:void 0,L=m.size;var ne=Z-Q;if(B=Number.isNaN(ne)?0:ne,U={x:O,y:s.y,width:L,height:s.height},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var ge=So(B||W)*(Math.abs(W)-Math.abs(B));R-=ge,B+=ge}}else{var Ae=[o.scale(I[0]),o.scale(I[1])],Ve=Ae[0],Ke=Ae[1];if(O=Ve,R=w2({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:A,index:k}),L=Ke-Ve,B=m.size,U={x:o.x,y:R,width:o.width,height:B},Math.abs(W)>0&&Math.abs(L)<Math.abs(W)){var me=So(L||W)*(Math.abs(W)-Math.abs(L));L+=me}}return Ln(Ln(Ln({},A),{},{x:O,y:R,width:L,height:B,value:c?I:I[1],payload:A,background:U},S&&S[k]&&S[k].props),{},{tooltipPayload:[vB(n,A)],tooltipPosition:{x:O+L/2,y:R+B/2}})});return Ln({data:P,layout:v},h)});function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function KTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FB(r.key),r)}}function YTe(t,e,n){return e&&SO(t.prototype,e),n&&SO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){S0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S0(t,e,n){return e=FB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FB(t){var e=XTe(t,"string");return yp(e)=="symbol"?e:e+""}function XTe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QTe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!gi(c,Zp);return d.reduce(function(m,v){var g=n[v],x=g.orientation,w=g.domain,_=g.padding,b=_===void 0?{}:_,C=g.mirror,E=g.reversed,N="".concat(x).concat(C?"Mirror":""),S,P,A,k,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=w[1]-w[0],R=1/0,L=g.categoricalDomain.sort(Zse);if(L.forEach(function(Ae,Ve){Ve>0&&(R=Math.min((Ae||0)-(L[Ve-1]||0),R))}),Number.isFinite(R)){var B=R/O,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(S=B*U/2),g.padding==="no-gap"){var W=hc(e.barCategoryGap,B*U),F=B*U/2;S=F-W-(F-W)/U*W}}}i==="xAxis"?P=[r.left+(b.left||0)+(S||0),r.left+r.width-(b.right||0)-(S||0)]:i==="yAxis"?P=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(S||0),r.top+r.height-(b.bottom||0)-(S||0)]:P=g.range,E&&(P=[P[1],P[0]]);var V=xwe(g,o,h),Z=V.scale,Q=V.realScaleType;Z.domain(w).range(P),bwe(Z);var ne=Cwe(Z,mo(mo({},g),{},{realScaleType:Q}));i==="xAxis"?(I=x==="top"&&!C||x==="bottom"&&C,A=r.left,k=f[N]-I*g.height):i==="yAxis"&&(I=x==="left"&&!C||x==="right"&&C,A=f[N]-I*g.width,k=r.top);var ge=mo(mo(mo({},g),ne),{},{realScaleType:Q,x:A,y:k,scale:Z,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ge.bandSize=yv(ge,ne),!g.hide&&i==="xAxis"?f[N]+=(I?-1:1)*ge.height:g.hide||(f[N]+=(I?-1:1)*ge.width),mo(mo({},m),{},S0({},v,ge))},{})},VB=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},JTe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return VB({x:n,y:r},{x:i,y:o})},BB=function(){function t(e){KTe(this,t),this.scale=e}return YTe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();S0(BB,"EPS",1e-4);var uA=function(e){var n=Object.keys(e).reduce(function(r,i){return mo(mo({},r),{},S0({},i,BB.create(e[i])))},{});return mo(mo({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return gTe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return NTe(i,function(o,s){return n[s].isInRange(o)})}})};function ZTe(t){return(t%180+180)%180}var ePe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=ZTe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},tPe=ese(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),UB=y.createContext(void 0),zB=y.createContext(void 0),WB=y.createContext(void 0),nPe=y.createContext({}),HB=y.createContext(void 0),qB=y.createContext(0),GB=y.createContext(0),TO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,c=e.height,d=tPe(o);return z.createElement(UB.Provider,{value:r},z.createElement(zB.Provider,{value:i},z.createElement(nPe.Provider,{value:o},z.createElement(WB.Provider,{value:d},z.createElement(HB.Provider,{value:s},z.createElement(qB.Provider,{value:c},z.createElement(GB.Provider,{value:l},a)))))))},rPe=function(){return y.useContext(HB)},KB=function(e){var n=y.useContext(UB);n==null&&mc();var r=n[e];return r==null&&mc(),r},YB=function(e){var n=y.useContext(zB);n==null&&mc();var r=n[e];return r==null&&mc(),r},iPe=function(){var e=y.useContext(WB);return e},XB=function(){return y.useContext(GB)},QB=function(){return y.useContext(qB)};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function oPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZB(r.key),r)}}function aPe(t,e,n){return e&&sPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lPe(t,e,n){return e=jv(e),cPe(t,JB()?Reflect.construct(e,n||[],jv(t).constructor):e.apply(t,n))}function cPe(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uPe(t)}function uPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JB=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(t)}function dPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aS(t,e)}function aS(t,e){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aS(t,e)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){dA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dA(t,e,n){return e=ZB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZB(t){var e=fPe(t,"string");return fd(e)=="symbol"?e:e+""}function fPe(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hPe(t,e){return yPe(t)||gPe(t,e)||mPe(t,e)||pPe()}function pPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mPe(t,e){if(t){if(typeof t=="string")return CO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CO(t,e)}}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function yPe(t){if(Array.isArray(t))return t}function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(this,arguments)}var vPe=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):bt(e)?r=e(n):r=z.createElement("line",lS({},n,{className:"recharts-reference-line-line"})),r},xPe=function(e,n,r,i,o,s,a,l,c){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var v=c.y,g=e.y.apply(v,{position:s});if(as(c,"discard")&&!e.y.isInRange(g))return null;var x=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?x.reverse():x}if(n){var w=c.x,_=e.x.apply(w,{position:s});if(as(c,"discard")&&!e.x.isInRange(_))return null;var b=[{x:_,y:f+m},{x:_,y:f}];return a==="top"?b.reverse():b}if(i){var C=c.segment,E=C.map(function(N){return e.apply(N,{position:s})});return as(c,"discard")&&lTe(E,function(N){return!e.isInRange(N)})?null:E}return null};function bPe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,c=rPe(),d=KB(i),f=YB(o),h=iPe();if(!c||!h)return null;Yl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=uA({x:d.scale,y:f.scale}),v=Xn(e),g=Xn(n),x=r&&r.length===2,w=xPe(m,v,g,x,h,t.position,d.orientation,f.orientation,t);if(!w)return null;var _=hPe(w,2),b=_[0],C=b.x,E=b.y,N=_[1],S=N.x,P=N.y,A=as(t,"hidden")?"url(#".concat(c,")"):void 0,k=AO(AO({clipPath:A},At(t,!0)),{},{x1:C,y1:E,x2:S,y2:P});return z.createElement(Rn,{className:Et("recharts-reference-line",a)},vPe(s,k),Mr.renderCallByParent(t,JTe({x1:C,y1:E,x2:S,y2:P})))}var fA=function(t){function e(){return oPe(this,e),lPe(this,e,arguments)}return dPe(e,t),aPe(e,[{key:"render",value:function(){return z.createElement(bPe,this.props)}}])}(z.Component);dA(fA,"displayName","ReferenceLine");dA(fA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){E0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tU(r.key),r)}}function SPe(t,e,n){return e&&_Pe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EPe(t,e,n){return e=kv(e),TPe(t,eU()?Reflect.construct(e,n||[],kv(t).constructor):e.apply(t,n))}function TPe(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(t)}function PPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(t)}function APe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uS(t,e)}function E0(t,e,n){return e=tU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tU(t){var e=CPe(t,"string");return hd(e)=="symbol"?e:e+""}function CPe(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NPe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=uA({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return as(e,"discard")&&!s.isInRange(a)?null:a},T0=function(t){function e(){return wPe(this,e),EPe(this,e,arguments)}return APe(e,t),SPe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,c=Xn(i),d=Xn(o);if(Yl(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=NPe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,g=v.shape,x=v.className,w=as(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=IO(IO({clipPath:w},At(this.props,!0)),{},{cx:h,cy:m});return z.createElement(Rn,{className:Et("recharts-reference-dot",x)},e.renderDot(g,_),Mr.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(z.Component);E0(T0,"displayName","ReferenceDot");E0(T0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});E0(T0,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):bt(t)?n=t(e):n=z.createElement(cA,cS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(this,arguments)}function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){P0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rU(r.key),r)}}function kPe(t,e,n){return e&&jPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OPe(t,e,n){return e=Ov(e),RPe(t,nU()?Reflect.construct(e,n||[],Ov(t).constructor):e.apply(t,n))}function RPe(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MPe(t)}function MPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nU=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ov(t)}function DPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fS(t,e)}function fS(t,e){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fS(t,e)}function P0(t,e,n){return e=rU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rU(t){var e=$Pe(t,"string");return pd(e)=="symbol"?e:e+""}function $Pe(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LPe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=uA({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return as(o,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:VB(m,v)},A0=function(t){function e(){return IPe(this,e),OPe(this,e,arguments)}return DPe(e,t),kPe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;Yl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Xn(i),h=Xn(o),m=Xn(s),v=Xn(a),g=this.props.shape;if(!f&&!h&&!m&&!v&&!g)return null;var x=LPe(f,h,m,v,this.props);if(!x&&!g)return null;var w=as(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(Rn,{className:Et("recharts-reference-area",l)},e.renderRect(g,kO(kO({clipPath:w},At(this.props,!0)),x)),Mr.renderCallByParent(this.props,x))}}])}(z.Component);P0(A0,"displayName","ReferenceArea");P0(A0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});P0(A0,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):bt(t)?n=t(e):n=z.createElement(lA,dS({},e,{className:"recharts-reference-area-rect"})),n});function iU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function FPe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ePe(r,n)}function VPe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Rv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function BPe(t,e){return iU(t,e+1)}function UPe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,c=1,d=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:iU(r,c)};var g=l,x,w=function(){return x===void 0&&(x=n(v,g)),x},_=v.coordinate,b=l===0||Rv(t,_,w,d,a);b||(l=0,d=s,c+=1),b&&(d=_+t*(w()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){zPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zPe(t,e,n){return e=WPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WPe(t){var e=HPe(t,"string");return vp(e)=="symbol"?e:e+""}function HPe(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qPe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(h){var m=o[h],v,g=function(){return v===void 0&&(v=n(m,h)),v};if(h===s-1){var x=t*(m.coordinate+t*g()/2-l);o[h]=m=jr(jr({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else o[h]=m=jr(jr({},m),{},{tickCoord:m.coordinate});var w=Rv(t,m.tickCoord,g,a,l);w&&(l=m.tickCoord-t*(g()/2+i),o[h]=jr(jr({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return o}function GPe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-c);s[a-1]=d=jr(jr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Rv(t,d.tickCoord,function(){return f},l,c);m&&(c=d.tickCoord-t*(f/2+i),s[a-1]=jr(jr({},d),{},{isShow:!0}))}for(var v=o?a-1:a,g=function(_){var b=s[_],C,E=function(){return C===void 0&&(C=n(b,_)),C};if(_===0){var N=t*(b.coordinate-t*E()/2-l);s[_]=b=jr(jr({},b),{},{tickCoord:N<0?b.coordinate-N*t:b.coordinate})}else s[_]=b=jr(jr({},b),{},{tickCoord:b.coordinate});var S=Rv(t,b.tickCoord,E,l,c);S&&(l=b.tickCoord+t*(E()/2+i),s[_]=jr(jr({},b),{},{isShow:!0}))},x=0;x<v;x++)g(x);return s}function KPe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Se(l)||Rs.isSsr)return BPe(i,typeof l=="number"&&Se(l)?l:0);var h=[],m=a==="top"||a==="bottom"?"width":"height",v=d&&m==="width"?Jf(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(b,C){var E=bt(c)?c(b.value,C):b.value;return m==="width"?FPe(Jf(E,{fontSize:e,letterSpacing:n}),v,f):Jf(E,{fontSize:e,letterSpacing:n})[m]},x=i.length>=2?So(i[1].coordinate-i[0].coordinate):1,w=VPe(o,x,m);return l==="equidistantPreserveStart"?UPe(x,w,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=GPe(x,w,g,i,s,l==="preserveStartEnd"):h=qPe(x,w,g,i,s),h.filter(function(_){return _.isShow}))}var YPe=["viewBox"],XPe=["viewBox"],QPe=["ticks"];function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ru.apply(this,arguments)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){hA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pw(t,e){if(t==null)return{};var n=JPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sU(r.key),r)}}function eAe(t,e,n){return e&&MO(t.prototype,e),n&&MO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tAe(t,e,n){return e=Mv(e),nAe(t,oU()?Reflect.construct(e,n||[],Mv(t).constructor):e.apply(t,n))}function nAe(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rAe(t)}function rAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oU=function(){return!!t})()}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(t)}function iAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hS(t,e)}function hS(t,e){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hS(t,e)}function hA(t,e,n){return e=sU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sU(t){var e=oAe(t,"string");return md(e)=="symbol"?e:e+""}function oAe(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C0=function(t){function e(n){var r;return ZPe(this,e),r=tAe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return iAe(e,t),eAe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=pw(r,YPe),a=this.props,l=a.viewBox,c=pw(a,XPe);return!xu(o,l)||!xu(s,c)||!xu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,v,g,x,w,_,b=f?-1:1,C=r.tickSize||d,E=Se(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=v=r.coordinate,x=s+ +!f*l,g=x-b*C,_=g-b*h,w=E;break;case"left":g=x=r.coordinate,v=o+ +!f*a,m=v-b*C,w=m-b*h,_=E;break;case"right":g=x=r.coordinate,v=o+ +f*a,m=v+b*C,w=m+b*h,_=E;break;default:m=v=r.coordinate,x=s+ +f*l,g=x+b*C,_=g+b*h,w=E;break}return{line:{x1:m,y1:g,x2:v,y2:x},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=Hn(Hn(Hn({},At(this.props,!1)),At(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Hn(Hn({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var m=+(l==="left"&&!c||l==="right"&&c);f=Hn(Hn({},f),{},{x1:i+m*s,y1:o,x2:i+m*s,y2:o+a})}return z.createElement("line",ru({},f,{className:Et("recharts-cartesian-axis-line",Ki(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,m=KPe(Hn(Hn({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=At(this.props,!1),w=At(d,!1),_=Hn(Hn({},x),{},{fill:"none"},At(l,!1)),b=m.map(function(C,E){var N=s.getTickLineCoord(C),S=N.line,P=N.tick,A=Hn(Hn(Hn(Hn({textAnchor:v,verticalAnchor:g},x),{},{stroke:"none",fill:c},w),P),{},{index:E,payload:C,visibleTicksCount:m.length,tickFormatter:f});return z.createElement(Rn,ru({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},zy(s.props,C,E)),l&&z.createElement("line",ru({},_,S,{className:Et("recharts-cartesian-axis-tick-line",Ki(l,"className"))})),d&&e.renderTickItem(d,A,"".concat(bt(f)?f(C.value,E):C.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=pw(f,QPe),v=h;return bt(l)&&(v=h&&h.length>0?l(this.props):l(m)),s<=0||a<=0||!v||!v.length?null:z.createElement(Rn,{className:Et("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Mr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Et(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?s=z.cloneElement(r,Hn(Hn({},i),{},{className:a})):bt(r)?s=r(Hn(Hn({},i),{},{className:a})):s=z.createElement(rv,ru({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(y.Component);hA(C0,"displayName","CartesianAxis");hA(C0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sAe=["type","layout","connectNulls","ref"],aAe=["key"];function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function DO(t,e){if(t==null)return{};var n=lAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){go(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dc(t){return fAe(t)||dAe(t)||uAe(t)||cAe()}function cAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uAe(t,e){if(t){if(typeof t=="string")return pS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pS(t,e)}}function dAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fAe(t){if(Array.isArray(t))return pS(t)}function pS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lU(r.key),r)}}function pAe(t,e,n){return e&&LO(t.prototype,e),n&&LO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mAe(t,e,n){return e=Dv(e),gAe(t,aU()?Reflect.construct(e,n||[],Dv(t).constructor):e.apply(t,n))}function gAe(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yAe(t)}function yAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aU=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dv(t)}function vAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mS(t,e)}function mS(t,e){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mS(t,e)}function go(t,e,n){return e=lU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lU(t){var e=xAe(t,"string");return gd(e)=="symbol"?e:e+""}function xAe(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var em=function(t){function e(){var n;hAe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mAe(this,e,[].concat(i)),go(n,"state",{isAnimationFinished:!0,totalLength:0}),go(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),go(n,"getStrokeDasharray",function(s,a,l){var c=l.reduce(function(w,_){return w+_});if(!c)return n.generateSimpleStrokeDasharray(a,s);for(var d=Math.floor(s/c),f=s%c,h=a-s,m=[],v=0,g=0;v<l.length;g+=l[v],++v)if(g+l[v]>f){m=[].concat(Dc(l.slice(0,v)),[f-g]);break}var x=m.length%2===0?[0,h]:[h];return[].concat(Dc(e.repeat(l,d)),Dc(m),x).map(function(w){return"".concat(w,"px")}).join(", ")}),go(n,"id",Gp("recharts-line-")),go(n,"pathRef",function(s){n.mainCurve=s}),go(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),go(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return vAe(e,t),pAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Yi(d,Jp);if(!f)return null;var h=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:Pi(g.payload,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(Rn,m,f.map(function(v){return z.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,d=a.dataKey,f=At(this.props,!1),h=At(l,!0),m=c.map(function(g,x){var w=fi(fi(fi({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:c});return e.renderDotItem(l,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return z.createElement(Rn,nh({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,c=a.layout,d=a.connectNulls;a.ref;var f=DO(a,sAe),h=fi(fi(fi({},At(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:d});return z.createElement(q_,nh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,v=s.animateNewValues,g=s.width,x=s.height,w=this.state,_=w.prevPoints,b=w.totalLength;return z.createElement(Ys,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var E=C.t;if(_){var N=_.length/a.length,S=a.map(function(O,R){var L=Math.floor(R*N);if(_[L]){var B=_[L],U=vo(B.x,O.x),W=vo(B.y,O.y);return fi(fi({},O),{},{x:U(E),y:W(E)})}if(v){var F=vo(g*2,O.x),V=vo(x/2,O.y);return fi(fi({},O),{},{x:F(E),y:V(E)})}return fi(fi({},O),{},{x:O.x,y:O.y})});return o.renderCurveStatically(S,r,i)}var P=vo(0,b),A=P(E),k;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});k=o.getStrokeDasharray(A,b,I)}else k=o.generateSimpleStrokeDasharray(b,A);return o.renderCurveStatically(a,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return a&&s&&s.length&&(!c&&d>0||!v0(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,v=i.height,g=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,_=a.length===1,b=Et("recharts-line",l),C=c&&c.allowDataOverflow,E=d&&d.allowDataOverflow,N=C||E,S=yt(x)?this.id:x,P=(r=At(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},A=P.r,k=A===void 0?3:A,I=P.strokeWidth,O=I===void 0?2:I,R=lae(s)?s:{},L=R.clipDot,B=L===void 0?!0:L,U=k*2+O;return z.createElement(Rn,{className:b},C||E?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:C?h:h-m/2,y:E?f:f-v/2,width:C?m:m*2,height:E?v:v*2})),!B&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:h-U/2,y:f-U/2,width:m+U,height:v+U}))):null,!_&&this.renderCurve(N,S),this.renderErrorBar(N,S),(_||s)&&this.renderDots(N,B,S),(!g||w)&&Ga.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Dc(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Dc(s),Dc(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(z.isValidElement(r))o=z.cloneElement(r,i);else if(bt(r))o=r(i);else{var s=i.key,a=DO(i,aAe),l=Et("recharts-line-dot",typeof r!="boolean"?r.className:"");o=z.createElement(cA,nh({key:s},a,{className:l}))}return o}}])}(y.PureComponent);go(em,"displayName","Line");go(em,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Rs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});go(em,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,m){var v=Pi(h,s);return d==="horizontal"?{x:b2({axis:n,ticks:i,bandSize:a,entry:h,index:m}),y:yt(v)?null:r.scale(v),value:v,payload:h}:{x:yt(v)?null:n.scale(v),y:b2({axis:r,ticks:o,bandSize:a,entry:h,index:m}),value:v,payload:h}});return fi({points:f,layout:d},c)});function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function bAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dU(r.key),r)}}function _Ae(t,e,n){return e&&wAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SAe(t,e,n){return e=$v(e),EAe(t,cU()?Reflect.construct(e,n||[],$v(t).constructor):e.apply(t,n))}function EAe(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TAe(t)}function TAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cU=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}function PAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gS(t,e)}function uU(t,e,n){return e=dU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dU(t){var e=AAe(t,"string");return yd(e)=="symbol"?e:e+""}function AAe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(this,arguments)}function CAe(t){var e=t.xAxisId,n=XB(),r=QB(),i=KB(e);return i==null?null:y.createElement(C0,yS({},i,{className:Et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ll(s,!0)}}))}var N0=function(t){function e(){return bAe(this,e),SAe(this,e,arguments)}return PAe(e,t),_Ae(e,[{key:"render",value:function(){return y.createElement(CAe,this.props)}}])}(y.Component);uU(N0,"displayName","XAxis");uU(N0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function NAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pU(r.key),r)}}function jAe(t,e,n){return e&&IAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kAe(t,e,n){return e=Lv(e),OAe(t,fU()?Reflect.construct(e,n||[],Lv(t).constructor):e.apply(t,n))}function OAe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RAe(t)}function RAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fU=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(t)}function MAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vS(t,e)}function hU(t,e,n){return e=pU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pU(t){var e=DAe(t,"string");return vd(e)=="symbol"?e:e+""}function DAe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xS(){return xS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xS.apply(this,arguments)}var $Ae=function(e){var n=e.yAxisId,r=XB(),i=QB(),o=YB(n);return o==null?null:y.createElement(C0,xS({},o,{className:Et("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Ll(a,!0)}}))},I0=function(t){function e(){return NAe(this,e),kAe(this,e,arguments)}return MAe(e,t),jAe(e,[{key:"render",value:function(){return y.createElement($Ae,this.props)}}])}(y.Component);hU(I0,"displayName","YAxis");hU(I0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function FO(t){return BAe(t)||VAe(t)||FAe(t)||LAe()}function LAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FAe(t,e){if(t){if(typeof t=="string")return bS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bS(t,e)}}function VAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BAe(t){if(Array.isArray(t))return bS(t)}function bS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wS=function(e,n,r,i,o){var s=Yi(e,fA),a=Yi(e,T0),l=[].concat(FO(s),FO(a)),c=Yi(e,A0),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,x){if(x.props[d]===r&&as(x.props,"extendDomain")&&Se(x.props[f])){var w=x.props[f];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},h)),c.length){var m="".concat(f,"1"),v="".concat(f,"2");h=c.reduce(function(g,x){if(x.props[d]===r&&as(x.props,"extendDomain")&&Se(x.props[m])&&Se(x.props[v])){var w=x.props[m],_=x.props[v];return[Math.min(g[0],w,_),Math.max(g[1],w,_)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,x){return Se(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},mU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var x=this._events[g],w=arguments.length,_,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,v),!0}for(b=1,_=new Array(w-1);b<w;b++)_[b-1]=arguments[b];x.fn.apply(x.context,_)}else{var C=x.length,E;for(b=0;b<C;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),w){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!_)for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];x[b].fn.apply(x[b].context,_)}}return!0},a.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&s(this,m);else{for(var g=0,x=[],w=v.length;g<w;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&x.push(v[g]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(mU);var UAe=mU.exports;const zAe=Yt(UAe);var mw=new zAe,gw="recharts.syncMouseEvents";function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function WAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gU(r.key),r)}}function qAe(t,e,n){return e&&HAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yw(t,e,n){return e=gU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gU(t){var e=GAe(t,"string");return xp(e)=="symbol"?e:e+""}function GAe(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KAe=function(){function t(){WAe(this,t),yw(this,"activeIndex",0),yw(this,"coordinateList",[]),yw(this,"layout","horizontal")}return qAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,h=s+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function YAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Se(r)&&Se(i))return!0}return!1}function XAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function yU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=yr(e,n,r,i),a=yr(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function QAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=yr(a,l,c,f),m=yr(a,l,d,f);r=h.x,i=h.y,o=m.x,s=m.y}else return yU(e);return[{x:r,y:i},{x:o,y:s}]}function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){JAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JAe(t,e,n){return e=ZAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZAe(t){var e=eCe(t,"string");return bp(e)=="symbol"?e:e+""}function eCe(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tCe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,g=q_;if(h==="ScatterChart")v=s,g=jSe;else if(h==="BarChart")v=XAe(f,s,l,d),g=lA;else if(f==="radial"){var x=yU(s),w=x.cx,_=x.cy,b=x.radius,C=x.startAngle,E=x.endAngle;v={cx:w,cy:_,startAngle:C,endAngle:E,innerRadius:b,outerRadius:b},g=wB}else v={points:QAe(f,s,l)},g=q_;var N=sg(sg(sg(sg({stroke:"#ccc",pointerEvents:"none"},l),v),At(m,!1)),{},{payload:a,payloadIndex:c,className:Et("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,N):y.createElement(g,N)}var nCe=["item"],rCe=["children","className","width","height","style","compact","title","desc"];function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(this,arguments)}function BO(t,e){return sCe(t)||oCe(t,e)||xU(t,e)||iCe()}function iCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function sCe(t){if(Array.isArray(t))return t}function UO(t,e){if(t==null)return{};var n=aCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bU(r.key),r)}}function uCe(t,e,n){return e&&cCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dCe(t,e,n){return e=Fv(e),fCe(t,vU()?Reflect.construct(e,n||[],Fv(t).constructor):e.apply(t,n))}function fCe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hCe(t)}function hCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vU=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(t)}function pCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_S(t,e)}function _S(t,e){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_S(t,e)}function bd(t){return yCe(t)||gCe(t)||xU(t)||mCe()}function mCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xU(t,e){if(t){if(typeof t=="string")return SS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SS(t,e)}}function gCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yCe(t){if(Array.isArray(t))return SS(t)}function SS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){He(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function He(t,e,n){return e=bU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bU(t){var e=vCe(t,"string");return xd(e)=="symbol"?e:e+""}function vCe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xCe={xAxis:["bottom","top"],yAxis:["left","right"]},bCe={width:"100%",height:"100%"},wU={x:0,y:0};function ag(t){return t}var wCe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},_Ce=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return re(re(re({},i),yr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return re(re(re({},i),yr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return wU},j0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(bd(a),bd(c)):a},[]);return s.length>0?s:e&&e.length&&Se(i)&&Se(o)?e.slice(i,o+1):[]};function _U(t){return t==="number"?[0,"auto"]:void 0}var ES=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=j0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?a:f;h=By(m,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(bd(l),[vB(c,h)]):l},[])},WO=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=wCe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=hwe(s,a,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=ES(e,n,d,f),m=_Ce(r,a,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},SCe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=gB(d,o);return r.reduce(function(v,g){var x,w=g.type.defaultProps!==void 0?re(re({},g.type.defaultProps),g.props):g.props,_=w.type,b=w.dataKey,C=w.allowDataOverflow,E=w.allowDuplicatedCategory,N=w.scale,S=w.ticks,P=w.includeHidden,A=w[s];if(v[A])return v;var k=j0(e.data,{graphicalItems:i.filter(function(ne){var ge,Ae=s in ne.props?ne.props[s]:(ge=ne.type.defaultProps)===null||ge===void 0?void 0:ge[s];return Ae===A}),dataStartIndex:l,dataEndIndex:c}),I=k.length,O,R,L;YAe(w.domain,C,_)&&(O=B_(w.domain,null,C),m&&(_==="number"||N!=="auto")&&(L=eh(k,b,"category")));var B=_U(_);if(!O||O.length===0){var U,W=(U=w.domain)!==null&&U!==void 0?U:B;if(b){if(O=eh(k,b,_),_==="category"&&m){var F=Jse(O);E&&F?(R=O,O=Pv(0,I)):E||(O=E2(W,O,g).reduce(function(ne,ge){return ne.indexOf(ge)>=0?ne:[].concat(bd(ne),[ge])},[]))}else if(_==="category")E?O=O.filter(function(ne){return ne!==""&&!yt(ne)}):O=E2(W,O,g).reduce(function(ne,ge){return ne.indexOf(ge)>=0||ge===""||yt(ge)?ne:[].concat(bd(ne),[ge])},[]);else if(_==="number"){var V=vwe(k,i.filter(function(ne){var ge,Ae,Ve=s in ne.props?ne.props[s]:(ge=ne.type.defaultProps)===null||ge===void 0?void 0:ge[s],Ke="hide"in ne.props?ne.props.hide:(Ae=ne.type.defaultProps)===null||Ae===void 0?void 0:Ae.hide;return Ve===A&&(P||!Ke)}),b,o,d);V&&(O=V)}m&&(_==="number"||N!=="auto")&&(L=eh(k,b,"category"))}else m?O=Pv(0,I):a&&a[A]&&a[A].hasStack&&_==="number"?O=h==="expand"?[0,1]:yB(a[A].stackGroups,l,c):O=mB(k,i.filter(function(ne){var ge=s in ne.props?ne.props[s]:ne.type.defaultProps[s],Ae="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return ge===A&&(P||!Ae)}),_,d,!0);if(_==="number")O=wS(f,O,A,o,S),W&&(O=B_(W,O,C));else if(_==="category"&&W){var Z=W,Q=O.every(function(ne){return Z.indexOf(ne)>=0});Q&&(O=Z)}}return re(re({},v),{},He({},A,re(re({},w),{},{axisType:o,domain:O,categoricalDomain:L,duplicateDomain:R,originalDomain:(x=w.domain)!==null&&x!==void 0?x:B,isCategorical:m,layout:d})))},{})},ECe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=j0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=h.length,v=gB(d,o),g=-1;return r.reduce(function(x,w){var _=w.type.defaultProps!==void 0?re(re({},w.type.defaultProps),w.props):w.props,b=_[s],C=_U("number");if(!x[b]){g++;var E;return v?E=Pv(0,m):a&&a[b]&&a[b].hasStack?(E=yB(a[b].stackGroups,l,c),E=wS(f,E,b,o)):(E=B_(C,mB(h,r.filter(function(N){var S,P,A=s in N.props?N.props[s]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[s],k="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return A===b&&!k}),"number",d),i.defaultProps.allowDataOverflow),E=wS(f,E,b,o)),re(re({},x),{},He({},b,re(re({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ki(xCe,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:C,isCategorical:v,layout:d})))}return x},{})},TCe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Yi(d,o),m={};return h&&h.length?m=SCe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(m=ECe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),m},PCe=function(e){var n=Bc(e),r=Ll(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:MP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:yv(n,r)}},HO=function(e){var n=e.children,r=e.defaultShowTooltip,i=gi(n,ud),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},ACe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Os(n&&n.type);return r&&r.indexOf("Bar")>=0})},qO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},CCe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,d=r.height,f=r.children,h=r.margin||{},m=gi(f,ud),v=gi(f,bu),g=Object.keys(l).reduce(function(E,N){var S=l[N],P=S.orientation;return!S.mirror&&!S.hide?re(re({},E),{},He({},P,E[P]+S.width)):E},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(E,N){var S=s[N],P=S.orientation;return!S.mirror&&!S.hide?re(re({},E),{},He({},P,Ki(E,"".concat(P))+S.height)):E},{top:h.top||0,bottom:h.bottom||0}),w=re(re({},x),g),_=w.bottom;m&&(w.bottom+=m.props.height||ud.defaultProps.height),v&&n&&(w=gwe(w,i,r,n));var b=c-w.left-w.right,C=d-w.top-w.bottom;return re(re({brushBottom:_},w),{},{width:Math.max(b,0),height:Math.max(C,0)})},NCe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},ICe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(w,_){var b=_.graphicalItems,C=_.stackGroups,E=_.offset,N=_.updateId,S=_.dataStartIndex,P=_.dataEndIndex,A=w.barSize,k=w.layout,I=w.barGap,O=w.barCategoryGap,R=w.maxBarSize,L=qO(k),B=L.numericAxisName,U=L.cateAxisName,W=ACe(b),F=[];return b.forEach(function(V,Z){var Q=j0(w.data,{graphicalItems:[V],dataStartIndex:S,dataEndIndex:P}),ne=V.type.defaultProps!==void 0?re(re({},V.type.defaultProps),V.props):V.props,ge=ne.dataKey,Ae=ne.maxBarSize,Ve=ne["".concat(B,"Id")],Ke=ne["".concat(U,"Id")],me={},we=l.reduce(function(cn,Ot){var pn=_["".concat(Ot.axisType,"Map")],wr=ne["".concat(Ot.axisType,"Id")];pn&&pn[wr]||Ot.axisType==="zAxis"||mc();var mn=pn[wr];return re(re({},cn),{},He(He({},Ot.axisType,mn),"".concat(Ot.axisType,"Ticks"),Ll(mn)))},me),ee=we[U],he=we["".concat(U,"Ticks")],pe=C&&C[Ve]&&C[Ve].hasStack&&Iwe(V,C[Ve].stackGroups),K=Os(V.type).indexOf("Bar")>=0,_e=yv(ee,he),Oe=[],ht=W&&pwe({barSize:A,stackGroups:C,totalSize:NCe(we,U)});if(K){var at,Ct,Rt=yt(Ae)?R:Ae,ve=(at=(Ct=yv(ee,he,!0))!==null&&Ct!==void 0?Ct:Rt)!==null&&at!==void 0?at:0;Oe=mwe({barGap:I,barCategoryGap:O,bandSize:ve!==_e?ve:_e,sizeList:ht[Ke],maxBarSize:Rt}),ve!==_e&&(Oe=Oe.map(function(cn){return re(re({},cn),{},{position:re(re({},cn.position),{},{offset:cn.position.offset-ve/2})})}))}var Ye=V&&V.type&&V.type.getComposedData;Ye&&F.push({props:re(re({},Ye(re(re({},we),{},{displayedData:Q,props:w,dataKey:ge,item:V,bandSize:_e,barPosition:Oe,offset:E,stackedData:pe,layout:k,dataStartIndex:S,dataEndIndex:P}))),{},He(He(He({key:V.key||"item-".concat(Z)},B,we[B]),U,we[U]),"animationId",N)),childIndex:dae(V,w.children),item:V})}),F},m=function(w,_){var b=w.props,C=w.dataStartIndex,E=w.dataEndIndex,N=w.updateId;if(!yj({props:b}))return null;var S=b.children,P=b.layout,A=b.stackOffset,k=b.data,I=b.reverseStackOrder,O=qO(P),R=O.numericAxisName,L=O.cateAxisName,B=Yi(S,r),U=Awe(k,B,"".concat(R,"Id"),"".concat(L,"Id"),A,I),W=l.reduce(function(ne,ge){var Ae="".concat(ge.axisType,"Map");return re(re({},ne),{},He({},Ae,TCe(b,re(re({},ge),{},{graphicalItems:B,stackGroups:ge.axisType===R&&U,dataStartIndex:C,dataEndIndex:E}))))},{}),F=CCe(re(re({},W),{},{props:b,graphicalItems:B}),_==null?void 0:_.legendBBox);Object.keys(W).forEach(function(ne){W[ne]=d(b,W[ne],F,ne.replace("Map",""),n)});var V=W["".concat(L,"Map")],Z=PCe(V),Q=h(b,re(re({},W),{},{dataStartIndex:C,dataEndIndex:E,updateId:N,graphicalItems:B,stackGroups:U,offset:F}));return re(re({formattedGraphicalItems:Q,graphicalItems:B,offset:F,stackGroups:U},Z),W)},v=function(x){function w(_){var b,C,E;return lCe(this,w),E=dCe(this,w,[_]),He(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(E,"accessibilityManager",new KAe),He(E,"handleLegendBBoxUpdate",function(N){if(N){var S=E.state,P=S.dataStartIndex,A=S.dataEndIndex,k=S.updateId;E.setState(re({legendBBox:N},m({props:E.props,dataStartIndex:P,dataEndIndex:A,updateId:k},re(re({},E.state),{},{legendBBox:N}))))}}),He(E,"handleReceiveSyncEvent",function(N,S,P){if(E.props.syncId===N){if(P===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),He(E,"handleBrushChange",function(N){var S=N.startIndex,P=N.endIndex;if(S!==E.state.dataStartIndex||P!==E.state.dataEndIndex){var A=E.state.updateId;E.setState(function(){return re({dataStartIndex:S,dataEndIndex:P},m({props:E.props,dataStartIndex:S,dataEndIndex:P,updateId:A},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:P})}}),He(E,"handleMouseEnter",function(N){var S=E.getMouseInfo(N);if(S){var P=re(re({},S),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var A=E.props.onMouseEnter;bt(A)&&A(P,N)}}),He(E,"triggeredAfterMouseMove",function(N){var S=E.getMouseInfo(N),P=S?re(re({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(P),E.triggerSyncEvent(P);var A=E.props.onMouseMove;bt(A)&&A(P,N)}),He(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),He(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),He(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),He(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var P=E.props.onMouseLeave;bt(P)&&P(S,N)}),He(E,"handleOuterEvent",function(N){var S=uae(N),P=Ki(E.props,"".concat(S));if(S&&bt(P)){var A,k;/.*touch.*/i.test(S)?k=E.getMouseInfo(N.changedTouches[0]):k=E.getMouseInfo(N),P((A=k)!==null&&A!==void 0?A:{},N)}}),He(E,"handleClick",function(N){var S=E.getMouseInfo(N);if(S){var P=re(re({},S),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var A=E.props.onClick;bt(A)&&A(P,N)}}),He(E,"handleMouseDown",function(N){var S=E.props.onMouseDown;if(bt(S)){var P=E.getMouseInfo(N);S(P,N)}}),He(E,"handleMouseUp",function(N){var S=E.props.onMouseUp;if(bt(S)){var P=E.getMouseInfo(N);S(P,N)}}),He(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),He(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),He(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),He(E,"handleDoubleClick",function(N){var S=E.props.onDoubleClick;if(bt(S)){var P=E.getMouseInfo(N);S(P,N)}}),He(E,"handleContextMenu",function(N){var S=E.props.onContextMenu;if(bt(S)){var P=E.getMouseInfo(N);S(P,N)}}),He(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&mw.emit(gw,E.props.syncId,N,E.eventEmitterSymbol)}),He(E,"applySyncEvent",function(N){var S=E.props,P=S.layout,A=S.syncMethod,k=E.state.updateId,I=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(re({dataStartIndex:I,dataEndIndex:O},m({props:E.props,dataStartIndex:I,dataEndIndex:O,updateId:k},E.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,L=N.chartY,B=N.activeTooltipIndex,U=E.state,W=U.offset,F=U.tooltipTicks;if(!W)return;if(typeof A=="function")B=A(F,N);else if(A==="value"){B=-1;for(var V=0;V<F.length;V++)if(F[V].value===N.activeLabel){B=V;break}}var Z=re(re({},W),{},{x:W.left,y:W.top}),Q=Math.min(R,Z.x+Z.width),ne=Math.min(L,Z.y+Z.height),ge=F[B]&&F[B].value,Ae=ES(E.state,E.props.data,B),Ve=F[B]?{x:P==="horizontal"?F[B].coordinate:Q,y:P==="horizontal"?ne:F[B].coordinate}:wU;E.setState(re(re({},N),{},{activeLabel:ge,activeCoordinate:Ve,activePayload:Ae,activeTooltipIndex:B}))}else E.setState(N)}),He(E,"renderCursor",function(N){var S,P=E.state,A=P.isTooltipActive,k=P.activeCoordinate,I=P.activePayload,O=P.offset,R=P.activeTooltipIndex,L=P.tooltipAxisBandSize,B=E.getTooltipEventType(),U=(S=N.props.active)!==null&&S!==void 0?S:A,W=E.props.layout,F=N.key||"_recharts-cursor";return z.createElement(tCe,{key:F,activeCoordinate:k,activePayload:I,activeTooltipIndex:R,chartName:n,element:N,isActive:U,layout:W,offset:O,tooltipAxisBandSize:L,tooltipEventType:B})}),He(E,"renderPolarAxis",function(N,S,P){var A=Ki(N,"type.axisType"),k=Ki(E.state,"".concat(A,"Map")),I=N.type.defaultProps,O=I!==void 0?re(re({},I),N.props):N.props,R=k&&k[O["".concat(A,"Id")]];return y.cloneElement(N,re(re({},R),{},{className:Et(A,R.className),key:N.key||"".concat(S,"-").concat(P),ticks:Ll(R,!0)}))}),He(E,"renderPolarGrid",function(N){var S=N.props,P=S.radialLines,A=S.polarAngles,k=S.polarRadius,I=E.state,O=I.radiusAxisMap,R=I.angleAxisMap,L=Bc(O),B=Bc(R),U=B.cx,W=B.cy,F=B.innerRadius,V=B.outerRadius;return y.cloneElement(N,{polarAngles:Array.isArray(A)?A:Ll(B,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(k)?k:Ll(L,!0).map(function(Z){return Z.coordinate}),cx:U,cy:W,innerRadius:F,outerRadius:V,key:N.key||"polar-grid",radialLines:P})}),He(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,S=E.props,P=S.children,A=S.width,k=S.height,I=E.props.margin||{},O=A-(I.left||0)-(I.right||0),R=hB({children:P,formattedGraphicalItems:N,legendWidth:O,legendContent:c});if(!R)return null;var L=R.item,B=UO(R,nCe);return y.cloneElement(L,re(re({},B),{},{chartWidth:A,chartHeight:k,margin:I,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),He(E,"renderTooltip",function(){var N,S=E.props,P=S.children,A=S.accessibilityLayer,k=gi(P,Uo);if(!k)return null;var I=E.state,O=I.isTooltipActive,R=I.activeCoordinate,L=I.activePayload,B=I.activeLabel,U=I.offset,W=(N=k.props.active)!==null&&N!==void 0?N:O;return y.cloneElement(k,{viewBox:re(re({},U),{},{x:U.left,y:U.top}),active:W,label:B,payload:W?L:[],coordinate:R,accessibilityLayer:A})}),He(E,"renderBrush",function(N){var S=E.props,P=S.margin,A=S.data,k=E.state,I=k.offset,O=k.dataStartIndex,R=k.dataEndIndex,L=k.updateId;return y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:ng(E.handleBrushChange,N.props.onChange),data:A,x:Se(N.props.x)?N.props.x:I.left,y:Se(N.props.y)?N.props.y:I.top+I.height+I.brushBottom-(P.bottom||0),width:Se(N.props.width)?N.props.width:I.width,startIndex:O,endIndex:R,updateId:"brush-".concat(L)})}),He(E,"renderReferenceElement",function(N,S,P){if(!N)return null;var A=E,k=A.clipPathId,I=E.state,O=I.xAxisMap,R=I.yAxisMap,L=I.offset,B=N.type.defaultProps||{},U=N.props,W=U.xAxisId,F=W===void 0?B.xAxisId:W,V=U.yAxisId,Z=V===void 0?B.yAxisId:V;return y.cloneElement(N,{key:N.key||"".concat(S,"-").concat(P),xAxis:O[F],yAxis:R[Z],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:k})}),He(E,"renderActivePoints",function(N){var S=N.item,P=N.activePoint,A=N.basePoint,k=N.childIndex,I=N.isRange,O=[],R=S.props.key,L=S.item.type.defaultProps!==void 0?re(re({},S.item.type.defaultProps),S.item.props):S.item.props,B=L.activeDot,U=L.dataKey,W=re(re({index:k,dataKey:U,cx:P.x,cy:P.y,r:4,fill:aA(S.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},At(B,!1)),Uy(B));return O.push(w.renderActiveDot(B,W,"".concat(R,"-activePoint-").concat(k))),A?O.push(w.renderActiveDot(B,re(re({},W),{},{cx:A.x,cy:A.y}),"".concat(R,"-basePoint-").concat(k))):I&&O.push(null),O}),He(E,"renderGraphicChild",function(N,S,P){var A=E.filterFormatItem(N,S,P);if(!A)return null;var k=E.getTooltipEventType(),I=E.state,O=I.isTooltipActive,R=I.tooltipAxis,L=I.activeTooltipIndex,B=I.activeLabel,U=E.props.children,W=gi(U,Uo),F=A.props,V=F.points,Z=F.isRange,Q=F.baseLine,ne=A.item.type.defaultProps!==void 0?re(re({},A.item.type.defaultProps),A.item.props):A.item.props,ge=ne.activeDot,Ae=ne.hide,Ve=ne.activeBar,Ke=ne.activeShape,me=!!(!Ae&&O&&W&&(ge||Ve||Ke)),we={};k!=="axis"&&W&&W.props.trigger==="click"?we={onClick:ng(E.handleItemMouseEnter,N.props.onClick)}:k!=="axis"&&(we={onMouseLeave:ng(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:ng(E.handleItemMouseEnter,N.props.onMouseEnter)});var ee=y.cloneElement(N,re(re({},A.props),we));function he(Ot){return typeof R.dataKey=="function"?R.dataKey(Ot.payload):null}if(me)if(L>=0){var pe,K;if(R.dataKey&&!R.allowDuplicatedCategory){var _e=typeof R.dataKey=="function"?he:"payload.".concat(R.dataKey.toString());pe=By(V,_e,B),K=Z&&Q&&By(Q,_e,B)}else pe=V==null?void 0:V[L],K=Z&&Q&&Q[L];if(Ke||Ve){var Oe=N.props.activeIndex!==void 0?N.props.activeIndex:L;return[y.cloneElement(N,re(re(re({},A.props),we),{},{activeIndex:Oe})),null,null]}if(!yt(pe))return[ee].concat(bd(E.renderActivePoints({item:A,activePoint:pe,basePoint:K,childIndex:L,isRange:Z})))}else{var ht,at=(ht=E.getItemByXY(E.state.activeCoordinate))!==null&&ht!==void 0?ht:{graphicalItem:ee},Ct=at.graphicalItem,Rt=Ct.item,ve=Rt===void 0?N:Rt,Ye=Ct.childIndex,cn=re(re(re({},A.props),we),{},{activeIndex:Ye});return[y.cloneElement(ve,cn),null,null]}return Z?[ee,null,null]:[ee,null]}),He(E,"renderCustomized",function(N,S,P){return y.cloneElement(N,re(re({key:"recharts-customized-".concat(P)},E.props),E.state))}),He(E,"renderMap",{CartesianGrid:{handler:ag,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:ag},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:ag},YAxis:{handler:ag},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((b=_.id)!==null&&b!==void 0?b:Gp("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=f6(E.triggeredAfterMouseMove,(C=_.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return pCe(w,x),uCe(w,[{key:"componentDidMount",value:function(){var b,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,C=b.children,E=b.data,N=b.height,S=b.layout,P=gi(C,Uo);if(P){var A=P.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,I=ES(this.state,E,A,k),O=this.state.tooltipTicks[A].coordinate,R=(this.state.offset.top+N)/2,L=S==="horizontal",B=L?{x:O,y:R}:{y:O,x:R},U=this.state.formattedGraphicalItems.find(function(F){var V=F.item;return V.type.name==="Scatter"});U&&(B=re(re({},B),U.props.points[A].tooltipPosition),I=U.props.points[A].tooltipPayload);var W={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:k,activePayload:I,activeCoordinate:B};this.setState(W),this.renderCursor(P),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){n_([gi(b.children,Uo)],[gi(this.props.children,Uo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=gi(this.props.children,Uo);if(b&&typeof b.props.shared=="boolean"){var C=b.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),N=Fye(E),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},P=E.width/C.offsetWidth||1,A=this.inRange(S.chartX,S.chartY,P);if(!A)return null;var k=this.state,I=k.xAxisMap,O=k.yAxisMap,R=this.getTooltipEventType(),L=WO(this.state,this.props.data,this.props.layout,A);if(R!=="axis"&&I&&O){var B=Bc(I).scale,U=Bc(O).scale,W=B&&B.invert?B.invert(S.chartX):null,F=U&&U.invert?U.invert(S.chartY):null;return re(re({},S),{},{xValue:W,yValue:F},L)}return L?re(re({},S),L):null}},{key:"inRange",value:function(b,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/E,P=C/E;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,k=S>=A.left&&S<=A.left+A.width&&P>=A.top&&P<=A.top+A.height;return k?{x:S,y:P}:null}var I=this.state,O=I.angleAxisMap,R=I.radiusAxisMap;if(O&&R){var L=Bc(O);return A2({x:S,y:P},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,C=this.getTooltipEventType(),E=gi(b,Uo),N={};E&&C==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Uy(this.props,this.handleOuterEvent);return re(re({},S),N)}},{key:"addListener",value:function(){mw.on(gw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mw.removeListener(gw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,C,E){for(var N=this.state.formattedGraphicalItems,S=0,P=N.length;S<P;S++){var A=N[S];if(A.item===b||A.props.key===b.key||C===Os(A.item.type)&&E===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,C=this.state.offset,E=C.left,N=C.top,S=C.height,P=C.width;return z.createElement("defs",null,z.createElement("clipPath",{id:b},z.createElement("rect",{x:E,y:N,height:S,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(C,E){var N=BO(E,2),S=N[0],P=N[1];return re(re({},C),{},He({},S,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(C,E){var N=BO(E,2),S=N[0],P=N[1];return re(re({},C),{},He({},S,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(b){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(b){var C=this.state,E=C.formattedGraphicalItems,N=C.activeItem;if(E&&E.length)for(var S=0,P=E.length;S<P;S++){var A=E[S],k=A.props,I=A.item,O=I.type.defaultProps!==void 0?re(re({},I.type.defaultProps),I.props):I.props,R=Os(I.type);if(R==="Bar"){var L=(k.data||[]).find(function(F){return wSe(b,F)});if(L)return{graphicalItem:A,payload:L}}else if(R==="RadialBar"){var B=(k.data||[]).find(function(F){return A2(b,F)});if(B)return{graphicalItem:A,payload:B}}else if(w0(A,N)||_0(A,N)||pp(A,N)){var U=EEe({graphicalItem:A,activeTooltipItem:N,itemData:O.data}),W=O.activeIndex===void 0?U:O.activeIndex;return{graphicalItem:re(re({},A),{},{childIndex:W}),payload:pp(A,N)?O.data[U]:A.props.data[U]}}}return null}},{key:"render",value:function(){var b=this;if(!yj(this))return null;var C=this.props,E=C.children,N=C.className,S=C.width,P=C.height,A=C.style,k=C.compact,I=C.title,O=C.desc,R=UO(C,rCe),L=At(R,!1);if(k)return z.createElement(TO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(i_,iu({},L,{width:S,height:P,title:I,desc:O}),this.renderClipPath(),xj(E,this.renderMap)));if(this.props.accessibilityLayer){var B,U;L.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,L.role=(U=this.props.role)!==null&&U!==void 0?U:"application",L.onKeyDown=function(F){b.accessibilityManager.keyboardEvent(F)},L.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return z.createElement(TO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",iu({className:Et("recharts-wrapper",N),style:re({position:"relative",cursor:"default",width:S,height:P},A)},W,{ref:function(V){b.container=V}}),z.createElement(i_,iu({},L,{width:S,height:P,title:I,desc:O,style:bCe}),this.renderClipPath(),xj(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);He(v,"displayName",n),He(v,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(v,"getDerivedStateFromProps",function(x,w){var _=x.dataKey,b=x.data,C=x.children,E=x.width,N=x.height,S=x.layout,P=x.stackOffset,A=x.margin,k=w.dataStartIndex,I=w.dataEndIndex;if(w.updateId===void 0){var O=HO(x);return re(re(re({},O),{},{updateId:0},m(re(re({props:x},O),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:b,prevWidth:E,prevHeight:N,prevLayout:S,prevStackOffset:P,prevMargin:A,prevChildren:C})}if(_!==w.prevDataKey||b!==w.prevData||E!==w.prevWidth||N!==w.prevHeight||S!==w.prevLayout||P!==w.prevStackOffset||!xu(A,w.prevMargin)){var R=HO(x),L={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},B=re(re({},WO(w,b,S)),{},{updateId:w.updateId+1}),U=re(re(re({},R),L),B);return re(re(re({},U),m(re({props:x},U),w)),{},{prevDataKey:_,prevData:b,prevWidth:E,prevHeight:N,prevLayout:S,prevStackOffset:P,prevMargin:A,prevChildren:C})}if(!n_(C,w.prevChildren)){var W,F,V,Z,Q=gi(C,ud),ne=Q&&(W=(F=Q.props)===null||F===void 0?void 0:F.startIndex)!==null&&W!==void 0?W:k,ge=Q&&(V=(Z=Q.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&V!==void 0?V:I,Ae=ne!==k||ge!==I,Ve=!yt(b),Ke=Ve&&!Ae?w.updateId:w.updateId+1;return re(re({updateId:Ke},m(re(re({props:x},w),{},{updateId:Ke,dataStartIndex:ne,dataEndIndex:ge}),w)),{},{prevChildren:C,dataStartIndex:ne,dataEndIndex:ge})}return null}),He(v,"renderActiveDot",function(x,w,_){var b;return y.isValidElement(x)?b=y.cloneElement(x,w):bt(x)?b=x(w):b=z.createElement(cA,w),z.createElement(Rn,{className:"recharts-active-dot",key:_},b)});var g=y.forwardRef(function(w,_){return z.createElement(v,iu({},w,{ref:_}))});return g.displayName=v.displayName,g},jCe=ICe({chartName:"LineChart",GraphicalChild:em,axisComponents:[{axisType:"xAxis",AxisComp:N0},{axisType:"yAxis",AxisComp:I0}],formatAxisMap:QTe});function kCe({seconds:t,totalSeconds:e,playerName:n,isExtension:r,isRunning:i=!0,onClick:o}){const s=t/e*100,a=()=>t===0?"bg-black":s>60?"bg-gradient-to-b from-green-500 to-green-700":s>40?"bg-gradient-to-b from-yellow-500 to-yellow-600":s>20?"bg-gradient-to-b from-orange-500 to-orange-600":"bg-gradient-to-b from-red-600 to-red-800",l=()=>t===0?"text-red-500":"text-white",c=()=>s<=20&&t>0?"animate-pulse":"",d=f=>{if(f>=60){const h=Math.floor(f/60),m=f%60;return`${h}:${m.toString().padStart(2,"0")}`}return f.toString()};return u.jsxs("button",{className:`flex flex-col items-center justify-center w-full h-full transition-all duration-500 ${a()} cursor-pointer active:opacity-90 select-none focus:outline-none focus:ring-2 focus:ring-white/30`,onClick:o,"data-testid":"display-timer",type:"button",children:[n&&u.jsx("div",{className:"text-[clamp(1.25rem,4vw,2rem)] font-semibold text-white/90 mb-1 tracking-wide","data-testid":"text-player-name",children:n}),u.jsx("div",{className:`font-mono font-bold transition-all duration-300 ${l()} ${c()}`,style:{fontSize:"clamp(6rem, 30vw, 18rem)",lineHeight:1,textShadow:t>0?"0 4px 20px rgba(0,0,0,0.3)":"none"},children:d(t)}),!i&&t>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[u.jsx(Wf,{className:"w-5 h-5 md:w-6 md:h-6"}),u.jsx("span",{className:"text-sm md:text-base font-medium",children:"TAP TO RESUME"})]}),i&&t>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/50",children:[u.jsx(m$,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{className:"text-xs md:text-sm",children:"tap to pause"})]}),r&&u.jsx("div",{className:"text-base md:text-lg text-white/80 mt-1 font-medium","data-testid":"text-extension-indicator",children:"EXTENSION"}),t===0&&u.jsxs("div",{className:"flex flex-col items-center mt-2",children:[u.jsx("div",{className:"text-xl md:text-3xl text-red-400 font-bold animate-pulse","data-testid":"text-time-expired",children:"TIME EXPIRED"}),u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[u.jsx(Wf,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-medium",children:"TAP TO RESTART"})]})]})]})}const GO="shotclock_tutorial_seen",KO="shotclock_sessions",lg="shotclock_paused_session";function OCe(){var _r,dr;const[,t]=cl(),[e,n]=y.useState("setup"),[r,i]=y.useState("solo"),[o,s]=y.useState([{name:"Player 1",extensions:0}]),[a,l]=y.useState(0),[c,d]=y.useState([{name:"Team 1",players:["Player 1A","Player 1B"],extensions:0},{name:"Team 2",players:["Player 2A","Player 2B"],extensions:0}]),[f,h]=y.useState(0),[m,v]=y.useState(0),[g,x]=y.useState(30),[w,_]=y.useState(30),[b,C]=y.useState(30),[E,N]=y.useState(!1),[S,P]=y.useState(!1),[A]=y.useState(3),[k]=y.useState(15),[I,O]=y.useState(!0),[R,L]=y.useState(!1),[B,U]=y.useState(1),W=y.useRef(null),F=y.useRef(null),[V,Z]=y.useState({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),Q=y.useRef(0),ne=y.useRef(0),ge=y.useRef(0);y.useEffect(()=>(Pt.startSession("tempo"),()=>{ge.current>0&&Pt.trackSkillMetric("tempo","session_complete",1),Pt.endSession()}),[]),y.useEffect(()=>{const G=localStorage.getItem(lg);if(G)try{const ce=JSON.parse(G);(ce.gameMode==="paused"||ce.gameMode==="playing")&&(n("paused"),i(ce.playerMode),s(ce.players),l(ce.currentPlayerIndex),x(ce.duration),C(ce.timeRemaining),P(ce.isInExtension),O(ce.soloAutoRestart),Z({...ce.sessionStats,shotEvents:ce.sessionStats.shotEvents||[]}),ne.current=ce.accumulatedShotTime||0,ce.teams&&d(ce.teams),ce.currentTeamIndex!==void 0&&h(ce.currentTeamIndex),ce.currentPartnerIndex!==void 0&&v(ce.currentPartnerIndex))}catch{localStorage.removeItem(lg)}},[]),y.useEffect(()=>{localStorage.getItem(GO)||L(!0)},[]);const Ae=y.useCallback((G=800,ce=.3,Ee=1)=>{F.current||(F.current=new AudioContext);const qe=F.current;for(let pt=0;pt<Ee;pt++)setTimeout(()=>{const Sn=qe.createOscillator(),De=qe.createGain();Sn.connect(De),De.connect(qe.destination),Sn.frequency.value=G,De.gain.value=.4,De.gain.exponentialRampToValueAtTime(.01,qe.currentTime+ce),Sn.start(qe.currentTime),Sn.stop(qe.currentTime+ce)},pt*150)},[]),Ve=y.useCallback(()=>{Ae(600,.15,1)},[Ae]),Ke=y.useCallback(()=>{Ae(400,.5,3)},[Ae]),me=y.useCallback(()=>{Ae(1e3,.2,2)},[Ae]);y.useEffect(()=>(E&&b>0?W.current=setInterval(()=>{C(G=>{if(G<=6&&G>1&&Ve(),G<=1){if(Ke(),P(!1),r==="solo"&&I){let ce=ne.current/1e3;Q.current>0&&(ce+=(Date.now()-Q.current)/1e3),ce<=0&&(ce=g),ge.current++,Pt.trackSkillMetric("tempo","shot_time",ce),Z(Ee=>{var pt;const qe={shotIndex:Ee.shotCount,duration:Math.max(0,ce),playerName:((pt=o[0])==null?void 0:pt.name)||"Player 1",timestamp:Date.now()};return{...Ee,shotCount:Ee.shotCount+1,shotDurations:[...Ee.shotDurations,Math.max(0,ce)],shotEvents:[...Ee.shotEvents||[],qe]}}),ne.current=0,setTimeout(()=>{me(),C(g),N(!0),Q.current=Date.now()},1500)}else Z(ce=>({...ce,timeouts:ce.timeouts+1})),N(!1);return 0}return G-1})},1e3):W.current&&clearInterval(W.current),()=>{W.current&&clearInterval(W.current)}),[E,b,r,I,g,Ve,Ke,me]);const we=o[a],ee=c[f];r==="scotch-doubles"?ee==null||ee.players[m]:we==null||we.name;const he=()=>{b===0&&(C(g),P(!1)),Q.current===0&&(Q.current=Date.now()),N(!0)},pe=()=>{Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,N(!1)},K=y.useCallback(()=>{const G={gameMode:"paused",playerMode:r,players:o,currentPlayerIndex:a,duration:g,timeRemaining:b,isInExtension:S,soloAutoRestart:I,sessionStats:V,accumulatedShotTime:ne.current,teams:c,currentTeamIndex:f,currentPartnerIndex:m};localStorage.setItem(lg,JSON.stringify(G))},[r,o,a,g,b,S,I,V,c,f,m]),_e=()=>{localStorage.removeItem(lg)},Oe=()=>{Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,N(!1),n("paused")};y.useEffect(()=>{e==="paused"&&K()},[e,K]);const ht=()=>{n("playing"),b>0&&(Q.current=Date.now(),N(!0))},at=()=>{N(!1),n("paused"),K(),t("/")};y.useEffect(()=>{const G=()=>{document.hidden&&e==="playing"&&E&&(Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,N(!1),n("paused"))};return document.addEventListener("visibilitychange",G),()=>{document.removeEventListener("visibilitychange",G)}},[e,E]);const Ct=()=>{var ce;let G=ne.current/1e3;if(Q.current>0&&(G+=(Date.now()-Q.current)/1e3),G>0){ge.current++,Pt.trackSkillMetric("tempo","shot_time",G);const Ee={shotIndex:V.shotCount,duration:Math.max(0,G),playerName:r==="scotch-doubles"?(ee==null?void 0:ee.players[m])||"Unknown":r==="two-player"?(we==null?void 0:we.name)||"Unknown":((ce=o[0])==null?void 0:ce.name)||"Player 1",teamName:r==="scotch-doubles"?ee==null?void 0:ee.name:void 0,timestamp:Date.now()};Z(qe=>({...qe,shotCount:qe.shotCount+1,shotDurations:[...qe.shotDurations,Math.max(0,G)],shotEvents:[...qe.shotEvents||[],Ee]}))}N(!1),C(g),P(!1),ne.current=0,r==="two-player"?l(Ee=>(Ee+1)%o.length):r==="scotch-doubles"&&(h(Ee=>(Ee+1)%c.length),v(0)),Q.current=Date.now(),setTimeout(()=>N(!0),100)},Rt=()=>{let G=ne.current/1e3;if(Q.current>0&&(G+=(Date.now()-Q.current)/1e3),G>0){ge.current++,Pt.trackSkillMetric("tempo","shot_time",G);const ce={shotIndex:V.shotCount,duration:Math.max(0,G),playerName:(ee==null?void 0:ee.players[m])||"Unknown",teamName:ee==null?void 0:ee.name,timestamp:Date.now()};Z(Ee=>({...Ee,shotCount:Ee.shotCount+1,shotDurations:[...Ee.shotDurations,Math.max(0,G)],shotEvents:[...Ee.shotEvents||[],ce]}))}N(!1),C(g),P(!1),ne.current=0,v(ce=>(ce+1)%2),Q.current=Date.now(),setTimeout(()=>N(!0),100)},ve=()=>{r==="scotch-doubles"?ee&&ee.extensions<A&&(C(G=>G+k),P(!0),d(G=>G.map((ce,Ee)=>Ee===f?{...ce,extensions:ce.extensions+1}:ce)),Z(G=>({...G,totalExtensions:G.totalExtensions+1}))):we&&we.extensions<A&&(C(G=>G+k),P(!0),s(G=>G.map((ce,Ee)=>Ee===a?{...ce,extensions:ce.extensions+1}:ce)),Z(G=>({...G,totalExtensions:G.totalExtensions+1})))},Ye=G=>{const ce=localStorage.getItem(KO),Ee=ce?JSON.parse(ce):[],qe={id:Date.now().toString(),date:new Date().toISOString(),stats:G};Ee.unshift(qe),Ee.length>20&&Ee.pop(),localStorage.setItem(KO,JSON.stringify(Ee))},cn=()=>{var Ee;N(!1),_e();const G={...V,endTime:Date.now(),duration:g,playerMode:r,playerNames:o.map(qe=>qe.name)};let ce=ne.current/1e3;if(Q.current>0&&(ce+=(Date.now()-Q.current)/1e3),ce>0&&b<g&&b>0){G.shotDurations=[...G.shotDurations,Math.max(0,ce)],G.shotCount+=1;const qe={shotIndex:G.shotCount-1,duration:Math.max(0,ce),playerName:r==="scotch-doubles"?(ee==null?void 0:ee.players[m])||"Unknown":r==="two-player"?(we==null?void 0:we.name)||"Unknown":((Ee=o[0])==null?void 0:Ee.name)||"Player 1",teamName:r==="scotch-doubles"?ee==null?void 0:ee.name:void 0,timestamp:Date.now()};G.shotEvents=[...G.shotEvents||[],qe]}ne.current=0,Q.current=0,Z(G),Ye(G),n("summary")},Ot=()=>{_e(),C(g),P(!1),s(G=>G.map(ce=>({...ce,extensions:0}))),d(G=>G.map(ce=>({...ce,extensions:0}))),l(0),h(0),v(0),Z({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),Q.current=0,ne.current=0,n("setup")},pn=G=>{x(G),C(G),_(G)},wr=()=>{x(w),C(w)},mn=()=>{var ce,Ee,qe,pt,Sn,De,Qe,Mn,gn,Ii,ai,Sr;_e(),ge.current=0,r==="two-player"?s([{name:((ce=o[0])==null?void 0:ce.name)||"Player 1",extensions:0},{name:((Ee=o[1])==null?void 0:Ee.name)||"Player 2",extensions:0}]):r==="scotch-doubles"?(d(li=>li.map(na=>({...na,extensions:0}))),h(0),v(0)):s([{name:((qe=o[0])==null?void 0:qe.name)||"Player 1",extensions:0}]),l(0),C(g),P(!1),ne.current=0;let G;r==="scotch-doubles"?G=[`${(pt=c[0])==null?void 0:pt.name}: ${(Sn=c[0])==null?void 0:Sn.players[0]}, ${(De=c[0])==null?void 0:De.players[1]}`,`${(Qe=c[1])==null?void 0:Qe.name}: ${(Mn=c[1])==null?void 0:Mn.players[0]}, ${(gn=c[1])==null?void 0:gn.players[1]}`]:r==="two-player"?G=[((Ii=o[0])==null?void 0:Ii.name)||"Player 1",((ai=o[1])==null?void 0:ai.name)||"Player 2"]:G=[((Sr=o[0])==null?void 0:Sr.name)||"Player 1"],Z({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:Date.now(),duration:g,playerMode:r,playerNames:G}),Q.current=Date.now(),n("playing")},ur=(G,ce)=>{s(Ee=>{const qe=[...Ee];return qe[G]||(qe[G]={name:"",extensions:0}),qe[G]={...qe[G],name:ce},qe})},io=(G,ce)=>{d(Ee=>{const qe=[...Ee];return qe[G]={...qe[G],name:ce},qe})},Xt=(G,ce,Ee)=>{d(qe=>{const pt=[...qe],Sn=[...pt[G].players];return Sn[ce]=Ee,pt[G]={...pt[G],players:Sn},pt})},Gr=()=>{localStorage.setItem(GO,"true"),L(!1),U(1)},Un=()=>V.shotDurations.length===0?0:V.shotDurations.reduce((ce,Ee)=>ce+Ee,0)/V.shotDurations.length,zn=G=>{const ce=Math.floor(G/60),Ee=Math.floor(G%60);return ce>0?`${ce}m ${Ee}s`:`${Ee.toFixed(1)}s`},It=u.jsx(zi,{open:R,onOpenChange:G=>{L(G),G||U(1)},children:u.jsxs(vi,{className:"max-w-md",children:[u.jsxs(xi,{children:[u.jsx(bi,{children:"Welcome to CueMaster: Tempo"}),u.jsx(uc,{className:"sr-only",children:"Shot clock tutorial with game modes, controls, and audio cues"})]}),u.jsxs("div",{className:"space-y-4",children:[B===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"1) Game Modes"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"The Shot Clock helps maintain game pace during practice or competitive play."}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Solo Mode:"})," ",u.jsx("span",{className:"text-muted-foreground",children:"Practice your timing with continuous countdown and interval chimes"})]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Two-Player Mode:"})," ",u.jsx("span",{className:"text-muted-foreground",children:"Alternate between players, each with their own extension bank"})]})]})]}),B===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"2) Controls During Play"}),u.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0",children:u.jsx(Pf,{className:"w-4 h-4 text-primary"})}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Next Shot:"})," Reset clock for next shot (switches player in 2P mode)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold text-primary",children:"+15s"}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Extension:"})," Add 15 seconds (max 3 per player)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-destructive/20 rounded flex items-center justify-center flex-shrink-0",children:u.jsx(km,{className:"w-4 h-4 text-destructive"})}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Stop:"})," End the game and view session stats"]})]})]})]}),B===3&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"3) Visual & Audio Cues"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{children:["Background changes from ",u.jsx("span",{className:"text-green-500 font-semibold",children:"green"}),"  ",u.jsx("span",{className:"text-yellow-500 font-semibold",children:"yellow"}),"  ",u.jsx("span",{className:"text-orange-500 font-semibold",children:"orange"}),"  ",u.jsx("span",{className:"text-red-500 font-semibold",children:"red"})]}),u.jsx("li",{children:"Warning beeps in the final 5 seconds"}),u.jsx("li",{children:"Triple chime when time expires"}),u.jsx("li",{children:"In solo mode with auto-restart, a double chime signals the interval"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ae,{variant:"outline",size:"sm",onClick:()=>U(G=>Math.max(1,G-1)),disabled:B===1,children:"Back"}),u.jsx(ae,{variant:"outline",size:"sm",onClick:()=>U(G=>Math.min(3,G+1)),disabled:B===3,children:"Next"})]}),u.jsx("div",{className:"flex gap-1",children:[1,2,3].map(G=>u.jsx("div",{className:`w-2 h-2 rounded-full ${G===B?"bg-primary":"bg-muted"}`},G))}),u.jsx(ae,{size:"sm",onClick:Gr,"data-testid":"button-complete-tutorial",children:B===3?"Finish":"Skip"})]})]})});if(e==="summary"){const G=Un(),ce=V.endTime?(V.endTime-V.startTime)/1e3:0;return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:Ot,"data-testid":"button-back",children:u.jsx(Jo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Session Summary"})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[u.jsxs(Ue,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:u.jsx(m1,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Session Complete"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:V.playerMode==="two-player"?V.playerNames.join(" vs "):V.playerNames[0]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(IE,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Shot Time"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-avg-duration",children:zn(G)})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Pf,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Shots"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shot-count",children:V.shotCount})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Sh,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Extensions"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-extensions-count",children:V.totalExtensions})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(jE,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeouts"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-timeouts",children:V.timeouts})]})]})]}),u.jsxs(Ue,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Session Details"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Shot Clock Duration"}),u.jsxs("span",{className:"font-medium",children:[V.duration,"s"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Session Time"}),u.jsx("span",{className:"font-medium",children:zn(ce)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Game Mode"}),u.jsx("span",{className:"font-medium capitalize",children:V.playerMode.replace("-"," ")})]})]})]}),V.shotEvents&&V.shotEvents.length>0&&(()=>{const Ee=V.shotEvents.reduce((De,Qe)=>(De[Qe.playerName]||(De[Qe.playerName]={shots:[],total:0,teamName:Qe.teamName}),De[Qe.playerName].shots.push(Qe),De[Qe.playerName].total+=Qe.duration,De),{}),qe=V.shotEvents.reduce((De,Qe)=>(Qe.teamName&&(De[Qe.teamName]||(De[Qe.teamName]={shots:[],total:0}),De[Qe.teamName].shots.push(Qe),De[Qe.teamName].total+=Qe.duration),De),{}),pt=Object.keys(Ee),Sn=Object.keys(qe);return u.jsxs(u.Fragment,{children:[Sn.length>0&&u.jsxs(Ue,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Team Averages"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:Sn.map(De=>{const Qe=qe[De],Mn=Qe.total/Qe.shots.length;return u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[u.jsx("span",{className:"font-medium text-foreground",children:De}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-primary",children:zn(Mn)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",Qe.shots.length," shots)"]})]})]},De)})})]}),u.jsxs(Ue,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Player Averages"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:pt.map(De=>{const Qe=Ee[De],Mn=Qe.total/Qe.shots.length;return u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-foreground",children:De}),Qe.teamName&&u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",Qe.teamName,")"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-primary",children:zn(Mn)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",Qe.shots.length," shots)"]})]})]},De)})})]}),u.jsxs(Ue,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Shot Duration Over Time"}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:pt.map(De=>{const Qe=Ee[De],Mn=Qe.shots.map((gn,Ii)=>({shot:Ii+1,duration:parseFloat(gn.duration.toFixed(1))}));return u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(sN,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"font-medium text-foreground",children:De}),Qe.teamName&&u.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Qe.teamName,")"]})]}),u.jsx("div",{className:"h-40",children:u.jsx(kye,{width:"100%",height:"100%",children:u.jsxs(jCe,{data:Mn,children:[u.jsx(N0,{dataKey:"shot",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),u.jsx(I0,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:gn=>`${gn}s`}),u.jsx(Uo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelFormatter:gn=>`Shot ${gn}`,formatter:gn=>[`${gn}s`,"Duration"]}),u.jsx(em,{type:"monotone",dataKey:"duration",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:3},activeDot:{r:5}})]})})})]},De)})})]})]})})(),u.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Session saved to history"}),u.jsxs(ae,{onClick:Ot,className:"w-full",size:"lg","data-testid":"button-new-session",children:[u.jsx(Wf,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})})]})}if(e==="paused")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:ht,"data-testid":"button-back",children:u.jsx(Jo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Game Paused"})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:u.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[u.jsxs(Ue,{className:"p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(m$,{className:"w-8 h-8 text-primary"})}),u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Timer Paused"}),u.jsxs("p",{className:"text-muted-foreground mb-4",children:["Time remaining: ",u.jsxs("span",{className:"font-mono font-bold text-foreground",children:[b,"s"]})]}),u.jsx("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Shots"}),u.jsx("p",{className:"font-bold text-lg",children:V.shotCount})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Extensions"}),u.jsx("p",{className:"font-bold text-lg",children:V.totalExtensions})]})]})}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session is preserved. Resume to continue or return to the main menu."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(ae,{onClick:ht,className:"w-full",size:"lg","data-testid":"button-resume",children:[u.jsx(Wf,{className:"w-5 h-5 mr-2"}),"Resume Game"]}),u.jsxs(ae,{onClick:at,variant:"outline",className:"w-full",size:"lg","data-testid":"button-return-menu",children:[u.jsx(vW,{className:"w-5 h-5 mr-2"}),"Return to Main Menu"]}),u.jsxs(ae,{onClick:cn,variant:"destructive",className:"w-full",size:"lg","data-testid":"button-end-session",children:[u.jsx(km,{className:"w-5 h-5 mr-2"}),"End Session"]})]})]})})]});if(e==="setup")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Jo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Shot Clock Setup"}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>L(!0),"data-testid":"button-tutorial",children:u.jsx(cx,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[u.jsxs(Ue,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Game Mode"}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(ae,{variant:r==="solo"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("solo"),"data-testid":"button-mode-solo",children:[u.jsx(sN,{className:"w-4 h-4 mr-2"}),"Solo"]}),u.jsxs(ae,{variant:r==="two-player"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("two-player"),"data-testid":"button-mode-two-player",children:[u.jsx(du,{className:"w-4 h-4 mr-2"}),"Two Players"]}),u.jsxs(ure,{isLocked:!0,variant:r==="scotch-doubles"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("scotch-doubles"),"data-testid":"button-mode-scotch-doubles",children:[u.jsx(du,{className:"w-4 h-4 mr-2"}),"Scotch Doubles"]})]}),r==="scotch-doubles"&&u.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:`Partners alternate shots within their team's turn. Use "Next Shot" to switch to the other team.`})]}),r==="scotch-doubles"?u.jsxs(Ue,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams & Players"}),u.jsx("div",{className:"space-y-6",children:[0,1].map(G=>{var ce,Ee,qe;return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs(dn,{htmlFor:`team${G+1}-name`,children:["Team ",G+1," Name"]}),u.jsx(or,{id:`team${G+1}-name`,value:((ce=c[G])==null?void 0:ce.name)||"",onChange:pt=>io(G,pt.target.value),placeholder:`Team ${G+1}`,className:"mt-1","data-testid":`input-team${G+1}-name`})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx(dn,{htmlFor:`team${G+1}-player1`,children:"Partner 1"}),u.jsx(or,{id:`team${G+1}-player1`,value:((Ee=c[G])==null?void 0:Ee.players[0])||"",onChange:pt=>Xt(G,0,pt.target.value),placeholder:"Partner 1",className:"mt-1","data-testid":`input-team${G+1}-player1`})]}),u.jsxs("div",{children:[u.jsx(dn,{htmlFor:`team${G+1}-player2`,children:"Partner 2"}),u.jsx(or,{id:`team${G+1}-player2`,value:((qe=c[G])==null?void 0:qe.players[1])||"",onChange:pt=>Xt(G,1,pt.target.value),placeholder:"Partner 2",className:"mt-1","data-testid":`input-team${G+1}-player2`})]})]})]},G)})})]}):u.jsxs(Ue,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Player Names"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(dn,{htmlFor:"player1-name",children:r==="solo"?"Your Name":"Player 1"}),u.jsx(or,{id:"player1-name",value:((_r=o[0])==null?void 0:_r.name)||"",onChange:G=>ur(0,G.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player1-name"})]}),r==="two-player"&&u.jsxs("div",{children:[u.jsx(dn,{htmlFor:"player2-name",children:"Player 2"}),u.jsx(or,{id:"player2-name",value:((dr=o[1])==null?void 0:dr.name)||"",onChange:G=>ur(1,G.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player2-name"})]})]})]}),u.jsxs(Ue,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shot Duration"}),u.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:[30,45,60,90].map(G=>u.jsxs(ae,{variant:g===G?"default":"outline",onClick:()=>pn(G),"data-testid":`button-preset-${G}`,children:[G,"s"]},G))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(or,{type:"number",min:"5",max:"300",value:w,onChange:G=>_(parseInt(G.target.value)||30),className:"flex-1","data-testid":"input-custom-duration"}),u.jsx(ae,{onClick:wr,variant:"outline","data-testid":"button-apply-custom",children:"Apply"})]})]}),r==="solo"&&u.jsx(Ue,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Continuous Play"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-chime at each interval for timing practice"})]}),u.jsx(Hi,{checked:I,onCheckedChange:O,"data-testid":"switch-auto-restart"})]})}),u.jsxs(ae,{onClick:mn,className:"w-full",size:"lg","data-testid":"button-start-game",children:[u.jsx(Wf,{className:"w-5 h-5 mr-2"}),"Start Game"]})]})}),It]});const en=()=>{b===0?(C(g),P(!1),Q.current=Date.now(),N(!0)):E?pe():he()};return u.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-[2] relative min-h-0",children:[u.jsx(kCe,{seconds:b,totalSeconds:g,playerName:r==="solo"?we==null?void 0:we.name:void 0,isExtension:S,isRunning:E,onClick:en}),u.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[u.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-white text-xs font-mono","data-testid":"text-shot-counter",children:["Shot ",V.shotCount+1]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ae,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto",onClick:Oe,"data-testid":"button-pause-menu",children:u.jsx(wW,{className:"w-5 h-5"})}),u.jsxs(zi,{children:[u.jsx(xte,{asChild:!0,children:u.jsx(ae,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto","data-testid":"button-settings",children:u.jsx(NE,{className:"w-5 h-5"})})}),u.jsxs(vi,{children:[u.jsx(xi,{children:u.jsx(bi,{children:"Quick Settings"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(dn,{children:"Shot Duration"}),u.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:[30,45,60].map(G=>u.jsxs(ae,{variant:g===G?"default":"outline",size:"sm",onClick:()=>{pn(G),E||C(G)},"data-testid":`button-quick-${G}`,children:[G,"s"]},G))})]}),r==="solo"&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(dn,{children:"Continuous Play"}),u.jsx(Hi,{checked:I,onCheckedChange:O,"data-testid":"switch-continuous-play"})]})]})]})]})]})]}),r==="two-player"&&u.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"player-toggle-container",children:u.jsx("div",{className:"w-3/4 mx-auto flex items-center justify-center pointer-events-auto bg-neutral-800/50 rounded-lg overflow-hidden",children:o.map((G,ce)=>u.jsx("button",{onClick:()=>{a!==ce&&(l(ce),C(g),P(!1),me())},className:`flex-1 px-4 py-3 text-base font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${a===ce?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`player-toggle-${ce+1}`,children:G.name},ce))})}),r==="scotch-doubles"&&u.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"team-toggle-container",children:u.jsxs("div",{className:"w-full mx-auto flex flex-col items-center gap-2 pointer-events-auto",children:[u.jsx("div",{className:"flex items-center justify-center bg-neutral-800/50 rounded-lg overflow-hidden w-3/4",children:c.map((G,ce)=>u.jsx("button",{onClick:()=>{f!==ce&&(h(ce),v(0),C(g),P(!1),me())},className:`flex-1 px-4 py-2 text-sm font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${f===ce?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`team-toggle-${ce+1}`,children:G.name},ce))}),u.jsxs("div",{className:"text-white text-center text-lg font-semibold bg-black/40 px-4 py-1 rounded-full","data-testid":"text-current-shooter",children:["Shooting: ",ee==null?void 0:ee.players[m]]})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-4 pointer-events-none",children:u.jsxs("button",{onClick:ve,disabled:r==="scotch-doubles"?((ee==null?void 0:ee.extensions)||0)>=A||b===0:((we==null?void 0:we.extensions)||0)>=A||b===0,className:"w-full py-4 bg-black/50 backdrop-blur-sm hover:bg-black/60 active:bg-black/70 disabled:opacity-40 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-3 pointer-events-auto transition-colors focus:outline-none","data-testid":"button-extension",children:[u.jsxs("span",{className:"text-white font-bold text-lg",children:["+",k,"s EXTENSION"]}),u.jsxs("span",{className:"text-white/70 font-mono text-base","data-testid":"text-extensions",children:["(",r==="scotch-doubles"?(ee==null?void 0:ee.extensions)||0:(we==null?void 0:we.extensions)||0,"/",A," used)"]})]})})]}),r==="scotch-doubles"?u.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[u.jsxs("button",{onClick:cn,className:"w-1/5 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[u.jsx(km,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),u.jsx("span",{className:"text-xs md:text-base font-bold text-white tracking-wide",children:"STOP"})]}),u.jsxs("button",{onClick:Rt,className:"w-2/5 bg-amber-500 hover:bg-amber-500/90 active:bg-amber-500/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-next-partner",children:[u.jsx(du,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),u.jsx("span",{className:"text-sm md:text-xl font-bold text-white tracking-wide",children:"PARTNER"}),u.jsx("span",{className:"text-xs text-white/70",children:"Same Team"})]}),u.jsxs("button",{onClick:Ct,className:"w-2/5 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none","data-testid":"button-next-shot",children:[u.jsx(Pf,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),u.jsx("span",{className:"text-lg md:text-2xl font-bold text-white tracking-wide",children:"NEXT"}),u.jsx("span",{className:"text-xs text-white/70",children:"Switch Team"})]})]}):u.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[u.jsxs("button",{onClick:cn,className:"w-1/4 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[u.jsx(km,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),u.jsx("span",{className:"text-base md:text-xl font-bold text-white tracking-wide",children:"STOP"})]}),u.jsxs("button",{onClick:Ct,className:"w-3/4 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-2 focus:outline-none","data-testid":"button-next-shot",children:[u.jsx(Pf,{className:"w-12 h-12 md:w-16 md:h-16 text-white"}),u.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tracking-wide",children:"NEXT SHOT"})]})]})]})}function RCe({tiltX:t,tiltY:e,isCalibrating:n=!1}){const i=Math.max(-40,Math.min(40,t/5*40)),o=Math.max(-40,Math.min(40,e/5*40)),s=Math.sqrt(t*t+e*e),a=s<.5;return u.jsxs("div",{className:"flex flex-col items-center gap-6",children:[u.jsxs("div",{className:"relative w-64 h-64 rounded-full border-4 border-foreground bg-card","data-testid":"gauge-bubble-level",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-px h-full bg-muted"}),u.jsx("div",{className:"absolute w-full h-px bg-muted"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg transition-all duration-150",style:{transform:`translate(${i}px, ${o}px)`,opacity:n?.5:1}})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${a?"border-green-500":"border-muted"}`})})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-3xl font-mono font-bold text-foreground","data-testid":"text-tilt-value",children:[s.toFixed(2),""]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:a?"Level":"Not Level"})]})]})}function SU({open:t,onComplete:e,pages:n,toolName:r}){const[i,o]=y.useState(0),s=y.useRef(0),a=y.useRef(0),l=n[i],c=h=>{s.current=h.touches[0].clientX,a.current=h.touches[0].clientY},d=h=>{const m=h.changedTouches[0].clientX,v=h.changedTouches[0].clientY,g=m-s.current,x=v-a.current;Math.abs(g)>Math.abs(x)&&Math.abs(g)>50&&(g>0&&i>0?o(w=>w-1):g<0&&i<n.length-1&&o(w=>w+1))},f=()=>{o(0),e()};return u.jsx(zi,{open:t,onOpenChange:f,children:u.jsx(vi,{className:"max-w-md [&>button]:hidden",onTouchStart:c,onTouchEnd:d,children:u.jsxs("div",{className:"py-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),u.jsx("h2",{className:"text-xl font-bold",children:l.title})]}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8","data-testid":"button-close-tutorial",children:u.jsx(Bu,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"min-h-[200px]",children:l.content}),u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsxs(ae,{variant:"ghost",onClick:()=>o(h=>Math.max(0,h-1)),disabled:i===0,"data-testid":"button-tutorial-prev",children:[u.jsx(hW,{className:"w-4 h-4 mr-1"}),"Back"]}),u.jsx("div",{className:"flex gap-2",children:n.map((h,m)=>u.jsx("button",{onClick:()=>o(m),className:`h-2 w-2 rounded-full transition-colors ${m===i?"bg-primary":"bg-muted hover:bg-muted-foreground/30"}`,"data-testid":`tutorial-indicator-${m}`},m))}),i<n.length-1?u.jsxs(ae,{onClick:()=>o(h=>Math.min(n.length-1,h+1)),"data-testid":"button-tutorial-next",children:["Next",u.jsx(h$,{className:"w-4 h-4 ml-1"})]}):u.jsx(ae,{onClick:f,"data-testid":"button-tutorial-done",children:"Got It"})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Swipe left/right to navigate"})]})})})}const YO="tableLevel_tutorial_seen";function MCe(){const[,t]=cl(),{toast:e}=Ed(),[n,r]=y.useState(0),[i,o]=y.useState(0),[s,a]=y.useState({x:0,y:0}),[l,c]=y.useState("home"),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[v,g]=y.useState(!1),[x,w]=y.useState(null),_=y.useRef(null),b=y.useRef(null),C=[{title:"How It Works",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"The Table Level Gauge uses your device's orientation sensors to detect table tilt."}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Requirements:"})," Works best on mobile devices or tablets with gyroscope/accelerometer sensors."]})}),u.jsx("p",{className:"mt-3",children:"The bubble indicator shows deviation from level - just like a carpenter's level but in all directions!"})]})},{title:"Calibration",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"For accurate readings, calibrate on a known level surface:"}),u.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[u.jsx("li",{children:"Place your device flat on a surface you know is level"}),u.jsxs("li",{children:["Tap ",u.jsx("strong",{className:"text-foreground",children:'"Calibrate Current Preset"'})]}),u.jsx("li",{children:"Hold still for 2 seconds while it samples"}),u.jsx("li",{children:"The bubble will now show deviation from this reference"})]}),u.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Tip:"})," Use a known-level surface like a properly installed countertop for initial calibration."]})})]})},{title:"Presets",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Save different calibrations for different locations:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Home:"})," Your home practice table"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"League:"})," Your regular league venue"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Tournament:"})," Competition tables"]})]}),u.jsx("p",{className:"mt-3",children:"Tap a preset to load it, then calibrate and save to store your settings."}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Usage:"})," Place your device on the table surface. A centered bubble means the table is level relative to your calibrated reference."]})})]})}];y.useEffect(()=>(Pt.startSession("truelevel"),()=>{Pt.endSession()}),[]),y.useEffect(()=>{localStorage.getItem(YO)||g(!0)},[]);const E=()=>{localStorage.setItem(YO,"true"),g(!1)};y.useEffect(()=>{(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{const k=await DeviceOrientationEvent.requestPermission();m(k==="granted")}catch{e({title:"Permission denied",description:"Device orientation access is required for this feature",variant:"destructive"})}else m(!0)})()},[e]),y.useEffect(()=>{if(!h)return;let A=!1;const k=I=>{I.beta!==null&&I.gamma!==null&&(A||(A=!0,w(!0),_.current&&clearTimeout(_.current)),b.current={beta:I.beta,gamma:I.gamma},r(I.gamma-s.x),o(I.beta-s.y-90))};return window.addEventListener("deviceorientation",k),_.current=setTimeout(()=>{A||(w(!1),e({title:"No orientation sensor detected",description:"This feature requires a device with gyroscope/accelerometer (mobile phone or tablet).",variant:"destructive"}))},2e3),()=>{window.removeEventListener("deviceorientation",k),_.current&&clearTimeout(_.current)}},[s,h,e]);const N=()=>{if(x===!1||x===null){e({title:"Cannot calibrate",description:"No orientation sensor detected. Please use a mobile device with gyroscope support.",variant:"destructive"});return}f(!0);const A=[];let k=0;const I=10,O=()=>{if(b.current&&(A.push({x:b.current.gamma,y:b.current.beta-90}),k++,k>=I)){const R=A.reduce((B,U)=>B+U.x,0)/A.length,L=A.reduce((B,U)=>B+U.y,0)/A.length;a({x:R,y:L}),f(!1),localStorage.setItem(`tableLevel_${l}`,JSON.stringify({x:R,y:L})),Pt.trackSkillMetric("truelevel","calibration",1,{preset:l}),e({title:"Calibration complete",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`});return}k<I&&setTimeout(O,150)};setTimeout(()=>{if(!b.current){f(!1),e({title:"Calibration failed",description:"No sensor data available. Make sure your device has orientation sensors and they are enabled.",variant:"destructive"});return}O()},300)},S=A=>{c(A);const k=localStorage.getItem(`tableLevel_${A}`);k&&(a(JSON.parse(k)),e({title:"Preset loaded",description:`${A.charAt(0).toUpperCase()+A.slice(1)} calibration applied`}))},P=()=>{localStorage.setItem(`tableLevel_${l}`,JSON.stringify(s)),e({title:"Preset saved",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`})};return h?u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(SU,{open:v,onComplete:E,pages:C,toolName:"Table Level Gauge"}),u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Jo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Table Level Gauge"}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>g(!0),"data-testid":"button-tutorial",children:u.jsx(cx,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 overflow-auto p-6",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[x===!1&&u.jsx(Ue,{className:"p-4 border-destructive bg-destructive/10",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(jE,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-destructive mb-1",children:"No Orientation Sensor Detected"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This feature requires a device with gyroscope/accelerometer sensors (typically a smartphone or tablet)."}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded",children:[u.jsx(jW,{className:"w-4 h-4"}),u.jsx("span",{children:"Open this page on your mobile device to use the level gauge"})]})]})]})}),x===null&&u.jsx(Ue,{className:"p-4 border-muted",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Detecting orientation sensors..."})]})}),u.jsx("div",{className:"flex justify-center",children:u.jsx(RCe,{tiltX:n,tiltY:i,isCalibrating:d})}),u.jsxs(Ue,{className:"p-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Calibration Presets"}),u.jsx(uP,{isLocked:!0,featureName:"Calibration Presets",variant:"overlay",children:u.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[u.jsx(ae,{variant:l==="home"?"default":"outline",onClick:()=>S("home"),"data-testid":"button-preset-home",children:"Home"}),u.jsx(ae,{variant:l==="league"?"default":"outline",onClick:()=>S("league"),"data-testid":"button-preset-league",children:"League"}),u.jsx(ae,{variant:l==="tournament"?"default":"outline",onClick:()=>S("tournament"),"data-testid":"button-preset-tournament",children:"Tournament"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ae,{className:"flex-1",onClick:N,disabled:d||x===!1,"data-testid":"button-calibrate",children:d?"Calibrating...":"Calibrate Current Preset"}),u.jsx(ae,{variant:"outline",onClick:P,disabled:x===!1,"data-testid":"button-save-preset",children:"Save"})]})]})]})})]}):u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Jo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Table Level Gauge"})]}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:u.jsxs(Ue,{className:"p-6 max-w-md text-center",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permission Required"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This feature requires access to your device's orientation sensors to measure table level."}),u.jsx(ae,{onClick:()=>window.location.reload(),children:"Grant Permission"})]})})]})}var EU=["PageUp","PageDown"],TU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],PU={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Yd="Slider",[TS,DCe,$Ce]=Np(Yd),[AU,MNe]=Ni(Yd,[$Ce]),[LCe,k0]=AU(Yd),CU=y.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:v,...g}=t,x=y.useRef(new Set),w=y.useRef(0),b=s==="horizontal"?FCe:VCe,[C=[],E]=Co({prop:d,defaultProp:c,onChange:I=>{var R;(R=[...x.current][w.current])==null||R.focus(),f(I)}}),N=y.useRef(C);function S(I){const O=HCe(C,I);k(I,O)}function P(I){k(I,w.current)}function A(){const I=N.current[w.current];C[w.current]!==I&&h(C)}function k(I,O,{commit:R}={commit:!1}){const L=YCe(o),B=XCe(Math.round((I-r)/o)*o+r,L),U=Fh(B,[r,i]);E((W=[])=>{const F=zCe(W,U,O);if(KCe(F,l*o)){w.current=F.indexOf(U);const V=String(F)!==String(W);return V&&R&&h(F),V?F:W}else return W})}return u.jsx(LCe,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:w,thumbs:x.current,values:C,orientation:s,form:v,children:u.jsx(TS.Provider,{scope:t.__scopeSlider,children:u.jsx(TS.Slot,{scope:t.__scopeSlider,children:u.jsx(b,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:je(g.onPointerDown,()=>{a||(N.current=C)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:S,onSlideMove:a?void 0:P,onSlideEnd:a?void 0:A,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(i,C.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:O})=>{if(!a){const B=EU.includes(I.key)||I.shiftKey&&TU.includes(I.key)?10:1,U=w.current,W=C[U],F=o*B*O;k(W+F,U,{commit:!0})}}})})})})});CU.displayName=Yd;var[NU,IU]=AU(Yd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),FCe=y.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,[f,h]=y.useState(null),m=ft(e,b=>h(b)),v=y.useRef(void 0),g=Md(i),x=g==="ltr",w=x&&!o||!x&&o;function _(b){const C=v.current||f.getBoundingClientRect(),E=[0,C.width],S=pA(E,w?[n,r]:[r,n]);return v.current=C,S(b-C.left)}return u.jsx(NU,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:u.jsx(jU,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const C=_(b.clientX);s==null||s(C)},onSlideMove:b=>{const C=_(b.clientX);a==null||a(C)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:b=>{const E=PU[w?"from-left":"from-right"].includes(b.key);c==null||c({event:b,direction:E?-1:1})}})})}),VCe=y.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...c}=t,d=y.useRef(null),f=ft(e,d),h=y.useRef(void 0),m=!i;function v(g){const x=h.current||d.current.getBoundingClientRect(),w=[0,x.height],b=pA(w,m?[r,n]:[n,r]);return h.current=x,b(g-x.top)}return u.jsx(NU,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:u.jsx(jU,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const x=v(g.clientY);o==null||o(x)},onSlideMove:g=>{const x=v(g.clientY);s==null||s(x)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const w=PU[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:w?-1:1})}})})}),jU=y.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...c}=t,d=k0(Yd,n);return u.jsx(Fe.span,{...c,ref:e,onKeyDown:je(t.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):EU.concat(TU).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:je(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:je(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:je(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),kU="SliderTrack",OU=y.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=k0(kU,n);return u.jsx(Fe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});OU.displayName=kU;var PS="SliderRange",RU=y.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=k0(PS,n),o=IU(PS,n),s=y.useRef(null),a=ft(e,s),l=i.values.length,c=i.values.map(h=>DU(h,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(Fe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});RU.displayName=PS;var AS="SliderThumb",MU=y.forwardRef((t,e)=>{const n=DCe(t.__scopeSlider),[r,i]=y.useState(null),o=ft(e,a=>i(a)),s=y.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return u.jsx(BCe,{...t,ref:o,index:s})}),BCe=y.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,s=k0(AS,n),a=IU(AS,n),[l,c]=y.useState(null),d=ft(e,_=>c(_)),f=l?s.form||!!l.closest("form"):!0,h=VE(l),m=s.values[r],v=m===void 0?0:DU(m,s.min,s.max),g=WCe(r,s.values.length),x=h==null?void 0:h[a.size],w=x?qCe(x,v,a.direction):0;return y.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${w}px)`},children:[u.jsx(TS.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(Fe.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:je(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),f&&u.jsx(UCe,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:m},r)]})});MU.displayName=AS;var UCe=t=>{const{value:e,...n}=t,r=y.useRef(null),i=UT(e);return y.useEffect(()=>{const o=r.current,s=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(o,e),o.dispatchEvent(c)}},[i,e]),u.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function zCe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function DU(t,e,n){const o=100/(n-e)*(t-e);return Fh(o,[0,100])}function WCe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function HCe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function qCe(t,e,n){const r=t/2,o=pA([0,50],[0,r]);return(r-o(e)*n)*n}function GCe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function KCe(t,e){if(e>0){const n=GCe(t);return Math.min(...n)>=e}return!0}function pA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function YCe(t){return(String(t).split(".")[1]||"").length}function XCe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var $U=CU,QCe=OU,JCe=RU,ZCe=MU;const Uc=y.forwardRef(({className:t,...e},n)=>u.jsxs($U,{ref:n,className:st("relative flex w-full touch-none select-none items-center",t),...e,children:[u.jsx(QCe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(JCe,{className:"absolute h-full bg-primary"})}),u.jsx(ZCe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Uc.displayName=$U.displayName;const XO="cueEmulator_tutorial_seen",Re=14,rn=1600,yn=800,Me=24,QO=.05,JO=.2,zc=28,eNe=(rn-Me*2)/8,tNe=(yn-Me*2)/4,Ce=Array.from({length:9},(t,e)=>Me+e*eNe),Ne=Array.from({length:5},(t,e)=>Me+e*tNe),wf=[{x:Me,y:Me,angle:Math.PI/4},{x:rn/2,y:Me-2,angle:Math.PI/2},{x:rn-Me,y:Me,angle:3*Math.PI/4},{x:Me,y:yn-Me,angle:-Math.PI/4},{x:rn/2,y:yn-Me+2,angle:-Math.PI/2},{x:rn-Me,y:yn-Me,angle:-3*Math.PI/4}],nNe=zc+Re*.5,lo={1:{name:"Yellow",color:"#FDB515",solid:!0},2:{name:"Blue",color:"#003DA5",solid:!0},3:{name:"Red",color:"#DC143C",solid:!0},4:{name:"Purple",color:"#8A2BE2",solid:!0},5:{name:"Orange",color:"#FF8C00",solid:!0},6:{name:"Green",color:"#228B22",solid:!0},7:{name:"Maroon",color:"#800000",solid:!0},8:{name:"Black",color:"#000000",solid:!0},9:{name:"Yellow Stripe",color:"#FDB515",solid:!1},10:{name:"Blue Stripe",color:"#003DA5",solid:!1},11:{name:"Red Stripe",color:"#DC143C",solid:!1},12:{name:"Purple Stripe",color:"#8A2BE2",solid:!1},13:{name:"Orange Stripe",color:"#FF8C00",solid:!1},14:{name:"Green Stripe",color:"#228B22",solid:!1},15:{name:"Maroon Stripe",color:"#800000",solid:!1}},rNe={par2_01:{name:"Par 2 - Course 1",balls:[{x:Ce[6],y:Ne[2]},{x:Ce[1],y:Ne[3]}]},par2_02:{name:"Par 2 - Course 2",balls:[{x:Ce[7],y:Ne[1]},{x:Ce[1],y:Ne[2]}]},par2_03:{name:"Par 2 - Course 3",balls:[{x:Ce[1],y:Ne[3]},{x:Ce[7],y:Ne[3]}]},par3_01:{name:"Par 3 - Course 1",balls:[{x:Ce[4],y:Ne[1]},{x:Ce[1],y:Ne[3]},{x:Ce[7],y:Ne[3]}]},par3_02:{name:"Par 3 - Course 2",balls:[{x:Ce[2],y:Ne[2]},{x:Ce[4],y:Ne[2]},{x:Ce[2],y:Ne[3]}]},par3_03:{name:"Par 3 - Course 3",balls:[{x:Ce[4],y:Ne[1]},{x:Ce[4],y:Ne[2]},{x:Ce[4],y:Ne[3]}]},par3_04:{name:"Par 3 - Course 4",balls:[{x:Ce[7],y:Ne[1]},{x:Ce[6],y:Ne[2]},{x:Ce[5],y:Ne[2]}]},par4_01:{name:"Par 4 - Course 1",balls:[{x:Ce[4],y:Ne[1]},{x:Ce[3],y:Ne[2]},{x:Ce[5],y:Ne[2]},{x:Ce[4],y:Ne[3]}]},par4_02:{name:"Par 4 - Course 2",balls:[{x:Ce[4],y:Ne[1]},{x:Ce[3],y:Ne[2]},{x:Ce[5],y:Ne[2]},{x:Ce[4],y:Ne[3]}]},par4_03:{name:"Par 4 - Course 3",balls:[{x:Ce[4],y:Ne[1]},{x:Ce[3],y:Ne[2]},{x:Ce[1],y:Ne[3]},{x:Ce[7],y:Ne[3]}]},par4_04:{name:"Par 4 - Course 4",balls:[{x:Ce[4],y:Ne[1]},{x:Ce[6],y:Ne[2]},{x:Ce[4],y:Ne[2]},{x:Ce[2],y:Ne[2]}]},par4_05:{name:"Par 4 - Course 5",balls:[{x:Ce[3],y:Ne[1]},{x:Ce[4],y:Ne[2]},{x:Ce[5],y:Ne[1]},{x:Ce[4],y:Ne[1]}]},par5_01:{name:"Par 5 - Course 1",balls:[{x:Ce[1],y:Ne[1]},{x:Ce[7],y:Ne[1]},{x:Ce[3],y:Ne[2]},{x:Ce[5],y:Ne[2]},{x:Ce[4],y:Ne[1]}]},par5_02:{name:"Par 5 - Course 2",balls:[{x:Ce[4],y:Ne[1]},{x:Ce[3],y:Ne[2]},{x:Ce[4],y:Ne[2]},{x:Ce[5],y:Ne[2]},{x:Ce[4],y:Ne[3]}]},par5_03:{name:"Par 5 - Course 3",balls:[{x:Ce[3],y:Ne[1]},{x:Ce[5],y:Ne[1]},{x:Ce[4],y:Ne[2]},{x:Ce[3],y:Ne[3]},{x:Ce[5],y:Ne[3]}]},par6_01:{name:"Par 6 - Course 1",balls:[{x:Ce[1],y:Ne[1]},{x:Ce[7],y:Ne[1]},{x:Ce[1],y:Ne[2]},{x:Ce[7],y:Ne[2]},{x:Ce[1],y:Ne[3]},{x:Ce[7],y:Ne[3]}]}};function iNe(){const[,t]=cl(),{toast:e}=Ed(),n=y.useRef(null),[r,i]=y.useState(null),[o,s]=y.useState([]),[a,l]=y.useState(null),[c,d]=y.useState(null),[f,h]=y.useState(!0),[m,v]=y.useState(!1),[g,x]=y.useState(null),[w,_]=y.useState(null),[b,C]=y.useState(null),[E,N]=y.useState(.5),[S,P]=y.useState(0),[A,k]=y.useState(0),[I,O]=y.useState(.5),[R,L]=y.useState(.5),[B,U]=y.useState("9ft"),[W,F]=y.useState(!1),[V,Z]=y.useState([]),[Q,ne]=y.useState(""),[ge,Ae]=y.useState(null),[Ve,Ke]=y.useState(null),[me,we]=y.useState(null),[ee,he]=y.useState([null,null,null]),[pe,K]=y.useState(!1),_e=y.useRef(null),[Oe,ht]=y.useState(!1),[at,Ct]=y.useState(0),[Rt,ve]=y.useState([]),[Ye,cn]=y.useState([]);y.useState(new Set);const Ot=y.useRef(null),pn=y.useRef(0),[wr,mn]=y.useState(!1),[ur,io]=y.useState(!1);y.useEffect(()=>{const M=()=>{io(window.innerWidth>window.innerHeight)};return M(),window.addEventListener("resize",M),window.addEventListener("orientationchange",M),()=>{window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M)}},[]),y.useEffect(()=>(Pt.startSession("vectors"),()=>{Pt.endSession()}),[]);const Xt=[{title:"Ball Placement",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Place balls on the table using the control buttons:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cue:"})," Place the white cue ball"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Solid:"})," Add solid balls 1-7 in order"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Stripe:"})," Add stripe balls 9-15 in order"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Reposition:"})," Click and drag any ball to move it"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Clear:"})," Remove all balls from the table"]})]}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Tip:"})," Enable Snap-to-Grid for precise ball placement with a visible grid overlay."]})})]})},{title:"Aiming & Shooting",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Click and drag from the cue ball to aim your shot:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"White line:"})," Shows cue ball trajectory"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Ghost ball:"})," Dashed circle at contact point"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Colored lines:"})," Object ball trajectories after impact"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Red tangent:"})," Cue ball deflection after contact"]})]}),u.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Cut Angle & Ball Hit:"})," Displayed below the table showing the angle and hit fraction (Full, 3/4, 1/2, 1/4, Thin)."]})})]})},{title:"Power & English",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Adjust shot power and spin for realistic physics:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Power Slider:"})," 0-100% shot power"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"English Box:"})," Click to apply side spin and follow/draw"]})]}),u.jsxs("p",{className:"mt-3",children:["Click ",u.jsx("strong",{children:'"Simulate Shot"'})," to execute your shot with physics simulation including:"]}),u.jsxs("ul",{className:"space-y-1 mt-2",children:[u.jsx("li",{children:"Ball-to-ball collisions with spin transfer"}),u.jsx("li",{children:"Rail bounces with cushion effects"}),u.jsx("li",{children:"Pocket detection for pocketed balls"})]})]})},{title:"Table Conditions",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Customize the playing environment:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cloth Speed:"})," Affects ball friction (slow to fast felt)"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cushion Quality:"})," Affects rail bounce (dead to lively)"]})]}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Presets:"})," Save your table conditions to 3 slots. Long-press a slot to save, tap to load."]})}),u.jsxs("p",{className:"mt-3",children:["Use ",u.jsx("strong",{children:"Practice Courses"})," to load preset ball configurations from Par 2 to Par 6 difficulty!"]})]})}];y.useEffect(()=>{localStorage.getItem(XO)||K(!0)},[]);const Gr=()=>{localStorage.setItem(XO,"true"),K(!1)};y.useEffect(()=>{const M=localStorage.getItem("cueEmulator_tablePresets");if(M)try{const $=JSON.parse(M);Array.isArray($)&&$.length===3&&he($)}catch($){console.error("Failed to load table presets:",$)}},[]);const Un=M=>{const $=[...ee];$[M]={clothSpeed:I,cushionQuality:R,name:`Slot ${M+1}`},he($),localStorage.setItem("cueEmulator_tablePresets",JSON.stringify($)),e({title:`Saved to Slot ${M+1}`,description:`Cloth: ${Math.round(I*100)}%, Cushion: ${Math.round(R*100)}%`})},zn=M=>{const $=ee[M];$?(O($.clothSpeed),L($.cushionQuality),e({title:`Loaded Slot ${M+1}`,description:`Cloth: ${Math.round($.clothSpeed*100)}%, Cushion: ${Math.round($.cushionQuality*100)}%`})):e({title:`Slot ${M+1} is empty`,description:"Long-press to save current settings"})},It=M=>{_e.current=setTimeout(()=>{Un(M),_e.current=null},600)},en=M=>{_e.current&&(clearTimeout(_e.current),_e.current=null,zn(M))},_r=y.useCallback(()=>.85+.1*R,[R]),dr=y.useCallback(()=>{const M={"7ft":{lengthInches:78,widthInches:39,label:"7ft (Bar Box)"},"8ft":{lengthInches:88,widthInches:44,label:"8ft (Standard)"},"9ft":{lengthInches:100,widthInches:50,label:"9ft (Professional)"},"10ft":{lengthInches:112,widthInches:56,label:"10ft (Snooker)"}};return M[B]||M["9ft"]},[B]),G=y.useCallback(()=>{const{lengthInches:$}=dr();return $/100},[dr]),ce=y.useCallback(()=>{const M=.3-.15*I,Y=1+(1-G())*.3;return M*Y},[I,G]),Ee=y.useCallback((M,$)=>{for(const Y of wf){const J=M-Y.x,te=$-Y.y;if(Math.sqrt(J*J+te*te)<nNe)return!0}return!1},[]),qe=y.useCallback((M,$)=>{const Y=Me+Re,J=rn-Me-Re,te=Me+Re,ie=yn-Me-Re;let ue=Math.max(Y,Math.min(J,M)),be=Math.max(te,Math.min(ie,$));if(Ee(ue,be)){let de=ue,Te=be,Ze=1/0;for(const xe of Ce)for(const it of Ne)if(xe>=Y&&xe<=J&&it>=te&&it<=ie&&!Ee(xe,it)){const mt=Math.sqrt((M-xe)**2+($-it)**2);mt<Ze&&(Ze=mt,de=xe,Te=it)}return{x:de,y:Te}}return{x:ue,y:be}},[Ee]),pt=y.useCallback((M,$)=>{const Y=Me+Re,J=rn-Me-Re,te=Me+Re,ie=yn-Me-Re;if(!f)return qe(M,$);let ue=Ce[0],be=Ne[0],de=Math.abs(M-Ce[0]),Te=Math.abs($-Ne[0]);for(const it of Ce){const mt=Math.abs(M-it);mt<de&&(de=mt,ue=it)}for(const it of Ne){const mt=Math.abs($-it);mt<Te&&(Te=mt,be=it)}let Ze=Math.max(Y,Math.min(J,ue)),xe=Math.max(te,Math.min(ie,be));if(Ee(Ze,xe)){let it=Ze,mt=xe,Nn=1/0;for(const In of Ce)for(const Zn of Ne)if(In>=Y&&In<=J&&Zn>=te&&Zn<=ie&&!Ee(In,Zn)){const ki=Math.sqrt((M-In)**2+($-Zn)**2);ki<Nn&&(Nn=ki,it=In,mt=Zn)}return{x:it,y:mt}}return{x:Ze,y:xe}},[f,Ee,qe]),Sn=y.useCallback(M=>{const $=o.map(Y=>Y.number).filter(Y=>Y!==void 0);if(M==="solid"){for(let Y=1;Y<=7;Y++)if(!$.includes(Y))return Y}else for(let Y=9;Y<=15;Y++)if(!$.includes(Y))return Y;return null},[o]),De=y.useCallback((M,$)=>{for(const Y of wf){const J=M-Y.x,te=$-Y.y;if(Math.sqrt(J*J+te*te)<zc)return!0}return!1},[]),Qe=(M,$)=>{const Y=$.x-M.x,J=$.y-M.y;return Math.sqrt(Y*Y+J*J)},Mn=y.useCallback((M,$)=>{let Y=null,J=1/0;for(const te of wf){const ie=te.x-M.x,ue=te.y-M.y,be=Math.sqrt(ie*ie+ue*ue);if(be<Re*2)continue;const de=ie/be,Te=ue/be,Ze=M.x-de*(Re*2),xe=M.y-Te*(Re*2),it=Ze-$.x,mt=xe-$.y,Nn=Math.sqrt(it*it+mt*mt);if(Nn<Re*2)continue;const In=it/Nn,Zn=mt/Nn,ki=In*de+Zn*Te,Oi=Math.acos(Math.max(-1,Math.min(1,ki)))*(180/Math.PI);Oi<J&&(J=Oi,Y={pocket:te,angle:Oi,ghostBall:{x:Ze,y:xe}})}return Y},[]),gn=y.useCallback((M,$)=>{if(o.length===0)return null;const Y=$.x-M.x,J=$.y-M.y,te=Math.sqrt(Y*Y+J*J);if(te<1)return null;const ie=Y/te,ue=J/te;let be=null,de=1/0;for(const Te of o){const Ze=Te.x-M.x,xe=Te.y-M.y,it=Math.sqrt(Ze*Ze+xe*xe),mt=Ze*ie+xe*ue;if(mt<=0)continue;const Nn=Ze-mt*ie,In=xe-mt*ue;Math.sqrt(Nn*Nn+In*In)<Re*3&&it<de&&(de=it,be=Te)}return be},[o]),Ii=y.useCallback((M,$)=>{if(!m)return null;const Y=gn(M,$);if(!Y)return null;const J=Mn(Y,M);return!J||J.angle<15?null:J.ghostBall},[m,gn,Mn]),ai=y.useCallback(M=>{const $=_r(),Y=Me,J=rn-Me,te=Me,ie=yn-Me;let ue=!1;return M.x-Re<Y&&(M.x=Y+Re,M.vx=-M.vx*$,M.vy+=M.spinY*.3,M.spinX*=.7,ue=!0),M.x+Re>J&&(M.x=J-Re,M.vx=-M.vx*$,M.vy+=M.spinY*.3,M.spinX*=.7,ue=!0),M.y-Re<te&&(M.y=te+Re,M.vy=-M.vy*$,M.vx+=M.spinX*.3,M.spinY*=.7,ue=!0),M.y+Re>ie&&(M.y=ie-Re,M.vy=-M.vy*$,M.vx+=M.spinX*.3,M.spinY*=.7,ue=!0),ue},[_r]),Sr=y.useCallback((M,$,Y,J)=>{var nm,rm,im;if(!r)return null;const te=Y-M,ie=J-$,ue=Math.sqrt(te*te+ie*ie);if(ue<10)return null;const be=te/ue,de=ie/ue,Ze=E*15,xe={x:r.x,y:r.y,vx:be*Ze,vy:de*Ze,spinX:S,spinY:A},it=o.map(St=>({...St,vx:0,vy:0,spinX:0,spinY:0})),mt=ce(),Nn=300,In=[{x:xe.x,y:xe.y}],Zn=it.map(()=>[]);let ki=null,Oi=null,Ro=null,Xd=null,Qd=null;const Qt=[xe,...it],Mo=new Array(Qt.length).fill(!1),tm=St=>{for(const Dn of wf){const Ri=St.x-Dn.x,ui=St.y-Dn.y;if(Math.sqrt(Ri*Ri+ui*ui)<zc-Re*.3)return!0}return!1},oa=(St,Dn,Ri)=>{const ui=Dn.x-St.x,Do=Dn.y-St.y,Er=Math.sqrt(ui*ui+Do*Do);if(Er>=Re*2||Er===0)return!1;const zt=ui/Er,gt=Do/Er,ot=-gt,jt=zt,Tr=St.vx-Dn.vx,Fr=St.vy-Dn.vy,Qr=Tr*zt+Fr*gt,Ac=Tr*ot+Fr*jt;if(Qr<=0)return!1;const vl=St.spinX*.15*Math.abs(Ac)*.3;St.vx-=Qr*zt,St.vy-=Qr*gt,Dn.vx+=Qr*zt*.95,Dn.vy+=Qr*gt*.95,Dn.vx+=vl*ot,Dn.vy+=vl*jt;const Jr=Math.sqrt(Tr*Tr+Fr*Fr);if(Ri===0&&Jr>.1){const R0=Tr/Jr,bl=Fr/Jr,Jd=St.spinY*.4;St.spinY!==0&&(St.vx+=R0*Jd*Jr,St.vy+=bl*Jd*Jr),St.spinY*=.3}Dn.spinX+=St.spinX*.2,Dn.spinY+=St.spinY*.2;const xl=Re*2-Er;return St.x-=xl/2*zt,St.y-=xl/2*gt,Dn.x+=xl/2*zt,Dn.y+=xl/2*gt,!0};for(let St=0;St<Nn;St++){let Dn=!1,Ri=0;for(let zt=0;zt<Qt.length;zt++){if(Mo[zt])continue;const gt=Qt[zt],ot=Math.sqrt(gt.vx*gt.vx+gt.vy*gt.vy);ot>Ri&&(Ri=ot)}const ui=Ri*QO*60,Do=Math.max(1,Math.ceil(ui/(Re*.8))),Er=QO/Do;for(let zt=0;zt<Do;zt++){for(let gt=0;gt<Qt.length;gt++){if(Mo[gt])continue;const ot=Qt[gt],jt=Math.sqrt(ot.vx*ot.vx+ot.vy*ot.vy);if(jt>JO){Dn=!0;const Tr=mt*9.8;if(ot.vx-=ot.vx/jt*Tr*Er,ot.vy-=ot.vy/jt*Tr*Er,ot.x+=ot.vx*Er*60,ot.y+=ot.vy*Er*60,ai(ot),tm(ot)){if(gt>0){const Fr=gt-1,Qr=((nm=o[Fr])==null?void 0:nm.number)||1,Ac=((rm=lo[Qr])==null?void 0:rm.color)||"#ffffff";Zn[Fr].push({x:ot.x,y:ot.y,ballIndex:Fr,color:Ac})}Mo[gt]=!0,ot.vx=0,ot.vy=0}}else ot.vx=0,ot.vy=0}for(let gt=0;gt<Qt.length;gt++)if(!Mo[gt])for(let ot=gt+1;ot<Qt.length;ot++){if(Mo[ot])continue;if(oa(Qt[gt],Qt[ot],gt)&&gt===0&&!ki){ki={x:Qt[ot].x,y:Qt[ot].y},Qd={x:Qt[0].x,y:Qt[0].y};const Tr=Qt[ot].x-Qt[0].x,Fr=Qt[ot].y-Qt[0].y,Qr=Math.sqrt(Tr*Tr+Fr*Fr);Qr>0&&(Oi={x:Qt[0].x+Tr/Qr*Re,y:Qt[0].y+Fr/Qr*Re}),Ro={x:Qt[ot].vx,y:Qt[ot].vy},Xd={x:Qt[0].vx,y:Qt[0].vy}}}}Mo[0]||In.push({x:xe.x,y:xe.y});for(let zt=0;zt<it.length;zt++){if(Mo[zt+1])continue;const gt=it[zt];if(Math.sqrt(gt.vx*gt.vx+gt.vy*gt.vy)>JO*.5||Zn[zt].length>0){const jt=o[zt].number||1,Tr=((im=lo[jt])==null?void 0:im.color)||"#ffffff";Zn[zt].push({x:gt.x,y:gt.y,ballIndex:zt,color:Tr})}}if(!Dn)break}return{path:In,hitBall:ki,contactPoint:Oi,objectBallDirection:Ro,cueBallDeflection:Xd,cueBallPosAtContact:Qd,objectPaths:Zn.filter(St=>St.length>=1)}},[r,o,E,S,A,ce,ai]),li=(M,$)=>{const Y=Math.sqrt(M.x*M.x+M.y*M.y),J=Math.sqrt($.x*$.x+$.y*$.y);if(Y===0||J===0)return{angle:0,fraction:1};const te={x:M.x/Y,y:M.y/Y},ie={x:$.x/J,y:$.y/J},ue=te.x*ie.x+te.y*ie.y,be=Math.max(-1,Math.min(1,ue)),de=Math.acos(be),Te=de*(180/Math.PI),Ze=Math.min(Te,90),xe=Math.cos(de);return{angle:Ze,fraction:Math.max(0,xe)}},na=M=>M>=.95?"Full":M>=.7?"3/4":M>=.45?"1/2":M>=.2?"1/4":"Thin",Oo=y.useCallback(M=>{if(M.fillStyle="#4a2c1a",M.fillRect(0,0,rn,yn),M.fillStyle="#1a5f3f",M.fillRect(Me,Me,rn-Me*2,yn-Me*2),M.strokeStyle="#2d4a3a",M.lineWidth=1,M.strokeRect(Me,Me,rn-Me*2,yn-Me*2),f&&(a==="cue"||a==="solid"||a==="stripe"||a==="reposition")){M.strokeStyle="rgba(255, 255, 255, 0.12)",M.lineWidth=.5;const te=Me,ie=rn-Me,ue=Me,be=yn-Me;for(const de of Ce)de>te&&de<ie&&(M.beginPath(),M.moveTo(de,ue),M.lineTo(de,be),M.stroke());for(const de of Ne)de>ue&&de<be&&(M.beginPath(),M.moveTo(te,de),M.lineTo(ie,de),M.stroke());M.fillStyle="rgba(255, 255, 255, 0.15)";for(const de of Ce)for(const Te of Ne)de>te&&de<ie&&Te>ue&&Te<be&&(Ee(de,Te)||(M.beginPath(),M.arc(de,Te,2,0,Math.PI*2),M.fill()))}wf.forEach(te=>{const ie=M.createRadialGradient(te.x,te.y,0,te.x,te.y,zc);ie.addColorStop(0,"#000000"),ie.addColorStop(.7,"#1a1a1a"),ie.addColorStop(1,"#333333"),M.fillStyle=ie,M.beginPath(),M.arc(te.x,te.y,zc,0,Math.PI*2),M.fill(),M.strokeStyle="#2a2a2a",M.lineWidth=2,M.beginPath(),M.arc(te.x,te.y,zc-1,0,Math.PI*2),M.stroke()}),M.fillStyle="#ffffff";const $=3,Y=(rn-Me*2)/8,J=(yn-Me*2)/4;for(let te=1;te<8;te++){if(te===4)continue;const ie=Me+te*Y;M.beginPath(),M.moveTo(ie,Me-5),M.lineTo(ie+$,Me-2),M.lineTo(ie,Me+1),M.lineTo(ie-$,Me-2),M.closePath(),M.fill(),M.beginPath(),M.moveTo(ie,yn-Me+5),M.lineTo(ie+$,yn-Me+2),M.lineTo(ie,yn-Me-1),M.lineTo(ie-$,yn-Me+2),M.closePath(),M.fill()}for(let te=1;te<4;te++){const ie=Me+te*J;M.beginPath(),M.moveTo(Me-5,ie),M.lineTo(Me-2,ie+$),M.lineTo(Me+1,ie),M.lineTo(Me-2,ie-$),M.closePath(),M.fill(),M.beginPath(),M.moveTo(rn-Me+5,ie),M.lineTo(rn-Me+2,ie+$),M.lineTo(rn-Me-1,ie),M.lineTo(rn-Me+2,ie-$),M.closePath(),M.fill()}},[f,a]),gl=(M,$,Y)=>{const J=lo[Y];if(!J||!isFinite($.x)||!isFinite($.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse($.x+2,$.y+2,Re,Re*.8,0,0,Math.PI*2),M.fill();const te=M.createRadialGradient($.x-Re*.3,$.y-Re*.3,0,$.x,$.y,Re);if(J.solid?(te.addColorStop(0,"rgba(255, 255, 255, 0.8)"),te.addColorStop(.5,J.color),te.addColorStop(1,"rgba(0, 0, 0, 0.4)")):(te.addColorStop(0,"rgba(255, 255, 255, 0.95)"),te.addColorStop(.5,"#ffffff"),te.addColorStop(1,"rgba(200, 200, 200, 0.8)")),M.fillStyle=te,M.beginPath(),M.arc($.x,$.y,Re,0,Math.PI*2),M.fill(),!J.solid){M.save(),M.beginPath(),M.arc($.x,$.y,Re,0,Math.PI*2),M.clip(),M.fillStyle=J.color;const ue=Re*.4;M.fillRect($.x-ue,$.y-Re,ue*2,Re*2),M.restore()}const ie=Re*.5;M.fillStyle="#ffffff",M.beginPath(),M.arc($.x,$.y,ie,0,Math.PI*2),M.fill(),M.fillStyle="#000000",M.font="bold 9px Arial",M.textAlign="center",M.textBaseline="middle",M.fillText(String(Y),$.x,$.y),M.fillStyle="rgba(255, 255, 255, 0.4)",M.beginPath(),M.arc($.x-Re*.35,$.y-Re*.35,Re*.25,0,Math.PI*2),M.fill()},yl=(M,$)=>{if(!isFinite($.x)||!isFinite($.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse($.x+2,$.y+2,Re,Re*.8,0,0,Math.PI*2),M.fill();const Y=M.createRadialGradient($.x-Re*.3,$.y-Re*.3,0,$.x,$.y,Re);Y.addColorStop(0,"rgba(255, 255, 255, 1)"),Y.addColorStop(.5,"#ffffff"),Y.addColorStop(1,"rgba(220, 220, 220, 0.8)"),M.fillStyle=Y,M.beginPath(),M.arc($.x,$.y,Re,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.6)",M.beginPath(),M.arc($.x-Re*.4,$.y-Re*.4,Re*.3,0,Math.PI*2),M.fill()},ra=(M,$,Y)=>{!isFinite($)||!isFinite(Y)||(M.strokeStyle="rgba(255, 255, 255, 0.5)",M.setLineDash([4,4]),M.lineWidth=2,M.beginPath(),M.arc($,Y,Re,0,Math.PI*2),M.stroke(),M.setLineDash([]),M.fillStyle="rgba(255, 255, 255, 0.15)",M.beginPath(),M.arc($,Y,Re,0,Math.PI*2),M.fill())},Lr=(M,$,Y,J)=>{M.strokeStyle=J,M.lineWidth=1,M.setLineDash([6,4]),M.beginPath(),M.moveTo(Me,Y),M.lineTo(rn-Me,Y),M.stroke(),M.beginPath(),M.moveTo($,Me),M.lineTo($,yn-Me),M.stroke(),M.setLineDash([]),M.strokeStyle=J,M.lineWidth=2,M.beginPath(),M.arc($,Y,Re+4,0,Math.PI*2),M.stroke()},ia=(M,$,Y,J,te)=>{const ie=J-$,ue=te-Y,be=Math.atan2(ue,ie),de=150,Te=Re+5,Ze=$-Math.cos(be)*Te,xe=Y-Math.sin(be)*Te,it=$-Math.cos(be)*de,mt=Y-Math.sin(be)*de,Nn=M.createLinearGradient(Ze,xe,it,mt);Nn.addColorStop(0,"#D2691E"),Nn.addColorStop(.5,"#8B4513"),Nn.addColorStop(1,"#654321"),M.strokeStyle=Nn,M.lineWidth=4,M.lineCap="round",M.beginPath(),M.moveTo(Ze,xe),M.lineTo(it,mt),M.stroke();const In=$-Math.cos(be)*(Te-3),Zn=Y-Math.sin(be)*(Te-3);M.fillStyle="#d11111",M.beginPath(),M.arc(In,Zn,3,0,Math.PI*2),M.fill()},Kr=(M,$,Y)=>{const J=Math.sqrt(Y.x*Y.x+Y.y*Y.y);if(J===0)return;const te=Y.x/J,ie=Y.y/J,ue=100,be=$.x+te*ue,de=$.y+ie*ue;M.strokeStyle="rgba(209, 17, 17, 0.8)",M.lineWidth=2,M.setLineDash([5,5]),M.beginPath(),M.moveTo($.x,$.y),M.lineTo(be,de),M.stroke(),M.setLineDash([]);const Te=8,Ze=Math.atan2(ie,te);M.fillStyle="rgba(209, 17, 17, 0.8)",M.beginPath(),M.moveTo(be,de),M.lineTo(be-Te*Math.cos(Ze-Math.PI/6),de-Te*Math.sin(Ze-Math.PI/6)),M.lineTo(be-Te*Math.cos(Ze+Math.PI/6),de-Te*Math.sin(Ze+Math.PI/6)),M.closePath(),M.fill()},oo=(M,$)=>{if(!($.length<2)){M.strokeStyle="rgba(255, 255, 255, 0.4)",M.lineWidth=2,M.beginPath(),M.moveTo($[0].x,$[0].y);for(let Y=1;Y<$.length;Y++)M.lineTo($[Y].x,$[Y].y);M.stroke()}},ci=y.useCallback(()=>{if(g&&w&&r){const M=Ii(r,w);return M?{start:g,current:M}:{start:g,current:w}}if(b&&r){const M=b.angle*Math.PI/180,$=r.x+Math.cos(M)*b.distance,Y=r.y+Math.sin(M)*b.distance;return{start:{x:r.x,y:r.y},current:{x:$,y:Y}}}return null},[g,w,b,r,Ii]),Yr=y.useCallback(()=>{const M=ci();if(!M||!r)return 0;const $=M.current.x-r.x,Y=M.current.y-r.y;let J=Math.atan2(Y,$)*180/Math.PI;return J<0&&(J+=360),J},[ci,r]),ji=y.useCallback(()=>{const M=ci();if(!M)return 100;const $=M.current.x-M.start.x,Y=M.current.y-M.start.y;return Math.sqrt($*$+Y*Y)},[ci]),q=y.useCallback((M,$)=>{C({angle:M,distance:$})},[]),$e=y.useCallback(()=>{if(g&&w&&r){const M=w.x-r.x,$=w.y-r.y;let Y=Math.atan2($,M)*180/Math.PI;Y<0&&(Y+=360);const J=Math.sqrt(M*M+$*$);C({angle:Y,distance:J})}},[g,w,r]),Je=y.useCallback(()=>{const M=ci();if(!M||W||!r)return{angle:null,fraction:null};const $=Sr(r.x,r.y,M.current.x,M.current.y);if(!$||!$.hitBall||!$.cueBallPosAtContact)return{angle:null,fraction:null};const Y={x:M.current.x-r.x,y:M.current.y-r.y},J={x:$.hitBall.x-$.cueBallPosAtContact.x,y:$.hitBall.y-$.cueBallPosAtContact.y},te=li(Y,J);return{angle:te.angle,fraction:na(te.fraction)}},[ci,W,r,Sr]);y.useEffect(()=>{const M=Je();Ke(M.angle),we(M.fraction)},[Je]);const We=y.useCallback(()=>{const M=n.current;if(!M)return;const $=M.getContext("2d");if(!$)return;if($.clearRect(0,0,rn,yn),Oo($),Oe&&Rt.length>0){const J=Rt[at];if(J.objectBalls.forEach((te,ie)=>{if(!te.pocketed){const ue=Ye[ie];if(ue!==void 0){const be={x:te.x,y:te.y,vx:0,vy:0,spinX:0,spinY:0,number:ue};gl($,be,ue)}}}),J.cueBall){const te={x:J.cueBall.x,y:J.cueBall.y,vx:0,vy:0,spinX:0,spinY:0};yl($,te)}return}if(W&&V.length>0&&!Oe){const J=V.filter(te=>te.cueBall).map(te=>te.cueBall);J.length>0&&($.strokeStyle="rgba(255, 255, 255, 0.3)",$.lineWidth=2,$.beginPath(),$.moveTo(J[0].x,J[0].y),J.forEach(te=>$.lineTo(te.x,te.y)),$.stroke()),Ye.forEach((te,ie)=>{if(te===void 0)return;const ue=V.map(be=>be.objectBalls[ie]).filter(be=>be&&!be.pocketed);if(ue.length>0){const be=lo[te];$.strokeStyle=be.color+"80",$.lineWidth=2,$.beginPath(),$.moveTo(ue[0].x,ue[0].y),ue.forEach(de=>$.lineTo(de.x,de.y)),$.stroke()}})}const Y=ci();if(Y&&!W&&r){ia($,r.x,r.y,Y.current.x,Y.current.y);const J=Sr(r.x,r.y,Y.current.x,Y.current.y);J&&(oo($,J.path),J.objectPaths&&J.objectPaths.length>0&&J.objectPaths.forEach(te=>{if(te.length>=2){const ie=te[0].color;$.strokeStyle=ie+"99",$.lineWidth=2,$.setLineDash([4,4]),$.beginPath(),$.moveTo(te[0].x,te[0].y);for(let xe=1;xe<te.length;xe++)$.lineTo(te[xe].x,te[xe].y);$.stroke(),$.setLineDash([]);const ue=te[te.length-1],be=te[Math.max(0,te.length-5)],de=ue.x-be.x,Te=ue.y-be.y;if(Math.sqrt(de*de+Te*Te)>5){const xe=Math.atan2(Te,de),it=6;$.fillStyle=ie+"99",$.beginPath(),$.moveTo(ue.x,ue.y),$.lineTo(ue.x-it*Math.cos(xe-Math.PI/6),ue.y-it*Math.sin(xe-Math.PI/6)),$.lineTo(ue.x-it*Math.cos(xe+Math.PI/6),ue.y-it*Math.sin(xe+Math.PI/6)),$.closePath(),$.fill()}}}),J.hitBall&&J.cueBallPosAtContact&&J.cueBallDeflection&&(ra($,J.cueBallPosAtContact.x,J.cueBallPosAtContact.y),Kr($,J.cueBallPosAtContact,J.cueBallDeflection)))}o.forEach((J,te)=>{if(J.number&&gl($,J,J.number),c&&c.type==="object"&&c.index===te){const ie=lo[J.number||1];Lr($,J.x,J.y,ie.color)}}),r&&(yl($,r),c&&c.type==="cue"&&Lr($,r.x,r.y,"rgba(255, 255, 255, 0.8)"))},[r,o,g,w,b,W,V,Sr,Oo,ci,c,Oe,at,Rt,Ye]);y.useEffect(()=>{We()},[We]);const rt=M=>{var Te,Ze;const $=n.current;if(!$)return;const Y=$.getBoundingClientRect(),J=rn/Y.width,te=yn/Y.height,ie=(M.clientX-Y.left)*J,ue=(M.clientY-Y.top)*te,{x:be,y:de}=pt(ie,ue);if(a==="cue"){if(De(be,de)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:be,y:de,vx:0,vy:0,spinX:0,spinY:0}),l(null),e({title:"Cue ball placed"})}else if(a==="solid"||a==="stripe"){if(De(be,de)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const xe=Sn(a);if(xe!==null){s(mt=>[...mt,{x:be,y:de,vx:0,vy:0,spinX:0,spinY:0,number:xe}]);const it=lo[xe];e({title:`${it.name} (${xe}) placed`})}else e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&Qe({x:ie,y:ue},r)<Re*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let xe=0;xe<o.length;xe++)if(Qe({x:ie,y:ue},o[xe])<Re*2){d({type:"object",index:xe});const mt=o[xe].number;e({title:`Drag to reposition ${mt?(Te=lo[mt])==null?void 0:Te.name:"ball"}`});return}e({title:"Click on a ball to reposition it"})}else if(a==="remove"){if(r&&Qe({x:ie,y:ue},r)<Re*2){i(null),e({title:"Cue ball removed"});return}for(let xe=0;xe<o.length;xe++)if(Qe({x:ie,y:ue},o[xe])<Re*2){const mt=o[xe].number,Nn=mt?(Ze=lo[mt])==null?void 0:Ze.name:"ball";s(In=>In.filter((Zn,ki)=>ki!==xe)),e({title:`${Nn} removed`});return}e({title:"Click on a ball to remove it"})}else r&&!W&&(x({x:r.x,y:r.y}),_({x:ie,y:ue}))},tt=M=>{const $=n.current;if(!$)return;const Y=$.getBoundingClientRect(),J=rn/Y.width,te=yn/Y.height,ie=(M.clientX-Y.left)*J,ue=(M.clientY-Y.top)*te;if(c){const{x:be,y:de}=pt(ie,ue);De(be,de)||(c.type==="cue"&&r?i({...r,x:be,y:de}):c.type==="object"&&c.index!==void 0&&s(Te=>Te.map((Ze,xe)=>xe===c.index?{...Ze,x:be,y:de}:Ze)))}else g&&!W&&_({x:ie,y:ue})},Mt=()=>{c&&(d(null),e({title:"Ball repositioned"})),g&&w&&$e(),x(null),_(null)},Dt=y.useCallback((M,$)=>{const Y=n.current;if(!Y)return null;const J=Y.getBoundingClientRect(),te=rn/J.width,ie=yn/J.height,ue=(M-J.left)*te,be=($-J.top)*ie;return{rawX:ue,rawY:be,...pt(ue,be)}},[pt]),$t=y.useCallback(M=>{var be,de;if(M.touches.length!==1)return;M.preventDefault();const $=M.touches[0],Y=Dt($.clientX,$.clientY);if(!Y)return;const{rawX:J,rawY:te,x:ie,y:ue}=Y;if(a==="cue"){if(De(ie,ue)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ie,y:ue,vx:0,vy:0,spinX:0,spinY:0}),l(null),e({title:"Cue ball placed"})}else if(a==="solid"||a==="stripe"){if(De(ie,ue)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const Te=Sn(a);if(Te!==null){s(xe=>[...xe,{x:ie,y:ue,vx:0,vy:0,spinX:0,spinY:0,number:Te}]);const Ze=lo[Te];e({title:`${Ze.name} (${Te}) placed`})}else e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&Qe({x:J,y:te},r)<Re*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let Te=0;Te<o.length;Te++)if(Qe({x:J,y:te},o[Te])<Re*2){d({type:"object",index:Te});const xe=o[Te].number;e({title:`Drag to reposition ${xe?(be=lo[xe])==null?void 0:be.name:"ball"}`});return}e({title:"Tap on a ball to reposition it"})}else if(a==="remove"){if(r&&Qe({x:J,y:te},r)<Re*2){i(null),e({title:"Cue ball removed"});return}for(let Te=0;Te<o.length;Te++)if(Qe({x:J,y:te},o[Te])<Re*2){const xe=o[Te].number,it=xe?(de=lo[xe])==null?void 0:de.name:"ball";s(mt=>mt.filter((Nn,In)=>In!==Te)),e({title:`${it} removed`});return}e({title:"Tap on a ball to remove it"})}else r&&!W&&(x({x:r.x,y:r.y}),_({x:J,y:te}))},[r,o,a,W,Dt,Sn,e]),ct=y.useCallback(M=>{if(M.touches.length!==1)return;M.preventDefault();const $=M.touches[0],Y=Dt($.clientX,$.clientY);if(!Y)return;const{rawX:J,rawY:te,x:ie,y:ue}=Y;c?De(ie,ue)||(c.type==="cue"&&r?i({...r,x:ie,y:ue}):c.type==="object"&&c.index!==void 0&&s(be=>be.map((de,Te)=>Te===c.index?{...de,x:ie,y:ue}:de))):g&&!W&&_({x:J,y:te})},[r,c,g,W,Dt]),fr=y.useCallback(M=>{M.preventDefault(),c&&(d(null),e({title:"Ball repositioned"})),g&&w&&$e(),x(null),_(null)},[c,g,w,$e,e]);y.useEffect(()=>{const M=n.current;if(M)return M.addEventListener("touchstart",$t,{passive:!1}),M.addEventListener("touchmove",ct,{passive:!1}),M.addEventListener("touchend",fr,{passive:!1}),M.addEventListener("touchcancel",fr,{passive:!1}),()=>{M.removeEventListener("touchstart",$t),M.removeEventListener("touchmove",ct),M.removeEventListener("touchend",fr),M.removeEventListener("touchcancel",fr)}},[$t,ct,fr]);const Xr=()=>{if(!Q){e({title:"Please select a course first",variant:"destructive"});return}const M=rNe[Q];if(!M)return;const Y=(te=>{const ie=[...te];for(let ue=ie.length-1;ue>0;ue--){const be=Math.floor(Math.random()*(ue+1));[ie[ue],ie[be]]=[ie[be],ie[ue]]}return ie})(Array.from({length:15},(te,ie)=>ie+1)),J=M.balls.map((te,ie)=>({x:te.x,y:te.y,vx:0,vy:0,spinX:0,spinY:0,number:Y[ie]}));s(J),i({x:Ce[2],y:Ne[2],vx:0,vy:0,spinX:0,spinY:0}),C(null),F(!1),Z([]),Ae(M.name),e({title:`Loaded: ${M.name}`})},Ut=()=>{i(null),s([]),F(!1),Z([]),Ae(null),ne(""),e({title:"Table cleared"})};y.useCallback(()=>{Ot.current&&(cancelAnimationFrame(Ot.current),Ot.current=null),ht(!1)},[]),y.useEffect(()=>{if(!Oe||Rt.length===0)return;const M=2,$=16,Y=J=>{pn.current===0&&(pn.current=J);const te=J-pn.current;if(te>=$){const ie=Math.floor(te/$)*M,ue=Math.min(at+ie,Rt.length-1);if(Ct(ue),pn.current=J,ue>=Rt.length-1){const be=Rt[Rt.length-1];be.cueBall?i(de=>de?{...de,x:be.cueBall.x,y:be.cueBall.y,vx:0,vy:0}:null):i(null),s(de=>de.map((Te,Ze)=>{const xe=be.objectBalls[Ze];return!xe||xe.pocketed?null:{...Te,x:xe.x,y:xe.y,vx:0,vy:0}}).filter(Te=>Te!==null)),ht(!1),C(null);return}}Ot.current=requestAnimationFrame(Y)};return Ot.current=requestAnimationFrame(Y),()=>{Ot.current&&cancelAnimationFrame(Ot.current)}},[Oe,at,Rt]);const Lt=M=>{const $=M.currentTarget.getBoundingClientRect(),Y=M.clientX-$.left,J=M.clientY-$.top,te=Y/100*2-1,ie=-(J/100*2-1);P(te),k(ie)},En=(r?1:0)+o.length,Tn=_r().toFixed(3),un=ce().toFixed(3);return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(SU,{open:pe,onComplete:Gr,pages:Xt,toolName:"Advanced Cueing Emulator"}),wr&&u.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center","data-testid":"fullscreen-overlay",children:[u.jsx(ae,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 text-white hover:bg-white/20",onClick:()=>mn(!1),"data-testid":"button-close-fullscreen",children:u.jsx(Bu,{className:"w-6 h-6"})}),u.jsx("div",{className:"flex-1 flex items-center justify-center w-full p-2",children:u.jsx("canvas",{ref:n,width:rn,height:yn,className:"max-w-full max-h-full rounded-lg shadow-lg cursor-crosshair",style:{width:ur?"auto":"100%",height:ur?"85vh":"auto",touchAction:"none"},onMouseDown:rt,onMouseMove:tt,onMouseUp:Mt,onMouseLeave:Mt,"data-testid":"canvas-fullscreen-table"})}),u.jsxs("div",{className:"w-full px-4 pb-4 space-y-2","data-testid":"fullscreen-controls",children:[u.jsxs("div",{className:"flex items-center justify-between text-white",children:[u.jsx("span",{className:"text-sm font-semibold",children:"Fine-Tune Angle"}),u.jsxs("span",{className:"text-sm font-mono text-primary",children:[((b==null?void 0:b.angle)??Yr()).toFixed(2),""]})]}),u.jsx(Uc,{value:[(b==null?void 0:b.angle)??Yr()],onValueChange:([M])=>q(M,(b==null?void 0:b.distance)??ji()),min:0,max:360,step:.01,className:"w-full","data-testid":"slider-fullscreen-angle"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ae,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>q(((b==null?void 0:b.angle)??Yr())-.01,(b==null?void 0:b.distance)??ji()),"data-testid":"button-fullscreen-left",children:" 0.01"}),u.jsx(ae,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>q(((b==null?void 0:b.angle)??Yr())+.01,(b==null?void 0:b.distance)??ji()),"data-testid":"button-fullscreen-right",children:"0.01 "})]}),(Ve!==null||me!==null)&&u.jsx("div",{className:"p-2 rounded-md bg-primary/20 border border-primary/40",children:u.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[u.jsxs("span",{className:"font-semibold",children:["Cut Angle: ",u.jsxs("span",{className:"font-mono",children:[(Ve==null?void 0:Ve.toFixed(1))??"--",""]})]}),u.jsxs("span",{className:"font-semibold",children:["Ball Hit: ",u.jsx("span",{className:"font-mono",children:me??"--"})]})]})})]})]}),u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Jo,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Advanced Cueing Emulator"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics simulation with spin effects"})]}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>mn(!0),"data-testid":"button-fullscreen",title:"Fullscreen Table View",children:u.jsx(bW,{className:"w-5 h-5"})}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>K(!0),"data-testid":"button-tutorial",children:u.jsx(cx,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[u.jsx("div",{className:"flex-1",children:u.jsxs(Ue,{className:"p-4",children:[u.jsx("canvas",{ref:n,width:rn,height:yn,className:"w-full rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:rn,touchAction:"none"},onMouseDown:rt,onMouseMove:tt,onMouseUp:Mt,onMouseLeave:Mt,"data-testid":"canvas-billiard-table"}),(Ve!==null||me!==null)&&u.jsx("div",{className:"mt-4 p-3 rounded-md bg-primary/10 border border-primary/30","data-testid":"container-cut-info",children:u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-cut-angle",children:["Cut Angle: ",u.jsxs("span",{className:"font-mono",children:[(Ve==null?void 0:Ve.toFixed(1))??"--",""]})]}),u.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-ball-hit",children:["Ball Hit: ",u.jsx("span",{className:"font-mono",children:me??"--"})]})]})})]})}),u.jsx("div",{className:"w-full lg:w-80",children:u.jsx(Ue,{className:"p-2",children:u.jsxs(QF,{type:"multiple",className:"w-full",children:[u.jsxs(ga,{value:"practice-courses",className:"border-b-0",children:[u.jsx(ya,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-practice-courses",children:"Practice Courses"}),u.jsx(va,{className:"px-2 space-y-3",children:u.jsx(uP,{isLocked:!0,featureName:"Practice Courses",variant:"overlay",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs(G5,{value:Q,onValueChange:ne,children:[u.jsx(HT,{"data-testid":"select-course",children:u.jsx(K5,{placeholder:"-- Select a Course --"})}),u.jsxs(qT,{children:[u.jsx(tr,{value:"par2_01",children:"Par 2 - Course 1"}),u.jsx(tr,{value:"par2_02",children:"Par 2 - Course 2"}),u.jsx(tr,{value:"par2_03",children:"Par 2 - Course 3"}),u.jsx(tr,{value:"par3_01",children:"Par 3 - Course 1"}),u.jsx(tr,{value:"par3_02",children:"Par 3 - Course 2"}),u.jsx(tr,{value:"par3_03",children:"Par 3 - Course 3"}),u.jsx(tr,{value:"par3_04",children:"Par 3 - Course 4"}),u.jsx(tr,{value:"par4_01",children:"Par 4 - Course 1"}),u.jsx(tr,{value:"par4_02",children:"Par 4 - Course 2"}),u.jsx(tr,{value:"par4_03",children:"Par 4 - Course 3"}),u.jsx(tr,{value:"par4_04",children:"Par 4 - Course 4"}),u.jsx(tr,{value:"par4_05",children:"Par 4 - Course 5"}),u.jsx(tr,{value:"par5_01",children:"Par 5 - Course 1"}),u.jsx(tr,{value:"par5_02",children:"Par 5 - Course 2"}),u.jsx(tr,{value:"par5_03",children:"Par 5 - Course 3"}),u.jsx(tr,{value:"par6_01",children:"Par 6 - Course 1"})]})]}),u.jsx(ae,{className:"w-full",onClick:Xr,"data-testid":"button-load-course",children:"Load Course"}),ge&&u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Current: ",u.jsx("span",{className:"text-primary font-semibold",children:ge})]})]})})})]}),u.jsxs(ga,{value:"ball-placement",className:"border-b-0",children:[u.jsx(ya,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-ball-placement",children:"Ball Placement"}),u.jsxs(va,{className:"px-2 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(yW,{className:"w-3 h-3 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Snap to Grid"}),u.jsx(Hi,{checked:f,onCheckedChange:h,"data-testid":"switch-snap-grid"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ae,{variant:a==="cue"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="cue"?null:"cue"),"data-testid":"button-place-cue",children:[u.jsx(gW,{className:"w-4 h-4 mr-1"}),"Cue"]}),u.jsxs(ae,{variant:a==="solid"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="solid"?null:"solid"),"data-testid":"button-add-solid",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-1"}),"Solid"]}),u.jsxs(ae,{variant:a==="stripe"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="stripe"?null:"stripe"),"data-testid":"button-add-stripe",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-white border border-yellow-500 mr-1"}),"Stripe"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ae,{variant:a==="reposition"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="reposition"?null:"reposition"),"data-testid":"button-reposition",children:[u.jsx(PW,{className:"w-4 h-4 mr-1"}),"Move"]}),u.jsxs(ae,{variant:a==="remove"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="remove"?null:"remove"),"data-testid":"button-remove",children:[u.jsx(EW,{className:"w-4 h-4 mr-1"}),"Remove"]}),u.jsxs(ae,{variant:"secondary",className:"flex-1",onClick:Ut,"data-testid":"button-clear",children:[u.jsx(fy,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground font-mono","data-testid":"text-ball-count",children:["Balls on table: ",En]})]})]}),u.jsxs(ga,{value:"power-aim",className:"border-b-0",children:[u.jsx(ya,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-power-aim",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Th,{className:"w-4 h-4"}),"Power & Aim"]})}),u.jsxs(va,{className:"px-2 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Power"}),u.jsxs("span",{className:"text-base font-mono font-semibold text-primary","data-testid":"text-power-value",children:[Math.round(E*100),"%"]})]}),u.jsx(Uc,{value:[E*100],onValueChange:([M])=>N(M/100),max:100,step:1,className:"w-full","data-testid":"slider-speed"})]}),u.jsxs("div",{className:"border-t border-border pt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Angle"}),b?u.jsxs(ae,{variant:"ghost",size:"sm",onClick:()=>C(null),className:"h-6 px-2 text-xs","data-testid":"button-unlock-aim",children:[u.jsx(xW,{className:"w-3 h-3 mr-1"}),"Clear"]}):u.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag to aim"})]}),b||g&&w?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-aim-angle",children:[((b==null?void 0:b.angle)??Yr()).toFixed(2),""]})}),u.jsx(Uc,{value:[(b==null?void 0:b.angle)??Yr()],onValueChange:([M])=>q(M,(b==null?void 0:b.distance)??ji()),min:0,max:360,step:.1,className:"w-full","data-testid":"slider-aim-angle"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"0"}),u.jsx("span",{children:"90"}),u.jsx("span",{children:"180"}),u.jsx("span",{children:"270"}),u.jsx("span",{children:"360"})]})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx(ae,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>q(((b==null?void 0:b.angle)??Yr())-.1,(b==null?void 0:b.distance)??ji()),"data-testid":"button-aim-left",children:" 0.10"}),u.jsx(ae,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>q(((b==null?void 0:b.angle)??Yr())+.1,(b==null?void 0:b.distance)??ji()),"data-testid":"button-aim-right",children:"0.10 "})]})]}):u.jsxs("div",{className:"text-center py-3 text-muted-foreground text-sm",children:[u.jsx(g1,{className:"w-6 h-6 mx-auto mb-1 opacity-30"}),u.jsx("p",{className:"text-xs",children:"Drag on table to set aim direction"})]})]})]})]}),u.jsxs(ga,{value:"english-spin",className:"border-b-0",children:[u.jsx(ya,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-english-spin",children:"English (Spin)"}),u.jsxs(va,{className:"px-2 space-y-3",children:[u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"relative w-[100px] h-[100px] bg-gradient-to-br from-background to-muted border-2 border-border rounded-md cursor-crosshair",onClick:Lt,"data-testid":"box-spin",children:[u.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-border -translate-x-1/2"}),u.jsx("div",{className:"absolute top-1/2 left-0 h-px w-full bg-border -translate-y-1/2"}),u.jsx("div",{className:"absolute w-3 h-3 bg-primary border-2 border-white rounded-full shadow-lg pointer-events-none",style:{left:`${(S+1)/2*100}%`,top:`${(1-A)/2*100}%`,transform:"translate(-50%, -50%)"}})]}),u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Top/Follow"}),u.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Bottom/Draw"}),u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-10 text-xs text-muted-foreground",children:"Left"}),u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-10 text-xs text-muted-foreground",children:"Right"})]})}),u.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground mt-6","data-testid":"text-spin-values",children:[u.jsxs("span",{children:["x: ",S.toFixed(2)]}),u.jsxs("span",{children:["y: ",A.toFixed(2)]})]})]})]}),u.jsxs(ga,{value:"environment",className:"border-b-0",children:[u.jsx(ya,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-environment",children:"Environment Settings"}),u.jsxs(va,{className:"px-2 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Table Size"}),u.jsx("span",{className:"text-sm font-mono text-primary","data-testid":"text-table-size",children:dr().label})]}),u.jsx("div",{className:"flex gap-1",children:["7ft","8ft","9ft","10ft"].map(M=>u.jsx(ae,{variant:B===M?"default":"secondary",size:"sm",className:"flex-1 text-xs",onClick:()=>U(M),"data-testid":`button-table-${M}`,children:M},M))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cloth Speed"}),u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cloth-value",children:[Math.round(I*100),"%"]})]}),u.jsx(Uc,{value:[I*100],onValueChange:([M])=>O(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cloth"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Slow"}),u.jsx("span",{children:"Fast"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cushion Quality"}),u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cushion-value",children:[Math.round(R*100),"%"]})]}),u.jsx(Uc,{value:[R*100],onValueChange:([M])=>L(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cushion"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Dead"}),u.jsx("span",{children:"Lively"})]})]}),u.jsxs("div",{className:"pt-2 border-t border-border",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[u.jsx(NW,{className:"w-3 h-3"}),"Table Presets"]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load, hold to save"})]}),u.jsx("div",{className:"flex gap-2",children:[0,1,2].map(M=>{const $=ee[M];return u.jsx("button",{className:`flex-1 py-2 px-3 rounded-md border text-xs font-mono transition-all select-none ${$?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-muted/30 border-border text-muted-foreground hover:bg-muted/50"}`,onMouseDown:()=>It(M),onMouseUp:()=>en(M),onMouseLeave:()=>{_e.current&&(clearTimeout(_e.current),_e.current=null)},onTouchStart:()=>It(M),onTouchEnd:()=>en(M),"data-testid":`button-preset-${M+1}`,children:$?u.jsxs("span",{children:[Math.round($.clothSpeed*100),"/",Math.round($.cushionQuality*100)]}):u.jsx("span",{children:"--"})},M)})})]})]})]}),u.jsxs(ga,{value:"physics",className:"border-b-0",children:[u.jsx(ya,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-physics",children:"Physics Coefficients"}),u.jsx(va,{className:"px-2",children:u.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border border-border space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[u.jsx("span",{className:"text-muted-foreground",children:"Restitution (e):"}),u.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-e",children:Tn})]}),u.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[u.jsx("span",{className:"text-muted-foreground",children:"Friction (c):"}),u.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-mu",children:un})]})]})})]})]})})})]})})})]})}function oNe(){const[,t]=cl(),[e,n]=y.useState(null);y.useEffect(()=>{n(Pt.getAggregatedStats())},[]);const r=s=>{const a=Math.floor(s/1e3),l=Math.floor(a/3600),c=Math.floor(a%3600/60),d=a%60;return l>0?`${l}h ${c}m`:c>0?`${c}m ${d}s`:`${d}s`},i=s=>s?new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",o=e&&(e.totalSessions>0||Pt.hasAnyConsent());return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Jo,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold",children:"Your Insights"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal performance analytics"})]})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!Pt.hasAnyConsent()&&u.jsx(Ue,{className:"p-4 bg-primary/5 border-primary/20",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Xa,{className:"w-5 h-5 text-primary mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-sm",children:"Analytics Disabled"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable analytics in Settings to track your performance and see insights here."}),u.jsx(ae,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/"),"data-testid":"button-go-settings",children:"Go to Settings"})]})]})}),e&&u.jsxs(u.Fragment,{children:[u.jsx(Ue,{className:"p-5 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:u.jsx(IE,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Sg,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Total Time Played"})]}),u.jsx("div",{className:"flex items-baseline gap-1","data-testid":"text-total-time-played",children:(()=>{const s=Math.floor(e.totalTimeMs/1e3),a=Math.floor(s/3600),l=Math.floor(s%3600/60),c=s%60;return u.jsxs(u.Fragment,{children:[a>0&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-3xl font-bold text-foreground",children:a}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"h"})]}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:l}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"m"}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:c}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"s"})]})})()})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs(Ue,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(zf,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Sessions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:e.totalSessions})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(Sh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Time Per Session"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-avg-session-time",children:e.totalSessions>0?r(e.totalTimeMs/e.totalSessions):"0s"})]})]}),e.lastActive>0&&u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Last active: ",i(e.lastActive)]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(RW,{className:"w-4 h-4 text-primary"}),"Module Usage"]}),u.jsx("div",{className:"space-y-3",children:Object.entries(e.moduleUsage).length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No module usage recorded yet. Start using the tools!"}):Object.entries(e.moduleUsage).map(([s,a])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"text-sm font-medium capitalize",children:s})}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"text-sm font-mono",children:[a.sessions," sessions"]}),u.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",r(a.timeMs),")"]})]})]},s))})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(Th,{className:"w-4 h-4 text-primary"}),"Tempo Stats"]}),e.skillMetrics.tempo.totalShots===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No shot clock data yet. Use Tempo to track your timing!"}):u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsxs("p",{className:"text-lg font-bold","data-testid":"text-avg-shot-time",children:[e.skillMetrics.tempo.avgShotTime.toFixed(1),"s"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-total-shots",children:e.skillMetrics.tempo.totalShots}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-tempo-sessions",children:e.skillMetrics.tempo.sessionsPlayed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Sessions"})]})]})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(g$,{className:"w-4 h-4 text-primary"}),"Velocity Stats"]}),e.skillMetrics.velocity.breaksRecorded===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No break speed data yet. Use Velocity to measure your breaks!"}):u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-avg-break",children:e.skillMetrics.velocity.avgBreakSpeed.toFixed(1)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-max-break",children:e.skillMetrics.velocity.maxBreakSpeed.toFixed(1)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-breaks-recorded",children:e.skillMetrics.velocity.breaksRecorded}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(zf,{className:"w-4 h-4 text-primary"}),"Vectors Stats"]}),e.skillMetrics.vectors.shotsSimulated===0&&e.skillMetrics.vectors.sessionsPlayed===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No cueing simulation data yet. Use Vectors to practice shots!"}):u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-shots-simulated",children:e.skillMetrics.vectors.shotsSimulated}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Shots"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-avg-power",children:e.skillMetrics.vectors.avgPower>0?`${(e.skillMetrics.vectors.avgPower*100).toFixed(0)}%`:"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Power"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-vectors-sessions",children:e.skillMetrics.vectors.sessionsPlayed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Sessions"})]})]})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(zf,{className:"w-4 h-4 text-primary"}),"TrueLevel Stats"]}),e.skillMetrics.truelevel.calibrationsPerformed===0&&e.skillMetrics.truelevel.tablesChecked===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No level data yet. Use TrueLevel to calibrate tables!"}):u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-calibrations",children:e.skillMetrics.truelevel.calibrationsPerformed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Calibrations"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-tables-checked",children:e.skillMetrics.truelevel.tablesChecked}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tables Checked"})]})]})]})]}),!o&&Pt.hasAnyConsent()&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Xa,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),u.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Start using CueMaster tools to see your insights here."})]})]})})]})}function sNe(){const[,t]=cl(),[e,n]=y.useState(""),[r,i]=y.useState(!1),[o,s]=y.useState(!1),[a,l]=y.useState(null),[c,d]=y.useState(null),f=async()=>{if(e){s(!0),l(null);try{const m=await fetch(`/api/analytics/admin?secret=${encodeURIComponent(e)}`);if(m.status===401){l("Invalid admin secret"),i(!1);return}if(!m.ok)throw new Error("Failed to fetch analytics");const v=await m.json();d(v),i(!0),localStorage.setItem("admin_secret",e)}catch(m){l(m instanceof Error?m.message:"Unknown error")}finally{s(!1)}}};y.useEffect(()=>{const m=localStorage.getItem("admin_secret");m&&n(m)},[]),y.useEffect(()=>{e&&!r&&!o&&localStorage.getItem("admin_secret")===e&&f()},[e]);const h=m=>{m.preventDefault(),f()};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Jo,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[u.jsx(dy,{className:"w-5 h-5 text-primary"}),"Admin Analytics"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate user statistics"})]}),r&&u.jsx(ae,{variant:"outline",size:"icon",onClick:f,disabled:o,"data-testid":"button-refresh",children:u.jsx(AW,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[!r&&u.jsxs(Ue,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(dy,{className:"w-6 h-6 text-primary"}),u.jsx("h2",{className:"text-lg font-semibold",children:"Admin Authentication"})]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsx("div",{children:u.jsx(or,{type:"password",placeholder:"Enter admin secret",value:e,onChange:m=>n(m.target.value),"data-testid":"input-admin-secret"})}),a&&u.jsx("p",{className:"text-sm text-destructive",children:a}),u.jsx(ae,{type:"submit",className:"w-full",disabled:o||!e,"data-testid":"button-authenticate",children:o?"Authenticating...":"Access Dashboard"})]})]}),r&&c&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs(Ue,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(du,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Users"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-unique-users",children:c.uniqueUsers})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(Xa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Submissions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-submissions",children:c.totalSubmissions})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(zf,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Sessions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:c.aggregateStats.totalSessions})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(Sh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Hours"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:c.aggregateStats.totalTimeHours})]})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(Th,{className:"w-4 h-4 text-primary"}),"Tempo Aggregates"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsxs("p",{className:"text-lg font-bold",children:[c.aggregateStats.avgShotTime,"s"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot Time"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalShots}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots Timed"})]})]})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(g$,{className:"w-4 h-4 text-primary"}),"Velocity Aggregates"]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.avgBreakSpeed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.maxBreakSpeed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalBreaks}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(zf,{className:"w-4 h-4 text-primary"}),"Other Stats"]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalCalibrations}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"TrueLevel Calibrations"})]})]}),c.recentSubmissions.length>0&&u.jsxs(Ue,{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Recent Submissions"}),u.jsx("div",{className:"space-y-2",children:c.recentSubmissions.map((m,v)=>u.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[u.jsx("span",{className:"font-mono text-muted-foreground",children:m.anonymousId}),u.jsxs("span",{children:[m.sessions," sessions"]}),u.jsxs("span",{className:"text-muted-foreground",children:[m.timeMin," min"]})]},v))})]}),c.totalSubmissions===0&&u.jsxs(Ue,{className:"p-6 text-center",children:[u.jsx(Xa,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),u.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics will appear here when users with benchmarking consent submit their data."})]})]})]})})]})}const aNe=.0254,lNe=.02,cNe=.005;function uNe(){const[,t]=cl(),[e,n]=y.useState(!1),[r,i]=y.useState("Click Start to begin"),[o,s]=y.useState(0),[a,l]=y.useState(.05),[c,d]=y.useState(.22),[f,h]=y.useState(0),[m,v]=y.useState(null),[g,x]=y.useState(null),[w,_]=y.useState(null),[b,C]=y.useState(null),[E,N]=y.useState(null),[S,P]=y.useState([]),[A,k]=y.useState(0),[I,O]=y.useState(60),[R,L]=y.useState(.22),[B,U]=y.useState(2.8),[W,F]=y.useState(.06),[V,Z]=y.useState(.01),[Q,ne]=y.useState(.25),[ge,Ae]=y.useState(300),[Ve,Ke]=y.useState(6e3),me=y.useRef(null),we=y.useRef(null),ee=y.useRef(!1),he=y.useRef(.05),pe=y.useRef(0),K=y.useRef(null),_e=y.useCallback(ve=>{P(Ye=>[ve,...Ye].slice(0,100))},[]),Oe=async()=>{i("Requesting microphone..."),P([]),h(0),v(null),x(null),_(null),N(null),C(null),he.current=.05,pe.current=0,K.current=null;try{const ve=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:48e3}});we.current=ve;const Ye=new AudioContext({sampleRate:48e3});me.current=Ye,Ye.state==="suspended"&&await Ye.resume(),i(`AudioContext: ${Ye.state}`);const cn=Ye.createMediaStreamSource(ve),Ot=Ye.createBiquadFilter();Ot.type="highpass",Ot.frequency.value=ge;const pn=Ye.createBiquadFilter();pn.type="lowpass",pn.frequency.value=Ve;const wr=Ye.createAnalyser();wr.fftSize=2048,cn.connect(Ot),Ot.connect(pn),pn.connect(wr),ee.current=!0,n(!0),_e({type:"info",time:0,max:0,thresh:0,floor:0});const mn=new Float32Array(wr.fftSize);let ur=0;const io=()=>{if(!ee.current)return;ur++,ur%30===0&&(k(ur),i(`Listening (frame ${ur})`)),wr.getFloatTimeDomainData(mn);let Xt=0;for(let It=0;It<mn.length;It++)Xt=Math.max(Xt,Math.abs(mn[It]));ur<=3&&_e({type:"debug",time:Ye.currentTime,max:Xt,thresh:0,floor:he.current});const Gr=he.current;he.current=Xt>Gr?Gr+lNe*(Xt-Gr):Gr-cNe*(Gr-Xt),he.current=Math.max(.02,Math.min(.6,he.current));const Un=Ye.currentTime,zn=Math.max(R,he.current*B);if(s(Xt),l(he.current),d(zn),Xt>zn&&Un-pe.current>W)if(pe.current=Un,h(It=>It+1),C(Xt),K.current===null)K.current=Un,v(Un),_e({type:"tip",time:Un,max:Xt,thresh:zn,floor:he.current});else{const It=Un-K.current;if(x(Un),_(It),It>=V&&It<=Q){_e({type:"rack",time:Un,max:Xt,thresh:zn,floor:he.current,deltaT:It});const dr=I*aNe/It*2.23693629;N(dr),K.current=null}else _e({type:"rejected",time:Un,max:Xt,thresh:zn,floor:he.current,deltaT:It,reason:It<V?"too fast":"too slow"}),It>Q&&(K.current=Un,v(Un))}requestAnimationFrame(io)};requestAnimationFrame(io)}catch(ve){console.error(ve),i(`ERROR: ${ve.message}`),n(!1)}},ht=()=>{ee.current=!1,we.current&&we.current.getTracks().forEach(ve=>ve.stop()),me.current&&me.current.close(),n(!1),i("Stopped")},at=()=>{P([]),h(0),v(null),x(null),_(null),N(null),C(null)},Ct=()=>{const ve={exportedAt:new Date().toISOString(),config:{distanceIn:I,minThresh:R,floorMult:B,refractTime:W,minDeltaT:V,maxDeltaT:Q,hpfFreq:ge,lpfFreq:Ve},peaks:S},Ye=new Blob([JSON.stringify(ve,null,2)],{type:"application/json"}),cn=URL.createObjectURL(Ye),Ot=document.createElement("a");Ot.href=cn,Ot.download=`break-debug-${Date.now()}.json`,Ot.click(),URL.revokeObjectURL(cn)};y.useEffect(()=>()=>{ee.current=!1,we.current&&we.current.getTracks().forEach(ve=>ve.stop()),me.current&&me.current.close()},[]);const Rt=ve=>{switch(ve){case"tip":return"text-yellow-500";case"rack":return"text-primary font-bold";case"rejected":return"text-muted-foreground";case"debug":return"text-blue-400";default:return"text-muted-foreground"}};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Jo,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-primary",children:"Audio Debugger"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Break speed detection diagnostics"})]})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(ae,{onClick:e?ht:Oe,variant:e?"destructive":"default","data-testid":"button-toggle-listen",children:[e?u.jsx(_W,{className:"w-4 h-4 mr-2"}):u.jsx(SW,{className:"w-4 h-4 mr-2"}),e?"Stop":"Start Listening"]}),u.jsxs(ae,{variant:"secondary",onClick:at,"data-testid":"button-clear",children:[u.jsx(fy,{className:"w-4 h-4 mr-2"}),"Clear"]}),u.jsxs(ae,{variant:"secondary",onClick:Ct,"data-testid":"button-export",children:[u.jsx(p$,{className:"w-4 h-4 mr-2"}),"Export"]})]}),u.jsxs(Ue,{className:"p-4 bg-muted/30",children:[u.jsxs("p",{className:"text-sm font-mono","data-testid":"text-mic-status",children:[u.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",u.jsx("span",{className:e?"text-green-500":"text-muted-foreground",children:r})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Frame: ",A]})]}),E!==null&&u.jsxs(Ue,{className:"p-6 bg-gradient-to-br from-primary/20 to-primary/5 border-primary/30 text-center",children:[u.jsx("p",{className:"text-sm text-primary uppercase tracking-wide",children:"Break Detected"}),u.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-result-mph",children:[E.toFixed(1)," mph"]}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Delta: ",w==null?void 0:w.toFixed(4),"s | Distance: ",I,'"']})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Audio Levels"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Current"}),u.jsxs("div",{className:"flex-1 h-6 bg-muted rounded overflow-hidden relative",children:[u.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all",style:{width:`${Math.min(o*100,100)}%`}}),u.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white",style:{left:`${c*100}%`}})]}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:o.toFixed(3)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Floor"}),u.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${a*100}%`}})}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:a.toFixed(3)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Thresh"}),u.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-yellow-500 transition-all",style:{width:`${c*100}%`}})}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:c.toFixed(3)})]})]})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Detection Stats"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold text-primary",children:f}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Peaks"})]}),u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold font-mono",children:(m==null?void 0:m.toFixed(3))??"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip Time"})]}),u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold font-mono",children:(w==null?void 0:w.toFixed(4))??"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Delta T"})]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["Last peak max: ",(b==null?void 0:b.toFixed(4))??"-"]})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Configuration"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Distance (in)"}),u.jsx(or,{type:"number",value:I,onChange:ve=>O(+ve.target.value),className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Min Threshold"}),u.jsx(or,{type:"number",value:R,onChange:ve=>L(+ve.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Floor Multiplier"}),u.jsx(or,{type:"number",value:B,onChange:ve=>U(+ve.target.value),step:"0.1",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Refractory (s)"}),u.jsx(or,{type:"number",value:W,onChange:ve=>F(+ve.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Min Delta T (s)"}),u.jsx(or,{type:"number",value:V,onChange:ve=>Z(+ve.target.value),step:"0.005",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Max Delta T (s)"}),u.jsx(or,{type:"number",value:Q,onChange:ve=>ne(+ve.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"HPF Freq (Hz)"}),u.jsx(or,{type:"number",value:ge,onChange:ve=>Ae(+ve.target.value),step:"50",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"LPF Freq (Hz)"}),u.jsx(or,{type:"number",value:Ve,onChange:ve=>Ke(+ve.target.value),step:"100",className:"h-8"})]})]})]}),u.jsxs(Ue,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Peak Log"}),u.jsx("div",{className:"max-h-48 overflow-y-auto bg-background rounded p-2 font-mono text-xs space-y-1",children:S.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No peaks detected yet"}):S.map((ve,Ye)=>u.jsxs("div",{className:`flex justify-between ${Rt(ve.type)}`,children:[u.jsxs("span",{children:[ve.type.toUpperCase()," @ ",ve.time.toFixed(4),"s"]}),u.jsxs("span",{children:["max: ",ve.max.toFixed(4)," ",ve.deltaT?`dt: ${ve.deltaT.toFixed(4)}`:""," ",ve.reason||""]})]},Ye))})]})]})})]})}function dNe(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(Ue,{className:"w-full max-w-md mx-4",children:u.jsxs(A3,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(mW,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const fNe=typeof window<"u"&&(window.location.protocol==="file:"||window.location.pathname.endsWith(".html")||window.location.hostname.endsWith(".github.io")),hNe=t=>{window.location.hash=t},pNe=t=>(window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)),mNe=()=>window.location.hash.replace(/^#/,"")||"/";function gNe(){const t=y.useSyncExternalStore(pNe,mNe,()=>"/"),e=y.useCallback(n=>hNe(n),[]);return[t,e]}function yNe(){return u.jsx(jD,{hook:fNe?gNe:void 0,children:u.jsxs(Vz,{children:[u.jsx(gs,{path:"/",component:Wne}),u.jsx(gs,{path:"/break-speed",component:yre}),u.jsx(gs,{path:"/shot-clock",component:OCe}),u.jsx(gs,{path:"/table-level",component:MCe}),u.jsx(gs,{path:"/cue-emulator",component:iNe}),u.jsx(gs,{path:"/insights",component:oNe}),u.jsx(gs,{path:"/admin/analytics",component:sNe}),u.jsx(gs,{path:"/debug/audio",component:uNe}),u.jsx(gs,{component:dNe})]})})}function vNe(){return u.jsx(u7,{client:h7,children:u.jsx(Wq,{children:u.jsx(lee,{children:u.jsxs(Uq,{children:[u.jsx(gH,{}),u.jsx(yNe,{})]})})})})}bD(document.getElementById("root")).render(u.jsx(vNe,{}));
