var iP=t=>{throw TypeError(t)};var tb=(t,e,n)=>e.has(t)||iP("Cannot "+n);var pe=(t,e,n)=>(tb(t,e,"read from private field"),n?n.call(t):e.get(t)),Rt=(t,e,n)=>e.has(t)?iP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pt=(t,e,n,r)=>(tb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Rr=(t,e,n)=>(tb(t,e,"access private method"),n);var _m=(t,e,n,r)=>({set _(i){pt(t,e,i,n)},get _(){return pe(t,e,r)}});function E9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VR={exports:{}},nx={},BR={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=Symbol.for("react.element"),T9=Symbol.for("react.portal"),C9=Symbol.for("react.fragment"),A9=Symbol.for("react.strict_mode"),P9=Symbol.for("react.profiler"),N9=Symbol.for("react.provider"),j9=Symbol.for("react.context"),I9=Symbol.for("react.forward_ref"),k9=Symbol.for("react.suspense"),O9=Symbol.for("react.memo"),R9=Symbol.for("react.lazy"),oP=Symbol.iterator;function M9(t){return t===null||typeof t!="object"?null:(t=oP&&t[oP]||t["@@iterator"],typeof t=="function"?t:null)}var UR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zR=Object.assign,WR={};function Pd(t,e,n){this.props=t,this.context=e,this.refs=WR,this.updater=n||UR}Pd.prototype.isReactComponent={};Pd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HR(){}HR.prototype=Pd.prototype;function eE(t,e,n){this.props=t,this.context=e,this.refs=WR,this.updater=n||UR}var tE=eE.prototype=new HR;tE.constructor=eE;zR(tE,Pd.prototype);tE.isPureReactComponent=!0;var sP=Array.isArray,qR=Object.prototype.hasOwnProperty,nE={current:null},GR={key:!0,ref:!0,__self:!0,__source:!0};function KR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)qR.call(e,r)&&!GR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Dp,type:t,key:o,ref:s,props:i,_owner:nE.current}}function D9(t,e){return{$$typeof:Dp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dp}function $9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aP=/\/+/g;function nb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$9(""+t.key):e.toString(36)}function Sg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Dp:case T9:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+nb(s,0):r,sP(i)?(n="",t!=null&&(n=t.replace(aP,"$&/")+"/"),Sg(i,e,n,"",function(c){return c})):i!=null&&(rE(i)&&(i=D9(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(aP,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",sP(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+nb(o,a);s+=Sg(o,e,n,l,i)}else if(l=M9(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+nb(o,a++),s+=Sg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Tm(t,e,n){if(t==null)return t;var r=[],i=0;return Sg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function L9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ti={current:null},_g={transition:null},F9={ReactCurrentDispatcher:ti,ReactCurrentBatchConfig:_g,ReactCurrentOwner:nE};function YR(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:Tm,forEach:function(t,e,n){Tm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tm(t,function(){e++}),e},toArray:function(t){return Tm(t,function(e){return e})||[]},only:function(t){if(!rE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=Pd;xt.Fragment=C9;xt.Profiler=P9;xt.PureComponent=eE;xt.StrictMode=A9;xt.Suspense=k9;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F9;xt.act=YR;xt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=nE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qR.call(e,l)&&!GR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Dp,type:t.type,key:i,ref:o,props:r,_owner:s}};xt.createContext=function(t){return t={$$typeof:j9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:N9,_context:t},t.Consumer=t};xt.createElement=KR;xt.createFactory=function(t){var e=KR.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:I9,render:t}};xt.isValidElement=rE;xt.lazy=function(t){return{$$typeof:R9,_payload:{_status:-1,_result:t},_init:L9}};xt.memo=function(t,e){return{$$typeof:O9,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=_g.transition;_g.transition={};try{t()}finally{_g.transition=e}};xt.unstable_act=YR;xt.useCallback=function(t,e){return ti.current.useCallback(t,e)};xt.useContext=function(t){return ti.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return ti.current.useDeferredValue(t)};xt.useEffect=function(t,e){return ti.current.useEffect(t,e)};xt.useId=function(){return ti.current.useId()};xt.useImperativeHandle=function(t,e,n){return ti.current.useImperativeHandle(t,e,n)};xt.useInsertionEffect=function(t,e){return ti.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return ti.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return ti.current.useMemo(t,e)};xt.useReducer=function(t,e,n){return ti.current.useReducer(t,e,n)};xt.useRef=function(t){return ti.current.useRef(t)};xt.useState=function(t){return ti.current.useState(t)};xt.useSyncExternalStore=function(t,e,n){return ti.current.useSyncExternalStore(t,e,n)};xt.useTransition=function(){return ti.current.useTransition()};xt.version="18.3.1";BR.exports=xt;var b=BR.exports;const H=Gt(b),XR=E9({__proto__:null,default:H},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V9=b,B9=Symbol.for("react.element"),U9=Symbol.for("react.fragment"),z9=Object.prototype.hasOwnProperty,W9=V9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H9={key:!0,ref:!0,__self:!0,__source:!0};function QR(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)z9.call(e,r)&&!H9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B9,type:t,key:o,ref:s,props:i,_owner:W9.current}}nx.Fragment=U9;nx.jsx=QR;nx.jsxs=QR;VR.exports=nx;var u=VR.exports,JR={exports:{}},Oi={},ZR={exports:{}},eM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var Z=V.length;V.push(B);e:for(;0<Z;){var Q=Z-1>>>1,ne=V[Q];if(0<i(ne,B))V[Q]=B,V[Z]=ne,Z=Q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],Z=V.pop();if(Z!==B){V[0]=Z;e:for(var Q=0,ne=V.length,_e=ne>>>1;Q<_e;){var Pe=2*(Q+1)-1,Me=V[Pe],st=Pe+1,be=V[st];if(0>i(Me,Z))st<ne&&0>i(be,Me)?(V[Q]=be,V[st]=Z,Q=st):(V[Q]=Me,V[Pe]=Z,Q=Pe);else if(st<ne&&0>i(be,Z))V[Q]=be,V[st]=Z,Q=st;else break e}}return B}function i(V,B){var Z=V.sortIndex-B.sortIndex;return Z!==0?Z:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=V)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function C(V){if(g=!1,S(V),!y)if(n(l)!==null)y=!0,U(E);else{var B=n(c);B!==null&&W(C,B.startTime-V)}}function E(V,B){y=!1,g&&(g=!1,x(T),T=-1),m=!0;var Z=h;try{for(S(B),f=n(l);f!==null&&(!(f.expirationTime>B)||V&&!j());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var ne=Q(f.expirationTime<=B);B=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),S(B)}else r(l);f=n(l)}if(f!==null)var _e=!0;else{var Pe=n(c);Pe!==null&&W(C,Pe.startTime-B),_e=!1}return _e}finally{f=null,h=Z,m=!1}}var P=!1,_=null,T=-1,N=5,k=-1;function j(){return!(t.unstable_now()-k<N)}function R(){if(_!==null){var V=t.unstable_now();k=V;var B=!0;try{B=_(!0,V)}finally{B?O():(P=!1,_=null)}}else P=!1}var O;if(typeof w=="function")O=function(){w(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=R,O=function(){F.postMessage(null)}}else O=function(){v(R,0)};function U(V){_=V,P||(P=!0,O())}function W(V,B){T=v(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,U(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var Z=h;h=B;try{return V()}finally{h=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=h;h=V;try{return B()}finally{h=Z}},t.unstable_scheduleCallback=function(V,B,Z){var Q=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Q+Z:Q):Z=Q,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Z+ne,V={id:d++,callback:B,priorityLevel:V,startTime:Z,expirationTime:ne,sortIndex:-1},Z>Q?(V.sortIndex=Z,e(c,V),n(l)===null&&V===n(c)&&(g?(x(T),T=-1):g=!0,W(C,Z-Q))):(V.sortIndex=ne,e(l,V),y||m||(y=!0,U(E))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var B=h;return function(){var Z=h;h=B;try{return V.apply(this,arguments)}finally{h=Z}}}})(eM);ZR.exports=eM;var q9=ZR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G9=b,Ii=q9;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tM=new Set,hh={};function Sc(t,e){Vu(t,e),Vu(t+"Capture",e)}function Vu(t,e){for(hh[t]=e,t=0;t<e.length;t++)tM.add(e[t])}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mw=Object.prototype.hasOwnProperty,K9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lP={},cP={};function Y9(t){return Mw.call(cP,t)?!0:Mw.call(lP,t)?!1:K9.test(t)?cP[t]=!0:(lP[t]=!0,!1)}function X9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q9(t,e,n,r){if(e===null||typeof e>"u"||X9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ni(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Er[t]=new ni(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Er[e]=new ni(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Er[t]=new ni(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Er[t]=new ni(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Er[t]=new ni(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Er[t]=new ni(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Er[t]=new ni(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Er[t]=new ni(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Er[t]=new ni(t,5,!1,t.toLowerCase(),null,!1,!1)});var iE=/[\-:]([a-z])/g;function oE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iE,oE);Er[e]=new ni(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iE,oE);Er[e]=new ni(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iE,oE);Er[e]=new ni(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Er[t]=new ni(t,1,!1,t.toLowerCase(),null,!1,!1)});Er.xlinkHref=new ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Er[t]=new ni(t,1,!1,t.toLowerCase(),null,!0,!0)});function sE(t,e,n,r){var i=Er.hasOwnProperty(e)?Er[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Q9(e,n,i,r)&&(n=null),r||i===null?Y9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var la=G9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cm=Symbol.for("react.element"),Zc=Symbol.for("react.portal"),eu=Symbol.for("react.fragment"),aE=Symbol.for("react.strict_mode"),Dw=Symbol.for("react.profiler"),nM=Symbol.for("react.provider"),rM=Symbol.for("react.context"),lE=Symbol.for("react.forward_ref"),$w=Symbol.for("react.suspense"),Lw=Symbol.for("react.suspense_list"),cE=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),iM=Symbol.for("react.offscreen"),uP=Symbol.iterator;function uf(t){return t===null||typeof t!="object"?null:(t=uP&&t[uP]||t["@@iterator"],typeof t=="function"?t:null)}var Cn=Object.assign,rb;function If(t){if(rb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rb=e&&e[1]||""}return`
`+rb+t}var ib=!1;function ob(t,e){if(!t||ib)return"";ib=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ib=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?If(t):""}function J9(t){switch(t.tag){case 5:return If(t.type);case 16:return If("Lazy");case 13:return If("Suspense");case 19:return If("SuspenseList");case 0:case 2:case 15:return t=ob(t.type,!1),t;case 11:return t=ob(t.type.render,!1),t;case 1:return t=ob(t.type,!0),t;default:return""}}function Fw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eu:return"Fragment";case Zc:return"Portal";case Dw:return"Profiler";case aE:return"StrictMode";case $w:return"Suspense";case Lw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rM:return(t.displayName||"Context")+".Consumer";case nM:return(t._context.displayName||"Context")+".Provider";case lE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cE:return e=t.displayName||null,e!==null?e:Fw(t.type)||"Memo";case Ea:e=t._payload,t=t._init;try{return Fw(t(e))}catch{}}return null}function Z9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fw(e);case 8:return e===aE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function il(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e8(t){var e=oM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Am(t){t._valueTracker||(t._valueTracker=e8(t))}function sM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vw(t,e){var n=e.checked;return Cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=il(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aM(t,e){e=e.checked,e!=null&&sE(t,"checked",e,!1)}function Bw(t,e){aM(t,e);var n=il(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uw(t,e.type,il(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uw(t,e,n){(e!=="number"||Jg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kf=Array.isArray;function pu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+il(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Cn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(xe(92));if(kf(n)){if(1<n.length)throw Error(xe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:il(n)}}function lM(t,e){var n=il(e.value),r=il(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ww(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pm,uM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pm=Pm||document.createElement("div"),Pm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ph(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t8=["Webkit","ms","Moz","O"];Object.keys(Uf).forEach(function(t){t8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uf[e]=Uf[t]})});function dM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uf.hasOwnProperty(t)&&Uf[t]?(""+e).trim():e+"px"}function fM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var n8=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hw(t,e){if(e){if(n8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function qw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gw=null;function uE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kw=null,mu=null,gu=null;function mP(t){if(t=Fp(t)){if(typeof Kw!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=ax(e),Kw(t.stateNode,t.type,e))}}function hM(t){mu?gu?gu.push(t):gu=[t]:mu=t}function pM(){if(mu){var t=mu,e=gu;if(gu=mu=null,mP(t),e)for(t=0;t<e.length;t++)mP(e[t])}}function mM(t,e){return t(e)}function gM(){}var sb=!1;function yM(t,e,n){if(sb)return t(e,n);sb=!0;try{return mM(t,e,n)}finally{sb=!1,(mu!==null||gu!==null)&&(gM(),pM())}}function mh(t,e){var n=t.stateNode;if(n===null)return null;var r=ax(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(xe(231,e,typeof n));return n}var Yw=!1;if(Ks)try{var df={};Object.defineProperty(df,"passive",{get:function(){Yw=!0}}),window.addEventListener("test",df,df),window.removeEventListener("test",df,df)}catch{Yw=!1}function r8(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var zf=!1,Zg=null,ey=!1,Xw=null,i8={onError:function(t){zf=!0,Zg=t}};function o8(t,e,n,r,i,o,s,a,l){zf=!1,Zg=null,r8.apply(i8,arguments)}function s8(t,e,n,r,i,o,s,a,l){if(o8.apply(this,arguments),zf){if(zf){var c=Zg;zf=!1,Zg=null}else throw Error(xe(198));ey||(ey=!0,Xw=c)}}function _c(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gP(t){if(_c(t)!==t)throw Error(xe(188))}function a8(t){var e=t.alternate;if(!e){if(e=_c(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return gP(i),t;if(o===r)return gP(i),e;o=o.sibling}throw Error(xe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?t:e}function xM(t){return t=a8(t),t!==null?bM(t):null}function bM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bM(t);if(e!==null)return e;t=t.sibling}return null}var wM=Ii.unstable_scheduleCallback,yP=Ii.unstable_cancelCallback,l8=Ii.unstable_shouldYield,c8=Ii.unstable_requestPaint,Mn=Ii.unstable_now,u8=Ii.unstable_getCurrentPriorityLevel,dE=Ii.unstable_ImmediatePriority,SM=Ii.unstable_UserBlockingPriority,ty=Ii.unstable_NormalPriority,d8=Ii.unstable_LowPriority,_M=Ii.unstable_IdlePriority,rx=null,ss=null;function f8(t){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(rx,t,void 0,(t.current.flags&128)===128)}catch{}}var jo=Math.clz32?Math.clz32:m8,h8=Math.log,p8=Math.LN2;function m8(t){return t>>>=0,t===0?32:31-(h8(t)/p8|0)|0}var Nm=64,jm=4194304;function Of(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ny(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Of(a):(o&=s,o!==0&&(r=Of(o)))}else s=n&~i,s!==0?r=Of(s):o!==0&&(r=Of(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jo(e),i=1<<n,r|=t[n],e&=~i;return r}function g8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-jo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=g8(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Qw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EM(){var t=Nm;return Nm<<=1,!(Nm&4194240)&&(Nm=64),t}function ab(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $p(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jo(e),t[e]=n}function v8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function fE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Lt=0;function TM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CM,hE,AM,PM,NM,Jw=!1,Im=[],za=null,Wa=null,Ha=null,gh=new Map,yh=new Map,Aa=[],x8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vP(t,e){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":gh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(e.pointerId)}}function ff(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Fp(e),e!==null&&hE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b8(t,e,n,r,i){switch(e){case"focusin":return za=ff(za,t,e,n,r,i),!0;case"dragenter":return Wa=ff(Wa,t,e,n,r,i),!0;case"mouseover":return Ha=ff(Ha,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return gh.set(o,ff(gh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yh.set(o,ff(yh.get(o)||null,t,e,n,r,i)),!0}return!1}function jM(t){var e=Ml(t.target);if(e!==null){var n=_c(e);if(n!==null){if(e=n.tag,e===13){if(e=vM(n),e!==null){t.blockedOn=e,NM(t.priority,function(){AM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gw=r,n.target.dispatchEvent(r),Gw=null}else return e=Fp(n),e!==null&&hE(e),t.blockedOn=n,!1;e.shift()}return!0}function xP(t,e,n){Eg(t)&&n.delete(e)}function w8(){Jw=!1,za!==null&&Eg(za)&&(za=null),Wa!==null&&Eg(Wa)&&(Wa=null),Ha!==null&&Eg(Ha)&&(Ha=null),gh.forEach(xP),yh.forEach(xP)}function hf(t,e){t.blockedOn===e&&(t.blockedOn=null,Jw||(Jw=!0,Ii.unstable_scheduleCallback(Ii.unstable_NormalPriority,w8)))}function vh(t){function e(i){return hf(i,t)}if(0<Im.length){hf(Im[0],t);for(var n=1;n<Im.length;n++){var r=Im[n];r.blockedOn===t&&(r.blockedOn=null)}}for(za!==null&&hf(za,t),Wa!==null&&hf(Wa,t),Ha!==null&&hf(Ha,t),gh.forEach(e),yh.forEach(e),n=0;n<Aa.length;n++)r=Aa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Aa.length&&(n=Aa[0],n.blockedOn===null);)jM(n),n.blockedOn===null&&Aa.shift()}var yu=la.ReactCurrentBatchConfig,ry=!0;function S8(t,e,n,r){var i=Lt,o=yu.transition;yu.transition=null;try{Lt=1,pE(t,e,n,r)}finally{Lt=i,yu.transition=o}}function _8(t,e,n,r){var i=Lt,o=yu.transition;yu.transition=null;try{Lt=4,pE(t,e,n,r)}finally{Lt=i,yu.transition=o}}function pE(t,e,n,r){if(ry){var i=Zw(t,e,n,r);if(i===null)yb(t,e,r,iy,n),vP(t,r);else if(b8(i,t,e,n,r))r.stopPropagation();else if(vP(t,r),e&4&&-1<x8.indexOf(t)){for(;i!==null;){var o=Fp(i);if(o!==null&&CM(o),o=Zw(t,e,n,r),o===null&&yb(t,e,r,iy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yb(t,e,r,null,n)}}var iy=null;function Zw(t,e,n,r){if(iy=null,t=uE(r),t=Ml(t),t!==null)if(e=_c(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iy=t,null}function IM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u8()){case dE:return 1;case SM:return 4;case ty:case d8:return 16;case _M:return 536870912;default:return 16}default:return 16}}var Da=null,mE=null,Tg=null;function kM(){if(Tg)return Tg;var t,e=mE,n=e.length,r,i="value"in Da?Da.value:Da.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Tg=i.slice(t,1<r?1-r:void 0)}function Cg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function km(){return!0}function bP(){return!1}function Ri(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?km:bP,this.isPropagationStopped=bP,this}return Cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=km)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=km)},persist:function(){},isPersistent:km}),e}var Nd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gE=Ri(Nd),Lp=Cn({},Nd,{view:0,detail:0}),E8=Ri(Lp),lb,cb,pf,ix=Cn({},Lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pf&&(pf&&t.type==="mousemove"?(lb=t.screenX-pf.screenX,cb=t.screenY-pf.screenY):cb=lb=0,pf=t),lb)},movementY:function(t){return"movementY"in t?t.movementY:cb}}),wP=Ri(ix),T8=Cn({},ix,{dataTransfer:0}),C8=Ri(T8),A8=Cn({},Lp,{relatedTarget:0}),ub=Ri(A8),P8=Cn({},Nd,{animationName:0,elapsedTime:0,pseudoElement:0}),N8=Ri(P8),j8=Cn({},Nd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I8=Ri(j8),k8=Cn({},Nd,{data:0}),SP=Ri(k8),O8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M8[t])?!!e[t]:!1}function yE(){return D8}var $8=Cn({},Lp,{key:function(t){if(t.key){var e=O8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yE,charCode:function(t){return t.type==="keypress"?Cg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L8=Ri($8),F8=Cn({},ix,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_P=Ri(F8),V8=Cn({},Lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yE}),B8=Ri(V8),U8=Cn({},Nd,{propertyName:0,elapsedTime:0,pseudoElement:0}),z8=Ri(U8),W8=Cn({},ix,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H8=Ri(W8),q8=[9,13,27,32],vE=Ks&&"CompositionEvent"in window,Wf=null;Ks&&"documentMode"in document&&(Wf=document.documentMode);var G8=Ks&&"TextEvent"in window&&!Wf,OM=Ks&&(!vE||Wf&&8<Wf&&11>=Wf),EP=" ",TP=!1;function RM(t,e){switch(t){case"keyup":return q8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tu=!1;function K8(t,e){switch(t){case"compositionend":return MM(e);case"keypress":return e.which!==32?null:(TP=!0,EP);case"textInput":return t=e.data,t===EP&&TP?null:t;default:return null}}function Y8(t,e){if(tu)return t==="compositionend"||!vE&&RM(t,e)?(t=kM(),Tg=mE=Da=null,tu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OM&&e.locale!=="ko"?null:e.data;default:return null}}var X8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!X8[t.type]:e==="textarea"}function DM(t,e,n,r){hM(r),e=oy(e,"onChange"),0<e.length&&(n=new gE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hf=null,xh=null;function Q8(t){GM(t,0)}function ox(t){var e=iu(t);if(sM(e))return t}function J8(t,e){if(t==="change")return e}var $M=!1;if(Ks){var db;if(Ks){var fb="oninput"in document;if(!fb){var AP=document.createElement("div");AP.setAttribute("oninput","return;"),fb=typeof AP.oninput=="function"}db=fb}else db=!1;$M=db&&(!document.documentMode||9<document.documentMode)}function PP(){Hf&&(Hf.detachEvent("onpropertychange",LM),xh=Hf=null)}function LM(t){if(t.propertyName==="value"&&ox(xh)){var e=[];DM(e,xh,t,uE(t)),yM(Q8,e)}}function Z8(t,e,n){t==="focusin"?(PP(),Hf=e,xh=n,Hf.attachEvent("onpropertychange",LM)):t==="focusout"&&PP()}function ez(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ox(xh)}function tz(t,e){if(t==="click")return ox(e)}function nz(t,e){if(t==="input"||t==="change")return ox(e)}function rz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mo=typeof Object.is=="function"?Object.is:rz;function bh(t,e){if(Mo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mw.call(e,i)||!Mo(t[i],e[i]))return!1}return!0}function NP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jP(t,e){var n=NP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NP(n)}}function FM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VM(){for(var t=window,e=Jg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jg(t.document)}return e}function xE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iz(t){var e=VM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FM(n.ownerDocument.documentElement,n)){if(r!==null&&xE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=jP(n,o);var s=jP(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oz=Ks&&"documentMode"in document&&11>=document.documentMode,nu=null,e1=null,qf=null,t1=!1;function IP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;t1||nu==null||nu!==Jg(r)||(r=nu,"selectionStart"in r&&xE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&bh(qf,r)||(qf=r,r=oy(e1,"onSelect"),0<r.length&&(e=new gE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nu)))}function Om(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ru={animationend:Om("Animation","AnimationEnd"),animationiteration:Om("Animation","AnimationIteration"),animationstart:Om("Animation","AnimationStart"),transitionend:Om("Transition","TransitionEnd")},hb={},BM={};Ks&&(BM=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function sx(t){if(hb[t])return hb[t];if(!ru[t])return t;var e=ru[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BM)return hb[t]=e[n];return t}var UM=sx("animationend"),zM=sx("animationiteration"),WM=sx("animationstart"),HM=sx("transitionend"),qM=new Map,kP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ml(t,e){qM.set(t,e),Sc(e,[t])}for(var pb=0;pb<kP.length;pb++){var mb=kP[pb],sz=mb.toLowerCase(),az=mb[0].toUpperCase()+mb.slice(1);ml(sz,"on"+az)}ml(UM,"onAnimationEnd");ml(zM,"onAnimationIteration");ml(WM,"onAnimationStart");ml("dblclick","onDoubleClick");ml("focusin","onFocus");ml("focusout","onBlur");ml(HM,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rf));function OP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,s8(r,e,void 0,t),t.currentTarget=null}function GM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;OP(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;OP(i,a,c),o=l}}}if(ey)throw t=Xw,ey=!1,Xw=null,t}function ln(t,e){var n=e[s1];n===void 0&&(n=e[s1]=new Set);var r=t+"__bubble";n.has(r)||(KM(e,t,2,!1),n.add(r))}function gb(t,e,n){var r=0;e&&(r|=4),KM(n,t,r,e)}var Rm="_reactListening"+Math.random().toString(36).slice(2);function wh(t){if(!t[Rm]){t[Rm]=!0,tM.forEach(function(n){n!=="selectionchange"&&(lz.has(n)||gb(n,!1,t),gb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rm]||(e[Rm]=!0,gb("selectionchange",!1,e))}}function KM(t,e,n,r){switch(IM(e)){case 1:var i=S8;break;case 4:i=_8;break;default:i=pE}n=i.bind(null,e,n,t),i=void 0,!Yw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ml(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}yM(function(){var c=o,d=uE(n),f=[];e:{var h=qM.get(t);if(h!==void 0){var m=gE,y=t;switch(t){case"keypress":if(Cg(n)===0)break e;case"keydown":case"keyup":m=L8;break;case"focusin":y="focus",m=ub;break;case"focusout":y="blur",m=ub;break;case"beforeblur":case"afterblur":m=ub;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=C8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=B8;break;case UM:case zM:case WM:m=N8;break;case HM:m=z8;break;case"scroll":m=E8;break;case"wheel":m=H8;break;case"copy":case"cut":case"paste":m=I8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_P}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,x!==null&&(C=mh(w,x),C!=null&&g.push(Sh(w,C,S)))),v)break;w=w.return}0<g.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Gw&&(y=n.relatedTarget||n.fromElement)&&(Ml(y)||y[Ys]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Ml(y):null,y!==null&&(v=_c(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=wP,C="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=_P,C="onPointerLeave",x="onPointerEnter",w="pointer"),v=m==null?h:iu(m),S=y==null?h:iu(y),h=new g(C,w+"leave",m,n,d),h.target=v,h.relatedTarget=S,C=null,Ml(d)===c&&(g=new g(x,w+"enter",y,n,d),g.target=S,g.relatedTarget=v,C=g),v=C,m&&y)t:{for(g=m,x=y,w=0,S=g;S;S=$c(S))w++;for(S=0,C=x;C;C=$c(C))S++;for(;0<w-S;)g=$c(g),w--;for(;0<S-w;)x=$c(x),S--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=$c(g),x=$c(x)}g=null}else g=null;m!==null&&RP(f,h,m,g,!1),y!==null&&v!==null&&RP(f,v,y,g,!0)}}e:{if(h=c?iu(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=J8;else if(CP(h))if($M)E=nz;else{E=ez;var P=Z8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=tz);if(E&&(E=E(t,c))){DM(f,E,n,d);break e}P&&P(t,h,c),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Uw(h,"number",h.value)}switch(P=c?iu(c):window,t){case"focusin":(CP(P)||P.contentEditable==="true")&&(nu=P,e1=c,qf=null);break;case"focusout":qf=e1=nu=null;break;case"mousedown":t1=!0;break;case"contextmenu":case"mouseup":case"dragend":t1=!1,IP(f,n,d);break;case"selectionchange":if(oz)break;case"keydown":case"keyup":IP(f,n,d)}var _;if(vE)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else tu?RM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(OM&&n.locale!=="ko"&&(tu||T!=="onCompositionStart"?T==="onCompositionEnd"&&tu&&(_=kM()):(Da=d,mE="value"in Da?Da.value:Da.textContent,tu=!0)),P=oy(c,T),0<P.length&&(T=new SP(T,t,null,n,d),f.push({event:T,listeners:P}),_?T.data=_:(_=MM(n),_!==null&&(T.data=_)))),(_=G8?K8(t,n):Y8(t,n))&&(c=oy(c,"onBeforeInput"),0<c.length&&(d=new SP("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=_))}GM(f,e)})}function Sh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=mh(t,n),o!=null&&r.unshift(Sh(t,o,i)),o=mh(t,e),o!=null&&r.push(Sh(t,o,i))),t=t.return}return r}function $c(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RP(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=mh(n,o),l!=null&&s.unshift(Sh(n,l,a))):i||(l=mh(n,o),l!=null&&s.push(Sh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var cz=/\r\n?/g,uz=/\u0000|\uFFFD/g;function MP(t){return(typeof t=="string"?t:""+t).replace(cz,`
`).replace(uz,"")}function Mm(t,e,n){if(e=MP(e),MP(t)!==e&&n)throw Error(xe(425))}function sy(){}var n1=null,r1=null;function i1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var o1=typeof setTimeout=="function"?setTimeout:void 0,dz=typeof clearTimeout=="function"?clearTimeout:void 0,DP=typeof Promise=="function"?Promise:void 0,fz=typeof queueMicrotask=="function"?queueMicrotask:typeof DP<"u"?function(t){return DP.resolve(null).then(t).catch(hz)}:o1;function hz(t){setTimeout(function(){throw t})}function vb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vh(e)}function qa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $P(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jd=Math.random().toString(36).slice(2),rs="__reactFiber$"+jd,_h="__reactProps$"+jd,Ys="__reactContainer$"+jd,s1="__reactEvents$"+jd,pz="__reactListeners$"+jd,mz="__reactHandles$"+jd;function Ml(t){var e=t[rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ys]||n[rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$P(t);t!==null;){if(n=t[rs])return n;t=$P(t)}return e}t=n,n=t.parentNode}return null}function Fp(t){return t=t[rs]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function iu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function ax(t){return t[_h]||null}var a1=[],ou=-1;function gl(t){return{current:t}}function hn(t){0>ou||(t.current=a1[ou],a1[ou]=null,ou--)}function tn(t,e){ou++,a1[ou]=t.current,t.current=e}var ol={},Hr=gl(ol),di=gl(!1),rc=ol;function Bu(t,e){var n=t.type.contextTypes;if(!n)return ol;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function fi(t){return t=t.childContextTypes,t!=null}function ay(){hn(di),hn(Hr)}function LP(t,e,n){if(Hr.current!==ol)throw Error(xe(168));tn(Hr,e),tn(di,n)}function YM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(xe(108,Z9(t)||"Unknown",i));return Cn({},n,r)}function ly(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ol,rc=Hr.current,tn(Hr,t),tn(di,di.current),!0}function FP(t,e,n){var r=t.stateNode;if(!r)throw Error(xe(169));n?(t=YM(t,e,rc),r.__reactInternalMemoizedMergedChildContext=t,hn(di),hn(Hr),tn(Hr,t)):hn(di),tn(di,n)}var Rs=null,lx=!1,xb=!1;function XM(t){Rs===null?Rs=[t]:Rs.push(t)}function gz(t){lx=!0,XM(t)}function yl(){if(!xb&&Rs!==null){xb=!0;var t=0,e=Lt;try{var n=Rs;for(Lt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rs=null,lx=!1}catch(i){throw Rs!==null&&(Rs=Rs.slice(t+1)),wM(dE,yl),i}finally{Lt=e,xb=!1}}return null}var su=[],au=0,cy=null,uy=0,zi=[],Wi=0,ic=null,$s=1,Ls="";function Nl(t,e){su[au++]=uy,su[au++]=cy,cy=t,uy=e}function QM(t,e,n){zi[Wi++]=$s,zi[Wi++]=Ls,zi[Wi++]=ic,ic=t;var r=$s;t=Ls;var i=32-jo(r)-1;r&=~(1<<i),n+=1;var o=32-jo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$s=1<<32-jo(e)+i|n<<i|r,Ls=o+t}else $s=1<<o|n<<i|r,Ls=t}function bE(t){t.return!==null&&(Nl(t,1),QM(t,1,0))}function wE(t){for(;t===cy;)cy=su[--au],su[au]=null,uy=su[--au],su[au]=null;for(;t===ic;)ic=zi[--Wi],zi[Wi]=null,Ls=zi[--Wi],zi[Wi]=null,$s=zi[--Wi],zi[Wi]=null}var Ni=null,Ai=null,mn=!1,So=null;function JM(t,e){var n=Gi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function VP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ni=t,Ai=qa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ni=t,Ai=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ic!==null?{id:$s,overflow:Ls}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ni=t,Ai=null,!0):!1;default:return!1}}function l1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function c1(t){if(mn){var e=Ai;if(e){var n=e;if(!VP(t,e)){if(l1(t))throw Error(xe(418));e=qa(n.nextSibling);var r=Ni;e&&VP(t,e)?JM(r,n):(t.flags=t.flags&-4097|2,mn=!1,Ni=t)}}else{if(l1(t))throw Error(xe(418));t.flags=t.flags&-4097|2,mn=!1,Ni=t}}}function BP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ni=t}function Dm(t){if(t!==Ni)return!1;if(!mn)return BP(t),mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!i1(t.type,t.memoizedProps)),e&&(e=Ai)){if(l1(t))throw ZM(),Error(xe(418));for(;e;)JM(t,e),e=qa(e.nextSibling)}if(BP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ai=qa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ai=null}}else Ai=Ni?qa(t.stateNode.nextSibling):null;return!0}function ZM(){for(var t=Ai;t;)t=qa(t.nextSibling)}function Uu(){Ai=Ni=null,mn=!1}function SE(t){So===null?So=[t]:So.push(t)}var yz=la.ReactCurrentBatchConfig;function mf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,t))}return t}function $m(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UP(t){var e=t._init;return e(t._payload)}function eD(t){function e(x,w){if(t){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Xa(x,w),x.index=0,x.sibling=null,x}function o(x,w,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,S,C){return w===null||w.tag!==6?(w=Cb(S,x.mode,C),w.return=x,w):(w=i(w,S),w.return=x,w)}function l(x,w,S,C){var E=S.type;return E===eu?d(x,w,S.props.children,C,S.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ea&&UP(E)===w.type)?(C=i(w,S.props),C.ref=mf(x,w,S),C.return=x,C):(C=Og(S.type,S.key,S.props,null,x.mode,C),C.ref=mf(x,w,S),C.return=x,C)}function c(x,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Ab(S,x.mode,C),w.return=x,w):(w=i(w,S.children||[]),w.return=x,w)}function d(x,w,S,C,E){return w===null||w.tag!==7?(w=Ql(S,x.mode,C,E),w.return=x,w):(w=i(w,S),w.return=x,w)}function f(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Cb(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cm:return S=Og(w.type,w.key,w.props,null,x.mode,S),S.ref=mf(x,null,w),S.return=x,S;case Zc:return w=Ab(w,x.mode,S),w.return=x,w;case Ea:var C=w._init;return f(x,C(w._payload),S)}if(kf(w)||uf(w))return w=Ql(w,x.mode,S,null),w.return=x,w;$m(x,w)}return null}function h(x,w,S,C){var E=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(x,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Cm:return S.key===E?l(x,w,S,C):null;case Zc:return S.key===E?c(x,w,S,C):null;case Ea:return E=S._init,h(x,w,E(S._payload),C)}if(kf(S)||uf(S))return E!==null?null:d(x,w,S,C,null);$m(x,S)}return null}function m(x,w,S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(S)||null,a(w,x,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cm:return x=x.get(C.key===null?S:C.key)||null,l(w,x,C,E);case Zc:return x=x.get(C.key===null?S:C.key)||null,c(w,x,C,E);case Ea:var P=C._init;return m(x,w,S,P(C._payload),E)}if(kf(C)||uf(C))return x=x.get(S)||null,d(w,x,C,E,null);$m(w,C)}return null}function y(x,w,S,C){for(var E=null,P=null,_=w,T=w=0,N=null;_!==null&&T<S.length;T++){_.index>T?(N=_,_=null):N=_.sibling;var k=h(x,_,S[T],C);if(k===null){_===null&&(_=N);break}t&&_&&k.alternate===null&&e(x,_),w=o(k,w,T),P===null?E=k:P.sibling=k,P=k,_=N}if(T===S.length)return n(x,_),mn&&Nl(x,T),E;if(_===null){for(;T<S.length;T++)_=f(x,S[T],C),_!==null&&(w=o(_,w,T),P===null?E=_:P.sibling=_,P=_);return mn&&Nl(x,T),E}for(_=r(x,_);T<S.length;T++)N=m(_,x,T,S[T],C),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?T:N.key),w=o(N,w,T),P===null?E=N:P.sibling=N,P=N);return t&&_.forEach(function(j){return e(x,j)}),mn&&Nl(x,T),E}function g(x,w,S,C){var E=uf(S);if(typeof E!="function")throw Error(xe(150));if(S=E.call(S),S==null)throw Error(xe(151));for(var P=E=null,_=w,T=w=0,N=null,k=S.next();_!==null&&!k.done;T++,k=S.next()){_.index>T?(N=_,_=null):N=_.sibling;var j=h(x,_,k.value,C);if(j===null){_===null&&(_=N);break}t&&_&&j.alternate===null&&e(x,_),w=o(j,w,T),P===null?E=j:P.sibling=j,P=j,_=N}if(k.done)return n(x,_),mn&&Nl(x,T),E;if(_===null){for(;!k.done;T++,k=S.next())k=f(x,k.value,C),k!==null&&(w=o(k,w,T),P===null?E=k:P.sibling=k,P=k);return mn&&Nl(x,T),E}for(_=r(x,_);!k.done;T++,k=S.next())k=m(_,x,T,k.value,C),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?T:k.key),w=o(k,w,T),P===null?E=k:P.sibling=k,P=k);return t&&_.forEach(function(R){return e(x,R)}),mn&&Nl(x,T),E}function v(x,w,S,C){if(typeof S=="object"&&S!==null&&S.type===eu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Cm:e:{for(var E=S.key,P=w;P!==null;){if(P.key===E){if(E=S.type,E===eu){if(P.tag===7){n(x,P.sibling),w=i(P,S.props.children),w.return=x,x=w;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ea&&UP(E)===P.type){n(x,P.sibling),w=i(P,S.props),w.ref=mf(x,P,S),w.return=x,x=w;break e}n(x,P);break}else e(x,P);P=P.sibling}S.type===eu?(w=Ql(S.props.children,x.mode,C,S.key),w.return=x,x=w):(C=Og(S.type,S.key,S.props,null,x.mode,C),C.ref=mf(x,w,S),C.return=x,x=C)}return s(x);case Zc:e:{for(P=S.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(x,w.sibling),w=i(w,S.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Ab(S,x.mode,C),w.return=x,x=w}return s(x);case Ea:return P=S._init,v(x,w,P(S._payload),C)}if(kf(S))return y(x,w,S,C);if(uf(S))return g(x,w,S,C);$m(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,S),w.return=x,x=w):(n(x,w),w=Cb(S,x.mode,C),w.return=x,x=w),s(x)):n(x,w)}return v}var zu=eD(!0),tD=eD(!1),dy=gl(null),fy=null,lu=null,_E=null;function EE(){_E=lu=fy=null}function TE(t){var e=dy.current;hn(dy),t._currentValue=e}function u1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vu(t,e){fy=t,_E=lu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ci=!0),t.firstContext=null)}function Ji(t){var e=t._currentValue;if(_E!==t)if(t={context:t,memoizedValue:e,next:null},lu===null){if(fy===null)throw Error(xe(308));lu=t,fy.dependencies={lanes:0,firstContext:t}}else lu=lu.next=t;return e}var Dl=null;function CE(t){Dl===null?Dl=[t]:Dl.push(t)}function nD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,CE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xs(t,r)}function Xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ta=!1;function AE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xs(t,n)}return i=r.interleaved,i===null?(e.next=e,CE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xs(t,n)}function Ag(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fE(t,n)}}function zP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hy(t,e,n,r){var i=t.updateQueue;Ta=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=c=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(h=e,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Cn({},f,h);break e;case 2:Ta=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);sc|=s,t.lanes=s,t.memoizedState=f}}function WP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xe(191,i));i.call(r)}}}var Vp={},as=gl(Vp),Eh=gl(Vp),Th=gl(Vp);function $l(t){if(t===Vp)throw Error(xe(174));return t}function PE(t,e){switch(tn(Th,e),tn(Eh,t),tn(as,Vp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ww(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ww(e,t)}hn(as),tn(as,e)}function Wu(){hn(as),hn(Eh),hn(Th)}function iD(t){$l(Th.current);var e=$l(as.current),n=Ww(e,t.type);e!==n&&(tn(Eh,t),tn(as,n))}function NE(t){Eh.current===t&&(hn(as),hn(Eh))}var Sn=gl(0);function py(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bb=[];function jE(){for(var t=0;t<bb.length;t++)bb[t]._workInProgressVersionPrimary=null;bb.length=0}var Pg=la.ReactCurrentDispatcher,wb=la.ReactCurrentBatchConfig,oc=0,Tn=null,Kn=null,lr=null,my=!1,Gf=!1,Ch=0,vz=0;function Mr(){throw Error(xe(321))}function IE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mo(t[n],e[n]))return!1;return!0}function kE(t,e,n,r,i,o){if(oc=o,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pg.current=t===null||t.memoizedState===null?Sz:_z,t=n(r,i),Gf){o=0;do{if(Gf=!1,Ch=0,25<=o)throw Error(xe(301));o+=1,lr=Kn=null,e.updateQueue=null,Pg.current=Ez,t=n(r,i)}while(Gf)}if(Pg.current=gy,e=Kn!==null&&Kn.next!==null,oc=0,lr=Kn=Tn=null,my=!1,e)throw Error(xe(300));return t}function OE(){var t=Ch!==0;return Ch=0,t}function Go(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Tn.memoizedState=lr=t:lr=lr.next=t,lr}function Zi(){if(Kn===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=Kn.next;var e=lr===null?Tn.memoizedState:lr.next;if(e!==null)lr=e,Kn=t;else{if(t===null)throw Error(xe(310));Kn=t,t={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},lr===null?Tn.memoizedState=lr=t:lr=lr.next=t}return lr}function Ah(t,e){return typeof e=="function"?e(t):e}function Sb(t){var e=Zi(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=Kn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((oc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Tn.lanes|=d,sc|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Mo(r,e.memoizedState)||(ci=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Tn.lanes|=o,sc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _b(t){var e=Zi(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Mo(o,e.memoizedState)||(ci=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function oD(){}function sD(t,e){var n=Tn,r=Zi(),i=e(),o=!Mo(r.memoizedState,i);if(o&&(r.memoizedState=i,ci=!0),r=r.queue,RE(cD.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||lr!==null&&lr.memoizedState.tag&1){if(n.flags|=2048,Ph(9,lD.bind(null,n,r,i,e),void 0,null),dr===null)throw Error(xe(349));oc&30||aD(n,e,i)}return i}function aD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lD(t,e,n,r){e.value=n,e.getSnapshot=r,uD(e)&&dD(t)}function cD(t,e,n){return n(function(){uD(e)&&dD(t)})}function uD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mo(t,n)}catch{return!0}}function dD(t){var e=Xs(t,1);e!==null&&Io(e,t,1,-1)}function HP(t){var e=Go();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:t},e.queue=t,t=t.dispatch=wz.bind(null,Tn,t),[e.memoizedState,t]}function Ph(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fD(){return Zi().memoizedState}function Ng(t,e,n,r){var i=Go();Tn.flags|=t,i.memoizedState=Ph(1|e,n,void 0,r===void 0?null:r)}function cx(t,e,n,r){var i=Zi();r=r===void 0?null:r;var o=void 0;if(Kn!==null){var s=Kn.memoizedState;if(o=s.destroy,r!==null&&IE(r,s.deps)){i.memoizedState=Ph(e,n,o,r);return}}Tn.flags|=t,i.memoizedState=Ph(1|e,n,o,r)}function qP(t,e){return Ng(8390656,8,t,e)}function RE(t,e){return cx(2048,8,t,e)}function hD(t,e){return cx(4,2,t,e)}function pD(t,e){return cx(4,4,t,e)}function mD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gD(t,e,n){return n=n!=null?n.concat([t]):null,cx(4,4,mD.bind(null,e,t),n)}function ME(){}function yD(t,e){var n=Zi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&IE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vD(t,e){var n=Zi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&IE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xD(t,e,n){return oc&21?(Mo(n,e)||(n=EM(),Tn.lanes|=n,sc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ci=!0),t.memoizedState=n)}function xz(t,e){var n=Lt;Lt=n!==0&&4>n?n:4,t(!0);var r=wb.transition;wb.transition={};try{t(!1),e()}finally{Lt=n,wb.transition=r}}function bD(){return Zi().memoizedState}function bz(t,e,n){var r=Ya(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wD(t))SD(e,n);else if(n=nD(t,e,n,r),n!==null){var i=ei();Io(n,t,r,i),_D(n,e,r)}}function wz(t,e,n){var r=Ya(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wD(t))SD(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Mo(a,s)){var l=e.interleaved;l===null?(i.next=i,CE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nD(t,e,i,r),n!==null&&(i=ei(),Io(n,t,r,i),_D(n,e,r))}}function wD(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function SD(t,e){Gf=my=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _D(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fE(t,n)}}var gy={readContext:Ji,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},Sz={readContext:Ji,useCallback:function(t,e){return Go().memoizedState=[t,e===void 0?null:e],t},useContext:Ji,useEffect:qP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ng(4194308,4,mD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ng(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ng(4,2,t,e)},useMemo:function(t,e){var n=Go();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Go();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bz.bind(null,Tn,t),[r.memoizedState,t]},useRef:function(t){var e=Go();return t={current:t},e.memoizedState=t},useState:HP,useDebugValue:ME,useDeferredValue:function(t){return Go().memoizedState=t},useTransition:function(){var t=HP(!1),e=t[0];return t=xz.bind(null,t[1]),Go().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tn,i=Go();if(mn){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=e(),dr===null)throw Error(xe(349));oc&30||aD(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,qP(cD.bind(null,r,o,t),[t]),r.flags|=2048,Ph(9,lD.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Go(),e=dr.identifierPrefix;if(mn){var n=Ls,r=$s;n=(r&~(1<<32-jo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ch++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_z={readContext:Ji,useCallback:yD,useContext:Ji,useEffect:RE,useImperativeHandle:gD,useInsertionEffect:hD,useLayoutEffect:pD,useMemo:vD,useReducer:Sb,useRef:fD,useState:function(){return Sb(Ah)},useDebugValue:ME,useDeferredValue:function(t){var e=Zi();return xD(e,Kn.memoizedState,t)},useTransition:function(){var t=Sb(Ah)[0],e=Zi().memoizedState;return[t,e]},useMutableSource:oD,useSyncExternalStore:sD,useId:bD,unstable_isNewReconciler:!1},Ez={readContext:Ji,useCallback:yD,useContext:Ji,useEffect:RE,useImperativeHandle:gD,useInsertionEffect:hD,useLayoutEffect:pD,useMemo:vD,useReducer:_b,useRef:fD,useState:function(){return _b(Ah)},useDebugValue:ME,useDeferredValue:function(t){var e=Zi();return Kn===null?e.memoizedState=t:xD(e,Kn.memoizedState,t)},useTransition:function(){var t=_b(Ah)[0],e=Zi().memoizedState;return[t,e]},useMutableSource:oD,useSyncExternalStore:sD,useId:bD,unstable_isNewReconciler:!1};function go(t,e){if(t&&t.defaultProps){e=Cn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function d1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Cn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ux={isMounted:function(t){return(t=t._reactInternals)?_c(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ei(),i=Ya(t),o=zs(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ga(t,o,i),e!==null&&(Io(e,t,i,r),Ag(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ei(),i=Ya(t),o=zs(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ga(t,o,i),e!==null&&(Io(e,t,i,r),Ag(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ei(),r=Ya(t),i=zs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ga(t,i,r),e!==null&&(Io(e,t,r,n),Ag(e,t,r))}};function GP(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!bh(n,r)||!bh(i,o):!0}function ED(t,e,n){var r=!1,i=ol,o=e.contextType;return typeof o=="object"&&o!==null?o=Ji(o):(i=fi(e)?rc:Hr.current,r=e.contextTypes,o=(r=r!=null)?Bu(t,i):ol),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ux,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function KP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ux.enqueueReplaceState(e,e.state,null)}function f1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},AE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ji(o):(o=fi(e)?rc:Hr.current,i.context=Bu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(d1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ux.enqueueReplaceState(i,i.state,null),hy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hu(t,e){try{var n="",r=e;do n+=J9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Eb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function h1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Tz=typeof WeakMap=="function"?WeakMap:Map;function TD(t,e,n){n=zs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vy||(vy=!0,_1=r),h1(t,e)},n}function CD(t,e,n){n=zs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){h1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){h1(t,e),typeof r!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function YP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Tz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Fz.bind(null,t,e,n),e.then(t,t))}function XP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zs(-1,1),e.tag=2,Ga(n,e,1))),n.lanes|=1),t)}var Cz=la.ReactCurrentOwner,ci=!1;function Xr(t,e,n,r){e.child=t===null?tD(e,null,n,r):zu(e,t.child,n,r)}function JP(t,e,n,r,i){n=n.render;var o=e.ref;return vu(e,i),r=kE(t,e,n,r,o,i),n=OE(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):(mn&&n&&bE(e),e.flags|=1,Xr(t,e,r,i),e.child)}function ZP(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!zE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,AD(t,e,o,r,i)):(t=Og(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:bh,n(s,r)&&t.ref===e.ref)return Qs(t,e,i)}return e.flags|=1,t=Xa(o,r),t.ref=e.ref,t.return=e,e.child=t}function AD(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(bh(o,r)&&t.ref===e.ref)if(ci=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ci=!0);else return e.lanes=t.lanes,Qs(t,e,i)}return p1(t,e,n,r,i)}function PD(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(uu,_i),_i|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tn(uu,_i),_i|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tn(uu,_i),_i|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,tn(uu,_i),_i|=r;return Xr(t,e,i,n),e.child}function ND(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function p1(t,e,n,r,i){var o=fi(n)?rc:Hr.current;return o=Bu(e,o),vu(e,i),n=kE(t,e,n,r,o,i),r=OE(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):(mn&&r&&bE(e),e.flags|=1,Xr(t,e,n,i),e.child)}function eN(t,e,n,r,i){if(fi(n)){var o=!0;ly(e)}else o=!1;if(vu(e,i),e.stateNode===null)jg(t,e),ED(e,n,r),f1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ji(c):(c=fi(n)?rc:Hr.current,c=Bu(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&KP(e,s,r,c),Ta=!1;var h=e.memoizedState;s.state=h,hy(e,r,s,i),l=e.memoizedState,a!==r||h!==l||di.current||Ta?(typeof d=="function"&&(d1(e,n,d,r),l=e.memoizedState),(a=Ta||GP(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,rD(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:go(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ji(l):(l=fi(n)?rc:Hr.current,l=Bu(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&KP(e,s,r,l),Ta=!1,h=e.memoizedState,s.state=h,hy(e,r,s,i);var y=e.memoizedState;a!==f||h!==y||di.current||Ta?(typeof m=="function"&&(d1(e,n,m,r),y=e.memoizedState),(c=Ta||GP(e,n,c,r,h,y,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return m1(t,e,n,r,o,i)}function m1(t,e,n,r,i,o){ND(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&FP(e,n,!1),Qs(t,e,o);r=e.stateNode,Cz.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=zu(e,t.child,null,o),e.child=zu(e,null,a,o)):Xr(t,e,a,o),e.memoizedState=r.state,i&&FP(e,n,!0),e.child}function jD(t){var e=t.stateNode;e.pendingContext?LP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LP(t,e.context,!1),PE(t,e.containerInfo)}function tN(t,e,n,r,i){return Uu(),SE(i),e.flags|=256,Xr(t,e,n,r),e.child}var g1={dehydrated:null,treeContext:null,retryLane:0};function y1(t){return{baseLanes:t,cachePool:null,transitions:null}}function ID(t,e,n){var r=e.pendingProps,i=Sn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tn(Sn,i&1),t===null)return c1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=hx(s,r,0,null),t=Ql(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=y1(n),e.memoizedState=g1,t):DE(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Az(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Xa(a,o):(o=Ql(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?y1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=g1,r}return o=t.child,t=o.sibling,r=Xa(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function DE(t,e){return e=hx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lm(t,e,n,r){return r!==null&&SE(r),zu(e,t.child,null,n),t=DE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Az(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Eb(Error(xe(422))),Lm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=hx({mode:"visible",children:r.children},i,0,null),o=Ql(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&zu(e,t.child,null,s),e.child.memoizedState=y1(s),e.memoizedState=g1,o);if(!(e.mode&1))return Lm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(xe(419)),r=Eb(o,r,void 0),Lm(t,e,s,r)}if(a=(s&t.childLanes)!==0,ci||a){if(r=dr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xs(t,i),Io(r,t,i,-1))}return UE(),r=Eb(Error(xe(421))),Lm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Vz.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ai=qa(i.nextSibling),Ni=e,mn=!0,So=null,t!==null&&(zi[Wi++]=$s,zi[Wi++]=Ls,zi[Wi++]=ic,$s=t.id,Ls=t.overflow,ic=e),e=DE(e,r.children),e.flags|=4096,e)}function nN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),u1(t.return,e,n)}function Tb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function kD(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Xr(t,e,r.children,n),r=Sn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nN(t,n,e);else if(t.tag===19)nN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tn(Sn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&py(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&py(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tb(e,!0,n,null,o);break;case"together":Tb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,n=Xa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pz(t,e,n){switch(e.tag){case 3:jD(e),Uu();break;case 5:iD(e);break;case 1:fi(e.type)&&ly(e);break;case 4:PE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tn(dy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tn(Sn,Sn.current&1),e.flags|=128,null):n&e.child.childLanes?ID(t,e,n):(tn(Sn,Sn.current&1),t=Qs(t,e,n),t!==null?t.sibling:null);tn(Sn,Sn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tn(Sn,Sn.current),r)break;return null;case 22:case 23:return e.lanes=0,PD(t,e,n)}return Qs(t,e,n)}var OD,v1,RD,MD;OD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};v1=function(){};RD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$l(as.current);var o=null;switch(n){case"input":i=Vw(t,i),r=Vw(t,r),o=[];break;case"select":i=Cn({},i,{value:void 0}),r=Cn({},r,{value:void 0}),o=[];break;case"textarea":i=zw(t,i),r=zw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sy)}Hw(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ln("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};MD=function(t,e,n,r){n!==r&&(e.flags|=4)};function gf(t,e){if(!mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Nz(t,e,n){var r=e.pendingProps;switch(wE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(e),null;case 1:return fi(e.type)&&ay(),Dr(e),null;case 3:return r=e.stateNode,Wu(),hn(di),hn(Hr),jE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,So!==null&&(C1(So),So=null))),v1(t,e),Dr(e),null;case 5:NE(e);var i=$l(Th.current);if(n=e.type,t!==null&&e.stateNode!=null)RD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(xe(166));return Dr(e),null}if(t=$l(as.current),Dm(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[rs]=e,r[_h]=o,t=(e.mode&1)!==0,n){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(i=0;i<Rf.length;i++)ln(Rf[i],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":dP(r,o),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ln("invalid",r);break;case"textarea":hP(r,o),ln("invalid",r)}Hw(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Mm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Mm(r.textContent,a,t),i=["children",""+a]):hh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ln("scroll",r)}switch(n){case"input":Am(r),fP(r,o,!0);break;case"textarea":Am(r),pP(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[rs]=e,t[_h]=r,OD(t,e,!1,!1),e.stateNode=t;e:{switch(s=qw(n,r),n){case"dialog":ln("cancel",t),ln("close",t),i=r;break;case"iframe":case"object":case"embed":ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rf.length;i++)ln(Rf[i],t);i=r;break;case"source":ln("error",t),i=r;break;case"img":case"image":case"link":ln("error",t),ln("load",t),i=r;break;case"details":ln("toggle",t),i=r;break;case"input":dP(t,r),i=Vw(t,r),ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Cn({},r,{value:void 0}),ln("invalid",t);break;case"textarea":hP(t,r),i=zw(t,r),ln("invalid",t);break;default:i=r}Hw(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?fM(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uM(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ph(t,l):typeof l=="number"&&ph(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ln("scroll",t):l!=null&&sE(t,o,l,s))}switch(n){case"input":Am(t),fP(t,r,!1);break;case"textarea":Am(t),pP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+il(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?pu(t,!!r.multiple,o,!1):r.defaultValue!=null&&pu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dr(e),null;case 6:if(t&&e.stateNode!=null)MD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(xe(166));if(n=$l(Th.current),$l(as.current),Dm(e)){if(r=e.stateNode,n=e.memoizedProps,r[rs]=e,(o=r.nodeValue!==n)&&(t=Ni,t!==null))switch(t.tag){case 3:Mm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mm(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rs]=e,e.stateNode=r}return Dr(e),null;case 13:if(hn(Sn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mn&&Ai!==null&&e.mode&1&&!(e.flags&128))ZM(),Uu(),e.flags|=98560,o=!1;else if(o=Dm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(xe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(xe(317));o[rs]=e}else Uu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dr(e),o=!1}else So!==null&&(C1(So),So=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Sn.current&1?Xn===0&&(Xn=3):UE())),e.updateQueue!==null&&(e.flags|=4),Dr(e),null);case 4:return Wu(),v1(t,e),t===null&&wh(e.stateNode.containerInfo),Dr(e),null;case 10:return TE(e.type._context),Dr(e),null;case 17:return fi(e.type)&&ay(),Dr(e),null;case 19:if(hn(Sn),o=e.memoizedState,o===null)return Dr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)gf(o,!1);else{if(Xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=py(t),s!==null){for(e.flags|=128,gf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tn(Sn,Sn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Mn()>qu&&(e.flags|=128,r=!0,gf(o,!1),e.lanes=4194304)}else{if(!r)if(t=py(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!mn)return Dr(e),null}else 2*Mn()-o.renderingStartTime>qu&&n!==1073741824&&(e.flags|=128,r=!0,gf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Mn(),e.sibling=null,n=Sn.current,tn(Sn,r?n&1|2:n&1),e):(Dr(e),null);case 22:case 23:return BE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_i&1073741824&&(Dr(e),e.subtreeFlags&6&&(e.flags|=8192)):Dr(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function jz(t,e){switch(wE(e),e.tag){case 1:return fi(e.type)&&ay(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wu(),hn(di),hn(Hr),jE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return NE(e),null;case 13:if(hn(Sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));Uu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return hn(Sn),null;case 4:return Wu(),null;case 10:return TE(e.type._context),null;case 22:case 23:return BE(),null;case 24:return null;default:return null}}var Fm=!1,Br=!1,Iz=typeof WeakSet=="function"?WeakSet:Set,$e=null;function cu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jn(t,e,r)}else n.current=null}function x1(t,e,n){try{n()}catch(r){jn(t,e,r)}}var rN=!1;function kz(t,e){if(n1=ry,t=VM(),xE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(r1={focusedElem:t,selectionRange:n},ry=!1,$e=e;$e!==null;)if(e=$e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$e=t;else for(;$e!==null;){e=$e;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:go(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(C){jn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,$e=t;break}$e=e.return}return y=rN,rN=!1,y}function Kf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&x1(e,n,o)}i=i.next}while(i!==r)}}function dx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function b1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DD(t){var e=t.alternate;e!==null&&(t.alternate=null,DD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rs],delete e[_h],delete e[s1],delete e[pz],delete e[mz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $D(t){return t.tag===5||t.tag===3||t.tag===4}function iN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$D(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function w1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sy));else if(r!==4&&(t=t.child,t!==null))for(w1(t,e,n),t=t.sibling;t!==null;)w1(t,e,n),t=t.sibling}function S1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(S1(t,e,n),t=t.sibling;t!==null;)S1(t,e,n),t=t.sibling}var yr=null,xo=!1;function va(t,e,n){for(n=n.child;n!==null;)LD(t,e,n),n=n.sibling}function LD(t,e,n){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(rx,n)}catch{}switch(n.tag){case 5:Br||cu(n,e);case 6:var r=yr,i=xo;yr=null,va(t,e,n),yr=r,xo=i,yr!==null&&(xo?(t=yr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yr.removeChild(n.stateNode));break;case 18:yr!==null&&(xo?(t=yr,n=n.stateNode,t.nodeType===8?vb(t.parentNode,n):t.nodeType===1&&vb(t,n),vh(t)):vb(yr,n.stateNode));break;case 4:r=yr,i=xo,yr=n.stateNode.containerInfo,xo=!0,va(t,e,n),yr=r,xo=i;break;case 0:case 11:case 14:case 15:if(!Br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&x1(n,e,s),i=i.next}while(i!==r)}va(t,e,n);break;case 1:if(!Br&&(cu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jn(n,e,a)}va(t,e,n);break;case 21:va(t,e,n);break;case 22:n.mode&1?(Br=(r=Br)||n.memoizedState!==null,va(t,e,n),Br=r):va(t,e,n);break;default:va(t,e,n)}}function oN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Iz),e.forEach(function(r){var i=Bz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:yr=a.stateNode,xo=!1;break e;case 3:yr=a.stateNode.containerInfo,xo=!0;break e;case 4:yr=a.stateNode.containerInfo,xo=!0;break e}a=a.return}if(yr===null)throw Error(xe(160));LD(o,s,i),yr=null,xo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){jn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FD(e,t),e=e.sibling}function FD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fo(e,t),Ho(t),r&4){try{Kf(3,t,t.return),dx(3,t)}catch(g){jn(t,t.return,g)}try{Kf(5,t,t.return)}catch(g){jn(t,t.return,g)}}break;case 1:fo(e,t),Ho(t),r&512&&n!==null&&cu(n,n.return);break;case 5:if(fo(e,t),Ho(t),r&512&&n!==null&&cu(n,n.return),t.flags&32){var i=t.stateNode;try{ph(i,"")}catch(g){jn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&aM(i,o),qw(a,s);var c=qw(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?fM(i,f):d==="dangerouslySetInnerHTML"?uM(i,f):d==="children"?ph(i,f):sE(i,d,f,c)}switch(a){case"input":Bw(i,o);break;case"textarea":lM(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?pu(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?pu(i,!!o.multiple,o.defaultValue,!0):pu(i,!!o.multiple,o.multiple?[]:"",!1))}i[_h]=o}catch(g){jn(t,t.return,g)}}break;case 6:if(fo(e,t),Ho(t),r&4){if(t.stateNode===null)throw Error(xe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){jn(t,t.return,g)}}break;case 3:if(fo(e,t),Ho(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vh(e.containerInfo)}catch(g){jn(t,t.return,g)}break;case 4:fo(e,t),Ho(t);break;case 13:fo(e,t),Ho(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(FE=Mn())),r&4&&oN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Br=(c=Br)||d,fo(e,t),Br=c):fo(e,t),Ho(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for($e=t,d=t.child;d!==null;){for(f=$e=d;$e!==null;){switch(h=$e,m=h.child,h.tag){case 0:case 11:case 14:case 15:Kf(4,h,h.return);break;case 1:cu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){jn(r,n,g)}}break;case 5:cu(h,h.return);break;case 22:if(h.memoizedState!==null){aN(f);continue}}m!==null?(m.return=h,$e=m):aN(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dM("display",s))}catch(g){jn(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){jn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fo(e,t),Ho(t),r&4&&oN(t);break;case 21:break;default:fo(e,t),Ho(t)}}function Ho(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($D(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ph(i,""),r.flags&=-33);var o=iN(t);S1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=iN(t);w1(t,a,s);break;default:throw Error(xe(161))}}catch(l){jn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Oz(t,e,n){$e=t,VD(t)}function VD(t,e,n){for(var r=(t.mode&1)!==0;$e!==null;){var i=$e,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Fm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Br;a=Fm;var c=Br;if(Fm=s,(Br=l)&&!c)for($e=i;$e!==null;)s=$e,l=s.child,s.tag===22&&s.memoizedState!==null?lN(i):l!==null?(l.return=s,$e=l):lN(i);for(;o!==null;)$e=o,VD(o),o=o.sibling;$e=i,Fm=a,Br=c}sN(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$e=o):sN(t)}}function sN(t){for(;$e!==null;){var e=$e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Br||dx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Br)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:go(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&WP(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}WP(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Br||e.flags&512&&b1(e)}catch(h){jn(e,e.return,h)}}if(e===t){$e=null;break}if(n=e.sibling,n!==null){n.return=e.return,$e=n;break}$e=e.return}}function aN(t){for(;$e!==null;){var e=$e;if(e===t){$e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$e=n;break}$e=e.return}}function lN(t){for(;$e!==null;){var e=$e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dx(4,e)}catch(l){jn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){jn(e,i,l)}}var o=e.return;try{b1(e)}catch(l){jn(e,o,l)}break;case 5:var s=e.return;try{b1(e)}catch(l){jn(e,s,l)}}}catch(l){jn(e,e.return,l)}if(e===t){$e=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$e=a;break}$e=e.return}}var Rz=Math.ceil,yy=la.ReactCurrentDispatcher,$E=la.ReactCurrentOwner,Yi=la.ReactCurrentBatchConfig,Nt=0,dr=null,Bn=null,_r=0,_i=0,uu=gl(0),Xn=0,Nh=null,sc=0,fx=0,LE=0,Yf=null,li=null,FE=0,qu=1/0,Os=null,vy=!1,_1=null,Ka=null,Vm=!1,$a=null,xy=0,Xf=0,E1=null,Ig=-1,kg=0;function ei(){return Nt&6?Mn():Ig!==-1?Ig:Ig=Mn()}function Ya(t){return t.mode&1?Nt&2&&_r!==0?_r&-_r:yz.transition!==null?(kg===0&&(kg=EM()),kg):(t=Lt,t!==0||(t=window.event,t=t===void 0?16:IM(t.type)),t):1}function Io(t,e,n,r){if(50<Xf)throw Xf=0,E1=null,Error(xe(185));$p(t,n,r),(!(Nt&2)||t!==dr)&&(t===dr&&(!(Nt&2)&&(fx|=n),Xn===4&&Pa(t,_r)),hi(t,r),n===1&&Nt===0&&!(e.mode&1)&&(qu=Mn()+500,lx&&yl()))}function hi(t,e){var n=t.callbackNode;y8(t,e);var r=ny(t,t===dr?_r:0);if(r===0)n!==null&&yP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yP(n),e===1)t.tag===0?gz(cN.bind(null,t)):XM(cN.bind(null,t)),fz(function(){!(Nt&6)&&yl()}),n=null;else{switch(TM(r)){case 1:n=dE;break;case 4:n=SM;break;case 16:n=ty;break;case 536870912:n=_M;break;default:n=ty}n=KD(n,BD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function BD(t,e){if(Ig=-1,kg=0,Nt&6)throw Error(xe(327));var n=t.callbackNode;if(xu()&&t.callbackNode!==n)return null;var r=ny(t,t===dr?_r:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=by(t,r);else{e=r;var i=Nt;Nt|=2;var o=zD();(dr!==t||_r!==e)&&(Os=null,qu=Mn()+500,Xl(t,e));do try{$z();break}catch(a){UD(t,a)}while(!0);EE(),yy.current=o,Nt=i,Bn!==null?e=0:(dr=null,_r=0,e=Xn)}if(e!==0){if(e===2&&(i=Qw(t),i!==0&&(r=i,e=T1(t,i))),e===1)throw n=Nh,Xl(t,0),Pa(t,r),hi(t,Mn()),n;if(e===6)Pa(t,r);else{if(i=t.current.alternate,!(r&30)&&!Mz(i)&&(e=by(t,r),e===2&&(o=Qw(t),o!==0&&(r=o,e=T1(t,o))),e===1))throw n=Nh,Xl(t,0),Pa(t,r),hi(t,Mn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(xe(345));case 2:jl(t,li,Os);break;case 3:if(Pa(t,r),(r&130023424)===r&&(e=FE+500-Mn(),10<e)){if(ny(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ei(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=o1(jl.bind(null,t,li,Os),e);break}jl(t,li,Os);break;case 4:if(Pa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-jo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Mn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rz(r/1960))-r,10<r){t.timeoutHandle=o1(jl.bind(null,t,li,Os),r);break}jl(t,li,Os);break;case 5:jl(t,li,Os);break;default:throw Error(xe(329))}}}return hi(t,Mn()),t.callbackNode===n?BD.bind(null,t):null}function T1(t,e){var n=Yf;return t.current.memoizedState.isDehydrated&&(Xl(t,e).flags|=256),t=by(t,e),t!==2&&(e=li,li=n,e!==null&&C1(e)),t}function C1(t){li===null?li=t:li.push.apply(li,t)}function Mz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pa(t,e){for(e&=~LE,e&=~fx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jo(e),r=1<<n;t[n]=-1,e&=~r}}function cN(t){if(Nt&6)throw Error(xe(327));xu();var e=ny(t,0);if(!(e&1))return hi(t,Mn()),null;var n=by(t,e);if(t.tag!==0&&n===2){var r=Qw(t);r!==0&&(e=r,n=T1(t,r))}if(n===1)throw n=Nh,Xl(t,0),Pa(t,e),hi(t,Mn()),n;if(n===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jl(t,li,Os),hi(t,Mn()),null}function VE(t,e){var n=Nt;Nt|=1;try{return t(e)}finally{Nt=n,Nt===0&&(qu=Mn()+500,lx&&yl())}}function ac(t){$a!==null&&$a.tag===0&&!(Nt&6)&&xu();var e=Nt;Nt|=1;var n=Yi.transition,r=Lt;try{if(Yi.transition=null,Lt=1,t)return t()}finally{Lt=r,Yi.transition=n,Nt=e,!(Nt&6)&&yl()}}function BE(){_i=uu.current,hn(uu)}function Xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dz(n)),Bn!==null)for(n=Bn.return;n!==null;){var r=n;switch(wE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ay();break;case 3:Wu(),hn(di),hn(Hr),jE();break;case 5:NE(r);break;case 4:Wu();break;case 13:hn(Sn);break;case 19:hn(Sn);break;case 10:TE(r.type._context);break;case 22:case 23:BE()}n=n.return}if(dr=t,Bn=t=Xa(t.current,null),_r=_i=e,Xn=0,Nh=null,LE=fx=sc=0,li=Yf=null,Dl!==null){for(e=0;e<Dl.length;e++)if(n=Dl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Dl=null}return t}function UD(t,e){do{var n=Bn;try{if(EE(),Pg.current=gy,my){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}my=!1}if(oc=0,lr=Kn=Tn=null,Gf=!1,Ch=0,$E.current=null,n===null||n.return===null){Xn=1,Nh=e,Bn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=_r,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=XP(s);if(m!==null){m.flags&=-257,QP(m,s,a,o,e),m.mode&1&&YP(o,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){YP(o,c,e),UE();break e}l=Error(xe(426))}}else if(mn&&a.mode&1){var v=XP(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),QP(v,s,a,o,e),SE(Hu(l,a));break e}}o=l=Hu(l,a),Xn!==4&&(Xn=2),Yf===null?Yf=[o]:Yf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=TD(o,l,e);zP(o,x);break e;case 1:a=l;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ka===null||!Ka.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=CD(o,a,e);zP(o,C);break e}}o=o.return}while(o!==null)}HD(n)}catch(E){e=E,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(!0)}function zD(){var t=yy.current;return yy.current=gy,t===null?gy:t}function UE(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),dr===null||!(sc&268435455)&&!(fx&268435455)||Pa(dr,_r)}function by(t,e){var n=Nt;Nt|=2;var r=zD();(dr!==t||_r!==e)&&(Os=null,Xl(t,e));do try{Dz();break}catch(i){UD(t,i)}while(!0);if(EE(),Nt=n,yy.current=r,Bn!==null)throw Error(xe(261));return dr=null,_r=0,Xn}function Dz(){for(;Bn!==null;)WD(Bn)}function $z(){for(;Bn!==null&&!l8();)WD(Bn)}function WD(t){var e=GD(t.alternate,t,_i);t.memoizedProps=t.pendingProps,e===null?HD(t):Bn=e,$E.current=null}function HD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jz(n,e),n!==null){n.flags&=32767,Bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xn=6,Bn=null;return}}else if(n=Nz(n,e,_i),n!==null){Bn=n;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=t}while(e!==null);Xn===0&&(Xn=5)}function jl(t,e,n){var r=Lt,i=Yi.transition;try{Yi.transition=null,Lt=1,Lz(t,e,n,r)}finally{Yi.transition=i,Lt=r}return null}function Lz(t,e,n,r){do xu();while($a!==null);if(Nt&6)throw Error(xe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(v8(t,o),t===dr&&(Bn=dr=null,_r=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vm||(Vm=!0,KD(ty,function(){return xu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yi.transition,Yi.transition=null;var s=Lt;Lt=1;var a=Nt;Nt|=4,$E.current=null,kz(t,n),FD(n,t),iz(r1),ry=!!n1,r1=n1=null,t.current=n,Oz(n),c8(),Nt=a,Lt=s,Yi.transition=o}else t.current=n;if(Vm&&(Vm=!1,$a=t,xy=i),o=t.pendingLanes,o===0&&(Ka=null),f8(n.stateNode),hi(t,Mn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vy)throw vy=!1,t=_1,_1=null,t;return xy&1&&t.tag!==0&&xu(),o=t.pendingLanes,o&1?t===E1?Xf++:(Xf=0,E1=t):Xf=0,yl(),null}function xu(){if($a!==null){var t=TM(xy),e=Yi.transition,n=Lt;try{if(Yi.transition=null,Lt=16>t?16:t,$a===null)var r=!1;else{if(t=$a,$a=null,xy=0,Nt&6)throw Error(xe(331));var i=Nt;for(Nt|=4,$e=t.current;$e!==null;){var o=$e,s=o.child;if($e.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($e=c;$e!==null;){var d=$e;switch(d.tag){case 0:case 11:case 15:Kf(8,d,o)}var f=d.child;if(f!==null)f.return=d,$e=f;else for(;$e!==null;){d=$e;var h=d.sibling,m=d.return;if(DD(d),d===c){$e=null;break}if(h!==null){h.return=m,$e=h;break}$e=m}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}$e=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,$e=s;else e:for(;$e!==null;){if(o=$e,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Kf(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,$e=x;break e}$e=o.return}}var w=t.current;for($e=w;$e!==null;){s=$e;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,$e=S;else e:for(s=w;$e!==null;){if(a=$e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dx(9,a)}}catch(E){jn(a,a.return,E)}if(a===s){$e=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,$e=C;break e}$e=a.return}}if(Nt=i,yl(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(rx,t)}catch{}r=!0}return r}finally{Lt=n,Yi.transition=e}}return!1}function uN(t,e,n){e=Hu(n,e),e=TD(t,e,1),t=Ga(t,e,1),e=ei(),t!==null&&($p(t,1,e),hi(t,e))}function jn(t,e,n){if(t.tag===3)uN(t,t,n);else for(;e!==null;){if(e.tag===3){uN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ka===null||!Ka.has(r))){t=Hu(n,t),t=CD(e,t,1),e=Ga(e,t,1),t=ei(),e!==null&&($p(e,1,t),hi(e,t));break}}e=e.return}}function Fz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ei(),t.pingedLanes|=t.suspendedLanes&n,dr===t&&(_r&n)===n&&(Xn===4||Xn===3&&(_r&130023424)===_r&&500>Mn()-FE?Xl(t,0):LE|=n),hi(t,e)}function qD(t,e){e===0&&(t.mode&1?(e=jm,jm<<=1,!(jm&130023424)&&(jm=4194304)):e=1);var n=ei();t=Xs(t,e),t!==null&&($p(t,e,n),hi(t,n))}function Vz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qD(t,n)}function Bz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(e),qD(t,n)}var GD;GD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||di.current)ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ci=!1,Pz(t,e,n);ci=!!(t.flags&131072)}else ci=!1,mn&&e.flags&1048576&&QM(e,uy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jg(t,e),t=e.pendingProps;var i=Bu(e,Hr.current);vu(e,n),i=kE(null,e,r,t,i,n);var o=OE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fi(r)?(o=!0,ly(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,AE(e),i.updater=ux,e.stateNode=i,i._reactInternals=e,f1(e,r,t,n),e=m1(null,e,r,!0,o,n)):(e.tag=0,mn&&o&&bE(e),Xr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zz(r),t=go(r,t),i){case 0:e=p1(null,e,r,t,n);break e;case 1:e=eN(null,e,r,t,n);break e;case 11:e=JP(null,e,r,t,n);break e;case 14:e=ZP(null,e,r,go(r.type,t),n);break e}throw Error(xe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),p1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),eN(t,e,r,i,n);case 3:e:{if(jD(e),t===null)throw Error(xe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,rD(t,e),hy(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Hu(Error(xe(423)),e),e=tN(t,e,r,n,i);break e}else if(r!==i){i=Hu(Error(xe(424)),e),e=tN(t,e,r,n,i);break e}else for(Ai=qa(e.stateNode.containerInfo.firstChild),Ni=e,mn=!0,So=null,n=tD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uu(),r===i){e=Qs(t,e,n);break e}Xr(t,e,r,n)}e=e.child}return e;case 5:return iD(e),t===null&&c1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,i1(r,i)?s=null:o!==null&&i1(r,o)&&(e.flags|=32),ND(t,e),Xr(t,e,s,n),e.child;case 6:return t===null&&c1(e),null;case 13:return ID(t,e,n);case 4:return PE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zu(e,null,r,n):Xr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),JP(t,e,r,i,n);case 7:return Xr(t,e,e.pendingProps,n),e.child;case 8:return Xr(t,e,e.pendingProps.children,n),e.child;case 12:return Xr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,tn(dy,r._currentValue),r._currentValue=s,o!==null)if(Mo(o.value,s)){if(o.children===i.children&&!di.current){e=Qs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=zs(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),u1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(xe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),u1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vu(e,n),i=Ji(i),r=r(i),e.flags|=1,Xr(t,e,r,n),e.child;case 14:return r=e.type,i=go(r,e.pendingProps),i=go(r.type,i),ZP(t,e,r,i,n);case 15:return AD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),jg(t,e),e.tag=1,fi(r)?(t=!0,ly(e)):t=!1,vu(e,n),ED(e,r,i),f1(e,r,i,n),m1(null,e,r,!0,t,n);case 19:return kD(t,e,n);case 22:return PD(t,e,n)}throw Error(xe(156,e.tag))};function KD(t,e){return wM(t,e)}function Uz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(t,e,n,r){return new Uz(t,e,n,r)}function zE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zz(t){if(typeof t=="function")return zE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lE)return 11;if(t===cE)return 14}return 2}function Xa(t,e){var n=t.alternate;return n===null?(n=Gi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Og(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")zE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case eu:return Ql(n.children,i,o,e);case aE:s=8,i|=8;break;case Dw:return t=Gi(12,n,e,i|2),t.elementType=Dw,t.lanes=o,t;case $w:return t=Gi(13,n,e,i),t.elementType=$w,t.lanes=o,t;case Lw:return t=Gi(19,n,e,i),t.elementType=Lw,t.lanes=o,t;case iM:return hx(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nM:s=10;break e;case rM:s=9;break e;case lE:s=11;break e;case cE:s=14;break e;case Ea:s=16,r=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=Gi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ql(t,e,n,r){return t=Gi(7,t,r,e),t.lanes=n,t}function hx(t,e,n,r){return t=Gi(22,t,r,e),t.elementType=iM,t.lanes=n,t.stateNode={isHidden:!1},t}function Cb(t,e,n){return t=Gi(6,t,null,e),t.lanes=n,t}function Ab(t,e,n){return e=Gi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ab(0),this.expirationTimes=ab(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ab(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function WE(t,e,n,r,i,o,s,a,l){return t=new Wz(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},AE(o),t}function Hz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YD(t){if(!t)return ol;t=t._reactInternals;e:{if(_c(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var n=t.type;if(fi(n))return YM(t,n,e)}return e}function XD(t,e,n,r,i,o,s,a,l){return t=WE(n,r,!0,t,i,o,s,a,l),t.context=YD(null),n=t.current,r=ei(),i=Ya(n),o=zs(r,i),o.callback=e??null,Ga(n,o,i),t.current.lanes=i,$p(t,i,r),hi(t,r),t}function px(t,e,n,r){var i=e.current,o=ei(),s=Ya(i);return n=YD(n),e.context===null?e.context=n:e.pendingContext=n,e=zs(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ga(i,e,s),t!==null&&(Io(t,i,s,o),Ag(t,i,s)),s}function wy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function HE(t,e){dN(t,e),(t=t.alternate)&&dN(t,e)}function qz(){return null}var QD=typeof reportError=="function"?reportError:function(t){console.error(t)};function qE(t){this._internalRoot=t}mx.prototype.render=qE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));px(t,e,null,null)};mx.prototype.unmount=qE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ac(function(){px(null,t,null,null)}),e[Ys]=null}};function mx(t){this._internalRoot=t}mx.prototype.unstable_scheduleHydration=function(t){if(t){var e=PM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Aa.length&&e!==0&&e<Aa[n].priority;n++);Aa.splice(n,0,t),n===0&&jM(t)}};function GE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fN(){}function Gz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=wy(s);o.call(c)}}var s=XD(e,r,t,0,null,!1,!1,"",fN);return t._reactRootContainer=s,t[Ys]=s.current,wh(t.nodeType===8?t.parentNode:t),ac(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=wy(l);a.call(c)}}var l=WE(t,0,!1,null,null,!1,!1,"",fN);return t._reactRootContainer=l,t[Ys]=l.current,wh(t.nodeType===8?t.parentNode:t),ac(function(){px(e,l,n,r)}),l}function yx(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wy(s);a.call(l)}}px(e,s,t,i)}else s=Gz(n,e,t,i,r);return wy(s)}CM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Of(e.pendingLanes);n!==0&&(fE(e,n|1),hi(e,Mn()),!(Nt&6)&&(qu=Mn()+500,yl()))}break;case 13:ac(function(){var r=Xs(t,1);if(r!==null){var i=ei();Io(r,t,1,i)}}),HE(t,1)}};hE=function(t){if(t.tag===13){var e=Xs(t,134217728);if(e!==null){var n=ei();Io(e,t,134217728,n)}HE(t,134217728)}};AM=function(t){if(t.tag===13){var e=Ya(t),n=Xs(t,e);if(n!==null){var r=ei();Io(n,t,e,r)}HE(t,e)}};PM=function(){return Lt};NM=function(t,e){var n=Lt;try{return Lt=t,e()}finally{Lt=n}};Kw=function(t,e,n){switch(e){case"input":if(Bw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ax(r);if(!i)throw Error(xe(90));sM(r),Bw(r,i)}}}break;case"textarea":lM(t,n);break;case"select":e=n.value,e!=null&&pu(t,!!n.multiple,e,!1)}};mM=VE;gM=ac;var Kz={usingClientEntryPoint:!1,Events:[Fp,iu,ax,hM,pM,VE]},yf={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yz={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xM(t),t===null?null:t.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||qz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bm.isDisabled&&Bm.supportsFiber)try{rx=Bm.inject(Yz),ss=Bm}catch{}}Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kz;Oi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GE(e))throw Error(xe(200));return Hz(t,e,null,n)};Oi.createRoot=function(t,e){if(!GE(t))throw Error(xe(299));var n=!1,r="",i=QD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=WE(t,1,!1,null,null,n,!1,r,i),t[Ys]=e.current,wh(t.nodeType===8?t.parentNode:t),new qE(e)};Oi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=xM(e),t=t===null?null:t.stateNode,t};Oi.flushSync=function(t){return ac(t)};Oi.hydrate=function(t,e,n){if(!gx(e))throw Error(xe(200));return yx(null,t,e,!0,n)};Oi.hydrateRoot=function(t,e,n){if(!GE(t))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=QD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=XD(e,null,t,1,n??null,i,!1,o,s),t[Ys]=e.current,wh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mx(e)};Oi.render=function(t,e,n){if(!gx(e))throw Error(xe(200));return yx(null,t,e,!1,n)};Oi.unmountComponentAtNode=function(t){if(!gx(t))throw Error(xe(40));return t._reactRootContainer?(ac(function(){yx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};Oi.unstable_batchedUpdates=VE;Oi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gx(n))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return yx(t,e,n,!1,r)};Oi.version="18.3.1-next-f1338f8080-20240426";function JD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JD)}catch(t){console.error(t)}}JD(),JR.exports=Oi;var Ec=JR.exports;const Xz=Gt(Ec);var ZD,hN=Ec;ZD=hN.createRoot,hN.hydrateRoot;function Qz(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var e$={exports:{}},t$={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gu=b;function Jz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zz=typeof Object.is=="function"?Object.is:Jz,e7=Gu.useState,t7=Gu.useEffect,n7=Gu.useLayoutEffect,r7=Gu.useDebugValue;function i7(t,e){var n=e(),r=e7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return n7(function(){i.value=n,i.getSnapshot=e,Pb(i)&&o({inst:i})},[t,n,e]),t7(function(){return Pb(i)&&o({inst:i}),t(function(){Pb(i)&&o({inst:i})})},[t]),r7(n),n}function Pb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zz(t,n)}catch{return!0}}function o7(t,e){return e()}var s7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o7:i7;t$.useSyncExternalStore=Gu.useSyncExternalStore!==void 0?Gu.useSyncExternalStore:s7;e$.exports=t$;var a7=e$.exports;const l7=XR.useInsertionEffect,c7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u7=c7?b.useLayoutEffect:b.useEffect,d7=l7||u7,n$=t=>{const e=b.useRef([t,(...n)=>e[0](...n)]).current;return d7(()=>{e[0]=t}),e[1]},f7="popstate",KE="pushState",YE="replaceState",h7="hashchange",pN=[f7,KE,YE,h7],p7=t=>{for(const e of pN)addEventListener(e,t);return()=>{for(const e of pN)removeEventListener(e,t)}},r$=(t,e)=>a7.useSyncExternalStore(p7,t,e),m7=()=>location.search,g7=({ssrSearch:t=""}={})=>r$(m7,()=>t),mN=()=>location.pathname,y7=({ssrPath:t}={})=>r$(mN,t?()=>t:mN),v7=(t,{replace:e=!1,state:n=null}={})=>history[e?YE:KE](n,"",t),x7=(t={})=>[y7(t),v7],gN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[gN]>"u"){for(const t of[KE,YE]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,gN,{value:!0})}const b7=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",i$=(t="")=>t==="/"?"":t,w7=(t,e)=>t[0]==="~"?t.slice(1):i$(e)+t,S7=(t="",e)=>b7(yN(i$(t)),yN(e)),yN=t=>{try{return decodeURI(t)}catch{return t}},o$={hook:x7,searchHook:g7,parser:Qz,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},s$=b.createContext(o$),Bp=()=>b.useContext(s$),a$={},l$=b.createContext(a$),_7=()=>b.useContext(l$),vx=t=>{const[e,n]=t.hook(t);return[S7(t.base,e),n$((r,i)=>n(w7(r,t.base),i))]},vl=()=>vx(Bp()),c$=(t,e,n,r)=>{const{pattern:i,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),s=i.exec(n)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const c=o!==!1?Object.fromEntries(o.map((f,h)=>[f,l[h]])):s.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},u$=({children:t,...e})=>{var d,f;const n=Bp(),r=e.hook?o$:n;let i=r;const[o,s]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=o),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=b.useRef({}),l=a.current,c=l;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&m!==c[h]&&(a.current=c={...c}),c[h]=m,m!==r[h]&&(i=c)}return b.createElement(s$.Provider,{value:i,children:t})},vN=({children:t,component:e},n)=>e?b.createElement(e,{params:n}):typeof t=="function"?t(n):t,E7=t=>{let e=b.useRef(a$),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Ps=({path:t,nest:e,match:n,...r})=>{const i=Bp(),[o]=vx(i),[s,a,l]=n??c$(i.parser,t,o,e),c=E7({..._7(),...a});if(!s)return null;const d=l?b.createElement(u$,{base:l},vN(r,c)):vN(r,c);return b.createElement(l$.Provider,{value:c,children:d})};b.forwardRef((t,e)=>{const n=Bp(),[r,i]=vx(n),{to:o="",href:s=o,onClick:a,asChild:l,children:c,className:d,replace:f,state:h,...m}=t,y=n$(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(s,t)))}),g=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&b.isValidElement(c)?b.cloneElement(c,{onClick:y,href:g}):b.createElement("a",{...m,onClick:y,href:g,className:d!=null&&d.call?d(r===s):d,children:c,ref:e})});const d$=t=>Array.isArray(t)?t.flatMap(e=>d$(e&&e.type===b.Fragment?e.props.children:e)):[t],T7=({children:t,location:e})=>{const n=Bp(),[r]=vx(n);for(const i of d$(t)){let o=0;if(b.isValidElement(i)&&(o=c$(n.parser,i.props.path,e||r,i.props.nest))[0])return b.cloneElement(i,{match:o})}return null};var xx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bx=typeof window>"u"||"Deno"in globalThis;function yo(){}function C7(t,e){return typeof t=="function"?t(e):t}function A7(t){return typeof t=="number"&&t>=0&&t!==1/0}function P7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xN(t,e){return typeof t=="function"?t(e):t}function N7(t,e){return typeof t=="function"?t(e):t}function bN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==XE(s,e.options))return!1}else if(!Ih(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function wN(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(jh(e.options.mutationKey)!==jh(o))return!1}else if(!Ih(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function XE(t,e){return((e==null?void 0:e.queryKeyHashFn)||jh)(t)}function jh(t){return JSON.stringify(t,(e,n)=>A1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ih(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ih(t[n],e[n])):!1}function f$(t,e){if(t===e)return t;const n=SN(t)&&SN(e);if(n||A1(t)&&A1(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let c=0;c<s;c++){const d=n?c:o[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=f$(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function SN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function A1(t){if(!_N(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_N(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _N(t){return Object.prototype.toString.call(t)==="[object Object]"}function j7(t){return new Promise(e=>{setTimeout(e,t)})}function I7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?f$(t,e):e}function k7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function O7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var QE=Symbol();function h$(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===QE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ql,Ia,Iu,kR,R7=(kR=class extends xx{constructor(){super();Rt(this,ql);Rt(this,Ia);Rt(this,Iu);pt(this,Iu,e=>{if(!bx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){pe(this,Ia)||this.setEventListener(pe(this,Iu))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,Ia))==null||e.call(this),pt(this,Ia,void 0))}setEventListener(e){var n;pt(this,Iu,e),(n=pe(this,Ia))==null||n.call(this),pt(this,Ia,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){pe(this,ql)!==e&&(pt(this,ql,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof pe(this,ql)=="boolean"?pe(this,ql):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ql=new WeakMap,Ia=new WeakMap,Iu=new WeakMap,kR),p$=new R7,ku,ka,Ou,OR,M7=(OR=class extends xx{constructor(){super();Rt(this,ku,!0);Rt(this,ka);Rt(this,Ou);pt(this,Ou,e=>{if(!bx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){pe(this,ka)||this.setEventListener(pe(this,Ou))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,ka))==null||e.call(this),pt(this,ka,void 0))}setEventListener(e){var n;pt(this,Ou,e),(n=pe(this,ka))==null||n.call(this),pt(this,ka,e(this.setOnline.bind(this)))}setOnline(e){pe(this,ku)!==e&&(pt(this,ku,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return pe(this,ku)}},ku=new WeakMap,ka=new WeakMap,Ou=new WeakMap,OR),Sy=new M7;function D7(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function $7(t){return Math.min(1e3*2**t,3e4)}function m$(t){return(t??"online")==="online"?Sy.isOnline():!0}var g$=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Nb(t){return t instanceof g$}function y$(t){let e=!1,n=0,r=!1,i;const o=D7(),s=g=>{var v;r||(h(new g$(g)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>p$.isFocused()&&(t.networkMode==="always"||Sy.isOnline())&&t.canRun(),d=()=>m$(t.networkMode)&&t.canRun(),f=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),o.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),o.reject(g))},m=()=>new Promise(g=>{var v;i=x=>{(r||c())&&g(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var P;if(r)return;const w=t.retry??(bx?0:3),S=t.retryDelay??$7,C=typeof S=="function"?S(n,x):S,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!E){h(x);return}n++,(P=t.onFail)==null||P.call(t,n,x),j7(C).then(()=>c()?void 0:m()).then(()=>{e?h(x):y()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),o)}}function L7(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Qr=L7(),Gl,RR,v$=(RR=class{constructor(){Rt(this,Gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),A7(this.gcTime)&&pt(this,Gl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bx?1/0:5*60*1e3))}clearGcTimeout(){pe(this,Gl)&&(clearTimeout(pe(this,Gl)),pt(this,Gl,void 0))}},Gl=new WeakMap,RR),Ru,Mu,Ui,Lr,Rp,Kl,vo,ks,MR,F7=(MR=class extends v${constructor(n){super();Rt(this,vo);Rt(this,Ru);Rt(this,Mu);Rt(this,Ui);Rt(this,Lr);Rt(this,Rp);Rt(this,Kl);pt(this,Kl,!1),pt(this,Rp,n.defaultOptions),this.setOptions(n.options),this.observers=[],pt(this,Ui,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,pt(this,Ru,B7(this.options)),this.state=n.state??pe(this,Ru),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=pe(this,Lr))==null?void 0:n.promise}setOptions(n){this.options={...pe(this,Rp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,Ui).remove(this)}setData(n,r){const i=I7(this.state.data,n,this.options);return Rr(this,vo,ks).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Rr(this,vo,ks).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=pe(this,Lr))==null?void 0:i.promise;return(o=pe(this,Lr))==null||o.cancel(n),r?r.then(yo).catch(yo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,Ru))}isActive(){return this.observers.some(n=>N7(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===QE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!P7(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=pe(this,Lr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=pe(this,Lr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),pe(this,Ui).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(pe(this,Lr)&&(pe(this,Kl)?pe(this,Lr).cancel({revert:!0}):pe(this,Lr).cancelRetry()),this.scheduleGc()),pe(this,Ui).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rr(this,vo,ks).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(pe(this,Lr))return pe(this,Lr).continueRetry(),pe(this,Lr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(pt(this,Kl,!0),i.signal)})},s=()=>{const h=h$(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return o(m),pt(this,Kl,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(a),(c=this.options.behavior)==null||c.onFetch(a,this),pt(this,Mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Rr(this,vo,ks).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,y,g,v;Nb(h)&&h.silent||Rr(this,vo,ks).call(this,{type:"error",error:h}),Nb(h)||((y=(m=pe(this,Ui).config).onError)==null||y.call(m,h,this),(v=(g=pe(this,Ui).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return pt(this,Lr,y$({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,y,g,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(y=(m=pe(this,Ui).config).onSuccess)==null||y.call(m,h,this),(v=(g=pe(this,Ui).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Rr(this,vo,ks).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Rr(this,vo,ks).call(this,{type:"pause"})},onContinue:()=>{Rr(this,vo,ks).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),pe(this,Lr).start()}},Ru=new WeakMap,Mu=new WeakMap,Ui=new WeakMap,Lr=new WeakMap,Rp=new WeakMap,Kl=new WeakMap,vo=new WeakSet,ks=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...V7(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return Nb(o)&&o.revert&&pe(this,Mu)?{...pe(this,Mu),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Qr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),pe(this,Ui).notify({query:this,type:"updated",action:n})})},MR);function V7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:m$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function B7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xo,DR,U7=(DR=class extends xx{constructor(e={}){super();Rt(this,Xo);this.config=e,pt(this,Xo,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??XE(i,n);let s=this.get(o);return s||(s=new F7({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){pe(this,Xo).has(e.queryHash)||(pe(this,Xo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=pe(this,Xo).get(e.queryHash);n&&(e.destroy(),n===e&&pe(this,Xo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return pe(this,Xo).get(e)}getAll(){return[...pe(this,Xo).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>bN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>bN(e,r)):n}notify(e){Qr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Qr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xo=new WeakMap,DR),Qo,Yr,Yl,Jo,Sa,$R,z7=($R=class extends v${constructor(n){super();Rt(this,Jo);Rt(this,Qo);Rt(this,Yr);Rt(this,Yl);this.mutationId=n.mutationId,pt(this,Yr,n.mutationCache),pt(this,Qo,[]),this.state=n.state||W7(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){pe(this,Qo).includes(n)||(pe(this,Qo).push(n),this.clearGcTimeout(),pe(this,Yr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){pt(this,Qo,pe(this,Qo).filter(r=>r!==n)),this.scheduleGc(),pe(this,Yr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){pe(this,Qo).length||(this.state.status==="pending"?this.scheduleGc():pe(this,Yr).remove(this))}continue(){var n;return((n=pe(this,Yl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,s,a,l,c,d,f,h,m,y,g,v,x,w,S,C,E,P,_,T;pt(this,Yl,y$({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{Rr(this,Jo,Sa).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{Rr(this,Jo,Sa).call(this,{type:"pause"})},onContinue:()=>{Rr(this,Jo,Sa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,Yr).canRun(this)}));const r=this.state.status==="pending",i=!pe(this,Yl).canStart();try{if(!r){Rr(this,Jo,Sa).call(this,{type:"pending",variables:n,isPaused:i}),await((s=(o=pe(this,Yr).config).onMutate)==null?void 0:s.call(o,n,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));k!==this.state.context&&Rr(this,Jo,Sa).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const N=await pe(this,Yl).start();return await((d=(c=pe(this,Yr).config).onSuccess)==null?void 0:d.call(c,N,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,n,this.state.context)),await((y=(m=pe(this,Yr).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,n,this.state.context)),Rr(this,Jo,Sa).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(x=pe(this,Yr).config).onError)==null?void 0:w.call(x,N,n,this.state.context,this)),await((C=(S=this.options).onError)==null?void 0:C.call(S,N,n,this.state.context)),await((P=(E=pe(this,Yr).config).onSettled)==null?void 0:P.call(E,void 0,N,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,N,n,this.state.context)),N}finally{Rr(this,Jo,Sa).call(this,{type:"error",error:N})}}finally{pe(this,Yr).runNext(this)}}},Qo=new WeakMap,Yr=new WeakMap,Yl=new WeakMap,Jo=new WeakSet,Sa=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qr.batch(()=>{pe(this,Qo).forEach(i=>{i.onMutationUpdate(n)}),pe(this,Yr).notify({mutation:this,type:"updated",action:n})})},$R);function W7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Si,Mp,LR,H7=(LR=class extends xx{constructor(e={}){super();Rt(this,Si);Rt(this,Mp);this.config=e,pt(this,Si,new Map),pt(this,Mp,Date.now())}build(e,n,r){const i=new z7({mutationCache:this,mutationId:++_m(this,Mp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Um(e),r=pe(this,Si).get(n)??[];r.push(e),pe(this,Si).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Um(e);if(pe(this,Si).has(n)){const i=(r=pe(this,Si).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?pe(this,Si).delete(n):pe(this,Si).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=pe(this,Si).get(Um(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=pe(this,Si).get(Um(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Qr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...pe(this,Si).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wN(n,r))}findAll(e={}){return this.getAll().filter(n=>wN(e,n))}notify(e){Qr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Qr.batch(()=>Promise.all(e.map(n=>n.continue().catch(yo))))}},Si=new WeakMap,Mp=new WeakMap,LR);function Um(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function EN(t){return{onFetch:(e,n)=>{var d,f,h,m,y;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],s=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=h$(e.options,e.fetchOptions),w=async(S,C,E)=>{if(g)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:e.queryKey,pageParam:C,direction:E?"backward":"forward",meta:e.options.meta};v(P);const _=await x(P),{maxPages:T}=e.options,N=E?O7:k7;return{pages:N(S.pages,_,T),pageParams:N(S.pageParams,C,T)}};if(i&&o.length){const S=i==="backward",C=S?q7:TN,E={pages:o,pageParams:s},P=C(r,E);a=await w(E,P,S)}else{const S=t??o.length;do{const C=l===0?s[0]??r.initialPageParam:TN(r,a);if(l>0&&C==null)break;a=await w(a,C),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function TN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function q7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nn,Oa,Ra,Du,$u,Ma,Lu,Fu,FR,G7=(FR=class{constructor(t={}){Rt(this,Nn);Rt(this,Oa);Rt(this,Ra);Rt(this,Du);Rt(this,$u);Rt(this,Ma);Rt(this,Lu);Rt(this,Fu);pt(this,Nn,t.queryCache||new U7),pt(this,Oa,t.mutationCache||new H7),pt(this,Ra,t.defaultOptions||{}),pt(this,Du,new Map),pt(this,$u,new Map),pt(this,Ma,0)}mount(){_m(this,Ma)._++,pe(this,Ma)===1&&(pt(this,Lu,p$.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,Nn).onFocus())})),pt(this,Fu,Sy.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,Nn).onOnline())})))}unmount(){var t,e;_m(this,Ma)._--,pe(this,Ma)===0&&((t=pe(this,Lu))==null||t.call(this),pt(this,Lu,void 0),(e=pe(this,Fu))==null||e.call(this),pt(this,Fu,void 0))}isFetching(t){return pe(this,Nn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return pe(this,Oa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=pe(this,Nn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=pe(this,Nn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(xN(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return pe(this,Nn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=pe(this,Nn).get(r.queryHash),o=i==null?void 0:i.state.data,s=C7(e,o);if(s!==void 0)return pe(this,Nn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Qr.batch(()=>pe(this,Nn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=pe(this,Nn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=pe(this,Nn);Qr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=pe(this,Nn),r={type:"active",...t};return Qr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Qr.batch(()=>pe(this,Nn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(yo).catch(yo)}invalidateQueries(t={},e={}){return Qr.batch(()=>{if(pe(this,Nn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Qr.batch(()=>pe(this,Nn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(yo)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(yo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=pe(this,Nn).build(this,e);return n.isStaleByTime(xN(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yo).catch(yo)}fetchInfiniteQuery(t){return t.behavior=EN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yo).catch(yo)}ensureInfiniteQueryData(t){return t.behavior=EN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Sy.isOnline()?pe(this,Oa).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,Nn)}getMutationCache(){return pe(this,Oa)}getDefaultOptions(){return pe(this,Ra)}setDefaultOptions(t){pt(this,Ra,t)}setQueryDefaults(t,e){pe(this,Du).set(jh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...pe(this,Du).values()];let n={};return e.forEach(r=>{Ih(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){pe(this,$u).set(jh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...pe(this,$u).values()];let n={};return e.forEach(r=>{Ih(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...pe(this,Ra).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=XE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===QE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...pe(this,Ra).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){pe(this,Nn).clear(),pe(this,Oa).clear()}},Nn=new WeakMap,Oa=new WeakMap,Ra=new WeakMap,Du=new WeakMap,$u=new WeakMap,Ma=new WeakMap,Lu=new WeakMap,Fu=new WeakMap,FR),K7=b.createContext(void 0),Y7=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(K7.Provider,{value:t,children:e}));async function X7(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Q7=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await X7(n),await n.json())},J7=new G7({defaultOptions:{queries:{queryFn:Q7({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Z7=1,eW=1e6;let jb=0;function tW(){return jb=(jb+1)%Number.MAX_SAFE_INTEGER,jb.toString()}const Ib=new Map,CN=t=>{if(Ib.has(t))return;const e=setTimeout(()=>{Ib.delete(t),Qf({type:"REMOVE_TOAST",toastId:t})},eW);Ib.set(t,e)},nW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Z7)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?CN(n):t.toasts.forEach(r=>{CN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Rg=[];let Mg={toasts:[]};function Qf(t){Mg=nW(Mg,t),Rg.forEach(e=>{e(Mg)})}function rW({...t}){const e=tW(),n=i=>Qf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Qf({type:"DISMISS_TOAST",toastId:e});return Qf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Id(){const[t,e]=b.useState(Mg);return b.useEffect(()=>(Rg.push(e),()=>{const n=Rg.indexOf(e);n>-1&&Rg.splice(n,1)}),[t]),{...t,toast:rW,dismiss:n=>Qf({type:"DISMISS_TOAST",toastId:n})}}function Le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function AN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function x$(...t){return e=>{let n=!1;const r=t.map(i=>{const o=AN(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():AN(t[i],null)}}}}function mt(...t){return b.useCallback(x$(...t),t)}function iW(t,e){const n=b.createContext(e),r=o=>{const{children:s,...a}=o,l=b.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=b.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Mi(t,e=[]){let n=[];function r(o,s){const a=b.createContext(s),l=n.length;n=[...n,s];const c=f=>{var x;const{scope:h,children:m,...y}=f,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,v=b.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:v,children:m})};c.displayName=o+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=b.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=n.map(s=>b.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,oW(i,...e)]}function oW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Ku(t){const e=aW(t),n=b.forwardRef((r,i)=>{const{children:o,...s}=r,a=b.Children.toArray(o),l=a.find(cW);if(l){const c=l.props.children,d=a.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...s,ref:i,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return u.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var sW=Ku("Slot");function aW(t){const e=b.forwardRef((n,r)=>{const{children:i,...o}=n;if(b.isValidElement(i)){const s=dW(i),a=uW(o,i.props);return i.type!==b.Fragment&&(a.ref=r?x$(r,s):s),b.cloneElement(i,a)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var b$=Symbol("radix.slottable");function lW(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=b$,e}function cW(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===b$}function uW(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function dW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Up(t){const e=t+"CollectionProvider",[n,r]=Mi(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:v,children:x}=g,w=H.useRef(null),S=H.useRef(new Map).current;return u.jsx(i,{scope:v,itemMap:S,collectionRef:w,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=Ku(a),c=H.forwardRef((g,v)=>{const{scope:x,children:w}=g,S=o(a,x),C=mt(v,S.collectionRef);return u.jsx(l,{ref:C,children:w})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Ku(d),m=H.forwardRef((g,v)=>{const{scope:x,children:w,...S}=g,C=H.useRef(null),E=mt(v,C),P=o(d,x);return H.useEffect(()=>(P.itemMap.set(C,{ref:C,...S}),()=>void P.itemMap.delete(C))),u.jsx(h,{[f]:"",ref:E,children:w})});m.displayName=d;function y(g){const v=o(t+"CollectionConsumer",g);return H.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((P,_)=>S.indexOf(P.ref.current)-S.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:c,ItemSlot:m},y,r]}var fW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=fW.reduce((t,e)=>{const n=Ku(`Primitive.${e}`),r=b.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function w$(t,e){t&&Ec.flushSync(()=>t.dispatchEvent(e))}function Dn(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function hW(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var pW="DismissableLayer",P1="dismissableLayer.update",mW="dismissableLayer.pointerDownOutside",gW="dismissableLayer.focusOutside",PN,S$=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zp=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=b.useContext(S$),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),y=mt(e,_=>f(_)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),w=d?g.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=w>=x,E=vW(_=>{const T=_.target,N=[...c.branches].some(k=>k.contains(T));!C||N||(i==null||i(_),s==null||s(_),_.defaultPrevented||a==null||a())},h),P=xW(_=>{const T=_.target;[...c.branches].some(k=>k.contains(T))||(o==null||o(_),s==null||s(_),_.defaultPrevented||a==null||a())},h);return hW(_=>{w===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},h),b.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(PN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),NN(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=PN)}},[d,h,n,c]),b.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),NN())},[d,c]),b.useEffect(()=>{const _=()=>m({});return document.addEventListener(P1,_),()=>document.removeEventListener(P1,_)},[]),u.jsx(Xe.div,{...l,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,E.onPointerDownCapture)})});zp.displayName=pW;var yW="DismissableLayerBranch",_$=b.forwardRef((t,e)=>{const n=b.useContext(S$),r=b.useRef(null),i=mt(e,r);return b.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(Xe.div,{...t,ref:i})});_$.displayName=yW;function vW(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){E$(mW,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function xW(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t),r=b.useRef(!1);return b.useEffect(()=>{const i=o=>{o.target&&!r.current&&E$(gW,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function NN(){const t=new CustomEvent(P1);document.dispatchEvent(t)}function E$(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?w$(i,o):i.dispatchEvent(o)}var bW=zp,wW=_$,fr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},SW="Portal",wx=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=b.useState(!1);fr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?Xz.createPortal(u.jsx(Xe.div,{...r,ref:e}),s):null});wx.displayName=SW;function _W(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var no=t=>{const{present:e,children:n}=t,r=EW(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),o=mt(r.ref,TW(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:o}):null};no.displayName="Presence";function EW(t){const[e,n]=b.useState(),r=b.useRef({}),i=b.useRef(t),o=b.useRef("none"),s=t?"mounted":"unmounted",[a,l]=_W(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=zm(r.current);o.current=a==="mounted"?c:"none"},[a]),fr(()=>{const c=r.current,d=i.current;if(d!==t){const h=o.current,m=zm(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),fr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const g=zm(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(o.current=zm(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function zm(t){return(t==null?void 0:t.animationName)||"none"}function TW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Do({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=CW({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Dn(n),l=b.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function CW({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,i=b.useRef(r),o=Dn(e);return b.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var AW="VisuallyHidden",Wp=b.forwardRef((t,e)=>u.jsx(Xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Wp.displayName=AW;var PW=Wp,JE="ToastProvider",[ZE,NW,jW]=Up("Toast"),[T$,Bje]=Mi("Toast",[jW]),[IW,Sx]=T$(JE),C$=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=b.useState(null),[c,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${JE}\`. Expected non-empty \`string\`.`),u.jsx(ZE.Provider,{scope:e,children:u.jsx(IW,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};C$.displayName=JE;var A$="ToastViewport",kW=["F8"],N1="toast.viewportPause",j1="toast.viewportResume",P$=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=kW,label:i="Notifications ({hotkey})",...o}=t,s=Sx(A$,n),a=NW(n),l=b.useRef(null),c=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=mt(e,f,s.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=s.toastCount>0;b.useEffect(()=>{const v=x=>{var S;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),b.useEffect(()=>{const v=l.current,x=f.current;if(y&&v&&x){const w=()=>{if(!s.isClosePausedRef.current){const P=new CustomEvent(N1);x.dispatchEvent(P),s.isClosePausedRef.current=!0}},S=()=>{if(s.isClosePausedRef.current){const P=new CustomEvent(j1);x.dispatchEvent(P),s.isClosePausedRef.current=!1}},C=P=>{!v.contains(P.relatedTarget)&&S()},E=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",w),v.addEventListener("focusout",C),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[y,s.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:v})=>{const w=a().map(S=>{const C=S.ref.current,E=[C,...HW(C)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?w.reverse():w).flat()},[a]);return b.useEffect(()=>{const v=f.current;if(v){const x=w=>{var E,P,_;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const T=document.activeElement,N=w.shiftKey;if(w.target===v&&N){(E=c.current)==null||E.focus();return}const R=g({tabbingDirection:N?"backwards":"forwards"}),O=R.findIndex($=>$===T);kb(R.slice(O+1))?w.preventDefault():N?(P=c.current)==null||P.focus():(_=d.current)==null||_.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[a,g]),u.jsxs(wW,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&u.jsx(I1,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});kb(v)}}),u.jsx(ZE.Slot,{scope:n,children:u.jsx(Xe.ol,{tabIndex:-1,...o,ref:h})}),y&&u.jsx(I1,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});kb(v)}})]})});P$.displayName=A$;var N$="ToastFocusProxy",I1=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=Sx(N$,n);return u.jsx(Wp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});I1.displayName=N$;var _x="Toast",OW="toast.swipeStart",RW="toast.swipeMove",MW="toast.swipeCancel",DW="toast.swipeEnd",j$=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=Do({prop:r,defaultProp:i,onChange:o});return u.jsx(no,{present:n||a,children:u.jsx(FW,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Dn(t.onPause),onResume:Dn(t.onResume),onSwipeStart:Le(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Le(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});j$.displayName=_x;var[$W,LW]=T$(_x,{onClose(){}}),FW=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=t,g=Sx(_x,n),[v,x]=b.useState(null),w=mt(e,$=>x($)),S=b.useRef(null),C=b.useRef(null),E=i||g.duration,P=b.useRef(0),_=b.useRef(E),T=b.useRef(0),{onToastAdd:N,onToastRemove:k}=g,j=Dn(()=>{var F;(v==null?void 0:v.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),s()}),R=b.useCallback($=>{!$||$===1/0||(window.clearTimeout(T.current),P.current=new Date().getTime(),T.current=window.setTimeout(j,$))},[j]);b.useEffect(()=>{const $=g.viewport;if($){const F=()=>{R(_.current),c==null||c()},U=()=>{const W=new Date().getTime()-P.current;_.current=_.current-W,window.clearTimeout(T.current),l==null||l()};return $.addEventListener(N1,U),$.addEventListener(j1,F),()=>{$.removeEventListener(N1,U),$.removeEventListener(j1,F)}}},[g.viewport,E,l,c,R]),b.useEffect(()=>{o&&!g.isClosePausedRef.current&&R(E)},[o,E,g.isClosePausedRef,R]),b.useEffect(()=>(N(),()=>k()),[N,k]);const O=b.useMemo(()=>v?$$(v):null,[v]);return g.viewport?u.jsxs(u.Fragment,{children:[O&&u.jsx(VW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),u.jsx($W,{scope:n,onClose:j,children:Ec.createPortal(u.jsx(ZE.ItemSlot,{scope:n,children:u.jsx(bW,{asChild:!0,onEscapeKeyDown:Le(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Le(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:Le(t.onPointerDown,$=>{$.button===0&&(S.current={x:$.clientX,y:$.clientY})}),onPointerMove:Le(t.onPointerMove,$=>{if(!S.current)return;const F=$.clientX-S.current.x,U=$.clientY-S.current.y,W=!!C.current,V=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Z=V?B(0,F):0,Q=V?0:B(0,U),ne=$.pointerType==="touch"?10:2,_e={x:Z,y:Q},Pe={originalEvent:$,delta:_e};W?(C.current=_e,Wm(RW,f,Pe,{discrete:!1})):jN(_e,g.swipeDirection,ne)?(C.current=_e,Wm(OW,d,Pe,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(F)>ne||Math.abs(U)>ne)&&(S.current=null)}),onPointerUp:Le(t.onPointerUp,$=>{const F=C.current,U=$.target;if(U.hasPointerCapture($.pointerId)&&U.releasePointerCapture($.pointerId),C.current=null,S.current=null,F){const W=$.currentTarget,V={originalEvent:$,delta:F};jN(F,g.swipeDirection,g.swipeThreshold)?Wm(DW,m,V,{discrete:!0}):Wm(MW,h,V,{discrete:!0}),W.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),VW=t=>{const{__scopeToast:e,children:n,...r}=t,i=Sx(_x,e),[o,s]=b.useState(!1),[a,l]=b.useState(!1);return zW(()=>s(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(wx,{asChild:!0,children:u.jsx(Wp,{...r,children:o&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},BW="ToastTitle",I$=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Xe.div,{...r,ref:e})});I$.displayName=BW;var UW="ToastDescription",k$=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Xe.div,{...r,ref:e})});k$.displayName=UW;var O$="ToastAction",R$=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(D$,{altText:n,asChild:!0,children:u.jsx(eT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${O$}\`. Expected non-empty \`string\`.`),null)});R$.displayName=O$;var M$="ToastClose",eT=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=LW(M$,n);return u.jsx(D$,{asChild:!0,children:u.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,i.onClose)})})});eT.displayName=M$;var D$=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function $$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),WW(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...$$(r))}}),e}function Wm(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?w$(i,o):i.dispatchEvent(o)}var jN=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function zW(t=()=>{}){const e=Dn(t);fr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function WW(t){return t.nodeType===t.ELEMENT_NODE}function HW(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kb(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var qW=C$,L$=P$,F$=j$,V$=I$,B$=k$,U$=R$,z$=eT;function W$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=W$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ct(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=W$(t))&&(r&&(r+=" "),r+=e);return r}const IN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kN=Ct,Ex=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return kN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const h=IN(d)||IN(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...c,f,h]:c},[]);return kN(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H$=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>b.createElement("svg",{ref:l,...KW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:H$("lucide",i),...a},[...s.map(([c,d])=>b.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(YW,{ref:o,iconNode:e,className:H$(`lucide-${GW(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=Ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=Ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=Ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Ge("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=Ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=Ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Ge("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Ge("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Ge("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Ge("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Ge("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Ge("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Ge("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=Ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=Ge("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Ge("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ge("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ge("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=Ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ge("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=Ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),iT="-",wH=t=>{const e=_H(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(iT);return a[0]===""&&a.length!==1&&a.shift(),Z$(a,e)||SH(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},Z$=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Z$(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(iT);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},DN=/^\[(.+)\]$/,SH=t=>{if(DN.test(t)){const e=DN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_H=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return TH(Object.entries(t.classGroups),n).forEach(([o,s])=>{D1(s,r,o,e)}),r},D1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:$N(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(EH(i)){D1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{D1(s,$N(e,o),n,r)})})},$N=(t,e)=>{let n=t;return e.split(iT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},EH=t=>t.isThemeGetter,TH=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,CH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},eL="!",AH=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,d=0,f;for(let v=0;v<a.length;v++){let x=a[v];if(c===0){if(x===i&&(r||a.slice(v,v+o)===e)){l.push(a.slice(d,v)),d=v+o;continue}if(x==="/"){f=v;continue}}x==="["?c++:x==="]"&&c--}const h=l.length===0?a:a.substring(d),m=h.startsWith(eL),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},PH=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},NH=t=>({cache:CH(t.cacheSize),parseClassName:AH(t),...wH(t)}),jH=/\s+/,IH=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(jH);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let y=!!m,g=r(y?h.substring(0,m):h);if(!g){if(!y){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}y=!1}const v=PH(d).join(":"),x=f?v+eL:v,w=x+g;if(o.includes(w))continue;o.push(w);const S=i(g,y);for(let C=0;C<S.length;++C){const E=S[C];o.push(x+E)}a=c+(a.length>0?" "+a:a)}return a};function kH(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=tL(e))&&(r&&(r+=" "),r+=n);return r}const tL=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=tL(t[r]))&&(n&&(n+=" "),n+=e);return n};function OH(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return n=NH(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=IH(l,n);return i(l,d),d}return function(){return o(kH.apply(null,arguments))}}const an=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},nL=/^\[(?:([a-z-]+):)?(.+)\]$/i,RH=/^\d+\/\d+$/,MH=new Set(["px","full","screen"]),DH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$H=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ns=t=>bu(t)||MH.has(t)||RH.test(t),xa=t=>kd(t,"length",KH),bu=t=>!!t&&!Number.isNaN(Number(t)),Rb=t=>kd(t,"number",bu),vf=t=>!!t&&Number.isInteger(Number(t)),BH=t=>t.endsWith("%")&&bu(t.slice(0,-1)),ft=t=>nL.test(t),ba=t=>DH.test(t),UH=new Set(["length","size","percentage"]),zH=t=>kd(t,UH,rL),WH=t=>kd(t,"position",rL),HH=new Set(["image","url"]),qH=t=>kd(t,HH,XH),GH=t=>kd(t,"",YH),xf=()=>!0,kd=(t,e,n)=>{const r=nL.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},KH=t=>$H.test(t)&&!LH.test(t),rL=()=>!1,YH=t=>FH.test(t),XH=t=>VH.test(t),QH=()=>{const t=an("colors"),e=an("spacing"),n=an("blur"),r=an("brightness"),i=an("borderColor"),o=an("borderRadius"),s=an("borderSpacing"),a=an("borderWidth"),l=an("contrast"),c=an("grayscale"),d=an("hueRotate"),f=an("invert"),h=an("gap"),m=an("gradientColorStops"),y=an("gradientColorStopPositions"),g=an("inset"),v=an("margin"),x=an("opacity"),w=an("padding"),S=an("saturate"),C=an("scale"),E=an("sepia"),P=an("skew"),_=an("space"),T=an("translate"),N=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",ft,e],R=()=>[ft,e],O=()=>["",Ns,xa],$=()=>["auto",bu,ft],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ft],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[bu,ft];return{cacheSize:500,separator:":",theme:{colors:[xf],spacing:[Ns,xa],blur:["none","",ba,ft],brightness:Q(),borderColor:[t],borderRadius:["none","","full",ba,ft],borderSpacing:R(),borderWidth:O(),contrast:Q(),grayscale:B(),hueRotate:Q(),invert:B(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[BH,xa],inset:j(),margin:j(),opacity:Q(),padding:R(),saturate:Q(),scale:Q(),sepia:B(),skew:Q(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[ba]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ft]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vf,ft]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",vf,ft]}],"grid-cols":[{"grid-cols":[xf]}],"col-start-end":[{col:["auto",{span:["full",vf,ft]},ft]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[xf]}],"row-start-end":[{row:["auto",{span:[vf,ft]},ft]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,e]}],"min-w":[{"min-w":[ft,e,"min","max","fit"]}],"max-w":[{"max-w":[ft,e,"none","full","min","max","fit","prose",{screen:[ba]},ba]}],h:[{h:[ft,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ba,xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rb]}],"font-family":[{font:[xf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",bu,Rb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ns,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ns,xa]}],"underline-offset":[{"underline-offset":["auto",Ns,ft]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),WH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Ns,ft]}],"outline-w":[{outline:[Ns,xa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ns,xa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ba,GH]}],"shadow-color":[{shadow:[xf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ba,ft]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[vf,ft]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ns,xa,Rb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JH=OH(QH);function ct(...t){return JH(Ct(t))}const ZH=qW,iL=b.forwardRef(({className:t,...e},n)=>u.jsx(L$,{ref:n,className:ct("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));iL.displayName=L$.displayName;const eq=Ex("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oL=b.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(F$,{ref:r,className:ct(eq({variant:e}),t),...n}));oL.displayName=F$.displayName;const tq=b.forwardRef(({className:t,...e},n)=>u.jsx(U$,{ref:n,className:ct("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));tq.displayName=U$.displayName;const sL=b.forwardRef(({className:t,...e},n)=>u.jsx(z$,{ref:n,className:ct("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Hp,{className:"h-4 w-4"})}));sL.displayName=z$.displayName;const aL=b.forwardRef(({className:t,...e},n)=>u.jsx(V$,{ref:n,className:ct("text-sm font-semibold",t),...e}));aL.displayName=V$.displayName;const lL=b.forwardRef(({className:t,...e},n)=>u.jsx(B$,{ref:n,className:ct("text-sm opacity-90",t),...e}));lL.displayName=B$.displayName;function nq(){const{toasts:t}=Id();return u.jsxs(ZH,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return u.jsxs(oL,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(aL,{children:n}),r&&u.jsx(lL,{children:r})]}),i,u.jsx(sL,{})]},e)}),u.jsx(iL,{})]})}var rq=XR[" useId ".trim().toString()]||(()=>{}),iq=0;function ls(t){const[e,n]=b.useState(rq());return fr(()=>{n(r=>r??String(iq++))},[t]),e?`radix-${e}`:""}const oq=["top","right","bottom","left"],sl=Math.min,Ti=Math.max,Ty=Math.round,qm=Math.floor,cs=t=>({x:t,y:t}),sq={left:"right",right:"left",bottom:"top",top:"bottom"},aq={start:"end",end:"start"};function $1(t,e,n){return Ti(t,sl(e,n))}function Js(t,e){return typeof t=="function"?t(e):t}function Zs(t){return t.split("-")[0]}function Od(t){return t.split("-")[1]}function oT(t){return t==="x"?"y":"x"}function sT(t){return t==="y"?"height":"width"}function al(t){return["top","bottom"].includes(Zs(t))?"y":"x"}function aT(t){return oT(al(t))}function lq(t,e,n){n===void 0&&(n=!1);const r=Od(t),i=aT(t),o=sT(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Cy(s)),[s,Cy(s)]}function cq(t){const e=Cy(t);return[L1(t),e,L1(e)]}function L1(t){return t.replace(/start|end/g,e=>aq[e])}function uq(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function dq(t,e,n,r){const i=Od(t);let o=uq(Zs(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(L1)))),o}function Cy(t){return t.replace(/left|right|bottom|top/g,e=>sq[e])}function fq(t){return{top:0,right:0,bottom:0,left:0,...t}}function cL(t){return typeof t!="number"?fq(t):{top:t,right:t,bottom:t,left:t}}function Ay(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function LN(t,e,n){let{reference:r,floating:i}=t;const o=al(e),s=aT(e),a=sT(s),l=Zs(e),c=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Od(e)){case"start":m[s]-=h*(n&&c?-1:1);break;case"end":m[s]+=h*(n&&c?-1:1);break}return m}const hq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=LN(c,r,l),h=r,m={},y=0;for(let g=0;g<a.length;g++){const{name:v,fn:x}=a[g],{x:w,y:S,data:C,reset:E}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:t,floating:e}});d=w??d,f=S??f,m={...m,[v]:{...m[v],...C}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=LN(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Dh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Js(e,t),y=cL(m),v=a[h?f==="floating"?"reference":"floating":f],x=Ay(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Ay(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(x.top-E.top+y.top)/C.y,bottom:(E.bottom-x.bottom+y.bottom)/C.y,left:(x.left-E.left+y.left)/C.x,right:(E.right-x.right+y.right)/C.x}}const pq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Js(t,e)||{};if(c==null)return{};const f=cL(d),h={x:n,y:r},m=aT(i),y=sT(m),g=await s.getDimensions(c),v=m==="y",x=v?"top":"left",w=v?"bottom":"right",S=v?"clientHeight":"clientWidth",C=o.reference[y]+o.reference[m]-h[m]-o.floating[y],E=h[m]-o.reference[m],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let _=P?P[S]:0;(!_||!await(s.isElement==null?void 0:s.isElement(P)))&&(_=a.floating[S]||o.floating[y]);const T=C/2-E/2,N=_/2-g[y]/2-1,k=sl(f[x],N),j=sl(f[w],N),R=k,O=_-g[y]-j,$=_/2-g[y]/2+T,F=$1(R,$,O),U=!l.arrow&&Od(i)!=null&&$!==F&&o.reference[y]/2-($<R?k:j)-g[y]/2<0,W=U?$<R?$-R:$-O:0;return{[m]:h[m]+W,data:{[m]:F,centerOffset:$-F-W,...U&&{alignmentOffset:W}},reset:U}}}),mq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Js(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Zs(i),w=al(a),S=Zs(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(S||!g?[Cy(a)]:cq(a)),P=y!=="none";!h&&P&&E.push(...dq(a,g,y,C));const _=[a,...E],T=await Dh(e,v),N=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(T[x]),f){const $=lq(i,s,C);N.push(T[$[0]],T[$[1]])}if(k=[...k,{placement:i,overflows:N}],!N.every($=>$<=0)){var j,R;const $=(((j=o.flip)==null?void 0:j.index)||0)+1,F=_[$];if(F)return{data:{index:$,overflows:k},reset:{placement:F}};let U=(R=k.filter(W=>W.overflows[0]<=0).sort((W,V)=>W.overflows[1]-V.overflows[1])[0])==null?void 0:R.placement;if(!U)switch(m){case"bestFit":{var O;const W=(O=k.filter(V=>{if(P){const B=al(V.placement);return B===w||B==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(B=>B>0).reduce((B,Z)=>B+Z,0)]).sort((V,B)=>V[1]-B[1])[0])==null?void 0:O[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function FN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function VN(t){return oq.some(e=>t[e]>=0)}const gq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Js(t,e);switch(r){case"referenceHidden":{const o=await Dh(e,{...i,elementContext:"reference"}),s=FN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:VN(s)}}}case"escaped":{const o=await Dh(e,{...i,altBoundary:!0}),s=FN(o,n.floating);return{data:{escapedOffsets:s,escaped:VN(s)}}}default:return{}}}}};async function yq(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Zs(n),a=Od(n),l=al(n)==="y",c=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,f=Js(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const vq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await yq(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},xq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...l}=Js(t,e),c={x:n,y:r},d=await Dh(e,l),f=al(Zs(i)),h=oT(f);let m=c[h],y=c[f];if(o){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=m+d[v],S=m-d[x];m=$1(w,m,S)}if(s){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=y+d[v],S=y-d[x];y=$1(w,y,S)}const g=a.fn({...e,[h]:m,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:s}}}}}},bq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Js(t,e),d={x:n,y:r},f=al(i),h=oT(f);let m=d[h],y=d[f];const g=Js(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=h==="y"?"height":"width",C=o.reference[h]-o.floating[S]+v.mainAxis,E=o.reference[h]+o.reference[S]-v.mainAxis;m<C?m=C:m>E&&(m=E)}if(c){var x,w;const S=h==="y"?"width":"height",C=["top","left"].includes(Zs(i)),E=o.reference[f]-o.floating[S]+(C&&((x=s.offset)==null?void 0:x[f])||0)+(C?0:v.crossAxis),P=o.reference[f]+o.reference[S]+(C?0:((w=s.offset)==null?void 0:w[f])||0)-(C?v.crossAxis:0);y<E?y=E:y>P&&(y=P)}return{[h]:m,[f]:y}}}},wq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Js(t,e),d=await Dh(e,c),f=Zs(i),h=Od(i),m=al(i)==="y",{width:y,height:g}=o.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,S=y-d.left-d.right,C=sl(g-d[v],w),E=sl(y-d[x],S),P=!e.middlewareData.shift;let _=C,T=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),P&&!h){const k=Ti(d.left,0),j=Ti(d.right,0),R=Ti(d.top,0),O=Ti(d.bottom,0);m?T=y-2*(k!==0||j!==0?k+j:Ti(d.left,d.right)):_=g-2*(R!==0||O!==0?R+O:Ti(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:_});const N=await s.getDimensions(a.floating);return y!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Cx(){return typeof window<"u"}function Rd(t){return uL(t)?(t.nodeName||"").toLowerCase():"#document"}function ji(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ss(t){var e;return(e=(uL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uL(t){return Cx()?t instanceof Node||t instanceof ji(t).Node:!1}function $o(t){return Cx()?t instanceof Element||t instanceof ji(t).Element:!1}function ys(t){return Cx()?t instanceof HTMLElement||t instanceof ji(t).HTMLElement:!1}function BN(t){return!Cx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ji(t).ShadowRoot}function qp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Lo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Sq(t){return["table","td","th"].includes(Rd(t))}function Ax(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function lT(t){const e=cT(),n=$o(t)?Lo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _q(t){let e=ll(t);for(;ys(e)&&!Yu(e);){if(lT(e))return e;if(Ax(e))return null;e=ll(e)}return null}function cT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yu(t){return["html","body","#document"].includes(Rd(t))}function Lo(t){return ji(t).getComputedStyle(t)}function Px(t){return $o(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ll(t){if(Rd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||BN(t)&&t.host||Ss(t);return BN(e)?e.host:e}function dL(t){const e=ll(t);return Yu(e)?t.ownerDocument?t.ownerDocument.body:t.body:ys(e)&&qp(e)?e:dL(e)}function $h(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=dL(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=ji(i);if(o){const a=F1(s);return e.concat(s,s.visualViewport||[],qp(i)?i:[],a&&n?$h(a):[])}return e.concat(i,$h(i,[],n))}function F1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fL(t){const e=Lo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ys(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Ty(n)!==o||Ty(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function uT(t){return $o(t)?t:t.contextElement}function wu(t){const e=uT(t);if(!ys(e))return cs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=fL(e);let s=(o?Ty(n.width):n.width)/r,a=(o?Ty(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Eq=cs(0);function hL(t){const e=ji(t);return!cT()||!e.visualViewport?Eq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ji(t)?!1:e}function cc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=uT(t);let s=cs(1);e&&(r?$o(r)&&(s=wu(r)):s=wu(t));const a=Tq(o,n,r)?hL(o):cs(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const h=ji(o),m=r&&$o(r)?ji(r):r;let y=h,g=F1(y);for(;g&&r&&m!==y;){const v=wu(g),x=g.getBoundingClientRect(),w=Lo(g),S=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,C=x.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,f*=v.y,l+=S,c+=C,y=ji(g),g=F1(y)}}return Ay({width:d,height:f,x:l,y:c})}function dT(t,e){const n=Px(t).scrollLeft;return e?e.left+n:cc(Ss(t)).left+n}function pL(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:dT(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Cq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Ss(r),a=e?Ax(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=cs(1);const d=cs(0),f=ys(r);if((f||!f&&!o)&&((Rd(r)!=="body"||qp(s))&&(l=Px(r)),ys(r))){const m=cc(r);c=wu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!o?pL(s,l,!0):cs(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function Aq(t){return Array.from(t.getClientRects())}function Pq(t){const e=Ss(t),n=Px(t),r=t.ownerDocument.body,i=Ti(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ti(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+dT(t);const a=-n.scrollTop;return Lo(r).direction==="rtl"&&(s+=Ti(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Nq(t,e){const n=ji(t),r=Ss(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=cT();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function jq(t,e){const n=cc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ys(t)?wu(t):cs(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function UN(t,e,n){let r;if(e==="viewport")r=Nq(t,n);else if(e==="document")r=Pq(Ss(t));else if($o(e))r=jq(e,n);else{const i=hL(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ay(r)}function mL(t,e){const n=ll(t);return n===e||!$o(n)||Yu(n)?!1:Lo(n).position==="fixed"||mL(n,e)}function Iq(t,e){const n=e.get(t);if(n)return n;let r=$h(t,[],!1).filter(a=>$o(a)&&Rd(a)!=="body"),i=null;const o=Lo(t).position==="fixed";let s=o?ll(t):t;for(;$o(s)&&!Yu(s);){const a=Lo(s),l=lT(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||qp(s)&&!l&&mL(t,s))?r=r.filter(d=>d!==s):i=a,s=ll(s)}return e.set(t,r),r}function kq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Ax(e)?[]:Iq(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,d)=>{const f=UN(e,d,i);return c.top=Ti(f.top,c.top),c.right=sl(f.right,c.right),c.bottom=sl(f.bottom,c.bottom),c.left=Ti(f.left,c.left),c},UN(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Oq(t){const{width:e,height:n}=fL(t);return{width:e,height:n}}function Rq(t,e,n){const r=ys(e),i=Ss(e),o=n==="fixed",s=cc(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=cs(0);if(r||!r&&!o)if((Rd(e)!=="body"||qp(i))&&(a=Px(e)),r){const h=cc(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=dT(i));const c=i&&!r&&!o?pL(i,a):cs(0),d=s.left+a.scrollLeft-l.x-c.x,f=s.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function Mb(t){return Lo(t).position==="static"}function zN(t,e){if(!ys(t)||Lo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ss(t)===n&&(n=n.ownerDocument.body),n}function gL(t,e){const n=ji(t);if(Ax(t))return n;if(!ys(t)){let i=ll(t);for(;i&&!Yu(i);){if($o(i)&&!Mb(i))return i;i=ll(i)}return n}let r=zN(t,e);for(;r&&Sq(r)&&Mb(r);)r=zN(r,e);return r&&Yu(r)&&Mb(r)&&!lT(r)?n:r||_q(t)||n}const Mq=async function(t){const e=this.getOffsetParent||gL,n=this.getDimensions,r=await n(t.floating);return{reference:Rq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Dq(t){return Lo(t).direction==="rtl"}const $q={convertOffsetParentRelativeRectToViewportRelativeRect:Cq,getDocumentElement:Ss,getClippingRect:kq,getOffsetParent:gL,getElementRects:Mq,getClientRects:Aq,getDimensions:Oq,getScale:wu,isElement:$o,isRTL:Dq};function yL(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Lq(t,e){let n=null,r;const i=Ss(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=c;if(a||e(),!h||!m)return;const y=qm(f),g=qm(i.clientWidth-(d+h)),v=qm(i.clientHeight-(f+m)),x=qm(d),S={rootMargin:-y+"px "+-g+"px "+-v+"px "+-x+"px",threshold:Ti(0,sl(1,l))||1};let C=!0;function E(P){const _=P[0].intersectionRatio;if(_!==l){if(!C)return s();_?s(!1,_):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!yL(c,t.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(E,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(t)}return s(!0),o}function Fq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=uT(t),d=i||o?[...c?$h(c):[],...$h(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=c&&a?Lq(c,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let y,g=l?cc(t):null;l&&v();function v(){const x=cc(t);g&&!yL(g,x)&&n(),g=x,y=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const Vq=vq,Bq=xq,Uq=mq,zq=wq,Wq=gq,WN=pq,Hq=bq,qq=(t,e,n)=>{const r=new Map,i={platform:$q,...n},o={...i.platform,_c:r};return hq(t,e,{...i,platform:o})};var Dg=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Py(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Py(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Py(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function vL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function HN(t,e){const n=vL(t);return Math.round(e*n)/n}function Db(t){const e=b.useRef(t);return Dg(()=>{e.current=t}),e}function Gq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(r);Py(h,r)||m(r);const[y,g]=b.useState(null),[v,x]=b.useState(null),w=b.useCallback(V=>{V!==P.current&&(P.current=V,g(V))},[]),S=b.useCallback(V=>{V!==_.current&&(_.current=V,x(V))},[]),C=o||y,E=s||v,P=b.useRef(null),_=b.useRef(null),T=b.useRef(d),N=l!=null,k=Db(l),j=Db(i),R=Db(c),O=b.useCallback(()=>{if(!P.current||!_.current)return;const V={placement:e,strategy:n,middleware:h};j.current&&(V.platform=j.current),qq(P.current,_.current,V).then(B=>{const Z={...B,isPositioned:R.current!==!1};$.current&&!Py(T.current,Z)&&(T.current=Z,Ec.flushSync(()=>{f(Z)}))})},[h,e,n,j,R]);Dg(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[c]);const $=b.useRef(!1);Dg(()=>($.current=!0,()=>{$.current=!1}),[]),Dg(()=>{if(C&&(P.current=C),E&&(_.current=E),C&&E){if(k.current)return k.current(C,E,O);O()}},[C,E,O,k,N]);const F=b.useMemo(()=>({reference:P,floating:_,setReference:w,setFloating:S}),[w,S]),U=b.useMemo(()=>({reference:C,floating:E}),[C,E]),W=b.useMemo(()=>{const V={position:n,left:0,top:0};if(!U.floating)return V;const B=HN(U.floating,d.x),Z=HN(U.floating,d.y);return a?{...V,transform:"translate("+B+"px, "+Z+"px)",...vL(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Z}},[n,a,U.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:O,refs:F,elements:U,floatingStyles:W}),[d,O,F,U,W])}const Kq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?WN({element:r.current,padding:i}).fn(n):{}:r?WN({element:r,padding:i}).fn(n):{}}}},Yq=(t,e)=>({...Vq(t),options:[t,e]}),Xq=(t,e)=>({...Bq(t),options:[t,e]}),Qq=(t,e)=>({...Hq(t),options:[t,e]}),Jq=(t,e)=>({...Uq(t),options:[t,e]}),Zq=(t,e)=>({...zq(t),options:[t,e]}),eG=(t,e)=>({...Wq(t),options:[t,e]}),tG=(t,e)=>({...Kq(t),options:[t,e]});var nG="Arrow",xL=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return u.jsx(Xe.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});xL.displayName=nG;var rG=xL;function fT(t){const[e,n]=b.useState(void 0);return fr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var hT="Popper",[bL,Nx]=Mi(hT),[iG,wL]=bL(hT),SL=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return u.jsx(iG,{scope:e,anchor:r,onAnchorChange:i,children:n})};SL.displayName=hT;var _L="PopperAnchor",EL=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=wL(_L,n),s=b.useRef(null),a=mt(e,s);return b.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Xe.div,{...i,ref:a})});EL.displayName=_L;var pT="PopperContent",[oG,sG]=bL(pT),TL=b.forwardRef((t,e)=>{var be,Ne,oe,me,ae,z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=t,v=wL(pT,n),[x,w]=b.useState(null),S=mt(e,we=>w(we)),[C,E]=b.useState(null),P=fT(C),_=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,N=r+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(c)?c:[c],R=j.length>0,O={padding:k,boundary:j.filter(lG),altBoundary:R},{refs:$,floatingStyles:F,placement:U,isPositioned:W,middlewareData:V}=Gq({strategy:"fixed",placement:N,whileElementsMounted:(...we)=>Fq(...we,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Yq({mainAxis:i+T,alignmentAxis:s}),l&&Xq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Qq():void 0,...O}),l&&Jq({...O}),Zq({...O,apply:({elements:we,rects:Ee,availableWidth:Qe,availableHeight:Je})=>{const{width:nt,height:Ve}=Ee.reference,le=we.floating.style;le.setProperty("--radix-popper-available-width",`${Qe}px`),le.setProperty("--radix-popper-available-height",`${Je}px`),le.setProperty("--radix-popper-anchor-width",`${nt}px`),le.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),C&&tG({element:C,padding:a}),cG({arrowWidth:_,arrowHeight:T}),h&&eG({strategy:"referenceHidden",...O})]}),[B,Z]=PL(U),Q=Dn(y);fr(()=>{W&&(Q==null||Q())},[W,Q]);const ne=(be=V.arrow)==null?void 0:be.x,_e=(Ne=V.arrow)==null?void 0:Ne.y,Pe=((oe=V.arrow)==null?void 0:oe.centerOffset)!==0,[Me,st]=b.useState();return fr(()=>{x&&st(window.getComputedStyle(x).zIndex)},[x]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:W?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(me=V.transformOrigin)==null?void 0:me.x,(ae=V.transformOrigin)==null?void 0:ae.y].join(" "),...((z=V.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(oG,{scope:n,placedSide:B,onArrowChange:E,arrowX:ne,arrowY:_e,shouldHideArrow:Pe,children:u.jsx(Xe.div,{"data-side":B,"data-align":Z,...g,ref:S,style:{...g.style,animation:W?void 0:"none"}})})})});TL.displayName=pT;var CL="PopperArrow",aG={top:"bottom",right:"left",bottom:"top",left:"right"},AL=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=sG(CL,r),s=aG[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(rG,{...i,ref:n,style:{...i.style,display:"block"}})})});AL.displayName=CL;function lG(t){return t!==null}var cG=t=>({name:"transformOrigin",options:t,fn(e){var v,x,w;const{placement:n,rects:r,middlewareData:i}=e,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=PL(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let y="",g="";return c==="bottom"?(y=s?f:`${h}px`,g=`${-l}px`):c==="top"?(y=s?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,g=s?f:`${m}px`):c==="left"&&(y=`${r.floating.width+l}px`,g=s?f:`${m}px`),{data:{x:y,y:g}}}});function PL(t){const[e,n="center"]=t.split("-");return[e,n]}var uG=SL,NL=EL,jL=TL,IL=AL,[jx,Uje]=Mi("Tooltip",[Nx]),mT=Nx(),kL="TooltipProvider",dG=700,qN="tooltip.open",[fG,OL]=jx(kL),RL=t=>{const{__scopeTooltip:e,delayDuration:n=dG,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,s=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(fG,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:o})};RL.displayName=kL;var ML="Tooltip",[zje,Ix]=jx(ML),V1="TooltipTrigger",hG=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ix(V1,n),o=OL(V1,n),s=mT(n),a=b.useRef(null),l=mt(e,a,i.onTriggerChange),c=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(NL,{asChild:!0,...s,children:u.jsx(Xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Le(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Le(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Le(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Le(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Le(t.onBlur,i.onClose),onClick:Le(t.onClick,i.onClose)})})});hG.displayName=V1;var pG="TooltipPortal",[Wje,mG]=jx(pG,{forceMount:void 0}),Xu="TooltipContent",DL=b.forwardRef((t,e)=>{const n=mG(Xu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=Ix(Xu,t.__scopeTooltip);return u.jsx(no,{present:r||s.open,children:s.disableHoverableContent?u.jsx($L,{side:i,...o,ref:e}):u.jsx(gG,{side:i,...o,ref:e})})}),gG=b.forwardRef((t,e)=>{const n=Ix(Xu,t.__scopeTooltip),r=OL(Xu,t.__scopeTooltip),i=b.useRef(null),o=mt(e,i),[s,a]=b.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{a(null),f(!1)},[f]),m=b.useCallback((y,g)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=wG(x,v.getBoundingClientRect()),S=SG(x,w),C=_G(g.getBoundingClientRect()),E=TG([...S,...C]);a(E),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const y=v=>m(v,d),g=v=>m(v,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),b.useEffect(()=>{if(s){const y=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),S=!EG(x,s);w?h():S&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,s,c,h]),u.jsx($L,{...t,ref:o})}),[yG,vG]=jx(ML,{isInside:!1}),xG=lW("TooltipContent"),$L=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=Ix(Xu,n),c=mT(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(qN,d),()=>document.removeEventListener(qN,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(zp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(jL,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(xG,{children:r}),u.jsx(yG,{scope:n,isInside:!0,children:u.jsx(PW,{id:l.contentId,role:"tooltip",children:i||r})})]})})});DL.displayName=Xu;var LL="TooltipArrow",bG=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=mT(n);return vG(LL,n).isInside?null:u.jsx(IL,{...i,...r,ref:e})});bG.displayName=LL;function wG(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function SG(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _G(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function EG(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function TG(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),CG(e)}function CG(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var AG=RL,FL=DL;const PG=AG,NG=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(FL,{ref:r,sideOffset:e,className:ct("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));NG.displayName=FL.displayName;const $g=[{id:"promethean",name:"Promethean Red",primary:"0 84% 42%",primaryLight:"0 84% 45%"},{id:"ocean",name:"Ocean Blue",primary:"210 84% 42%",primaryLight:"210 84% 50%"},{id:"forest",name:"Forest Green",primary:"140 70% 35%",primaryLight:"140 70% 42%"},{id:"amethyst",name:"Amethyst Purple",primary:"270 70% 45%",primaryLight:"270 70% 52%"},{id:"sunset",name:"Sunset Orange",primary:"25 95% 50%",primaryLight:"25 95% 55%"},{id:"gold",name:"Classic Gold",primary:"45 90% 45%",primaryLight:"45 90% 52%"},{id:"teal",name:"Teal",primary:"175 70% 40%",primaryLight:"175 70% 48%"},{id:"rose",name:"Rose Pink",primary:"340 75% 55%",primaryLight:"340 75% 62%"}],VL=b.createContext(void 0);function jG({children:t}){const[e,n]=b.useState(()=>localStorage.getItem("cuemaster-theme")||"dark"),[r,i]=b.useState(()=>{const a=localStorage.getItem("cuemaster-color-theme");return a&&$g.find(c=>c.id===a)||$g[0]});b.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("cuemaster-theme",e)},[e]),b.useEffect(()=>{const a=document.documentElement,l=r.primary,c=r.primaryLight;a.style.setProperty("--primary",l),a.style.setProperty("--ring",l),a.style.setProperty("--sidebar-primary",e==="dark"?c:l),a.style.setProperty("--sidebar-ring",e==="dark"?c:l);const[d]=l.split(" "),f=parseFloat(d);e==="dark"?(a.style.setProperty("--sidebar-accent",`${f} 5% 15%`),a.style.setProperty("--accent",`${f} 6% 13%`)):(a.style.setProperty("--sidebar-accent",`${f} 5% 90%`),a.style.setProperty("--accent",`${f} 6% 92%`)),localStorage.setItem("cuemaster-color-theme",r.id)},[r,e]);const o=()=>{n(a=>a==="light"?"dark":"light")},s=a=>{i(a)};return u.jsx(VL.Provider,{value:{theme:e,setTheme:n,toggleTheme:o,colorTheme:r,setColorTheme:s},children:t})}function IG(){const t=b.useContext(VL);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const kG=()=>{};var GN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},UL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new RG;const h=o<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MG=function(t){const e=BL(t);return UL.encodeByteArray(e,!0)},Ny=function(t){return MG(t).replace(/\./g,"")},zL=function(t){try{return UL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G=()=>DG().__FIREBASE_DEFAULTS__,LG=()=>{if(typeof process>"u"||typeof GN>"u")return;const t=GN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zL(t[1]);return e&&JSON.parse(e)},kx=()=>{try{return kG()||$G()||LG()||FG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WL=t=>{var e,n;return(n=(e=kx())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},VG=t=>{const e=WL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HL=()=>{var t;return(t=kx())==null?void 0:t.config},qL=t=>{var e;return(e=kx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ny(JSON.stringify(n)),Ny(JSON.stringify(s)),""].join(".")}const eh={};function zG(){const t={prod:[],emulator:[]};for(const e of Object.keys(eh))eh[e]?t.emulator.push(e):t.prod.push(e);return t}function WG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let KN=!1;function KL(t,e){if(typeof window>"u"||typeof document>"u"||!Md(window.location.host)||eh[t]===e||eh[t]||KN)return;eh[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=zG().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{KN=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=WG(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),v=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),d(v,g);const C=c();l(w,x),S.append(w,y,v,C),document.body.appendChild(S)}o?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function qG(){var e;const t=(e=kx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XG(){const t=qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QG(){return!qG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JG(){try{return typeof indexedDB=="object"}catch{return!1}}function ZG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK="FirebaseError";class ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eK,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gp.prototype.create)}}class Gp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tK(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ca(i,a,r)}}function tK(t,e){return t.replace(nK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nK=/\{\$([^}]+)}/g;function rK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(YN(o)&&YN(s)){if(!uc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function YN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iK(t,e){const n=new oK(t,e);return n.subscribe.bind(n)}class oK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$b),i.error===void 0&&(i.error=$b),i.complete===void 0&&(i.complete=$b);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $b(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){return t&&t._delegate?t._delegate:t}class dc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cK(e))try{this.getOrInitializeService({instanceIdentifier:Il})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Il){return this.instances.has(e)}getOptions(e=Il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Il){return this.component?this.component.multipleInstances?e:Il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lK(t){return t===Il?void 0:t}function cK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wt||(wt={}));const dK={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},fK=wt.INFO,hK={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},pK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gT{constructor(e){this.name=e,this._logLevel=fK,this._logHandler=pK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const mK=(t,e)=>e.some(n=>t instanceof n);let XN,QN;function gK(){return XN||(XN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yK(){return QN||(QN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YL=new WeakMap,B1=new WeakMap,XL=new WeakMap,Lb=new WeakMap,yT=new WeakMap;function vK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Qa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&YL.set(n,t)}).catch(()=>{}),yT.set(e,t),e}function xK(t){if(B1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});B1.set(t,e)}let U1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bK(t){U1=t(U1)}function wK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fb(this),e,...n);return XL.set(r,e.sort?e.sort():[e]),Qa(r)}:yK().includes(t)?function(...e){return t.apply(Fb(this),e),Qa(YL.get(this))}:function(...e){return Qa(t.apply(Fb(this),e))}}function SK(t){return typeof t=="function"?wK(t):(t instanceof IDBTransaction&&xK(t),mK(t,gK())?new Proxy(t,U1):t)}function Qa(t){if(t instanceof IDBRequest)return vK(t);if(Lb.has(t))return Lb.get(t);const e=SK(t);return e!==t&&(Lb.set(t,e),yT.set(e,t)),e}const Fb=t=>yT.get(t);function _K(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Qa(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Qa(s.result),l.oldVersion,l.newVersion,Qa(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const EK=["get","getKey","getAll","getAllKeys","count"],TK=["put","add","delete","clear"],Vb=new Map;function JN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vb.get(e))return Vb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EK.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Vb.set(e,o),o}bK(t=>({...t,get:(e,n,r)=>JN(e,n)||t.get(e,n,r),has:(e,n)=>!!JN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z1="@firebase/app",ZN="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new gT("@firebase/app"),PK="@firebase/app-compat",NK="@firebase/analytics-compat",jK="@firebase/analytics",IK="@firebase/app-check-compat",kK="@firebase/app-check",OK="@firebase/auth",RK="@firebase/auth-compat",MK="@firebase/database",DK="@firebase/data-connect",$K="@firebase/database-compat",LK="@firebase/functions",FK="@firebase/functions-compat",VK="@firebase/installations",BK="@firebase/installations-compat",UK="@firebase/messaging",zK="@firebase/messaging-compat",WK="@firebase/performance",HK="@firebase/performance-compat",qK="@firebase/remote-config",GK="@firebase/remote-config-compat",KK="@firebase/storage",YK="@firebase/storage-compat",XK="@firebase/firestore",QK="@firebase/ai",JK="@firebase/firestore-compat",ZK="firebase",eY="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="[DEFAULT]",tY={[z1]:"fire-core",[PK]:"fire-core-compat",[jK]:"fire-analytics",[NK]:"fire-analytics-compat",[kK]:"fire-app-check",[IK]:"fire-app-check-compat",[OK]:"fire-auth",[RK]:"fire-auth-compat",[MK]:"fire-rtdb",[DK]:"fire-data-connect",[$K]:"fire-rtdb-compat",[LK]:"fire-fn",[FK]:"fire-fn-compat",[VK]:"fire-iid",[BK]:"fire-iid-compat",[UK]:"fire-fcm",[zK]:"fire-fcm-compat",[WK]:"fire-perf",[HK]:"fire-perf-compat",[qK]:"fire-rc",[GK]:"fire-rc-compat",[KK]:"fire-gcs",[YK]:"fire-gcs-compat",[XK]:"fire-fst",[JK]:"fire-fst-compat",[QK]:"fire-vertex","fire-js":"fire-js",[ZK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map,nY=new Map,H1=new Map;function ej(t,e){try{t.container.addComponent(e)}catch(n){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qu(t){const e=t.name;if(H1.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;H1.set(e,t);for(const n of jy.values())ej(n,t);for(const n of nY.values())ej(n,t);return!0}function vT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Eo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new Gp("app","Firebase",rY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=eY;function QL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:W1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ja.create("bad-app-name",{appName:String(i)});if(n||(n=HL()),!n)throw Ja.create("no-options");const o=jy.get(i);if(o){if(uc(n,o.options)&&uc(r,o.config))return o;throw Ja.create("duplicate-app",{appName:i})}const s=new uK(i);for(const l of H1.values())s.addComponent(l);const a=new iY(n,r,s);return jy.set(i,a),a}function JL(t=W1){const e=jy.get(t);if(!e&&t===W1&&HL())return QL();if(!e)throw Ja.create("no-app",{appName:t});return e}function Za(t,e,n){let r=tY[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(s.join(" "));return}Qu(new dc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY="firebase-heartbeat-database",sY=1,Lh="firebase-heartbeat-store";let Bb=null;function ZL(){return Bb||(Bb=_K(oY,sY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ja.create("idb-open",{originalErrorMessage:t.message})})),Bb}async function aY(t){try{const n=(await ZL()).transaction(Lh),r=await n.objectStore(Lh).get(e4(t));return await n.done,r}catch(e){if(e instanceof ca)ea.warn(e.message);else{const n=Ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(n.message)}}}async function tj(t,e){try{const r=(await ZL()).transaction(Lh,"readwrite");await r.objectStore(Lh).put(e,e4(t)),await r.done}catch(n){if(n instanceof ca)ea.warn(n.message);else{const r=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ea.warn(r.message)}}}function e4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lY=1024,cY=30;class uY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nj();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>cY){const s=hY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ea.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nj(),{heartbeatsToSend:r,unsentEntries:i}=dY(this._heartbeatsCache.heartbeats),o=Ny(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ea.warn(n),""}}}function nj(){return new Date().toISOString().substring(0,10)}function dY(t,e=lY){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rj(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JG()?ZG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rj(t){return Ny(JSON.stringify({version:2,heartbeats:t})).length}function hY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(t){Qu(new dc("platform-logger",e=>new CK(e),"PRIVATE")),Qu(new dc("heartbeat",e=>new uY(e),"PRIVATE")),Za(z1,ZN,t),Za(z1,ZN,"esm2020"),Za("fire-js","")}pY("");var mY="firebase",gY="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za(mY,gY,"app");function t4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yY=t4,n4=new Gp("auth","Firebase",t4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new gT("@firebase/auth");function vY(t,...e){Iy.logLevel<=wt.WARN&&Iy.warn(`Auth (${Dd}): ${t}`,...e)}function Lg(t,...e){Iy.logLevel<=wt.ERROR&&Iy.error(`Auth (${Dd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,...e){throw bT(t,...e)}function Oo(t,...e){return bT(t,...e)}function xT(t,e,n){const r={...yY(),[e]:n};return new Gp("auth","Firebase",r).create(e,{appName:t.name})}function Jl(t){return xT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xY(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vs(t,"argument-error"),xT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n4.create(t,...e)}function lt(t,e,...n){if(!t)throw bT(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lg(e),new Error(e)}function ta(t,e){t||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function bY(){return ij()==="http:"||ij()==="https:"}function ij(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bY()||KG()||"connection"in navigator)?navigator.onLine:!0}function SY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ta(n>e,"Short delay should be less than long delay!"),this.isMobile=HG()||YG()}get(){return wY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e){ta(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TY=new Yp(3e4,6e4);function ST(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $d(t,e,n,r,i={}){return i4(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Kp({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return GG()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Md(t.emulatorConfig.host)&&(c.credentials="include"),r4.fetch()(await o4(t,t.config.apiHost,n,a),c)})}async function i4(t,e,n){t._canInitEmulator=!1;const r={..._Y,...e};try{const i=new AY(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Gm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Gm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Gm(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xT(t,d,c);vs(t,d)}}catch(i){if(i instanceof ca)throw i;vs(t,"network-request-failed",{message:String(i)})}}async function CY(t,e,n,r,i={}){const o=await $d(t,e,n,r,i);return"mfaPendingCredential"in o&&vs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function o4(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?wT(t.config,i):`${t.config.apiScheme}://${i}`;return EY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class AY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oo(this.auth,"network-request-failed")),TY.get())})}}function Gm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Oo(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PY(t,e){return $d(t,"POST","/v1/accounts:delete",e)}async function ky(t,e){return $d(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NY(t,e=!1){const n=eo(t),r=await n.getIdToken(e),i=_T(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:th(Ub(i.auth_time)),issuedAtTime:th(Ub(i.iat)),expirationTime:th(Ub(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ub(t){return Number(t)*1e3}function _T(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=zL(n);return i?JSON.parse(i):(Lg("Failed to decode base64 JWT payload"),null)}catch(i){return Lg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oj(t){const e=_T(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ca&&jY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oy(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Fh(t,ky(e,{idToken:n}));lt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?s4(i.providerUserInfo):[],s=OY(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new G1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function kY(t){const e=eo(t);await Oy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RY(t,e){const n=await i4(t,{},async()=>{const r=Kp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await o4(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Md(t.emulatorConfig.host)&&(l.credentials="include"),r4.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MY(t,e){return $d(t,"POST","/v2/accounts:revokeToken",ST(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=oj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await RY(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Su;return r&&(lt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(lt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Su,this.toJSON())}_performRefresh(){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Co{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new IY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new G1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fh(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NY(this,e)}reload(){return kY(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Co({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Eo(this.auth.app))return Promise.reject(Jl(this.auth));const e=await this.getIdToken();return await Fh(this,PY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:y,stsTokenManager:g}=n;lt(f&&g,e,"internal-error");const v=Su.fromJSON(this.name,g);lt(typeof f=="string",e,"internal-error"),wa(r,e.name),wa(i,e.name),lt(typeof h=="boolean",e,"internal-error"),lt(typeof m=="boolean",e,"internal-error"),wa(o,e.name),wa(s,e.name),wa(a,e.name),wa(l,e.name),wa(c,e.name),wa(d,e.name);const x=new Co({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:v,createdAt:c,lastLoginAt:d});return y&&Array.isArray(y)&&(x.providerData=y.map(w=>({...w}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Su;i.updateFromServerResponse(n);const o=new Co({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];lt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?s4(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Su;a.updateFromIdToken(r);const l=new Co({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new G1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=new Map;function Vs(t){ta(t instanceof Function,"Expected a class definition");let e=sj.get(t);return e?(ta(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a4.type="NONE";const aj=a4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e,n){return`firebase:${t}:${e}:${n}`}class _u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Fg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ky(this.auth,{idToken:e}).catch(()=>{});return n?Co._fromGetAccountInfoResponse(this.auth,n,e):null}return Co._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _u(Vs(aj),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Vs(aj);const s=Fg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){let f;if(typeof d=="string"){const h=await ky(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Co._fromGetAccountInfoResponse(e,h,d)}else f=Co._fromJSON(e,d);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new _u(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new _u(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h4(e))return"Blackberry";if(p4(e))return"Webos";if(c4(e))return"Safari";if((e.includes("chrome/")||u4(e))&&!e.includes("edge/"))return"Chrome";if(f4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function l4(t=qr()){return/firefox\//i.test(t)}function c4(t=qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u4(t=qr()){return/crios\//i.test(t)}function d4(t=qr()){return/iemobile/i.test(t)}function f4(t=qr()){return/android/i.test(t)}function h4(t=qr()){return/blackberry/i.test(t)}function p4(t=qr()){return/webos/i.test(t)}function ET(t=qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DY(t=qr()){var e;return ET(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $Y(){return XG()&&document.documentMode===10}function m4(t=qr()){return ET(t)||f4(t)||p4(t)||h4(t)||/windows phone/i.test(t)||d4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t,e=[]){let n;switch(t){case"Browser":n=lj(qr());break;case"Worker":n=`${lj(qr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FY(t,e={}){return $d(t,"GET","/v2/passwordPolicy",ST(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY=6;class BY{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??VY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cj(this),this.idTokenSubscription=new cj(this),this.beforeStateQueue=new LY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vs(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await _u.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ky(this,{idToken:e}),r=await Co._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Eo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Eo(this.app))return Promise.reject(Jl(this));const n=e?eo(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Eo(this.app)?Promise.reject(Jl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Eo(this.app)?Promise.reject(Jl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FY(this),n=new BY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vs(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await _u.create(this,[Vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Eo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&vY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ox(t){return eo(t)}class cj{constructor(e){this.auth=e,this.observer=null,this.addObserver=iK(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zY(t){TT=t}function WY(t){return TT.loadJS(t)}function HY(){return TT.gapiScript}function qY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(t,e){const n=vT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(uc(o,e??{}))return i;vs(i,"already-initialized")}return n.initialize({options:e})}function KY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YY(t,e,n){const r=Ox(t);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=y4(e),{host:s,port:a}=XY(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(uc(c,r.config.emulator)&&uc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Md(s)?(GL(`${o}//${s}${l}`),KL("Auth",!0)):QY()}function y4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XY(t){const e=y4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:uj(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:uj(s)}}}function uj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,e){return CY(t,"POST","/v1/accounts:signInWithIdp",ST(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JY="http://localhost";class fc extends v4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new fc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Eu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eu(e,n)}buildRequest(){const e={requestUri:JY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Xp{constructor(){super("facebook.com")}static credential(e){return fc._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Xp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fc._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Xp{constructor(){super("github.com")}static credential(e){return fc._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Xp{constructor(){super("twitter.com")}static credential(e,n){return fc._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Co._fromIdTokenResponse(e,r,i),s=dj(r);return new Ju({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dj(r);return new Ju({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends ca{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ry.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ry(e,n,r,i)}}function x4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ry._fromErrorAndOperation(t,o,e,r):o})}async function ZY(t,e,n=!1){const r=await Fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ju._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eX(t,e,n=!1){const{auth:r}=t;if(Eo(r.app))return Promise.reject(Jl(r));const i="reauthenticate";try{const o=await Fh(t,x4(r,i,e,t),n);lt(o.idToken,r,"internal-error");const s=_T(o.idToken);lt(s,r,"internal-error");const{sub:a}=s;return lt(t.uid===a,r,"user-mismatch"),Ju._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tX(t,e,n=!1){if(Eo(t.app))return Promise.reject(Jl(t));const r="signIn",i=await x4(t,r,e),o=await Ju._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function nX(t,e,n,r){return eo(t).onIdTokenChanged(e,n,r)}function rX(t,e,n){return eo(t).beforeAuthStateChanged(e,n)}function iX(t,e,n,r){return eo(t).onAuthStateChanged(e,n,r)}function oX(t){return eo(t).signOut()}const My="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(My,"1"),this.storage.removeItem(My),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sX=1e3,aX=10;class w4 extends b4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);$Y()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w4.type="LOCAL";const lX=w4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4 extends b4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S4.type="SESSION";const _4=S4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await cX(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=AT("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return window}function dX(t){us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function fX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function pX(){return E4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="firebaseLocalStorageDb",mX=1,Dy="firebaseLocalStorage",C4="fbase_key";class Qp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mx(t,e){return t.transaction([Dy],e?"readwrite":"readonly").objectStore(Dy)}function gX(){const t=indexedDB.deleteDatabase(T4);return new Qp(t).toPromise()}function K1(){const t=indexedDB.open(T4,mX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dy,{keyPath:C4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dy)?e(r):(r.close(),await gX(),e(await K1()))})})}async function fj(t,e,n){const r=Mx(t,!0).put({[C4]:e,value:n});return new Qp(r).toPromise()}async function yX(t,e){const n=Mx(t,!1).get(e),r=await new Qp(n).toPromise();return r===void 0?null:r.value}function hj(t,e){const n=Mx(t,!0).delete(e);return new Qp(n).toPromise()}const vX=800,xX=3;class A4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rx._getInstance(pX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await fX(),!this.activeServiceWorker)return;this.sender=new uX(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K1();return await fj(e,My,"1"),await hj(e,My),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Mx(i,!1).getAll();return new Qp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A4.type="LOCAL";const bX=A4;new Yp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e){return e?Vs(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends v4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wX(t){return tX(t.auth,new PT(t),t.bypassAuthState)}function SX(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),eX(n,new PT(t),t.bypassAuthState)}async function _X(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),ZY(n,new PT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wX;case"linkViaPopup":case"linkViaRedirect":return _X;case"reauthViaPopup":case"reauthViaRedirect":return SX;default:vs(this.auth,"internal-error")}}resolve(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX=new Yp(2e3,1e4);async function j4(t,e,n){if(Eo(t.app))return Promise.reject(Oo(t,"operation-not-supported-in-this-environment"));const r=Ox(t);xY(t,e,CT);const i=P4(r,n);return new Vl(r,"signInViaPopup",e,i).executeNotNull()}class Vl extends N4{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){ta(this.filter.length===1,"Popup operations only handle one event");const e=AT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Oo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EX.get())};e()}}Vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TX="pendingRedirect",Vg=new Map;class CX extends N4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vg.get(this.auth._key());if(!e){try{const r=await AX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vg.set(this.auth._key(),e)}return this.bypassAuthState||Vg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AX(t,e){const n=jX(e),r=NX(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function PX(t,e){Vg.set(t._key(),e)}function NX(t){return Vs(t._redirectPersistence)}function jX(t){return Fg(TX,t.config.apiKey,t.name)}async function IX(t,e,n=!1){if(Eo(t.app))return Promise.reject(Jl(t));const r=Ox(t),i=P4(r,e),s=await new CX(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kX=10*60*1e3;class OX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!I4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kX&&this.cachedEventUids.clear(),this.cachedEventUids.has(pj(e))}saveEventToCache(e){this.cachedEventUids.add(pj(e)),this.lastProcessedEventTime=Date.now()}}function pj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function I4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MX(t,e={}){return $d(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$X=/^https?/;async function LX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MX(t);for(const n of e)try{if(FX(n))return}catch{}vs(t,"unauthorized-domain")}function FX(t){const e=q1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$X.test(n))return!1;if(DX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX=new Yp(3e4,6e4);function mj(){const t=us().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BX(t){return new Promise((e,n)=>{var i,o,s;function r(){mj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mj(),n(Oo(t,"network-request-failed"))},timeout:VX.get()})}if((o=(i=us().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=us().gapi)!=null&&s.load)r();else{const a=qY("iframefcb");return us()[a]=()=>{gapi.load?r():n(Oo(t,"network-request-failed"))},WY(`${HY()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bg=null,e})}let Bg=null;function UX(t){return Bg=Bg||BX(t),Bg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX=new Yp(5e3,15e3),WX="__/auth/iframe",HX="emulator/auth/iframe",qX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KX(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wT(e,HX):`https://${t.config.authDomain}/${WX}`,r={apiKey:e.apiKey,appName:t.name,v:Dd},i=GX.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Kp(r).slice(1)}`}async function YX(t){const e=await UX(t),n=us().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:KX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qX,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Oo(t,"network-request-failed"),a=us().setTimeout(()=>{o(s)},zX.get());function l(){us().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QX=500,JX=600,ZX="_blank",eQ="http://localhost";class gj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tQ(t,e,n,r=QX,i=JX){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...XX,width:r.toString(),height:i.toString(),top:o,left:s},c=qr().toLowerCase();n&&(a=u4(c)?ZX:n),l4(c)&&(e=e||eQ,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(DY(c)&&a!=="_self")return nQ(e||"",a),new gj(null);const f=window.open(e||"",a,d);lt(f,t,"popup-blocked");try{f.focus()}catch{}return new gj(f)}function nQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ="__/auth/handler",iQ="emulator/auth/handler",oQ=encodeURIComponent("fac");async function yj(t,e,n,r,i,o){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dd,eventId:i};if(e instanceof CT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rK(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof Xp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${oQ}=${encodeURIComponent(l)}`:"";return`${sQ(t)}?${Kp(a).slice(1)}${c}`}function sQ({config:t}){return t.emulator?wT(t,iQ):`https://${t.authDomain}/${rQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="webStorageSupport";class aQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_4,this._completeRedirectFn=IX,this._overrideRedirectResult=PX}async _openPopup(e,n,r,i){var s;ta((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yj(e,n,r,q1(),i);return tQ(e,o,AT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await yj(e,n,r,q1(),i);return dX(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ta(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YX(e),r=new OX(e);return n.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zb,{type:zb},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[zb];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m4()||c4()||ET()}}const lQ=aQ;var vj="@firebase/auth",xj="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dQ(t){Qu(new dc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;lt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g4(t)},c=new UY(r,i,o,l);return KY(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qu(new dc("auth-internal",e=>{const n=Ox(e.getProvider("auth").getImmediate());return(r=>new cQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Za(vj,xj,uQ(t)),Za(vj,xj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=5*60,hQ=qL("authIdTokenMaxAge")||fQ;let bj=null;const pQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hQ)return;const i=n==null?void 0:n.token;bj!==i&&(bj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mQ(t=JL()){const e=vT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GY(t,{popupRedirectResolver:lQ,persistence:[bX,lX,_4]}),r=qL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=pQ(o.toString());rX(n,s,()=>s(n.currentUser)),nX(n,a=>s(a))}}const i=WL("auth");return i&&YY(n,`http://${i}`),n}function gQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}zY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Oo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",gQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dQ("Browser");var wj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var el,k4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function N(){}N.prototype=T.prototype,_.F=T.prototype,_.prototype=new N,_.prototype.constructor=_,_.D=function(k,j,R){for(var O=Array(arguments.length-2),$=2;$<arguments.length;$++)O[$-2]=arguments[$];return T.prototype[j].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,T,N){N||(N=0);const k=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)k[j]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(j=0;j<16;++j)k[j]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=_.g[0],N=_.g[1],j=_.g[2];let R=_.g[3],O;O=T+(R^N&(j^R))+k[0]+3614090360&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[1]+3905402710&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[2]+606105819&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[3]+3250441966&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[4]+4118548399&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[5]+1200080426&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[6]+2821735955&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[7]+4249261313&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[8]+1770035416&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[9]+2336552879&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[10]+4294925233&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[11]+2304563134&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[12]+1804603682&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[13]+4254626195&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[14]+2792965006&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[15]+1236535329&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(j^R&(N^j))+k[1]+4129170786&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[6]+3225465664&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[11]+643717713&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[0]+3921069994&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[5]+3593408605&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[10]+38016083&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[15]+3634488961&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[4]+3889429448&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[9]+568446438&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[14]+3275163606&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[3]+4107603335&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[8]+1163531501&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[13]+2850285829&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[2]+4243563512&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[7]+1735328473&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[12]+2368359562&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(N^j^R)+k[5]+4294588738&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[8]+2272392833&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[11]+1839030562&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[14]+4259657740&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[1]+2763975236&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[4]+1272893353&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[7]+4139469664&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[10]+3200236656&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[13]+681279174&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[0]+3936430074&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[3]+3572445317&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[6]+76029189&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[9]+3654602809&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[12]+3873151461&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[15]+530742520&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[2]+3299628645&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(j^(N|~R))+k[0]+4096336452&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[7]+1126891415&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[14]+2878612391&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[5]+4237533241&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[12]+1700485571&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[3]+2399980690&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[10]+4293915773&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[1]+2240044497&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[8]+1873313359&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[15]+4264355552&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[6]+2734768916&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[13]+1309151649&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[4]+4149444226&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[11]+3174756917&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[2]+718787259&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+j&4294967295,_.g[3]=_.g[3]+R&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const N=T-this.blockSize,k=this.C;let j=this.h,R=0;for(;R<T;){if(j==0)for(;R<=N;)i(this,_,R),R+=this.blockSize;if(typeof _=="string"){for(;R<T;)if(k[j++]=_.charCodeAt(R++),j==this.blockSize){i(this,k),j=0;break}}else for(;R<T;)if(k[j++]=_[R++],j==this.blockSize){i(this,k),j=0;break}}this.h=j,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var N=_.length-8;N<_.length;++N)_[N]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)_[T++]=this.g[N]>>>k&255;return _};function o(_,T){var N=a;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=T(_)}function s(_,T){this.h=T;const N=[];let k=!0;for(let j=_.length-1;j>=0;j--){const R=_[j]|0;k&&R==T||(N[j]=R,k=!1)}this.g=N}var a={};function l(_){return-128<=_&&_<128?o(_,function(T){return new s([T|0],T<0?-1:0)}):new s([_|0],_<0?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return v(c(-_));const T=[];let N=1;for(let k=0;_>=N;k++)T[k]=_/N|0,N*=4294967296;return new s(T,0)}function d(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return v(d(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=c(Math.pow(T,8));let k=f;for(let R=0;R<_.length;R+=8){var j=Math.min(8,_.length-R);const O=parseInt(_.substring(R,R+j),T);j<8?(j=c(Math.pow(T,j)),k=k.j(j).add(c(O))):(k=k.j(N),k=k.add(c(O)))}return k}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-v(this).m();let _=0,T=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);_+=(k>=0?k:4294967296+k)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(y(this))return"0";if(g(this))return"-"+v(this).toString(_);const T=c(Math.pow(_,6));var N=this;let k="";for(;;){const j=C(N,T).g;N=x(N,j.j(T));let R=((N.g.length>0?N.g[0]:N.h)>>>0).toString(_);if(N=j,y(N))return R+k;for(;R.length<6;)R="0"+R;k=R+k}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function y(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function g(_){return _.h==-1}t.l=function(_){return _=x(this,_),g(_)?-1:y(_)?0:1};function v(_){const T=_.g.length,N=[];for(let k=0;k<T;k++)N[k]=~_.g[k];return new s(N,~_.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),N=[];let k=0;for(let j=0;j<=T;j++){let R=k+(this.i(j)&65535)+(_.i(j)&65535),O=(R>>>16)+(this.i(j)>>>16)+(_.i(j)>>>16);k=O>>>16,R&=65535,O&=65535,N[j]=O<<16|R}return new s(N,N[N.length-1]&-2147483648?-1:0)};function x(_,T){return _.add(v(T))}t.j=function(_){if(y(this)||y(_))return f;if(g(this))return g(_)?v(this).j(v(_)):v(v(this).j(_));if(g(_))return v(this.j(v(_)));if(this.l(m)<0&&_.l(m)<0)return c(this.m()*_.m());const T=this.g.length+_.g.length,N=[];for(var k=0;k<2*T;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let j=0;j<_.g.length;j++){const R=this.i(k)>>>16,O=this.i(k)&65535,$=_.i(j)>>>16,F=_.i(j)&65535;N[2*k+2*j]+=O*F,w(N,2*k+2*j),N[2*k+2*j+1]+=R*F,w(N,2*k+2*j+1),N[2*k+2*j+1]+=O*$,w(N,2*k+2*j+1),N[2*k+2*j+2]+=R*$,w(N,2*k+2*j+2)}for(_=0;_<T;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=T;_<2*T;_++)N[_]=0;return new s(N,0)};function w(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function S(_,T){this.g=_,this.h=T}function C(_,T){if(y(T))throw Error("division by zero");if(y(_))return new S(f,f);if(g(_))return T=C(v(_),T),new S(v(T.g),v(T.h));if(g(T))return T=C(_,v(T)),new S(v(T.g),T.h);if(_.g.length>30){if(g(_)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var N=h,k=T;k.l(_)<=0;)N=E(N),k=E(k);var j=P(N,1),R=P(k,1);for(k=P(k,2),N=P(N,2);!y(k);){var O=R.add(k);O.l(_)<=0&&(j=j.add(N),R=O),k=P(k,1),N=P(N,1)}return T=x(_,j.j(T)),new S(j,T)}for(j=f;_.l(T)>=0;){for(N=Math.max(1,Math.floor(_.m()/T.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),R=c(N),O=R.j(T);g(O)||O.l(_)>0;)N-=k,R=c(N),O=R.j(T);y(R)&&(R=h),j=j.add(R),_=x(_,O)}return new S(j,_)}t.B=function(_){return C(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)&_.i(k);return new s(N,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)|_.i(k);return new s(N,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)^_.i(k);return new s(N,this.h^_.h)};function E(_){const T=_.g.length+1,N=[];for(let k=0;k<T;k++)N[k]=_.i(k)<<1|_.i(k-1)>>>31;return new s(N,_.h)}function P(_,T){const N=T>>5;T%=32;const k=_.g.length-N,j=[];for(let R=0;R<k;R++)j[R]=T>0?_.i(R+N)>>>T|_.i(R+N+1)<<32-T:_.i(R+N);return new s(j,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,k4=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,el=s}).apply(typeof wj<"u"?wj:typeof self<"u"?self:typeof window<"u"?window:{});var Km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O4,Mf,R4,Ug,Y1,M4,D4,$4;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Km=="object"&&Km];for(var A=0;A<p.length;++A){var I=p[A];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(p,A){if(A)e:{var I=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var Y=p[D];if(!(Y in I))break e;I=I[Y]}p=p[p.length-1],D=I[p],A=A(D),A!=D&&A!=null&&e(I,p,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(A){var I=[],D;for(D in A)Object.prototype.hasOwnProperty.call(A,D)&&I.push([D,A[D]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(p){var A=typeof p;return A=="object"&&p!=null||A=="function"}function l(p,A,I){return p.call.apply(p.bind,arguments)}function c(p,A,I){return c=l,c.apply(null,arguments)}function d(p,A){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function f(p,A){function I(){}I.prototype=A.prototype,p.Z=A.prototype,p.prototype=new I,p.prototype.constructor=p,p.Ob=function(D,Y,te){for(var Ce=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Ce[ht-2]=arguments[ht];return A.prototype[Y].apply(D,Ce)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const A=p.length;if(A>0){const I=Array(A);for(let D=0;D<A;D++)I[D]=p[D];return I}return[]}function y(p,A){for(let D=1;D<arguments.length;D++){const Y=arguments[D];var I=typeof Y;if(I=I!="object"?I:Y?Array.isArray(Y)?"array":I:"null",I=="array"||I=="object"&&typeof Y.length=="number"){I=p.length||0;const te=Y.length||0;p.length=I+te;for(let Ce=0;Ce<te;Ce++)p[I+Ce]=Y[Ce]}else p.push(Y)}}class g{constructor(A,I){this.i=A,this.j=I,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function v(p){s.setTimeout(()=>{throw p},0)}function x(){var p=_;let A=null;return p.g&&(A=p.g,p.g=p.g.next,p.g||(p.h=null),A.next=null),A}class w{constructor(){this.h=this.g=null}add(A,I){const D=S.get();D.set(A,I),this.h?this.h.next=D:this.g=D,this.h=D}}var S=new g(()=>new C,p=>p.reset());class C{constructor(){this.next=this.g=this.h=null}set(A,I){this.h=A,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let E,P=!1,_=new w,T=()=>{const p=Promise.resolve(void 0);E=()=>{p.then(N)}};function N(){for(var p;p=x();){try{p.h.call(p.g)}catch(I){v(I)}var A=S;A.j(p),A.h<100&&(A.h++,p.next=A.g,A.g=p)}P=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(p,A){this.type=p,this.g=this.target=A,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,A=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};s.addEventListener("test",I,A),s.removeEventListener("test",I,A)}catch{}return p}();function O(p){return/^[\s\xa0]*$/.test(p)}function $(p,A){j.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,A)}f($,j),$.prototype.init=function(p,A){const I=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=A,A=p.relatedTarget,A||(I=="mouseover"?A=p.fromElement:I=="mouseout"&&(A=p.toElement)),this.relatedTarget=A,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),U=0;function W(p,A,I,D,Y){this.listener=p,this.proxy=null,this.src=A,this.type=I,this.capture=!!D,this.ha=Y,this.key=++U,this.da=this.fa=!1}function V(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function B(p,A,I){for(const D in p)A.call(I,p[D],D,p)}function Z(p,A){for(const I in p)A.call(void 0,p[I],I,p)}function Q(p){const A={};for(const I in p)A[I]=p[I];return A}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(p,A){let I,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(I in D)p[I]=D[I];for(let te=0;te<ne.length;te++)I=ne[te],Object.prototype.hasOwnProperty.call(D,I)&&(p[I]=D[I])}}function Pe(p){this.src=p,this.g={},this.h=0}Pe.prototype.add=function(p,A,I,D,Y){const te=p.toString();p=this.g[te],p||(p=this.g[te]=[],this.h++);const Ce=st(p,A,D,Y);return Ce>-1?(A=p[Ce],I||(A.fa=!1)):(A=new W(A,this.src,te,!!D,Y),A.fa=I,p.push(A)),A};function Me(p,A){const I=A.type;if(I in p.g){var D=p.g[I],Y=Array.prototype.indexOf.call(D,A,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(D,Y,1),te&&(V(A),p.g[I].length==0&&(delete p.g[I],p.h--))}}function st(p,A,I,D){for(let Y=0;Y<p.length;++Y){const te=p[Y];if(!te.da&&te.listener==A&&te.capture==!!I&&te.ha==D)return Y}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Ne={};function oe(p,A,I,D,Y){if(Array.isArray(A)){for(let te=0;te<A.length;te++)oe(p,A[te],I,D,Y);return null}return I=Ve(I),p&&p[F]?p.J(A,I,a(D)?!!D.capture:!!D,Y):me(p,A,I,!1,D,Y)}function me(p,A,I,D,Y,te){if(!A)throw Error("Invalid event type");const Ce=a(Y)?!!Y.capture:!!Y;let ht=Je(p);if(ht||(p[be]=ht=new Pe(p)),I=ht.add(A,I,D,Ce,te),I.proxy)return I;if(D=ae(),I.proxy=D,D.src=p,D.listener=I,p.addEventListener)R||(Y=Ce),Y===void 0&&(Y=!1),p.addEventListener(A.toString(),D,Y);else if(p.attachEvent)p.attachEvent(Ee(A.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ae(){function p(I){return A.call(p.src,p.listener,I)}const A=Qe;return p}function z(p,A,I,D,Y){if(Array.isArray(A))for(var te=0;te<A.length;te++)z(p,A[te],I,D,Y);else D=a(D)?!!D.capture:!!D,I=Ve(I),p&&p[F]?(p=p.i,te=String(A).toString(),te in p.g&&(A=p.g[te],I=st(A,I,D,Y),I>-1&&(V(A[I]),Array.prototype.splice.call(A,I,1),A.length==0&&(delete p.g[te],p.h--)))):p&&(p=Je(p))&&(A=p.g[A.toString()],p=-1,A&&(p=st(A,I,D,Y)),(I=p>-1?A[p]:null)&&we(I))}function we(p){if(typeof p!="number"&&p&&!p.da){var A=p.src;if(A&&A[F])Me(A.i,p);else{var I=p.type,D=p.proxy;A.removeEventListener?A.removeEventListener(I,D,p.capture):A.detachEvent?A.detachEvent(Ee(I),D):A.addListener&&A.removeListener&&A.removeListener(D),(I=Je(A))?(Me(I,p),I.h==0&&(I.src=null,A[be]=null)):V(p)}}}function Ee(p){return p in Ne?Ne[p]:Ne[p]="on"+p}function Qe(p,A){if(p.da)p=!0;else{A=new $(A,this);const I=p.listener,D=p.ha||p.src;p.fa&&we(p),p=I.call(D,A)}return p}function Je(p){return p=p[be],p instanceof Pe?p:null}var nt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ve(p){return typeof p=="function"?p:(p[nt]||(p[nt]=function(A){return p.handleEvent(A)}),p[nt])}function le(){k.call(this),this.i=new Pe(this),this.M=this,this.G=null}f(le,k),le.prototype[F]=!0,le.prototype.removeEventListener=function(p,A,I,D){z(this,p,A,I,D)};function Ze(p,A){var I,D=p.G;if(D)for(I=[];D;D=D.G)I.push(D);if(p=p.M,D=A.type||A,typeof A=="string")A=new j(A,p);else if(A instanceof j)A.target=A.target||p;else{var Y=A;A=new j(D,p),_e(A,Y)}Y=!0;let te,Ce;if(I)for(Ce=I.length-1;Ce>=0;Ce--)te=A.g=I[Ce],Y=kt(te,D,!0,A)&&Y;if(te=A.g=p,Y=kt(te,D,!0,A)&&Y,Y=kt(te,D,!1,A)&&Y,I)for(Ce=0;Ce<I.length;Ce++)te=A.g=I[Ce],Y=kt(te,D,!1,A)&&Y}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var p=this.i;for(const A in p.g){const I=p.g[A];for(let D=0;D<I.length;D++)V(I[D]);delete p.g[A],p.h--}}this.G=null},le.prototype.J=function(p,A,I,D){return this.i.add(String(p),A,!1,I,D)},le.prototype.K=function(p,A,I,D){return this.i.add(String(p),A,!0,I,D)};function kt(p,A,I,D){if(A=p.i.g[String(A)],!A)return!0;A=A.concat();let Y=!0;for(let te=0;te<A.length;++te){const Ce=A[te];if(Ce&&!Ce.da&&Ce.capture==I){const ht=Ce.listener,Hn=Ce.ha||Ce.src;Ce.fa&&Me(p.i,Ce),Y=ht.call(Hn,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function yt(p,A){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=c(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:s.setTimeout(p,A||0)}function Ot(p){p.g=yt(()=>{p.g=null,p.i&&(p.i=!1,Ot(p))},p.l);const A=p.h;p.h=null,p.m.apply(null,A)}class yn extends k{constructor(A,I){super(),this.m=A,this.l=I,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Ot(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(p){k.call(this),this.h=p,this.g={}}f(vn,k);var Wn=[];function Cr(p){B(p.g,function(A,I){this.g.hasOwnProperty(I)&&we(A)},p),p.g={}}vn.prototype.N=function(){vn.Z.N.call(this),Cr(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=s.JSON.stringify,xn=s.JSON.parse,Kt=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function pn(){}function $t(){}var qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gr(){j.call(this,"d")}f(Gr,j);function pr(){j.call(this,"c")}f(pr,j);var er={},mr=null;function rn(){return mr=mr||new le}er.Ia="serverreachability";function on(p){j.call(this,er.Ia,p)}f(on,j);function tr(p){const A=rn();Ze(A,new on(A))}er.STAT_EVENT="statevent";function Ln(p,A){j.call(this,er.STAT_EVENT,p),this.stat=A}f(Ln,j);function Yt(p){const A=rn();Ze(A,new Ln(A,p))}er.Ja="timingevent";function bn(p,A){j.call(this,er.Ja,p),this.size=A}f(bn,j);function kn(p,A){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},A)}function Ar(){this.g=!0}Ar.prototype.ua=function(){this.g=!1};function Di(p,A,I,D,Y,te){p.info(function(){if(p.g)if(te){var Ce="",ht=te.split("&");for(let Ht=0;Ht<ht.length;Ht++){var Hn=ht[Ht].split("=");if(Hn.length>1){const ir=Hn[0];Hn=Hn[1];const Wo=ir.split("_");Ce=Wo.length>=2&&Wo[1]=="type"?Ce+(ir+"="+Hn+"&"):Ce+(ir+"=redacted&")}}}else Ce=null;else Ce=te;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+A+`
`+I+`
`+Ce})}function $i(p,A,I,D,Y,te,Ce){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+A+`
`+I+`
`+te+" "+Ce})}function ri(p,A,I,D){p.info(function(){return"XMLHTTP TEXT ("+A+"): "+Bo(p,I)+(D?" "+D:"")})}function so(p,A){p.info(function(){return"TIMEOUT: "+A})}Ar.prototype.info=function(){};function Bo(p,A){if(!p.g)return A;if(!A)return null;try{const te=JSON.parse(A);if(te){for(p=0;p<te.length;p++)if(Array.isArray(te[p])){var I=te[p];if(!(I.length<2)){var D=I[1];if(Array.isArray(D)&&!(D.length<1)){var Y=D[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let Ce=1;Ce<D.length;Ce++)D[Ce]=""}}}}return nn(te)}catch{return A}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ts;function Nr(){}f(Nr,pn),Nr.prototype.g=function(){return new XMLHttpRequest},Ts=new Nr;function gi(p){return encodeURIComponent(String(p))}function Cs(p){var A=1;p=p.split(":");const I=[];for(;A>0&&p.length;)I.push(p.shift()),A--;return p.length&&I.push(p.join(":")),I}function ii(p,A,I,D){this.j=p,this.i=A,this.l=I,this.S=D||1,this.V=new vn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new As}function As(){this.i=null,this.g="",this.h=!1}var Uo={},q={};function re(p,A,I){p.M=1,p.A=ee(X(A)),p.u=I,p.R=!0,Ae(p,null)}function Ae(p,A){p.F=Date.now(),It(p),p.B=X(p.A);var I=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),Qt(I.i,"t",D),p.C=0,I=p.j.L,p.h=new As,p.g=eP(p.j,I?A:null,!p.u),p.P>0&&(p.O=new yn(c(p.Y,p,p.g),p.P)),A=p.V,I=p.g,D=p.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Wn[0]=Y.toString()),Y=Wn);for(let te=0;te<Y.length;te++){const Ce=oe(I,Y[te],D||A.handleEvent,!1,A.h||A);if(!Ce)break;A.g[Ce.key]=Ce}A=p.J?Q(p.J):{},p.u?(p.v||(p.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,A)):(p.v="GET",p.g.ea(p.B,p.v,null,A)),tr(),Di(p.i,p.v,p.B,p.l,p.S,p.u)}ii.prototype.ba=function(p){p=p.target;const A=this.O;A&&uo(p)==3?A.j():this.Y(p)},ii.prototype.Y=function(p){try{if(p==this.g)e:{const ht=uo(this.g),Hn=this.g.ya(),Ht=this.g.ca();if(!(ht<3)&&(ht!=3||this.g&&(this.h.h||this.g.la()||ma(this.g)))){this.K||ht!=4||Hn==7||(Hn==8||Ht<=0?tr(3):tr(2)),K(this);var A=this.g.ca();this.X=A;var I=ke(this);if(this.o=A==200,$i(this.i,this.v,this.B,this.l,this.S,ht,A),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Y=this.g;if((D=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var te=D;break t}}te=null}if(p=te)ri(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,de(this,p);else{this.o=!1,this.m=3,Yt(12),fe(this),ce(this);break e}}if(this.R){p=!0;let ir;for(;!this.K&&this.C<I.length;)if(ir=at(this,I),ir==q){ht==4&&(this.m=4,Yt(14),p=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==Uo){this.m=4,Yt(15),ri(this.i,this.l,I,"[Invalid Chunk]"),p=!1;break}else ri(this.i,this.l,ir,null),de(this,ir);if(ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||I.length!=0||this.h.h||(this.m=1,Yt(16),p=!1),this.o=this.o&&p,!p)ri(this.i,this.l,I,"[Invalid Chunked Response]"),fe(this),ce(this);else if(I.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Z0(Ce),Ce.P=!0,Yt(11))}}else ri(this.i,this.l,I,null),de(this,I);ht==4&&fe(this),this.o&&!this.K&&(ht==4?XA(this.j,this):(this.o=!1,It(this)))}else Rc(this.g),A==400&&I.indexOf("Unknown SID")>0?(this.m=3,Yt(12)):(this.m=0,Yt(13)),fe(this),ce(this)}}}catch{}finally{}};function ke(p){if(!ze(p))return p.g.la();const A=ma(p.g);if(A==="")return"";let I="";const D=A.length,Y=uo(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return fe(p),ce(p),"";p.h.i=new s.TextDecoder}for(let te=0;te<D;te++)p.h.h=!0,I+=p.h.i.decode(A[te],{stream:!(Y&&te==D-1)});return A.length=0,p.h.g+=I,p.C=0,p.h.g}function ze(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function at(p,A){var I=p.C,D=A.indexOf(`
`,I);return D==-1?q:(I=Number(A.substring(I,D)),isNaN(I)?Uo:(D+=1,D+I>A.length?q:(A=A.slice(D,D+I),p.C=D+I,A)))}ii.prototype.cancel=function(){this.K=!0,fe(this)};function It(p){p.T=Date.now()+p.H,On(p,p.H)}function On(p,A){if(p.D!=null)throw Error("WatchDog timer not null");p.D=kn(c(p.aa,p),A)}function K(p){p.D&&(s.clearTimeout(p.D),p.D=null)}ii.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(so(this.i,this.B),this.M!=2&&(tr(),Yt(17)),fe(this),this.m=2,ce(this)):On(this,this.T-p)};function ce(p){p.j.I==0||p.K||XA(p.j,p)}function fe(p){K(p);var A=p.O;A&&typeof A.dispose=="function"&&A.dispose(),p.O=null,Cr(p.V),p.g&&(A=p.g,p.g=null,A.abort(),A.dispose())}function de(p,A){try{var I=p.j;if(I.I!=0&&(I.g==p||Xt(I.h,p))){if(!p.L&&Xt(I.h,p)&&I.I==3){try{var D=I.Ba.g.parse(A)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<p.F)bm(I),vm(I);else break e;J0(I),Yt(18)}}else I.xa=Y[1],0<I.xa-I.K&&Y[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=kn(c(I.Va,I),6e3));sn(I.h)<=1&&I.ta&&(I.ta=void 0)}else Cl(I,11)}else if((p.L||I.g==p)&&bm(I),!O(A))for(Y=I.Ba.g.parse(A),A=0;A<Y.length;A++){let Ht=Y[A];const ir=Ht[0];if(!(ir<=I.K))if(I.K=ir,Ht=Ht[1],I.I==2)if(Ht[0]=="c"){I.M=Ht[1],I.ba=Ht[2];const Wo=Ht[3];Wo!=null&&(I.ka=Wo,I.j.info("VER="+I.ka));const Al=Ht[4];Al!=null&&(I.za=Al,I.j.info("SVER="+I.za));const ga=Ht[5];ga!=null&&typeof ga=="number"&&ga>0&&(D=1.5*ga,I.O=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const ya=p.g;if(ya){const Sm=ya.g?ya.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sm){var te=D.h;te.g||Sm.indexOf("spdy")==-1&&Sm.indexOf("quic")==-1&&Sm.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Wt(te,te.h),te.h=null))}if(D.G){const eb=ya.g?ya.g.getResponseHeader("X-HTTP-Session-Id"):null;eb&&(D.wa=eb,ge(D.J,D.G,eb))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-p.F,I.j.info("Handshake RTT: "+I.T+"ms")),D=I;var Ce=p;if(D.na=ZA(D,D.L?D.ba:null,D.W),Ce.L){nr(D.h,Ce);var ht=Ce,Hn=D.O;Hn&&(ht.H=Hn),ht.D&&(K(ht),It(ht)),D.g=Ce}else KA(D);I.i.length>0&&xm(I)}else Ht[0]!="stop"&&Ht[0]!="close"||Cl(I,7);else I.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Cl(I,7):Mc(I):Ht[0]!="noop"&&I.l&&I.l.qa(Ht),I.A=0)}}tr(4)}catch{}}var Ie=class{constructor(p,A){this.g=p,this.map=A}};function rt(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bt(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function sn(p){return p.h?1:p.g?p.g.size:0}function Xt(p,A){return p.h?p.h==A:p.g?p.g.has(A):!1}function Wt(p,A){p.g?p.g.add(A):p.h=A}function nr(p,A){p.h&&p.h==A?p.h=null:p.g&&p.g.has(A)&&p.g.delete(A)}rt.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function rr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let A=p.i;for(const I of p.g.values())A=A.concat(I.G);return A}return m(p.i)}var M=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L(p,A){if(p){p=p.split("&");for(let I=0;I<p.length;I++){const D=p[I].indexOf("=");let Y,te=null;D>=0?(Y=p[I].substring(0,D),te=p[I].substring(D+1)):Y=p[I],A(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function G(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;p instanceof G?(this.l=p.l,J(this,p.j),this.o=p.o,this.g=p.g,se(this,p.u),this.h=p.h,ve(this,zo(p.i)),this.m=p.m):p&&(A=String(p).match(M))?(this.l=!1,J(this,A[1]||"",!0),this.o=Se(A[2]||""),this.g=Se(A[3]||"",!0),se(this,A[4]),this.h=Se(A[5]||"",!0),ve(this,A[6]||"",!0),this.m=Se(A[7]||"")):(this.l=!1,this.i=new Li(null,this.l))}G.prototype.toString=function(){const p=[];var A=this.j;A&&p.push(Te(A,De,!0),":");var I=this.g;return(I||A=="file")&&(p.push("//"),(A=this.o)&&p.push(Te(A,De,!0),"@"),p.push(gi(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&p.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(Te(I,I.charAt(0)=="/"?Bt:Vt,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",Te(I,Kr)),p.join("")},G.prototype.resolve=function(p){const A=X(this);let I=!!p.j;I?J(A,p.j):I=!!p.o,I?A.o=p.o:I=!!p.g,I?A.g=p.g:I=p.u!=null;var D=p.h;if(I)se(A,p.u);else if(I=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Y=A.h.lastIndexOf("/");Y!=-1&&(D=A.h.slice(0,Y+1)+D)}if(Y=D,Y==".."||Y==".")D="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){D=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let Ce=0;Ce<Y.length;){const ht=Y[Ce++];ht=="."?D&&Ce==Y.length&&te.push(""):ht==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),D&&Ce==Y.length&&te.push("")):(te.push(ht),D=!0)}D=te.join("/")}else D=Y}return I?A.h=D:I=p.i.toString()!=="",I?ve(A,zo(p.i)):I=!!p.m,I&&(A.m=p.m),A};function X(p){return new G(p)}function J(p,A,I){p.j=I?Se(A,!0):A,p.j&&(p.j=p.j.replace(/:$/,""))}function se(p,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);p.u=A}else p.u=null}function ve(p,A,I){A instanceof Li?(p.i=A,Q0(p.i,p.l)):(I||(A=Te(A,oi)),p.i=new Li(A,p.l))}function ge(p,A,I){p.i.set(A,I)}function ee(p){return ge(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Se(p,A){return p?A?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Te(p,A,I){return typeof p=="string"?(p=encodeURI(p).replace(A,Oe),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Oe(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var De=/[#\/\?@]/g,Vt=/[#\?:]/g,Bt=/[#\?]/g,oi=/[#\?@]/g,Kr=/#/g;function Li(p,A){this.h=this.g=null,this.i=p||null,this.j=!!A}function jr(p){p.g||(p.g=new Map,p.h=0,p.i&&L(p.i,function(A,I){p.add(decodeURIComponent(A.replace(/\+/g," ")),I)}))}t=Li.prototype,t.add=function(p,A){jr(this),this.i=null,p=pa(this,p);let I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(A),this.h+=1,this};function of(p,A){jr(p),A=pa(p,A),p.g.has(A)&&(p.i=null,p.h-=p.g.get(A).length,p.g.delete(A))}function sf(p,A){return jr(p),A=pa(p,A),p.g.has(A)}t.forEach=function(p,A){jr(this),this.g.forEach(function(I,D){I.forEach(function(Y){p.call(A,Y,D,this)},this)},this)};function af(p,A){jr(p);let I=[];if(typeof A=="string")sf(p,A)&&(I=I.concat(p.g.get(pa(p,A))));else for(p=Array.from(p.g.values()),A=0;A<p.length;A++)I=I.concat(p[A]);return I}t.set=function(p,A){return jr(this),this.i=null,p=pa(this,p),sf(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[A]),this.h+=1,this},t.get=function(p,A){return p?(p=af(this,p),p.length>0?String(p[0]):A):A};function Qt(p,A,I){of(p,A),I.length>0&&(p.i=null,p.g.set(pa(p,A),m(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],A=Array.from(this.g.keys());for(let D=0;D<A.length;D++){var I=A[D];const Y=gi(I);I=af(this,I);for(let te=0;te<I.length;te++){let Ce=Y;I[te]!==""&&(Ce+="="+gi(I[te])),p.push(Ce)}}return this.i=p.join("&")};function zo(p){const A=new Li;return A.i=p.i,p.g&&(A.g=new Map(p.g),A.h=p.h),A}function pa(p,A){return A=String(A),p.j&&(A=A.toLowerCase()),A}function Q0(p,A){A&&!p.j&&(jr(p),p.i=null,p.g.forEach(function(I,D){const Y=D.toLowerCase();D!=Y&&(of(this,D),Qt(this,Y,I))},p)),p.j=A}function mm(p,A){const I=new Ar;if(s.Image){const D=new Image;D.onload=d(ao,I,"TestLoadImage: loaded",!0,A,D),D.onerror=d(ao,I,"TestLoadImage: error",!1,A,D),D.onabort=d(ao,I,"TestLoadImage: abort",!1,A,D),D.ontimeout=d(ao,I,"TestLoadImage: timeout",!1,A,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else A(!1)}function gm(p,A){const I=new Ar,D=new AbortController,Y=setTimeout(()=>{D.abort(),ao(I,"TestPingServer: timeout",!1,A)},1e4);fetch(p,{signal:D.signal}).then(te=>{clearTimeout(Y),te.ok?ao(I,"TestPingServer: ok",!0,A):ao(I,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Y),ao(I,"TestPingServer: error",!1,A)})}function ao(p,A,I,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(I)}catch{}}function Ut(){this.g=new Kt}function Pn(p){this.i=p.Sb||null,this.h=p.ab||!1}f(Pn,pn),Pn.prototype.g=function(){return new yi(this.i,this.h)};function yi(p,A){le.call(this),this.H=p,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(yi,le),t=yi.prototype,t.open=function(p,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=A,this.readyState=1,Ir(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(A.body=p),(this.H||s).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function lo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var A=p.value?p.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!p.done}))&&(this.response=this.responseText+=A)}p.done?vi(this):Ir(this),this.readyState==3&&lo(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,vi(this))},t.Na=function(p){this.g&&(this.response=p,vi(this))},t.ga=function(){this.g&&vi(this)};function vi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ir(p)}t.setRequestHeader=function(p,A){this.A.append(p,A)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],A=this.h.entries();for(var I=A.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=A.next();return p.join(`\r
`)};function Ir(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Jt(p){let A="";return B(p,function(I,D){A+=D,A+=":",A+=I,A+=`\r
`}),A}function gt(p,A,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=Jt(I),typeof p=="string"?I!=null&&gi(I):ge(p,A,I))}function He(p){le.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(He,le);var co=/^https?$/i,kr=["POST","PUT"];t=He.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,A,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);A=A?A.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ts.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(A,String(p),!0),this.B=!1}catch(te){Or(this,te);return}if(p=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)I.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())I.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),Y=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(kr,A,void 0)>=0)||D||Y||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,Ce]of I)this.g.setRequestHeader(te,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(te){Or(this,te)}};function Or(p,A){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=A,p.o=5,si(p),lf(p)}function si(p){p.A||(p.A=!0,Ze(p,"complete"),Ze(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Ze(this,"complete"),Ze(this,"abort"),lf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lf(this,!0)),He.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Oc(this):this.Xa())},t.Xa=function(){Oc(this)};function Oc(p){if(p.h&&typeof o<"u"){if(p.v&&uo(p)==4)setTimeout(p.Ca.bind(p),0);else if(Ze(p,"readystatechange"),uo(p)==4){p.h=!1;try{const te=p.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var I;if(!(I=A)){var D;if(D=te===0){let Ce=String(p.D).match(M)[1]||null;!Ce&&s.self&&s.self.location&&(Ce=s.self.location.protocol.slice(0,-1)),D=!co.test(Ce?Ce.toLowerCase():"")}I=D}if(I)Ze(p,"complete"),Ze(p,"success");else{p.o=6;try{var Y=uo(p)>2?p.g.statusText:""}catch{Y=""}p.l=Y+" ["+p.ca()+"]",si(p)}}finally{lf(p)}}}}function lf(p,A){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const I=p.g;p.g=null,A||Ze(p,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function uo(p){return p.g?p.g.readyState:0}t.ca=function(){try{return uo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var A=this.g.responseText;return p&&A.indexOf(p)==0&&(A=A.substring(p.length)),xn(A)}};function ma(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(p){const A={};p=(p.g&&uo(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(O(p[D]))continue;var I=Cs(p[D]);const Y=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=A[Y]||[];A[Y]=te,te.push(I)}Z(A,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tl(p,A,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||A}function ym(p){this.za=0,this.i=[],this.j=new Ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Tl("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Tl("baseRetryDelayMs",5e3,p),this.Za=Tl("retryDelaySeedMs",1e4,p),this.Ta=Tl("forwardChannelMaxRetries",2,p),this.va=Tl("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new rt(p&&p.concurrentRequestLimit),this.Ba=new Ut,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ym.prototype,t.ka=8,t.I=1,t.connect=function(p,A,I,D){Yt(0),this.W=p,this.H=A||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.J=ZA(this,null,this.W),xm(this)};function Mc(p){if(HA(p),p.I==3){var A=p.V++,I=X(p.J);if(ge(I,"SID",p.M),ge(I,"RID",A),ge(I,"TYPE","terminate"),cf(p,I),A=new ii(p,p.j,A),A.M=2,A.A=ee(X(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(A.A.toString(),"")}catch{}!I&&s.Image&&(new Image().src=A.A,I=!0),I||(A.g=eP(A.j,null),A.g.ea(A.A)),A.F=Date.now(),It(A)}JA(p)}function vm(p){p.g&&(Z0(p),p.g.cancel(),p.g=null)}function HA(p){vm(p),p.v&&(s.clearTimeout(p.v),p.v=null),bm(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function xm(p){if(!bt(p.h)&&!p.m){p.m=!0;var A=p.Ea;E||T(),P||(E(),P=!0),_.add(A,p),p.D=0}}function _9(p,A){return sn(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=A.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=kn(c(p.Ea,p,A),QA(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Y=new ii(this,this.j,p);let te=this.o;if(this.U&&(te?(te=Q(te),_e(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var A=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(A+=D,A>4096){A=I;break e}if(A===4096||I===this.i.length-1){A=I+1;break e}}A=1e3}else A=1e3;A=GA(this,Y,A),I=X(this.J),ge(I,"RID",p),ge(I,"CVER",22),this.G&&ge(I,"X-HTTP-Session-Id",this.G),cf(this,I),te&&(this.R?A="headers="+gi(Jt(te))+"&"+A:this.u&&gt(I,this.u,te)),Wt(this.h,Y),this.Ra&&ge(I,"TYPE","init"),this.S?(ge(I,"$req",A),ge(I,"SID","null"),Y.U=!0,re(Y,I,null)):re(Y,I,A),this.I=2}}else this.I==3&&(p?qA(this,p):this.i.length==0||bt(this.h)||qA(this))};function qA(p,A){var I;A?I=A.l:I=p.V++;const D=X(p.J);ge(D,"SID",p.M),ge(D,"RID",I),ge(D,"AID",p.K),cf(p,D),p.u&&p.o&&gt(D,p.u,p.o),I=new ii(p,p.j,I,p.D+1),p.u===null&&(I.J=p.o),A&&(p.i=A.G.concat(p.i)),A=GA(p,I,1e3),I.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Wt(p.h,I),re(I,D,A)}function cf(p,A){p.H&&B(p.H,function(I,D){ge(A,D,I)}),p.l&&B({},function(I,D){ge(A,D,I)})}function GA(p,A,I){I=Math.min(p.i.length,I);const D=p.l?c(p.l.Ka,p.l,p):null;e:{var Y=p.i;let ht=-1;for(;;){const Hn=["count="+I];ht==-1?I>0?(ht=Y[0].g,Hn.push("ofs="+ht)):ht=0:Hn.push("ofs="+ht);let Ht=!0;for(let ir=0;ir<I;ir++){var te=Y[ir].g;const Wo=Y[ir].map;if(te-=ht,te<0)ht=Math.max(0,Y[ir].g-100),Ht=!1;else try{te="req"+te+"_"||"";try{var Ce=Wo instanceof Map?Wo:Object.entries(Wo);for(const[Al,ga]of Ce){let ya=ga;a(ga)&&(ya=nn(ga)),Hn.push(te+Al+"="+encodeURIComponent(ya))}}catch(Al){throw Hn.push(te+"type="+encodeURIComponent("_badmap")),Al}}catch{D&&D(Wo)}}if(Ht){Ce=Hn.join("&");break e}}Ce=void 0}return p=p.i.splice(0,I),A.G=p,Ce}function KA(p){if(!p.g&&!p.v){p.Y=1;var A=p.Da;E||T(),P||(E(),P=!0),_.add(A,p),p.A=0}}function J0(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=kn(c(p.Da,p),QA(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,YA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=kn(c(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Yt(10),vm(this),YA(this))};function Z0(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function YA(p){p.g=new ii(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var A=X(p.na);ge(A,"RID","rpc"),ge(A,"SID",p.M),ge(A,"AID",p.K),ge(A,"CI",p.F?"0":"1"),!p.F&&p.ia&&ge(A,"TO",p.ia),ge(A,"TYPE","xmlhttp"),cf(p,A),p.u&&p.o&&gt(A,p.u,p.o),p.O&&(p.g.H=p.O);var I=p.g;p=p.ba,I.M=1,I.A=ee(X(A)),I.u=null,I.R=!0,Ae(I,p)}t.Va=function(){this.C!=null&&(this.C=null,vm(this),J0(this),Yt(19))};function bm(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function XA(p,A){var I=null;if(p.g==A){bm(p),Z0(p),p.g=null;var D=2}else if(Xt(p.h,A))I=A.G,nr(p.h,A),D=1;else return;if(p.I!=0){if(A.o)if(D==1){I=A.u?A.u.length:0,A=Date.now()-A.F;var Y=p.D;D=rn(),Ze(D,new bn(D,I)),xm(p)}else KA(p);else if(Y=A.m,Y==3||Y==0&&A.X>0||!(D==1&&_9(p,A)||D==2&&J0(p)))switch(I&&I.length>0&&(A=p.h,A.i=A.i.concat(I)),Y){case 1:Cl(p,5);break;case 4:Cl(p,10);break;case 3:Cl(p,6);break;default:Cl(p,2)}}}function QA(p,A){let I=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(I*=2),I*A}function Cl(p,A){if(p.j.info("Error code "+A),A==2){var I=c(p.bb,p),D=p.Ua;const Y=!D;D=new G(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||J(D,"https"),ee(D),Y?mm(D.toString(),I):gm(D.toString(),I)}else Yt(2);p.I=0,p.l&&p.l.pa(A),JA(p),HA(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function JA(p){if(p.I=0,p.ja=[],p.l){const A=rr(p.h);(A.length!=0||p.i.length!=0)&&(y(p.ja,A),y(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function ZA(p,A,I){var D=I instanceof G?X(I):new G(I);if(D.g!="")A&&(D.g=A+"."+D.g),se(D,D.u);else{var Y=s.location;D=Y.protocol,A=A?A+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new G(null);D&&J(te,D),A&&(te.g=A),Y&&se(te,Y),I&&(te.h=I),D=te}return I=p.G,A=p.wa,I&&A&&ge(D,I,A),ge(D,"VER",p.ka),cf(p,D),D}function eP(p,A,I){if(A&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=p.Aa&&!p.ma?new He(new Pn({ab:I})):new He(p.ma),A.Fa(p.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tP(){}t=tP.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wm(){}wm.prototype.g=function(p,A){return new xi(p,A)};function xi(p,A){le.call(this),this.g=new ym(A),this.l=p,this.h=A&&A.messageUrlParams||null,p=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(p?p["X-WebChannel-Content-Type"]=A.messageContentType:p={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(p?p["X-WebChannel-Client-Profile"]=A.sa:p={"X-WebChannel-Client-Profile":A.sa}),this.g.U=p,(p=A&&A.Qb)&&!O(p)&&(this.g.u=p),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!O(A)&&(this.g.G=A,p=this.h,p!==null&&A in p&&(p=this.h,A in p&&delete p[A])),this.j=new Dc(this)}f(xi,le),xi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xi.prototype.close=function(){Mc(this.g)},xi.prototype.o=function(p){var A=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.v&&(I={},I.__data__=nn(p),p=I);A.i.push(new Ie(A.Ya++,p)),A.I==3&&xm(A)},xi.prototype.N=function(){this.g.l=null,delete this.j,Mc(this.g),delete this.g,xi.Z.N.call(this)};function nP(p){Gr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var A=p.__sm__;if(A){e:{for(const I in A){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,A=A!==null&&p in A?A[p]:void 0),this.data=A}else this.data=p}f(nP,Gr);function rP(){pr.call(this),this.status=1}f(rP,pr);function Dc(p){this.g=p}f(Dc,tP),Dc.prototype.ra=function(){Ze(this.g,"a")},Dc.prototype.qa=function(p){Ze(this.g,new nP(p))},Dc.prototype.pa=function(p){Ze(this.g,new rP)},Dc.prototype.oa=function(){Ze(this.g,"b")},wm.prototype.createWebChannel=wm.prototype.g,xi.prototype.send=xi.prototype.o,xi.prototype.open=xi.prototype.m,xi.prototype.close=xi.prototype.close,$4=function(){return new wm},D4=function(){return rn()},M4=er,Y1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,Ug=Pr,mi.COMPLETE="complete",R4=mi,$t.EventType=qe,qe.OPEN="a",qe.CLOSE="b",qe.ERROR="c",qe.MESSAGE="d",le.prototype.listen=le.prototype.J,Mf=$t,He.prototype.listenOnce=He.prototype.K,He.prototype.getLastError=He.prototype.Ha,He.prototype.getLastErrorCode=He.prototype.ya,He.prototype.getStatus=He.prototype.ca,He.prototype.getResponseJson=He.prototype.La,He.prototype.getResponseText=He.prototype.la,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Fa,O4=He}).apply(typeof Km<"u"?Km:typeof self<"u"?self:typeof window<"u"?window:{});const Sj="@firebase/firestore",_j="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new gT("@firebase/firestore");function qc(){return hc.logLevel}function Re(t,...e){if(hc.logLevel<=wt.DEBUG){const n=e.map(NT);hc.debug(`Firestore (${Ld}): ${t}`,...n)}}function na(t,...e){if(hc.logLevel<=wt.ERROR){const n=e.map(NT);hc.error(`Firestore (${Ld}): ${t}`,...n)}}function Zu(t,...e){if(hc.logLevel<=wt.WARN){const n=e.map(NT);hc.warn(`Firestore (${Ld}): ${t}`,...n)}}function NT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,L4(t,r,n)}function L4(t,e,n){let r=`FIRESTORE (${Ld}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw na(r),new Error(r)}function Dt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||L4(e,i,r)}function dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vr.UNAUTHENTICATED))}shutdown(){}}class vQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xQ{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Dt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new tl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tl,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tl)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dt(typeof r.accessToken=="string",31837,{l:r}),new F4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Dt(e===null||typeof e=="string",2055,{h:e}),new Vr(e)}}class bQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new bQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ej{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Eo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Dt(this.o===void 0,3512);const r=o=>{o.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ej(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ej(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Q(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_Q(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function _t(t,e){return t<e?-1:t>e?1:0}function X1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Wb(i)===Wb(o)?_t(i,o):Wb(i)?1:-1}return _t(t.length,e.length)}const EQ=55296,TQ=57343;function Wb(t){const e=t.charCodeAt(0);return e>=EQ&&e<=TQ}function ed(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="__name__";class Ko{constructor(e,n,r){n===void 0?n=0:n>e.length&&ot(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ot(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ko.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ko?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ko.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return _t(e.length,n.length)}static compareSegments(e,n){const r=Ko.isNumericId(e),i=Ko.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ko.extractNumericId(e).compare(Ko.extractNumericId(n)):X1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return el.fromString(e.substring(4,e.length-2))}}class _n extends Ko{construct(e,n,r){return new _n(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _n(n)}static emptyPath(){return new _n([])}}const CQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends Ko{construct(e,n,r){return new xr(e,n,r)}static isValidIdentifier(e){return CQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tj}static keyField(){return new xr([Tj])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ye(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ye(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ye(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ye(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(n)}static emptyPath(){return new xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(_n.fromString(e))}static fromName(e){return new tt(_n.fromString(e).popFirst(5))}static empty(){return new tt(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new _n(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(t,e,n){if(!n)throw new Ye(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PQ(t,e,n,r){if(e===!0&&r===!0)throw new Ye(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cj(t){if(!tt.isDocumentKey(t))throw new Ye(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function IT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot(12329,{type:typeof t})}function Vh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ye(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=IT(t);throw new Ye(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jp(t,e){if(!V4(t))throw new Ye(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ye(ye.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=-62135596800,Pj=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Pj);return new fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ye(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ye(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Aj)throw new Ye(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pj}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jp(e,fn._jsonSchema))return new fn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Aj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fn._jsonSchemaVersion="firestore/timestamp/1.0",fn._jsonSchema={type:Un("string",fn._jsonSchemaVersion),seconds:Un("number"),nanoseconds:Un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new fn(0,0))}static max(){return new ut(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=-1;function NQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ut.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new cl(i,tt.empty(),e)}function jQ(t){return new cl(t.readTime,t.key,Bh)}class cl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cl(ut.min(),tt.empty(),Bh)}static max(){return new cl(ut.max(),tt.empty(),Bh)}}function IQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=tt.comparator(t.documentKey,e.documentKey),n!==0?n:_t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==kQ)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(i=>i?he.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new he((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new he((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function RQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=-1;function $x(t){return t==null}function $y(t){return t===0&&1/t==-1/0}function MQ(t){return typeof t=="number"&&Number.isInteger(t)&&!$y(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="";function DQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Nj(e)),e=$Q(t.get(n),e);return Nj(e)}function $Q(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case B4:n+="";break;default:n+=o}}return n}function Nj(t){return t+B4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.comparator=e,this.root=n||vr.EMPTY}insert(e,n){return new An(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new An(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ym(this.root,e,this.comparator,!0)}}class Ym{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??vr.RED,this.left=i??vr.EMPTY,this.right=o??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new vr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ot(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ot(27949);return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot(57766)}get value(){throw ot(16141)}get color(){throw ot(16727)}get left(){throw ot(29726)}get right(){throw ot(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new vr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ij(this.data.getIterator())}getIteratorFrom(e){return new Ij(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jn(this.comparator);return n.data=e,n}}class Ij{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new Ao([])}unionWith(e){let n=new Jn(xr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ao(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new z4("Invalid base64 string: "+o):o}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const LQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(t){if(Dt(!!t,39018),typeof t=="string"){let e=0;const n=LQ.exec(t);if(Dt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(t.seconds),nanos:Rn(t.nanos)}}function Rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dl(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="server_timestamp",H4="__type__",q4="__previous_value__",G4="__local_write_time__";function OT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[H4])==null?void 0:r.stringValue)===W4}function Lx(t){const e=t.mapValue.fields[q4];return OT(e)?Lx(e):e}function Uh(t){const e=ul(t.mapValue.fields[G4].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e,n,r,i,o,s,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Ly="(default)";class zh{constructor(e,n){this.projectId=e,this.database=n||Ly}static empty(){return new zh("","")}get isDefaultDatabase(){return this.database===Ly}isEqual(e){return e instanceof zh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="__type__",Y4="__max__",Xm={mapValue:{fields:{__type__:{stringValue:Y4}}}},X4="__vector__",Fy="value";function fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OT(t)?4:BQ(t)?9007199254740991:VQ(t)?10:11:ot(28295,{value:t})}function xs(t,e){if(t===e)return!0;const n=fl(t);if(n!==fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uh(t).isEqual(Uh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ul(i.timestampValue),a=ul(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return dl(i.bytesValue).isEqual(dl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Rn(i.geoPointValue.latitude)===Rn(o.geoPointValue.latitude)&&Rn(i.geoPointValue.longitude)===Rn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Rn(i.integerValue)===Rn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Rn(i.doubleValue),a=Rn(o.doubleValue);return s===a?$y(s)===$y(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ed(t.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(jj(s)!==jj(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!xs(s[l],a[l])))return!1;return!0}(t,e);default:return ot(52216,{left:t})}}function Wh(t,e){return(t.values||[]).find(n=>xs(n,e))!==void 0}function td(t,e){if(t===e)return 0;const n=fl(t),r=fl(e);if(n!==r)return _t(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Rn(o.integerValue||o.doubleValue),l=Rn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return kj(t.timestampValue,e.timestampValue);case 4:return kj(Uh(t),Uh(e));case 5:return X1(t.stringValue,e.stringValue);case 6:return function(o,s){const a=dl(o),l=dl(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=_t(a[c],l[c]);if(d!==0)return d}return _t(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=_t(Rn(o.latitude),Rn(s.latitude));return a!==0?a:_t(Rn(o.longitude),Rn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Oj(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,m,y,g;const a=o.fields||{},l=s.fields||{},c=(h=a[Fy])==null?void 0:h.arrayValue,d=(m=l[Fy])==null?void 0:m.arrayValue,f=_t(((y=c==null?void 0:c.values)==null?void 0:y.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:Oj(c,d)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Xm.mapValue&&s===Xm.mapValue)return 0;if(o===Xm.mapValue)return 1;if(s===Xm.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=X1(l[f],d[f]);if(h!==0)return h;const m=td(a[l[f]],c[d[f]]);if(m!==0)return m}return _t(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ot(23264,{he:n})}}function kj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _t(t,e);const n=ul(t),r=ul(e),i=_t(n.seconds,r.seconds);return i!==0?i:_t(n.nanos,r.nanos)}function Oj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=td(n[i],r[i]);if(o)return o}return _t(n.length,r.length)}function nd(t){return Q1(t)}function Q1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ul(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return tt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Q1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Q1(n.fields[s])}`;return i+"}"}(t.mapValue):ot(61005,{value:t})}function zg(t){switch(fl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lx(t);return e?16+zg(e):16;case 5:return 2*t.stringValue.length;case 6:return dl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zg(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Tc(r.fields,(o,s)=>{i+=o.length+zg(s)}),i}(t.mapValue);default:throw ot(13486,{value:t})}}function J1(t){return!!t&&"integerValue"in t}function RT(t){return!!t&&"arrayValue"in t}function Rj(t){return!!t&&"nullValue"in t}function Mj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wg(t){return!!t&&"mapValue"in t}function VQ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[K4])==null?void 0:r.stringValue)===X4}function nh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Tc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nh(t.arrayValue.values[n]);return e}return{...t}}function BQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Y4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(n)}setAll(e){let n=xr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Wg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Hi(nh(this.value))}}function Q4(t){const e=[];return Tc(t.fields,(n,r)=>{const i=new xr([n]);if(Wg(r)){const o=Q4(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ao(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ur(e,0,ut.min(),ut.min(),ut.min(),Hi.empty(),0)}static newFoundDocument(e,n,r,i){return new Ur(e,1,n,ut.min(),r,i,0)}static newNoDocument(e,n){return new Ur(e,2,n,ut.min(),ut.min(),Hi.empty(),0)}static newUnknownDocument(e,n){return new Ur(e,3,n,ut.min(),ut.min(),Hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.position=e,this.inclusive=n}}function Dj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=tt.comparator(tt.fromName(s.referenceValue),n.key):r=td(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $j(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n="asc"){this.field=e,this.dir=n}}function UQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{}class Yn extends J4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WQ(e,n,r):n==="array-contains"?new GQ(e,r):n==="in"?new KQ(e,r):n==="not-in"?new YQ(e,r):n==="array-contains-any"?new XQ(e,r):new Yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HQ(e,r):new qQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(td(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(td(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bs extends J4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bs(e,n)}matches(e){return Z4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z4(t){return t.op==="and"}function e3(t){return zQ(t)&&Z4(t)}function zQ(t){for(const e of t.filters)if(e instanceof bs)return!1;return!0}function Z1(t){if(t instanceof Yn)return t.field.canonicalString()+t.op.toString()+nd(t.value);if(e3(t))return t.filters.map(e=>Z1(e)).join(",");{const e=t.filters.map(n=>Z1(n)).join(",");return`${t.op}(${e})`}}function t3(t,e){return t instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.field.isEqual(i.field)&&xs(r.value,i.value)}(t,e):t instanceof bs?function(r,i){return i instanceof bs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&t3(s,i.filters[a]),!0):!1}(t,e):void ot(19439)}function n3(t){return t instanceof Yn?function(n){return`${n.field.canonicalString()} ${n.op} ${nd(n.value)}`}(t):t instanceof bs?function(n){return n.op.toString()+" {"+n.getFilters().map(n3).join(" ,")+"}"}(t):"Filter"}class WQ extends Yn{constructor(e,n,r){super(e,n,r),this.key=tt.fromName(r.referenceValue)}matches(e){const n=tt.comparator(e.key,this.key);return this.matchesComparison(n)}}class HQ extends Yn{constructor(e,n){super(e,"in",n),this.keys=r3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qQ extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=r3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function r3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>tt.fromName(r.referenceValue))}class GQ extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return RT(n)&&Wh(n.arrayValue,this.value)}}class KQ extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wh(this.value.arrayValue,n)}}class YQ extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wh(this.value.arrayValue,n)}}class XQ extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!RT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function Lj(t,e=null,n=[],r=[],i=null,o=null,s=null){return new QQ(t,e,n,r,i,o,s)}function MT(t){const e=dt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Z1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$x(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nd(r)).join(",")),e.Te=n}return e.Te}function DT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$j(t.startAt,e.startAt)&&$j(t.endAt,e.endAt)}function eS(t){return tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JQ(t,e,n,r,i,o,s,a){return new Fx(t,e,n,r,i,o,s,a)}function $T(t){return new Fx(t)}function Fj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZQ(t){return t.collectionGroup!==null}function rh(t){const e=dt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jn(xr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new By(o,r))}),n.has(xr.keyField().canonicalString())||e.Ie.push(new By(xr.keyField(),r))}return e.Ie}function ds(t){const e=dt(t);return e.Ee||(e.Ee=eJ(e,rh(t))),e.Ee}function eJ(t,e){if(t.limitType==="F")return Lj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new By(i.field,o)});const n=t.endAt?new Vy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vy(t.startAt.position,t.startAt.inclusive):null;return Lj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tS(t,e,n){return new Fx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vx(t,e){return DT(ds(t),ds(e))&&t.limitType===e.limitType}function i3(t){return`${MT(ds(t))}|lt:${t.limitType}`}function Gc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>n3(i)).join(", ")}]`),$x(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nd(i)).join(",")),`Target(${r})`}(ds(t))}; limitType=${t.limitType})`}function Bx(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):tt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of rh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=Dj(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,rh(r),i)||r.endAt&&!function(s,a,l){const c=Dj(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,rh(r),i))}(t,e)}function tJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function o3(t){return(e,n)=>{let r=!1;for(const i of rh(t)){const o=nJ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nJ(t,e,n){const r=t.field.isKeyField()?tt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?td(l,c):ot(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ot(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return U4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ=new An(tt.comparator);function ra(){return rJ}const s3=new An(tt.comparator);function Df(...t){let e=s3;for(const n of t)e=e.insert(n.key,n);return e}function a3(t){let e=s3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bl(){return ih()}function l3(){return ih()}function ih(){return new Cc(t=>t.toString(),(t,e)=>t.isEqual(e))}const iJ=new An(tt.comparator),oJ=new Jn(tt.comparator);function Et(...t){let e=oJ;for(const n of t)e=e.add(n);return e}const sJ=new Jn(_t);function aJ(){return sJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$y(e)?"-0":e}}function c3(t){return{integerValue:""+t}}function lJ(t,e){return MQ(e)?c3(e):LT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this._=void 0}}function cJ(t,e,n){return t instanceof Hh?function(i,o){const s={fields:{[H4]:{stringValue:W4},[G4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&OT(o)&&(o=Lx(o)),o&&(s.fields[q4]=o),{mapValue:s}}(n,e):t instanceof qh?d3(t,e):t instanceof Gh?f3(t,e):function(i,o){const s=u3(i,o),a=Vj(s)+Vj(i.Ae);return J1(s)&&J1(i.Ae)?c3(a):LT(i.serializer,a)}(t,e)}function uJ(t,e,n){return t instanceof qh?d3(t,e):t instanceof Gh?f3(t,e):n}function u3(t,e){return t instanceof Uy?function(r){return J1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Hh extends Ux{}class qh extends Ux{constructor(e){super(),this.elements=e}}function d3(t,e){const n=h3(e);for(const r of t.elements)n.some(i=>xs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gh extends Ux{constructor(e){super(),this.elements=e}}function f3(t,e){let n=h3(e);for(const r of t.elements)n=n.filter(i=>!xs(i,r));return{arrayValue:{values:n}}}class Uy extends Ux{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Vj(t){return Rn(t.integerValue||t.doubleValue)}function h3(t){return RT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e,n){this.field=e,this.transform=n}}function fJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qh&&i instanceof qh||r instanceof Gh&&i instanceof Gh?ed(r.elements,i.elements,xs):r instanceof Uy&&i instanceof Uy?xs(r.Ae,i.Ae):r instanceof Hh&&i instanceof Hh}(t.transform,e.transform)}class hJ{constructor(e,n){this.version=e,this.transformResults=n}}class Ws{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zx{}function p3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new g3(t.key,Ws.none()):new Zp(t.key,t.data,Ws.none());{const n=t.data,r=Hi.empty();let i=new Jn(xr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ac(t.key,r,new Ao(i.toArray()),Ws.none())}}function pJ(t,e,n){t instanceof Zp?function(i,o,s){const a=i.value.clone(),l=Uj(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ac?function(i,o,s){if(!Hg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Uj(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(m3(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function oh(t,e,n,r){return t instanceof Zp?function(o,s,a,l){if(!Hg(o.precondition,s))return a;const c=o.value.clone(),d=zj(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ac?function(o,s,a,l){if(!Hg(o.precondition,s))return a;const c=zj(o.fieldTransforms,l,s),d=s.data;return d.setAll(m3(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Hg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function mJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=u3(r.transform,i||null);o!=null&&(n===null&&(n=Hi.empty()),n.set(r.field,o))}return n||null}function Bj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ed(r,i,(o,s)=>fJ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zp extends zx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ac extends zx{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function m3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Uj(t,e,n){const r=new Map;Dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,uJ(s,a,n[i]))}return r}function zj(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,cJ(o,s,e))}return r}class g3 extends zx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gJ extends zx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&pJ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=l3();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=p3(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Et())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,(n,r)=>Bj(n,r))&&ed(this.baseMutations,e.baseMutations,(n,r)=>Bj(n,r))}}class FT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Dt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return iJ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new FT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vJ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn,At;function bJ(t){switch(t){case ye.OK:return ot(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return ot(15467,{code:t})}}function y3(t){if(t===void 0)return na("GRPC error has no .code"),ye.UNKNOWN;switch(t){case Fn.OK:return ye.OK;case Fn.CANCELLED:return ye.CANCELLED;case Fn.UNKNOWN:return ye.UNKNOWN;case Fn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Fn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Fn.INTERNAL:return ye.INTERNAL;case Fn.UNAVAILABLE:return ye.UNAVAILABLE;case Fn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Fn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Fn.NOT_FOUND:return ye.NOT_FOUND;case Fn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Fn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Fn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Fn.ABORTED:return ye.ABORTED;case Fn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Fn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Fn.DATA_LOSS:return ye.DATA_LOSS;default:return ot(39323,{code:t})}}(At=Fn||(Fn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJ=new el([4294967295,4294967295],0);function Wj(t){const e=wJ().encode(t),n=new k4;return n.update(e),new Uint8Array(n.digest())}function Hj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new el([n,r],0),new el([i,o],0)]}class VT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $f(`Invalid padding: ${n}`);if(r<0)throw new $f(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $f(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $f(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=el.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(el.fromNumber(r)));return i.compare(SJ)===1&&(i=new el([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Wj(e),[r,i]=Hj(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new VT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=Wj(e),[r,i]=Hj(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,em.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wx(ut.min(),i,new An(_t),ra(),Et())}}class em{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new em(r,n,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class v3{constructor(e,n){this.targetId=e,this.Ce=n}}class x3{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qj{constructor(){this.ve=0,this.Fe=Gj(),this.Me=Tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Et(),n=Et(),r=Et();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ot(38017,{changeType:o})}}),new em(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Gj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _J{constructor(e){this.Ge=e,this.ze=new Map,this.je=ra(),this.Je=Qm(),this.He=Qm(),this.Ye=new An(_t)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ot(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(eS(o))if(r===0){const s=new tt(o.path);this.et(n,s,Ur.newNoDocument(s,ut.min()))}else Dt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=dl(r).toUint8Array()}catch(l){if(l instanceof z4)return Zu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new VT(s,i,o)}catch(l){return Zu(l instanceof $f?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&eS(a.target)){const l=new tt(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Ur.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Et();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Wx(e,n,this.Ye,this.je,r);return this.je=ra(),this.Je=Qm(),this.He=Qm(),this.Ye=new An(_t),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qj,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jn(_t),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jn(_t),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qj),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qm(){return new An(tt.comparator)}function Gj(){return new An(tt.comparator)}const EJ={asc:"ASCENDING",desc:"DESCENDING"},TJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CJ={and:"AND",or:"OR"};class AJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nS(t,e){return t.useProto3Json||$x(e)?e:{value:e}}function zy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PJ(t,e){return zy(t,e.toTimestamp())}function fs(t){return Dt(!!t,49232),ut.fromTimestamp(function(n){const r=ul(n);return new fn(r.seconds,r.nanos)}(t))}function BT(t,e){return rS(t,e).canonicalString()}function rS(t,e){const n=function(i){return new _n(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function w3(t){const e=_n.fromString(t);return Dt(C3(e),10190,{key:e.toString()}),e}function iS(t,e){return BT(t.databaseId,e.path)}function Hb(t,e){const n=w3(e);if(n.get(1)!==t.databaseId.projectId)throw new Ye(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ye(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new tt(_3(n))}function S3(t,e){return BT(t.databaseId,e)}function NJ(t){const e=w3(t);return e.length===4?_n.emptyPath():_3(e)}function oS(t){return new _n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _3(t){return Dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Kj(t,e,n){return{name:iS(t,e),fields:n.value.mapValue.fields}}function jJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ot(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Dt(d===void 0||typeof d=="string",58123),Tr.fromBase64String(d||"")):(Dt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Tr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?ye.UNKNOWN:y3(c.code);return new Ye(d,c.message||"")}(s);n=new x3(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hb(t,r.document.name),o=fs(r.document.updateTime),s=r.document.createTime?fs(r.document.createTime):ut.min(),a=new Hi({mapValue:{fields:r.document.fields}}),l=Ur.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new qg(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hb(t,r.document),o=r.readTime?fs(r.readTime):ut.min(),s=Ur.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qg([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hb(t,r.document),o=r.removedTargetIds||[];n=new qg([],o,i,null)}else{if(!("filter"in e))return ot(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new xJ(i,o),a=r.targetId;n=new v3(a,s)}}return n}function IJ(t,e){let n;if(e instanceof Zp)n={update:Kj(t,e.key,e.value)};else if(e instanceof g3)n={delete:iS(t,e.key)};else if(e instanceof Ac)n={update:Kj(t,e.key,e.data),updateMask:VJ(e.fieldMask)};else{if(!(e instanceof gJ))return ot(16599,{Vt:e.type});n={verify:iS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Hh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Uy)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw ot(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:PJ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ot(27497)}(t,e.precondition)),n}function kJ(t,e){return t&&t.length>0?(Dt(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?fs(i.updateTime):fs(o);return s.isEqual(ut.min())&&(s=fs(o)),new hJ(s,i.transformResults||[])}(n,e))):[]}function OJ(t,e){return{documents:[S3(t,e.path)]}}function RJ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=S3(t,i);const o=function(c){if(c.length!==0)return T3(bs.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Kc(h.field),direction:$J(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=nS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function MJ(t){let e=NJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Dt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=E3(f);return h instanceof bs&&e3(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new By(Yc(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,$x(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Vy(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new Vy(m,h)}(n.endAt)),JQ(e,i,s,o,a,"F",l,c)}function DJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function E3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yc(n.unaryFilter.field);return Yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yc(n.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yc(n.unaryFilter.field);return Yn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yc(n.unaryFilter.field);return Yn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ot(61313);default:return ot(60726)}}(t):t.fieldFilter!==void 0?function(n){return Yn.create(Yc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ot(58110);default:return ot(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bs.create(n.compositeFilter.filters.map(r=>E3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot(1026)}}(n.compositeFilter.op))}(t):ot(30097,{filter:t})}function $J(t){return EJ[t]}function LJ(t){return TJ[t]}function FJ(t){return CJ[t]}function Kc(t){return{fieldPath:t.canonicalString()}}function Yc(t){return xr.fromServerFormat(t.fieldPath)}function T3(t){return t instanceof Yn?function(n){if(n.op==="=="){if(Mj(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NAN"}};if(Rj(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mj(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NAN"}};if(Rj(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kc(n.field),op:LJ(n.op),value:n.value}}}(t):t instanceof bs?function(n){const r=n.getFilters().map(i=>T3(i));return r.length===1?r[0]:{compositeFilter:{op:FJ(n.op),filters:r}}}(t):ot(54877,{filter:t})}function VJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function C3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r,i,o=ut.min(),s=ut.min(),a=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e){this.yt=e}}function UJ(t){const e=MJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(){this.Cn=new WJ}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(cl.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(cl.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class WJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jn(_n.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(_n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A3=41943040;class ai{static withCacheSize(e){return new ai(e,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(A3,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rd(0)}static cr(){return new rd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="LruGarbageCollector",HJ=1048576;function Qj([t,e],[n,r]){const i=_t(t,n);return i===0?_t(e,r):i}class qJ{constructor(e){this.Ir=e,this.buffer=new Jn(Qj),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Qj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(Xj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vd(n)?Re(Xj,"Ignoring IndexedDB error during garbage collection: ",n):await Fd(n)}await this.Vr(3e5)})}}class KJ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Dx.ce);const r=new qJ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Yj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yj):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),qc()<=wt.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function YJ(t,e){return new KJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(){this.changes=new Cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oh(r.mutation,i,Ao.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Et()){const i=Bl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Df();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Bl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Et()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ra();const s=ih(),a=function(){return ih()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ac)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),oh(d.mutation,c,d.mutation.getFieldMask(),fn.now())):s.set(c.key,Ao.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>a.set(c,new QJ(d,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ih();let i=new An((s,a)=>s-a),o=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Ao.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||Et()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=l3();d.forEach(h=>{if(!o.has(h)){const m=p3(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return he.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return tt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):he.resolve(Bl());let a=Bh,l=o;return s.next(c=>he.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?he.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Et())).next(d=>({batchId:a,changes:a3(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new tt(n)).next(r=>{let i=Df();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Df();return this.indexManager.getCollectionParents(e,o).next(a=>he.forEach(a,l=>{const c=function(f,h){return new Fx(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Ur.newInvalidDocument(d)))});let a=Df();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&oh(d.mutation,c,Ao.empty(),fn.now()),Bx(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fs(i.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:UJ(i.bundledQuery),readTime:fs(i.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(){this.overlays=new An(tt.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bl();return he.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=Bl(),o=n.length+1,s=new tt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new An((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Bl(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Bl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return he.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vJ(n,r));let o=this.qr.get(n);o===void 0&&(o=Et(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.Qr=new Jn(sr.$r),this.Ur=new Jn(sr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new sr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new sr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new tt(new _n([])),r=new sr(n,e),i=new sr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new tt(new _n([])),r=new sr(n,e),i=new sr(n,e+1);let o=Et();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new sr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return tt.comparator(e.key,n.key)||_t(e.Yr,n.Yr)}static Kr(e,n){return _t(e.Yr,n.Yr)||tt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jn(sr.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new yJ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new sr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return he.resolve(s)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?kT:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sr(n,0),i=new sr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jn(_t);return n.forEach(i=>{const o=new sr(i,0),s=new sr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;tt.isDocumentKey(o)||(o=o.child(""));const s=new sr(new tt(o),0);let a=new Jn(_t);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),he.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,i=>{const o=new sr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new sr(n,0),i=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e){this.ri=e,this.docs=function(){return new An(tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():Ur.newInvalidDocument(n))}getEntries(e,n){let r=ra();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ur.newInvalidDocument(i))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ra();const s=n.path,a=new tt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||IQ(jQ(d),r)<=0||(i.has(d.key)||Bx(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ot(9500)}ii(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iZ(this)}getSize(e){return he.resolve(this.size)}}class iZ extends XJ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e){this.persistence=e,this.si=new Cc(n=>MT(n),DT),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.oi=0,this._i=new UT,this.targetCount=0,this.ai=rd.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),he.waitFor(o).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dx(0),this.li=!1,this.li=!0,this.hi=new tZ,this.referenceDelegate=e(this),this.Pi=new oZ(this),this.indexManager=new zJ,this.remoteDocumentCache=function(i){return new rZ(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new BJ(n),this.Ii=new ZJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new nZ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new sZ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return he.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class sZ extends OQ{constructor(e){super(),this.currentSequenceNumber=e}}class zT{constructor(e){this.persistence=e,this.Ri=new UT,this.Vi=null}static mi(e){return new zT(e)}get fi(){if(this.Vi)return this.Vi;throw ot(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,r=>{const i=tt.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,ut.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wy{constructor(e,n){this.persistence=e,this.pi=new Cc(r=>DQ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=YJ(this,n)}static mi(e,n){return new Wy(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return he.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?he.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ut.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zg(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Et(),i=Et();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new WT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return QG()?8:RQ(qr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new aZ;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(qc()<=wt.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Gc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(qc()<=wt.DEBUG&&Re("QueryEngine","Query:",Gc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(qc()<=wt.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Gc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):he.resolve())}ys(e,n){if(Fj(n))return he.resolve(null);let r=ds(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tS(n,null,"F"),r=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Et(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,tS(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return Fj(n)||i.isEqual(ut.min())?he.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?he.resolve(null):(qc()<=wt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gc(n)),this.vs(e,s,n,NQ(i,Bh)).next(a=>a))})}Ds(e,n){let r=new Jn(o3(e));return n.forEach((i,o)=>{Bx(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return qc()<=wt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Gc(n)),this.ps.getDocumentsMatchingQuery(e,n,cl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LocalStore",cZ=3e8;class uZ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new An(_t),this.xs=new Cc(o=>MT(o),DT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JJ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function dZ(t,e,n,r){return new uZ(t,e,n,r)}async function N3(t,e){const n=dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Et();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function fZ(t,e){const n=dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let m=he.resolve();return h.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(g=>{const v=c.docVersions.get(y);Dt(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Et();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function j3(t){const e=dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hZ(t,e){const n=dt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Tr.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,v,x){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=cZ?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(o,m))});let l=ra(),c=Et();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(pZ(o,s,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(ut.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return he.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function pZ(t,e,n){let r=Et(),i=Et();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ra();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ut.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Re(HT,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function mZ(t,e){const n=dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=kT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gZ(t,e){const n=dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,he.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Fa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function sS(t,e,n){const r=dt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Vd(s))throw s;Re(HT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Jj(t,e,n){const r=dt(t);let i=ut.min(),o=Et();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const f=dt(l),h=f.xs.get(d);return h!==void 0?he.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,d)}(r,s,ds(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ut.min(),n?o:Et())).next(a=>(yZ(r,tJ(e),a),{documents:a,Qs:o})))}function yZ(t,e,n){let r=t.Os.get(e)||ut.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class Zj{constructor(){this.activeTargetIds=aJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vZ{constructor(){this.Mo=new Zj,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zj,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="ConnectivityMonitor";class tI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(eI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(eI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm=null;function aS(){return Jm===null?Jm=function(){return 268435456+Math.round(2147483648*Math.random())}():Jm++,"0x"+Jm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="RestConnection",bZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wZ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ly?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=aS(),a=this.zo(e,n.toUriEncodedString());Re(qb,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),d=Md(c);return this.Jo(e,a,l,r,d).then(f=>(Re(qb,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Zu(qb,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ld}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=bZ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="WebChannelConnection";class _Z extends wZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=aS();return new Promise((a,l)=>{const c=new O4;c.setWithCredentials(!0),c.listenOnce(R4.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ug.NO_ERROR:const f=c.getResponseJson();Re($r,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ug.TIMEOUT:Re($r,`RPC '${e}' ${s} timed out`),l(new Ye(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Ug.HTTP_ERROR:const h=c.getStatus();if(Re($r,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const g=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(w)>=0?w:ye.UNKNOWN}(y.status);l(new Ye(g,y.message))}else l(new Ye(ye.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ye(ye.UNAVAILABLE,"Connection failed."));break;default:ot(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Re($r,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Re($r,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=aS(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$4(),a=D4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Re($r,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);this.I_(f);let h=!1,m=!1;const y=new SZ({Yo:v=>{m?Re($r,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Re($r,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Re($r,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Zo:()=>f.close()}),g=(v,x,w)=>{v.listen(x,S=>{try{w(S)}catch(C){setTimeout(()=>{throw C},0)}})};return g(f,Mf.EventType.OPEN,()=>{m||(Re($r,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),g(f,Mf.EventType.CLOSE,()=>{m||(m=!0,Re($r,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),g(f,Mf.EventType.ERROR,v=>{m||(m=!0,Zu($r,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),y.a_(new Ye(ye.UNAVAILABLE,"The operation could not be completed")))}),g(f,Mf.EventType.MESSAGE,v=>{var x;if(!m){const w=v.data[0];Dt(!!w,16349);const S=w,C=(S==null?void 0:S.error)||((x=S[0])==null?void 0:x.error);if(C){Re($r,`RPC '${e}' stream ${i} received error:`,C);const E=C.status;let P=function(N){const k=Fn[N];if(k!==void 0)return y3(k)}(E),_=C.message;P===void 0&&(P=ye.INTERNAL,_="Unknown error status: "+E+" with message "+C.message),m=!0,y.a_(new Ye(P,_)),f.close()}else Re($r,`RPC '${e}' stream ${i} received:`,w),y.u_(w)}}),g(a,M4.STAT_EVENT,v=>{v.stat===Y1.PROXY?Re($r,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Y1.NOPROXY&&Re($r,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Gb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){return new AJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="PersistentStream";class k3{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new I3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(na(n.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Ye(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Re(nI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Re(nI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EZ extends k3{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jJ(this.serializer,e),r=function(o){if(!("targetChange"in o))return ut.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ut.min():s.readTime?fs(s.readTime):ut.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=oS(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=eS(l)?{documents:OJ(o,l)}:{query:RJ(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=b3(o,s.resumeToken);const c=nS(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ut.min())>0){a.readTime=zy(o,s.snapshotVersion.toTimestamp());const c=nS(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=DJ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=oS(this.serializer),n.removeTarget=e,this.q_(n)}}class TZ extends k3{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kJ(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=oS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IJ(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{}class AZ extends CZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ye(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,rS(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ye(ye.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,rS(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ye(ye.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class PZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(na(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="RemoteStore";class NZ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Pc(this)&&(Re(pc,"Restarting streams for network reachability change."),await async function(l){const c=dt(l);c.Ea.add(4),await tm(c),c.Ra.set("Unknown"),c.Ea.delete(4),await qx(c)}(this))})}),this.Ra=new PZ(r,i)}}async function qx(t){if(Pc(t))for(const e of t.da)await e(!0)}async function tm(t){for(const e of t.da)await e(!1)}function O3(t,e){const n=dt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),YT(n)?KT(n):Bd(n).O_()&&GT(n,e))}function qT(t,e){const n=dt(t),r=Bd(n);n.Ia.delete(e),r.O_()&&R3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pc(n)&&n.Ra.set("Unknown"))}function GT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bd(t).Y_(e)}function R3(t,e){t.Va.Ue(e),Bd(t).Z_(e)}function KT(t){t.Va=new _J({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bd(t).start(),t.Ra.ua()}function YT(t){return Pc(t)&&!Bd(t).x_()&&t.Ia.size>0}function Pc(t){return dt(t).Ea.size===0}function M3(t){t.Va=void 0}async function jZ(t){t.Ra.set("Online")}async function IZ(t){t.Ia.forEach((e,n)=>{GT(t,e)})}async function kZ(t,e){M3(t),YT(t)?(t.Ra.ha(e),KT(t)):t.Ra.set("Unknown")}async function OZ(t,e,n){if(t.Ra.set("Online"),e instanceof x3&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Re(pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hy(t,r)}else if(e instanceof qg?t.Va.Ze(e):e instanceof v3?t.Va.st(e):t.Va.tt(e),!n.isEqual(ut.min()))try{const r=await j3(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.Ia.get(c);d&&o.Ia.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.Ia.get(l);if(!d)return;o.Ia.set(l,d.withResumeToken(Tr.EMPTY_BYTE_STRING,d.snapshotVersion)),R3(o,l);const f=new Fa(d.target,l,c,d.sequenceNumber);GT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Re(pc,"Failed to raise snapshot:",r),await Hy(t,r)}}async function Hy(t,e,n){if(!Vd(e))throw e;t.Ea.add(1),await tm(t),t.Ra.set("Offline"),n||(n=()=>j3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re(pc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qx(t)})}function D3(t,e){return e().catch(n=>Hy(t,n,e))}async function Gx(t){const e=dt(t),n=hl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kT;for(;RZ(e);)try{const i=await mZ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,MZ(e,i)}catch(i){await Hy(e,i)}$3(e)&&L3(e)}function RZ(t){return Pc(t)&&t.Ta.length<10}function MZ(t,e){t.Ta.push(e);const n=hl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function $3(t){return Pc(t)&&!hl(t).x_()&&t.Ta.length>0}function L3(t){hl(t).start()}async function DZ(t){hl(t).ra()}async function $Z(t){const e=hl(t);for(const n of t.Ta)e.ea(n.mutations)}async function LZ(t,e,n){const r=t.Ta.shift(),i=FT.from(r,e,n);await D3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gx(t)}async function FZ(t,e){e&&hl(t).X_&&await async function(r,i){if(function(s){return bJ(s)&&s!==ye.ABORTED}(i.code)){const o=r.Ta.shift();hl(r).B_(),await D3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gx(r)}}(t,e),$3(t)&&L3(t)}async function rI(t,e){const n=dt(t);n.asyncQueue.verifyOperationInProgress(),Re(pc,"RemoteStore received new credentials");const r=Pc(n);n.Ea.add(3),await tm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qx(n)}async function VZ(t,e){const n=dt(t);e?(n.Ea.delete(2),await qx(n)):e||(n.Ea.add(2),await tm(n),n.Ra.set("Unknown"))}function Bd(t){return t.ma||(t.ma=function(n,r,i){const o=dt(n);return o.sa(),new EZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:jZ.bind(null,t),t_:IZ.bind(null,t),r_:kZ.bind(null,t),H_:OZ.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),YT(t)?KT(t):t.Ra.set("Unknown")):(await t.ma.stop(),M3(t))})),t.ma}function hl(t){return t.fa||(t.fa=function(n,r,i){const o=dt(n);return o.sa(),new TZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:DZ.bind(null,t),r_:FZ.bind(null,t),ta:$Z.bind(null,t),na:LZ.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gx(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(pc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new XT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ye(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QT(t,e){if(na("AsyncQueue",`${e}: ${t}`),Vd(t))return new Ye(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{static emptySet(e){return new Tu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||tt.comparator(n.key,r.key):(n,r)=>tt.comparator(n.key,r.key),this.keyedMap=Df(),this.sortedSet=new An(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.ga=new An(tt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ot(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class id{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new id(e,n,Tu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class UZ{constructor(){this.queries=oI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=dt(n),o=i.queries;i.queries=oI(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Ye(ye.ABORTED,"Firestore shutting down"))}}function oI(){return new Cc(t=>i3(t),Vx)}async function zZ(t,e){const n=dt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new BZ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=QT(s,`Initialization of query '${Gc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&JT(n)}async function WZ(t,e){const n=dt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HZ(t,e){const n=dt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&JT(n)}function qZ(t,e,n){const r=dt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function JT(t){t.Ca.forEach(e=>{e.next()})}var lS,sI;(sI=lS||(lS={})).Ma="default",sI.Cache="cache";class GZ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new id(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=id.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.key=e}}class V3{constructor(e){this.key=e}}class KZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Et(),this.mutatedKeys=Et(),this.eu=o3(e),this.tu=new Tu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new iI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Bx(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?y!==g&&(r.track({type:3,doc:m}),v=!0):this.su(h,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),v=!0):h&&!m&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(a=!0)),v&&(m?(s=s.add(m),o=g?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,f)=>function(m,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot(20277,{Rt:v})}};return g(m)-g(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new id(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Et(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new V3(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new F3(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return id.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ZT="SyncEngine";class YZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XZ{constructor(e){this.key=e,this.hu=!1}}class QZ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Cc(a=>i3(a),Vx),this.Iu=new Map,this.Eu=new Set,this.du=new An(tt.comparator),this.Au=new Map,this.Ru=new UT,this.Vu={},this.mu=new Map,this.fu=rd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JZ(t,e,n=!0){const r=q3(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await B3(r,e,n,!0),i}async function ZZ(t,e){const n=q3(t);await B3(n,e,!0,!1)}async function B3(t,e,n,r){const i=await gZ(t.localStore,ds(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await eee(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&O3(t.remoteStore,i),a}async function eee(t,e,n,r,i){t.pu=(f,h,m)=>async function(g,v,x,w){let S=v.view.ru(x);S.Cs&&(S=await Jj(g.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,S)));const C=w&&w.targetChanges.get(v.targetId),E=w&&w.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(S,g.isPrimaryClient,C,E);return lI(g,v.targetId,P.au),P.snapshot}(t,f,h,m);const o=await Jj(t.localStore,e,!0),s=new KZ(e,o.Qs),a=s.ru(o.documents),l=em.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);lI(t,n,c.au);const d=new YZ(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function tee(t,e,n){const r=dt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Vx(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qT(r.remoteStore,i.targetId),cS(r,i.targetId)}).catch(Fd)):(cS(r,i.targetId),await sS(r.localStore,i.targetId,!0))}async function nee(t,e){const n=dt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qT(n.remoteStore,r.targetId))}async function ree(t,e,n){const r=uee(t);try{const i=await function(s,a){const l=dt(s),c=fn.now(),d=a.reduce((m,y)=>m.add(y.key),Et());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=ra(),g=Et();return l.Ns.getEntries(m,d).next(v=>{y=v,y.forEach((x,w)=>{w.isValidDocument()||(g=g.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(v=>{f=v;const x=[];for(const w of a){const S=mJ(w,f.get(w.key).overlayedDocument);S!=null&&x.push(new Ac(w.key,S,Q4(S.value.mapValue),Ws.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:a3(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new An(_t)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await nm(r,i.changes),await Gx(r.remoteStore)}catch(i){const o=QT(i,"Failed to persist write");n.reject(o)}}async function U3(t,e){const n=dt(t);try{const r=await hZ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Dt(s.hu,14607):i.removedDocuments.size>0&&(Dt(s.hu,42227),s.hu=!1))}),await nm(n,r,e)}catch(r){await Fd(r)}}function aI(t,e,n){const r=dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=dt(s);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&JT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iee(t,e,n){const r=dt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new An(tt.comparator);s=s.insert(o,Ur.newNoDocument(o,ut.min()));const a=Et().add(o),l=new Wx(ut.min(),new Map,new An(_t),s,a);await U3(r,l),r.du=r.du.remove(o),r.Au.delete(e),eC(r)}else await sS(r.localStore,e,!1).then(()=>cS(r,e,n)).catch(Fd)}async function oee(t,e){const n=dt(t),r=e.batch.batchId;try{const i=await fZ(n.localStore,e);W3(n,r,null),z3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nm(n,i)}catch(i){await Fd(i)}}async function see(t,e,n){const r=dt(t);try{const i=await function(s,a){const l=dt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Dt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);W3(r,e,n),z3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nm(r,i)}catch(i){await Fd(i)}}function z3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function W3(t,e,n){const r=dt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function cS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||H3(t,r)})}function H3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),eC(t))}function lI(t,e,n){for(const r of n)r instanceof F3?(t.Ru.addReference(r.key,e),aee(t,r)):r instanceof V3?(Re(ZT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||H3(t,r.key)):ot(19791,{wu:r})}function aee(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(ZT,"New document in limbo: "+n),t.Eu.add(r),eC(t))}function eC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new tt(_n.fromString(e)),r=t.fu.next();t.Au.set(r,new XZ(n)),t.du=t.du.insert(n,r),O3(t.remoteStore,new Fa(ds($T(n.path)),r,"TargetPurposeLimboResolution",Dx.ce))}}async function nm(t,e,n){const r=dt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=WT.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const d=dt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>he.forEach(c,h=>he.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>he.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Vd(f))throw f;Re(HT,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(h,g)}}}(r.localStore,o))}async function lee(t,e){const n=dt(t);if(!n.currentUser.isEqual(e)){Re(ZT,"User change. New user:",e.toKey());const r=await N3(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Ye(ye.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nm(n,r.Ls)}}function cee(t,e){const n=dt(t),r=n.Au.get(e);if(r&&r.hu)return Et().add(r.key);{let i=Et();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function q3(t){const e=dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=U3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iee.bind(null,e),e.Pu.H_=HZ.bind(null,e.eventManager),e.Pu.yu=qZ.bind(null,e.eventManager),e}function uee(t){const e=dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=see.bind(null,e),e}class qy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dZ(this.persistence,new lZ,e.initialUser,this.serializer)}Cu(e){return new P3(zT.mi,this.serializer)}Du(e){return new vZ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qy.provider={build:()=>new qy};class dee extends qy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Dt(this.persistence.referenceDelegate instanceof Wy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GJ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new P3(r=>Wy.mi(r,n),this.serializer)}}class uS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lee.bind(null,this.syncEngine),await VZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UZ}()}createDatastore(e){const n=Hx(e.databaseInfo.databaseId),r=function(o){return new _Z(o)}(e.databaseInfo);return function(o,s,a,l){return new AZ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new NZ(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>aI(this.syncEngine,n,0),function(){return tI.v()?new tI:new xZ}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const f=new QZ(i,o,s,a,l,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=dt(i);Re(pc,"RemoteStore shutting down."),o.Ea.add(5),await tm(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}uS.provider={build:()=>new uS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):na("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="FirestoreClient";class hee{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vr.UNAUTHENTICATED,this.clientId=jT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Re(pl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Re(pl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=QT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kb(t,e){t.asyncQueue.verifyOperationInProgress(),Re(pl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await N3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pee(t);Re(pl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rI(e.remoteStore,i)),t._onlineComponents=e}async function pee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(pl,"Using user provided OfflineComponentProvider");try{await Kb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await Kb(t,new qy)}}else Re(pl,"Using default OfflineComponentProvider"),await Kb(t,new dee(void 0));return t._offlineComponents}async function G3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(pl,"Using user provided OnlineComponentProvider"),await cI(t,t._uninitializedComponentsProvider._online)):(Re(pl,"Using default OnlineComponentProvider"),await cI(t,new uS))),t._onlineComponents}function mee(t){return G3(t).then(e=>e.syncEngine)}async function gee(t){const e=await G3(t),n=e.eventManager;return n.onListen=JZ.bind(null,e.syncEngine),n.onUnlisten=tee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nee.bind(null,e.syncEngine),n}function yee(t,e,n={}){const r=new tl;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new fee({next:h=>{d.Nu(),s.enqueueAndForget(()=>WZ(o,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new Ye(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new Ye(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new GZ($T(a.path),d,{includeMetadataChanges:!0,qa:!0});return zZ(o,f)}(await gee(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="firestore.googleapis.com",dI=!0;class fI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ye(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y3,this.ssl=dI}else this.host=e.host,this.ssl=e.ssl??dI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HJ)throw new Ye(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K3(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ye(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ye(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ye(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ye(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ye(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yQ;switch(r.type){case"firstParty":return new wQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ye(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uI.get(n);r&&(Re("ComponentProvider","Removing Datastore"),uI.delete(n),r.terminate())}(this),Promise.resolve()}}function vee(t,e,n,r={}){var c;t=Vh(t,tC);const i=Md(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(GL(`https://${a}`),KL("Firestore",!0)),o.host!==Y3&&o.host!==a&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!uc(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Vr.MOCK_USER;else{d=UG(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ye(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vr(h)}t._authCredentials=new vQ(new F4(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nC(this.firestore,e,this._query)}}class ur{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}toJSON(){return{type:ur._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Jp(n,ur._jsonSchema))return new ur(e,r||null,new tt(_n.fromString(n.referencePath)))}}ur._jsonSchemaVersion="firestore/documentReference/1.0",ur._jsonSchema={type:Un("string",ur._jsonSchemaVersion),referencePath:Un("string")};class Kh extends nC{constructor(e,n,r){super(e,n,$T(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new tt(e))}withConverter(e){return new Kh(this.firestore,e,this._path)}}function X3(t,e,...n){if(t=eo(t),arguments.length===1&&(e=jT.newId()),AQ("doc","path",e),t instanceof tC){const r=_n.fromString(e,...n);return Cj(r),new ur(t,null,new tt(r))}{if(!(t instanceof ur||t instanceof Kh))throw new Ye(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return Cj(r),new ur(t.firestore,t instanceof Kh?t.converter:null,new tt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="AsyncQueue";class pI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new I3(this,"async_queue_retry"),this._c=()=>{const r=Gb();r&&Re(hI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new tl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vd(e))throw e;Re(hI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,na("INTERNAL UNHANDLED ERROR: ",mI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=XT.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ot(47125,{Pc:mI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rC extends tC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pI(e),this._firestoreClient=void 0,await e}}}function xee(t,e){const n=typeof t=="object"?t:JL(),r=typeof t=="string"?t:Ly,i=vT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=VG("firestore");o&&vee(i,...o)}return i}function Q3(t){if(t._terminated)throw new Ye(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bee(t),t._firestoreClient}function bee(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,d){return new FQ(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,K3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qi(Tr.fromBase64String(e))}catch(n){throw new Ye(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qi(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jp(e,qi._jsonSchema))return qi.fromBase64String(e.bytes)}}qi._jsonSchemaVersion="firestore/bytes/1.0",qi._jsonSchema={type:Un("string",qi._jsonSchemaVersion),bytes:Un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ye(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ye(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ye(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if(Jp(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:Un("string",hs._jsonSchemaVersion),latitude:Un("number"),longitude:Un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jp(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ps(e.vectorValues);throw new Ye(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:Un("string",ps._jsonSchemaVersion),vectorValues:Un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee=/^__.*__$/;class See{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ac(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zp(e,this.data,n,this.fieldTransforms)}}function J3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot(40011,{Ac:t})}}class sC{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(J3(this.Ac)&&wee.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _ee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hx(e)}Cc(e,n,r,i=!1){return new sC({Ac:e,methodName:n,Dc:r,path:xr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eee(t){const e=t._freezeSettings(),n=Hx(t._databaseId);return new _ee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tee(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);n5("Data must be an object, but it was:",s,r);const a=e5(r,s);let l,c;if(o.merge)l=new Ao(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=Cee(e,f,n);if(!s.contains(h))throw new Ye(ye.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Pee(d,h)||d.push(h)}l=new Ao(d),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new See(new Hi(a),l,c)}class aC extends oC{_toFieldTransform(e){return new dJ(e.path,new Hh)}isEqual(e){return e instanceof aC}}function Z3(t,e){if(t5(t=eo(t)))return n5("Unsupported field value:",e,t),e5(t,e);if(t instanceof oC)return function(r,i){if(!J3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Z3(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=eo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=fn.fromDate(r);return{timestampValue:zy(i.serializer,o)}}if(r instanceof fn){const o=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zy(i.serializer,o)}}if(r instanceof hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qi)return{bytesValue:b3(i.serializer,r._byteString)};if(r instanceof ur){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ps)return function(s,a){return{mapValue:{fields:{[K4]:{stringValue:X4},[Fy]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return LT(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${IT(r)}`)}(t,e)}function e5(t,e){const n={};return U4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,(r,i)=>{const o=Z3(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function t5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof hs||t instanceof qi||t instanceof ur||t instanceof oC||t instanceof ps)}function n5(t,e,n){if(!t5(n)||!V4(n)){const r=IT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Cee(t,e,n){if((e=eo(e))instanceof iC)return e._internalPath;if(typeof e=="string")return r5(t,e);throw Gy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Aee=new RegExp("[~\\*/\\[\\]]");function r5(t,e,n){if(e.search(Aee)>=0)throw Gy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iC(...e.split("."))._internalPath}catch{throw Gy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ye(ye.INVALID_ARGUMENT,a+t+l)}function Pee(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(o5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nee extends i5{data(){return super.data()}}function o5(t,e){return typeof e=="string"?r5(t,e):e instanceof iC?e._internalPath:e._delegate._internalPath}class jee{convertValue(e,n="none"){switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ot(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Fy].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>Rn(s.doubleValue));return new ps(n)}convertGeoPoint(e){return new hs(Rn(e.latitude),Rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uh(e));default:return null}}convertTimestamp(e){const n=ul(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_n.fromString(e);Dt(C3(r),9688,{name:e});const i=new zh(r.get(1),r.get(3)),o=new tt(r.popFirst(5));return i.isEqual(n)||na(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Lf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends i5{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(o5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ye(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zl._jsonSchema={type:Un("string",Zl._jsonSchemaVersion),bundleSource:Un("string","DocumentSnapshot"),bundleName:Un("string"),bundle:Un("string")};class Gg extends Zl{data(e={}){return super.data(e)}}class sh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gg(this._firestore,this._userDataWriter,r.key,r,new Lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ye(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Gg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Gg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:kee(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ye(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t){t=Vh(t,ur);const e=Vh(t.firestore,rC);return yee(Q3(e),t._key).then(n=>$ee(e,t,n))}sh._jsonSchemaVersion="firestore/querySnapshot/1.0",sh._jsonSchema={type:Un("string",sh._jsonSchemaVersion),bundleSource:Un("string","QuerySnapshot"),bundleName:Un("string"),bundle:Un("string")};class Ree extends jee{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,n)}}function Mee(t,e,n){t=Vh(t,ur);const r=Vh(t.firestore,rC),i=Iee(t.converter,e,n);return Dee(r,[Tee(Eee(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ws.none())])}function Dee(t,e){return function(r,i){const o=new tl;return r.asyncQueue.enqueueAndForget(async()=>ree(await mee(r),i,o)),o.promise}(Q3(t),e)}function $ee(t,e,n){const r=n.docs.get(e._key),i=new Ree(t);return new Zl(t,i,e._key,r,new Lf(n.hasPendingWrites,n.fromCache),e.converter)}function Lee(){return new aC("serverTimestamp")}(function(e,n=!0){(function(i){Ld=i})(Dd),Qu(new dc("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new rC(new xQ(r.getProvider("auth-internal")),new SQ(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ye(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zh(c.options.projectId,d)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Za(Sj,_j,e),Za(Sj,_j,"esm2020")})();const Fee={apiKey:"AIzaSyA3jeqtK7sD7WGDSiGTW0sZO4CxwYimkNc",authDomain:"cuemastersuite.firebaseapp.com",projectId:"cuemastersuite",storageBucket:"cuemastersuite.firebasestorage.app",messagingSenderId:"565840195638",appId:"1:565840195638:web:1aa5acd2440bd998ffa897",measurementId:"G-0WVC9LP6WX"},s5=QL(Fee),Kx=mQ(s5),a5=xee(s5),Vee=new Ds,Bee=new Ms;async function Uee(){try{return(await j4(Kx,Vee)).user}catch(t){return console.error("Google sign-in error:",t),null}}async function zee(){try{return(await j4(Kx,Bee)).user}catch(t){return console.error("Facebook sign-in error:",t),null}}async function Wee(){try{await oX(Kx)}catch(t){console.error("Sign-out error:",t)}}function Hee(t){return iX(Kx,t)}async function gI(t){try{const e=await Oee(X3(a5,"users",t));if(e.exists()){const n=e.data();return{isPro:(n==null?void 0:n.isPro)===!0,promoCode:(n==null?void 0:n.promoCode)||null}}return{isPro:!1,promoCode:null}}catch(e){return console.error("Error fetching Pro status:",e),{isPro:!1,promoCode:null}}}async function qee(t,e,n){try{return await Mee(X3(a5,"users",t),{isPro:e,promoCode:n||null,updatedAt:Lee()},{merge:!0}),!0}catch(r){return console.error("Error setting Pro status:",r),!1}}const l5=b.createContext(null);function Ud(){const t=b.useContext(l5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Gee(){const[t,e]=b.useState(null),[n,r]=b.useState(!1),[i,o]=b.useState(null),[s,a]=b.useState(!0),l=async()=>{if(t){const m=await gI(t.uid);r(m.isPro),o(m.promoCode)}else{const m=localStorage.getItem("cuemaster_pro_unlocked")==="true",y=localStorage.getItem("cuemaster_promo_code");r(m),o(y)}};return b.useEffect(()=>{const m=Hee(async y=>{if(e(y),y){const g=await gI(y.uid);r(g.isPro),o(g.promoCode)}else{const g=localStorage.getItem("cuemaster_pro_unlocked")==="true",v=localStorage.getItem("cuemaster_promo_code");r(g),o(v)}a(!1)});return()=>m()},[]),{user:t,isPro:n,promoCode:i,isLoading:s,signInWithGoogle:async()=>{a(!0),await Uee(),a(!1)},signInWithFacebook:async()=>{a(!0),await zee(),a(!1)},signOut:async()=>{await Wee(),r(!1)},refreshProStatus:l,unlockPro:async m=>{if(t){const y=await qee(t.uid,!0,m);return y&&(r(!0),o(m||null)),y}else return localStorage.setItem("cuemaster_pro_unlocked","true"),m&&localStorage.setItem("cuemaster_promo_code",m),r(!0),o(m||null),!0}}}function Kee({children:t}){const e=Gee();return u.jsx(l5.Provider,{value:e,children:t})}const et=b.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ct("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));et.displayName="Card";const Yee=b.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ct("flex flex-col space-y-1.5 p-6",t),...e}));Yee.displayName="CardHeader";const Xee=b.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ct("text-2xl font-semibold leading-none tracking-tight",t),...e}));Xee.displayName="CardTitle";const Qee=b.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ct("text-sm text-muted-foreground",t),...e}));Qee.displayName="CardDescription";const c5=b.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ct("p-6 pt-0",t),...e}));c5.displayName="CardContent";const Jee=b.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ct("flex items-center p-6 pt-0",t),...e}));Jee.displayName="CardFooter";function Zm({icon:t,title:e,subtitle:n,description:r,onClick:i,testId:o,disabled:s=!1,proFeature:a=!1,isProUser:l=!1}){const c=a&&l;return u.jsx(et,{className:`p-6 ${s?"border border-dashed border-muted-foreground/40 bg-muted/30 cursor-not-allowed opacity-70":`cursor-pointer hover-elevate active-elevate-2 ${c?"border-l-[3px] border-l-primary":""}`}`,onClick:s?void 0:i,"data-testid":o,children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${s?"bg-muted/50":"bg-primary/10"}`,children:t}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider mb-0.5 ${s?"text-muted-foreground/60":"text-primary"}`,children:n}),u.jsx("h3",{className:`text-xl font-bold mb-1 ${s?"text-muted-foreground":"text-foreground"}`,children:e}),u.jsx("p",{className:`text-sm ${s?"text-muted-foreground/70":"text-muted-foreground"}`,children:r}),s&&u.jsx("p",{className:"text-xs font-medium text-primary/70 mt-3 uppercase tracking-wider",children:"Coming Soon"})]})]})})}function Zee(){const[t,e]=b.useState(null),{toast:n}=Id(),r="0.9.8",i=()=>{const s=setTimeout(()=>{navigator.clipboard.writeText(r),n({title:"Version copied",description:`v${r} copied to clipboard`,duration:2e3})},500);e(s)},o=()=>{t&&(clearTimeout(t),e(null))};return u.jsxs("span",{className:"text-xs text-muted-foreground select-none cursor-pointer hover-elevate active-elevate-2 px-2 py-1 rounded-md",onMouseDown:i,onMouseUp:o,onMouseLeave:o,onTouchStart:i,onTouchEnd:o,"data-testid":"text-version",children:["v",r]})}var Yb="focusScope.autoFocusOnMount",Xb="focusScope.autoFocusOnUnmount",yI={bubbles:!1,cancelable:!0},ete="FocusScope",lC=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=b.useState(null),c=Dn(i),d=Dn(o),f=b.useRef(null),h=mt(e,g=>l(g)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let g=function(S){if(m.paused||!a)return;const C=S.target;a.contains(C)?f.current=C:_a(f.current,{select:!0})},v=function(S){if(m.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||_a(f.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&_a(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,m.paused]),b.useEffect(()=>{if(a){xI.add(m);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(Yb,yI);a.addEventListener(Yb,c),a.dispatchEvent(x),x.defaultPrevented||(tte(ste(u5(a)),{select:!0}),document.activeElement===g&&_a(a))}return()=>{a.removeEventListener(Yb,c),setTimeout(()=>{const x=new CustomEvent(Xb,yI);a.addEventListener(Xb,d),a.dispatchEvent(x),x.defaultPrevented||_a(g??document.body,{select:!0}),a.removeEventListener(Xb,d),xI.remove(m)},0)}}},[a,c,d,m]);const y=b.useCallback(g=>{if(!n&&!r||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const w=g.currentTarget,[S,C]=nte(w);S&&C?!g.shiftKey&&x===C?(g.preventDefault(),n&&_a(S,{select:!0})):g.shiftKey&&x===S&&(g.preventDefault(),n&&_a(C,{select:!0})):x===w&&g.preventDefault()}},[n,r,m.paused]);return u.jsx(Xe.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});lC.displayName=ete;function tte(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_a(r,{select:e}),document.activeElement!==n)return}function nte(t){const e=u5(t),n=vI(e,t),r=vI(e.reverse(),t);return[n,r]}function u5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vI(t,e){for(const n of t)if(!rte(n,{upTo:e}))return n}function rte(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ite(t){return t instanceof HTMLInputElement&&"select"in t}function _a(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ite(t)&&e&&t.select()}}var xI=ote();function ote(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=bI(t,e),t.unshift(e)},remove(e){var n;t=bI(t,e),(n=t[0])==null||n.resume()}}}function bI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ste(t){return t.filter(e=>e.tagName!=="A")}var Qb=0;function d5(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wI()),document.body.insertAdjacentElement("beforeend",t[1]??wI()),Qb++,()=>{Qb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qb--}},[])}function wI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var is=function(){return is=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},is.apply(this,arguments)};function f5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ate(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Kg="right-scroll-bar-position",Yg="width-before-scroll-bar",lte="with-scroll-bars-hidden",cte="--removed-body-scroll-bar-size";function Jb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ute(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var dte=typeof window<"u"?b.useLayoutEffect:b.useEffect,SI=new WeakMap;function fte(t,e){var n=ute(null,function(r){return t.forEach(function(i){return Jb(i,r)})});return dte(function(){var r=SI.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Jb(a,null)}),o.forEach(function(a){i.has(a)||Jb(a,s)})}SI.set(n,t)},[t]),n}function hte(t){return t}function pte(t,e){e===void 0&&(e=hte);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function mte(t){t===void 0&&(t={});var e=pte(null);return e.options=is({async:!0,ssr:!1},t),e}var h5=function(t){var e=t.sideCar,n=f5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,is({},n))};h5.isSideCarExport=!0;function gte(t,e){return t.useMedium(e),h5}var p5=mte(),Zb=function(){},Yx=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:Zb,onWheelCapture:Zb,onTouchMoveCapture:Zb}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,g=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,w=t.gapMode,S=f5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=fte([n,e]),P=is(is({},S),i);return b.createElement(b.Fragment,null,d&&b.createElement(C,{sideCar:p5,removeScrollBar:c,shards:f,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),s?b.cloneElement(b.Children.only(a),is(is({},P),{ref:E})):b.createElement(x,is({},P,{className:l,ref:E}),a))});Yx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yx.classNames={fullWidth:Yg,zeroRight:Kg};var yte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yte();return e&&t.setAttribute("nonce",e),t}function xte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=vte())&&(xte(e,n),bte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ste=function(){var t=wte();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},m5=function(){var t=Ste(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},_te={left:0,top:0,right:0,gap:0},ew=function(t){return parseInt(t||"",10)||0},Ete=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ew(n),ew(r),ew(i)]},Tte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _te;var e=Ete(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Cte=m5(),Cu="data-scroll-locked",Ate=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Cu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Kg," .").concat(Kg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yg," .").concat(Yg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cu,`] {
    `).concat(cte,": ").concat(a,`px;
  }
`)},_I=function(){var t=parseInt(document.body.getAttribute(Cu)||"0",10);return isFinite(t)?t:0},Pte=function(){b.useEffect(function(){return document.body.setAttribute(Cu,(_I()+1).toString()),function(){var t=_I()-1;t<=0?document.body.removeAttribute(Cu):document.body.setAttribute(Cu,t.toString())}},[])},Nte=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Pte();var o=b.useMemo(function(){return Tte(i)},[i]);return b.createElement(Cte,{styles:Ate(o,!e,i,n?"":"!important")})},dS=!1;if(typeof window<"u")try{var eg=Object.defineProperty({},"passive",{get:function(){return dS=!0,!0}});window.addEventListener("test",eg,eg),window.removeEventListener("test",eg,eg)}catch{dS=!1}var Lc=dS?{passive:!1}:!1,jte=function(t){return t.tagName==="TEXTAREA"},g5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!jte(t)&&n[e]==="visible")},Ite=function(t){return g5(t,"overflowY")},kte=function(t){return g5(t,"overflowX")},EI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=y5(t,r);if(i){var o=v5(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ote=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Rte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},y5=function(t,e){return t==="v"?Ite(e):kte(e)},v5=function(t,e){return t==="v"?Ote(e):Rte(e)},Mte=function(t,e){return t==="h"&&e==="rtl"?-1:1},Dte=function(t,e,n,r,i){var o=Mte(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,d=s>0,f=0,h=0;do{var m=v5(t,a),y=m[0],g=m[1],v=m[2],x=g-v-o*y;(y||x)&&y5(t,a)&&(f+=x,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},tg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TI=function(t){return[t.deltaX,t.deltaY]},CI=function(t){return t&&"current"in t?t.current:t},$te=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Lte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Fte=0,Fc=[];function Vte(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(Fte++)[0],o=b.useState(m5)[0],s=b.useRef(t);b.useEffect(function(){s.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=ate([t.lockRef.current],(t.shards||[]).map(CI),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var x=tg(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-x[0],C="deltaY"in g?g.deltaY:w[1]-x[1],E,P=g.target,_=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in g&&_==="h"&&P.type==="range")return!1;var T=EI(_,P);if(!T)return!0;if(T?E=_:(E=_==="v"?"h":"v",T=EI(_,P)),!T)return!1;if(!r.current&&"changedTouches"in g&&(S||C)&&(r.current=E),!E)return!0;var N=r.current||E;return Dte(N,v,g,N==="h"?S:C,!0)},[]),l=b.useCallback(function(g){var v=g;if(!(!Fc.length||Fc[Fc.length-1]!==o)){var x="deltaY"in v?TI(v):tg(v),w=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&$te(E.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var S=(s.current.shards||[]).map(CI).filter(Boolean).filter(function(E){return E.contains(v.target)}),C=S.length>0?a(v,S[0]):!s.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),c=b.useCallback(function(g,v,x,w){var S={name:g,delta:v,target:x,should:w,shadowParent:Bte(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(C){return C!==S})},1)},[]),d=b.useCallback(function(g){n.current=tg(g),r.current=void 0},[]),f=b.useCallback(function(g){c(g.type,TI(g),g.target,a(g,t.lockRef.current))},[]),h=b.useCallback(function(g){c(g.type,tg(g),g.target,a(g,t.lockRef.current))},[]);b.useEffect(function(){return Fc.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Lc),document.addEventListener("touchmove",l,Lc),document.addEventListener("touchstart",d,Lc),function(){Fc=Fc.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Lc),document.removeEventListener("touchmove",l,Lc),document.removeEventListener("touchstart",d,Lc)}},[]);var m=t.removeScrollBar,y=t.inert;return b.createElement(b.Fragment,null,y?b.createElement(o,{styles:Lte(i)}):null,m?b.createElement(Nte,{gapMode:t.gapMode}):null)}function Bte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ute=gte(p5,Vte);var cC=b.forwardRef(function(t,e){return b.createElement(Yx,is({},t,{ref:e,sideCar:Ute}))});cC.classNames=Yx.classNames;var zte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vc=new WeakMap,ng=new WeakMap,rg={},tw=0,x5=function(t){return t&&(t.host||x5(t.parentNode))},Wte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=x5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Hte=function(t,e,n,r){var i=Wte(e,Array.isArray(t)?t:[t]);rg[n]||(rg[n]=new WeakMap);var o=rg[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",g=(Vc.get(h)||0)+1,v=(o.get(h)||0)+1;Vc.set(h,g),o.set(h,v),s.push(h),g===1&&y&&ng.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),tw++,function(){s.forEach(function(f){var h=Vc.get(f)-1,m=o.get(f)-1;Vc.set(f,h),o.set(f,m),h||(ng.has(f)||f.removeAttribute(r),ng.delete(f)),m||f.removeAttribute(n)}),tw--,tw||(Vc=new WeakMap,Vc=new WeakMap,ng=new WeakMap,rg={})}},b5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=zte(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Hte(r,i,n,"aria-hidden")):function(){return null}},uC="Dialog",[w5,Gje]=Mi(uC),[qte,Fo]=w5(uC),S5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=b.useRef(null),l=b.useRef(null),[c=!1,d]=Do({prop:r,defaultProp:i,onChange:o});return u.jsx(qte,{scope:e,triggerRef:a,contentRef:l,contentId:ls(),titleId:ls(),descriptionId:ls(),open:c,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};S5.displayName=uC;var _5="DialogTrigger",E5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fo(_5,n),o=mt(e,i.triggerRef);return u.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hC(i.open),...r,ref:o,onClick:Le(t.onClick,i.onOpenToggle)})});E5.displayName=_5;var dC="DialogPortal",[Gte,T5]=w5(dC,{forceMount:void 0}),C5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Fo(dC,e);return u.jsx(Gte,{scope:e,forceMount:n,children:b.Children.map(r,s=>u.jsx(no,{present:n||o.open,children:u.jsx(wx,{asChild:!0,container:i,children:s})}))})};C5.displayName=dC;var Ky="DialogOverlay",A5=b.forwardRef((t,e)=>{const n=T5(Ky,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Fo(Ky,t.__scopeDialog);return o.modal?u.jsx(no,{present:r||o.open,children:u.jsx(Yte,{...i,ref:e})}):null});A5.displayName=Ky;var Kte=Ku("DialogOverlay.RemoveScroll"),Yte=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fo(Ky,n);return u.jsx(cC,{as:Kte,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Xe.div,{"data-state":hC(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mc="DialogContent",P5=b.forwardRef((t,e)=>{const n=T5(mc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Fo(mc,t.__scopeDialog);return u.jsx(no,{present:r||o.open,children:o.modal?u.jsx(Xte,{...i,ref:e}):u.jsx(Qte,{...i,ref:e})})});P5.displayName=mc;var Xte=b.forwardRef((t,e)=>{const n=Fo(mc,t.__scopeDialog),r=b.useRef(null),i=mt(e,n.contentRef,r);return b.useEffect(()=>{const o=r.current;if(o)return b5(o)},[]),u.jsx(N5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,o=>o.preventDefault())})}),Qte=b.forwardRef((t,e)=>{const n=Fo(mc,t.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return u.jsx(N5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),N5=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Fo(mc,n),l=b.useRef(null),c=mt(e,l);return d5(),u.jsxs(u.Fragment,{children:[u.jsx(lC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(zp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hC(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Jte,{titleId:a.titleId}),u.jsx(ene,{contentRef:l,descriptionId:a.descriptionId})]})]})}),fC="DialogTitle",j5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fo(fC,n);return u.jsx(Xe.h2,{id:i.titleId,...r,ref:e})});j5.displayName=fC;var I5="DialogDescription",k5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fo(I5,n);return u.jsx(Xe.p,{id:i.descriptionId,...r,ref:e})});k5.displayName=I5;var O5="DialogClose",R5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fo(O5,n);return u.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,()=>i.onOpenChange(!1))})});R5.displayName=O5;function hC(t){return t?"open":"closed"}var M5="DialogTitleWarning",[Kje,D5]=iW(M5,{contentName:mc,titleName:fC,docsSlug:"dialog"}),Jte=({titleId:t})=>{const e=D5(M5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Zte="DialogDescriptionWarning",ene=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${D5(Zte).contentName}}.`;return b.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},tne=S5,nne=E5,rne=C5,$5=A5,L5=P5,F5=j5,V5=k5,ine=R5;const Jr=tne,one=nne,sne=rne,B5=b.forwardRef(({className:t,...e},n)=>u.jsx($5,{ref:n,className:ct("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));B5.displayName=$5.displayName;const Wr=b.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(sne,{children:[u.jsx(B5,{}),u.jsxs(L5,{ref:r,className:ct("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(ine,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Hp,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wr.displayName=L5.displayName;const br=({className:t,...e})=>u.jsx("div",{className:ct("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});br.displayName="DialogHeader";const wr=b.forwardRef(({className:t,...e},n)=>u.jsx(F5,{ref:n,className:ct("text-lg font-semibold leading-none tracking-tight",t),...e}));wr.displayName=F5.displayName;const Po=b.forwardRef(({className:t,...e},n)=>u.jsx(V5,{ref:n,className:ct("text-sm text-muted-foreground",t),...e}));Po.displayName=V5.displayName;const ane=Ex("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ue=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?sW:"button";return u.jsx(s,{className:ct(ane({variant:e,size:n,className:t})),ref:o,...i})});ue.displayName="Button";function pC(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mC="Switch",[lne,Yje]=Mi(mC),[cne,une]=lne(mC),U5=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,m]=b.useState(null),y=mt(e,S=>m(S)),g=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,w]=Do({prop:i,defaultProp:o,onChange:c});return u.jsxs(cne,{scope:n,checked:x,disabled:a,children:[u.jsx(Xe.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":H5(x),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:y,onClick:Le(t.onClick,S=>{w(C=>!C),v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),v&&u.jsx(dne,{control:h,bubbles:!g.current,name:r,value:l,checked:x,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});U5.displayName=mC;var z5="SwitchThumb",W5=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=une(z5,n);return u.jsx(Xe.span,{"data-state":H5(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});W5.displayName=z5;var dne=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=b.useRef(null),s=pC(n),a=fT(e);return b.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function H5(t){return t?"checked":"unchecked"}var q5=U5,fne=W5;const Pi=b.forwardRef(({className:t,...e},n)=>u.jsx(q5,{className:ct("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(fne,{className:ct("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pi.displayName=q5.displayName;const nw="cuemaster_analytics_consent",rw="cuemaster_analytics_events",ig="cuemaster_analytics_sessions",og="cuemaster_analytics_stats",iw="cuemaster_first_launch_complete",sg=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36);class hne{constructor(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},this.currentSession=null,this.events=[],this.initialized=!1,this.loadConsent(),this.loadEvents()}loadConsent(){try{const e=localStorage.getItem(nw);e&&(this.consent=JSON.parse(e))}catch(e){console.error("Failed to load analytics consent:",e)}}loadEvents(){try{const e=localStorage.getItem(rw);e&&(this.events=JSON.parse(e))}catch(e){console.error("Failed to load analytics events:",e),this.events=[]}}saveEvents(){try{this.events.length>1e3&&(this.events=this.events.slice(-1e3)),localStorage.setItem(rw,JSON.stringify(this.events))}catch(e){console.error("Failed to save analytics events:",e)}}saveSession(e){try{const n=localStorage.getItem(ig);let r=n?JSON.parse(n):[];r.push(e);const i=100;r.length>i&&(r=r.slice(-i)),localStorage.setItem(ig,JSON.stringify(r))}catch(n){console.error("Failed to save session:",n)}}isFirstLaunch(){return!localStorage.getItem(iw)}markFirstLaunchComplete(){localStorage.setItem(iw,"true")}getConsent(){return{...this.consent}}hasAnyConsent(){return this.consent.usageStats||this.consent.skillMetrics||this.consent.benchmarking}setConsent(e){this.consent=e;try{localStorage.setItem(nw,JSON.stringify(e))}catch(n){console.error("Failed to save consent:",n)}}startSession(e){this.consent.usageStats&&(this.currentSession&&this.endSession(),this.currentSession={id:sg(),startTime:Date.now(),module:e,events:[]},this.track("session_start",e,"start"))}endSession(){this.currentSession&&(this.currentSession.endTime=Date.now(),this.track("session_end",this.currentSession.module,"end",{duration:this.currentSession.endTime-this.currentSession.startTime}),this.saveSession(this.currentSession),this.updateAggregatedStats(this.currentSession),this.currentSession=null,this.consent.benchmarking&&this.submitToBenchmarking().catch(()=>{}))}track(e,n,r,i){var s;if(!this.consent.usageStats&&e!=="consent_updated")return;const o={id:sg(),type:e,module:n,action:r,data:i,timestamp:Date.now(),sessionId:((s=this.currentSession)==null?void 0:s.id)||"no-session"};this.events.push(o),this.currentSession&&this.currentSession.events.push(o),this.saveEvents()}trackSkillMetric(e,n,r,i){this.consent.skillMetrics&&(this.track("skill_metric",e,n,{value:r,...i}),this.updateSkillStats(e,n,r))}trackFeatureUsage(e,n,r){this.consent.usageStats&&this.track("feature_usage",e,n,r)}updateAggregatedStats(e){try{const n=this.getAggregatedStats();n.totalSessions++,n.totalTimeMs+=(e.endTime||Date.now())-e.startTime,n.lastActive=Date.now(),n.moduleUsage[e.module]||(n.moduleUsage[e.module]={sessions:0,timeMs:0}),n.moduleUsage[e.module].sessions++,n.moduleUsage[e.module].timeMs+=(e.endTime||Date.now())-e.startTime,localStorage.setItem(og,JSON.stringify(n))}catch(n){console.error("Failed to update aggregated stats:",n)}}updateSkillStats(e,n,r){try{const i=this.getAggregatedStats();switch(e){case"tempo":if(n==="shot_time"){const o=i.skillMetrics.tempo.avgShotTime*i.skillMetrics.tempo.totalShots;i.skillMetrics.tempo.totalShots++,i.skillMetrics.tempo.avgShotTime=(o+r)/i.skillMetrics.tempo.totalShots}else n==="session_complete"&&i.skillMetrics.tempo.sessionsPlayed++;break;case"velocity":if(n==="break_speed"){const o=i.skillMetrics.velocity.avgBreakSpeed*i.skillMetrics.velocity.breaksRecorded;i.skillMetrics.velocity.breaksRecorded++,i.skillMetrics.velocity.avgBreakSpeed=(o+r)/i.skillMetrics.velocity.breaksRecorded,i.skillMetrics.velocity.maxBreakSpeed=Math.max(i.skillMetrics.velocity.maxBreakSpeed,r)}break;case"vectors":if(n==="shot_simulated")i.skillMetrics.vectors.shotsSimulated++;else if(n==="shot_power"){const o=i.skillMetrics.vectors.avgPower*(i.skillMetrics.vectors.shotsSimulated-1);i.skillMetrics.vectors.avgPower=(o+r)/i.skillMetrics.vectors.shotsSimulated}else n==="session_complete"&&i.skillMetrics.vectors.sessionsPlayed++;break;case"truelevel":n==="calibration"?i.skillMetrics.truelevel.calibrationsPerformed++:n==="table_check"&&i.skillMetrics.truelevel.tablesChecked++;break}localStorage.setItem(og,JSON.stringify(i))}catch(i){console.error("Failed to update skill stats:",i)}}getAggregatedStats(){try{const e=localStorage.getItem(og);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load aggregated stats:",e)}return{totalSessions:0,totalTimeMs:0,moduleUsage:{},lastActive:0,skillMetrics:{tempo:{avgShotTime:0,totalShots:0,sessionsPlayed:0},velocity:{avgBreakSpeed:0,maxBreakSpeed:0,breaksRecorded:0},vectors:{shotsSimulated:0,avgPower:0,sessionsPlayed:0},truelevel:{calibrationsPerformed:0,tablesChecked:0}}}}getSessions(){try{const e=localStorage.getItem(ig);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load sessions:",e),[]}}getEvents(){return[...this.events]}exportData(){const e={consent:this.consent,stats:this.getAggregatedStats(),sessions:this.getSessions(),events:this.events,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}deleteAllData(){this.events=[],this.currentSession=null,localStorage.removeItem(rw),localStorage.removeItem(ig),localStorage.removeItem(og)}resetConsent(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},localStorage.removeItem(nw),localStorage.removeItem(iw)}getAnonymousId(){const e="cuemaster_anonymous_id";let n=localStorage.getItem(e);return n||(n=sg()+sg(),localStorage.setItem(e,n)),n}async submitToBenchmarking(){if(!this.consent.benchmarking)return!1;try{const e=this.getAggregatedStats(),n={anonymousId:this.getAnonymousId(),timestamp:new Date().toISOString(),moduleUsage:e.moduleUsage,skillMetrics:e.skillMetrics},r="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";if(r){const i=encodeURIComponent(JSON.stringify(n)),o=`${r}?action=submit&data=${i}`,s=await fetch(o,{method:"GET"});return s.ok?(await s.json()).result==="success":!1}}catch(e){return console.error("Failed to submit benchmarking data:",e),!1}}async getExternalSummary(){const e="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";try{const n=await fetch(`${e}?action=summary`);if(n.ok)return await n.json()}catch(n){console.error("Failed to fetch external summary:",n)}return null}}const Tt=new hne;function pne({open:t,onComplete:e}){const[n,r]=b.useState(0),[i,o]=b.useState({usageStats:!1,skillMetrics:!1,benchmarking:!1}),s=()=>{Tt.setConsent(i),Tt.markFirstLaunchComplete(),Tt.track("consent_updated","home","initial_consent",{consent:i}),e()},a=()=>{const c={usageStats:!0,skillMetrics:!0,benchmarking:!0};o(c),Tt.setConsent(c),Tt.markFirstLaunchComplete(),Tt.track("consent_updated","home","accept_all",{consent:c}),e()},l=()=>{const c={usageStats:!1,skillMetrics:!1,benchmarking:!1};Tt.setConsent(c),Tt.markFirstLaunchComplete(),e()};return u.jsx(Jr,{open:t,onOpenChange:()=>{},children:u.jsxs(Wr,{className:"max-w-md",onPointerDownOutside:c=>c.preventDefault(),children:[n===0&&u.jsxs(u.Fragment,{children:[u.jsxs(br,{children:[u.jsxs(wr,{className:"text-xl flex items-center gap-2",children:[u.jsx(Rh,{className:"w-5 h-5 text-primary"}),"Welcome to CueMaster Suite"]}),u.jsx(Po,{className:"text-left pt-2",children:"Help us improve your experience by sharing anonymous usage data. Your privacy is our priority."})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[u.jsx("h3",{className:"font-semibold text-sm",children:"What we collect (with your permission):"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(lc,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Which tools you use and for how long"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(Mh,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Your skill metrics to show personal progress"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(Fl,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Anonymous benchmarks to compare with others"})]})]})]}),u.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-sm text-primary mb-2",children:"Your data stays local"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All data is stored on your device. You can export or delete it anytime from Settings. No account required."})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(ue,{onClick:a,className:"w-full","data-testid":"button-accept-all",children:"Accept All"}),u.jsxs(ue,{variant:"outline",onClick:()=>r(1),className:"w-full","data-testid":"button-customize",children:["Customize",u.jsx(K$,{className:"w-4 h-4 ml-1"})]}),u.jsx(ue,{variant:"ghost",onClick:l,className:"w-full text-muted-foreground","data-testid":"button-decline-all",children:"Continue without sharing"})]})]}),n===1&&u.jsxs(u.Fragment,{children:[u.jsxs(br,{children:[u.jsx(wr,{className:"text-xl",children:"Customize Your Preferences"}),u.jsx(Po,{className:"text-left pt-2",children:"Choose exactly what you want to share. You can change these anytime in Settings."})]}),u.jsx("div",{className:"space-y-4 py-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lc,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use, session duration, and feature adoption. Helps us understand what's valuable."})]}),u.jsx(Pi,{checked:i.usageStats,onCheckedChange:c=>o(d=>({...d,usageStats:c})),"data-testid":"switch-usage-stats"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Mh,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record shot times, break speeds, and other performance data. See your personal progress over time."})]}),u.jsx(Pi,{checked:i.skillMetrics,onCheckedChange:c=>o(d=>({...d,skillMetrics:c})),"data-testid":"switch-skill-metrics"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Fl,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Anonymous Benchmarking"})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compare your stats with other players anonymously. See where you rank and track improvement.",!i.usageStats&&u.jsx("span",{className:"text-primary",children:" (Requires Usage Statistics)"})]})]}),u.jsx(Pi,{checked:i.benchmarking,onCheckedChange:c=>o(d=>({...d,benchmarking:c,usageStats:c?!0:d.usageStats})),"data-testid":"switch-benchmarking"})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ue,{variant:"outline",onClick:()=>r(0),className:"flex-1","data-testid":"button-back",children:"Back"}),u.jsx(ue,{onClick:s,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"})]})]})]})})}const G5=b.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:ct("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));G5.displayName="Textarea";function Yh(t,[e,n]){return Math.min(n,Math.max(e,t))}var mne=b.createContext(void 0);function zd(t){const e=b.useContext(mne);return t||e||"ltr"}var gne=[" ","Enter","ArrowUp","ArrowDown"],yne=[" ","Enter"],rm="Select",[Xx,Qx,vne]=Up(rm),[Wd,Xje]=Mi(rm,[vne,Nx]),Jx=Nx(),[xne,xl]=Wd(rm),[bne,wne]=Wd(rm),K5=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,g=Jx(e),[v,x]=b.useState(null),[w,S]=b.useState(null),[C,E]=b.useState(!1),P=zd(c),[_=!1,T]=Do({prop:r,defaultProp:i,onChange:o}),[N,k]=Do({prop:s,defaultProp:a,onChange:l}),j=b.useRef(null),R=v?y||!!v.closest("form"):!0,[O,$]=b.useState(new Set),F=Array.from(O).map(U=>U.props.value).join(";");return u.jsx(uG,{...g,children:u.jsxs(xne,{required:m,scope:e,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:ls(),value:N,onValueChange:k,open:_,onOpenChange:T,dir:P,triggerPointerDownPosRef:j,disabled:h,children:[u.jsx(Xx.Provider,{scope:e,children:u.jsx(bne,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(U=>{$(W=>new Set(W).add(U))},[]),onNativeOptionRemove:b.useCallback(U=>{$(W=>{const V=new Set(W);return V.delete(U),V})},[]),children:n})}),R?u.jsxs(xF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:U=>k(U.target.value),disabled:h,form:y,children:[N===void 0?u.jsx("option",{value:""}):null,Array.from(O)]},F):null]})})};K5.displayName=rm;var Y5="SelectTrigger",X5=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Jx(n),s=xl(Y5,n),a=s.disabled||r,l=mt(e,s.onTriggerChange),c=Qx(n),d=b.useRef("touch"),[f,h,m]=bF(g=>{const v=c().filter(S=>!S.disabled),x=v.find(S=>S.value===s.value),w=wF(v,g,x);w!==void 0&&s.onValueChange(w.value)}),y=g=>{a||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(NL,{asChild:!0,...o,children:u.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":vF(s.value)?"":void 0,...i,ref:l,onClick:Le(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:Le(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Le(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&gne.includes(g.key)&&(y(),g.preventDefault())})})})});X5.displayName=Y5;var Q5="SelectValue",J5=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=xl(Q5,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=mt(e,l.onValueNodeChange);return fr(()=>{c(d)},[c,d]),u.jsx(Xe.span,{...a,ref:f,style:{pointerEvents:"none"},children:vF(l.value)?u.jsx(u.Fragment,{children:s}):o})});J5.displayName=Q5;var Sne="SelectIcon",Z5=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Xe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Z5.displayName=Sne;var _ne="SelectPortal",eF=t=>u.jsx(wx,{asChild:!0,...t});eF.displayName=_ne;var gc="SelectContent",tF=b.forwardRef((t,e)=>{const n=xl(gc,t.__scopeSelect),[r,i]=b.useState();if(fr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Ec.createPortal(u.jsx(nF,{scope:t.__scopeSelect,children:u.jsx(Xx.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(rF,{...t,ref:e})});tF.displayName=gc;var mo=10,[nF,bl]=Wd(gc),Ene="SelectContentImpl",Tne=Ku("SelectContent.RemoveScroll"),rF=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v,...x}=t,w=xl(gc,n),[S,C]=b.useState(null),[E,P]=b.useState(null),_=mt(e,be=>C(be)),[T,N]=b.useState(null),[k,j]=b.useState(null),R=Qx(n),[O,$]=b.useState(!1),F=b.useRef(!1);b.useEffect(()=>{if(S)return b5(S)},[S]),d5();const U=b.useCallback(be=>{const[Ne,...oe]=R().map(z=>z.ref.current),[me]=oe.slice(-1),ae=document.activeElement;for(const z of be)if(z===ae||(z==null||z.scrollIntoView({block:"nearest"}),z===Ne&&E&&(E.scrollTop=0),z===me&&E&&(E.scrollTop=E.scrollHeight),z==null||z.focus(),document.activeElement!==ae))return},[R,E]),W=b.useCallback(()=>U([T,S]),[U,T,S]);b.useEffect(()=>{O&&W()},[O,W]);const{onOpenChange:V,triggerPointerDownPosRef:B}=w;b.useEffect(()=>{if(S){let be={x:0,y:0};const Ne=me=>{var ae,z;be={x:Math.abs(Math.round(me.pageX)-(((ae=B.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(me.pageY)-(((z=B.current)==null?void 0:z.y)??0))}},oe=me=>{be.x<=10&&be.y<=10?me.preventDefault():S.contains(me.target)||V(!1),document.removeEventListener("pointermove",Ne),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",oe,{capture:!0})}}},[S,V,B]),b.useEffect(()=>{const be=()=>V(!1);return window.addEventListener("blur",be),window.addEventListener("resize",be),()=>{window.removeEventListener("blur",be),window.removeEventListener("resize",be)}},[V]);const[Z,Q]=bF(be=>{const Ne=R().filter(ae=>!ae.disabled),oe=Ne.find(ae=>ae.ref.current===document.activeElement),me=wF(Ne,be,oe);me&&setTimeout(()=>me.ref.current.focus())}),ne=b.useCallback((be,Ne,oe)=>{const me=!F.current&&!oe;(w.value!==void 0&&w.value===Ne||me)&&(N(be),me&&(F.current=!0))},[w.value]),_e=b.useCallback(()=>S==null?void 0:S.focus(),[S]),Pe=b.useCallback((be,Ne,oe)=>{const me=!F.current&&!oe;(w.value!==void 0&&w.value===Ne||me)&&j(be)},[w.value]),Me=r==="popper"?fS:iF,st=Me===fS?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return u.jsx(nF,{scope:n,content:S,viewport:E,onViewportChange:P,itemRefCallback:ne,selectedItem:T,onItemLeave:_e,itemTextRefCallback:Pe,focusSelectedItem:W,selectedItemText:k,position:r,isPositioned:O,searchRef:Z,children:u.jsx(cC,{as:Tne,allowPinchZoom:!0,children:u.jsx(lC,{asChild:!0,trapped:w.open,onMountAutoFocus:be=>{be.preventDefault()},onUnmountAutoFocus:Le(i,be=>{var Ne;(Ne=w.trigger)==null||Ne.focus({preventScroll:!0}),be.preventDefault()}),children:u.jsx(zp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:be=>be.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(Me,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:be=>be.preventDefault(),...x,...st,onPlaced:()=>$(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Le(x.onKeyDown,be=>{const Ne=be.ctrlKey||be.altKey||be.metaKey;if(be.key==="Tab"&&be.preventDefault(),!Ne&&be.key.length===1&&Q(be.key),["ArrowUp","ArrowDown","Home","End"].includes(be.key)){let me=R().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(be.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(be.key)){const ae=be.target,z=me.indexOf(ae);me=me.slice(z+1)}setTimeout(()=>U(me)),be.preventDefault()}})})})})})})});rF.displayName=Ene;var Cne="SelectItemAlignedPosition",iF=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=xl(gc,n),s=bl(gc,n),[a,l]=b.useState(null),[c,d]=b.useState(null),f=mt(e,_=>d(_)),h=Qx(n),m=b.useRef(!1),y=b.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=s,S=b.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&v&&x){const _=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(o.dir!=="rtl"){const ae=k.left-T.left,z=N.left-ae,we=_.left-z,Ee=_.width+we,Qe=Math.max(Ee,T.width),Je=window.innerWidth-mo,nt=Yh(z,[mo,Math.max(mo,Je-Qe)]);a.style.minWidth=Ee+"px",a.style.left=nt+"px"}else{const ae=T.right-k.right,z=window.innerWidth-N.right-ae,we=window.innerWidth-_.right-z,Ee=_.width+we,Qe=Math.max(Ee,T.width),Je=window.innerWidth-mo,nt=Yh(z,[mo,Math.max(mo,Je-Qe)]);a.style.minWidth=Ee+"px",a.style.right=nt+"px"}const j=h(),R=window.innerHeight-mo*2,O=g.scrollHeight,$=window.getComputedStyle(c),F=parseInt($.borderTopWidth,10),U=parseInt($.paddingTop,10),W=parseInt($.borderBottomWidth,10),V=parseInt($.paddingBottom,10),B=F+U+O+V+W,Z=Math.min(v.offsetHeight*5,B),Q=window.getComputedStyle(g),ne=parseInt(Q.paddingTop,10),_e=parseInt(Q.paddingBottom,10),Pe=_.top+_.height/2-mo,Me=R-Pe,st=v.offsetHeight/2,be=v.offsetTop+st,Ne=F+U+be,oe=B-Ne;if(Ne<=Pe){const ae=j.length>0&&v===j[j.length-1].ref.current;a.style.bottom="0px";const z=c.clientHeight-g.offsetTop-g.offsetHeight,we=Math.max(Me,st+(ae?_e:0)+z+W),Ee=Ne+we;a.style.height=Ee+"px"}else{const ae=j.length>0&&v===j[0].ref.current;a.style.top="0px";const we=Math.max(Pe,F+g.offsetTop+(ae?ne:0)+st)+oe;a.style.height=we+"px",g.scrollTop=Ne-Pe+g.offsetTop}a.style.margin=`${mo}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,c,g,v,x,o.dir,r]);fr(()=>S(),[S]);const[C,E]=b.useState();fr(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const P=b.useCallback(_=>{_&&y.current===!0&&(S(),w==null||w(),y.current=!1)},[S,w]);return u.jsx(Pne,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:u.jsx(Xe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});iF.displayName=Cne;var Ane="SelectPopperPosition",fS=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=mo,...o}=t,s=Jx(n);return u.jsx(jL,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fS.displayName=Ane;var[Pne,gC]=Wd(gc,{}),hS="SelectViewport",oF=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=bl(hS,n),s=gC(hS,n),a=mt(e,o.onViewportChange),l=b.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Xx.Slot,{scope:n,children:u.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const y=window.innerHeight-mo*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<y){const w=x+m,S=Math.min(y,w),C=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});oF.displayName=hS;var sF="SelectGroup",[Nne,jne]=Wd(sF),Ine=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ls();return u.jsx(Nne,{scope:n,id:i,children:u.jsx(Xe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Ine.displayName=sF;var aF="SelectLabel",lF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=jne(aF,n);return u.jsx(Xe.div,{id:i.id,...r,ref:e})});lF.displayName=aF;var Yy="SelectItem",[kne,cF]=Wd(Yy),uF=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=xl(Yy,n),l=bl(Yy,n),c=a.value===r,[d,f]=b.useState(o??""),[h,m]=b.useState(!1),y=mt(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,i)}),g=ls(),v=b.useRef("touch"),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(kne,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:b.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:u.jsx(Xx.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Xe.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:y,onFocus:Le(s.onFocus,()=>m(!0)),onBlur:Le(s.onBlur,()=>m(!1)),onClick:Le(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Le(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Le(s.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Le(s.onPointerMove,w=>{var S;v.current=w.pointerType,i?(S=l.onItemLeave)==null||S.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(s.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:Le(s.onKeyDown,w=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&w.key===" "||(yne.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});uF.displayName=Yy;var Ff="SelectItemText",dF=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=xl(Ff,n),a=bl(Ff,n),l=cF(Ff,n),c=wne(Ff,n),[d,f]=b.useState(null),h=mt(e,x=>f(x),l.onItemTextChange,x=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,y=b.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return fr(()=>(g(y),()=>v(y)),[g,v,y]),u.jsxs(u.Fragment,{children:[u.jsx(Xe.span,{id:l.textId,...o,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ec.createPortal(o.children,s.valueNode):null]})});dF.displayName=Ff;var fF="SelectItemIndicator",hF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return cF(fF,n).isSelected?u.jsx(Xe.span,{"aria-hidden":!0,...r,ref:e}):null});hF.displayName=fF;var pS="SelectScrollUpButton",pF=b.forwardRef((t,e)=>{const n=bl(pS,t.__scopeSelect),r=gC(pS,t.__scopeSelect),[i,o]=b.useState(!1),s=mt(e,r.onScrollButtonChange);return fr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(gF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});pF.displayName=pS;var mS="SelectScrollDownButton",mF=b.forwardRef((t,e)=>{const n=bl(mS,t.__scopeSelect),r=gC(mS,t.__scopeSelect),[i,o]=b.useState(!1),s=mt(e,r.onScrollButtonChange);return fr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(gF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});mF.displayName=mS;var gF=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=bl("SelectScrollButton",n),s=b.useRef(null),a=Qx(n),l=b.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),fr(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Xe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Le(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{l()})})}),One="SelectSeparator",yF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Xe.div,{"aria-hidden":!0,...r,ref:e})});yF.displayName=One;var gS="SelectArrow",Rne=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Jx(n),o=xl(gS,n),s=bl(gS,n);return o.open&&s.position==="popper"?u.jsx(IL,{...i,...r,ref:e}):null});Rne.displayName=gS;function vF(t){return t===""||t===void 0}var xF=b.forwardRef((t,e)=>{const{value:n,...r}=t,i=b.useRef(null),o=mt(e,i),s=pC(n);return b.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[s,n]),u.jsx(Wp,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});xF.displayName="BubbleSelect";function bF(t){const e=Dn(t),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function wF(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Mne(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Mne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Dne=K5,SF=X5,$ne=J5,Lne=Z5,Fne=eF,_F=tF,Vne=oF,EF=lF,TF=uF,Bne=dF,Une=hF,CF=pF,AF=mF,PF=yF;const NF=Dne,jF=$ne,yC=b.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(SF,{ref:r,className:ct("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Lne,{asChild:!0,children:u.jsx(kh,{className:"h-4 w-4 opacity-50"})})]}));yC.displayName=SF.displayName;const IF=b.forwardRef(({className:t,...e},n)=>u.jsx(CF,{ref:n,className:ct("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(JW,{className:"h-4 w-4"})}));IF.displayName=CF.displayName;const kF=b.forwardRef(({className:t,...e},n)=>u.jsx(AF,{ref:n,className:ct("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(kh,{className:"h-4 w-4"})}));kF.displayName=AF.displayName;const vC=b.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(Fne,{children:u.jsxs(_F,{ref:i,className:ct("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(IF,{}),u.jsx(Vne,{className:ct("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(kF,{})]})}));vC.displayName=_F.displayName;const zne=b.forwardRef(({className:t,...e},n)=>u.jsx(EF,{ref:n,className:ct("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));zne.displayName=EF.displayName;const or=b.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(TF,{ref:r,className:ct("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Une,{children:u.jsx(G$,{className:"h-4 w-4"})})}),u.jsx(Bne,{children:e})]}));or.displayName=TF.displayName;const Wne=b.forwardRef(({className:t,...e},n)=>u.jsx(PF,{ref:n,className:ct("-mx-1 my-1 h-px bg-muted",t),...e}));Wne.displayName=PF.displayName;const Hne=[{value:"tempo",label:"Tempo (Shot Clock)"},{value:"velocity",label:"Velocity (Break Speed)"},{value:"truelevel",label:"TrueLevel (Table Gauge)"},{value:"vectors",label:"Vectors (Cueing Emulator)"},{value:"general",label:"General / App Overall"}];function qne(){const{promoCode:t,user:e}=Ud(),{toast:n}=Id(),[r,i]=b.useState(!1),[o,s]=b.useState(""),[a,l]=b.useState(0),[c,d]=b.useState(""),[f,h]=b.useState(!1);if(!((t==null?void 0:t.toUpperCase())==="EARLYBIRD"))return null;const y=async()=>{if(!o||a===0){n({title:"Missing info",description:"Please select a tool and rating",variant:"destructive"});return}h(!0);try{const g={tool:o,rating:a,comment:c,userId:(e==null?void 0:e.uid)||"anonymous",userEmail:(e==null?void 0:e.email)||"anonymous",promoCode:t,timestamp:new Date().toISOString()},v="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";v&&await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"feedback",...g})}),n({title:"Thank you!",description:"Your feedback helps us improve CueMaster Suite."}),i(!1),s(""),l(0),d("")}catch(g){console.error("Feedback error:",g),n({title:"Feedback sent",description:"Thank you for your input!"}),i(!1)}finally{h(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx(ue,{onClick:()=>i(!0),className:"fixed bottom-4 right-4 rounded-full w-14 h-14 shadow-lg z-50",size:"icon","data-testid":"button-feedback",children:u.jsx(ON,{className:"w-6 h-6"})}),u.jsx(Jr,{open:r,onOpenChange:i,children:u.jsxs(Wr,{className:"max-w-sm",children:[u.jsxs(br,{children:[u.jsxs(wr,{className:"flex items-center gap-2",children:[u.jsx(ON,{className:"w-5 h-5 text-primary"}),"Early Adopter Feedback"]}),u.jsx(Po,{children:"Thanks for being an early adopter! Your feedback shapes CueMaster."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Which tool?"}),u.jsxs(NF,{value:o,onValueChange:s,children:[u.jsx(yC,{"data-testid":"select-feedback-tool",children:u.jsx(jF,{placeholder:"Select a tool"})}),u.jsx(vC,{children:Hne.map(g=>u.jsx(or,{value:g.value,children:g.label},g.value))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rating"}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(g=>u.jsx("button",{onClick:()=>l(g),className:"p-1 transition-colors","data-testid":`button-star-${g}`,children:u.jsx(xH,{className:`w-8 h-8 ${g<=a?"fill-amber-400 text-amber-400":"text-muted-foreground"}`})},g))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comments (optional)"}),u.jsx(G5,{placeholder:"What's working? What could be better?",value:c,onChange:g=>d(g.target.value),rows:3,"data-testid":"textarea-feedback-comment"})]}),u.jsxs(ue,{onClick:y,className:"w-full gap-2",disabled:f,"data-testid":"button-submit-feedback",children:[u.jsx(yH,{className:"w-4 h-4"}),f?"Sending...":"Send Feedback"]})]})]})})]})}const Gne=Ex("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function OF({className:t,variant:e,...n}){return u.jsx("div",{className:ct(Gne({variant:e}),t),...n})}var Kne="Label",RF=b.forwardRef((t,e)=>u.jsx(Xe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RF.displayName=Kne;var MF=RF;const Yne=Ex("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),en=b.forwardRef(({className:t,...e},n)=>u.jsx(MF,{ref:n,className:ct(Yne(),t),...e}));en.displayName=MF.displayName;var ow="rovingFocusGroup.onEntryFocus",Xne={bubbles:!1,cancelable:!0},Zx="RovingFocusGroup",[yS,DF,Qne]=Up(Zx),[Jne,$F]=Mi(Zx,[Qne]),[Zne,ere]=Jne(Zx),LF=b.forwardRef((t,e)=>u.jsx(yS.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(yS.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(tre,{...t,ref:e})})}));LF.displayName=Zx;var tre=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=b.useRef(null),m=mt(e,h),y=zd(o),[g=null,v]=Do({prop:s,defaultProp:a,onChange:l}),[x,w]=b.useState(!1),S=Dn(c),C=DF(n),E=b.useRef(!1),[P,_]=b.useState(0);return b.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(ow,S),()=>T.removeEventListener(ow,S)},[S]),u.jsx(Zne,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:b.useCallback(T=>v(T),[v]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>_(T=>T-1),[]),children:u.jsx(Xe.div,{tabIndex:x||P===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Le(t.onMouseDown,()=>{E.current=!0}),onFocus:Le(t.onFocus,T=>{const N=!E.current;if(T.target===T.currentTarget&&N&&!x){const k=new CustomEvent(ow,Xne);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const j=C().filter(U=>U.focusable),R=j.find(U=>U.active),O=j.find(U=>U.id===g),F=[R,O,...j].filter(Boolean).map(U=>U.ref.current);BF(F,d)}}E.current=!1}),onBlur:Le(t.onBlur,()=>w(!1))})})}),FF="RovingFocusGroupItem",VF=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=ls(),l=o||a,c=ere(FF,n),d=c.currentTabStopId===l,f=DF(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return b.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),u.jsx(yS.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Xe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:Le(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:Le(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Le(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=ire(y,c.orientation,c.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const w=x.indexOf(y.currentTarget);x=c.loop?ore(x,w+1):x.slice(w+1)}setTimeout(()=>BF(x))}})})})});VF.displayName=FF;var nre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rre(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ire(t,e,n){const r=rre(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return nre[r]}function BF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ore(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sre=LF,are=VF,xC="Tabs",[lre,Qje]=Mi(xC,[$F]),UF=$F(),[cre,bC]=lre(xC),zF=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=zd(a),[f,h]=Do({prop:r,onChange:i,defaultProp:o});return u.jsx(cre,{scope:n,baseId:ls(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx(Xe.div,{dir:d,"data-orientation":s,...c,ref:e})})});zF.displayName=xC;var WF="TabsList",HF=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=bC(WF,n),s=UF(n);return u.jsx(sre,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:u.jsx(Xe.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});HF.displayName=WF;var qF="TabsTrigger",GF=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=bC(qF,n),a=UF(n),l=XF(s.baseId,r),c=QF(s.baseId,r),d=r===s.value;return u.jsx(are,{asChild:!0,...a,focusable:!i,active:d,children:u.jsx(Xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:Le(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:Le(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:Le(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});GF.displayName=qF;var KF="TabsContent",YF=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=bC(KF,n),l=XF(a.baseId,r),c=QF(a.baseId,r),d=r===a.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(no,{present:i||d,children:({present:h})=>u.jsx(Xe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});YF.displayName=KF;function XF(t,e){return`${t}-trigger-${e}`}function QF(t,e){return`${t}-content-${e}`}var ure=zF,JF=HF,ZF=GF,eV=YF;const tV=ure,wC=b.forwardRef(({className:t,...e},n)=>u.jsx(JF,{ref:n,className:ct("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));wC.displayName=JF.displayName;const Va=b.forwardRef(({className:t,...e},n)=>u.jsx(ZF,{ref:n,className:ct("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Va.displayName=ZF.displayName;const Ba=b.forwardRef(({className:t,...e},n)=>u.jsx(eV,{ref:n,className:ct("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ba.displayName=eV.displayName;function dre(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var SC="ScrollArea",[nV,Jje]=Mi(SC),[fre,ro]=nV(SC),rV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=b.useState(null),[c,d]=b.useState(null),[f,h]=b.useState(null),[m,y]=b.useState(null),[g,v]=b.useState(null),[x,w]=b.useState(0),[S,C]=b.useState(0),[E,P]=b.useState(!1),[_,T]=b.useState(!1),N=mt(e,j=>l(j)),k=zd(i);return u.jsx(fre,{scope:n,type:r,dir:k,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:C,children:u.jsx(Xe.div,{dir:k,...s,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});rV.displayName=SC;var iV="ScrollAreaViewport",oV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=ro(iV,n),a=b.useRef(null),l=mt(e,a,s.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});oV.displayName=iV;var _s="ScrollAreaScrollbar",_C=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ro(_s,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return b.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?u.jsx(hre,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(pre,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(sV,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(EC,{...r,ref:e}):null});_C.displayName=_s;var hre=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ro(_s,t.__scopeScrollArea),[o,s]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(no,{present:n||o,children:u.jsx(sV,{"data-state":o?"visible":"hidden",...r,ref:e})})}),pre=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ro(_s,t.__scopeScrollArea),o=t.orientation==="horizontal",s=t0(()=>l("SCROLL_END"),100),[a,l]=dre("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),b.useEffect(()=>{const c=i.viewport,d=o?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const m=c[d];f!==m&&(l("SCROLL"),s()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),u.jsx(no,{present:n||a!=="hidden",children:u.jsx(EC,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Le(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Le(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),sV=b.forwardRef((t,e)=>{const n=ro(_s,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=b.useState(!1),a=t.orientation==="horizontal",l=t0(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:d)}},10);return od(n.viewport,l),od(n.content,l),u.jsx(no,{present:r||o,children:u.jsx(EC,{"data-state":o?"visible":"hidden",...i,ref:e})})}),EC=b.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ro(_s,t.__scopeScrollArea),o=b.useRef(null),s=b.useRef(0),[a,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=dV(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return bre(h,s.current,a,m)}return n==="horizontal"?u.jsx(mre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,m=AI(h,a,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(gre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,m=AI(h,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),mre=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=ro(_s,t.__scopeScrollArea),[s,a]=b.useState(),l=b.useRef(null),c=mt(e,l,o.onScrollbarXChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(lV,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":e0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),hV(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Qy(s.paddingLeft),paddingEnd:Qy(s.paddingRight)}})}})}),gre=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=ro(_s,t.__scopeScrollArea),[s,a]=b.useState(),l=b.useRef(null),c=mt(e,l,o.onScrollbarYChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(lV,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":e0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),hV(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Qy(s.paddingTop),paddingEnd:Qy(s.paddingBottom)}})}})}),[yre,aV]=nV(_s),lV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,m=ro(_s,n),[y,g]=b.useState(null),v=mt(e,N=>g(N)),x=b.useRef(null),w=b.useRef(""),S=m.viewport,C=r.content-r.viewport,E=Dn(d),P=Dn(l),_=t0(f,10);function T(N){if(x.current){const k=N.clientX-x.current.left,j=N.clientY-x.current.top;c({x:k,y:j})}}return b.useEffect(()=>{const N=k=>{const j=k.target;(y==null?void 0:y.contains(j))&&E(k,C)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[S,y,C,E]),b.useEffect(P,[r,P]),od(y,_),od(m.content,_),u.jsx(yre,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:Dn(o),onThumbPointerUp:Dn(s),onThumbPositionChange:P,onThumbPointerDown:Dn(a),children:u.jsx(Xe.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Le(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(N))}),onPointerMove:Le(t.onPointerMove,T),onPointerUp:Le(t.onPointerUp,N=>{const k=N.target;k.hasPointerCapture(N.pointerId)&&k.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Xy="ScrollAreaThumb",cV=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=aV(Xy,t.__scopeScrollArea);return u.jsx(no,{present:n||i.hasThumb,children:u.jsx(vre,{ref:e,...r})})}),vre=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=ro(Xy,n),s=aV(Xy,n),{onThumbPositionChange:a}=s,l=mt(e,f=>s.onThumbChange(f)),c=b.useRef(void 0),d=t0(()=>{c.current&&(c.current(),c.current=void 0)},100);return b.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!c.current){const m=wre(f,a);c.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,a]),u.jsx(Xe.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;s.onThumbPointerDown({x:y,y:g})}),onPointerUp:Le(t.onPointerUp,s.onThumbPointerUp)})});cV.displayName=Xy;var TC="ScrollAreaCorner",uV=b.forwardRef((t,e)=>{const n=ro(TC,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(xre,{...t,ref:e}):null});uV.displayName=TC;var xre=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ro(TC,n),[o,s]=b.useState(0),[a,l]=b.useState(0),c=!!(o&&a);return od(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),od(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),c?u.jsx(Xe.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Qy(t){return t?parseInt(t,10):0}function dV(t,e){const n=t/e;return isNaN(n)?0:n}function e0(t){const e=dV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function bre(t,e,n,r="ltr"){const i=e0(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return fV([l,c],f)(t)}function AI(t,e,n="ltr"){const r=e0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Yh(t,l);return fV([0,s],[0,a])(c)}function fV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function hV(t,e){return t>0&&t<e}var wre=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function t0(t,e){const n=Dn(t),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function od(t,e){const n=Dn(e);fr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var pV=rV,Sre=oV,_re=uV;const CC=b.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(pV,{ref:r,className:ct("relative overflow-hidden",t),...n,children:[u.jsx(Sre,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(mV,{}),u.jsx(_re,{})]}));CC.displayName=pV.displayName;const mV=b.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(_C,{ref:r,orientation:e,className:ct("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(cV,{className:"relative flex-1 rounded-full bg-border"})}));mV.displayName=_C.displayName;const sw="shotclock_sessions";function Ere({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("circle",{cx:"24",cy:"24",r:"20",strokeDasharray:"4 2"}),u.jsx("circle",{cx:"24",cy:"24",r:"16"}),u.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"10",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"}),u.jsx("line",{x1:"24",y1:"24",x2:"32",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]})}function Tre({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"2",y:"18",width:"44",height:"12",rx:"2"}),u.jsx("rect",{x:"16",y:"20",width:"16",height:"8",rx:"4",strokeWidth:"1.5"}),u.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"currentColor"}),u.jsx("line",{x1:"24",y1:"20",x2:"24",y2:"21",strokeWidth:"1"}),u.jsx("line",{x1:"24",y1:"27",x2:"24",y2:"28",strokeWidth:"1"}),u.jsx("line",{x1:"6",y1:"24",x2:"8",y2:"24",strokeWidth:"1.5"}),u.jsx("line",{x1:"40",y1:"24",x2:"42",y2:"24",strokeWidth:"1.5"})]})}function Cre({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("path",{d:"M6 38 A22 22 0 0 1 42 38",strokeLinecap:"round"}),u.jsx("line",{x1:"24",y1:"36",x2:"34",y2:"18",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"36",r:"3",fill:"currentColor"}),u.jsx("line",{x1:"10",y1:"28",x2:"10",y2:"24",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"16",y1:"18",x2:"18",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"10",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"32",y1:"18",x2:"30",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"38",y1:"28",x2:"38",y2:"24",strokeWidth:"2",strokeLinecap:"round"})]})}function Are({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("circle",{cx:"24",cy:"24",r:"10"}),u.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"4",strokeWidth:"2",markerEnd:"url(#arrowUp)"}),u.jsx("line",{x1:"24",y1:"34",x2:"24",y2:"44",strokeWidth:"2"}),u.jsx("line",{x1:"14",y1:"24",x2:"4",y2:"24",strokeWidth:"2"}),u.jsx("line",{x1:"34",y1:"24",x2:"44",y2:"24",strokeWidth:"2"}),u.jsx("path",{d:"M24 4 L22 8 L26 8 Z",fill:"currentColor"}),u.jsx("path",{d:"M44 24 L40 22 L40 26 Z",fill:"currentColor"}),u.jsx("path",{d:"M38 10 L24 24",strokeWidth:"2",strokeDasharray:"3 2"}),u.jsx("circle",{cx:"38",cy:"10",r:"3",fill:"currentColor"}),u.jsx("path",{d:"M10 38 C16 32, 20 28, 24 24",strokeWidth:"2",strokeDasharray:"3 2"})]})}const PI="cuemaster_dev_mode";function Pre(){const{promoCode:t}=Ud();return(t==null?void 0:t.toUpperCase())==="EARLYBIRD"?u.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(q$,{className:"w-5 h-5 text-amber-500"}),u.jsxs("div",{children:[u.jsx(OF,{variant:"secondary",className:"bg-amber-500/20 text-amber-500 border-amber-500/30",children:"Early Adopter"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Thanks for being an early supporter! Use the feedback button to share your thoughts."})]})]})}):null}function Nre(){const[,t]=vl(),[e,n]=b.useState(!1),{theme:r,toggleTheme:i,colorTheme:o,setColorTheme:s}=IG(),{user:a,isPro:l,promoCode:c,signInWithGoogle:d,signOut:f}=Ud(),[h,m]=b.useState([]),[y,g]=b.useState(!1),[v,x]=b.useState(0),w=b.useRef(null),S=b.useRef(0),[C,E]=b.useState(!1),[P,_]=b.useState(Tt.getConsent());b.useEffect(()=>{localStorage.getItem(PI)==="true"&&g(!0),Tt.isFirstLaunch()&&E(!0)},[]);const T=$=>{if($.type==="click"&&S.current>Date.now()-300||($.type==="touchend"&&(S.current=Date.now(),$.preventDefault()),y))return;const F=v+1;x(F),w.current&&clearTimeout(w.current),F>=7?(g(!0),localStorage.setItem(PI,"true"),x(0)):w.current=setTimeout(()=>x(0),2e3)};b.useEffect(()=>{const $=()=>{try{const U=localStorage.getItem(sw);if(U){const W=JSON.parse(U);Array.isArray(W)&&m(W)}}catch(U){console.error("Failed to parse sessions:",U),m([])}};$();const F=()=>$();return window.addEventListener("storage",F),()=>window.removeEventListener("storage",F)},[]);const N=()=>{localStorage.removeItem(sw),m([])},k=$=>{const F=h.filter(U=>U.id!==$);localStorage.setItem(sw,JSON.stringify(F)),m(F)},j=$=>new Date($).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=$=>{const F=Math.floor($/60),U=Math.floor($%60);return F>0?`${F}m ${U}s`:`${U.toFixed(1)}s`},O=$=>$.stats.shotDurations.length===0?0:$.stats.shotDurations.reduce((U,W)=>U+W,0)/$.stats.shotDurations.length;return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("div",{onClick:()=>{confirm("Clear all site data and start fresh? This will reset everything.")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},className:"cursor-pointer select-none","data-testid":"logo-reset",children:[u.jsx("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"CUEMASTER"}),u.jsxs("p",{className:`text-sm font-light ${l?(c==null?void 0:c.toUpperCase())==="PROMETHEAN"?"text-[#d11111] font-medium":(c==null?void 0:c.toUpperCase())==="CUEMASTER2026"?"text-green-500 font-medium":"text-sky-400 font-medium":"text-muted-foreground"}`,children:["Suite",l&&" Pro"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{onClick:T,onTouchEnd:T,className:"cursor-default select-none touch-manipulation",children:u.jsx(Zee,{})}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/insights"),"data-testid":"button-insights",children:u.jsx(lc,{className:"w-5 h-5"})}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>n(!0),"data-testid":"button-settings",children:u.jsx(tT,{className:"w-5 h-5"})})]})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Tool"}),u.jsx("p",{className:"text-muted-foreground",children:"Professional billiards companion utilities"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Zm,{icon:u.jsx(Are,{}),title:"Vectors",subtitle:"CueMaster",description:"Test spin, angles, and speed before you ever pull the trigger.",onClick:()=>t("/cue-emulator"),testId:"card-cue-emulator",proFeature:!0,isProUser:l}),u.jsx(Zm,{icon:u.jsx(Tre,{}),title:"TrueLevel",subtitle:"CueMaster",description:"Verify your battlefield. No excuses, no hidden slopes.",onClick:()=>t("/table-level"),testId:"card-table-level",proFeature:!0,isProUser:l}),u.jsx(Zm,{icon:u.jsx(Ere,{}),title:"Tempo",subtitle:"CueMaster",description:"Own the pace of play  solo drills or match pressure, on a clock.",onClick:()=>t("/shot-clock"),testId:"card-shot-clock",proFeature:!0,isProUser:l}),u.jsx(Zm,{icon:u.jsx(Cre,{}),title:"Velocity",subtitle:"CueMaster",description:"Dial in raw power with break speed you can actually measure.",onClick:()=>t("/break-speed"),testId:"card-break-speed",proFeature:!0,isProUser:l})]})]})}),u.jsx("footer",{className:"py-4 px-6 text-center border-t",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:" Promethean Games. Promethean-Games.com, All rights reserved."})}),u.jsx(Jr,{open:e,onOpenChange:n,children:u.jsxs(Wr,{className:"max-w-md max-h-[85vh] overflow-hidden flex flex-col",children:[u.jsx(br,{className:"flex-shrink-0",children:u.jsx(wr,{children:"Settings"})}),u.jsxs(tV,{defaultValue:"appearance",className:"flex-1 overflow-hidden flex flex-col",children:[u.jsxs(wC,{className:"grid w-full grid-cols-4 flex-shrink-0",children:[u.jsxs(Va,{value:"profile","data-testid":"tab-profile",children:[u.jsx(Zf,{className:"w-4 h-4 mr-1"}),"Profile"]}),u.jsxs(Va,{value:"appearance","data-testid":"tab-appearance",children:[u.jsx(RN,{className:"w-4 h-4 mr-1"}),"Theme"]}),u.jsxs(Va,{value:"analytics","data-testid":"tab-analytics",children:[u.jsx(Rh,{className:"w-4 h-4 mr-1"}),"Privacy"]}),u.jsxs(Va,{value:"history","data-testid":"tab-history",children:[u.jsx(k1,{className:"w-4 h-4 mr-1"}),"History"]})]}),u.jsxs(Ba,{value:"profile",className:"flex-1 overflow-auto mt-4 space-y-4",children:[u.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${a?"bg-primary/20":"bg-muted"}`,children:u.jsx(Zf,{className:`w-6 h-6 ${a?"text-primary":"text-muted-foreground"}`})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold",children:a?a.displayName||a.email||"Signed In":"Guest User"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:a?a.email:"Not signed in"})]})]}),u.jsx("div",{className:"flex items-center gap-2 text-sm",children:a?u.jsxs(u.Fragment,{children:[u.jsx(eH,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{className:"text-green-500 font-medium",children:"Cloud Sync Active"})]}):u.jsxs(u.Fragment,{children:[u.jsx(tH,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Local Storage Only"})]})})]}),u.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-3",children:[u.jsx(en,{className:"text-sm font-medium",children:"Pro Status"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(q$,{className:`w-5 h-5 ${l?"text-primary":"text-muted-foreground"}`}),u.jsx("span",{className:l?"font-medium":"text-muted-foreground",children:l?"Pro Unlocked":"Free Version"})]}),l&&c&&u.jsx(OF,{variant:"outline",className:c.toUpperCase()==="PROMETHEAN"?"border-[#d11111] text-[#d11111]":c.toUpperCase()==="CUEMASTER2026"?"border-green-500 text-green-500":"border-sky-400 text-sky-400",children:c.toUpperCase()})]}),l&&u.jsx("p",{className:"text-xs text-muted-foreground",children:a?"Pro status synced to your account":"Pro status stored locally on this device"})]}),u.jsx("div",{className:"space-y-2",children:a?u.jsxs(ue,{variant:"outline",className:"w-full",onClick:async()=>{await f()},"data-testid":"button-sign-out",children:[u.jsx(aH,{className:"w-4 h-4 mr-2"}),"Sign Out"]}):u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Sign in to sync your Pro status across devices"}),u.jsxs(ue,{variant:"outline",className:"w-full",onClick:async()=>{await d()},"data-testid":"button-sign-in-google",children:[u.jsx(R1,{className:"w-4 h-4 mr-2"}),"Sign in with Google"]})]})}),a&&u.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:[u.jsx("p",{children:"App Version: v0.9.8"}),u.jsxs("p",{className:"mt-1",children:["Last synced: ",new Date().toLocaleString()]})]})]}),u.jsxs(Ba,{value:"appearance",className:"flex-1 overflow-auto mt-4 space-y-6",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(en,{htmlFor:"theme-toggle",className:"flex items-center gap-2",children:[r==="dark"?u.jsx(hH,{className:"w-4 h-4"}):u.jsx(bH,{className:"w-4 h-4"}),"Theme Mode"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:r==="dark"?"Dark":"Light"}),u.jsx(Pi,{id:"theme-toggle",checked:r==="dark",onCheckedChange:i,"data-testid":"switch-theme"})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(RN,{className:"w-4 h-4"}),"Accent Color"]}),u.jsx("div",{className:"grid grid-cols-4 gap-3 p-1",children:$g.map($=>u.jsx("button",{onClick:()=>s($),className:`relative aspect-square rounded-lg transition-all ${o.id===$.id?"ring-2 ring-offset-2 ring-offset-background ring-foreground":""}`,style:{backgroundColor:`hsl(${$.primary})`},title:$.name,"data-testid":`button-color-${$.id}`,children:o.id===$.id&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})},$.id))}),u.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",o.name]})]})]}),u.jsxs(Ba,{value:"analytics",className:"flex-1 overflow-auto mt-4 space-y-4",children:[u.jsx(Pre,{}),u.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Rh,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-semibold text-sm",children:"Your Privacy"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All data stays on your device. No account required. Export or delete anytime."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(en,{className:"text-sm font-medium",children:"Data Collection"}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use and session duration"})]}),u.jsx(Pi,{checked:P.usageStats,onCheckedChange:$=>{const F={...P,usageStats:$};_(F),Tt.setConsent(F)},"data-testid":"switch-settings-usage"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record performance data for personal insights"})]}),u.jsx(Pi,{checked:P.skillMetrics,onCheckedChange:$=>{const F={...P,skillMetrics:$};_(F),Tt.setConsent(F)},"data-testid":"switch-settings-skills"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Benchmarking"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anonymous comparison with other players",!P.usageStats&&u.jsx("span",{className:"text-primary",children:" (Enables Usage Stats)"})]})]}),u.jsx(Pi,{checked:P.benchmarking,onCheckedChange:$=>{const F={...P,benchmarking:$,usageStats:$?!0:P.usageStats};_(F),Tt.setConsent(F)},"data-testid":"switch-settings-benchmark"})]})]}),u.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[u.jsx(en,{className:"text-sm font-medium",children:"Data Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const $=Tt.exportData(),F=new Blob([$],{type:"application/json"}),U=URL.createObjectURL(F),W=document.createElement("a");W.href=U,W.download=`cuemaster-data-${new Date().toISOString().split("T")[0]}.json`,W.click(),URL.revokeObjectURL(U)},"data-testid":"button-export-data",children:[u.jsx(Y$,{className:"w-4 h-4 mr-2"}),"Export"]}),u.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>{confirm("Delete all analytics data? This cannot be undone.")&&Tt.deleteAllData()},"data-testid":"button-delete-data",children:[u.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Delete All"]})]})]})]}),u.jsxs(Ba,{value:"history",className:"flex-1 overflow-hidden mt-4 flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(Oh,{className:"w-4 h-4"}),"Shot Clock Sessions"]}),h.length>0&&u.jsxs(ue,{variant:"ghost",size:"sm",onClick:N,className:"text-destructive hover:text-destructive","data-testid":"button-clear-sessions",children:[u.jsx(Ey,{className:"w-4 h-4 mr-1"}),"Clear All"]})]}),u.jsx(CC,{className:"flex-1",children:h.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(k1,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{className:"text-sm",children:"No session history yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Complete a Shot Clock session to see stats here"})]}):u.jsx("div",{className:"space-y-3 pr-3",children:h.map($=>u.jsxs(et,{className:"p-3","data-testid":`card-session-${$.id}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:$.stats.playerNames.join(" vs ")}),u.jsx("p",{className:"text-xs text-muted-foreground",children:j($.date)})]}),u.jsx(ue,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>k($.id),"data-testid":`button-delete-session-${$.id}`,children:u.jsx(Hp,{className:"w-3 h-3"})})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(nT,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:R(O($))}),u.jsx("p",{className:"text-muted-foreground",children:"Avg"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(Hc,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:$.stats.shotCount}),u.jsx("p",{className:"text-muted-foreground",children:"Shots"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(Oh,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:$.stats.totalExtensions}),u.jsx("p",{className:"text-muted-foreground",children:"Ext"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(rT,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:$.stats.timeouts}),u.jsx("p",{className:"text-muted-foreground",children:"T/O"})]})]})]},$.id))})})]})]})]})}),u.jsx(pne,{open:C,onComplete:()=>{E(!1),_(Tt.getConsent())}}),u.jsx(qne,{})]})}var AC="Collapsible",[jre,gV]=Mi(AC),[Ire,PC]=jre(AC),yV=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=t,[l=!1,c]=Do({prop:r,defaultProp:i,onChange:s});return u.jsx(Ire,{scope:n,disabled:o,contentId:ls(),open:l,onOpenToggle:b.useCallback(()=>c(d=>!d),[c]),children:u.jsx(Xe.div,{"data-state":kC(l),"data-disabled":o?"":void 0,...a,ref:e})})});yV.displayName=AC;var vV="CollapsibleTrigger",NC=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=PC(vV,n);return u.jsx(Xe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":kC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Le(t.onClick,i.onOpenToggle)})});NC.displayName=vV;var jC="CollapsibleContent",IC=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=PC(jC,t.__scopeCollapsible);return u.jsx(no,{present:n||i.open,children:({present:o})=>u.jsx(kre,{...r,ref:e,present:o})})});IC.displayName=jC;var kre=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=t,s=PC(jC,n),[a,l]=b.useState(r),c=b.useRef(null),d=mt(e,c),f=b.useRef(0),h=f.current,m=b.useRef(0),y=m.current,g=s.open||a,v=b.useRef(g),x=b.useRef(void 0);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),fr(()=>{const w=c.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();f.current=S.height,m.current=S.width,v.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),l(r)}},[s.open,r]),u.jsx(Xe.div,{"data-state":kC(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&i})});function kC(t){return t?"open":"closed"}var xV=yV,Ore=NC,Rre=IC;const NI=xV,jI=NC,II=IC,cr=b.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:ct("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cr.displayName="Input";var ua="Accordion",Mre=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[OC,Dre,$re]=Up(ua),[n0,Zje]=Mi(ua,[$re,gV]),RC=gV(),bV=H.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,o=r;return u.jsx(OC.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?u.jsx(Bre,{...o,ref:e}):u.jsx(Vre,{...i,ref:e})})});bV.displayName=ua;var[wV,Lre]=n0(ua),[SV,Fre]=n0(ua,{collapsible:!1}),Vre=H.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=t,[a,l]=Do({prop:n,defaultProp:r,onChange:i});return u.jsx(wV,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:H.useCallback(()=>o&&l(""),[o,l]),children:u.jsx(SV,{scope:t.__scopeAccordion,collapsible:o,children:u.jsx(_V,{...s,ref:e})})})}),Bre=H.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=Do({prop:n,defaultProp:r,onChange:i}),l=H.useCallback(d=>a((f=[])=>[...f,d]),[a]),c=H.useCallback(d=>a((f=[])=>f.filter(h=>h!==d)),[a]);return u.jsx(wV,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:c,children:u.jsx(SV,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(_V,{...o,ref:e})})})}),[Ure,r0]=n0(ua),_V=H.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=t,a=H.useRef(null),l=mt(a,e),c=Dre(n),f=zd(i)==="ltr",h=Le(t.onKeyDown,m=>{var T;if(!Mre.includes(m.key))return;const y=m.target,g=c().filter(N=>{var k;return!((k=N.ref.current)!=null&&k.disabled)}),v=g.findIndex(N=>N.ref.current===y),x=g.length;if(v===-1)return;m.preventDefault();let w=v;const S=0,C=x-1,E=()=>{w=v+1,w>C&&(w=S)},P=()=>{w=v-1,w<S&&(w=C)};switch(m.key){case"Home":w=S;break;case"End":w=C;break;case"ArrowRight":o==="horizontal"&&(f?E():P());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?P():E());break;case"ArrowUp":o==="vertical"&&P();break}const _=w%x;(T=g[_].ref.current)==null||T.focus()});return u.jsx(Ure,{scope:n,disabled:r,direction:i,orientation:o,children:u.jsx(OC.Slot,{scope:n,children:u.jsx(Xe.div,{...s,"data-orientation":o,ref:l,onKeyDown:r?void 0:h})})})}),Jy="AccordionItem",[zre,MC]=n0(Jy),EV=H.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,o=r0(Jy,n),s=Lre(Jy,n),a=RC(n),l=ls(),c=r&&s.value.includes(r)||!1,d=o.disabled||t.disabled;return u.jsx(zre,{scope:n,open:c,disabled:d,triggerId:l,children:u.jsx(xV,{"data-orientation":o.orientation,"data-state":jV(c),...a,...i,ref:e,disabled:d,open:c,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})})});EV.displayName=Jy;var TV="AccordionHeader",CV=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=r0(ua,n),o=MC(TV,n);return u.jsx(Xe.h3,{"data-orientation":i.orientation,"data-state":jV(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});CV.displayName=TV;var vS="AccordionTrigger",AV=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=r0(ua,n),o=MC(vS,n),s=Fre(vS,n),a=RC(n);return u.jsx(OC.ItemSlot,{scope:n,children:u.jsx(Ore,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...a,...r,ref:e})})});AV.displayName=vS;var PV="AccordionContent",NV=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=r0(ua,n),o=MC(PV,n),s=RC(n);return u.jsx(Rre,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...s,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});NV.displayName=PV;function jV(t){return t?"open":"closed"}var Wre=bV,Hre=EV,qre=CV,IV=AV,kV=NV;const Zy=Wre,Zo=b.forwardRef(({className:t,...e},n)=>u.jsx(Hre,{ref:n,className:ct("border-b",t),...e}));Zo.displayName="AccordionItem";const es=b.forwardRef(({className:t,children:e,...n},r)=>u.jsx(qre,{className:"flex",children:u.jsxs(IV,{ref:r,className:ct("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,u.jsx(kh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));es.displayName=IV.displayName;const ts=b.forwardRef(({className:t,children:e,...n},r)=>u.jsx(kV,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:ct("pb-4 pt-0",t),children:e})}));ts.displayName=kV.displayName;const Gre=["CUEMASTER2026","PROMETHEAN","EARLYBIRD"];function Kre(t){return Gre.includes(t.toUpperCase().trim())}function ev({className:t=""}){return u.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 bg-gradient-to-r from-amber-500 to-yellow-400 text-black rounded-full ${t}`,children:u.jsx(Ll,{className:"w-3 h-3"})})}function Xg({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,signInWithFacebook:i,unlockPro:o,isLoading:s}=Ud(),[a,l]=b.useState(""),[c,d]=b.useState(""),[f,h]=b.useState(!1),[m,y]=b.useState(!1),g=async w=>{if(w.preventDefault(),!Kre(a)){d("Invalid promo code. Please try again.");return}h(!0);const S=await o(a);h(!1),S?y(!0):d("Failed to unlock. Please try again.")},v=()=>{m?window.location.reload():e(!1)},x=[{icon:Mh,title:"Practice Courses",desc:"Guided shot scenarios in Vectors to sharpen your skills"},{icon:_y,title:"Scotch Doubles Mode",desc:"Team-based timing for partner play in Tempo"},{icon:J$,title:"Shark Mode",desc:"Compare your break speed to the pros in Velocity"},{icon:rH,title:"Calibration Presets",desc:"Save table profiles for different venues in TrueLevel"},{icon:MN,title:"Early Access",desc:"Be first to try new features and updates"},{icon:Ll,title:"Pro Badge",desc:"Light-blue 'Suite' text shows your Pro status"}];return u.jsx(Jr,{open:t,onOpenChange:v,children:u.jsx(Wr,{className:"max-w-sm max-h-[85vh] flex flex-col",children:m?u.jsxs(u.Fragment,{children:[u.jsxs(br,{className:"text-center",children:[u.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-br from-amber-500/20 to-yellow-400/20 rounded-full w-fit",children:u.jsx(MN,{className:"w-12 h-12 text-amber-500 animate-pulse"})}),u.jsx(wr,{className:"text-2xl text-center",children:"Welcome to the Pro League!"}),u.jsx(Po,{className:"text-center",children:"You've unlocked the full CueMaster experience. Time to dominate the table!"})]}),u.jsx(CC,{className:"flex-1 max-h-[300px] pr-4",children:u.jsxs("div",{className:"space-y-3 py-2",children:[u.jsx("p",{className:"text-sm font-semibold text-primary mb-3",children:"Your new superpowers:"}),x.map((w,S)=>u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 border border-primary/20",children:[u.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:u.jsx(w.icon,{className:"w-4 h-4 text-primary"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-sm",children:w.title}),u.jsx(G$,{className:"w-3 h-3 text-green-500"})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w.desc})]})]},S))]})}),u.jsxs(ue,{onClick:v,className:"w-full gap-2 mt-4","data-testid":"button-start-pro",children:[u.jsx(Ll,{className:"w-4 h-4"}),"Let's Go!"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(br,{children:[u.jsxs(wr,{className:"flex items-center gap-2",children:[u.jsx(Ll,{className:"w-5 h-5 text-amber-500"}),"Upgrade to Pro"]}),u.jsx(Po,{children:n?"Enter a promo code to unlock all premium features.":"Sign in to sync your Pro status across devices, or enter a promo code."})]}),!n&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs(ue,{variant:"outline",className:"w-full gap-2",onClick:r,disabled:s,"data-testid":"button-google-signin",children:[u.jsx(R1,{className:"w-4 h-4"}),"Sign in with Google"]}),u.jsxs(ue,{variant:"outline",className:"w-full gap-2",onClick:i,disabled:s,"data-testid":"button-facebook-signin",children:[u.jsx(R1,{className:"w-4 h-4"}),"Sign in with Facebook"]})]}),n&&u.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["Signed in as ",n.displayName||n.email]}),u.jsxs("form",{onSubmit:g,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(cr,{placeholder:"Enter promo code",value:a,onChange:w=>{l(w.target.value),d("")},className:"text-center uppercase tracking-widest","data-testid":"input-promo-code"}),c&&u.jsx("p",{className:"text-sm text-destructive mt-2",children:c})]}),u.jsxs(ue,{type:"submit",className:"w-full gap-2",disabled:f,"data-testid":"button-submit-promo",children:[u.jsx(Ll,{className:"w-4 h-4"}),f?"Unlocking...":"Unlock Pro"]})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Full payment integration coming soon."})]})})})}function tv({children:t,isLocked:e=!0,featureName:n="This feature",variant:r="blur",onUpgradeClick:i}){const[o,s]=b.useState(!1),{isPro:a}=Ud();if(a||!e)return u.jsx(u.Fragment,{children:t});const l=()=>{i?i():s(!0)};return r==="badge"?u.jsxs("div",{className:"relative",children:[t,u.jsx("div",{className:"absolute top-1 right-1",children:u.jsx(ev,{})}),u.jsx(Xg,{open:o,onOpenChange:s})]}):r==="overlay"?u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"opacity-50 pointer-events-none select-none",children:t}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg",children:[u.jsx(O1,{className:"w-8 h-8 text-muted-foreground mb-2"}),u.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n," requires Pro"]}),u.jsxs(ue,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[u.jsx(Ll,{className:"w-4 h-4"}),"Upgrade to Pro"]})]}),u.jsx(Xg,{open:o,onOpenChange:s})]}):u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"blur-sm opacity-60 pointer-events-none select-none",children:t}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:u.jsxs("div",{className:"bg-background/90 backdrop-blur-sm p-4 rounded-lg text-center border shadow-lg",children:[u.jsx(O1,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),u.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:n}),u.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Unlock with CueMaster Pro"}),u.jsxs(ue,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[u.jsx(Ll,{className:"w-4 h-4"}),"Upgrade"]})]})}),u.jsx(Xg,{open:o,onOpenChange:s})]})}function Yre({children:t,isLocked:e=!0,onClick:n,...r}){const[i,o]=b.useState(!1),{isPro:s}=Ud();if(s||!e)return u.jsx(ue,{onClick:n,...r,children:t});const a=l=>{l.preventDefault(),o(!0)};return u.jsxs(u.Fragment,{children:[u.jsxs(ue,{onClick:a,...r,className:`relative ${r.className||""}`,children:[t,u.jsx("span",{className:"absolute -top-1 -right-1",children:u.jsx(ev,{})})]}),u.jsx(Xg,{open:i,onOpenChange:o})]})}const Bc=["mph","kph","m/s","ft/s"],Qg={"7' (bar)":{W:39,L:78},"8' (standard)":{W:44,L:88},"8' (pro)":{W:46,L:92},"9' (tournament)":{W:50,L:100}},kI=Object.keys(Qg),qo=(t,e,n)=>Math.min(n,Math.max(e,t)),Xre=.0254,ns=2.25,js=ns/2,OV="cuemaster-velocity-v1";function Qre(){try{const t=localStorage.getItem(OV);return t?JSON.parse(t):null}catch{return null}}function Jre(t){try{localStorage.setItem(OV,JSON.stringify(t))}catch{}}function Zre(t,e,n){const r=3*n/4,i=e/2,o=[];if(t==="8"){const s=[1,2,3,4,5];for(let a=0;a<s.length;a++){const l=s[a],c=r+a*ns,d=(l-1)*ns;for(let f=0;f<l;f++)o.push({x:i-d/2+f*ns,y:c,row:a,idx:f,n:l})}}else{const s=[1,2,3,2,1];for(let a=0;a<s.length;a++){const l=s[a],c=r+a*ns,d=(l-1)*ns;for(let f=0;f<l;f++)o.push({x:i-d/2+f*ns,y:c,row:a,idx:f,n:l})}}return o}function eie(t){if(!t||!t.length)return null;const e=t.map(r=>r.mph).filter(r=>Number.isFinite(r));return e.length?{avg:e.reduce((r,i)=>r+i,0)/e.length,high:Math.max(...e),low:Math.min(...e)}:null}function tie({x0:t,y0:e,dx:n,dy:r,W:i,L:o}){const s=[];r>0&&s.push((o-e)/r),n<0&&s.push((0-t)/n),n>0&&s.push((i-t)/n);const a=Math.min(...s.filter(l=>l>0));return isFinite(a)?a:null}function nie(){var On;const[,t]=vl(),{toast:e}=Id(),[n,r]=b.useState("record"),[i,o]=b.useState(3),s=kI[i]||"9' (tournament)",a=Qg[s],l=a.W,c=a.L,[d,f]=b.useState("9"),[h,m]=b.useState(!0),[y,g]=b.useState("mph"),[v,x]=b.useState(!1),w=()=>{const K=Bc.indexOf(y);g(Bc[(K+1)%Bc.length])},[S,C]=b.useState({x:25,y:20}),[E,P]=b.useState({x:l/2,y:3*c/4-ns}),[_,T]=b.useState(null),[N,k]=b.useState(null),[j,R]=b.useState(!1),[O,$]=b.useState(null),[F,U]=b.useState(null),[W,V]=b.useState(null),[B,Z]=b.useState([]),[Q,ne]=b.useState(!1),[_e,Pe]=b.useState(!1),[Me,st]=b.useState(1),[be,Ne]=b.useState(!1),[oe,me]=b.useState([null,null,null,null,null]),[ae,z]=b.useState({open:!1,kind:null,index:null}),[we,Ee]=b.useState(!1),[Qe,Je]=b.useState(!1),[nt,Ve]=b.useState([]),[le,Ze]=b.useState(!1),[kt,yt]=b.useState(""),[Ot,yn]=b.useState(""),[vn,Wn]=b.useState(!1),[Cr,nn]=b.useState(0),[xn,Kt]=b.useState(!1),[pn,$t]=b.useState([]),[qe,Gr]=b.useState(null),[pr,er]=b.useState(0),mr=b.useRef(null),rn=b.useRef(null),on=b.useRef(null),tr=b.useRef(!1);b.useEffect(()=>(Tt.startSession("velocity"),()=>{Tt.endSession()}),[]),b.useEffect(()=>{const K=Qre();K?(o(K.presetIndex??3),C(K.cue||{x:25,y:20}),P(K.ghost||{x:l/2,y:3*c/4-ns}),g(K.unit||"mph"),Z(K.history||[]),f(K.variant||"9"),m(K.snap??!0),me(K.breakSlots||[null,null,null,null,null]),Ve(K.leaderboard||[]),yn(K.storedInitials||""),K.tutorialDone||Pe(!0)):Pe(!0)},[]),b.useEffect(()=>{Jre({presetIndex:i,cue:S,ghost:E,unit:y,history:B,variant:d,snap:h,breakSlots:oe,leaderboard:nt,storedInitials:Ot,tutorialDone:!0})},[i,S,E,y,B,d,h,oe,nt,Ot]),b.useEffect(()=>{const K=setInterval(()=>{nn(ce=>(ce+1)%Bc.length)},4e3);return()=>clearInterval(K)},[]),b.useEffect(()=>{C(K=>({x:qo(K.x,0,l),y:qo(K.y,0,c/4)})),P(K=>({x:qo(K.x,0,l),y:qo(K.y,js,c-js)}))},[l,c]);const Ln=b.useMemo(()=>Zre(d,l,c),[d,l,c]),Yt=b.useCallback((K,ce)=>{const fe=ce.x-K.x,de=ce.y-K.y,Ie=Math.hypot(fe,de);if(!Ie)return null;const rt=fe/Ie,bt=de/Ie,sn=ns;let Xt=1/0,Wt=null,nr=null;for(let rr=0;rr<Ln.length;rr++){const M=Ln[rr],L=M.x-K.x,G=M.y-K.y,X=L*rt+G*bt;if(X<=0)continue;const J=K.x+rt*X,se=K.y+bt*X,ve=Math.hypot(M.x-J,M.y-se);if(ve>sn)continue;const ge=Math.sqrt(sn*sn-ve*ve),ee=X-ge;ee<=0||ee<Xt&&(Xt=ee,Wt={x:K.x+rt*ee,y:K.y+bt*ee},nr=rr)}return Wt?{point:Wt,index:nr}:null},[Ln]),bn=b.useCallback((K=S,ce=E)=>{const fe=ce.x-K.x,de=ce.y-K.y,Ie=Math.hypot(fe,de);return de<=0||Ie<=0?null:Ie},[S,E]),kn=b.useMemo(()=>{const K=bn();if(!K)return!1;const ce=(E.x-S.x)/K,fe=(E.y-S.y)/K,de=tie({x0:S.x,y0:S.y,dx:ce,dy:fe,W:l,L:c});return!de||K<=de+1e-6},[S,E,l,c,bn]),Ar=b.useMemo(()=>{const K=bn();return{dCG:K?K.toFixed(2):""}},[bn]),Di=K=>{switch(y){case"ft/s":return(K*3.28084).toFixed(2);case"m/s":return K.toFixed(2);case"kph":return(K*3.6).toFixed(2);default:return(K*2.23693629).toFixed(2)}},$i=K=>{switch(y){case"ft/s":return(K*1.46667).toFixed(2);case"m/s":return(K*.44704).toFixed(2);case"kph":return(K*1.60934).toFixed(2);default:return K.toFixed(2)}},ri=(K,ce)=>{switch(ce){case"ft/s":return(K*1.46667).toFixed(2);case"m/s":return(K*.44704).toFixed(2);case"kph":return(K*1.60934).toFixed(2);default:return K.toFixed(2)}},so=(K,ce,fe=!1)=>{const de=K.toUpperCase().slice(0,3),Ie=Math.min(100,Math.round(ce/25*100)),rt={initials:de,mph:ce,percentage:Ie,ts:Date.now()};Ve(bt=>[...bt,rt].sort((Xt,Wt)=>Wt.percentage-Xt.percentage).slice(0,1e3)),de.length===3&&yn(de),Wn(!1),yt(""),fe||e({title:"Added to Leaderboard",description:`${de} - ${Ie}%`})},Bo=b.useRef([]),[Pr,mi]=b.useState(0),[Ts,Nr]=b.useState(null),gi=3e3,Cs=48e3,ii=(K,ce=!1)=>{if(K.length<20)return ce&&console.log("[DEBUG] Not enough samples:",K.length),null;const fe=2,de=[];for(let ee=0;ee<K.length;ee++){let Se=0,Te=0;for(let Oe=Math.max(0,ee-fe);Oe<=Math.min(K.length-1,ee+fe);Oe++)Se+=K[Oe].amplitude*K[Oe].amplitude,Te++;de.push({time:K[ee].time,amplitude:Math.sqrt(Se/Te)})}let Ie=0;for(let ee=0;ee<de.length;ee++)de[ee].amplitude>Ie&&(Ie=de[ee].amplitude);if(ce&&console.log("[DEBUG] Max amplitude (smoothed):",Ie.toFixed(4)),Ie<.08)return ce&&console.log("[DEBUG] No significant sound detected (max < 0.08)"),null;const rt=80,bt=450,sn=120;let Xt=0,Wt=de[0].amplitude;for(let ee=0;ee<de.length&&!(de[ee].time>80);ee++)de[ee].amplitude>Wt&&(Wt=de[ee].amplitude,Xt=ee);const nr=de[Xt].time;ce&&console.log("[DEBUG] First peak at",nr.toFixed(1),"ms, amp:",Wt.toFixed(4));const rr=ee=>Wt*Math.exp(-ee/sn),M=.75;let L=-1,G=1/0,X=-1;for(let ee=Xt+1;ee<de.length;ee++){const Se=de[ee].time-nr;if(Se<25)continue;if(Se>200)break;const Te=rr(Se),Oe=Te*M,De=ee>0&&ee<de.length-1&&de[ee].amplitude<=de[ee-1].amplitude&&de[ee].amplitude<=de[ee+1].amplitude;(de[ee].amplitude<Oe||De&&de[ee].amplitude<Te)&&de[ee].amplitude<G&&(G=de[ee].amplitude,L=ee,X=de[ee].time)}if(L===-1){ce&&console.log("[DEBUG] No valley below decay curve, trying local minimum search...");let ee=Wt;for(let Se=Xt+1;Se<de.length;Se++){const Te=de[Se].time-nr;if(!(Te<25)){if(Te>200)break;de[Se].amplitude<ee&&(ee=de[Se].amplitude,L=Se,X=de[Se].time,G=ee)}}L!==-1&&G>Wt*.8&&(ce&&console.log("[DEBUG] Valley not deep enough (only",((1-G/Wt)*100).toFixed(1),"% drop)"),L=-1)}if(L===-1)return ce&&console.log("[DEBUG] No valley found between 25-200ms after first peak"),null;if(ce){const ee=rr(X-nr);console.log("[DEBUG] Valley at",X.toFixed(1),"ms, amp:",G.toFixed(4),"(expected decay:",ee.toFixed(4),", ratio:",(G/ee).toFixed(2),")")}let J=-1,se=0;const ve=1.3;for(let ee=L+1;ee<de.length;ee++){const Se=de[ee].time-nr;if(!(Se<rt)){if(Se>bt)break;de[ee].amplitude>G*ve&&de[ee].amplitude>se&&(se=de[ee].amplitude,J=ee)}}if(ce&&(J!==-1?console.log("[DEBUG] Second peak at",de[J].time.toFixed(1),"ms, amp:",se.toFixed(4),"(",((se/G-1)*100).toFixed(1),"% above valley)"):console.log("[DEBUG] No second peak found that rises >30% above valley in",rt,"-",bt,"ms window")),J===-1||se<Ie*.1)return ce&&console.log("[DEBUG] Second peak too weak or not found (need >",(Ie*.1).toFixed(4),")"),null;const ge=ee=>{let Se=0,Te=1/0;for(let Oe=0;Oe<K.length;Oe++){const De=Math.abs(K[Oe].time-ee);De<Te&&(Te=De,Se=Oe)}return K[Se]};return{first:ge(de[Xt].time),second:ge(de[J].time),valleyTime:X,valleyAmp:G,expectedDecayAtValley:rr(X-nr),decayTau:sn}},As=async()=>{const K={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:Cs}},ce=await navigator.mediaDevices.getUserMedia(K),fe=new AudioContext({sampleRate:Cs});fe.state==="suspended"&&await fe.resume();const de=fe.createMediaStreamSource(ce),Ie=fe.createBiquadFilter();Ie.type="highpass",Ie.frequency.value=150;const rt=fe.createBiquadFilter();rt.type="lowpass",rt.frequency.value=8e3;const bt=fe.createAnalyser();bt.fftSize=2048,de.connect(Ie),Ie.connect(rt),rt.connect(bt);const sn=new Float32Array(bt.fftSize);Bo.current=[];let Xt=null,Wt=null;const nr=.15,rr=()=>{if(!tr.current)return;bt.getFloatTimeDomainData(sn);let M=0;for(let G=0;G<sn.length;G++)M=Math.max(M,Math.abs(sn[G]));const L=performance.now();if(er(M),Xt===null&&M>nr&&(Xt=L,Wt=L,Nr("Recording break..."),xn&&console.log("[DEBUG] Recording triggered at amplitude:",M.toFixed(4))),Xt!==null){Bo.current.push({time:L-Xt,amplitude:M});const G=L-Wt;if(mi(Math.min(100,G/gi*100)),G>=gi){tr.current=!1,Nr("Analyzing audio..."),xn&&$t([...Bo.current]);const X=ii(Bo.current,xn);if(xn&&Gr(X?{first:X.first,second:X.second,valleyTime:X.valleyTime,valleyAmp:X.valleyAmp,expectedDecayAtValley:X.expectedDecayAtValley,decayTau:X.decayTau}:{first:null,second:null,valleyTime:null,valleyAmp:null,expectedDecayAtValley:null,decayTau:null}),X){const J=(X.second.time-X.first.time)/1e3;if(J>=.08&&J<=.45)$(X.first.time/1e3),U(X.second.time/1e3),Nr(`Found peaks: ${J.toFixed(4)}s apart`);else{const se=`Peaks were ${(J*1e3).toFixed(0)}ms apart (expected 80-450ms)`;on.current&&(on.current.stream.getTracks().forEach(ve=>ve.stop()),on.current.audioCtx.close(),on.current=null),R(!1),mi(0),Nr(null),rn.current&&clearTimeout(rn.current),e({title:"Detection failed",description:se,variant:"destructive"})}}else on.current&&(on.current.stream.getTracks().forEach(J=>J.stop()),on.current.audioCtx.close(),on.current=null),R(!1),mi(0),Nr(null),rn.current&&clearTimeout(rn.current),e({title:"Detection failed",description:"Could not find two distinct impact sounds",variant:"destructive"});return}}requestAnimationFrame(rr)};return requestAnimationFrame(rr),{audioCtx:fe,stream:ce}},Uo=async()=>{if(!bn()){e({title:"Invalid setup",description:"Line would hit a cushion before the rack. Adjust cue/ghost.",variant:"destructive"});return}V(null),$(null),U(null),mi(0),Nr(null),R(!0);try{tr.current=!0,on.current=await As(),rn.current&&clearTimeout(rn.current),rn.current=setTimeout(()=>{q(),e({title:"No break detected",description:"Recording stopped after 30 seconds - no loud sound detected"})},3e4),e({title:"Listening...",description:"Break when ready - auto-detects on impact"})}catch(ce){console.error(ce),R(!1),e({title:"Microphone error",description:"Please allow microphone access",variant:"destructive"})}},q=()=>{tr.current=!1,on.current&&(on.current.stream.getTracks().forEach(K=>K.stop()),on.current.audioCtx.close(),on.current=null),R(!1),mi(0),Nr(null),rn.current&&clearTimeout(rn.current)};b.useEffect(()=>{if(O!==null&&F!==null&&j){const K=bn()||0,ce=K*Xre,fe=Math.max(.1,F-O),de=ce/fe,Ie=de*2.23693629,rt=Math.min(45,Math.max(5,Ie)),bt={raw_mps:de,mph:Number(rt.toFixed(2)),distanceIn:Number(K.toFixed(1)),deltaT:Number(fe.toFixed(4)),ts:Date.now(),cue:S,ghost:E,table:{W:l,L:c},variant:d};Z(sn=>[bt,...sn].slice(0,500)),V(bt),R(!1),q(),ne(!0),n==="shark"&&Ot.length===3&&so(Ot,bt.mph,!0),Tt.trackSkillMetric("velocity","break_speed",bt.mph,{distanceIn:bt.distanceIn,variant:bt.variant})}},[O,F,j,S,E,l,c,d,bn,n,Ot]);const re=(K,ce,fe)=>{const de=ce/fe,rt=Math.round(K/de)*de;return Math.abs(K-rt)<=.35&&h?rt:K},Ae=()=>{const ce=Math.min(typeof window<"u"?window.innerWidth-48:400,500),de=Math.min(ce/l,400/c),Ie=l*de,rt=c*de,bt=S.x*de+8,sn=rt-S.y*de+8,Xt=E.x*de+8,Wt=rt-E.y*de+8,nr=M=>{var J;M.preventDefault(),Je(!0);const L=(J=mr.current)==null?void 0:J.getBoundingClientRect();if(!L)return;const G=se=>{const ve={x:se.clientX-L.left,y:se.clientY-L.top};let ge=(ve.x-8)/de,ee=(rt-(ve.y-8))/de;ge=qo(re(ge,l,8),0,l),ee=qo(re(ee,c,8),js,c-js);const Te=Yt(S,{x:ge,y:ee});if(Te&&Te.point){const{point:Oe,index:De}=Te,Vt=qo(Oe.x,0,l),Bt=qo(Oe.y,js,c-js);P({x:Vt,y:Bt}),T({x:Vt,y:Bt,index:De}),k(De)}else _&&(P({x:_.x,y:_.y}),k(_.index??null))},X=()=>{Je(!1),window.removeEventListener("pointermove",G)};window.addEventListener("pointermove",G),window.addEventListener("pointerup",X,{once:!0})},rr=M=>{var J;M.preventDefault(),Ee(!0);const L=(J=mr.current)==null?void 0:J.getBoundingClientRect();if(!L)return;const G=se=>{const ve={x:se.clientX-L.left,y:se.clientY-L.top};let ge=(ve.x-8)/de,ee=(rt-(ve.y-8))/de;ge=qo(re(ge,l,8),0,l),ee=qo(re(ee,c,8),0,c/4),C({x:ge,y:ee})},X=()=>{Ee(!1),window.removeEventListener("pointermove",G)};window.addEventListener("pointermove",G),window.addEventListener("pointerup",X,{once:!0})};return u.jsxs("svg",{ref:mr,width:Ie+8*2,height:rt+8*2,className:"rounded-xl touch-none mx-auto block",style:{background:"hsl(var(--muted))"},children:[u.jsx("rect",{x:8,y:8,width:Ie,height:rt,fill:"#03C04A",stroke:kn?"hsl(var(--primary))":"#cc8400",strokeWidth:"2"}),Array.from({length:7},(M,L)=>(L+1)/8*Ie+8).map((M,L)=>u.jsx("line",{x1:M,x2:M,y1:8,y2:8+rt,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gx"+L)),Array.from({length:7},(M,L)=>(L+1)/8*rt+8).map((M,L)=>u.jsx("line",{x1:8,x2:8+Ie,y1:M,y2:M,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gy"+L)),u.jsx("line",{x1:bt,y1:sn,x2:Xt,y2:Wt,stroke:"#1e1e1e",strokeWidth:"2.5"}),Ln.map((M,L)=>{const G=M.x*de+8,X=rt-M.y*de+8,J=L===N;return u.jsx("circle",{cx:G,cy:X,r:js*de,fill:J?"#ffe9e9":"#ffffff",stroke:J?"hsl(var(--primary))":"#000000",strokeWidth:J?2.2:1.25,opacity:J?1:.9},L)}),Qe&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:8,y1:Wt,x2:8+Ie,y2:Wt,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"}),u.jsx("line",{x1:Xt,y1:8,x2:Xt,y2:8+rt,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),we&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:8,y1:sn,x2:8+Ie,y2:sn,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"}),u.jsx("line",{x1:bt,y1:8,x2:bt,y2:8+rt,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),u.jsx("circle",{cx:Xt,cy:Wt,r:js*de,fill:"hsl(var(--primary))",stroke:"#000000",strokeWidth:"2",onPointerDown:nr,style:{cursor:"grab"}}),u.jsx("circle",{cx:bt,cy:sn,r:js*de,fill:"#ffffff",stroke:"#000000",strokeWidth:"1.75",onPointerDown:rr,style:{cursor:"grab"}})]})},ke=b.useMemo(()=>eie(B),[B]),ze=K=>z({open:!0,kind:"load",index:K}),at=K=>z({open:!0,kind:"save",index:K}),It=({i:K})=>{const ce=!!oe[K],fe=b.useRef(null),de=()=>{fe.current=setTimeout(()=>{at(K),fe.current=null},520)},Ie=()=>{fe.current&&(clearTimeout(fe.current),ze(K),fe.current=null)};return u.jsxs("button",{className:`text-xs py-2 px-3 rounded-lg border transition-colors ${ce?"bg-primary/20 border-primary/40":"bg-muted border-muted-foreground/20"}`,onPointerDown:de,onPointerUp:Ie,onPointerLeave:()=>fe.current&&clearTimeout(fe.current),"data-testid":`button-slot-${K+1}`,children:["Slot ",K+1]})};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"CueMaster: Velocity"}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>Pe(!0),"data-testid":"button-help",children:u.jsx(Tx,{className:"w-5 h-5"})}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>Ne(!0),"data-testid":"button-settings",children:u.jsx(tT,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 overflow-auto p-4",children:u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs(tV,{value:n,onValueChange:r,className:"w-full",children:[u.jsxs(wC,{className:"grid w-full grid-cols-3",children:[u.jsx(Va,{value:"record","data-testid":"tab-record",children:"Record"}),u.jsx(Va,{value:"stats","data-testid":"tab-stats",children:"Stats"}),u.jsxs(Va,{value:"shark","data-testid":"tab-shark",className:"gap-1",children:["Shark ",u.jsx(ev,{})]})]}),u.jsxs(Ba,{value:"record",className:"space-y-3 mt-3",children:[u.jsxs(et,{className:"p-3",children:[u.jsxs("div",{className:"text-center mb-3",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Cue  Rack Speed"}),u.jsxs("button",{onClick:w,className:"text-4xl font-bold text-foreground hover:text-primary transition-colors cursor-pointer","data-testid":"button-cycle-unit",children:[W?Di(W.raw_mps):"--.--.",u.jsx("span",{className:"text-2xl ml-1 text-primary underline decoration-dotted underline-offset-4",children:y})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap unit to change"})]}),u.jsx(ue,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?q:Uo,"data-testid":"button-record",children:j?"Stop Recording":"Tap to Record  Break"}),j&&u.jsxs("div",{className:"mt-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-muted-foreground",children:Ts||"Waiting for sound..."}),u.jsxs("span",{className:"font-mono text-primary",children:[Math.round(Pr),"%"]})]}),u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all duration-100",style:{width:`${Pr}%`}})}),xn&&u.jsxs("div",{className:"mt-2 p-2 bg-black/50 rounded border border-primary/30",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[u.jsx("span",{className:"text-green-400 font-mono",children:"LIVE AMP"}),u.jsx("span",{className:"text-green-400 font-mono",children:pr.toFixed(4)})]}),u.jsx("div",{className:"h-4 bg-black rounded overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-50 ${pr>.15?"bg-green-500":"bg-green-800"}`,style:{width:`${Math.min(100,pr*100)}%`}})}),u.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"Trigger threshold: 0.15 (green = triggered)"})]})]})]}),xn&&pn.length>0&&!j&&u.jsxs(et,{className:"p-3 bg-black/80 border-green-500/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-sm font-semibold text-green-400 font-mono",children:"DEBUG: Audio Analysis"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ue,{size:"sm",variant:"outline",className:"text-xs h-7 border-green-500/50 text-green-400",onClick:()=>{const K={samples:pn,peaks:qe,timestamp:new Date().toISOString(),settings:{presetKey:s,variant:d,snap:h}},ce=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),fe=URL.createObjectURL(ce),de=document.createElement("a");de.href=fe,de.download=`break-audio-${Date.now()}.json`,de.click(),URL.revokeObjectURL(fe),e({title:"Audio data exported"})},"data-testid":"button-export-debug",children:"Export Data"}),u.jsx(ue,{size:"sm",variant:"outline",className:"text-xs h-7 border-red-500/50 text-red-400",onClick:()=>{$t([]),Gr(null)},"data-testid":"button-clear-debug",children:"Clear"})]})]}),u.jsxs("div",{className:"bg-black rounded p-2 mb-3",children:[u.jsxs("div",{className:"text-[10px] text-green-400 font-mono mb-1",children:["Samples: ",pn.length," | Duration: ",pn.length>0?(pn[pn.length-1].time/1e3).toFixed(2):0,"s"]}),u.jsxs("svg",{width:"100%",height:"80",className:"bg-black rounded",children:[u.jsx("line",{x1:"0",y1:"40",x2:"100%",y2:"40",stroke:"#333",strokeWidth:"1"}),[100,200,300,400].map(K=>u.jsxs("g",{children:[u.jsx("line",{x1:`${K/3e3*100}%`,y1:"0",x2:`${K/3e3*100}%`,y2:"80",stroke:"#333",strokeWidth:"1",strokeDasharray:"2,2"}),u.jsxs("text",{x:`${K/3e3*100}%`,y:"78",fill:"#666",fontSize:"8",textAnchor:"middle",children:[K,"ms"]})]},K)),u.jsx("polyline",{points:pn.slice(0,500).map((K,ce)=>{const fe=ce/500*100,de=40-K.amplitude*35;return`${fe}%,${de}`}).join(" "),fill:"none",stroke:"#22c55e",strokeWidth:"1"}),(qe==null?void 0:qe.first)&&u.jsx("circle",{cx:`${qe.first.time/3e3*100}%`,cy:40-qe.first.amplitude*35,r:"4",fill:"#f59e0b",stroke:"#fff",strokeWidth:"1"}),(qe==null?void 0:qe.second)&&u.jsx("circle",{cx:`${qe.second.time/3e3*100}%`,cy:40-qe.second.amplitude*35,r:"4",fill:"#3b82f6",stroke:"#fff",strokeWidth:"1"}),(qe==null?void 0:qe.valleyTime)&&qe.valleyTime>0&&qe.valleyAmp&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:`${qe.valleyTime/3e3*100}%`,y1:"0",x2:`${qe.valleyTime/3e3*100}%`,y2:"80",stroke:"#a855f7",strokeWidth:"2",strokeDasharray:"4,2"}),u.jsx("circle",{cx:`${qe.valleyTime/3e3*100}%`,cy:40-qe.valleyAmp*35,r:"3",fill:"#a855f7",stroke:"#fff",strokeWidth:"1"})]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] font-mono mt-1",children:[u.jsx("span",{className:"text-amber-500",children:" 1st Peak (cue hit)"}),u.jsx("span",{className:"text-purple-500",children:" Valley (dip)"}),u.jsx("span",{className:"text-blue-500",children:" 2nd Peak (rack hit)"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-mono",children:[u.jsxs("div",{className:"bg-amber-500/20 rounded p-2",children:[u.jsx("div",{className:"text-amber-400 font-semibold",children:"1st Peak"}),qe!=null&&qe.first?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:["Time: ",qe.first.time.toFixed(1),"ms"]}),u.jsxs("div",{children:["Amp: ",qe.first.amplitude.toFixed(4)]})]}):u.jsx("div",{className:"text-red-400",children:"Not found"})]}),u.jsxs("div",{className:"bg-purple-500/20 rounded p-2",children:[u.jsx("div",{className:"text-purple-400 font-semibold",children:"Valley"}),qe!=null&&qe.valleyTime&&qe.valleyAmp?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:["Time: ",qe.valleyTime.toFixed(1),"ms"]}),u.jsxs("div",{children:["Amp: ",qe.valleyAmp.toFixed(4)]}),qe.expectedDecayAtValley&&u.jsxs("div",{className:"text-[9px]",children:["Expected: ",qe.expectedDecayAtValley.toFixed(4)]})]}):u.jsx("div",{className:"text-red-400",children:"Not found"})]}),u.jsxs("div",{className:"bg-blue-500/20 rounded p-2",children:[u.jsx("div",{className:"text-blue-400 font-semibold",children:"2nd Peak"}),qe!=null&&qe.second?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:["Time: ",qe.second.time.toFixed(1),"ms"]}),u.jsxs("div",{children:["Amp: ",qe.second.amplitude.toFixed(4)]}),u.jsxs("div",{children:["T: ",(qe.second.time-(((On=qe.first)==null?void 0:On.time)||0)).toFixed(1),"ms"]})]}):u.jsx("div",{className:"text-red-400",children:"Not found"})]})]}),u.jsxs("div",{className:"mt-2 p-2 bg-muted/20 rounded text-[10px] font-mono text-muted-foreground",children:[u.jsxs("div",{children:["Decay tau: ",(qe==null?void 0:qe.decayTau)||120,"ms (reverb tolerance)"]}),u.jsx("div",{children:"Valley window: 25-200ms after 1st peak"}),u.jsx("div",{children:"Valley dip: below 75% of expected decay OR local minimum"}),u.jsx("div",{children:"2nd peak window: 80-450ms after 1st peak"}),u.jsx("div",{children:"2nd peak rise: must be 30%+ above valley"})]})]}),u.jsx(et,{className:"p-3",children:u.jsxs(NI,{open:v,onOpenChange:x,children:[u.jsxs(jI,{className:"flex items-center justify-between w-full py-2","data-testid":"button-toggle-table",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ar.dCG,'"  ',d,"-ball"]})]}),u.jsx(kh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),u.jsxs(II,{className:"pt-2",children:[u.jsx("div",{className:"flex items-center justify-end gap-2 mb-2",children:["8","9"].map(K=>u.jsxs(ue,{variant:d===K?"default":"outline",size:"sm",onClick:()=>f(K),"data-testid":`button-variant-${K}`,children:[K,"-ball"]},K))}),u.jsx(Ae,{}),!kn&&u.jsx("p",{className:"text-xs text-amber-500 mt-2 text-center",children:"Warning: current ray hits a cushion before rack."})]})]})}),u.jsx(tv,{isLocked:!0,featureName:"Break Presets",variant:"overlay",children:u.jsxs(et,{className:"p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-sm font-medium",children:["Presets ",u.jsx(ev,{})]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load  Hold to save"})]}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4].map(K=>u.jsx(It,{i:K},K))})]})})]}),u.jsx(Ba,{value:"stats",className:"space-y-3 mt-3",children:u.jsxs(et,{className:"p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Statistics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to change units"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-high",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"High"}),u.jsx("div",{className:"text-lg font-bold",children:ke?$i(ke.high):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]}),u.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-avg",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"}),u.jsx("div",{className:"text-lg font-bold",children:ke?$i(ke.avg):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]}),u.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-low",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"}),u.jsx("div",{className:"text-lg font-bold",children:ke?$i(ke.low):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]})]}),u.jsxs("div",{className:"mt-3 text-sm text-muted-foreground text-center",children:[B.length," breaks recorded"]}),B.length>0&&u.jsxs(ue,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>Z([]),"data-testid":"button-clear-history",children:[u.jsx(Q$,{className:"w-4 h-4 mr-2"}),"Clear History"]})]})}),u.jsx(Ba,{value:"shark",className:"space-y-3 mt-3",children:u.jsxs(tv,{isLocked:!0,featureName:"Shark Mode",variant:"blur",children:[u.jsxs(et,{className:"p-3",children:[u.jsxs("div",{className:"text-center mb-2",children:[u.jsx("div",{className:"text-2xl font-extrabold",children:"Shark Mode"}),u.jsx("button",{onClick:w,className:"text-sm text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 transition-colors cursor-pointer","data-testid":"button-shark-cycle-unit",children:y})]}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),u.jsx("stop",{offset:"50%",stopColor:"#eab308"}),u.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),u.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),u.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${Math.min(100,W?W.mph/25*100:0)*2.2} 220`}),(()=>{const fe=(-180+Math.min(100,W?W.mph/25*100:0)/100*180)*Math.PI/180,de=90,Ie=90,rt=55,bt=de+rt*Math.cos(fe),sn=Ie+rt*Math.sin(fe);return u.jsxs("g",{children:[u.jsx("line",{x1:de,y1:Ie,x2:bt,y2:sn,stroke:"hsl(var(--foreground))",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:de,cy:Ie,r:"6",fill:"hsl(var(--foreground))"})]})})(),u.jsxs("text",{x:"90",y:"75",fontSize:"24",fontWeight:"bold",fill:"hsl(var(--foreground))",textAnchor:"middle",children:[W?Math.min(100,Math.round(W.mph/25*100)):0,"%"]})]})}),u.jsx(ue,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?q:Uo,"data-testid":"button-shark-record",children:j?"STOP":"REC"})]}),u.jsx(et,{className:"p-3",children:u.jsxs(NI,{open:v,onOpenChange:x,children:[u.jsxs(jI,{className:"flex items-center justify-between w-full py-2","data-testid":"button-shark-toggle-table",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ar.dCG,'"  ',d,"-ball"]})]}),u.jsx(kh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),u.jsx(II,{className:"pt-2",children:u.jsx(Ae,{})})]})}),W&&u.jsxs(ue,{variant:"outline",className:"w-full",onClick:()=>Wn(!0),"data-testid":"button-add-to-leaderboard",children:[u.jsx(La,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]}),u.jsx(et,{className:"p-3",children:u.jsx(Zy,{type:"single",collapsible:!0,value:le?"leaderboard":"",onValueChange:K=>Ze(K==="leaderboard"),children:u.jsxs(Zo,{value:"leaderboard",className:"border-none",children:[u.jsx(es,{className:"py-2 hover:no-underline","data-testid":"button-toggle-leaderboard",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(La,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium",children:"Leaderboard"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",nt.length,")"]})]})}),u.jsxs(ts,{children:[nt.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No entries yet. Record a break and add it to the leaderboard!"}):u.jsx("div",{className:"max-h-64 overflow-y-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"sticky top-0 bg-card",children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"#"}),u.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"Player"}),u.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:"Score"}),u.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:u.jsx("span",{className:"text-primary",children:Bc[Cr]})})]})}),u.jsx("tbody",{children:nt.map((K,ce)=>u.jsxs("tr",{className:`border-b border-border/50 ${ce<3?"bg-primary/5":""}`,"data-testid":`row-leaderboard-${ce}`,children:[u.jsxs("td",{className:"py-2 px-1 font-mono text-muted-foreground",children:[ce===0&&u.jsx("span",{className:"text-yellow-500",children:""}),ce===1&&u.jsx("span",{className:"text-gray-400",children:""}),ce===2&&u.jsx("span",{className:"text-amber-600",children:""}),ce>2&&ce+1]}),u.jsx("td",{className:"py-2 px-1 font-bold tracking-wider",children:K.initials}),u.jsxs("td",{className:"py-2 px-1 text-right font-mono text-primary",children:[K.percentage,"%"]}),u.jsx("td",{className:"py-2 px-1 text-right font-mono text-muted-foreground transition-opacity duration-300",children:ri(K.mph,Bc[Cr])})]},`${K.initials}-${K.ts}`))})]})}),nt.length>0&&u.jsx(ue,{variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive",onClick:()=>{confirm("Clear all leaderboard entries?")&&Ve([])},"data-testid":"button-clear-leaderboard",children:"Clear Leaderboard"})]})]})})})]})})]})})}),u.jsx(Jr,{open:_e,onOpenChange:Pe,children:u.jsxs(Wr,{className:"max-w-md",children:[u.jsx(br,{children:u.jsx(wr,{children:"Welcome to CueMaster: Velocity"})}),u.jsxs("div",{className:"space-y-4",children:[Me===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"1) Microphone Access"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["We detect two sharp sounds: ",u.jsx("span",{className:"font-semibold text-foreground",children:"tip impact"})," and"," ",u.jsx("span",{className:"font-semibold text-foreground",children:"cue-ball / rack"})," contact. Time between them plus the measured distance yields your speed. Audio is processed locally; nothing leaves your device."]}),u.jsx(ue,{variant:"outline",onClick:async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0}),e({title:"Microphone permission granted"})}catch{e({title:"Permission denied",variant:"destructive"})}},"data-testid":"button-allow-mic",children:"Allow Microphone"})]}),Me===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"2) Aim Setup"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag the ",u.jsx("span",{className:"font-semibold text-foreground",children:"white"})," cue ball and"," ",u.jsx("span",{className:"font-semibold text-red-500",children:"red"})," ghost ball on the table to match your intended first contact. Enable snap-to-grid in Settings for quick alignment."]})]}),Me===3&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"3) Record & Confirm"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tap ",u.jsx("span",{className:"font-semibold text-foreground",children:"Record"}),", break, then confirm the first contact if needed. Results save to Stats. Auto-timeout after 30s if no break is detected."]})]}),Me===4&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"4) Shark Mode"}),u.jsx("p",{className:"text-sm text-primary italic",children:"Can you out pace a Great White?"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Switch to the ",u.jsx("span",{className:"font-semibold text-foreground",children:"Shark"})," tab for a focused speed challenge. The speedometer gauge shows your power level from 0-100%. Push your limits and see how you stack up!"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ue,{variant:"outline",size:"sm",onClick:()=>st(K=>Math.max(1,K-1)),disabled:Me===1,children:"Back"}),u.jsx(ue,{variant:"outline",size:"sm",onClick:()=>st(K=>Math.min(4,K+1)),disabled:Me===4,children:"Next"})]}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(K=>u.jsx("div",{className:`w-2 h-2 rounded-full ${K===Me?"bg-primary":"bg-muted"}`},K))}),u.jsx(ue,{size:"sm",onClick:()=>Pe(!1),children:Me===4?"Finish":"Skip"})]})]})}),u.jsx(Jr,{open:Q,onOpenChange:ne,children:u.jsxs(Wr,{className:"max-w-md",children:[u.jsx(br,{children:u.jsx(wr,{children:"Confirm First Contact"})}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If the real first contact differed, drag to match what actually happened, then confirm."}),u.jsx(Ae,{}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(ue,{variant:"outline",onClick:()=>ne(!1),children:"Looks Right"}),u.jsx(ue,{onClick:()=>ne(!1),children:"Confirm"})]})]})}),u.jsx(Jr,{open:ae.open,onOpenChange:K=>z({...ae,open:K}),children:u.jsxs(Wr,{className:"max-w-sm",children:[u.jsx(br,{children:u.jsx(wr,{children:ae.kind==="load"?"Load Preset":"Save Preset"})}),u.jsx("p",{className:"text-sm text-muted-foreground",children:ae.kind==="load"?oe[ae.index]?"Load this saved break setup?":"This slot is empty.":oe[ae.index]?"Overwrite the existing setup for this slot?":"Save your current layout to this slot?"}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(ue,{variant:"outline",onClick:()=>z({open:!1,kind:null,index:null}),children:"Cancel"}),u.jsx(ue,{onClick:()=>{if(ae.kind==="load"){const K=oe[ae.index];K&&(C(K.cue),P(K.ghost),f(K.variant),o(K.presetIndex),m(K.snap),e({title:"Preset loaded"}))}else{const K={cue:S,ghost:E,variant:d,presetIndex:i,snap:h,savedAt:Date.now()};me(ce=>{const fe=[...ce];return fe[ae.index]=K,fe}),e({title:"Preset saved"})}z({open:!1,kind:null,index:null})},disabled:ae.kind==="load"&&!oe[ae.index],children:ae.kind==="load"?"Load":oe[ae.index]?"Overwrite":"Save"})]})]})}),u.jsx(Jr,{open:be,onOpenChange:Ne,children:u.jsxs(Wr,{className:"max-w-md",children:[u.jsx(br,{children:u.jsx(wr,{children:"Settings"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(en,{children:"Snap to Grid"}),u.jsx(Pi,{checked:h,onCheckedChange:m,"data-testid":"switch-snap"})]}),u.jsxs("div",{children:[u.jsx(en,{className:"mb-2 block",children:"Table Size"}),u.jsx("div",{className:"space-y-1",children:kI.map((K,ce)=>u.jsxs("button",{onClick:()=>o(ce),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${ce===i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`button-table-${ce}`,children:[u.jsx("span",{className:"font-medium",children:K}),u.jsxs("span",{className:"text-xs ml-2 opacity-70",children:[Qg[K].W,"",Qg[K].L," in"]})]},K))})]}),u.jsx(ue,{variant:"outline",className:"w-full",onClick:()=>Pe(!0),children:"Open Tutorial"}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[u.jsxs("div",{children:[u.jsx(en,{children:"Debug Mode"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Show audio analysis data"})]}),u.jsx(Pi,{checked:xn,onCheckedChange:Kt,"data-testid":"switch-debug"})]})]})]})}),u.jsx(Jr,{open:vn,onOpenChange:Wn,children:u.jsxs(Wr,{className:"max-w-sm",children:[u.jsxs(br,{children:[u.jsx(wr,{children:"Enter Your Initials"}),u.jsx(Po,{children:"Add your break to the leaderboard with your 3-letter initials."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(en,{htmlFor:"initials",children:"Initials (3 letters)"}),u.jsx(cr,{id:"initials",value:kt,onChange:K=>yt(K.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3)),placeholder:"ABC",maxLength:3,className:"text-center text-2xl font-bold tracking-[0.5em] uppercase",autoComplete:"off","data-testid":"input-initials"})]}),W&&u.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"}),u.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.min(100,Math.round(W.mph/25*100)),"%"]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[W.mph.toFixed(2)," mph"]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(ue,{variant:"outline",onClick:()=>Wn(!1),children:"Cancel"}),u.jsxs(ue,{onClick:()=>W&&so(kt,W.mph),disabled:kt.length!==3,"data-testid":"button-submit-initials",children:[u.jsx(La,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]})]})]})]})})]})}var rie=Array.isArray,pi=rie,iie=typeof Em=="object"&&Em&&Em.Object===Object&&Em,RV=iie,oie=RV,sie=typeof self=="object"&&self&&self.Object===Object&&self,aie=oie||sie||Function("return this")(),Es=aie,lie=Es,cie=lie.Symbol,im=cie,OI=im,MV=Object.prototype,uie=MV.hasOwnProperty,die=MV.toString,bf=OI?OI.toStringTag:void 0;function fie(t){var e=uie.call(t,bf),n=t[bf];try{t[bf]=void 0;var r=!0}catch{}var i=die.call(t);return r&&(e?t[bf]=n:delete t[bf]),i}var hie=fie,pie=Object.prototype,mie=pie.toString;function gie(t){return mie.call(t)}var yie=gie,RI=im,vie=hie,xie=yie,bie="[object Null]",wie="[object Undefined]",MI=RI?RI.toStringTag:void 0;function Sie(t){return t==null?t===void 0?wie:bie:MI&&MI in Object(t)?vie(t):xie(t)}var da=Sie;function _ie(t){return t!=null&&typeof t=="object"}var fa=_ie,Eie=da,Tie=fa,Cie="[object Symbol]";function Aie(t){return typeof t=="symbol"||Tie(t)&&Eie(t)==Cie}var Hd=Aie,Pie=pi,Nie=Hd,jie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Iie=/^\w*$/;function kie(t,e){if(Pie(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Nie(t)?!0:Iie.test(t)||!jie.test(t)||e!=null&&t in Object(e)}var DC=kie;function Oie(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wl=Oie;const qd=Gt(wl);var Rie=da,Mie=wl,Die="[object AsyncFunction]",$ie="[object Function]",Lie="[object GeneratorFunction]",Fie="[object Proxy]";function Vie(t){if(!Mie(t))return!1;var e=Rie(t);return e==$ie||e==Lie||e==Die||e==Fie}var $C=Vie;const St=Gt($C);var Bie=Es,Uie=Bie["__core-js_shared__"],zie=Uie,aw=zie,DI=function(){var t=/[^.]+$/.exec(aw&&aw.keys&&aw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Wie(t){return!!DI&&DI in t}var Hie=Wie,qie=Function.prototype,Gie=qie.toString;function Kie(t){if(t!=null){try{return Gie.call(t)}catch{}try{return t+""}catch{}}return""}var DV=Kie,Yie=$C,Xie=Hie,Qie=wl,Jie=DV,Zie=/[\\^$.*+?()[\]{}|]/g,eoe=/^\[object .+?Constructor\]$/,toe=Function.prototype,noe=Object.prototype,roe=toe.toString,ioe=noe.hasOwnProperty,ooe=RegExp("^"+roe.call(ioe).replace(Zie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function soe(t){if(!Qie(t)||Xie(t))return!1;var e=Yie(t)?ooe:eoe;return e.test(Jie(t))}var aoe=soe;function loe(t,e){return t==null?void 0:t[e]}var coe=loe,uoe=aoe,doe=coe;function foe(t,e){var n=doe(t,e);return uoe(n)?n:void 0}var Nc=foe,hoe=Nc,poe=hoe(Object,"create"),i0=poe,$I=i0;function moe(){this.__data__=$I?$I(null):{},this.size=0}var goe=moe;function yoe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var voe=yoe,xoe=i0,boe="__lodash_hash_undefined__",woe=Object.prototype,Soe=woe.hasOwnProperty;function _oe(t){var e=this.__data__;if(xoe){var n=e[t];return n===boe?void 0:n}return Soe.call(e,t)?e[t]:void 0}var Eoe=_oe,Toe=i0,Coe=Object.prototype,Aoe=Coe.hasOwnProperty;function Poe(t){var e=this.__data__;return Toe?e[t]!==void 0:Aoe.call(e,t)}var Noe=Poe,joe=i0,Ioe="__lodash_hash_undefined__";function koe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=joe&&e===void 0?Ioe:e,this}var Ooe=koe,Roe=goe,Moe=voe,Doe=Eoe,$oe=Noe,Loe=Ooe;function Gd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gd.prototype.clear=Roe;Gd.prototype.delete=Moe;Gd.prototype.get=Doe;Gd.prototype.has=$oe;Gd.prototype.set=Loe;var Foe=Gd;function Voe(){this.__data__=[],this.size=0}var Boe=Voe;function Uoe(t,e){return t===e||t!==t&&e!==e}var LC=Uoe,zoe=LC;function Woe(t,e){for(var n=t.length;n--;)if(zoe(t[n][0],e))return n;return-1}var o0=Woe,Hoe=o0,qoe=Array.prototype,Goe=qoe.splice;function Koe(t){var e=this.__data__,n=Hoe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Goe.call(e,n,1),--this.size,!0}var Yoe=Koe,Xoe=o0;function Qoe(t){var e=this.__data__,n=Xoe(e,t);return n<0?void 0:e[n][1]}var Joe=Qoe,Zoe=o0;function ese(t){return Zoe(this.__data__,t)>-1}var tse=ese,nse=o0;function rse(t,e){var n=this.__data__,r=nse(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ise=rse,ose=Boe,sse=Yoe,ase=Joe,lse=tse,cse=ise;function Kd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kd.prototype.clear=ose;Kd.prototype.delete=sse;Kd.prototype.get=ase;Kd.prototype.has=lse;Kd.prototype.set=cse;var s0=Kd,use=Nc,dse=Es,fse=use(dse,"Map"),FC=fse,LI=Foe,hse=s0,pse=FC;function mse(){this.size=0,this.__data__={hash:new LI,map:new(pse||hse),string:new LI}}var gse=mse;function yse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var vse=yse,xse=vse;function bse(t,e){var n=t.__data__;return xse(e)?n[typeof e=="string"?"string":"hash"]:n.map}var a0=bse,wse=a0;function Sse(t){var e=wse(this,t).delete(t);return this.size-=e?1:0,e}var _se=Sse,Ese=a0;function Tse(t){return Ese(this,t).get(t)}var Cse=Tse,Ase=a0;function Pse(t){return Ase(this,t).has(t)}var Nse=Pse,jse=a0;function Ise(t,e){var n=jse(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var kse=Ise,Ose=gse,Rse=_se,Mse=Cse,Dse=Nse,$se=kse;function Yd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yd.prototype.clear=Ose;Yd.prototype.delete=Rse;Yd.prototype.get=Mse;Yd.prototype.has=Dse;Yd.prototype.set=$se;var VC=Yd,$V=VC,Lse="Expected a function";function BC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Lse);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(BC.Cache||$V),n}BC.Cache=$V;var LV=BC;const Fse=Gt(LV);var Vse=LV,Bse=500;function Use(t){var e=Vse(t,function(r){return n.size===Bse&&n.clear(),r}),n=e.cache;return e}var zse=Use,Wse=zse,Hse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qse=/\\(\\)?/g,Gse=Wse(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hse,function(n,r,i,o){e.push(i?o.replace(qse,"$1"):r||n)}),e}),Kse=Gse;function Yse(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var UC=Yse,FI=im,Xse=UC,Qse=pi,Jse=Hd,Zse=1/0,VI=FI?FI.prototype:void 0,BI=VI?VI.toString:void 0;function FV(t){if(typeof t=="string")return t;if(Qse(t))return Xse(t,FV)+"";if(Jse(t))return BI?BI.call(t):"";var e=t+"";return e=="0"&&1/t==-Zse?"-0":e}var eae=FV,tae=eae;function nae(t){return t==null?"":tae(t)}var VV=nae,rae=pi,iae=DC,oae=Kse,sae=VV;function aae(t,e){return rae(t)?t:iae(t,e)?[t]:oae(sae(t))}var BV=aae,lae=Hd,cae=1/0;function uae(t){if(typeof t=="string"||lae(t))return t;var e=t+"";return e=="0"&&1/t==-cae?"-0":e}var l0=uae,dae=BV,fae=l0;function hae(t,e){e=dae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[fae(e[n++])];return n&&n==r?t:void 0}var zC=hae,pae=zC;function mae(t,e,n){var r=t==null?void 0:pae(t,e);return r===void 0?n:r}var UV=mae;const Xi=Gt(UV);function gae(t){return t==null}var yae=gae;const vt=Gt(yae);var vae=da,xae=pi,bae=fa,wae="[object String]";function Sae(t){return typeof t=="string"||!xae(t)&&bae(t)&&vae(t)==wae}var _ae=Sae;const yc=Gt(_ae);var zV={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC=Symbol.for("react.element"),HC=Symbol.for("react.portal"),c0=Symbol.for("react.fragment"),u0=Symbol.for("react.strict_mode"),d0=Symbol.for("react.profiler"),f0=Symbol.for("react.provider"),h0=Symbol.for("react.context"),Eae=Symbol.for("react.server_context"),p0=Symbol.for("react.forward_ref"),m0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),y0=Symbol.for("react.memo"),v0=Symbol.for("react.lazy"),Tae=Symbol.for("react.offscreen"),WV;WV=Symbol.for("react.module.reference");function io(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WC:switch(t=t.type,t){case c0:case d0:case u0:case m0:case g0:return t;default:switch(t=t&&t.$$typeof,t){case Eae:case h0:case p0:case v0:case y0:case f0:return t;default:return e}}case HC:return e}}}Ft.ContextConsumer=h0;Ft.ContextProvider=f0;Ft.Element=WC;Ft.ForwardRef=p0;Ft.Fragment=c0;Ft.Lazy=v0;Ft.Memo=y0;Ft.Portal=HC;Ft.Profiler=d0;Ft.StrictMode=u0;Ft.Suspense=m0;Ft.SuspenseList=g0;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return io(t)===h0};Ft.isContextProvider=function(t){return io(t)===f0};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WC};Ft.isForwardRef=function(t){return io(t)===p0};Ft.isFragment=function(t){return io(t)===c0};Ft.isLazy=function(t){return io(t)===v0};Ft.isMemo=function(t){return io(t)===y0};Ft.isPortal=function(t){return io(t)===HC};Ft.isProfiler=function(t){return io(t)===d0};Ft.isStrictMode=function(t){return io(t)===u0};Ft.isSuspense=function(t){return io(t)===m0};Ft.isSuspenseList=function(t){return io(t)===g0};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===c0||t===d0||t===u0||t===m0||t===g0||t===Tae||typeof t=="object"&&t!==null&&(t.$$typeof===v0||t.$$typeof===y0||t.$$typeof===f0||t.$$typeof===h0||t.$$typeof===p0||t.$$typeof===WV||t.getModuleId!==void 0)};Ft.typeOf=io;zV.exports=Ft;var Cae=zV.exports,Aae=da,Pae=fa,Nae="[object Number]";function jae(t){return typeof t=="number"||Pae(t)&&Aae(t)==Nae}var HV=jae;const Iae=Gt(HV);var kae=HV;function Oae(t){return kae(t)&&t!=+t}var Rae=Oae;const om=Gt(Rae);var No=function(e){return e===0?0:e>0?1:-1},Ul=function(e){return yc(e)&&e.indexOf("%")===e.length-1},je=function(e){return Iae(e)&&!om(e)},Mae=function(e){return vt(e)},Qn=function(e){return je(e)||yc(e)},Dae=0,sm=function(e){var n=++Dae;return"".concat(e||"").concat(n)},vc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!yc(e))return r;var o;if(Ul(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return om(o)&&(o=r),i&&o>n&&(o=n),o},Xc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},$ae=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},_o=function(e,n){return je(e)&&je(n)?function(r){return e+r*(n-e)}:function(){return n}};function nv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Xi(r,e))===n})}var Lae=function(e,n){return je(e)&&je(n)?e-n:yc(e)&&yc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Au(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function xS(t){"@babel/helpers - typeof";return xS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xS(t)}var Fae=["viewBox","children"],Vae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],UI=["points","pathLength"],lw={svg:Fae,polygon:UI,polyline:UI},qC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),!qd(r))return null;var i={};return Object.keys(r).forEach(function(o){qC.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Bae=function(e,n,r){return function(i){return e(n,r,i),null}},iv=function(e,n,r){if(!qd(e)||xS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];qC.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Bae(s,n,r))}),i},Uae=["children"],zae=["children"];function zI(t,e){if(t==null)return{};var n=Wae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bS(t){"@babel/helpers - typeof";return bS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bS(t)}var WI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},HI=null,cw=null,GC=function t(e){if(e===HI&&Array.isArray(cw))return cw;var n=[];return b.Children.forEach(e,function(r){vt(r)||(Cae.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),cw=n,HI=e,n};function Qi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Hs(i)}):r=[Hs(e)],GC(t).forEach(function(i){var o=Xi(i,"type.displayName")||Xi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ei(t,e){var n=Qi(t,e);return n&&n[0]}var qI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!je(r)||r<=0||!je(i)||i<=0)},Hae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qae=function(e){return e&&e.type&&yc(e.type)&&Hae.indexOf(e.type)>=0},Gae=function(e){return e&&bS(e)==="object"&&"clipDot"in e},Kae=function(e,n,r,i){var o,s=(o=lw==null?void 0:lw[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!St(e)&&(i&&s.includes(n)||Vae.includes(n))||r&&qC.includes(n)},Pt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!qd(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Kae((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},wS=function t(e,n){if(e===n)return!0;var r=b.Children.count(e);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return GI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!GI(o,s))return!1}return!0},GI=function(e,n){if(vt(e)&&vt(n))return!0;if(!vt(e)&&!vt(n)){var r=e.props||{},i=r.children,o=zI(r,Uae),s=n.props||{},a=s.children,l=zI(s,zae);return i&&a?Au(o,l)&&wS(i,a):!i&&!a?Au(o,l):!1}return!1},KI=function(e,n){var r=[],i={};return GC(e).forEach(function(o,s){if(qae(o))r.push(o);else if(o){var a=Hs(o.type),l=n[a]||{},c=l.handler,d=l.once;if(c&&(!d||!i[a])){var f=c(o,a,s);r.push(f),i[a]=!0}}}),r},Yae=function(e){var n=e&&e.type;return n&&WI[n]?WI[n]:null},Xae=function(e,n){return GC(n).indexOf(e)},Qae=["children","width","height","viewBox","className","style","title","desc"];function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function Jae(t,e){if(t==null)return{};var n=Zae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _S(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=Jae(t,Qae),d=i||{width:n,height:r,x:0,y:0},f=Ct("recharts-surface",o);return H.createElement("svg",SS({},Pt(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),H.createElement("title",null,a),H.createElement("desc",null,l),e)}var ele=["children","className"];function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(this,arguments)}function tle(t,e){if(t==null)return{};var n=nle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $n=H.forwardRef(function(t,e){var n=t.children,r=t.className,i=tle(t,ele),o=Ct("recharts-layer",r);return H.createElement("g",ES({className:o},Pt(i,!0),{ref:e}),n)}),ec=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function rle(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var ile=rle,ole=ile;function sle(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:ole(t,e,n)}var ale=sle,lle="\\ud800-\\udfff",cle="\\u0300-\\u036f",ule="\\ufe20-\\ufe2f",dle="\\u20d0-\\u20ff",fle=cle+ule+dle,hle="\\ufe0e\\ufe0f",ple="\\u200d",mle=RegExp("["+ple+lle+fle+hle+"]");function gle(t){return mle.test(t)}var qV=gle;function yle(t){return t.split("")}var vle=yle,GV="\\ud800-\\udfff",xle="\\u0300-\\u036f",ble="\\ufe20-\\ufe2f",wle="\\u20d0-\\u20ff",Sle=xle+ble+wle,_le="\\ufe0e\\ufe0f",Ele="["+GV+"]",TS="["+Sle+"]",CS="\\ud83c[\\udffb-\\udfff]",Tle="(?:"+TS+"|"+CS+")",KV="[^"+GV+"]",YV="(?:\\ud83c[\\udde6-\\uddff]){2}",XV="[\\ud800-\\udbff][\\udc00-\\udfff]",Cle="\\u200d",QV=Tle+"?",JV="["+_le+"]?",Ale="(?:"+Cle+"(?:"+[KV,YV,XV].join("|")+")"+JV+QV+")*",Ple=JV+QV+Ale,Nle="(?:"+[KV+TS+"?",TS,YV,XV,Ele].join("|")+")",jle=RegExp(CS+"(?="+CS+")|"+Nle+Ple,"g");function Ile(t){return t.match(jle)||[]}var kle=Ile,Ole=vle,Rle=qV,Mle=kle;function Dle(t){return Rle(t)?Mle(t):Ole(t)}var $le=Dle,Lle=ale,Fle=qV,Vle=$le,Ble=VV;function Ule(t){return function(e){e=Ble(e);var n=Fle(e)?Vle(e):void 0,r=n?n[0]:e.charAt(0),i=n?Lle(n,1).join(""):e.slice(1);return r[t]()+i}}var zle=Ule,Wle=zle,Hle=Wle("toUpperCase"),qle=Hle;const x0=Gt(qle);function Zt(t){return function(){return t}}const ZV=Math.cos,ov=Math.sin,Vo=Math.sqrt,sv=Math.PI,b0=2*sv,AS=Math.PI,PS=2*AS,kl=1e-6,Gle=PS-kl;function e6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Kle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return e6;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Yle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?e6:Kle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,c=i-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>kl)if(!(Math.abs(f*l-c*d)>kl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,y=i-a,g=l*l+c*c,v=m*m+y*y,x=Math.sqrt(g),w=Math.sqrt(h),S=o*Math.tan((AS-Math.acos((g+h-v)/(2*x*w)))/2),C=S/w,E=S/x;Math.abs(C-1)>kl&&this._append`L${e+C*d},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*m>d*y)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,d=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>kl||Math.abs(this._y1-d)>kl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%PS+PS),h>Gle?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>kl&&this._append`A${r},${r},0,${+(h>=AS)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function KC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Yle(e)}function YC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function t6(t){this._context=t}t6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function w0(t){return new t6(t)}function n6(t){return t[0]}function r6(t){return t[1]}function i6(t,e){var n=Zt(!0),r=null,i=w0,o=null,s=KC(a);t=typeof t=="function"?t:t===void 0?n6:Zt(t),e=typeof e=="function"?e:e===void 0?r6:Zt(e);function a(l){var c,d=(l=YC(l)).length,f,h=!1,m;for(r==null&&(o=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(m)return o=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Zt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Zt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Zt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function ag(t,e,n){var r=null,i=Zt(!0),o=null,s=w0,a=null,l=KC(c);t=typeof t=="function"?t:t===void 0?n6:Zt(+t),e=typeof e=="function"?e:Zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?r6:Zt(+n);function c(f){var h,m,y,g=(f=YC(f)).length,v,x=!1,w,S=new Array(g),C=new Array(g);for(o==null&&(a=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=h-1;y>=m;--y)a.point(S[y],C[y]);a.lineEnd(),a.areaEnd()}x&&(S[h]=+t(v,h,f),C[h]=+e(v,h,f),a.point(r?+r(v,h,f):S[h],n?+n(v,h,f):C[h]))}if(w)return a=null,w+""||null}function d(){return i6().defined(i).curve(s).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Zt(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Zt(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Zt(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Zt(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Zt(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),c):s},c.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),c):o},c}class o6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Xle(t){return new o6(t,!0)}function Qle(t){return new o6(t,!1)}const XC={draw(t,e){const n=Vo(e/sv);t.moveTo(n,0),t.arc(0,0,n,0,b0)}},Jle={draw(t,e){const n=Vo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},s6=Vo(1/3),Zle=s6*2,ece={draw(t,e){const n=Vo(e/Zle),r=n*s6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},tce={draw(t,e){const n=Vo(e),r=-n/2;t.rect(r,r,n,n)}},nce=.8908130915292852,a6=ov(sv/10)/ov(7*sv/10),rce=ov(b0/10)*a6,ice=-ZV(b0/10)*a6,oce={draw(t,e){const n=Vo(e*nce),r=rce*n,i=ice*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=b0*o/5,a=ZV(s),l=ov(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},uw=Vo(3),sce={draw(t,e){const n=-Vo(e/(uw*3));t.moveTo(0,n*2),t.lineTo(-uw*n,-n),t.lineTo(uw*n,-n),t.closePath()}},Fi=-.5,Vi=Vo(3)/2,NS=1/Vo(12),ace=(NS/2+1)*3,lce={draw(t,e){const n=Vo(e/ace),r=n/2,i=n*NS,o=r,s=n*NS+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Fi*r-Vi*i,Vi*r+Fi*i),t.lineTo(Fi*o-Vi*s,Vi*o+Fi*s),t.lineTo(Fi*a-Vi*l,Vi*a+Fi*l),t.lineTo(Fi*r+Vi*i,Fi*i-Vi*r),t.lineTo(Fi*o+Vi*s,Fi*s-Vi*o),t.lineTo(Fi*a+Vi*l,Fi*l-Vi*a),t.closePath()}};function cce(t,e){let n=null,r=KC(i);t=typeof t=="function"?t:Zt(t||XC),e=typeof e=="function"?e:Zt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Zt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Zt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function av(){}function lv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function l6(t){this._context=t}l6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uce(t){return new l6(t)}function c6(t){this._context=t}c6.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dce(t){return new c6(t)}function u6(t){this._context=t}u6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fce(t){return new u6(t)}function d6(t){this._context=t}d6.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hce(t){return new d6(t)}function YI(t){return t<0?-1:1}function XI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(YI(o)+YI(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function QI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function cv(t){this._context=t}cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dw(this,this._t0,QI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dw(this,QI(this,n=XI(this,t,e)),n);break;default:dw(this,this._t0,n=XI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function f6(t){this._context=new h6(t)}(f6.prototype=Object.create(cv.prototype)).point=function(t,e){cv.prototype.point.call(this,e,t)};function h6(t){this._context=t}h6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function pce(t){return new cv(t)}function mce(t){return new f6(t)}function p6(t){this._context=t}p6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=JI(t),i=JI(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function JI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function gce(t){return new p6(t)}function S0(t,e){this._context=t,this._t=e}S0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yce(t){return new S0(t,.5)}function vce(t){return new S0(t,0)}function xce(t){return new S0(t,1)}function sd(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function jS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bce(t,e){return t[e]}function wce(t){const e=[];return e.key=t,e}function Sce(){var t=Zt([]),e=jS,n=sd,r=bce;function i(o){var s=Array.from(t.apply(this,arguments),wce),a,l=s.length,c=-1,d;for(const f of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(f,s[a].key,c,o)]).data=f;for(a=0,d=YC(e(s));a<l;++a)s[d[a]].index=a;return n(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Zt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Zt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?jS:typeof o=="function"?o:Zt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??sd,i):n},i}function _ce(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}sd(t,e)}}function Ece(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}sd(t,e)}}function Tce(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,y=0;y<a;++y){var g=t[e[y]],v=g[r][1]||0,x=g[r-1][1]||0;m+=v-x}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,sd(t,e)}}function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}var Cce=["type","size","sizeType"];function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IS.apply(this,arguments)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){Ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ace(t,e,n){return e=Pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=Nce(t,"string");return Xh(e)=="symbol"?e:e+""}function Nce(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jce(t,e){if(t==null)return{};var n=Ice(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ice(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var m6={symbolCircle:XC,symbolCross:Jle,symbolDiamond:ece,symbolSquare:tce,symbolStar:oce,symbolTriangle:sce,symbolWye:lce},kce=Math.PI/180,Oce=function(e){var n="symbol".concat(x0(e));return m6[n]||XC},Rce=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*kce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Mce=function(e,n){m6["symbol".concat(x0(e))]=n},QC=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=jce(e,Cce),c=e2(e2({},l),{},{type:r,size:o,sizeType:a}),d=function(){var v=Oce(r),x=cce().type(v).size(Rce(o,a,r));return x()},f=c.className,h=c.cx,m=c.cy,y=Pt(c,!0);return h===+h&&m===+m&&o===+o?H.createElement("path",IS({},y,{className:Ct("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};QC.registerSymbol=Mce;function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){Qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y6(r.key),r)}}function Fce(t,e,n){return e&&Lce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vce(t,e,n){return e=uv(e),Bce(t,g6()?Reflect.construct(e,n||[],uv(t).constructor):e.apply(t,n))}function Bce(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uce(t)}function Uce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g6=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uv(t)}function zce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OS(t,e)}function OS(t,e){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OS(t,e)}function Qh(t,e,n){return e=y6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y6(t){var e=Wce(t,"string");return ad(e)=="symbol"?e:e+""}function Wce(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bi=32,JC=function(t){function e(){return $ce(this,e),Vce(this,e,arguments)}return zce(e,t),Fce(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Bi/2,s=Bi/6,a=Bi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Bi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Bi,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Bi/8,"h").concat(Bi,"v").concat(Bi*3/4,"h").concat(-Bi,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var c=Dce({},r);return delete c.legendIcon,H.cloneElement(r.legendIcon,c)}return H.createElement(QC,{fill:l,cx:o,cy:o,size:Bi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Bi,height:Bi},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var g=m.formatter||l,v=Ct(Qh(Qh({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=St(m.value)?null:m.value;ec(!St(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?c:m.color;return H.createElement("li",kS({className:v,style:f,key:"legend-item-".concat(y)},iv(r.props,m,y)),H.createElement(_S,{width:s,height:s,viewBox:d,style:h},r.renderIcon(m)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(x,m,y):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(b.PureComponent);Qh(JC,"displayName","Legend");Qh(JC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hce=s0;function qce(){this.__data__=new Hce,this.size=0}var Gce=qce;function Kce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Yce=Kce;function Xce(t){return this.__data__.get(t)}var Qce=Xce;function Jce(t){return this.__data__.has(t)}var Zce=Jce,eue=s0,tue=FC,nue=VC,rue=200;function iue(t,e){var n=this.__data__;if(n instanceof eue){var r=n.__data__;if(!tue||r.length<rue-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nue(r)}return n.set(t,e),this.size=n.size,this}var oue=iue,sue=s0,aue=Gce,lue=Yce,cue=Qce,uue=Zce,due=oue;function Xd(t){var e=this.__data__=new sue(t);this.size=e.size}Xd.prototype.clear=aue;Xd.prototype.delete=lue;Xd.prototype.get=cue;Xd.prototype.has=uue;Xd.prototype.set=due;var v6=Xd,fue="__lodash_hash_undefined__";function hue(t){return this.__data__.set(t,fue),this}var pue=hue;function mue(t){return this.__data__.has(t)}var gue=mue,yue=VC,vue=pue,xue=gue;function dv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yue;++e<n;)this.add(t[e])}dv.prototype.add=dv.prototype.push=vue;dv.prototype.has=xue;var x6=dv;function bue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var b6=bue;function wue(t,e){return t.has(e)}var w6=wue,Sue=x6,_ue=b6,Eue=w6,Tue=1,Cue=2;function Aue(t,e,n,r,i,o){var s=n&Tue,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,m=n&Cue?new Sue:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var y=t[f],g=e[f];if(r)var v=s?r(g,y,f,e,t,o):r(y,g,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!_ue(e,function(x,w){if(!Eue(m,w)&&(y===x||i(y,x,n,r,o)))return m.push(w)})){h=!1;break}}else if(!(y===g||i(y,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var S6=Aue,Pue=Es,Nue=Pue.Uint8Array,jue=Nue;function Iue(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var kue=Iue;function Oue(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ZC=Oue,n2=im,r2=jue,Rue=LC,Mue=S6,Due=kue,$ue=ZC,Lue=1,Fue=2,Vue="[object Boolean]",Bue="[object Date]",Uue="[object Error]",zue="[object Map]",Wue="[object Number]",Hue="[object RegExp]",que="[object Set]",Gue="[object String]",Kue="[object Symbol]",Yue="[object ArrayBuffer]",Xue="[object DataView]",i2=n2?n2.prototype:void 0,fw=i2?i2.valueOf:void 0;function Que(t,e,n,r,i,o,s){switch(n){case Xue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yue:return!(t.byteLength!=e.byteLength||!o(new r2(t),new r2(e)));case Vue:case Bue:case Wue:return Rue(+t,+e);case Uue:return t.name==e.name&&t.message==e.message;case Hue:case Gue:return t==e+"";case zue:var a=Due;case que:var l=r&Lue;if(a||(a=$ue),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Fue,s.set(t,e);var d=Mue(a(t),a(e),r,i,o,s);return s.delete(t),d;case Kue:if(fw)return fw.call(t)==fw.call(e)}return!1}var Jue=Que;function Zue(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _6=Zue,ede=_6,tde=pi;function nde(t,e,n){var r=e(t);return tde(t)?r:ede(r,n(t))}var rde=nde;function ide(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var ode=ide;function sde(){return[]}var ade=sde,lde=ode,cde=ade,ude=Object.prototype,dde=ude.propertyIsEnumerable,o2=Object.getOwnPropertySymbols,fde=o2?function(t){return t==null?[]:(t=Object(t),lde(o2(t),function(e){return dde.call(t,e)}))}:cde,hde=fde;function pde(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var mde=pde,gde=da,yde=fa,vde="[object Arguments]";function xde(t){return yde(t)&&gde(t)==vde}var bde=xde,s2=bde,wde=fa,E6=Object.prototype,Sde=E6.hasOwnProperty,_de=E6.propertyIsEnumerable,Ede=s2(function(){return arguments}())?s2:function(t){return wde(t)&&Sde.call(t,"callee")&&!_de.call(t,"callee")},eA=Ede,fv={exports:{}};function Tde(){return!1}var Cde=Tde;fv.exports;(function(t,e){var n=Es,r=Cde,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(fv,fv.exports);var T6=fv.exports,Ade=9007199254740991,Pde=/^(?:0|[1-9]\d*)$/;function Nde(t,e){var n=typeof t;return e=e??Ade,!!e&&(n=="number"||n!="symbol"&&Pde.test(t))&&t>-1&&t%1==0&&t<e}var tA=Nde,jde=9007199254740991;function Ide(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jde}var nA=Ide,kde=da,Ode=nA,Rde=fa,Mde="[object Arguments]",Dde="[object Array]",$de="[object Boolean]",Lde="[object Date]",Fde="[object Error]",Vde="[object Function]",Bde="[object Map]",Ude="[object Number]",zde="[object Object]",Wde="[object RegExp]",Hde="[object Set]",qde="[object String]",Gde="[object WeakMap]",Kde="[object ArrayBuffer]",Yde="[object DataView]",Xde="[object Float32Array]",Qde="[object Float64Array]",Jde="[object Int8Array]",Zde="[object Int16Array]",efe="[object Int32Array]",tfe="[object Uint8Array]",nfe="[object Uint8ClampedArray]",rfe="[object Uint16Array]",ife="[object Uint32Array]",un={};un[Xde]=un[Qde]=un[Jde]=un[Zde]=un[efe]=un[tfe]=un[nfe]=un[rfe]=un[ife]=!0;un[Mde]=un[Dde]=un[Kde]=un[$de]=un[Yde]=un[Lde]=un[Fde]=un[Vde]=un[Bde]=un[Ude]=un[zde]=un[Wde]=un[Hde]=un[qde]=un[Gde]=!1;function ofe(t){return Rde(t)&&Ode(t.length)&&!!un[kde(t)]}var sfe=ofe;function afe(t){return function(e){return t(e)}}var C6=afe,hv={exports:{}};hv.exports;(function(t,e){var n=RV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(hv,hv.exports);var lfe=hv.exports,cfe=sfe,ufe=C6,a2=lfe,l2=a2&&a2.isTypedArray,dfe=l2?ufe(l2):cfe,A6=dfe,ffe=mde,hfe=eA,pfe=pi,mfe=T6,gfe=tA,yfe=A6,vfe=Object.prototype,xfe=vfe.hasOwnProperty;function bfe(t,e){var n=pfe(t),r=!n&&hfe(t),i=!n&&!r&&mfe(t),o=!n&&!r&&!i&&yfe(t),s=n||r||i||o,a=s?ffe(t.length,String):[],l=a.length;for(var c in t)(e||xfe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gfe(c,l)))&&a.push(c);return a}var wfe=bfe,Sfe=Object.prototype;function _fe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Sfe;return t===n}var Efe=_fe;function Tfe(t,e){return function(n){return t(e(n))}}var P6=Tfe,Cfe=P6,Afe=Cfe(Object.keys,Object),Pfe=Afe,Nfe=Efe,jfe=Pfe,Ife=Object.prototype,kfe=Ife.hasOwnProperty;function Ofe(t){if(!Nfe(t))return jfe(t);var e=[];for(var n in Object(t))kfe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Rfe=Ofe,Mfe=$C,Dfe=nA;function $fe(t){return t!=null&&Dfe(t.length)&&!Mfe(t)}var _0=$fe,Lfe=wfe,Ffe=Rfe,Vfe=_0;function Bfe(t){return Vfe(t)?Lfe(t):Ffe(t)}var rA=Bfe,Ufe=rde,zfe=hde,Wfe=rA;function Hfe(t){return Ufe(t,Wfe,zfe)}var qfe=Hfe,c2=qfe,Gfe=1,Kfe=Object.prototype,Yfe=Kfe.hasOwnProperty;function Xfe(t,e,n,r,i,o){var s=n&Gfe,a=c2(t),l=a.length,c=c2(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:Yfe.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=s;++f<l;){h=a[f];var x=t[h],w=e[h];if(r)var S=s?r(w,x,h,e,t,o):r(x,w,h,t,e,o);if(!(S===void 0?x===w||i(x,w,n,r,o):S)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var Qfe=Xfe,Jfe=Nc,Zfe=Es,ehe=Jfe(Zfe,"DataView"),the=ehe,nhe=Nc,rhe=Es,ihe=nhe(rhe,"Promise"),ohe=ihe,she=Nc,ahe=Es,lhe=she(ahe,"Set"),N6=lhe,che=Nc,uhe=Es,dhe=che(uhe,"WeakMap"),fhe=dhe,RS=the,MS=FC,DS=ohe,$S=N6,LS=fhe,j6=da,Qd=DV,u2="[object Map]",hhe="[object Object]",d2="[object Promise]",f2="[object Set]",h2="[object WeakMap]",p2="[object DataView]",phe=Qd(RS),mhe=Qd(MS),ghe=Qd(DS),yhe=Qd($S),vhe=Qd(LS),Ol=j6;(RS&&Ol(new RS(new ArrayBuffer(1)))!=p2||MS&&Ol(new MS)!=u2||DS&&Ol(DS.resolve())!=d2||$S&&Ol(new $S)!=f2||LS&&Ol(new LS)!=h2)&&(Ol=function(t){var e=j6(t),n=e==hhe?t.constructor:void 0,r=n?Qd(n):"";if(r)switch(r){case phe:return p2;case mhe:return u2;case ghe:return d2;case yhe:return f2;case vhe:return h2}return e});var xhe=Ol,hw=v6,bhe=S6,whe=Jue,She=Qfe,m2=xhe,g2=pi,y2=T6,_he=A6,Ehe=1,v2="[object Arguments]",x2="[object Array]",lg="[object Object]",The=Object.prototype,b2=The.hasOwnProperty;function Che(t,e,n,r,i,o){var s=g2(t),a=g2(e),l=s?x2:m2(t),c=a?x2:m2(e);l=l==v2?lg:l,c=c==v2?lg:c;var d=l==lg,f=c==lg,h=l==c;if(h&&y2(t)){if(!y2(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new hw),s||_he(t)?bhe(t,e,n,r,i,o):whe(t,e,l,n,r,i,o);if(!(n&Ehe)){var m=d&&b2.call(t,"__wrapped__"),y=f&&b2.call(e,"__wrapped__");if(m||y){var g=m?t.value():t,v=y?e.value():e;return o||(o=new hw),i(g,v,n,r,o)}}return h?(o||(o=new hw),She(t,e,n,r,i,o)):!1}var Ahe=Che,Phe=Ahe,w2=fa;function I6(t,e,n,r,i){return t===e?!0:t==null||e==null||!w2(t)&&!w2(e)?t!==t&&e!==e:Phe(t,e,n,r,I6,i)}var iA=I6,Nhe=v6,jhe=iA,Ihe=1,khe=2;function Ohe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],d=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Nhe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?jhe(d,c,Ihe|khe,r,f):h))return!1}}return!0}var Rhe=Ohe,Mhe=wl;function Dhe(t){return t===t&&!Mhe(t)}var k6=Dhe,$he=k6,Lhe=rA;function Fhe(t){for(var e=Lhe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$he(i)]}return e}var Vhe=Fhe;function Bhe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var O6=Bhe,Uhe=Rhe,zhe=Vhe,Whe=O6;function Hhe(t){var e=zhe(t);return e.length==1&&e[0][2]?Whe(e[0][0],e[0][1]):function(n){return n===t||Uhe(n,t,e)}}var qhe=Hhe;function Ghe(t,e){return t!=null&&e in Object(t)}var Khe=Ghe,Yhe=BV,Xhe=eA,Qhe=pi,Jhe=tA,Zhe=nA,epe=l0;function tpe(t,e,n){e=Yhe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=epe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Zhe(i)&&Jhe(s,i)&&(Qhe(t)||Xhe(t)))}var npe=tpe,rpe=Khe,ipe=npe;function ope(t,e){return t!=null&&ipe(t,e,rpe)}var spe=ope,ape=iA,lpe=UV,cpe=spe,upe=DC,dpe=k6,fpe=O6,hpe=l0,ppe=1,mpe=2;function gpe(t,e){return upe(t)&&dpe(e)?fpe(hpe(t),e):function(n){var r=lpe(n,t);return r===void 0&&r===e?cpe(n,t):ape(e,r,ppe|mpe)}}var ype=gpe;function vpe(t){return t}var Jd=vpe;function xpe(t){return function(e){return e==null?void 0:e[t]}}var bpe=xpe,wpe=zC;function Spe(t){return function(e){return wpe(e,t)}}var _pe=Spe,Epe=bpe,Tpe=_pe,Cpe=DC,Ape=l0;function Ppe(t){return Cpe(t)?Epe(Ape(t)):Tpe(t)}var Npe=Ppe,jpe=qhe,Ipe=ype,kpe=Jd,Ope=pi,Rpe=Npe;function Mpe(t){return typeof t=="function"?t:t==null?kpe:typeof t=="object"?Ope(t)?Ipe(t[0],t[1]):jpe(t):Rpe(t)}var Zd=Mpe;function Dpe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var $pe=Dpe;function Lpe(t){return t!==t}var Fpe=Lpe;function Vpe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Bpe=Vpe,Upe=$pe,zpe=Fpe,Wpe=Bpe;function Hpe(t,e,n){return e===e?Wpe(t,e,n):Upe(t,zpe,n)}var qpe=Hpe,Gpe=qpe;function Kpe(t,e){var n=t==null?0:t.length;return!!n&&Gpe(t,e,0)>-1}var Ype=Kpe;function Xpe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Qpe=Xpe;function Jpe(){}var Zpe=Jpe,pw=N6,eme=Zpe,tme=ZC,nme=1/0,rme=pw&&1/tme(new pw([,-0]))[1]==nme?function(t){return new pw(t)}:eme,ime=rme,ome=x6,sme=Ype,ame=Qpe,lme=w6,cme=ime,ume=ZC,dme=200;function fme(t,e,n){var r=-1,i=sme,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=ame;else if(o>=dme){var c=e?null:cme(t);if(c)return ume(c);s=!1,i=lme,l=new ome}else l=e?[]:a;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(d)}else i(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var hme=fme,pme=Zd,mme=hme;function gme(t,e){return t&&t.length?mme(t,pme(e)):[]}var yme=gme;const S2=Gt(yme);function R6(t,e,n){return e===!0?S2(t,n):St(e)?S2(t,e):t}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}var vme=["ref"];function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){E0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D6(r.key),r)}}function bme(t,e,n){return e&&E2(t.prototype,e),n&&E2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wme(t,e,n){return e=pv(e),Sme(t,M6()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function Sme(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _me(t)}function _me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M6=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function Eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FS(t,e)}function FS(t,e){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FS(t,e)}function E0(t,e,n){return e=D6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D6(t){var e=Tme(t,"string");return ld(e)=="symbol"?e:e+""}function Tme(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cme(t,e){if(t==null)return{};var n=Ame(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ame(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pme(t){return t.value}function Nme(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var n=Cme(e,vme);return H.createElement(JC,n)}var T2=1,Pu=function(t){function e(){var n;xme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wme(this,e,[].concat(i)),E0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Eme(e,t),bme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>T2||Math.abs(i.height-this.lastBoundingBox.height)>T2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Is({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((c||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Is(Is({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Is(Is({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return H.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Nme(o,Is(Is({},this.props),{},{payload:R6(d,c,Pme)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Is(Is({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&je(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(b.PureComponent);E0(Pu,"displayName","Legend");E0(Pu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var C2=im,jme=eA,Ime=pi,A2=C2?C2.isConcatSpreadable:void 0;function kme(t){return Ime(t)||jme(t)||!!(A2&&t&&t[A2])}var Ome=kme,Rme=_6,Mme=Ome;function $6(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Mme),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?$6(a,e-1,n,r,i):Rme(i,a):r||(i[i.length]=a)}return i}var L6=$6;function Dme(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var $me=Dme,Lme=$me,Fme=Lme(),Vme=Fme,Bme=Vme,Ume=rA;function zme(t,e){return t&&Bme(t,e,Ume)}var F6=zme,Wme=_0;function Hme(t,e){return function(n,r){if(n==null)return n;if(!Wme(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var qme=Hme,Gme=F6,Kme=qme,Yme=Kme(Gme),oA=Yme,Xme=oA,Qme=_0;function Jme(t,e){var n=-1,r=Qme(t)?Array(t.length):[];return Xme(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var V6=Jme;function Zme(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ege=Zme,P2=Hd;function tge(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=P2(t),s=e!==void 0,a=e===null,l=e===e,c=P2(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var nge=tge,rge=nge;function ige(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=rge(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var oge=ige,mw=UC,sge=zC,age=Zd,lge=V6,cge=ege,uge=C6,dge=oge,fge=Jd,hge=pi;function pge(t,e,n){e.length?e=mw(e,function(o){return hge(o)?function(s){return sge(s,o.length===1?o[0]:o)}:o}):e=[fge];var r=-1;e=mw(e,uge(age));var i=lge(t,function(o,s,a){var l=mw(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return cge(i,function(o,s){return dge(o,s,n)})}var mge=pge;function gge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var yge=gge,vge=yge,N2=Math.max;function xge(t,e,n){return e=N2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=N2(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),vge(t,this,a)}}var bge=xge;function wge(t){return function(){return t}}var Sge=wge,_ge=Nc,Ege=function(){try{var t=_ge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),B6=Ege,Tge=Sge,j2=B6,Cge=Jd,Age=j2?function(t,e){return j2(t,"toString",{configurable:!0,enumerable:!1,value:Tge(e),writable:!0})}:Cge,Pge=Age,Nge=800,jge=16,Ige=Date.now;function kge(t){var e=0,n=0;return function(){var r=Ige(),i=jge-(r-n);if(n=r,i>0){if(++e>=Nge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Oge=kge,Rge=Pge,Mge=Oge,Dge=Mge(Rge),$ge=Dge,Lge=Jd,Fge=bge,Vge=$ge;function Bge(t,e){return Vge(Fge(t,e,Lge),t+"")}var Uge=Bge,zge=LC,Wge=_0,Hge=tA,qge=wl;function Gge(t,e,n){if(!qge(n))return!1;var r=typeof e;return(r=="number"?Wge(n)&&Hge(e,n.length):r=="string"&&e in n)?zge(n[e],t):!1}var T0=Gge,Kge=L6,Yge=mge,Xge=Uge,I2=T0,Qge=Xge(function(t,e){if(t==null)return[];var n=e.length;return n>1&&I2(t,e[0],e[1])?e=[]:n>2&&I2(e[0],e[1],e[2])&&(e=[e[0]]),Yge(t,Kge(e,1),[])}),Jge=Qge;const sA=Gt(Jge);function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(this,arguments)}function Zge(t,e){return rye(t)||nye(t,e)||tye(t,e)||eye()}function eye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tye(t,e){if(t){if(typeof t=="string")return k2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k2(t,e)}}function k2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function rye(t){if(Array.isArray(t))return t}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){iye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iye(t,e,n){return e=oye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oye(t){var e=sye(t,"string");return Jh(e)=="symbol"?e:e+""}function sye(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aye(t){return Array.isArray(t)&&Qn(t[0])&&Qn(t[1])?t.join(" ~ "):t}var lye=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,S=function(){if(d&&d.length){var R={padding:0,margin:0},O=(h?sA(d,h):d).map(function($,F){if($.type==="none")return null;var U=gw({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},a),W=$.formatter||f||aye,V=$.value,B=$.name,Z=V,Q=B;if(W&&Z!=null&&Q!=null){var ne=W(V,B,$,F,d);if(Array.isArray(ne)){var _e=Zge(ne,2);Z=_e[0],Q=_e[1]}else Z=ne}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:U},Qn(Q)?H.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Qn(Q)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},Z),H.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},C=gw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=gw({margin:0},c),P=!vt(g),_=P?g:"",T=Ct("recharts-default-tooltip",m),N=Ct("recharts-tooltip-label",y);P&&v&&d!==void 0&&d!==null&&(_=v(g,d));var k=w?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",VS({className:T,style:C},k),H.createElement("p",{className:N,style:E},H.isValidElement(_)?_:"".concat(_)),S())};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function cg(t,e,n){return e=cye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cye(t){var e=uye(t,"string");return Zh(e)=="symbol"?e:e+""}function uye(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wf="recharts-tooltip-wrapper",dye={visibility:"hidden"};function fye(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ct(wf,cg(cg(cg(cg({},"".concat(wf,"-right"),je(n)&&e&&je(e.x)&&n>=e.x),"".concat(wf,"-left"),je(n)&&e&&je(e.x)&&n<e.x),"".concat(wf,"-bottom"),je(r)&&e&&je(e.y)&&r>=e.y),"".concat(wf,"-top"),je(r)&&e&&je(e.y)&&r<e.y))}function R2(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&je(o[r]))return o[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var y=f+a,g=l[r]+c;return y>g?Math.max(d,l[r]):Math.max(f,l[r])}function hye(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function pye(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&n?(d=R2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=R2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=hye({translateX:d,translateY:f,useTranslate3d:a})):c=dye,{cssProperties:c,cssClasses:fye({translateX:d,translateY:f,coordinate:n})}}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){US(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z6(r.key),r)}}function yye(t,e,n){return e&&gye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vye(t,e,n){return e=mv(e),xye(t,U6()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function xye(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bye(t)}function bye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U6=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function wye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BS(t,e)}function BS(t,e){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BS(t,e)}function US(t,e,n){return e=z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6(t){var e=Sye(t,"string");return cd(e)=="symbol"?e:e+""}function Sye(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $2=1,_ye=function(t){function e(){var n;mye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vye(this,e,[].concat(i)),US(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),US(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return wye(e,t),yye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$2||Math.abs(r.height-this.state.lastBoundingBox.height)>$2)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,S=pye({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),C=S.cssClasses,E=S.cssProperties,P=D2(D2({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return H.createElement("div",{tabIndex:-1,className:C,style:P,ref:function(T){r.wrapperNode=T}},c)}}])}(b.PureComponent),Eye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qs={isSsr:Eye(),get:function(e){return qs[e]},set:function(e,n){if(typeof e=="string")qs[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){qs[i]=e[i]})}}};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){aA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H6(r.key),r)}}function Aye(t,e,n){return e&&Cye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pye(t,e,n){return e=gv(e),Nye(t,W6()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function Nye(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jye(t)}function jye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W6=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function Iye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zS(t,e)}function aA(t,e,n){return e=H6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6(t){var e=kye(t,"string");return ud(e)=="symbol"?e:e+""}function kye(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oye(t){return t.dataKey}function Rye(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(lye,e)}var Yo=function(t){function e(){return Tye(this,e),Pye(this,e,arguments)}return Iye(e,t),Aye(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,C=i.wrapperStyle,E=y??[];f&&E.length&&(E=R6(y.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),g,Oye));var P=E.length>0;return H.createElement(_ye,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:P,offset:m,position:v,reverseDirection:x,useTranslate3d:w,viewBox:S,wrapperStyle:C},Rye(c,F2(F2({},this.props),{},{payload:E})))}}])}(b.PureComponent);aA(Yo,"displayName","Tooltip");aA(Yo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Mye=Es,Dye=function(){return Mye.Date.now()},$ye=Dye,Lye=/\s/;function Fye(t){for(var e=t.length;e--&&Lye.test(t.charAt(e)););return e}var Vye=Fye,Bye=Vye,Uye=/^\s+/;function zye(t){return t&&t.slice(0,Bye(t)+1).replace(Uye,"")}var Wye=zye,Hye=Wye,V2=wl,qye=Hd,B2=NaN,Gye=/^[-+]0x[0-9a-f]+$/i,Kye=/^0b[01]+$/i,Yye=/^0o[0-7]+$/i,Xye=parseInt;function Qye(t){if(typeof t=="number")return t;if(qye(t))return B2;if(V2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=V2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Hye(t);var n=Kye.test(t);return n||Yye.test(t)?Xye(t.slice(2),n?2:8):Gye.test(t)?B2:+t}var q6=Qye,Jye=wl,yw=$ye,U2=q6,Zye="Expected a function",eve=Math.max,tve=Math.min;function nve(t,e,n){var r,i,o,s,a,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Zye);e=U2(e)||0,Jye(n)&&(d=!!n.leading,f="maxWait"in n,o=f?eve(U2(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(P){var _=r,T=i;return r=i=void 0,c=P,s=t.apply(T,_),s}function y(P){return c=P,a=setTimeout(x,e),d?m(P):s}function g(P){var _=P-l,T=P-c,N=e-_;return f?tve(N,o-T):N}function v(P){var _=P-l,T=P-c;return l===void 0||_>=e||_<0||f&&T>=o}function x(){var P=yw();if(v(P))return w(P);a=setTimeout(x,g(P))}function w(P){return a=void 0,h&&r?m(P):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(yw())}function E(){var P=yw(),_=v(P);if(r=arguments,i=this,l=P,_){if(a===void 0)return y(l);if(f)return clearTimeout(a),a=setTimeout(x,e),m(l)}return a===void 0&&(a=setTimeout(x,e)),s}return E.cancel=S,E.flush=C,E}var rve=nve,ive=rve,ove=wl,sve="Expected a function";function ave(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(sve);return ove(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ive(t,e,{leading:r,maxWait:e,trailing:i})}var lve=ave;const G6=Gt(lve);function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){cve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cve(t,e,n){return e=uve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uve(t){var e=dve(t,"string");return ep(e)=="symbol"?e:e+""}function dve(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fve(t,e){return gve(t)||mve(t,e)||pve(t,e)||hve()}function hve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pve(t,e){if(t){if(typeof t=="string")return W2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W2(t,e)}}function W2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function gve(t){if(Array.isArray(t))return t}var yve=b.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,x=t.className,w=t.onResize,S=t.style,C=S===void 0?{}:S,E=b.useRef(null),P=b.useRef();P.current=w,b.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=b.useState({containerWidth:i.width,containerHeight:i.height}),T=fve(_,2),N=T[0],k=T[1],j=b.useCallback(function(O,$){k(function(F){var U=Math.round(O),W=Math.round($);return F.containerWidth===U&&F.containerHeight===W?F:{containerWidth:U,containerHeight:W}})},[]);b.useEffect(function(){var O=function(B){var Z,Q=B[0].contentRect,ne=Q.width,_e=Q.height;j(ne,_e),(Z=P.current)===null||Z===void 0||Z.call(P,ne,_e)};g>0&&(O=G6(O,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(O),F=E.current.getBoundingClientRect(),U=F.width,W=F.height;return j(U,W),$.observe(E.current),function(){$.disconnect()}},[j,g]);var R=b.useMemo(function(){var O=N.containerWidth,$=N.containerHeight;if(O<0||$<0)return null;ec(Ul(s)||Ul(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ec(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Ul(s)?O:s,U=Ul(l)?$:l;n&&n>0&&(F?U=F/n:U&&(F=U*n),h&&U>h&&(U=h)),ec(F>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,U,s,l,d,f,n);var W=!Array.isArray(m)&&Hs(m.type).endsWith("Chart");return H.Children.map(m,function(V){return H.isValidElement(V)?b.cloneElement(V,ug({width:F,height:U},W?{style:ug({height:"100%",width:"100%",maxHeight:U,maxWidth:F},V.props.style)}:{})):V})},[n,m,l,h,f,d,N,s]);return H.createElement("div",{id:v?"".concat(v):void 0,className:Ct("recharts-responsive-container",x),style:ug(ug({},C),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},R)}),K6=function(e){return null};K6.displayName="Cell";function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){vve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vve(t,e,n){return e=xve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xve(t){var e=bve(t,"string");return tp(e)=="symbol"?e:e+""}function bve(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uc={widthCache:{},cacheCount:0},wve=2e3,Sve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},q2="recharts_measurement_span";function _ve(t){var e=WS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ah=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||qs.isSsr)return{width:0,height:0};var r=_ve(n),i=JSON.stringify({text:e,copyStyle:r});if(Uc.widthCache[i])return Uc.widthCache[i];try{var o=document.getElementById(q2);o||(o=document.createElement("span"),o.setAttribute("id",q2),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=WS(WS({},Sve),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Uc.widthCache[i]=l,++Uc.cacheCount>wve&&(Uc.cacheCount=0,Uc.widthCache={}),l}catch{return{width:0,height:0}}},Eve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function yv(t,e){return Pve(t)||Ave(t,e)||Cve(t,e)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cve(t,e){if(t){if(typeof t=="string")return G2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G2(t,e)}}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ave(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Pve(t){if(Array.isArray(t))return t}function Nve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ive(r.key),r)}}function jve(t,e,n){return e&&K2(t.prototype,e),n&&K2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ive(t){var e=kve(t,"string");return np(e)=="symbol"?e:e+""}function kve(t,e){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ove=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Y6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mve=Object.keys(Y6),du="NaN";function Dve(t,e){return t*Y6[e]}var dg=function(){function t(e,n){Nve(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ove.test(n)&&(this.num=NaN,this.unit=""),Mve.includes(n)&&(this.num=Dve(e,n),this.unit="px")}return jve(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Rve.exec(n))!==null&&r!==void 0?r:[],o=yv(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function X6(t){if(t.includes(du))return du;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Y2.exec(e))!==null&&n!==void 0?n:[],i=yv(r,4),o=i[1],s=i[2],a=i[3],l=dg.parse(o??""),c=dg.parse(a??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return du;e=e.replace(Y2,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=X2.exec(e))!==null&&f!==void 0?f:[],m=yv(h,4),y=m[1],g=m[2],v=m[3],x=dg.parse(y??""),w=dg.parse(v??""),S=g==="+"?x.add(w):x.subtract(w);if(S.isNaN())return du;e=e.replace(X2,S.toString())}return e}var Q2=/\(([^()]*)\)/;function $ve(t){for(var e=t;e.includes("(");){var n=Q2.exec(e),r=yv(n,2),i=r[1];e=e.replace(Q2,X6(i))}return e}function Lve(t){var e=t.replace(/\s+/g,"");return e=$ve(e),e=X6(e),e}function Fve(t){try{return Lve(t)}catch{return du}}function vw(t){var e=Fve(t.slice(5,-1));return e===du?"":e}var Vve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bve=["dx","dy","angle","className","breakAll"];function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HS.apply(this,arguments)}function J2(t,e){if(t==null)return{};var n=Uve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z2(t,e){return qve(t)||Hve(t,e)||Wve(t,e)||zve()}function zve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wve(t,e){if(t){if(typeof t=="string")return ek(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function qve(t){if(Array.isArray(t))return t}var Q6=/[ \f\n\r\t\v\u2028\u2029]+/,J6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];vt(n)||(r?o=n.toString().split(""):o=n.toString().split(Q6));var s=o.map(function(l){return{word:l,width:ah(l,i).width}}),a=r?0:ah("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Gve=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,d=je(s),f=a,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(U,W){var V=W.word,B=W.width,Z=U[U.length-1];if(Z&&(i==null||o||Z.width+B+r<Number(i)))Z.words.push(V),Z.width+=B+r;else{var Q={words:[V],width:B};U.push(Q)}return U},[])},m=h(n),y=function(F){return F.reduce(function(U,W){return U.width>W.width?U:W})};if(!d)return m;for(var g="",v=function(F){var U=f.slice(0,F),W=J6({breakAll:c,style:l,children:U+g}).wordsWithComputedWidth,V=h(W),B=V.length>s||y(V).width>Number(i);return[B,V]},x=0,w=f.length-1,S=0,C;x<=w&&S<=f.length-1;){var E=Math.floor((x+w)/2),P=E-1,_=v(P),T=Z2(_,2),N=T[0],k=T[1],j=v(E),R=Z2(j,1),O=R[0];if(!N&&!O&&(x=E+1),N&&O&&(w=E-1),!N&&O){C=k;break}S++}return C||m},tk=function(e){var n=vt(e)?[]:e.toString().split(Q6);return[{words:n}]},Kve=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!qs.isSsr){var l,c,d=J6({breakAll:s,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return tk(i);return Gve({breakAll:s,children:i,maxLines:a,style:o},l,c,n,r)}return tk(i)},nk="#808080",vv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,x=v===void 0?nk:v,w=J2(e,Vve),S=b.useMemo(function(){return Kve({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),C=w.dx,E=w.dy,P=w.angle,_=w.className,T=w.breakAll,N=J2(w,Bve);if(!Qn(r)||!Qn(o))return null;var k=r+(je(C)?C:0),j=o+(je(E)?E:0),R;switch(g){case"start":R=vw("calc(".concat(c,")"));break;case"middle":R=vw("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:R=vw("calc(".concat(S.length-1," * -").concat(a,")"));break}var O=[];if(f){var $=S[0].width,F=w.width;O.push("scale(".concat((je(F)?F/$:1)/$,")"))}return P&&O.push("rotate(".concat(P,", ").concat(k,", ").concat(j,")")),O.length&&(N.transform=O.join(" ")),H.createElement("text",HS({},Pt(N,!0),{x:k,y:j,className:Ct("recharts-text",_),textAnchor:m,fill:x.includes("url")?nk:x}),S.map(function(U,W){var V=U.words.join(T?"":" ");return H.createElement("tspan",{x:k,dy:W===0?R:a,key:"".concat(V,"-").concat(W)},V)}))};function nl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lA(t){let e,n,r;t.length!==2?(e=nl,n=(a,l)=>nl(t(a),l),r=(a,l)=>t(a)-l):(e=t===nl||t===Yve?t:Xve,n=t,r=t);function i(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(a,l,c=0,d=a.length){const f=i(a,l,c,d-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function Xve(){return 0}function Z6(t){return t===null?NaN:+t}function*Qve(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Jve=lA(nl),am=Jve.right;lA(Z6).center;class rk extends Map{constructor(e,n=txe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ik(this,e))}has(e){return super.has(ik(this,e))}set(e,n){return super.set(Zve(this,e),n)}delete(e){return super.delete(exe(this,e))}}function ik({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Zve({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function exe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function txe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function nxe(t=nl){if(t===nl)return eB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function eB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const rxe=Math.sqrt(50),ixe=Math.sqrt(10),oxe=Math.sqrt(2);function xv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=rxe?10:o>=ixe?5:o>=oxe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?xv(t,e,n*2):[a,l,c]}function qS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?xv(e,t,n):xv(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function GS(t,e,n){return e=+e,t=+t,n=+n,xv(t,e,n)[2]}function KS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?GS(e,t,n):GS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ok(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function sk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?eB:nxe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*f/l+h)),y=Math.min(r,Math.floor(e+(l-c)*f/l+h));tB(t,e,m,y,i)}const o=t[e];let s=n,a=r;for(Sf(t,n,e),i(t[r],o)>0&&Sf(t,n,r);s<a;){for(Sf(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Sf(t,n,a):(++a,Sf(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Sf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function sxe(t,e,n){if(t=Float64Array.from(Qve(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return sk(t);if(e>=1)return ok(t);var r,i=(r-1)*e,o=Math.floor(i),s=ok(tB(t,o).subarray(0,o+1)),a=sk(t.subarray(o+1));return s+(a-s)*(i-o)}}function axe(t,e,n=Z6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function lxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ha(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const YS=Symbol("implicit");function cA(){var t=new rk,e=[],n=[],r=YS;function i(o){let s=t.get(o);if(s===void 0){if(r!==YS)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new rk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cA(e,n).unknown(r)},oo.apply(i,arguments),i}function rp(){var t=cA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,y=m?i:r,g=m?r:i;o=(g-y)/Math.max(1,h-l+c*2),a&&(o=Math.floor(o)),y+=(g-y-o*(h-l))*d,s=o*(1-l),a&&(y=Math.round(y),s=Math.round(s));var v=lxe(h).map(function(x){return y+o*x});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return rp(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},oo.apply(f(),arguments)}function nB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nB(e())},t}function lh(){return nB(rp.apply(null,arguments).paddingInner(1))}function uA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lm(){}var ip=.7,bv=1/ip,Nu="\\s*([+-]?\\d+)\\s*",op="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ms="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cxe=/^#([0-9a-f]{3,8})$/,uxe=new RegExp(`^rgb\\(${Nu},${Nu},${Nu}\\)$`),dxe=new RegExp(`^rgb\\(${ms},${ms},${ms}\\)$`),fxe=new RegExp(`^rgba\\(${Nu},${Nu},${Nu},${op}\\)$`),hxe=new RegExp(`^rgba\\(${ms},${ms},${ms},${op}\\)$`),pxe=new RegExp(`^hsl\\(${op},${ms},${ms}\\)$`),mxe=new RegExp(`^hsla\\(${op},${ms},${ms},${op}\\)$`),ak={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uA(lm,sp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lk,formatHex:lk,formatHex8:gxe,formatHsl:yxe,formatRgb:ck,toString:ck});function lk(){return this.rgb().formatHex()}function gxe(){return this.rgb().formatHex8()}function yxe(){return iB(this).formatHsl()}function ck(){return this.rgb().formatRgb()}function sp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=cxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uk(e):n===3?new ui(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uxe.exec(t))?new ui(e[1],e[2],e[3],1):(e=dxe.exec(t))?new ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fxe.exec(t))?fg(e[1],e[2],e[3],e[4]):(e=hxe.exec(t))?fg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pxe.exec(t))?hk(e[1],e[2]/100,e[3]/100,1):(e=mxe.exec(t))?hk(e[1],e[2]/100,e[3]/100,e[4]):ak.hasOwnProperty(t)?uk(ak[t]):t==="transparent"?new ui(NaN,NaN,NaN,0):null}function uk(t){return new ui(t>>16&255,t>>8&255,t&255,1)}function fg(t,e,n,r){return r<=0&&(t=e=n=NaN),new ui(t,e,n,r)}function vxe(t){return t instanceof lm||(t=sp(t)),t?(t=t.rgb(),new ui(t.r,t.g,t.b,t.opacity)):new ui}function XS(t,e,n,r){return arguments.length===1?vxe(t):new ui(t,e,n,r??1)}function ui(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}uA(ui,XS,rB(lm,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new ui(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ip:Math.pow(ip,t),new ui(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ui(tc(this.r),tc(this.g),tc(this.b),wv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dk,formatHex:dk,formatHex8:xxe,formatRgb:fk,toString:fk}));function dk(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}`}function xxe(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}${zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function fk(){const t=wv(this.opacity);return`${t===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${t===1?")":`, ${t})`}`}function wv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zl(t){return t=tc(t),(t<16?"0":"")+t.toString(16)}function hk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new To(t,e,n,r)}function iB(t){if(t instanceof To)return new To(t.h,t.s,t.l,t.opacity);if(t instanceof lm||(t=sp(t)),!t)return new To;if(t instanceof To)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new To(s,a,l,t.opacity)}function bxe(t,e,n,r){return arguments.length===1?iB(t):new To(t,e,n,r??1)}function To(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}uA(To,bxe,rB(lm,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new To(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ip:Math.pow(ip,t),new To(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ui(xw(t>=240?t-240:t+120,i,r),xw(t,i,r),xw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new To(pk(this.h),hg(this.s),hg(this.l),wv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wv(this.opacity);return`${t===1?"hsl(":"hsla("}${pk(this.h)}, ${hg(this.s)*100}%, ${hg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pk(t){return t=(t||0)%360,t<0?t+360:t}function hg(t){return Math.max(0,Math.min(1,t||0))}function xw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dA=t=>()=>t;function wxe(t,e){return function(n){return t+n*e}}function Sxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _xe(t){return(t=+t)==1?oB:function(e,n){return n-e?Sxe(e,n,t):dA(isNaN(e)?n:e)}}function oB(t,e){var n=e-t;return n?wxe(t,n):dA(isNaN(t)?e:t)}const mk=function t(e){var n=_xe(e);function r(i,o){var s=n((i=XS(i)).r,(o=XS(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=oB(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function Exe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Txe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cxe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=ef(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Axe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Pxe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ef(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var QS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bw=new RegExp(QS.source,"g");function Nxe(t){return function(){return t}}function jxe(t){return function(e){return t(e)+""}}function Ixe(t,e){var n=QS.lastIndex=bw.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=QS.exec(t))&&(i=bw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Sv(r,i)})),n=bw.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?jxe(l[0].x):Nxe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}function ef(t,e){var n=typeof e,r;return e==null||n==="boolean"?dA(e):(n==="number"?Sv:n==="string"?(r=sp(e))?(e=r,mk):Ixe:e instanceof sp?mk:e instanceof Date?Axe:Txe(e)?Exe:Array.isArray(e)?Cxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Pxe:Sv)(t,e)}function fA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kxe(t,e){e===void 0&&(e=t,t=ef);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Oxe(t){return function(){return t}}function _v(t){return+t}var gk=[0,1];function Zr(t){return t}function JS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Oxe(isNaN(e)?NaN:.5)}function Rxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Mxe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=JS(i,r),o=n(s,o)):(r=JS(r,i),o=n(o,s)),function(a){return o(r(a))}}function Dxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=JS(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=am(t,a,1,r)-1;return o[l](i[l](a))}}function cm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function C0(){var t=gk,e=gk,n=ef,r,i,o,s=Zr,a,l,c;function d(){var h=Math.min(t.length,e.length);return s!==Zr&&(s=Rxe(t[0],t[h-1])),a=h>2?Dxe:Mxe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=a(e,t.map(r),Sv)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,_v),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=fA,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Zr,d()):s!==Zr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function hA(){return C0()(Zr,Zr)}function $xe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ev(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function dd(t){return t=Ev(Math.abs(t)),t?t[1]:NaN}function Lxe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Fxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ap(t){if(!(e=Vxe.exec(t)))throw new Error("invalid format: "+t);var e;return new pA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ap.prototype=pA.prototype;function pA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var sB;function Uxe(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(sB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ev(t,Math.max(0,e+o-1))[0]}function yk(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$xe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yk(t*100,e),r:yk,s:Uxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xk(t){return t}var bk=Array.prototype.map,wk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zxe(t){var e=t.grouping===void 0||t.thousands===void 0?xk:Lxe(bk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?xk:Fxe(bk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=ap(f);var h=f.fill,m=f.align,y=f.sign,g=f.symbol,v=f.zero,x=f.width,w=f.comma,S=f.precision,C=f.trim,E=f.type;E==="n"?(w=!0,E="g"):vk[E]||(S===void 0&&(S=12),C=!0,E="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var P=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=g==="$"?r:/[%p]/.test(E)?s:"",T=vk[E],N=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(j){var R=P,O=_,$,F,U;if(E==="c")O=T(j)+O,j="";else{j=+j;var W=j<0||1/j<0;if(j=isNaN(j)?l:T(Math.abs(j),S),C&&(j=Bxe(j)),W&&+j==0&&y!=="+"&&(W=!1),R=(W?y==="("?y:a:y==="-"||y==="("?"":y)+R,O=(E==="s"?wk[8+sB/3]:"")+O+(W&&y==="("?")":""),N){for($=-1,F=j.length;++$<F;)if(U=j.charCodeAt($),48>U||U>57){O=(U===46?i+j.slice($+1):j.slice($))+O,j=j.slice(0,$);break}}}w&&!v&&(j=e(j,1/0));var V=R.length+j.length+O.length,B=V<x?new Array(x-V+1).join(h):"";switch(w&&v&&(j=e(B+j,B.length?x-O.length:1/0),B=""),m){case"<":j=R+j+O+B;break;case"=":j=R+B+j+O;break;case"^":j=B.slice(0,V=B.length>>1)+R+j+O+B.slice(V);break;default:j=B+R+j+O;break}return o(j)}return k.toString=function(){return f+""},k}function d(f,h){var m=c((f=ap(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(dd(h)/3)))*3,g=Math.pow(10,-y),v=wk[8+y/3];return function(x){return m(g*x)+v}}return{format:c,formatPrefix:d}}var pg,mA,aB;Wxe({thousands:",",grouping:[3],currency:["$",""]});function Wxe(t){return pg=zxe(t),mA=pg.format,aB=pg.formatPrefix,pg}function Hxe(t){return Math.max(0,-dd(Math.abs(t)))}function qxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dd(e)/3)))*3-dd(Math.abs(t)))}function Gxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dd(e)-dd(t))+1}function lB(t,e,n,r){var i=KS(t,e,n),o;switch(r=ap(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=qxe(i,s))&&(r.precision=o),aB(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Gxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Hxe(i))&&(r.precision=o-(r.type==="%")*2);break}}return mA(r)}function Sl(t){var e=t.domain;return t.ticks=function(n){var r=e();return qS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return lB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,d=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);d-- >0;){if(c=GS(s,a,n),c===l)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function Tv(){var t=hA();return t.copy=function(){return cm(t,Tv())},oo.apply(t,arguments),Sl(t)}function cB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,_v),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return cB(t).unknown(e)},t=arguments.length?Array.from(t,_v):[0,1],Sl(n)}function uB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Sk(t){return Math.log(t)}function _k(t){return Math.exp(t)}function Kxe(t){return-Math.log(-t)}function Yxe(t){return-Math.exp(-t)}function Xxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Qxe(t){return t===10?Xxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ek(t){return(e,n)=>-t(-e,n)}function gA(t){const e=t(Sk,_k),n=e.domain;let r=10,i,o;function s(){return i=Jxe(r),o=Qxe(r),n()[0]<0?(i=Ek(i),o=Ek(o),t(Kxe,Yxe)):t(Sk,_k),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),y,g;const v=a==null?10:+a;let x=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(y=1;y<r;++y)if(g=h<0?y/o(-h):y*o(h),!(g<c)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/o(-h):y*o(h),!(g<c)){if(g>d)break;x.push(g)}x.length*2<v&&(x=qS(c,d,v))}else x=qS(h,m,Math.min(m-h,v)).map(o);return f?x.reverse():x},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ap(l)).precision==null&&(l.trim=!0),l=mA(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(uB(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function dB(){const t=gA(C0()).domain([1,10]);return t.copy=()=>cm(t,dB()).base(t.base()),oo.apply(t,arguments),t}function Tk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ck(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yA(t){var e=1,n=t(Tk(e),Ck(e));return n.constant=function(r){return arguments.length?t(Tk(e=+r),Ck(e)):e},Sl(n)}function fB(){var t=yA(C0());return t.copy=function(){return cm(t,fB()).constant(t.constant())},oo.apply(t,arguments)}function Ak(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function e0e(t){return t<0?-t*t:t*t}function vA(t){var e=t(Zr,Zr),n=1;function r(){return n===1?t(Zr,Zr):n===.5?t(Zxe,e0e):t(Ak(n),Ak(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Sl(e)}function xA(){var t=vA(C0());return t.copy=function(){return cm(t,xA()).exponent(t.exponent())},oo.apply(t,arguments),t}function t0e(){return xA.apply(null,arguments).exponent(.5)}function Pk(t){return Math.sign(t)*t*t}function n0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hB(){var t=hA(),e=[0,1],n=!1,r;function i(o){var s=n0e(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Pk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,_v)).map(Pk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return hB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},oo.apply(i,arguments),Sl(i)}function pB(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=axe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[am(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(nl),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return pB().domain(t).range(e).unknown(r)},oo.apply(o,arguments)}function mB(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[am(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return mB().domain([t,e]).range(i).unknown(o)},oo.apply(Sl(s),arguments)}function gB(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[am(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return gB().domain(t).range(e).unknown(n)},oo.apply(i,arguments)}const ww=new Date,Sw=new Date;function Zn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>Zn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(ww.setTime(+o),Sw.setTime(+s),t(ww),t(Sw),Math.floor(n(ww,Sw))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Cv=Zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Cv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Cv);Cv.range;const Bs=1e3,Ki=Bs*60,Us=Ki*60,ia=Us*24,bA=ia*7,Nk=ia*30,_w=ia*365,Wl=Zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getUTCSeconds());Wl.range;const wA=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bs)},(t,e)=>{t.setTime(+t+e*Ki)},(t,e)=>(e-t)/Ki,t=>t.getMinutes());wA.range;const SA=Zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ki)},(t,e)=>(e-t)/Ki,t=>t.getUTCMinutes());SA.range;const _A=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bs-t.getMinutes()*Ki)},(t,e)=>{t.setTime(+t+e*Us)},(t,e)=>(e-t)/Us,t=>t.getHours());_A.range;const EA=Zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Us)},(t,e)=>(e-t)/Us,t=>t.getUTCHours());EA.range;const um=Zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ki)/ia,t=>t.getDate()-1);um.range;const A0=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>t.getUTCDate()-1);A0.range;const yB=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>Math.floor(t/ia));yB.range;function jc(t){return Zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ki)/bA)}const P0=jc(0),Av=jc(1),r0e=jc(2),i0e=jc(3),fd=jc(4),o0e=jc(5),s0e=jc(6);P0.range;Av.range;r0e.range;i0e.range;fd.range;o0e.range;s0e.range;function Ic(t){return Zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bA)}const N0=Ic(0),Pv=Ic(1),a0e=Ic(2),l0e=Ic(3),hd=Ic(4),c0e=Ic(5),u0e=Ic(6);N0.range;Pv.range;a0e.range;l0e.range;hd.range;c0e.range;u0e.range;const TA=Zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());TA.range;const CA=Zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CA.range;const oa=Zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});oa.range;const sa=Zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});sa.range;function vB(t,e,n,r,i,o){const s=[[Wl,1,Bs],[Wl,5,5*Bs],[Wl,15,15*Bs],[Wl,30,30*Bs],[o,1,Ki],[o,5,5*Ki],[o,15,15*Ki],[o,30,30*Ki],[i,1,Us],[i,3,3*Us],[i,6,6*Us],[i,12,12*Us],[r,1,ia],[r,2,2*ia],[n,1,bA],[e,1,Nk],[e,3,3*Nk],[t,1,_w]];function a(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),y=m?m.range(c,+d+1):[];return h?y.reverse():y}function l(c,d,f){const h=Math.abs(d-c)/f,m=lA(([,,v])=>v).right(s,h);if(m===s.length)return t.every(KS(c/_w,d/_w,f));if(m===0)return Cv.every(Math.max(KS(c,d,f),1));const[y,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return y.every(g)}return[a,l]}const[d0e,f0e]=vB(sa,CA,N0,yB,EA,SA),[h0e,p0e]=vB(oa,TA,P0,um,_A,wA);function Ew(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Tw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _f(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function m0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=Ef(i),d=Tf(i),f=Ef(o),h=Tf(o),m=Ef(s),y=Tf(s),g=Ef(a),v=Tf(a),x=Ef(l),w=Tf(l),S={a:W,A:V,b:B,B:Z,c:null,d:Mk,e:Mk,f:L0e,g:K0e,G:X0e,H:M0e,I:D0e,j:$0e,L:xB,m:F0e,M:V0e,p:Q,q:ne,Q:Lk,s:Fk,S:B0e,u:U0e,U:z0e,V:W0e,w:H0e,W:q0e,x:null,X:null,y:G0e,Y:Y0e,Z:Q0e,"%":$k},C={a:_e,A:Pe,b:Me,B:st,c:null,d:Dk,e:Dk,f:tbe,g:dbe,G:hbe,H:J0e,I:Z0e,j:ebe,L:wB,m:nbe,M:rbe,p:be,q:Ne,Q:Lk,s:Fk,S:ibe,u:obe,U:sbe,V:abe,w:lbe,W:cbe,x:null,X:null,y:ube,Y:fbe,Z:pbe,"%":$k},E={a:k,A:j,b:R,B:O,c:$,d:Ok,e:Ok,f:I0e,g:kk,G:Ik,H:Rk,I:Rk,j:A0e,L:j0e,m:C0e,M:P0e,p:N,q:T0e,Q:O0e,s:R0e,S:N0e,u:b0e,U:w0e,V:S0e,w:x0e,W:_0e,x:F,X:U,y:kk,Y:Ik,Z:E0e,"%":k0e};S.x=P(n,S),S.X=P(r,S),S.c=P(e,S),C.x=P(n,C),C.X=P(r,C),C.c=P(e,C);function P(oe,me){return function(ae){var z=[],we=-1,Ee=0,Qe=oe.length,Je,nt,Ve;for(ae instanceof Date||(ae=new Date(+ae));++we<Qe;)oe.charCodeAt(we)===37&&(z.push(oe.slice(Ee,we)),(nt=jk[Je=oe.charAt(++we)])!=null?Je=oe.charAt(++we):nt=Je==="e"?" ":"0",(Ve=me[Je])&&(Je=Ve(ae,nt)),z.push(Je),Ee=we+1);return z.push(oe.slice(Ee,we)),z.join("")}}function _(oe,me){return function(ae){var z=_f(1900,void 0,1),we=T(z,oe,ae+="",0),Ee,Qe;if(we!=ae.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(me&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Ee=Tw(_f(z.y,0,1)),Qe=Ee.getUTCDay(),Ee=Qe>4||Qe===0?Pv.ceil(Ee):Pv(Ee),Ee=A0.offset(Ee,(z.V-1)*7),z.y=Ee.getUTCFullYear(),z.m=Ee.getUTCMonth(),z.d=Ee.getUTCDate()+(z.w+6)%7):(Ee=Ew(_f(z.y,0,1)),Qe=Ee.getDay(),Ee=Qe>4||Qe===0?Av.ceil(Ee):Av(Ee),Ee=um.offset(Ee,(z.V-1)*7),z.y=Ee.getFullYear(),z.m=Ee.getMonth(),z.d=Ee.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Qe="Z"in z?Tw(_f(z.y,0,1)).getUTCDay():Ew(_f(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Qe+5)%7:z.w+z.U*7-(Qe+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Tw(z)):Ew(z)}}function T(oe,me,ae,z){for(var we=0,Ee=me.length,Qe=ae.length,Je,nt;we<Ee;){if(z>=Qe)return-1;if(Je=me.charCodeAt(we++),Je===37){if(Je=me.charAt(we++),nt=E[Je in jk?me.charAt(we++):Je],!nt||(z=nt(oe,ae,z))<0)return-1}else if(Je!=ae.charCodeAt(z++))return-1}return z}function N(oe,me,ae){var z=c.exec(me.slice(ae));return z?(oe.p=d.get(z[0].toLowerCase()),ae+z[0].length):-1}function k(oe,me,ae){var z=m.exec(me.slice(ae));return z?(oe.w=y.get(z[0].toLowerCase()),ae+z[0].length):-1}function j(oe,me,ae){var z=f.exec(me.slice(ae));return z?(oe.w=h.get(z[0].toLowerCase()),ae+z[0].length):-1}function R(oe,me,ae){var z=x.exec(me.slice(ae));return z?(oe.m=w.get(z[0].toLowerCase()),ae+z[0].length):-1}function O(oe,me,ae){var z=g.exec(me.slice(ae));return z?(oe.m=v.get(z[0].toLowerCase()),ae+z[0].length):-1}function $(oe,me,ae){return T(oe,e,me,ae)}function F(oe,me,ae){return T(oe,n,me,ae)}function U(oe,me,ae){return T(oe,r,me,ae)}function W(oe){return s[oe.getDay()]}function V(oe){return o[oe.getDay()]}function B(oe){return l[oe.getMonth()]}function Z(oe){return a[oe.getMonth()]}function Q(oe){return i[+(oe.getHours()>=12)]}function ne(oe){return 1+~~(oe.getMonth()/3)}function _e(oe){return s[oe.getUTCDay()]}function Pe(oe){return o[oe.getUTCDay()]}function Me(oe){return l[oe.getUTCMonth()]}function st(oe){return a[oe.getUTCMonth()]}function be(oe){return i[+(oe.getUTCHours()>=12)]}function Ne(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var me=P(oe+="",S);return me.toString=function(){return oe},me},parse:function(oe){var me=_(oe+="",!1);return me.toString=function(){return oe},me},utcFormat:function(oe){var me=P(oe+="",C);return me.toString=function(){return oe},me},utcParse:function(oe){var me=_(oe+="",!0);return me.toString=function(){return oe},me}}}var jk={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,g0e=/^%/,y0e=/[\\^$*+?|[\]().{}]/g;function jt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function v0e(t){return t.replace(y0e,"\\$&")}function Ef(t){return new RegExp("^(?:"+t.map(v0e).join("|")+")","i")}function Tf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function x0e(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function b0e(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function w0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function S0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ik(t,e,n){var r=hr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function kk(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function E0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function T0e(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function C0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ok(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function A0e(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Rk(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function P0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function N0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function j0e(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function I0e(t,e,n){var r=hr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function k0e(t,e,n){var r=g0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function O0e(t,e,n){var r=hr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function R0e(t,e,n){var r=hr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Mk(t,e){return jt(t.getDate(),e,2)}function M0e(t,e){return jt(t.getHours(),e,2)}function D0e(t,e){return jt(t.getHours()%12||12,e,2)}function $0e(t,e){return jt(1+um.count(oa(t),t),e,3)}function xB(t,e){return jt(t.getMilliseconds(),e,3)}function L0e(t,e){return xB(t,e)+"000"}function F0e(t,e){return jt(t.getMonth()+1,e,2)}function V0e(t,e){return jt(t.getMinutes(),e,2)}function B0e(t,e){return jt(t.getSeconds(),e,2)}function U0e(t){var e=t.getDay();return e===0?7:e}function z0e(t,e){return jt(P0.count(oa(t)-1,t),e,2)}function bB(t){var e=t.getDay();return e>=4||e===0?fd(t):fd.ceil(t)}function W0e(t,e){return t=bB(t),jt(fd.count(oa(t),t)+(oa(t).getDay()===4),e,2)}function H0e(t){return t.getDay()}function q0e(t,e){return jt(Av.count(oa(t)-1,t),e,2)}function G0e(t,e){return jt(t.getFullYear()%100,e,2)}function K0e(t,e){return t=bB(t),jt(t.getFullYear()%100,e,2)}function Y0e(t,e){return jt(t.getFullYear()%1e4,e,4)}function X0e(t,e){var n=t.getDay();return t=n>=4||n===0?fd(t):fd.ceil(t),jt(t.getFullYear()%1e4,e,4)}function Q0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jt(e/60|0,"0",2)+jt(e%60,"0",2)}function Dk(t,e){return jt(t.getUTCDate(),e,2)}function J0e(t,e){return jt(t.getUTCHours(),e,2)}function Z0e(t,e){return jt(t.getUTCHours()%12||12,e,2)}function ebe(t,e){return jt(1+A0.count(sa(t),t),e,3)}function wB(t,e){return jt(t.getUTCMilliseconds(),e,3)}function tbe(t,e){return wB(t,e)+"000"}function nbe(t,e){return jt(t.getUTCMonth()+1,e,2)}function rbe(t,e){return jt(t.getUTCMinutes(),e,2)}function ibe(t,e){return jt(t.getUTCSeconds(),e,2)}function obe(t){var e=t.getUTCDay();return e===0?7:e}function sbe(t,e){return jt(N0.count(sa(t)-1,t),e,2)}function SB(t){var e=t.getUTCDay();return e>=4||e===0?hd(t):hd.ceil(t)}function abe(t,e){return t=SB(t),jt(hd.count(sa(t),t)+(sa(t).getUTCDay()===4),e,2)}function lbe(t){return t.getUTCDay()}function cbe(t,e){return jt(Pv.count(sa(t)-1,t),e,2)}function ube(t,e){return jt(t.getUTCFullYear()%100,e,2)}function dbe(t,e){return t=SB(t),jt(t.getUTCFullYear()%100,e,2)}function fbe(t,e){return jt(t.getUTCFullYear()%1e4,e,4)}function hbe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hd(t):hd.ceil(t),jt(t.getUTCFullYear()%1e4,e,4)}function pbe(){return"+0000"}function $k(){return"%"}function Lk(t){return+t}function Fk(t){return Math.floor(+t/1e3)}var zc,_B,EB;mbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mbe(t){return zc=m0e(t),_B=zc.format,zc.parse,EB=zc.utcFormat,zc.utcParse,zc}function gbe(t){return new Date(t)}function ybe(t){return t instanceof Date?+t:+new Date(+t)}function AA(t,e,n,r,i,o,s,a,l,c){var d=hA(),f=d.invert,h=d.domain,m=c(".%L"),y=c(":%S"),g=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),w=c("%b %d"),S=c("%B"),C=c("%Y");function E(P){return(l(P)<P?m:a(P)<P?y:s(P)<P?g:o(P)<P?v:r(P)<P?i(P)<P?x:w:n(P)<P?S:C)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,ybe)):h().map(gbe)},d.ticks=function(P){var _=h();return t(_[0],_[_.length-1],P??10)},d.tickFormat=function(P,_){return _==null?E:c(_)},d.nice=function(P){var _=h();return(!P||typeof P.range!="function")&&(P=e(_[0],_[_.length-1],P??10)),P?h(uB(_,P)):d},d.copy=function(){return cm(d,AA(t,e,n,r,i,o,s,a,l,c))},d}function vbe(){return oo.apply(AA(h0e,p0e,oa,TA,P0,um,_A,wA,Wl,_B).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xbe(){return oo.apply(AA(d0e,f0e,sa,CA,N0,A0,EA,SA,Wl,EB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function j0(){var t=0,e=1,n,r,i,o,s=Zr,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,s=f(m,y),c):[s(0),s(1)]}}return c.range=d(ef),c.rangeRound=d(fA),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function _l(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function TB(){var t=Sl(j0()(Zr));return t.copy=function(){return _l(t,TB())},ha.apply(t,arguments)}function CB(){var t=gA(j0()).domain([1,10]);return t.copy=function(){return _l(t,CB()).base(t.base())},ha.apply(t,arguments)}function AB(){var t=yA(j0());return t.copy=function(){return _l(t,AB()).constant(t.constant())},ha.apply(t,arguments)}function PA(){var t=vA(j0());return t.copy=function(){return _l(t,PA()).exponent(t.exponent())},ha.apply(t,arguments)}function bbe(){return PA.apply(null,arguments).exponent(.5)}function PB(){var t=[],e=Zr;function n(r){if(r!=null&&!isNaN(r=+r))return e((am(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(nl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>sxe(t,o/r))},n.copy=function(){return PB(e).domain(t)},ha.apply(n,arguments)}function I0(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,c=Zr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?a:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),s=d(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function y(g){return function(v){var x,w,S;return arguments.length?([x,w,S]=v,c=kxe(g,[x,w,S]),m):[c(0),c(.5),c(1)]}}return m.range=y(ef),m.rangeRound=y(fA),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m}}function NB(){var t=Sl(I0()(Zr));return t.copy=function(){return _l(t,NB())},ha.apply(t,arguments)}function jB(){var t=gA(I0()).domain([.1,1,10]);return t.copy=function(){return _l(t,jB()).base(t.base())},ha.apply(t,arguments)}function IB(){var t=yA(I0());return t.copy=function(){return _l(t,IB()).constant(t.constant())},ha.apply(t,arguments)}function NA(){var t=vA(I0());return t.copy=function(){return _l(t,NA()).exponent(t.exponent())},ha.apply(t,arguments)}function wbe(){return NA.apply(null,arguments).exponent(.5)}const Vk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rp,scaleDiverging:NB,scaleDivergingLog:jB,scaleDivergingPow:NA,scaleDivergingSqrt:wbe,scaleDivergingSymlog:IB,scaleIdentity:cB,scaleImplicit:YS,scaleLinear:Tv,scaleLog:dB,scaleOrdinal:cA,scalePoint:lh,scalePow:xA,scaleQuantile:pB,scaleQuantize:mB,scaleRadial:hB,scaleSequential:TB,scaleSequentialLog:CB,scaleSequentialPow:PA,scaleSequentialQuantile:PB,scaleSequentialSqrt:bbe,scaleSequentialSymlog:AB,scaleSqrt:t0e,scaleSymlog:fB,scaleThreshold:gB,scaleTime:vbe,scaleUtc:xbe,tickFormat:lB},Symbol.toStringTag,{value:"Module"}));var Sbe=Hd;function _be(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Sbe(s):n(s,a)))var a=s,l=o}return l}var kB=_be;function Ebe(t,e){return t>e}var Tbe=Ebe,Cbe=kB,Abe=Tbe,Pbe=Jd;function Nbe(t){return t&&t.length?Cbe(t,Pbe,Abe):void 0}var jbe=Nbe;const k0=Gt(jbe);function Ibe(t,e){return t<e}var kbe=Ibe,Obe=kB,Rbe=kbe,Mbe=Jd;function Dbe(t){return t&&t.length?Obe(t,Mbe,Rbe):void 0}var $be=Dbe;const O0=Gt($be);var Lbe=UC,Fbe=Zd,Vbe=V6,Bbe=pi;function Ube(t,e){var n=Bbe(t)?Lbe:Vbe;return n(t,Fbe(e))}var zbe=Ube,Wbe=L6,Hbe=zbe;function qbe(t,e){return Wbe(Hbe(t,e),1)}var Gbe=qbe;const Kbe=Gt(Gbe);var Ybe=iA;function Xbe(t,e){return Ybe(t,e)}var Qbe=Xbe;const R0=Gt(Qbe);var tf=1e9,Jbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IA,gn=!0,to="[DecimalError] ",nc=to+"Invalid argument: ",jA=to+"Exponent out of range: ",nf=Math.floor,Rl=Math.pow,Zbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ci,ar=1e7,dn=7,OB=9007199254740991,Nv=nf(OB/dn),Fe={};Fe.absoluteValue=Fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Fe.comparedTo=Fe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*dn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Fe.dividedBy=Fe.div=function(t){return Gs(this,new this.constructor(t))};Fe.dividedToIntegerBy=Fe.idiv=function(t){var e=this,n=e.constructor;return qt(Gs(e,new n(t),0,1),n.precision)};Fe.equals=Fe.eq=function(t){return!this.cmp(t)};Fe.exponent=function(){return zn(this)};Fe.greaterThan=Fe.gt=function(t){return this.cmp(t)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(t){return this.cmp(t)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(t){return this.cmp(t)<0};Fe.lessThanOrEqualTo=Fe.lte=function(t){return this.cmp(t)<1};Fe.logarithm=Fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ci))throw Error(to+"NaN");if(n.s<1)throw Error(to+(n.s?"NaN":"-Infinity"));return n.eq(Ci)?new r(0):(gn=!1,e=Gs(lp(n,o),lp(t,o),o),gn=!0,qt(e,i))};Fe.minus=Fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DB(e,t):RB(e,(t.s=-t.s,t))};Fe.modulo=Fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(to+"NaN");return n.s?(gn=!1,e=Gs(n,t,0,1).times(t),gn=!0,n.minus(e)):qt(new r(n),i)};Fe.naturalExponential=Fe.exp=function(){return MB(this)};Fe.naturalLogarithm=Fe.ln=function(){return lp(this)};Fe.negated=Fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Fe.plus=Fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?RB(e,t):DB(e,(t.s=-t.s,t))};Fe.precision=Fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nc+t);if(e=zn(i)+1,r=i.d.length-1,n=r*dn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Fe.squareRoot=Fe.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(to+"NaN")}for(t=zn(a),gn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=os(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Gs(a,o,s+2)).times(.5),os(o.d).slice(0,s)===(e=os(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(qt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return gn=!0,qt(r,n)};Fe.times=Fe.mul=function(t){var e,n,r,i,o,s,a,l,c,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=m.length,l<c&&(o=h,h=m,m=o,s=l,l=c,c=s),o=[],s=l+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+m[r]*h[i-r-1]+e,o[i--]=a%ar|0,e=a/ar|0;o[i]=(o[i]+e)%ar|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,gn?qt(t,f.precision):t};Fe.toDecimalPlaces=Fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ws(t,0,tf),e===void 0?e=r.rounding:ws(e,0,8),qt(n,t+zn(n)+1,e))};Fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xc(r,!0):(ws(t,0,tf),e===void 0?e=i.rounding:ws(e,0,8),r=qt(new i(r),t+1,e),n=xc(r,!0,t+1)),n};Fe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?xc(i):(ws(t,0,tf),e===void 0?e=o.rounding:ws(e,0,8),r=qt(new o(i),t+zn(i)+1,e),n=xc(r.abs(),!1,t+zn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Fe.toInteger=Fe.toint=function(){var t=this,e=t.constructor;return qt(new e(t),zn(t)+1,e.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Ci);if(a=new l(a),!a.s){if(t.s<1)throw Error(to+"Infinity");return a}if(a.eq(Ci))return a;if(r=l.precision,t.eq(Ci))return qt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=d<0?-d:d)<=OB){for(i=new l(Ci),e=Math.ceil(r/dn+4),gn=!1;n%2&&(i=i.times(a),Uk(i.d,e)),n=nf(n/2),n!==0;)a=a.times(a),Uk(a.d,e);return gn=!0,t.s<0?new l(Ci).div(i):qt(i,r)}}else if(o<0)throw Error(to+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,gn=!1,i=t.times(lp(a,r+c)),gn=!0,i=MB(i),i.s=o,i};Fe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=zn(i),r=xc(i,n<=o.toExpNeg||n>=o.toExpPos)):(ws(t,1,tf),e===void 0?e=o.rounding:ws(e,0,8),i=qt(new o(i),t,e),n=zn(i),r=xc(i,t<=n||n<=o.toExpNeg,t)),r};Fe.toSignificantDigits=Fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ws(t,1,tf),e===void 0?e=r.rounding:ws(e,0,8)),qt(new r(n),t,e)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),n=t.constructor;return xc(t,e<=n.toExpNeg||e>=n.toExpPos)};function RB(t,e){var n,r,i,o,s,a,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),gn?qt(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=c.length):(r=c,i=s,a=l.length),s=Math.ceil(f/dn),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/ar|0,l[o]%=ar;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,gn?qt(e,f):e}function ws(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nc+t)}function os(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=dn-r.length,n&&(o+=Ca(n)),o+=r;s=t[e],r=s+"",n=dn-r.length,n&&(o+=Ca(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Gs=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%ar|0,s=o/ar|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*ar+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,c,d,f,h,m,y,g,v,x,w,S,C,E,P,_,T,N=r.constructor,k=r.s==i.s?1:-1,j=r.d,R=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(to+"Division by zero");for(l=r.e-i.e,_=R.length,E=j.length,m=new N(k),y=m.d=[],c=0;R[c]==(j[c]||0);)++c;if(R[c]>(j[c]||0)&&--l,o==null?w=o=N.precision:s?w=o+(zn(r)-zn(i))+1:w=o,w<0)return new N(0);if(w=w/dn+2|0,c=0,_==1)for(d=0,R=R[0],w++;(c<E||d)&&w--;c++)S=d*ar+(j[c]||0),y[c]=S/R|0,d=S%R|0;else{for(d=ar/(R[0]+1)|0,d>1&&(R=t(R,d),j=t(j,d),_=R.length,E=j.length),C=_,g=j.slice(0,_),v=g.length;v<_;)g[v++]=0;T=R.slice(),T.unshift(0),P=R[0],R[1]>=ar/2&&++P;do d=0,a=e(R,g,_,v),a<0?(x=g[0],_!=v&&(x=x*ar+(g[1]||0)),d=x/P|0,d>1?(d>=ar&&(d=ar-1),f=t(R,d),h=f.length,v=g.length,a=e(f,g,h,v),a==1&&(d--,n(f,_<h?T:R,h))):(d==0&&(a=d=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),a==-1&&(v=g.length,a=e(R,g,_,v),a<1&&(d++,n(g,_<v?T:R,v))),v=g.length):a===0&&(d++,g=[0]),y[c++]=d,a&&g[0]?g[v++]=j[C]||0:(g=[j[C]],v=1);while((C++<E||g[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=l,qt(m,s?o+zn(m)+1:o)}}();function MB(t,e){var n,r,i,o,s,a,l=0,c=0,d=t.constructor,f=d.precision;if(zn(t)>16)throw Error(jA+zn(t));if(!t.s)return new d(Ci);for(e==null?(gn=!1,a=f):a=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Rl(2,c))/Math.LN10*2+5|0,a+=r,n=i=o=new d(Ci),d.precision=a;;){if(i=qt(i.times(t),a),n=n.times(++l),s=o.plus(Gs(i,n,a)),os(s.d).slice(0,a)===os(o.d).slice(0,a)){for(;c--;)o=qt(o.times(o),a);return d.precision=f,e==null?(gn=!0,qt(o,f)):o}o=s}}function zn(t){for(var e=t.e*dn,n=t.d[0];n>=10;n/=10)e++;return e}function Cw(t,e,n){if(e>t.LN10.sd())throw gn=!0,n&&(t.precision=n),Error(to+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function Ca(t){for(var e="";t--;)e+="0";return e}function lp(t,e){var n,r,i,o,s,a,l,c,d,f=1,h=10,m=t,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(to+(m.s?"NaN":"-Infinity"));if(m.eq(Ci))return new g(0);if(e==null?(gn=!1,c=v):c=e,m.eq(10))return e==null&&(gn=!0),Cw(g,c);if(c+=h,g.precision=c,n=os(y),r=n.charAt(0),o=zn(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=os(m.d),r=n.charAt(0),f++;o=zn(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=Cw(g,c+2,v).times(o+""),m=lp(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=v,e==null?(gn=!0,qt(m,v)):m;for(a=s=m=Gs(m.minus(Ci),m.plus(Ci),c),d=qt(m.times(m),c),i=3;;){if(s=qt(s.times(d),c),l=a.plus(Gs(s,new g(i),c)),os(l.d).slice(0,c)===os(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(Cw(g,c+2,v).times(o+""))),a=Gs(a,new g(f),c),g.precision=v,e==null?(gn=!0,qt(a,v)):a;a=l,i+=2}}function Bk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nf(n/dn),t.d=[],r=(n+1)%dn,n<0&&(r+=dn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=dn;r<i;)t.d.push(+e.slice(r,r+=dn));e=e.slice(r),r=dn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),gn&&(t.e>Nv||t.e<-Nv))throw Error(jA+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,i,o,s,a,l,c,d,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=dn,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/dn),o=f.length,d>=o)return t;for(c=o=f[d],s=1;o>=10;o/=10)s++;r%=dn,i=r-dn+s}if(n!==void 0&&(o=Rl(10,s-i-1),a=c/o%10|0,l=e<0||f[d+1]!==void 0||c%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/Rl(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=zn(t),f.length=1,e=e-o-1,f[0]=Rl(10,(dn-e%dn)%dn),t.e=nf(-e/dn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Rl(10,dn-r),f[d]=i>0?(c/Rl(10,s-i)%Rl(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==ar&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=ar)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(gn&&(t.e>Nv||t.e<-Nv))throw Error(jA+zn(t));return t}function DB(t,e){var n,r,i,o,s,a,l,c,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),gn?qt(e,m):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,a=f.length):(n=f,r=c,a=l.length),i=Math.max(Math.ceil(m/dn),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=ar-1;--l[o],l[i]+=ar}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,gn?qt(e,m):e):new h(0)}function xc(t,e,n){var r,i=zn(t),o=os(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ca(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ca(-i-1)+o,n&&(r=n-s)>0&&(o+=Ca(r))):i>=s?(o+=Ca(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ca(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ca(r))),t.s<0?"-"+o:o}function Uk(t,e){if(t.length>e)return t.length=e,!0}function $B(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(nc+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Bk(s,o.toString())}else if(typeof o!="string")throw Error(nc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Zbe.test(o))Bk(s,o);else throw Error(nc+o)}if(i.prototype=Fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$B,i.config=i.set=ewe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ewe(t){if(!t||typeof t!="object")throw Error(to+"Object expected");var e,n,r,i=["precision",1,tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(nc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nc+n+": "+r);return this}var IA=$B(Jbe);Ci=new IA(1);const zt=IA;function twe(t){return owe(t)||iwe(t)||rwe(t)||nwe()}function nwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rwe(t,e){if(t){if(typeof t=="string")return ZS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZS(t,e)}}function iwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function owe(t){if(Array.isArray(t))return ZS(t)}function ZS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var swe=function(e){return e},LB={"@@functional/placeholder":!0},FB=function(e){return e===LB},zk=function(e){return function n(){return arguments.length===0||arguments.length===1&&FB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},awe=function t(e,n){return e===1?n:zk(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==LB}).length;return s>=e?n.apply(void 0,i):t(e-s,zk(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=i.map(function(f){return FB(f)?l.shift():f});return n.apply(void 0,twe(d).concat(l))}))})},M0=function(e){return awe(e.length,e)},e_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},lwe=M0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),cwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return swe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},t_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},VB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function uwe(t){var e;return t===0?e=1:e=Math.floor(new zt(t).abs().log(10).toNumber())+1,e}function dwe(t,e,n){for(var r=new zt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var fwe=M0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),hwe=M0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),pwe=M0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const D0={rangeStep:dwe,getDigitCount:uwe,interpolateNumber:fwe,uninterpolateNumber:hwe,uninterpolateTruncation:pwe};function n_(t){return ywe(t)||gwe(t)||BB(t)||mwe()}function mwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ywe(t){if(Array.isArray(t))return r_(t)}function cp(t,e){return bwe(t)||xwe(t,e)||BB(t,e)||vwe()}function vwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BB(t,e){if(t){if(typeof t=="string")return r_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r_(t,e)}}function r_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function bwe(t){if(Array.isArray(t))return t}function UB(t){var e=cp(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function zB(t,e,n){if(t.lte(0))return new zt(0);var r=D0.getDigitCount(t.toNumber()),i=new zt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new zt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new zt(Math.ceil(l))}function wwe(t,e,n){var r=1,i=new zt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new zt(10).pow(D0.getDigitCount(t)-1),i=new zt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new zt(Math.floor(t)))}else t===0?i=new zt(Math.floor((e-1)/2)):n||(i=new zt(Math.floor(t)));var s=Math.floor((e-1)/2),a=cwe(lwe(function(l){return i.add(new zt(l-s).mul(r)).toNumber()}),e_);return a(0,e)}function WB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new zt(0),tickMin:new zt(0),tickMax:new zt(0)};var o=zB(new zt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new zt(0):(s=new zt(t).add(e).div(2),s=s.sub(new zt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new zt(e).sub(s).div(o).toNumber()),c=a+l+1;return c>n?WB(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:o,tickMin:s.sub(new zt(a).mul(o)),tickMax:s.add(new zt(l).mul(o))})}function Swe(t){var e=cp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=UB([n,r]),l=cp(a,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(n_(e_(0,i-1).map(function(){return 1/0}))):[].concat(n_(e_(0,i-1).map(function(){return-1/0})),[d]);return n>r?t_(f):f}if(c===d)return wwe(c,i,o);var h=WB(c,d,s,o),m=h.step,y=h.tickMin,g=h.tickMax,v=D0.rangeStep(y,g.add(new zt(.1).mul(m)),m);return n>r?t_(v):v}function _we(t,e){var n=cp(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=UB([r,i]),a=cp(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=zB(new zt(c).sub(l).div(d-1),o,0),h=[].concat(n_(D0.rangeStep(new zt(l),new zt(c).sub(new zt(.99).mul(f)),f)),[c]);return r>i?t_(h):h}var Ewe=VB(Swe),Twe=VB(_we),Cwe="Invariant failed";function bc(t,e){throw new Error(Cwe)}var Awe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function Pwe(t,e){return kwe(t)||Iwe(t,e)||jwe(t,e)||Nwe()}function Nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jwe(t,e){if(t){if(typeof t=="string")return Wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wk(t,e)}}function Wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function kwe(t){if(Array.isArray(t))return t}function Owe(t,e){if(t==null)return{};var n=Rwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GB(r.key),r)}}function $we(t,e,n){return e&&Dwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lwe(t,e,n){return e=Iv(e),Fwe(t,HB()?Reflect.construct(e,n||[],Iv(t).constructor):e.apply(t,n))}function Fwe(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vwe(t)}function Vwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HB=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function Bwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(t,e)}function qB(t,e,n){return e=GB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GB(t){var e=Uwe(t,"string");return pd(e)=="symbol"?e:e+""}function Uwe(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dm=function(t){function e(){return Mwe(this,e),Lwe(this,e,arguments)}return Bwe(e,t),$we(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Owe(r,Awe),m=Pt(h,!1);this.props.direction==="x"&&d.type!=="number"&&bc();var y=l.map(function(g){var v=c(g,a),x=v.x,w=v.y,S=v.value,C=v.errorVal;if(!C)return null;var E=[],P,_;if(Array.isArray(C)){var T=Pwe(C,2);P=T[0],_=T[1]}else P=_=C;if(o==="vertical"){var N=d.scale,k=w+i,j=k+s,R=k-s,O=N(S-P),$=N(S+_);E.push({x1:$,y1:j,x2:$,y2:R}),E.push({x1:O,y1:k,x2:$,y2:k}),E.push({x1:O,y1:j,x2:O,y2:R})}else if(o==="horizontal"){var F=f.scale,U=x+i,W=U-s,V=U+s,B=F(S-P),Z=F(S+_);E.push({x1:W,y1:Z,x2:V,y2:Z}),E.push({x1:U,y1:B,x2:U,y2:Z}),E.push({x1:W,y1:B,x2:V,y2:B})}return H.createElement($n,jv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),E.map(function(Q){return H.createElement("line",jv({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return H.createElement($n,{className:"recharts-errorBars"},y)}}])}(H.Component);qB(dm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qB(dm,"displayName","ErrorBar");function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){zwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zwe(t,e,n){return e=Wwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wwe(t){var e=Hwe(t,"string");return up(e)=="symbol"?e:e+""}function Hwe(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KB=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Ei(n,Pu);if(!s)return null;var a=Pu.defaultProps,l=a!==void 0?Pl(Pl({},a),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Pl(Pl({},h),f.props):{},y=m.dataKey,g=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:y,type:l.iconType||v||"square",color:kA(f),value:g||y,payload:m}}),Pl(Pl(Pl({},l),Pu.getWithHeight(s,i)),{},{payload:c,item:s})};function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function qk(t){return Ywe(t)||Kwe(t)||Gwe(t)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gwe(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function Kwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ywe(t){if(Array.isArray(t))return o_(t)}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ju(t,e,n){return e=Xwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xwe(t){var e=Qwe(t,"string");return dp(e)=="symbol"?e:e+""}function Qwe(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ki(t,e,n){return vt(t)||vt(e)?n:Qn(e)?Xi(t,e,n):St(e)?e(t):n}function ch(t,e,n,r){var i=Kbe(t,function(a){return ki(a,e)});if(n==="number"){var o=i.filter(function(a){return je(a)||parseFloat(a)});return o.length?[O0(o),k0(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!vt(a)}):i;return s.map(function(a){return Qn(a)||a instanceof Date?a:""})}var Jwe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var d=c>0?i[c-1].coordinate:i[a-1].coordinate,f=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(No(f-d)!==No(h-f)){var y=[];if(No(h-f)===No(l[1]-l[0])){m=h;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+l[1]-l[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>x[0]&&e<=x[1]||e>=y[0]&&e<=y[1]){s=i[c].index;break}}else{var w=Math.min(d,h),S=Math.max(d,h);if(e>(w+f)/2&&e<=(S+f)/2){s=i[c].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},kA=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Zwe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var d=o[a[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],g=y.items,v=y.cateAxisId,x=g.filter(function(_){return Hs(_.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,S=w!==void 0?In(In({},w),x[0].props):x[0].props,C=S.barSize,E=S[v];s[E]||(s[E]=[]);var P=vt(C)?n:C;s[E].push({item:x[0],stackList:x.slice(1),barSize:vt(P)?void 0:vc(P,r,0)})}}return s},e1e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=vc(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/l,y=s.reduce(function(C,E){return C+E.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&m>0&&(h=!0,m*=.9,y=l*m);var g=(i-y)/2>>0,v={offset:g-c,size:0};d=s.reduce(function(C,E){var P={item:E.item,position:{offset:v.offset+v.size+c,size:h?m:E.barSize}},_=[].concat(qk(C),[P]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:v})}),_},f)}else{var x=vc(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var w=(i-2*x-(l-1)*c)/l;w>1&&(w>>=0);var S=a===+a?Math.min(w,a):w;d=s.reduce(function(C,E,P){var _=[].concat(qk(C),[{item:E.item,position:{offset:x+(w+c)*P+(w-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:_[_.length-1].position})}),_},f)}return d},t1e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),c=KB({children:o,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,m=c.align,y=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&je(e[m]))return In(In({},e),{},ju({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&je(e[y]))return In(In({},e),{},ju({},y,e[y]+(h||0)))}return e},n1e=function(e,n,r){return vt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},YB=function(e,n,r,i,o){var s=n.props.children,a=Qi(s,dm).filter(function(c){return n1e(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=ki(d,r);if(vt(f))return c;var h=Array.isArray(f)?[O0(f),k0(f)]:[f,f],m=l.reduce(function(y,g){var v=ki(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},r1e=function(e,n,r,i,o){var s=n.map(function(a){return YB(e,a,r,o,i)}).filter(function(a){return!vt(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},XB=function(e,n,r,i,o){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&YB(e,l,c,i)||ch(e,c,r,o)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)a[c[d]]||(a[c[d]]=!0,l.push(c[d]));return l},[])},QB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Hl=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?No(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!om(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},Aw=new WeakMap,mg=function(e,n){if(typeof n!="function")return e;Aw.has(e)||Aw.set(e,new WeakMap);var r=Aw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},i1e=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:rp(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Tv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:lh(),realScaleType:"point"}:o==="category"?{scale:rp(),realScaleType:"band"}:{scale:Tv(),realScaleType:"linear"};if(yc(i)){var l="scale".concat(x0(i));return{scale:(Vk[l]||lh)(),realScaleType:Vk[l]?l:"point"}}return St(i)?{scale:i}:{scale:lh(),realScaleType:"point"}},Kk=1e-4,o1e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-Kk,s=Math.max(i[0],i[1])+Kk,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},s1e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},a1e=function(e,n){if(!n||n.length!==2||!je(n[0])||!je(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(o[0]=r),(!je(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},l1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=om(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},c1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=om(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},u1e={sign:l1e,expand:_ce,none:sd,silhouette:Ece,wiggle:Tce,positive:c1e},d1e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=u1e[r],s=Sce().keys(i).value(function(a,l){return+ki(a,l,0)}).order(jS).offset(o);return s(e)},f1e=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},c=a.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?In(In({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return f;var x=y[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(Qn(g)){var S=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[g]=S}else w.stackGroups[sm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return In(In({},f),{},ju({},x,w))},l),d={};return Object.keys(c).reduce(function(f,h){var m=c[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var x=m.stackGroups[v];return In(In({},g),{},ju({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:d1e(e,x.items,o)}))},y)}return In(In({},f),{},ju({},h,m))},d)},h1e=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=Ewe(c,o,a);return e.domain([O0(d),k0(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=Twe(f,o,a);return{niceTicks:h}}return null};function Yk(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!vt(i[e.dataKey])){var a=nv(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=ki(i,vt(s)?e.dataKey:s);return vt(l)?null:e.scale(l)}var Xk=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=ki(s,n.dataKey,n.domain[a]);return vt(l)?null:n.scale(l)-o/2+i},p1e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},m1e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Qn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},g1e=function(e){return e.reduce(function(n,r){return[O0(r.concat([n[0]]).filter(je)),k0(r.concat([n[1]]).filter(je))]},[1/0,-1/0])},JB=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,d){var f=g1e(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Qk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s_=function(e,n,r){if(St(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(je(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Qk.test(e[0])){var o=+Qk.exec(e[0])[1];i[0]=n[0]-o}else St(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(je(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Jk.test(e[1])){var s=+Jk.exec(e[1])[1];i[1]=n[1]+s}else St(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},kv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=sA(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],d=o[a-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},Zk=function(e,n,r){return!e||!e.length||R0(e,Xi(r,"type.defaultProps.domain"))?n:e},ZB=function(e,n){var r=e.type.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return In(In({},Pt(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:kA(e),value:ki(n,i),type:l,payload:n,chartType:c,hide:d})};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){y1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y1e(t,e,n){return e=v1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1e(t){var e=x1e(t,"string");return fp(e)=="symbol"?e:e+""}function x1e(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ov=Math.PI/180,b1e=function(e){return e*180/Math.PI},Sr=function(e,n,r,i){return{x:e+Math.cos(-Ov*i)*r,y:n+Math.sin(-Ov*i)*r}},w1e=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},S1e=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=w1e({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:b1e(c),angleInRadian:c}},_1e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},E1e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},nO=function(e,n){var r=e.x,i=e.y,o=S1e({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=_1e(n),f=d.startAngle,h=d.endAngle,m=a,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?tO(tO({},n),{},{radius:s,angle:E1e(m,n)}):null};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}var T1e=["offset"];function C1e(t){return j1e(t)||N1e(t)||P1e(t)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P1e(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function N1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j1e(t){if(Array.isArray(t))return a_(t)}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I1e(t,e){if(t==null)return{};var n=k1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){O1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O1e(t,e,n){return e=R1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R1e(t){var e=M1e(t,"string");return hp(e)=="symbol"?e:e+""}function M1e(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}var D1e=function(e){var n=e.value,r=e.formatter,i=vt(e.children)?n:e.children;return St(r)?r(i):i},$1e=function(e,n){var r=No(n-e),i=Math.min(Math.abs(n-e),360);return r*i},L1e=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,y=l.endAngle,g=l.clockWise,v=(f+h)/2,x=$1e(m,y),w=x>=0?1:-1,S,C;i==="insideStart"?(S=m+w*s,C=g):i==="insideEnd"?(S=y-w*s,C=!g):i==="end"&&(S=y+w*s,C=g),C=x<=0?C:!C;var E=Sr(c,d,v,S),P=Sr(c,d,v,S+(C?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(P.x,",").concat(P.y),T=vt(e.id)?sm("recharts-radial-line-"):e.id;return H.createElement("text",pp({},r,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",a)}),H.createElement("defs",null,H.createElement("path",{id:T,d:_})),H.createElement("textPath",{xlinkHref:"#".concat(T)},n))},F1e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=Sr(s,a,c+r,h),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,x=Sr(s,a,v,h),w=x.x,S=x.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},V1e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",y=f>0?"start":"end",g=c>=0?1:-1,v=g*i,x=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var S={x:a+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Gn(Gn({},S),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var C={x:a+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:y};return Gn(Gn({},C),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(o==="left"){var E={x:a-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Gn(Gn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(o==="right"){var P={x:a+c+v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return Gn(Gn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var _=r?{width:c,height:d}:{};return o==="insideLeft"?Gn({x:a+v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},_):o==="insideRight"?Gn({x:a+c-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},_):o==="insideTop"?Gn({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},_):o==="insideBottom"?Gn({x:a+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},_):o==="insideTopLeft"?Gn({x:a+v,y:l+h,textAnchor:w,verticalAnchor:y},_):o==="insideTopRight"?Gn({x:a+c-v,y:l+h,textAnchor:x,verticalAnchor:y},_):o==="insideBottomLeft"?Gn({x:a+v,y:l+d-h,textAnchor:w,verticalAnchor:m},_):o==="insideBottomRight"?Gn({x:a+c-v,y:l+d-h,textAnchor:x,verticalAnchor:m},_):qd(o)&&(je(o.x)||Ul(o.x))&&(je(o.y)||Ul(o.y))?Gn({x:a+vc(o.x,c),y:l+vc(o.y,d),textAnchor:"end",verticalAnchor:"end"},_):Gn({x:a+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},B1e=function(e){return"cx"in e&&je(e.cx)};function zr(t){var e=t.offset,n=e===void 0?5:e,r=I1e(t,T1e),i=Gn({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||vt(a)&&vt(l)&&!b.isValidElement(c)&&!St(c))return null;if(b.isValidElement(c))return b.cloneElement(c,i);var m;if(St(c)){if(m=b.createElement(c,i),b.isValidElement(m))return m}else m=D1e(i);var y=B1e(o),g=Pt(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return L1e(i,m,g);var v=y?F1e(i):V1e(i);return H.createElement(vv,pp({className:Ct("recharts-label",f)},g,v,{breakAll:h}),m)}zr.displayName="Label";var eU=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,y=e.left,g=e.width,v=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(je(g)&&je(v)){if(je(f)&&je(h))return{x:f,y:h,width:g,height:v};if(je(m)&&je(y))return{x:m,y,width:g,height:v}}return je(f)&&je(h)?{x:f,y:h,width:0,height:0}:je(n)&&je(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||a||0,clockWise:x}:e.viewBox?e.viewBox:{}},U1e=function(e,n){return e?e===!0?H.createElement(zr,{key:"label-implicit",viewBox:n}):Qn(e)?H.createElement(zr,{key:"label-implicit",viewBox:n,value:e}):b.isValidElement(e)?e.type===zr?b.cloneElement(e,{key:"label-implicit",viewBox:n}):H.createElement(zr,{key:"label-implicit",content:e,viewBox:n}):St(e)?H.createElement(zr,{key:"label-implicit",content:e,viewBox:n}):qd(e)?H.createElement(zr,pp({viewBox:n},e,{key:"label-implicit"})):null:null},z1e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=eU(e),s=Qi(i,zr).map(function(l,c){return b.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return s;var a=U1e(e.label,n||o);return[a].concat(C1e(s))};zr.parseViewBox=eU;zr.renderCallByParent=z1e;function W1e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var H1e=W1e;const q1e=Gt(H1e);function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}var G1e=["valueAccessor"],K1e=["data","dataKey","clockWise","id","textBreakAll"];function Y1e(t){return Z1e(t)||J1e(t)||Q1e(t)||X1e()}function X1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q1e(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function J1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z1e(t){if(Array.isArray(t))return l_(t)}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){eSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eSe(t,e,n){return e=tSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tSe(t){var e=nSe(t,"string");return mp(e)=="symbol"?e:e+""}function nSe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sO(t,e){if(t==null)return{};var n=rSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iSe=function(e){return Array.isArray(e.value)?q1e(e.value):e.value};function rl(t){var e=t.valueAccessor,n=e===void 0?iSe:e,r=sO(t,G1e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,c=sO(r,K1e);return!i||!i.length?null:H.createElement($n,{className:"recharts-label-list"},i.map(function(d,f){var h=vt(o)?n(d,f):ki(d&&d.payload,o),m=vt(a)?{}:{id:"".concat(a,"-").concat(f)};return H.createElement(zr,Rv({},Pt(d,!0),c,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:zr.parseViewBox(vt(s)?d:oO(oO({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}rl.displayName="LabelList";function oSe(t,e){return t?t===!0?H.createElement(rl,{key:"labelList-implicit",data:e}):H.isValidElement(t)||St(t)?H.createElement(rl,{key:"labelList-implicit",data:e,content:t}):qd(t)?H.createElement(rl,Rv({data:e},t,{key:"labelList-implicit"})):null:null}function sSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Qi(r,rl).map(function(s,a){return b.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=oSe(t.label,e);return[o].concat(Y1e(i))}rl.renderCallByParent=sSe;function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){aSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aSe(t,e,n){return e=lSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lSe(t){var e=cSe(t,"string");return gp(e)=="symbol"?e:e+""}function cSe(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uSe=function(e,n){var r=No(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},gg=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(a?1:-1)+i,f=Math.asin(l/d)/Ov,h=c?o:o+s*f,m=Sr(n,r,d,h),y=Sr(n,r,i,h),g=c?o-s*f:o,v=Sr(n,r,d*Math.cos(f*Ov),g);return{center:m,circleTangency:y,lineTangency:v,theta:f}},tU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=uSe(s,a),c=s+l,d=Sr(n,r,o,s),f=Sr(n,r,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Sr(n,r,i,s),y=Sr(n,r,i,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},dSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=No(d-c),h=gg({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,y=h.lineTangency,g=h.theta,v=gg({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,w=v.lineTangency,S=v.theta,C=l?Math.abs(c-d):Math.abs(c-d)-g-S;if(C<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):tU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var P=gg({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=P.circleTangency,T=P.lineTangency,N=P.theta,k=gg({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=k.circleTangency,R=k.lineTangency,O=k.theta,$=l?Math.abs(c-d):Math.abs(c-d)-N-O;if($<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},fSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nU=function(e){var n=lO(lO({},fSe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<o||d===f)return null;var m=Ct("recharts-sector",h),y=s-o,g=vc(a,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=dSe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):v=tU({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:f}),H.createElement("path",c_({},Pt(n,!0),{className:m,d:v,role:"img"}))};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){hSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hSe(t,e,n){return e=pSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pSe(t){var e=mSe(t,"string");return yp(e)=="symbol"?e:e+""}function mSe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dO={curveBasisClosed:dce,curveBasisOpen:fce,curveBasis:uce,curveBumpX:Xle,curveBumpY:Qle,curveLinearClosed:hce,curveLinear:w0,curveMonotoneX:pce,curveMonotoneY:mce,curveNatural:gce,curveStep:yce,curveStepAfter:xce,curveStepBefore:vce},yg=function(e){return e.x===+e.x&&e.y===+e.y},Cf=function(e){return e.x},Af=function(e){return e.y},gSe=function(e,n){if(St(e))return e;var r="curve".concat(x0(e));return(r==="curveMonotone"||r==="curveBump")&&n?dO["".concat(r).concat(n==="vertical"?"Y":"X")]:dO[r]||w0},ySe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=gSe(r,a),f=c?o.filter(function(g){return yg(g)}):o,h;if(Array.isArray(s)){var m=c?s.filter(function(g){return yg(g)}):s,y=f.map(function(g,v){return uO(uO({},g),{},{base:m[v]})});return a==="vertical"?h=ag().y(Af).x1(Cf).x0(function(g){return g.base.x}):h=ag().x(Cf).y1(Af).y0(function(g){return g.base.y}),h.defined(yg).curve(d),h(y)}return a==="vertical"&&je(s)?h=ag().y(Af).x1(Cf).x0(s):je(s)?h=ag().x(Cf).y1(Af).y0(s):h=i6().x(Cf).y(Af),h.defined(yg).curve(d),h(f)},d_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?ySe(e):i;return b.createElement("path",u_({},Pt(e,!1),rv(e),{className:Ct("recharts-curve",n),d:s,ref:o}))},rU={exports:{}},vSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xSe=vSe,bSe=xSe;function iU(){}function oU(){}oU.resetWarningCache=iU;var wSe=function(){function t(r,i,o,s,a,l){if(l!==bSe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:oU,resetWarningCache:iU};return n.PropTypes=n,n};rU.exports=wSe();var SSe=rU.exports;const Mt=Gt(SSe);var _Se=Object.getOwnPropertyNames,ESe=Object.getOwnPropertySymbols,TSe=Object.prototype.hasOwnProperty;function fO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function vg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function hO(t){return _Se(t).concat(ESe(t))}var CSe=Object.hasOwn||function(t,e){return TSe.call(t,e)};function kc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ASe="__v",PSe="__o",NSe="_owner",pO=Object.getOwnPropertyDescriptor,mO=Object.keys;function jSe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ISe(t,e){return kc(t.getTime(),e.getTime())}function kSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function OSe(t,e){return t===e}function gO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var c=e.entries(),d=!1,f=0;(a=c.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,m=a.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var RSe=kc;function MSe(t,e,n){var r=mO(t),i=r.length;if(mO(e).length!==i)return!1;for(;i-- >0;)if(!sU(t,e,n,r[i]))return!1;return!0}function Pf(t,e,n){var r=hO(t),i=r.length;if(hO(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!sU(t,e,n,o)||(s=pO(t,o),a=pO(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function DSe(t,e){return kc(t.valueOf(),e.valueOf())}function $Se(t,e){return t.source===e.source&&t.flags===e.flags}function yO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function LSe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function FSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function sU(t,e,n,r){return(r===NSe||r===PSe||r===ASe)&&(t.$$typeof||e.$$typeof)?!0:CSe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var VSe="[object Arguments]",BSe="[object Boolean]",USe="[object Date]",zSe="[object Error]",WSe="[object Map]",HSe="[object Number]",qSe="[object Object]",GSe="[object RegExp]",KSe="[object Set]",YSe="[object String]",XSe="[object URL]",QSe=Array.isArray,vO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,xO=Object.assign,JSe=Object.prototype.toString.call.bind(Object.prototype.toString);function ZSe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var x=typeof y;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(y,g,v):x==="function"?i(y,g,v):!1;var w=y.constructor;if(w!==g.constructor)return!1;if(w===Object)return a(y,g,v);if(QSe(y))return e(y,g,v);if(vO!=null&&vO(y))return f(y,g,v);if(w===Date)return n(y,g,v);if(w===RegExp)return c(y,g,v);if(w===Map)return o(y,g,v);if(w===Set)return d(y,g,v);var S=JSe(y);return S===USe?n(y,g,v):S===GSe?c(y,g,v):S===WSe?o(y,g,v):S===KSe?d(y,g,v):S===qSe?typeof y.then!="function"&&typeof g.then!="function"&&a(y,g,v):S===XSe?h(y,g,v):S===zSe?r(y,g,v):S===VSe?a(y,g,v):S===BSe||S===HSe||S===YSe?l(y,g,v):!1}}function e_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Pf:jSe,areDatesEqual:ISe,areErrorsEqual:kSe,areFunctionsEqual:OSe,areMapsEqual:r?fO(gO,Pf):gO,areNumbersEqual:RSe,areObjectsEqual:r?Pf:MSe,arePrimitiveWrappersEqual:DSe,areRegExpsEqual:$Se,areSetsEqual:r?fO(yO,Pf):yO,areTypedArraysEqual:r?Pf:LSe,areUrlsEqual:FSe};if(n&&(i=xO({},i,n(i))),e){var o=vg(i.areArraysEqual),s=vg(i.areMapsEqual),a=vg(i.areObjectsEqual),l=vg(i.areSetsEqual);i=xO({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function t_e(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function n_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,c,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,s)}}var r_e=El();El({strict:!0});El({circular:!0});El({circular:!0,strict:!0});El({createInternalComparator:function(){return kc}});El({strict:!0,createInternalComparator:function(){return kc}});El({circular:!0,createInternalComparator:function(){return kc}});El({circular:!0,createInternalComparator:function(){return kc},strict:!0});function El(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=e_e(t),l=ZSe(a),c=r?r(l):t_e(l);return n_e({circular:n,comparator:l,createState:i,equals:c,strict:s})}function i_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function bO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):i_e(i)};requestAnimationFrame(r)}function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}function o_e(t){return c_e(t)||l_e(t)||a_e(t)||s_e()}function s_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a_e(t,e){if(t){if(typeof t=="string")return wO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wO(t,e)}}function wO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c_e(t){if(Array.isArray(t))return t}function u_e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=o_e(s),l=a[0],c=a.slice(1);if(typeof l=="number"){bO(i.bind(null,c),l);return}i(l),bO(i.bind(null,c));return}f_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){aU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aU(t,e,n){return e=d_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d_e(t){var e=f_e(t,"string");return vp(e)==="symbol"?e:String(e)}function f_e(t,e){if(vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h_e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},p_e=function(e){return e},m_e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},uh=function(e,n){return Object.keys(n).reduce(function(r,i){return _O(_O({},r),{},aU({},i,e(i,n[i])))},{})},EO=function(e,n,r){return e.map(function(i){return"".concat(m_e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function g_e(t,e){return x_e(t)||v_e(t,e)||lU(t,e)||y_e()}function y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function x_e(t){if(Array.isArray(t))return t}function b_e(t){return __e(t)||S_e(t)||lU(t)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lU(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function S_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function __e(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mv=1e-4,cU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},uU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},TO=function(e,n){return function(r){var i=cU(e,n);return uU(i,r)}},E_e=function(e,n){return function(r){var i=cU(e,n),o=[].concat(b_e(i.map(function(s,a){return s*a}).slice(1)),[0]);return uU(o,r)}},CO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=g_e(c,4);i=d[0],o=d[1],s=d[2],a=d[3]}}}var f=TO(i,s),h=TO(o,a),m=E_e(i,s),y=function(x){return x>1?1:x<0?0:x},g=function(x){for(var w=x>1?1:x,S=w,C=0;C<8;++C){var E=f(S)-w,P=m(S);if(Math.abs(E-w)<Mv||P<Mv)return h(S);S=y(S-E/P)}return h(S)};return g.isStepper=!1,g},T_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(d,f,h){var m=-(d-f)*r,y=h*o,g=h+(m-y)*a/1e3,v=h*a/1e3+d;return Math.abs(v-f)<Mv&&Math.abs(g)<Mv?[f,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},C_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CO(i);case"spring":return T_e();default:if(i.split("(")[0]==="cubic-bezier")return CO(i)}return typeof i=="function"?i:null};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function AO(t){return N_e(t)||P_e(t)||dU(t)||A_e()}function A_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N_e(t){if(Array.isArray(t))return m_(t)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){p_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_(t,e,n){return e=j_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_e(t){var e=I_e(t,"string");return xp(e)==="symbol"?e:String(e)}function I_e(t,e){if(xp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k_e(t,e){return M_e(t)||R_e(t,e)||dU(t,e)||O_e()}function O_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dU(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function M_e(t){if(Array.isArray(t))return t}var Dv=function(e,n,r){return e+(n-e)*r},g_=function(e){var n=e.from,r=e.to;return n!==r},D_e=function t(e,n,r){var i=uh(function(o,s){if(g_(s)){var a=e(s.from,s.to,s.velocity),l=k_e(a,2),c=l[0],d=l[1];return gr(gr({},s),{},{from:c,velocity:d})}return s},n);return r<1?uh(function(o,s){return g_(s)?gr(gr({},s),{},{velocity:Dv(s.velocity,i[o].velocity,r),from:Dv(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const $_e=function(t,e,n,r,i){var o=h_e(t,e),s=o.reduce(function(v,x){return gr(gr({},v),{},p_({},x,[t[x],e[x]]))},{}),a=o.reduce(function(v,x){return gr(gr({},v),{},p_({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return uh(function(x,w){return w.from},a)},m=function(){return!Object.values(a).filter(g_).length},y=function(x){c||(c=x);var w=x-c,S=w/n.dt;a=D_e(n,a,S),i(gr(gr(gr({},t),e),h())),c=x,m()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var w=(x-d)/r,S=uh(function(E,P){return Dv.apply(void 0,AO(P).concat([n(w)]))},s);if(i(gr(gr(gr({},t),e),S)),w<1)l=requestAnimationFrame(f);else{var C=uh(function(E,P){return Dv.apply(void 0,AO(P).concat([n(1)]))},s);i(gr(gr(gr({},t),e),C))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}var L_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function F_e(t,e){if(t==null)return{};var n=V_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Pw(t){return W_e(t)||z_e(t)||U_e(t)||B_e()}function B_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_e(t,e){if(t){if(typeof t=="string")return y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(t,e)}}function z_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W_e(t){if(Array.isArray(t))return y_(t)}function y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){Vf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vf(t,e,n){return e=fU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fU(r.key),r)}}function G_e(t,e,n){return e&&q_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fU(t){var e=K_e(t,"string");return md(e)==="symbol"?e:String(e)}function K_e(t,e){if(md(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v_(t,e)}function v_(t,e){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v_(t,e)}function X_e(t){var e=Q_e();return function(){var r=$v(t),i;if(e){var o=$v(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return x_(this,i)}}function x_(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b_(t)}function b_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}var aa=function(t){Y_e(n,t);var e=X_e(n);function n(r,i){var o;H_e(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(b_(o)),o.changeStyle=o.changeStyle.bind(b_(o)),!a||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),x_(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},x_(o);o.state={style:l?Vf({},l,c):c}}else o.state={style:{}};return o}return G_e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(a){if(!s){var m={style:l?Vf({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(r_e(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||c?f:i.to;if(this.state&&h){var v={style:l?Vf({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(ho(ho({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=$_e(s,a,C_e(c),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([h,d,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,m=function(g,v,x){if(x===0)return g;var w=v.duration,S=v.easing,C=S===void 0?"ease":S,E=v.style,P=v.properties,_=v.onAnimationEnd,T=x>0?s[x-1]:v,N=P||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(Pw(g),[o.runJSAnimation.bind(o,{from:T.style,to:E,duration:w,easing:C}),w]);var k=EO(N,w,C),j=ho(ho(ho({},T.style),E),{},{transition:k});return[].concat(Pw(g),[j,w,_]).filter(p_e)};return this.manager.start([l].concat(Pw(s.reduce(m,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=u_e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=a?Vf({},a,l):l,v=EO(Object.keys(g),s,c);y.start([d,o,ho(ho({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=F_e(i,L_e),c=b.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!a||c===0||s<=0)return o;var f=function(m){var y=m.props,g=y.style,v=g===void 0?{}:g,x=y.className,w=b.cloneElement(m,ho(ho({},l),{},{style:ho(ho({},v),d),className:x}));return w};return c===1?f(b.Children.only(o)):H.createElement("div",null,b.Children.map(o,function(h){return f(h)}))}}]),n}(b.PureComponent);aa.displayName="Animate";aa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};aa.propTypes={from:Mt.oneOfType([Mt.object,Mt.string]),to:Mt.oneOfType([Mt.object,Mt.string]),attributeName:Mt.string,duration:Mt.number,begin:Mt.number,easing:Mt.oneOfType([Mt.string,Mt.func]),steps:Mt.arrayOf(Mt.shape({duration:Mt.number.isRequired,style:Mt.object.isRequired,easing:Mt.oneOfType([Mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Mt.func]),properties:Mt.arrayOf("string"),onAnimationEnd:Mt.func})),children:Mt.oneOfType([Mt.node,Mt.func]),isActive:Mt.bool,canBegin:Mt.bool,onAnimationEnd:Mt.func,shouldReAnimate:Mt.bool,onAnimationStart:Mt.func,onAnimationReStart:Mt.func};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function J_e(t,e){return nEe(t)||tEe(t,e)||eEe(t,e)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eEe(t,e){if(t){if(typeof t=="string")return jO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jO(t,e)}}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function nEe(t){if(Array.isArray(t))return t}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){rEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rEe(t,e,n){return e=iEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iEe(t){var e=oEe(t,"string");return bp(e)=="symbol"?e:e+""}function oEe(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OO=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>s?s:o[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var y=Math.min(s,o);d="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},sEe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),d=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},aEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OA=function(e){var n=kO(kO({},aEe),e),r=b.useRef(),i=b.useState(-1),o=J_e(i,2),s=o[0],a=o[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var S=Ct("recharts-rectangle",m);return w?H.createElement(aa,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:y,isActive:w},function(C){var E=C.width,P=C.height,_=C.x,T=C.y;return H.createElement(aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:y},H.createElement("path",Lv({},Pt(n,!0),{className:S,d:OO(_,T,E,P,h),ref:r})))}):H.createElement("path",Lv({},Pt(n,!0),{className:S,d:OO(l,c,d,f,h)}))};function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}var RA=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ct("recharts-dot",o);return n===+n&&r===+r&&i===+i?b.createElement("circle",w_({},Pt(e,!1),rv(e),{className:s,cx:n,cy:r,r:i})):null};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}var lEe=["x","y","top","left","width","height","className"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){uEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uEe(t,e,n){return e=dEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dEe(t){var e=fEe(t,"string");return wp(e)=="symbol"?e:e+""}function fEe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hEe(t,e){if(t==null)return{};var n=pEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mEe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},gEe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,y=e.className,g=hEe(e,lEe),v=cEe({x:r,y:o,top:a,left:c,width:f,height:m},g);return!je(r)||!je(o)||!je(f)||!je(m)||!je(a)||!je(c)?null:H.createElement("path",S_({},Pt(v,!0),{className:Ct("recharts-cross",y),d:mEe(r,o,f,m,a,c)}))},yEe=P6,vEe=yEe(Object.getPrototypeOf,Object),xEe=vEe,bEe=da,wEe=xEe,SEe=fa,_Ee="[object Object]",EEe=Function.prototype,TEe=Object.prototype,hU=EEe.toString,CEe=TEe.hasOwnProperty,AEe=hU.call(Object);function PEe(t){if(!SEe(t)||bEe(t)!=_Ee)return!1;var e=wEe(t);if(e===null)return!0;var n=CEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hU.call(n)==AEe}var NEe=PEe;const jEe=Gt(NEe);var IEe=da,kEe=fa,OEe="[object Boolean]";function REe(t){return t===!0||t===!1||kEe(t)&&IEe(t)==OEe}var MEe=REe;const DEe=Gt(MEe);function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function $Ee(t,e){return BEe(t)||VEe(t,e)||FEe(t,e)||LEe()}function LEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FEe(t,e){if(t){if(typeof t=="string")return MO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(t,e)}}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function BEe(t){if(Array.isArray(t))return t}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){UEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UEe(t,e,n){return e=zEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zEe(t){var e=WEe(t,"string");return Sp(e)=="symbol"?e:e+""}function WEe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LO=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},HEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qEe=function(e){var n=$O($O({},HEe),e),r=b.useRef(),i=b.useState(-1),o=$Ee(i,2),s=o[0],a=o[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Ct("recharts-trapezoid",m);return x?H.createElement(aa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:y,isActive:x},function(S){var C=S.upperWidth,E=S.lowerWidth,P=S.height,_=S.x,T=S.y;return H.createElement(aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},H.createElement("path",Fv({},Pt(n,!0),{className:w,d:LO(_,T,C,E,P),ref:r})))}):H.createElement("g",null,H.createElement("path",Fv({},Pt(n,!0),{className:w,d:LO(l,c,d,f,h)})))},GEe=["option","shapeType","propTransformer","activeClassName","isActive"];function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function KEe(t,e){if(t==null)return{};var n=YEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){XEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XEe(t,e,n){return e=QEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QEe(t){var e=JEe(t,"string");return _p(e)=="symbol"?e:e+""}function JEe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZEe(t,e){return Vv(Vv({},e),t)}function eTe(t,e){return t==="symbols"}function VO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return H.createElement(OA,n);case"trapezoid":return H.createElement(qEe,n);case"sector":return H.createElement(nU,n);case"symbols":if(eTe(e))return H.createElement(QC,n);break;default:return null}}function tTe(t){return b.isValidElement(t)?t.props:t}function nTe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ZEe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=KEe(t,GEe),c;if(b.isValidElement(e))c=b.cloneElement(e,Vv(Vv({},l),tTe(e)));else if(St(e))c=e(l);else if(jEe(e)&&!DEe(e)){var d=i(e,l);c=H.createElement(VO,{shapeType:n,elementProps:d})}else{var f=l;c=H.createElement(VO,{shapeType:n,elementProps:f})}return a?H.createElement($n,{className:s},c):c}function $0(t,e){return e!=null&&"trapezoids"in t.props}function L0(t,e){return e!=null&&"sectors"in t.props}function Ep(t,e){return e!=null&&"points"in t.props}function rTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function iTe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function oTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function sTe(t,e){var n;return $0(t,e)?n=rTe:L0(t,e)?n=iTe:Ep(t,e)&&(n=oTe),n}function aTe(t,e){var n;return $0(t,e)?n="trapezoids":L0(t,e)?n="sectors":Ep(t,e)&&(n="points"),n}function lTe(t,e){if($0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(L0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ep(t,e)?e.payload:{}}function cTe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=aTe(n,e),o=lTe(n,e),s=r.filter(function(l,c){var d=R0(o,l),f=n.props[i].filter(function(y){var g=sTe(n,e);return g(y,e)}),h=n.props[i].indexOf(f[f.length-1]),m=c===h;return d&&m}),a=r.indexOf(s[s.length-1]);return a}var uTe=Math.ceil,dTe=Math.max;function fTe(t,e,n,r){for(var i=-1,o=dTe(uTe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var hTe=fTe,pTe=q6,BO=1/0,mTe=17976931348623157e292;function gTe(t){if(!t)return t===0?t:0;if(t=pTe(t),t===BO||t===-BO){var e=t<0?-1:1;return e*mTe}return t===t?t:0}var yTe=gTe,vTe=hTe,xTe=T0,Nw=yTe;function bTe(t){return function(e,n,r){return r&&typeof r!="number"&&xTe(e,n,r)&&(n=r=void 0),e=Nw(e),n===void 0?(n=e,e=0):n=Nw(n),r=r===void 0?e<n?1:-1:Nw(r),vTe(e,n,r,t)}}var wTe=bTe,STe=wTe,_Te=STe(),ETe=_Te;const Bv=Gt(ETe);function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){pU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pU(t,e,n){return e=TTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TTe(t){var e=CTe(t,"string");return Tp(e)=="symbol"?e:e+""}function CTe(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ATe=["Webkit","Moz","O","ms"],PTe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=ATe.reduce(function(o,s){return zO(zO({},o),{},pU({},s+r,n))},{});return i[e]=n,i};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gU(r.key),r)}}function jTe(t,e,n){return e&&HO(t.prototype,e),n&&HO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ITe(t,e,n){return e=zv(e),kTe(t,mU()?Reflect.construct(e,n||[],zv(t).constructor):e.apply(t,n))}function kTe(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OTe(t)}function OTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mU=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function RTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function wi(t,e,n){return e=gU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gU(t){var e=MTe(t,"string");return gd(e)=="symbol"?e:e+""}function MTe(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=lh().domain(Bv(0,l)).range([o,o+s-a]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},qO=function(e){return e.changedTouches&&!!e.changedTouches.length},yd=function(t){function e(n){var r;return NTe(this,e),r=ITe(this,e,[n]),wi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),wi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),wi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),wi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),wi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),wi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),wi(r,"handleSlideDragStart",function(i){var o=qO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return RTe(e,t),jTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,d=c.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(s,f),y=e.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=ki(o[r],a,r);return St(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,y=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+d-f-a,c+d-f-s):g<0&&(g=Math.max(g,c-s,c-a));var v=this.getIndex({startX:s+g,endX:a+g});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=qO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-m-c):w<0&&(w=Math.max(w,f-c)),x[s]=c+w;var S=this.getIndex(x),C=S.startIndex,E=S.endIndex,P=function(){var T=v.length-1;return s==="startX"&&(a>l?C%g===0:E%g===0)||a<l&&E===T||s==="endX"&&(a>l?E%g===0:C%g===0)||a>l&&E===T};this.setState(wi(wi({},s,c+w),"brushMoveStartX",r.pageX),function(){y&&P()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var m=a[h];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(wi({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,c=r.stroke;return H.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,c=r.children,d=r.padding,f=b.Children.only(c);return f?H.cloneElement(f,{x:i,y:o,width:s,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,y=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),w=jw(jw({},Pt(this.props,!1)),{},{x,y:c,width:d,height:f}),S=m||"Min value: ".concat((o=y[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=y[v])===null||s===void 0?void 0:s.name);return H.createElement($n,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:c};return H.createElement($n,{className:"recharts-brush-texts"},H.createElement(vv,Uv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+a/2},y),this.getTextOfTick(i)),H.createElement(vv,Uv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:s+a/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!je(a)||!je(l)||!je(c)||!je(d)||c<=0||d<=0)return null;var S=Ct("recharts-brush",o),C=H.Children.count(s)===1,E=PTe("userSelect","none");return H.createElement($n,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,c=Math.floor(o+a/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),H.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):St(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return jw({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?DTe({data:o,width:s,x:a,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(b.PureComponent);wi(yd,"displayName","Brush");wi(yd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $Te=oA;function LTe(t,e){var n;return $Te(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var FTe=LTe,VTe=b6,BTe=Zd,UTe=FTe,zTe=pi,WTe=T0;function HTe(t,e,n){var r=zTe(t)?VTe:UTe;return n&&WTe(t,e,n)&&(e=void 0),r(t,BTe(e))}var qTe=HTe;const GTe=Gt(qTe);var gs=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},GO=B6;function KTe(t,e,n){e=="__proto__"&&GO?GO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var YTe=KTe,XTe=YTe,QTe=F6,JTe=Zd;function ZTe(t,e){var n={};return e=JTe(e),QTe(t,function(r,i,o){XTe(n,i,e(r,i,o))}),n}var eCe=ZTe;const tCe=Gt(eCe);function nCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var rCe=nCe,iCe=oA;function oCe(t,e){var n=!0;return iCe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var sCe=oCe,aCe=rCe,lCe=sCe,cCe=Zd,uCe=pi,dCe=T0;function fCe(t,e,n){var r=uCe(t)?aCe:lCe;return n&&dCe(t,e,n)&&(e=void 0),r(t,cCe(e))}var hCe=fCe;const pCe=Gt(hCe);var mCe=["x","y"];function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){gCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gCe(t,e,n){return e=yCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yCe(t){var e=vCe(t,"string");return Cp(e)=="symbol"?e:e+""}function vCe(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xCe(t,e){if(t==null)return{};var n=bCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wCe(t,e){var n=t.x,r=t.y,i=xCe(t,mCe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Nf(Nf(Nf(Nf(Nf({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function YO(t){return H.createElement(nTe,E_({shapeType:"rectangle",propTransformer:wCe,activeClassName:"recharts-active-bar"},t))}var SCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=je(r)||Mae(r);return o?e(r,i):(o||bc(),n)}},_Ce=["value","background"],yU;function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function ECe(t,e){if(t==null)return{};var n=TCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(this,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xU(r.key),r)}}function ACe(t,e,n){return e&&QO(t.prototype,e),n&&QO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PCe(t,e,n){return e=Hv(e),NCe(t,vU()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function NCe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jCe(t)}function jCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vU=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function ICe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function Ua(t,e,n){return e=xU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xU(t){var e=kCe(t,"string");return vd(e)=="symbol"?e:e+""}function kCe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fm=function(t){function e(){var n;CCe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=PCe(this,e,[].concat(i)),Ua(n,"state",{isAnimationFinished:!1}),Ua(n,"id",sm("recharts-bar-")),Ua(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ua(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return ICe(e,t),ACe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,d=Pt(this.props,!1);return r&&r.map(function(f,h){var m=h===l,y=m?c:s,g=Vn(Vn(Vn({},d),f),{},{isActive:m,option:y,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement($n,Wv({className:"recharts-bar-rectangle"},iv(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),H.createElement(YO,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return H.createElement(aa,{begin:l,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=o.map(function(v,x){var w=h&&h[x];if(w){var S=_o(w.x,v.x),C=_o(w.y,v.y),E=_o(w.width,v.width),P=_o(w.height,v.height);return Vn(Vn({},v),{},{x:S(y),y:C(y),width:E(y),height:P(y)})}if(s==="horizontal"){var _=_o(0,v.height),T=_(y);return Vn(Vn({},v),{},{y:v.y+v.height-T,height:T})}var N=_o(0,v.width),k=N(y);return Vn(Vn({},v),{},{width:k})});return H.createElement($n,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!R0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Pt(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=ECe(c,_Ce);if(!f)return null;var m=Vn(Vn(Vn(Vn(Vn({},h),{},{fill:"#eee"},f),l),iv(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return H.createElement(YO,Wv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Qi(d,dm);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,m=function(v,x){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:ki(v,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement($n,y,f.map(function(g){return H.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,y=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=Ct("recharts-bar",s),w=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,C=w||S,E=vt(g)?this.id:g;return H.createElement($n,{className:x},w||S?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(E)},H.createElement("rect",{x:w?c:c-f/2,y:S?d:d-h/2,width:w?f:f*2,height:S?h:h*2}))):null,H.createElement($n,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!m||v)&&rl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(b.PureComponent);yU=fm;Ua(fm,"displayName","Bar");Ua(fm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ua(fm,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=s1e(r,n);if(!m)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?Vn(Vn({},g),n.props):n.props,x=v.dataKey,w=v.children,S=v.minPointSize,C=y==="horizontal"?s:o,E=c?C.scale.domain():null,P=p1e({numericAxis:C}),_=Qi(w,K6),T=f.map(function(N,k){var j,R,O,$,F,U;c?j=a1e(c[d+k],E):(j=ki(N,x),Array.isArray(j)||(j=[P,j]));var W=SCe(S,yU.defaultProps.minPointSize)(j[1],k);if(y==="horizontal"){var V,B=[s.scale(j[0]),s.scale(j[1])],Z=B[0],Q=B[1];R=Xk({axis:o,ticks:a,bandSize:i,offset:m.offset,entry:N,index:k}),O=(V=Q??Z)!==null&&V!==void 0?V:void 0,$=m.size;var ne=Z-Q;if(F=Number.isNaN(ne)?0:ne,U={x:R,y:s.y,width:$,height:s.height},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var _e=No(F||W)*(Math.abs(W)-Math.abs(F));O-=_e,F+=_e}}else{var Pe=[o.scale(j[0]),o.scale(j[1])],Me=Pe[0],st=Pe[1];if(R=Me,O=Xk({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:N,index:k}),$=st-Me,F=m.size,U={x:o.x,y:O,width:o.width,height:F},Math.abs(W)>0&&Math.abs($)<Math.abs(W)){var be=No($||W)*(Math.abs(W)-Math.abs($));$+=be}}return Vn(Vn(Vn({},N),{},{x:R,y:O,width:$,height:F,value:c?j:j[1],payload:N,background:U},_&&_[k]&&_[k].props),{},{tooltipPayload:[ZB(n,N)],tooltipPosition:{x:R+$/2,y:O+F/2}})});return Vn({data:T,layout:y},h)});function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function OCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bU(r.key),r)}}function RCe(t,e,n){return e&&JO(t.prototype,e),n&&JO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){F0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0(t,e,n){return e=bU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bU(t){var e=MCe(t,"string");return Ap(e)=="symbol"?e:e+""}function MCe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DCe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Ei(c,fm);return d.reduce(function(m,y){var g=n[y],v=g.orientation,x=g.domain,w=g.padding,S=w===void 0?{}:w,C=g.mirror,E=g.reversed,P="".concat(v).concat(C?"Mirror":""),_,T,N,k,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=x[1]-x[0],O=1/0,$=g.categoricalDomain.sort(Lae);if($.forEach(function(Pe,Me){Me>0&&(O=Math.min((Pe||0)-($[Me-1]||0),O))}),Number.isFinite(O)){var F=O/R,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(_=F*U/2),g.padding==="no-gap"){var W=vc(e.barCategoryGap,F*U),V=F*U/2;_=V-W-(V-W)/U*W}}}i==="xAxis"?T=[r.left+(S.left||0)+(_||0),r.left+r.width-(S.right||0)-(_||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(_||0),r.top+r.height-(S.bottom||0)-(_||0)]:T=g.range,E&&(T=[T[1],T[0]]);var B=i1e(g,o,h),Z=B.scale,Q=B.realScaleType;Z.domain(x).range(T),o1e(Z);var ne=h1e(Z,bo(bo({},g),{},{realScaleType:Q}));i==="xAxis"?(j=v==="top"&&!C||v==="bottom"&&C,N=r.left,k=f[P]-j*g.height):i==="yAxis"&&(j=v==="left"&&!C||v==="right"&&C,N=f[P]-j*g.width,k=r.top);var _e=bo(bo(bo({},g),ne),{},{realScaleType:Q,x:N,y:k,scale:Z,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return _e.bandSize=kv(_e,ne),!g.hide&&i==="xAxis"?f[P]+=(j?-1:1)*_e.height:g.hide||(f[P]+=(j?-1:1)*_e.width),bo(bo({},m),{},F0({},y,_e))},{})},wU=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},$Ce=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return wU({x:n,y:r},{x:i,y:o})},SU=function(){function t(e){OCe(this,t),this.scale=e}return RCe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();F0(SU,"EPS",1e-4);var MA=function(e){var n=Object.keys(e).reduce(function(r,i){return bo(bo({},r),{},F0({},i,SU.create(e[i])))},{});return bo(bo({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return tCe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return pCe(i,function(o,s){return n[s].isInRange(o)})}})};function LCe(t){return(t%180+180)%180}var FCe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=LCe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},VCe=Fse(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_U=b.createContext(void 0),EU=b.createContext(void 0),TU=b.createContext(void 0),BCe=b.createContext({}),CU=b.createContext(void 0),AU=b.createContext(0),PU=b.createContext(0),eR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,c=e.height,d=VCe(o);return H.createElement(_U.Provider,{value:r},H.createElement(EU.Provider,{value:i},H.createElement(BCe.Provider,{value:o},H.createElement(TU.Provider,{value:d},H.createElement(CU.Provider,{value:s},H.createElement(AU.Provider,{value:c},H.createElement(PU.Provider,{value:l},a)))))))},UCe=function(){return b.useContext(CU)},NU=function(e){var n=b.useContext(_U);n==null&&bc();var r=n[e];return r==null&&bc(),r},jU=function(e){var n=b.useContext(EU);n==null&&bc();var r=n[e];return r==null&&bc(),r},zCe=function(){var e=b.useContext(TU);return e},IU=function(){return b.useContext(PU)},kU=function(){return b.useContext(AU)};function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function WCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RU(r.key),r)}}function qCe(t,e,n){return e&&HCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GCe(t,e,n){return e=qv(e),KCe(t,OU()?Reflect.construct(e,n||[],qv(t).constructor):e.apply(t,n))}function KCe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YCe(t)}function YCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function XCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){DA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DA(t,e,n){return e=RU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RU(t){var e=QCe(t,"string");return xd(e)=="symbol"?e:e+""}function QCe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JCe(t,e){return nAe(t)||tAe(t,e)||eAe(t,e)||ZCe()}function ZCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eAe(t,e){if(t){if(typeof t=="string")return rR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rR(t,e)}}function rR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function nAe(t){if(Array.isArray(t))return t}function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}var rAe=function(e,n){var r;return H.isValidElement(e)?r=H.cloneElement(e,n):St(e)?r=e(n):r=H.createElement("line",A_({},n,{className:"recharts-reference-line-line"})),r},iAe=function(e,n,r,i,o,s,a,l,c){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var y=c.y,g=e.y.apply(y,{position:s});if(gs(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(n){var x=c.x,w=e.x.apply(x,{position:s});if(gs(c,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:f+m},{x:w,y:f}];return a==="top"?S.reverse():S}if(i){var C=c.segment,E=C.map(function(P){return e.apply(P,{position:s})});return gs(c,"discard")&&GTe(E,function(P){return!e.isInRange(P)})?null:E}return null};function oAe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,c=UCe(),d=NU(i),f=jU(o),h=zCe();if(!c||!h)return null;ec(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=MA({x:d.scale,y:f.scale}),y=Qn(e),g=Qn(n),v=r&&r.length===2,x=iAe(m,y,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var w=JCe(x,2),S=w[0],C=S.x,E=S.y,P=w[1],_=P.x,T=P.y,N=gs(t,"hidden")?"url(#".concat(c,")"):void 0,k=nR(nR({clipPath:N},Pt(t,!0)),{},{x1:C,y1:E,x2:_,y2:T});return H.createElement($n,{className:Ct("recharts-reference-line",a)},rAe(s,k),zr.renderCallByParent(t,$Ce({x1:C,y1:E,x2:_,y2:T})))}var $A=function(t){function e(){return WCe(this,e),GCe(this,e,arguments)}return XCe(e,t),qCe(e,[{key:"render",value:function(){return H.createElement(oAe,this.props)}}])}(H.Component);DA($A,"displayName","ReferenceLine");DA($A,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DU(r.key),r)}}function lAe(t,e,n){return e&&aAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cAe(t,e,n){return e=Gv(e),uAe(t,MU()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function uAe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dAe(t)}function dAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MU=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function fAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function V0(t,e,n){return e=DU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DU(t){var e=hAe(t,"string");return bd(e)=="symbol"?e:e+""}function hAe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pAe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=MA({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return gs(e,"discard")&&!s.isInRange(a)?null:a},B0=function(t){function e(){return sAe(this,e),cAe(this,e,arguments)}return fAe(e,t),lAe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,c=Qn(i),d=Qn(o);if(ec(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=pAe(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,g=y.shape,v=y.className,x=gs(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=oR(oR({clipPath:x},Pt(this.props,!0)),{},{cx:h,cy:m});return H.createElement($n,{className:Ct("recharts-reference-dot",v)},e.renderDot(g,w),zr.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(H.Component);V0(B0,"displayName","ReferenceDot");V0(B0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});V0(B0,"renderDot",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):St(t)?n=t(e):n=H.createElement(RA,P_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){U0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LU(r.key),r)}}function yAe(t,e,n){return e&&gAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vAe(t,e,n){return e=Kv(e),xAe(t,$U()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function xAe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bAe(t)}function bAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function wAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function U0(t,e,n){return e=LU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LU(t){var e=SAe(t,"string");return wd(e)=="symbol"?e:e+""}function SAe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Ae=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=MA({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return gs(o,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:wU(m,y)},z0=function(t){function e(){return mAe(this,e),vAe(this,e,arguments)}return wAe(e,t),yAe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;ec(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Qn(i),h=Qn(o),m=Qn(s),y=Qn(a),g=this.props.shape;if(!f&&!h&&!m&&!y&&!g)return null;var v=_Ae(f,h,m,y,this.props);if(!v&&!g)return null;var x=gs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return H.createElement($n,{className:Ct("recharts-reference-area",l)},e.renderRect(g,aR(aR({clipPath:x},Pt(this.props,!0)),v)),zr.renderCallByParent(this.props,v))}}])}(H.Component);U0(z0,"displayName","ReferenceArea");U0(z0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});U0(z0,"renderRect",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):St(t)?n=t(e):n=H.createElement(OA,j_({},e,{className:"recharts-reference-area-rect"})),n});function FU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function EAe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return FCe(r,n)}function TAe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Yv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function CAe(t,e){return FU(t,e+1)}function AAe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,c=1,d=s,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:FU(r,c)};var g=l,v,x=function(){return v===void 0&&(v=n(y,g)),v},w=y.coordinate,S=l===0||Yv(t,w,x,d,a);S||(l=0,d=s,c+=1),S&&(d=w+t*(x()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){PAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PAe(t,e,n){return e=NAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NAe(t){var e=jAe(t,"string");return Pp(e)=="symbol"?e:e+""}function jAe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IAe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(h){var m=o[h],y,g=function(){return y===void 0&&(y=n(m,h)),y};if(h===s-1){var v=t*(m.coordinate+t*g()/2-l);o[h]=m=Fr(Fr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else o[h]=m=Fr(Fr({},m),{},{tickCoord:m.coordinate});var x=Yv(t,m.tickCoord,g,a,l);x&&(l=m.tickCoord-t*(g()/2+i),o[h]=Fr(Fr({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return o}function kAe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-c);s[a-1]=d=Fr(Fr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Yv(t,d.tickCoord,function(){return f},l,c);m&&(c=d.tickCoord-t*(f/2+i),s[a-1]=Fr(Fr({},d),{},{isShow:!0}))}for(var y=o?a-1:a,g=function(w){var S=s[w],C,E=function(){return C===void 0&&(C=n(S,w)),C};if(w===0){var P=t*(S.coordinate-t*E()/2-l);s[w]=S=Fr(Fr({},S),{},{tickCoord:P<0?S.coordinate-P*t:S.coordinate})}else s[w]=S=Fr(Fr({},S),{},{tickCoord:S.coordinate});var _=Yv(t,S.tickCoord,E,l,c);_&&(l=S.tickCoord+t*(E()/2+i),s[w]=Fr(Fr({},S),{},{isShow:!0}))},v=0;v<y;v++)g(v);return s}function OAe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(je(l)||qs.isSsr)return CAe(i,typeof l=="number"&&je(l)?l:0);var h=[],m=a==="top"||a==="bottom"?"width":"height",y=d&&m==="width"?ah(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(S,C){var E=St(c)?c(S.value,C):S.value;return m==="width"?EAe(ah(E,{fontSize:e,letterSpacing:n}),y,f):ah(E,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?No(i[1].coordinate-i[0].coordinate):1,x=TAe(o,v,m);return l==="equidistantPreserveStart"?AAe(v,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=kAe(v,x,g,i,s,l==="preserveStartEnd"):h=IAe(v,x,g,i,s),h.filter(function(w){return w.isShow}))}var RAe=["viewBox"],MAe=["viewBox"],DAe=["ticks"];function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){LA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iw(t,e){if(t==null)return{};var n=$Ae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BU(r.key),r)}}function FAe(t,e,n){return e&&uR(t.prototype,e),n&&uR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VAe(t,e,n){return e=Xv(e),BAe(t,VU()?Reflect.construct(e,n||[],Xv(t).constructor):e.apply(t,n))}function BAe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UAe(t)}function UAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VU=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xv(t)}function zAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function LA(t,e,n){return e=BU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BU(t){var e=WAe(t,"string");return Sd(e)=="symbol"?e:e+""}function WAe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W0=function(t){function e(n){var r;return LAe(this,e),r=VAe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return zAe(e,t),FAe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Iw(r,RAe),a=this.props,l=a.viewBox,c=Iw(a,MAe);return!Au(o,l)||!Au(s,c)||!Au(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,y,g,v,x,w,S=f?-1:1,C=r.tickSize||d,E=je(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=y=r.coordinate,v=s+ +!f*l,g=v-S*C,w=g-S*h,x=E;break;case"left":g=v=r.coordinate,y=o+ +!f*a,m=y-S*C,x=m-S*h,w=E;break;case"right":g=v=r.coordinate,y=o+ +f*a,m=y+S*C,x=m+S*h,w=E;break;default:m=y=r.coordinate,v=s+ +f*l,g=v+S*C,w=g+S*h,x=E;break}return{line:{x1:m,y1:g,x2:y,y2:v},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=qn(qn(qn({},Pt(this.props,!1)),Pt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=qn(qn({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var m=+(l==="left"&&!c||l==="right"&&c);f=qn(qn({},f),{},{x1:i+m*s,y1:o,x2:i+m*s,y2:o+a})}return H.createElement("line",fu({},f,{className:Ct("recharts-cartesian-axis-line",Xi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,m=OAe(qn(qn({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Pt(this.props,!1),x=Pt(d,!1),w=qn(qn({},v),{},{fill:"none"},Pt(l,!1)),S=m.map(function(C,E){var P=s.getTickLineCoord(C),_=P.line,T=P.tick,N=qn(qn(qn(qn({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:c},x),T),{},{index:E,payload:C,visibleTicksCount:m.length,tickFormatter:f});return H.createElement($n,fu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},iv(s.props,C,E)),l&&H.createElement("line",fu({},w,_,{className:Ct("recharts-cartesian-axis-tick-line",Xi(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(St(f)?f(C.value,E):C.value).concat(h||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Iw(f,DAe),y=h;return St(l)&&(y=h&&h.length>0?l(this.props):l(m)),s<=0||a<=0||!y||!y.length?null:H.createElement($n,{className:Ct("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ct(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?s=H.cloneElement(r,qn(qn({},i),{},{className:a})):St(r)?s=r(qn(qn({},i),{},{className:a})):s=H.createElement(vv,fu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(b.Component);LA(W0,"displayName","CartesianAxis");LA(W0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var HAe=["type","layout","connectNulls","ref"],qAe=["key"];function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function dR(t,e){if(t==null)return{};var n=GAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(this,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){wo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wc(t){return QAe(t)||XAe(t)||YAe(t)||KAe()}function KAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YAe(t,e){if(t){if(typeof t=="string")return O_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(t,e)}}function XAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QAe(t){if(Array.isArray(t))return O_(t)}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zU(r.key),r)}}function ZAe(t,e,n){return e&&hR(t.prototype,e),n&&hR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ePe(t,e,n){return e=Qv(e),tPe(t,UU()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function tPe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nPe(t)}function nPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UU=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function rPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function wo(t,e,n){return e=zU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zU(t){var e=iPe(t,"string");return _d(e)=="symbol"?e:e+""}function iPe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hm=function(t){function e(){var n;JAe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ePe(this,e,[].concat(i)),wo(n,"state",{isAnimationFinished:!0,totalLength:0}),wo(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),wo(n,"getStrokeDasharray",function(s,a,l){var c=l.reduce(function(x,w){return x+w});if(!c)return n.generateSimpleStrokeDasharray(a,s);for(var d=Math.floor(s/c),f=s%c,h=a-s,m=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>f){m=[].concat(Wc(l.slice(0,y)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Wc(e.repeat(l,d)),Wc(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),wo(n,"id",sm("recharts-line-")),wo(n,"pathRef",function(s){n.mainCurve=s}),wo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),wo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return rPe(e,t),ZAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Qi(d,dm);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:ki(g.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement($n,m,f.map(function(y){return H.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,d=a.dataKey,f=Pt(this.props,!1),h=Pt(l,!0),m=c.map(function(g,v){var x=bi(bi(bi({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:c});return e.renderDotItem(l,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return H.createElement($n,dh({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,c=a.layout,d=a.connectNulls;a.ref;var f=dR(a,HAe),h=bi(bi(bi({},Pt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:d});return H.createElement(d_,dh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,y=s.animateNewValues,g=s.width,v=s.height,x=this.state,w=x.prevPoints,S=x.totalLength;return H.createElement(aa,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var E=C.t;if(w){var P=w.length/a.length,_=a.map(function(R,O){var $=Math.floor(O*P);if(w[$]){var F=w[$],U=_o(F.x,R.x),W=_o(F.y,R.y);return bi(bi({},R),{},{x:U(E),y:W(E)})}if(y){var V=_o(g*2,R.x),B=_o(v/2,R.y);return bi(bi({},R),{},{x:V(E),y:B(E)})}return bi(bi({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(_,r,i)}var T=_o(0,S),N=T(E),k;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=o.getStrokeDasharray(N,S,j)}else k=o.generateSimpleStrokeDasharray(S,N);return o.renderCurveStatically(a,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return a&&s&&s.length&&(!c&&d>0||!R0(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var x=this.state.isAnimationFinished,w=a.length===1,S=Ct("recharts-line",l),C=c&&c.allowDataOverflow,E=d&&d.allowDataOverflow,P=C||E,_=vt(v)?this.id:v,T=(r=Pt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=T.r,k=N===void 0?3:N,j=T.strokeWidth,R=j===void 0?2:j,O=Gae(s)?s:{},$=O.clipDot,F=$===void 0?!0:$,U=k*2+R;return H.createElement($n,{className:S},C||E?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(_)},H.createElement("rect",{x:C?h:h-m/2,y:E?f:f-y/2,width:C?m:m*2,height:E?y:y*2})),!F&&H.createElement("clipPath",{id:"clipPath-dots-".concat(_)},H.createElement("rect",{x:h-U/2,y:f-U/2,width:m+U,height:y+U}))):null,!w&&this.renderCurve(P,_),this.renderErrorBar(P,_),(w||s)&&this.renderDots(P,F,_),(!g||x)&&rl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Wc(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Wc(s),Wc(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(H.isValidElement(r))o=H.cloneElement(r,i);else if(St(r))o=r(i);else{var s=i.key,a=dR(i,qAe),l=Ct("recharts-line-dot",typeof r!="boolean"?r.className:"");o=H.createElement(RA,dh({key:s},a,{className:l}))}return o}}])}(b.PureComponent);wo(hm,"displayName","Line");wo(hm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wo(hm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,m){var y=ki(h,s);return d==="horizontal"?{x:Yk({axis:n,ticks:i,bandSize:a,entry:h,index:m}),y:vt(y)?null:r.scale(y),value:y,payload:h}:{x:vt(y)?null:n.scale(y),y:Yk({axis:r,ticks:o,bandSize:a,entry:h,index:m}),value:y,payload:h}});return bi({points:f,layout:d},c)});function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function oPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qU(r.key),r)}}function aPe(t,e,n){return e&&sPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lPe(t,e,n){return e=Jv(e),cPe(t,WU()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function cPe(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uPe(t)}function uPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WU=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function dPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function HU(t,e,n){return e=qU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qU(t){var e=fPe(t,"string");return Ed(e)=="symbol"?e:e+""}function fPe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function hPe(t){var e=t.xAxisId,n=IU(),r=kU(),i=NU(e);return i==null?null:b.createElement(W0,D_({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Hl(s,!0)}}))}var H0=function(t){function e(){return oPe(this,e),lPe(this,e,arguments)}return dPe(e,t),aPe(e,[{key:"render",value:function(){return b.createElement(hPe,this.props)}}])}(b.Component);HU(H0,"displayName","XAxis");HU(H0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function pPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YU(r.key),r)}}function gPe(t,e,n){return e&&mPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yPe(t,e,n){return e=Zv(e),vPe(t,GU()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function vPe(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xPe(t)}function xPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GU=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function bPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function KU(t,e,n){return e=YU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YU(t){var e=wPe(t,"string");return Td(e)=="symbol"?e:e+""}function wPe(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}var SPe=function(e){var n=e.yAxisId,r=IU(),i=kU(),o=jU(n);return o==null?null:b.createElement(W0,L_({},o,{className:Ct("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Hl(a,!0)}}))},q0=function(t){function e(){return pPe(this,e),yPe(this,e,arguments)}return bPe(e,t),gPe(e,[{key:"render",value:function(){return b.createElement(SPe,this.props)}}])}(b.Component);KU(q0,"displayName","YAxis");KU(q0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pR(t){return CPe(t)||TPe(t)||EPe(t)||_Pe()}function _Pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EPe(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function TPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CPe(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var V_=function(e,n,r,i,o){var s=Qi(e,$A),a=Qi(e,B0),l=[].concat(pR(s),pR(a)),c=Qi(e,z0),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===r&&gs(v.props,"extendDomain")&&je(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),c.length){var m="".concat(f,"1"),y="".concat(f,"2");h=c.reduce(function(g,v){if(v.props[d]===r&&gs(v.props,"extendDomain")&&je(v.props[m])&&je(v.props[y])){var x=v.props[m],w=v.props[y];return[Math.min(g[0],x,w),Math.max(g[1],x,w)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,v){return je(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},XU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,h,m,y){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,w,S;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,y),!0}for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];v.fn.apply(v.context,w)}else{var C=v.length,E;for(S=0;S<C;S++)switch(v[S].once&&this.removeListener(c,v[S].fn,void 0,!0),x){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(x-1);E<x;E++)w[E-1]=arguments[E];v[S].fn.apply(v[S].context,w)}}return!0},a.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,m);else{for(var g=0,v=[],x=y.length;g<x;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(XU);var APe=XU.exports;const PPe=Gt(APe);var kw=new PPe,Ow="recharts.syncMouseEvents";function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function NPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QU(r.key),r)}}function IPe(t,e,n){return e&&jPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rw(t,e,n){return e=QU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QU(t){var e=kPe(t,"string");return Np(e)=="symbol"?e:e+""}function kPe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OPe=function(){function t(){NPe(this,t),Rw(this,"activeIndex",0),Rw(this,"coordinateList",[]),Rw(this,"layout","horizontal")}return IPe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,h=s+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function RPe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&je(r)&&je(i))return!0}return!1}function MPe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function JU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Sr(e,n,r,i),a=Sr(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function DPe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=Sr(a,l,c,f),m=Sr(a,l,d,f);r=h.x,i=h.y,o=m.x,s=m.y}else return JU(e);return[{x:r,y:i},{x:o,y:s}]}function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){$Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Pe(t,e,n){return e=LPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LPe(t){var e=FPe(t,"string");return jp(e)=="symbol"?e:e+""}function FPe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VPe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,g=d_;if(h==="ScatterChart")y=s,g=gEe;else if(h==="BarChart")y=MPe(f,s,l,d),g=OA;else if(f==="radial"){var v=JU(s),x=v.cx,w=v.cy,S=v.radius,C=v.startAngle,E=v.endAngle;y={cx:x,cy:w,startAngle:C,endAngle:E,innerRadius:S,outerRadius:S},g=nU}else y={points:DPe(f,s,l)},g=d_;var P=xg(xg(xg(xg({stroke:"#ccc",pointerEvents:"none"},l),y),Pt(m,!1)),{},{payload:a,payloadIndex:c,className:Ct("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,P):b.createElement(g,P)}var BPe=["item"],UPe=["children","className","width","height","style","compact","title","desc"];function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}function gR(t,e){return HPe(t)||WPe(t,e)||e9(t,e)||zPe()}function zPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function HPe(t){if(Array.isArray(t))return t}function yR(t,e){if(t==null)return{};var n=qPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t9(r.key),r)}}function YPe(t,e,n){return e&&KPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XPe(t,e,n){return e=ex(e),QPe(t,ZU()?Reflect.construct(e,n||[],ex(t).constructor):e.apply(t,n))}function QPe(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JPe(t)}function JPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}function ZPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function Ad(t){return nNe(t)||tNe(t)||e9(t)||eNe()}function eNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function tNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nNe(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function it(t,e,n){return e=t9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t9(t){var e=rNe(t,"string");return Cd(e)=="symbol"?e:e+""}function rNe(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iNe={xAxis:["bottom","top"],yAxis:["left","right"]},oNe={width:"100%",height:"100%"},n9={x:0,y:0};function bg(t){return t}var sNe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},aNe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return ie(ie(ie({},i),Sr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return ie(ie(ie({},i),Sr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return n9},G0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Ad(a),Ad(c)):a},[]);return s.length>0?s:e&&e.length&&je(i)&&je(o)?e.slice(i,o+1):[]};function r9(t){return t==="number"?[0,"auto"]:void 0}var z_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=G0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?a:f;h=nv(m,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Ad(l),[ZB(c,h)]):l},[])},xR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=sNe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=Jwe(s,a,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=z_(e,n,d,f),m=aNe(r,a,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},lNe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=QB(d,o);return r.reduce(function(y,g){var v,x=g.type.defaultProps!==void 0?ie(ie({},g.type.defaultProps),g.props):g.props,w=x.type,S=x.dataKey,C=x.allowDataOverflow,E=x.allowDuplicatedCategory,P=x.scale,_=x.ticks,T=x.includeHidden,N=x[s];if(y[N])return y;var k=G0(e.data,{graphicalItems:i.filter(function(ne){var _e,Pe=s in ne.props?ne.props[s]:(_e=ne.type.defaultProps)===null||_e===void 0?void 0:_e[s];return Pe===N}),dataStartIndex:l,dataEndIndex:c}),j=k.length,R,O,$;RPe(x.domain,C,w)&&(R=s_(x.domain,null,C),m&&(w==="number"||P!=="auto")&&($=ch(k,S,"category")));var F=r9(w);if(!R||R.length===0){var U,W=(U=x.domain)!==null&&U!==void 0?U:F;if(S){if(R=ch(k,S,w),w==="category"&&m){var V=$ae(R);E&&V?(O=R,R=Bv(0,j)):E||(R=Zk(W,R,g).reduce(function(ne,_e){return ne.indexOf(_e)>=0?ne:[].concat(Ad(ne),[_e])},[]))}else if(w==="category")E?R=R.filter(function(ne){return ne!==""&&!vt(ne)}):R=Zk(W,R,g).reduce(function(ne,_e){return ne.indexOf(_e)>=0||_e===""||vt(_e)?ne:[].concat(Ad(ne),[_e])},[]);else if(w==="number"){var B=r1e(k,i.filter(function(ne){var _e,Pe,Me=s in ne.props?ne.props[s]:(_e=ne.type.defaultProps)===null||_e===void 0?void 0:_e[s],st="hide"in ne.props?ne.props.hide:(Pe=ne.type.defaultProps)===null||Pe===void 0?void 0:Pe.hide;return Me===N&&(T||!st)}),S,o,d);B&&(R=B)}m&&(w==="number"||P!=="auto")&&($=ch(k,S,"category"))}else m?R=Bv(0,j):a&&a[N]&&a[N].hasStack&&w==="number"?R=h==="expand"?[0,1]:JB(a[N].stackGroups,l,c):R=XB(k,i.filter(function(ne){var _e=s in ne.props?ne.props[s]:ne.type.defaultProps[s],Pe="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return _e===N&&(T||!Pe)}),w,d,!0);if(w==="number")R=V_(f,R,N,o,_),W&&(R=s_(W,R,C));else if(w==="category"&&W){var Z=W,Q=R.every(function(ne){return Z.indexOf(ne)>=0});Q&&(R=Z)}}return ie(ie({},y),{},it({},N,ie(ie({},x),{},{axisType:o,domain:R,categoricalDomain:$,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:F,isCategorical:m,layout:d})))},{})},cNe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=G0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=h.length,y=QB(d,o),g=-1;return r.reduce(function(v,x){var w=x.type.defaultProps!==void 0?ie(ie({},x.type.defaultProps),x.props):x.props,S=w[s],C=r9("number");if(!v[S]){g++;var E;return y?E=Bv(0,m):a&&a[S]&&a[S].hasStack?(E=JB(a[S].stackGroups,l,c),E=V_(f,E,S,o)):(E=s_(C,XB(h,r.filter(function(P){var _,T,N=s in P.props?P.props[s]:(_=P.type.defaultProps)===null||_===void 0?void 0:_[s],k="hide"in P.props?P.props.hide:(T=P.type.defaultProps)===null||T===void 0?void 0:T.hide;return N===S&&!k}),"number",d),i.defaultProps.allowDataOverflow),E=V_(f,E,S,o)),ie(ie({},v),{},it({},S,ie(ie({axisType:o},i.defaultProps),{},{hide:!0,orientation:Xi(iNe,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:C,isCategorical:y,layout:d})))}return v},{})},uNe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Qi(d,o),m={};return h&&h.length?m=lNe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(m=cNe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),m},dNe=function(e){var n=Xc(e),r=Hl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:sA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kv(n,r)}},bR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ei(n,yd),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},fNe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Hs(n&&n.type);return r&&r.indexOf("Bar")>=0})},wR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hNe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,d=r.height,f=r.children,h=r.margin||{},m=Ei(f,yd),y=Ei(f,Pu),g=Object.keys(l).reduce(function(E,P){var _=l[P],T=_.orientation;return!_.mirror&&!_.hide?ie(ie({},E),{},it({},T,E[T]+_.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,P){var _=s[P],T=_.orientation;return!_.mirror&&!_.hide?ie(ie({},E),{},it({},T,Xi(E,"".concat(T))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),x=ie(ie({},v),g),w=x.bottom;m&&(x.bottom+=m.props.height||yd.defaultProps.height),y&&n&&(x=t1e(x,i,r,n));var S=c-x.left-x.right,C=d-x.top-x.bottom;return ie(ie({brushBottom:w},x),{},{width:Math.max(S,0),height:Math.max(C,0)})},pNe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},mNe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var S=w.graphicalItems,C=w.stackGroups,E=w.offset,P=w.updateId,_=w.dataStartIndex,T=w.dataEndIndex,N=x.barSize,k=x.layout,j=x.barGap,R=x.barCategoryGap,O=x.maxBarSize,$=wR(k),F=$.numericAxisName,U=$.cateAxisName,W=fNe(S),V=[];return S.forEach(function(B,Z){var Q=G0(x.data,{graphicalItems:[B],dataStartIndex:_,dataEndIndex:T}),ne=B.type.defaultProps!==void 0?ie(ie({},B.type.defaultProps),B.props):B.props,_e=ne.dataKey,Pe=ne.maxBarSize,Me=ne["".concat(F,"Id")],st=ne["".concat(U,"Id")],be={},Ne=l.reduce(function(kt,yt){var Ot=w["".concat(yt.axisType,"Map")],yn=ne["".concat(yt.axisType,"Id")];Ot&&Ot[yn]||yt.axisType==="zAxis"||bc();var vn=Ot[yn];return ie(ie({},kt),{},it(it({},yt.axisType,vn),"".concat(yt.axisType,"Ticks"),Hl(vn)))},be),oe=Ne[U],me=Ne["".concat(U,"Ticks")],ae=C&&C[Me]&&C[Me].hasStack&&m1e(B,C[Me].stackGroups),z=Hs(B.type).indexOf("Bar")>=0,we=kv(oe,me),Ee=[],Qe=W&&Zwe({barSize:N,stackGroups:C,totalSize:pNe(Ne,U)});if(z){var Je,nt,Ve=vt(Pe)?O:Pe,le=(Je=(nt=kv(oe,me,!0))!==null&&nt!==void 0?nt:Ve)!==null&&Je!==void 0?Je:0;Ee=e1e({barGap:j,barCategoryGap:R,bandSize:le!==we?le:we,sizeList:Qe[st],maxBarSize:Ve}),le!==we&&(Ee=Ee.map(function(kt){return ie(ie({},kt),{},{position:ie(ie({},kt.position),{},{offset:kt.position.offset-le/2})})}))}var Ze=B&&B.type&&B.type.getComposedData;Ze&&V.push({props:ie(ie({},Ze(ie(ie({},Ne),{},{displayedData:Q,props:x,dataKey:_e,item:B,bandSize:we,barPosition:Ee,offset:E,stackedData:ae,layout:k,dataStartIndex:_,dataEndIndex:T}))),{},it(it(it({key:B.key||"item-".concat(Z)},F,Ne[F]),U,Ne[U]),"animationId",P)),childIndex:Xae(B,x.children),item:B})}),V},m=function(x,w){var S=x.props,C=x.dataStartIndex,E=x.dataEndIndex,P=x.updateId;if(!qI({props:S}))return null;var _=S.children,T=S.layout,N=S.stackOffset,k=S.data,j=S.reverseStackOrder,R=wR(T),O=R.numericAxisName,$=R.cateAxisName,F=Qi(_,r),U=f1e(k,F,"".concat(O,"Id"),"".concat($,"Id"),N,j),W=l.reduce(function(ne,_e){var Pe="".concat(_e.axisType,"Map");return ie(ie({},ne),{},it({},Pe,uNe(S,ie(ie({},_e),{},{graphicalItems:F,stackGroups:_e.axisType===O&&U,dataStartIndex:C,dataEndIndex:E}))))},{}),V=hNe(ie(ie({},W),{},{props:S,graphicalItems:F}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(ne){W[ne]=d(S,W[ne],V,ne.replace("Map",""),n)});var B=W["".concat($,"Map")],Z=dNe(B),Q=h(S,ie(ie({},W),{},{dataStartIndex:C,dataEndIndex:E,updateId:P,graphicalItems:F,stackGroups:U,offset:V}));return ie(ie({formattedGraphicalItems:Q,graphicalItems:F,offset:V,stackGroups:U},Z),W)},y=function(v){function x(w){var S,C,E;return GPe(this,x),E=XPe(this,x,[w]),it(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),it(E,"accessibilityManager",new OPe),it(E,"handleLegendBBoxUpdate",function(P){if(P){var _=E.state,T=_.dataStartIndex,N=_.dataEndIndex,k=_.updateId;E.setState(ie({legendBBox:P},m({props:E.props,dataStartIndex:T,dataEndIndex:N,updateId:k},ie(ie({},E.state),{},{legendBBox:P}))))}}),it(E,"handleReceiveSyncEvent",function(P,_,T){if(E.props.syncId===P){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),it(E,"handleBrushChange",function(P){var _=P.startIndex,T=P.endIndex;if(_!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return ie({dataStartIndex:_,dataEndIndex:T},m({props:E.props,dataStartIndex:_,dataEndIndex:T,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:T})}}),it(E,"handleMouseEnter",function(P){var _=E.getMouseInfo(P);if(_){var T=ie(ie({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseEnter;St(N)&&N(T,P)}}),it(E,"triggeredAfterMouseMove",function(P){var _=E.getMouseInfo(P),T=_?ie(ie({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseMove;St(N)&&N(T,P)}),it(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),it(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),it(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),it(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var T=E.props.onMouseLeave;St(T)&&T(_,P)}),it(E,"handleOuterEvent",function(P){var _=Yae(P),T=Xi(E.props,"".concat(_));if(_&&St(T)){var N,k;/.*touch.*/i.test(_)?k=E.getMouseInfo(P.changedTouches[0]):k=E.getMouseInfo(P),T((N=k)!==null&&N!==void 0?N:{},P)}}),it(E,"handleClick",function(P){var _=E.getMouseInfo(P);if(_){var T=ie(ie({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onClick;St(N)&&N(T,P)}}),it(E,"handleMouseDown",function(P){var _=E.props.onMouseDown;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),it(E,"handleMouseUp",function(P){var _=E.props.onMouseUp;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),it(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),it(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),it(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),it(E,"handleDoubleClick",function(P){var _=E.props.onDoubleClick;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),it(E,"handleContextMenu",function(P){var _=E.props.onContextMenu;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),it(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&kw.emit(Ow,E.props.syncId,P,E.eventEmitterSymbol)}),it(E,"applySyncEvent",function(P){var _=E.props,T=_.layout,N=_.syncMethod,k=E.state.updateId,j=P.dataStartIndex,R=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(ie({dataStartIndex:j,dataEndIndex:R},m({props:E.props,dataStartIndex:j,dataEndIndex:R,updateId:k},E.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,$=P.chartY,F=P.activeTooltipIndex,U=E.state,W=U.offset,V=U.tooltipTicks;if(!W)return;if(typeof N=="function")F=N(V,P);else if(N==="value"){F=-1;for(var B=0;B<V.length;B++)if(V[B].value===P.activeLabel){F=B;break}}var Z=ie(ie({},W),{},{x:W.left,y:W.top}),Q=Math.min(O,Z.x+Z.width),ne=Math.min($,Z.y+Z.height),_e=V[F]&&V[F].value,Pe=z_(E.state,E.props.data,F),Me=V[F]?{x:T==="horizontal"?V[F].coordinate:Q,y:T==="horizontal"?ne:V[F].coordinate}:n9;E.setState(ie(ie({},P),{},{activeLabel:_e,activeCoordinate:Me,activePayload:Pe,activeTooltipIndex:F}))}else E.setState(P)}),it(E,"renderCursor",function(P){var _,T=E.state,N=T.isTooltipActive,k=T.activeCoordinate,j=T.activePayload,R=T.offset,O=T.activeTooltipIndex,$=T.tooltipAxisBandSize,F=E.getTooltipEventType(),U=(_=P.props.active)!==null&&_!==void 0?_:N,W=E.props.layout,V=P.key||"_recharts-cursor";return H.createElement(VPe,{key:V,activeCoordinate:k,activePayload:j,activeTooltipIndex:O,chartName:n,element:P,isActive:U,layout:W,offset:R,tooltipAxisBandSize:$,tooltipEventType:F})}),it(E,"renderPolarAxis",function(P,_,T){var N=Xi(P,"type.axisType"),k=Xi(E.state,"".concat(N,"Map")),j=P.type.defaultProps,R=j!==void 0?ie(ie({},j),P.props):P.props,O=k&&k[R["".concat(N,"Id")]];return b.cloneElement(P,ie(ie({},O),{},{className:Ct(N,O.className),key:P.key||"".concat(_,"-").concat(T),ticks:Hl(O,!0)}))}),it(E,"renderPolarGrid",function(P){var _=P.props,T=_.radialLines,N=_.polarAngles,k=_.polarRadius,j=E.state,R=j.radiusAxisMap,O=j.angleAxisMap,$=Xc(R),F=Xc(O),U=F.cx,W=F.cy,V=F.innerRadius,B=F.outerRadius;return b.cloneElement(P,{polarAngles:Array.isArray(N)?N:Hl(F,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(k)?k:Hl($,!0).map(function(Z){return Z.coordinate}),cx:U,cy:W,innerRadius:V,outerRadius:B,key:P.key||"polar-grid",radialLines:T})}),it(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,_=E.props,T=_.children,N=_.width,k=_.height,j=E.props.margin||{},R=N-(j.left||0)-(j.right||0),O=KB({children:T,formattedGraphicalItems:P,legendWidth:R,legendContent:c});if(!O)return null;var $=O.item,F=yR(O,BPe);return b.cloneElement($,ie(ie({},F),{},{chartWidth:N,chartHeight:k,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),it(E,"renderTooltip",function(){var P,_=E.props,T=_.children,N=_.accessibilityLayer,k=Ei(T,Yo);if(!k)return null;var j=E.state,R=j.isTooltipActive,O=j.activeCoordinate,$=j.activePayload,F=j.activeLabel,U=j.offset,W=(P=k.props.active)!==null&&P!==void 0?P:R;return b.cloneElement(k,{viewBox:ie(ie({},U),{},{x:U.left,y:U.top}),active:W,label:F,payload:W?$:[],coordinate:O,accessibilityLayer:N})}),it(E,"renderBrush",function(P){var _=E.props,T=_.margin,N=_.data,k=E.state,j=k.offset,R=k.dataStartIndex,O=k.dataEndIndex,$=k.updateId;return b.cloneElement(P,{key:P.key||"_recharts-brush",onChange:mg(E.handleBrushChange,P.props.onChange),data:N,x:je(P.props.x)?P.props.x:j.left,y:je(P.props.y)?P.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:je(P.props.width)?P.props.width:j.width,startIndex:R,endIndex:O,updateId:"brush-".concat($)})}),it(E,"renderReferenceElement",function(P,_,T){if(!P)return null;var N=E,k=N.clipPathId,j=E.state,R=j.xAxisMap,O=j.yAxisMap,$=j.offset,F=P.type.defaultProps||{},U=P.props,W=U.xAxisId,V=W===void 0?F.xAxisId:W,B=U.yAxisId,Z=B===void 0?F.yAxisId:B;return b.cloneElement(P,{key:P.key||"".concat(_,"-").concat(T),xAxis:R[V],yAxis:O[Z],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:k})}),it(E,"renderActivePoints",function(P){var _=P.item,T=P.activePoint,N=P.basePoint,k=P.childIndex,j=P.isRange,R=[],O=_.props.key,$=_.item.type.defaultProps!==void 0?ie(ie({},_.item.type.defaultProps),_.item.props):_.item.props,F=$.activeDot,U=$.dataKey,W=ie(ie({index:k,dataKey:U,cx:T.x,cy:T.y,r:4,fill:kA(_.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Pt(F,!1)),rv(F));return R.push(x.renderActiveDot(F,W,"".concat(O,"-activePoint-").concat(k))),N?R.push(x.renderActiveDot(F,ie(ie({},W),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(k))):j&&R.push(null),R}),it(E,"renderGraphicChild",function(P,_,T){var N=E.filterFormatItem(P,_,T);if(!N)return null;var k=E.getTooltipEventType(),j=E.state,R=j.isTooltipActive,O=j.tooltipAxis,$=j.activeTooltipIndex,F=j.activeLabel,U=E.props.children,W=Ei(U,Yo),V=N.props,B=V.points,Z=V.isRange,Q=V.baseLine,ne=N.item.type.defaultProps!==void 0?ie(ie({},N.item.type.defaultProps),N.item.props):N.item.props,_e=ne.activeDot,Pe=ne.hide,Me=ne.activeBar,st=ne.activeShape,be=!!(!Pe&&R&&W&&(_e||Me||st)),Ne={};k!=="axis"&&W&&W.props.trigger==="click"?Ne={onClick:mg(E.handleItemMouseEnter,P.props.onClick)}:k!=="axis"&&(Ne={onMouseLeave:mg(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:mg(E.handleItemMouseEnter,P.props.onMouseEnter)});var oe=b.cloneElement(P,ie(ie({},N.props),Ne));function me(yt){return typeof O.dataKey=="function"?O.dataKey(yt.payload):null}if(be)if($>=0){var ae,z;if(O.dataKey&&!O.allowDuplicatedCategory){var we=typeof O.dataKey=="function"?me:"payload.".concat(O.dataKey.toString());ae=nv(B,we,F),z=Z&&Q&&nv(Q,we,F)}else ae=B==null?void 0:B[$],z=Z&&Q&&Q[$];if(st||Me){var Ee=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[b.cloneElement(P,ie(ie(ie({},N.props),Ne),{},{activeIndex:Ee})),null,null]}if(!vt(ae))return[oe].concat(Ad(E.renderActivePoints({item:N,activePoint:ae,basePoint:z,childIndex:$,isRange:Z})))}else{var Qe,Je=(Qe=E.getItemByXY(E.state.activeCoordinate))!==null&&Qe!==void 0?Qe:{graphicalItem:oe},nt=Je.graphicalItem,Ve=nt.item,le=Ve===void 0?P:Ve,Ze=nt.childIndex,kt=ie(ie(ie({},N.props),Ne),{},{activeIndex:Ze});return[b.cloneElement(le,kt),null,null]}return Z?[oe,null,null]:[oe,null]}),it(E,"renderCustomized",function(P,_,T){return b.cloneElement(P,ie(ie({key:"recharts-customized-".concat(T)},E.props),E.state))}),it(E,"renderMap",{CartesianGrid:{handler:bg,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:bg},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:bg},YAxis:{handler:bg},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:sm("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=G6(E.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return ZPe(x,v),YPe(x,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,E=S.data,P=S.height,_=S.layout,T=Ei(C,Yo);if(T){var N=T.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,j=z_(this.state,E,N,k),R=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+P)/2,$=_==="horizontal",F=$?{x:R,y:O}:{y:R,x:O},U=this.state.formattedGraphicalItems.find(function(V){var B=V.item;return B.type.name==="Scatter"});U&&(F=ie(ie({},F),U.props.points[N].tooltipPosition),j=U.props.points[N].tooltipPayload);var W={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:k,activePayload:j,activeCoordinate:F};this.setState(W),this.renderCursor(T),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(S){wS([Ei(S.children,Yo)],[Ei(this.props.children,Yo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ei(this.props.children,Yo);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),P=Eve(E),_={chartX:Math.round(S.pageX-P.left),chartY:Math.round(S.pageY-P.top)},T=E.width/C.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,T);if(!N)return null;var k=this.state,j=k.xAxisMap,R=k.yAxisMap,O=this.getTooltipEventType(),$=xR(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&j&&R){var F=Xc(j).scale,U=Xc(R).scale,W=F&&F.invert?F.invert(_.chartX):null,V=U&&U.invert?U.invert(_.chartY):null;return ie(ie({},_),{},{xValue:W,yValue:V},$)}return $?ie(ie({},_),$):null}},{key:"inRange",value:function(S,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,_=S/E,T=C/E;if(P==="horizontal"||P==="vertical"){var N=this.state.offset,k=_>=N.left&&_<=N.left+N.width&&T>=N.top&&T<=N.top+N.height;return k?{x:_,y:T}:null}var j=this.state,R=j.angleAxisMap,O=j.radiusAxisMap;if(R&&O){var $=Xc(R);return nO({x:_,y:T},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),E=Ei(S,Yo),P={};E&&C==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=rv(this.props,this.handleOuterEvent);return ie(ie({},_),P)}},{key:"addListener",value:function(){kw.on(Ow,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kw.removeListener(Ow,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,E){for(var P=this.state.formattedGraphicalItems,_=0,T=P.length;_<T;_++){var N=P[_];if(N.item===S||N.props.key===S.key||C===Hs(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,E=C.left,P=C.top,_=C.height,T=C.width;return H.createElement("defs",null,H.createElement("clipPath",{id:S},H.createElement("rect",{x:E,y:P,height:_,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,E){var P=gR(E,2),_=P[0],T=P[1];return ie(ie({},C),{},it({},_,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,E){var P=gR(E,2),_=P[0],T=P[1];return ie(ie({},C),{},it({},_,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,E=C.formattedGraphicalItems,P=C.activeItem;if(E&&E.length)for(var _=0,T=E.length;_<T;_++){var N=E[_],k=N.props,j=N.item,R=j.type.defaultProps!==void 0?ie(ie({},j.type.defaultProps),j.props):j.props,O=Hs(j.type);if(O==="Bar"){var $=(k.data||[]).find(function(V){return sEe(S,V)});if($)return{graphicalItem:N,payload:$}}else if(O==="RadialBar"){var F=(k.data||[]).find(function(V){return nO(S,V)});if(F)return{graphicalItem:N,payload:F}}else if($0(N,P)||L0(N,P)||Ep(N,P)){var U=cTe({graphicalItem:N,activeTooltipItem:P,itemData:R.data}),W=R.activeIndex===void 0?U:R.activeIndex;return{graphicalItem:ie(ie({},N),{},{childIndex:W}),payload:Ep(N,P)?R.data[U]:N.props.data[U]}}}return null}},{key:"render",value:function(){var S=this;if(!qI(this))return null;var C=this.props,E=C.children,P=C.className,_=C.width,T=C.height,N=C.style,k=C.compact,j=C.title,R=C.desc,O=yR(C,UPe),$=Pt(O,!1);if(k)return H.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(_S,hu({},$,{width:_,height:T,title:j,desc:R}),this.renderClipPath(),KI(E,this.renderMap)));if(this.props.accessibilityLayer){var F,U;$.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},$.onFocus=function(){S.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return H.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",hu({className:Ct("recharts-wrapper",P),style:ie({position:"relative",cursor:"default",width:_,height:T},N)},W,{ref:function(B){S.container=B}}),H.createElement(_S,hu({},$,{width:_,height:T,title:j,desc:R,style:oNe}),this.renderClipPath(),KI(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);it(y,"displayName",n),it(y,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),it(y,"getDerivedStateFromProps",function(v,x){var w=v.dataKey,S=v.data,C=v.children,E=v.width,P=v.height,_=v.layout,T=v.stackOffset,N=v.margin,k=x.dataStartIndex,j=x.dataEndIndex;if(x.updateId===void 0){var R=bR(v);return ie(ie(ie({},R),{},{updateId:0},m(ie(ie({props:v},R),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:T,prevMargin:N,prevChildren:C})}if(w!==x.prevDataKey||S!==x.prevData||E!==x.prevWidth||P!==x.prevHeight||_!==x.prevLayout||T!==x.prevStackOffset||!Au(N,x.prevMargin)){var O=bR(v),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=ie(ie({},xR(x,S,_)),{},{updateId:x.updateId+1}),U=ie(ie(ie({},O),$),F);return ie(ie(ie({},U),m(ie({props:v},U),x)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:T,prevMargin:N,prevChildren:C})}if(!wS(C,x.prevChildren)){var W,V,B,Z,Q=Ei(C,yd),ne=Q&&(W=(V=Q.props)===null||V===void 0?void 0:V.startIndex)!==null&&W!==void 0?W:k,_e=Q&&(B=(Z=Q.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&B!==void 0?B:j,Pe=ne!==k||_e!==j,Me=!vt(S),st=Me&&!Pe?x.updateId:x.updateId+1;return ie(ie({updateId:st},m(ie(ie({props:v},x),{},{updateId:st,dataStartIndex:ne,dataEndIndex:_e}),x)),{},{prevChildren:C,dataStartIndex:ne,dataEndIndex:_e})}return null}),it(y,"renderActiveDot",function(v,x,w){var S;return b.isValidElement(v)?S=b.cloneElement(v,x):St(v)?S=v(x):S=H.createElement(RA,x),H.createElement($n,{className:"recharts-active-dot",key:w},S)});var g=b.forwardRef(function(x,w){return H.createElement(y,hu({},x,{ref:w}))});return g.displayName=y.displayName,g},gNe=mNe({chartName:"LineChart",GraphicalChild:hm,axisComponents:[{axisType:"xAxis",AxisComp:H0},{axisType:"yAxis",AxisComp:q0}],formatAxisMap:DCe});function yNe(t){return Object.prototype.toString.call(t)==="[object Object]"}function SR(t){return yNe(t)||Array.isArray(t)}function vNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function FA(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==o?!1:n.every(s=>{const a=t[s],l=e[s];return typeof a=="function"?`${a}`==`${l}`:!SR(a)||!SR(l)?a===l:FA(a,l)})}function _R(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function xNe(t,e){if(t.length!==e.length)return!1;const n=_R(t),r=_R(e);return n.every((i,o)=>{const s=r[o];return FA(i,s)})}function VA(t){return typeof t=="number"}function W_(t){return typeof t=="string"}function K0(t){return typeof t=="boolean"}function ER(t){return Object.prototype.toString.call(t)==="[object Object]"}function En(t){return Math.abs(t)}function BA(t){return Math.sign(t)}function fh(t,e){return En(t-e)}function bNe(t,e){if(t===0||e===0||En(t)<=En(e))return 0;const n=fh(En(t),En(e));return En(n/t)}function wNe(t){return Math.round(t*100)/100}function Ip(t){return kp(t).map(Number)}function Ro(t){return t[pm(t)]}function pm(t){return Math.max(0,t.length-1)}function UA(t,e){return e===pm(t)}function TR(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function kp(t){return Object.keys(t)}function i9(t,e){return[t,e].reduce((n,r)=>(kp(r).forEach(i=>{const o=n[i],s=r[i],a=ER(o)&&ER(s);n[i]=a?i9(o,s):s}),n),{})}function H_(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function SNe(t,e){const n={start:r,center:i,end:o};function r(){return 0}function i(l){return o(l)/2}function o(l){return e-l}function s(l,c){return W_(t)?n[t](l):t(e,l,c)}return{measure:s}}function Op(){let t=[];function e(i,o,s,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(o,s,a),l=()=>i.removeEventListener(o,s,a);else{const c=i;c.addListener(s),l=()=>c.removeListener(s)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function _Ne(t,e,n,r){const i=Op(),o=1e3/60;let s=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&y()})}function d(){m(),i.clear()}function f(v){if(!l)return;s||(s=v,n(),n());const x=v-s;for(s=v,a+=x;a>=o;)n(),a-=o;const w=a/o;r(w),l&&(l=e.requestAnimationFrame(f))}function h(){l||(l=e.requestAnimationFrame(f))}function m(){e.cancelAnimationFrame(l),s=null,a=0,l=0}function y(){s=null,a=0}return{init:c,destroy:d,start:h,stop:m,update:n,render:r}}function ENe(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",o=r?"x":"y",s=!r&&n?-1:1,a=d(),l=f();function c(y){const{height:g,width:v}=y;return r?g:v}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function h(y){return y*s}return{scroll:i,cross:o,startEdge:a,endEdge:l,measureSize:c,direction:h}}function wc(t=0,e=0){const n=En(t-e);function r(c){return c<t}function i(c){return c>e}function o(c){return r(c)||i(c)}function s(c){return o(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:s,reachedAny:o,reachedMax:i,reachedMin:r,removeOffset:a}}function o9(t,e,n){const{constrain:r}=wc(0,t),i=t+1;let o=s(e);function s(h){return n?En((i+h)%i):r(h)}function a(){return o}function l(h){return o=s(h),f}function c(h){return d().set(a()+h)}function d(){return o9(t,a(),n)}const f={get:a,set:l,add:c,clone:d};return f}function TNe(t,e,n,r,i,o,s,a,l,c,d,f,h,m,y,g,v,x,w){const{cross:S,direction:C}=t,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},_=Op(),T=Op(),N=wc(50,225).constrain(m.measure(20)),k={mouse:300,touch:400},j={mouse:500,touch:600},R=y?43:25;let O=!1,$=0,F=0,U=!1,W=!1,V=!1,B=!1;function Z(z){if(!w)return;function we(Qe){(K0(w)||w(z,Qe))&&st(Qe)}const Ee=e;_.add(Ee,"dragstart",Qe=>Qe.preventDefault(),P).add(Ee,"touchmove",()=>{},P).add(Ee,"touchend",()=>{}).add(Ee,"touchstart",we).add(Ee,"mousedown",we).add(Ee,"touchcancel",Ne).add(Ee,"contextmenu",Ne).add(Ee,"click",oe,!0)}function Q(){_.clear(),T.clear()}function ne(){const z=B?n:e;T.add(z,"touchmove",be,P).add(z,"touchend",Ne).add(z,"mousemove",be,P).add(z,"mouseup",Ne)}function _e(z){const we=z.nodeName||"";return E.includes(we)}function Pe(){return(y?j:k)[B?"mouse":"touch"]}function Me(z,we){const Ee=f.add(BA(z)*-1),Qe=d.byDistance(z,!y).distance;return y||En(z)<N?Qe:v&&we?Qe*.5:d.byIndex(Ee.get(),0).distance}function st(z){const we=H_(z,r);B=we,V=y&&we&&!z.buttons&&O,O=fh(i.get(),s.get())>=2,!(we&&z.button!==0)&&(_e(z.target)||(U=!0,o.pointerDown(z),c.useFriction(0).useDuration(0),i.set(s),ne(),$=o.readPoint(z),F=o.readPoint(z,S),h.emit("pointerDown")))}function be(z){if(!H_(z,r)&&z.touches.length>=2)return Ne(z);const Ee=o.readPoint(z),Qe=o.readPoint(z,S),Je=fh(Ee,$),nt=fh(Qe,F);if(!W&&!B&&(!z.cancelable||(W=Je>nt,!W)))return Ne(z);const Ve=o.pointerMove(z);Je>g&&(V=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(C(Ve)),z.preventDefault()}function Ne(z){const Ee=d.byDistance(0,!1).index!==f.get(),Qe=o.pointerUp(z)*Pe(),Je=Me(C(Qe),Ee),nt=bNe(Qe,Je),Ve=R-10*nt,le=x+nt/50;W=!1,U=!1,T.clear(),c.useDuration(Ve).useFriction(le),l.distance(Je,!y),B=!1,h.emit("pointerUp")}function oe(z){V&&(z.stopPropagation(),z.preventDefault(),V=!1)}function me(){return U}return{init:Z,destroy:Q,pointerDown:me}}function CNe(t,e){let r,i;function o(f){return f.timeStamp}function s(f,h){const y=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(H_(f,e)?f:f.touches[0])[y]}function a(f){return r=f,i=f,s(f)}function l(f){const h=s(f)-s(i),m=o(f)-o(r)>170;return i=f,m&&(r=f),h}function c(f){if(!r||!i)return 0;const h=s(i)-s(r),m=o(f)-o(r),y=o(f)-o(i)>170,g=h/m;return m&&!y&&En(g)>.1?g:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:s}}function ANe(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:o,offsetHeight:s}=n;return{top:r,right:i+o,bottom:r+s,left:i,width:o,height:s}}return{measure:t}}function PNe(t){function e(r){return t*(r/100)}return{measure:e}}function NNe(t,e,n,r,i,o,s){const a=[t].concat(r);let l,c,d=[],f=!1;function h(v){return i.measureSize(s.measure(v))}function m(v){if(!o)return;c=h(t),d=r.map(h);function x(w){for(const S of w){if(f)return;const C=S.target===t,E=r.indexOf(S.target),P=C?c:d[E],_=h(C?t:r[E]);if(En(_-P)>=.5){v.reInit(),e.emit("resize");break}}}l=new ResizeObserver(w=>{(K0(o)||o(v,w))&&x(w)}),n.requestAnimationFrame(()=>{a.forEach(w=>l.observe(w))})}function y(){f=!0,l&&l.disconnect()}return{init:m,destroy:y}}function jNe(t,e,n,r,i,o){let s=0,a=0,l=i,c=o,d=t.get(),f=0;function h(){const P=r.get()-t.get(),_=!l;let T=0;return _?(s=0,n.set(r),t.set(r),T=P):(n.set(t),s+=P/l,s*=c,d+=s,t.add(s),T=d-f),a=BA(T),f=d,E}function m(){const P=r.get()-e.get();return En(P)<.001}function y(){return l}function g(){return a}function v(){return s}function x(){return S(i)}function w(){return C(o)}function S(P){return l=P,E}function C(P){return c=P,E}const E={direction:g,duration:y,velocity:v,seek:h,settled:m,useBaseFriction:w,useBaseDuration:x,useFriction:C,useDuration:S};return E}function INe(t,e,n,r,i){const o=i.measure(10),s=i.measure(50),a=wc(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(m){if(!c())return;const y=t.reachedMin(e.get())?"min":"max",g=En(t[y]-e.get()),v=n.get()-e.get(),x=a.constrain(g/s);n.subtract(v*x),!m&&En(v)<o&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(m){l=!m}return{shouldConstrain:c,constrain:d,toggleActive:f}}function kNe(t,e,n,r,i){const o=wc(-e+t,0),s=f(),a=d(),l=h();function c(y,g){return fh(y,g)<=1}function d(){const y=s[0],g=Ro(s),v=s.lastIndexOf(y),x=s.indexOf(g)+1;return wc(v,x)}function f(){return n.map((y,g)=>{const{min:v,max:x}=o,w=o.constrain(y),S=!g,C=UA(n,g);return S?x:C||c(v,w)?v:c(x,w)?x:w}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(e<=t+i)return[o.max];if(r==="keepSnaps")return s;const{min:y,max:g}=a;return s.slice(y,g)}return{snapsContained:l,scrollContainLimit:a}}function ONe(t,e,n){const r=e[0],i=n?r-t:Ro(e);return{limit:wc(i,r)}}function RNe(t,e,n,r){const o=e.min+.1,s=e.max+.1,{reachedMin:a,reachedMax:l}=wc(o,s);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!c(h))return;const m=t*(h*-1);r.forEach(y=>y.add(m))}return{loop:d}}function MNe(t){const{max:e,length:n}=t;function r(o){const s=o-e;return n?s/-n:0}return{get:r}}function DNe(t,e,n,r,i){const{startEdge:o,endEdge:s}=t,{groupSlides:a}=i,l=f().map(e.measure),c=h(),d=m();function f(){return a(r).map(g=>Ro(g)[s]-g[0][o]).map(En)}function h(){return r.map(g=>n[o]-g[o]).map(g=>-En(g))}function m(){return a(c).map(g=>g[0]).map((g,v)=>g+l[v])}return{snaps:c,snapsAligned:d}}function $Ne(t,e,n,r,i,o){const{groupSlides:s}=i,{min:a,max:l}=r,c=d();function d(){const h=s(o),m=!t||e==="keepSnaps";return n.length===1?[o]:m?h:h.slice(a,l).map((y,g,v)=>{const x=!g,w=UA(v,g);if(x){const S=Ro(v[0])+1;return TR(S)}if(w){const S=pm(o)-Ro(v)[0]+1;return TR(S,Ro(v)[0])}return y})}return{slideRegistry:c}}function LNe(t,e,n,r,i){const{reachedAny:o,removeOffset:s,constrain:a}=r;function l(y){return y.concat().sort((g,v)=>En(g)-En(v))[0]}function c(y){const g=t?s(y):a(y),v=e.map((w,S)=>({diff:d(w-g,0),index:S})).sort((w,S)=>En(w.diff)-En(S.diff)),{index:x}=v[0];return{index:x,distance:g}}function d(y,g){const v=[y,y+n,y-n];if(!t)return y;if(!g)return l(v);const x=v.filter(w=>BA(w)===g);return x.length?l(x):Ro(v)-n}function f(y,g){const v=e[y]-i.get(),x=d(v,g);return{index:y,distance:x}}function h(y,g){const v=i.get()+y,{index:x,distance:w}=c(v),S=!t&&o(v);if(!g||S)return{index:x,distance:y};const C=e[x]-w,E=y+d(C,0);return{index:x,distance:E}}return{byDistance:h,byIndex:f,shortcut:d}}function FNe(t,e,n,r,i,o,s){function a(f){const h=f.distance,m=f.index!==e.get();o.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(f.index),s.emit("select"))}function l(f,h){const m=i.byDistance(f,h);a(m)}function c(f,h){const m=e.clone().set(f),y=i.byIndex(m.get(),h);a(y)}return{distance:l,index:c}}function VNe(t,e,n,r,i,o,s,a){const l={passive:!0,capture:!0};let c=0;function d(m){if(!a)return;function y(g){if(new Date().getTime()-c>10)return;s.emit("slideFocusStart"),t.scrollLeft=0;const w=n.findIndex(S=>S.includes(g));VA(w)&&(i.useDuration(0),r.index(w,0),s.emit("slideFocus"))}o.add(document,"keydown",f,!1),e.forEach((g,v)=>{o.add(g,"focus",x=>{(K0(a)||a(m,x))&&y(v)},l)})}function f(m){m.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Bf(t){let e=t;function n(){return e}function r(l){e=s(l)}function i(l){e+=s(l)}function o(l){e-=s(l)}function s(l){return VA(l)?l:l.get()}return{get:n,set:r,add:i,subtract:o}}function s9(t,e){const n=t.scroll==="x"?s:a,r=e.style;let i=null,o=!1;function s(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(o)return;const m=wNe(t.direction(h));m!==i&&(r.transform=n(m),i=m)}function c(h){o=!h}function d(){o||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function BNe(t,e,n,r,i,o,s,a,l){const d=Ip(i),f=Ip(i).reverse(),h=x().concat(w());function m(_,T){return _.reduce((N,k)=>N-i[k],T)}function y(_,T){return _.reduce((N,k)=>m(N,T)>0?N.concat([k]):N,[])}function g(_){return o.map((T,N)=>({start:T-r[N]+.5+_,end:T+e-.5+_}))}function v(_,T,N){const k=g(T);return _.map(j=>{const R=N?0:-n,O=N?n:0,$=N?"end":"start",F=k[j][$];return{index:j,loopPoint:F,slideLocation:Bf(-1),translate:s9(t,l[j]),target:()=>a.get()>F?R:O}})}function x(){const _=s[0],T=y(f,_);return v(T,n,!1)}function w(){const _=e-s[0]-1,T=y(d,_);return v(T,-n,!0)}function S(){return h.every(({index:_})=>{const T=d.filter(N=>N!==_);return m(T,e)<=.1})}function C(){h.forEach(_=>{const{target:T,translate:N,slideLocation:k}=_,j=T();j!==k.get()&&(N.to(j),k.set(j))})}function E(){h.forEach(_=>_.translate.clear())}return{canLoop:S,clear:E,loop:C,loopPoints:h}}function UNe(t,e,n){let r,i=!1;function o(l){if(!n)return;function c(d){for(const f of d)if(f.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(K0(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function s(){r&&r.disconnect(),i=!0}return{init:o,destroy:s}}function zNe(t,e,n,r){const i={};let o=null,s=null,a,l=!1;function c(){a=new IntersectionObserver(y=>{l||(y.forEach(g=>{const v=e.indexOf(g.target);i[v]=g}),o=null,s=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(y=>a.observe(y))}function d(){a&&a.disconnect(),l=!0}function f(y){return kp(i).reduce((g,v)=>{const x=parseInt(v),{isIntersecting:w}=i[x];return(y&&w||!y&&!w)&&g.push(x),g},[])}function h(y=!0){if(y&&o)return o;if(!y&&s)return s;const g=f(y);return y&&(o=g),y||(s=g),g}return{init:c,destroy:d,get:h}}function WNe(t,e,n,r,i,o){const{measureSize:s,startEdge:a,endEdge:l}=t,c=n[0]&&i,d=y(),f=g(),h=n.map(s),m=v();function y(){if(!c)return 0;const w=n[0];return En(e[a]-w[a])}function g(){if(!c)return 0;const w=o.getComputedStyle(Ro(r));return parseFloat(w.getPropertyValue(`margin-${l}`))}function v(){return n.map((w,S,C)=>{const E=!S,P=UA(C,S);return E?h[S]+d:P?h[S]+f:C[S+1][a]-w[a]}).map(En)}return{slideSizes:h,slideSizesWithGaps:m,startGap:d,endGap:f}}function HNe(t,e,n,r,i,o,s,a,l){const{startEdge:c,endEdge:d,direction:f}=t,h=VA(n);function m(x,w){return Ip(x).filter(S=>S%w===0).map(S=>x.slice(S,S+w))}function y(x){return x.length?Ip(x).reduce((w,S,C)=>{const E=Ro(w)||0,P=E===0,_=S===pm(x),T=i[c]-o[E][c],N=i[c]-o[S][d],k=!r&&P?f(s):0,j=!r&&_?f(a):0,R=En(N-j-(T+k));return C&&R>e+l&&w.push(S),_&&w.push(x.length),w},[]).map((w,S,C)=>{const E=Math.max(C[S-1]||0);return x.slice(E,w)}):[]}function g(x){return h?m(x,n):y(x)}return{groupSlides:g}}function qNe(t,e,n,r,i,o,s){const{align:a,axis:l,direction:c,startIndex:d,loop:f,duration:h,dragFree:m,dragThreshold:y,inViewThreshold:g,slidesToScroll:v,skipSnaps:x,containScroll:w,watchResize:S,watchSlides:C,watchDrag:E,watchFocus:P}=o,_=2,T=ANe(),N=T.measure(e),k=n.map(T.measure),j=ENe(l,c),R=j.measureSize(N),O=PNe(R),$=SNe(a,R),F=!f&&!!w,U=f||!!w,{slideSizes:W,slideSizesWithGaps:V,startGap:B,endGap:Z}=WNe(j,N,k,n,U,i),Q=HNe(j,R,v,f,N,k,B,Z,_),{snaps:ne,snapsAligned:_e}=DNe(j,$,N,k,Q),Pe=-Ro(ne)+Ro(V),{snapsContained:Me,scrollContainLimit:st}=kNe(R,Pe,_e,w,_),be=F?Me:_e,{limit:Ne}=ONe(Pe,be,f),oe=o9(pm(be),d,f),me=oe.clone(),ae=Ip(n),z=({dragHandler:Kt,scrollBody:pn,scrollBounds:$t,options:{loop:qe}})=>{qe||$t.constrain(Kt.pointerDown()),pn.seek()},we=({scrollBody:Kt,translate:pn,location:$t,offsetLocation:qe,previousLocation:Gr,scrollLooper:pr,slideLooper:er,dragHandler:mr,animation:rn,eventHandler:on,scrollBounds:tr,options:{loop:Ln}},Yt)=>{const bn=Kt.settled(),kn=!tr.shouldConstrain(),Ar=Ln?bn:bn&&kn,Di=Ar&&!mr.pointerDown();Di&&rn.stop();const $i=$t.get()*Yt+Gr.get()*(1-Yt);qe.set($i),Ln&&(pr.loop(Kt.direction()),er.loop()),pn.to(qe.get()),Di&&on.emit("settle"),Ar||on.emit("scroll")},Ee=_Ne(r,i,()=>z(xn),Kt=>we(xn,Kt)),Qe=.68,Je=be[oe.get()],nt=Bf(Je),Ve=Bf(Je),le=Bf(Je),Ze=Bf(Je),kt=jNe(nt,le,Ve,Ze,h,Qe),yt=LNe(f,be,Pe,Ne,Ze),Ot=FNe(Ee,oe,me,kt,yt,Ze,s),yn=MNe(Ne),vn=Op(),Wn=zNe(e,n,s,g),{slideRegistry:Cr}=$Ne(F,w,be,st,Q,ae),nn=VNe(t,n,Cr,Ot,kt,vn,s,P),xn={ownerDocument:r,ownerWindow:i,eventHandler:s,containerRect:N,slideRects:k,animation:Ee,axis:j,dragHandler:TNe(j,t,r,i,Ze,CNe(j,i),nt,Ee,Ot,kt,yt,oe,s,O,m,y,x,Qe,E),eventStore:vn,percentOfView:O,index:oe,indexPrevious:me,limit:Ne,location:nt,offsetLocation:le,previousLocation:Ve,options:o,resizeHandler:NNe(e,s,i,n,j,S,T),scrollBody:kt,scrollBounds:INe(Ne,le,Ze,kt,O),scrollLooper:RNe(Pe,Ne,le,[nt,le,Ve,Ze]),scrollProgress:yn,scrollSnapList:be.map(yn.get),scrollSnaps:be,scrollTarget:yt,scrollTo:Ot,slideLooper:BNe(j,R,Pe,W,V,ne,be,le,n),slideFocus:nn,slidesHandler:UNe(e,s,C),slidesInView:Wn,slideIndexes:ae,slideRegistry:Cr,slidesToScroll:Q,target:Ze,translate:s9(j,e)};return xn}function GNe(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(d=>d(e,c)),l}function o(c,d){return t[c]=r(c).concat([d]),l}function s(c,d){return t[c]=r(c).filter(f=>f!==d),l}function a(){t={}}const l={init:n,emit:i,off:s,on:o,clear:a};return l}const KNe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function YNe(t){function e(o,s){return i9(o,s||{})}function n(o){const s=o.breakpoints||{},a=kp(s).filter(l=>t.matchMedia(l).matches).map(l=>s[l]).reduce((l,c)=>e(l,c),{});return e(o,a)}function r(o){return o.map(s=>kp(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function XNe(t){let e=[];function n(o,s){return e=s.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(o,t)),s.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(o=>o.destroy())}return{init:n,destroy:r}}function tx(t,e,n){const r=t.ownerDocument,i=r.defaultView,o=YNe(i),s=XNe(o),a=Op(),l=GNe(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:f}=o,{on:h,off:m,emit:y}=l,g=j;let v=!1,x,w=c(KNe,tx.globalOptions),S=c(w),C=[],E,P,_;function T(){const{container:ae,slides:z}=S;P=(W_(ae)?t.querySelector(ae):ae)||t.children[0];const Ee=W_(z)?P.querySelectorAll(z):z;_=[].slice.call(Ee||P.children)}function N(ae){const z=qNe(t,P,_,r,i,ae,l);if(ae.loop&&!z.slideLooper.canLoop()){const we=Object.assign({},ae,{loop:!1});return N(we)}return z}function k(ae,z){v||(w=c(w,ae),S=d(w),C=z||C,T(),x=N(S),f([w,...C.map(({options:we})=>we)]).forEach(we=>a.add(we,"change",j)),S.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(me),x.eventHandler.init(me),x.resizeHandler.init(me),x.slidesHandler.init(me),x.options.loop&&x.slideLooper.loop(),P.offsetParent&&_.length&&x.dragHandler.init(me),E=s.init(me,C)))}function j(ae,z){const we=Q();R(),k(c({startIndex:we},ae),z),l.emit("reInit")}function R(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),s.destroy(),a.clear()}function O(){v||(v=!0,a.clear(),R(),l.emit("destroy"),l.clear())}function $(ae,z,we){!S.active||v||(x.scrollBody.useBaseFriction().useDuration(z===!0?0:S.duration),x.scrollTo.index(ae,we||0))}function F(ae){const z=x.index.add(1).get();$(z,ae,-1)}function U(ae){const z=x.index.add(-1).get();$(z,ae,1)}function W(){return x.index.add(1).get()!==Q()}function V(){return x.index.add(-1).get()!==Q()}function B(){return x.scrollSnapList}function Z(){return x.scrollProgress.get(x.offsetLocation.get())}function Q(){return x.index.get()}function ne(){return x.indexPrevious.get()}function _e(){return x.slidesInView.get()}function Pe(){return x.slidesInView.get(!1)}function Me(){return E}function st(){return x}function be(){return t}function Ne(){return P}function oe(){return _}const me={canScrollNext:W,canScrollPrev:V,containerNode:Ne,internalEngine:st,destroy:O,off:m,on:h,emit:y,plugins:Me,previousScrollSnap:ne,reInit:g,rootNode:be,scrollNext:F,scrollPrev:U,scrollProgress:Z,scrollSnapList:B,scrollTo:$,selectedScrollSnap:Q,slideNodes:oe,slidesInView:_e,slidesNotInView:Pe};return k(e,n),setTimeout(()=>l.emit("init"),0),me}tx.globalOptions=void 0;function zA(t={},e=[]){const n=b.useRef(t),r=b.useRef(e),[i,o]=b.useState(),[s,a]=b.useState(),l=b.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return b.useEffect(()=>{FA(n.current,t)||(n.current=t,l())},[t,l]),b.useEffect(()=>{xNe(r.current,e)||(r.current=e,l())},[e,l]),b.useEffect(()=>{if(vNe()&&s){tx.globalOptions=zA.globalOptions;const c=tx(s,n.current,r.current);return o(c),()=>c.destroy()}else o(void 0)},[s,o]),[a,i]}zA.globalOptions=void 0;const a9=b.createContext(null);function Y0(){const t=b.useContext(a9);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const q_=b.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:o,...s},a)=>{const[l,c]=zA({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=b.useState(!1),[h,m]=b.useState(!1),y=b.useCallback(w=>{w&&(f(w.canScrollPrev()),m(w.canScrollNext()))},[]),g=b.useCallback(()=>{c==null||c.scrollPrev()},[c]),v=b.useCallback(()=>{c==null||c.scrollNext()},[c]),x=b.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),g()):w.key==="ArrowRight"&&(w.preventDefault(),v())},[g,v]);return b.useEffect(()=>{!c||!n||n(c)},[c,n]),b.useEffect(()=>{if(c)return y(c),c.on("reInit",y),c.on("select",y),()=>{c==null||c.off("select",y)}},[c,y]),u.jsx(a9.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:d,canScrollNext:h},children:u.jsx("div",{ref:a,onKeyDownCapture:x,className:ct("relative",i),role:"region","aria-roledescription":"carousel",...s,children:o})})});q_.displayName="Carousel";const G_=b.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=Y0();return u.jsx("div",{ref:r,className:"overflow-hidden",children:u.jsx("div",{ref:n,className:ct("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});G_.displayName="CarouselContent";const K_=b.forwardRef(({className:t,...e},n)=>{const{orientation:r}=Y0();return u.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ct("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});K_.displayName="CarouselItem";const Y_=b.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollPrev:s,canScrollPrev:a}=Y0();return u.jsxs(ue,{ref:i,variant:e,size:n,className:ct("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[u.jsx(ko,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Y_.displayName="CarouselPrevious";const X_=b.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollNext:s,canScrollNext:a}=Y0();return u.jsxs(ue,{ref:i,variant:e,size:n,className:ct("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[u.jsx(XW,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Next slide"})]})});X_.displayName="CarouselNext";function QNe({seconds:t,totalSeconds:e,playerName:n,isExtension:r,isRunning:i=!0,onClick:o}){const s=t/e*100,a=()=>t===0?"bg-black":s>60?"bg-gradient-to-b from-green-500 to-green-700":s>40?"bg-gradient-to-b from-yellow-500 to-yellow-600":s>20?"bg-gradient-to-b from-orange-500 to-orange-600":"bg-gradient-to-b from-red-600 to-red-800",l=()=>t===0?"text-red-500":"text-white",c=()=>s<=20&&t>0?"animate-pulse":"",d=f=>{if(f>=60){const h=Math.floor(f/60),m=f%60;return`${h}:${m.toString().padStart(2,"0")}`}return f.toString()};return u.jsxs("button",{className:`flex flex-col items-center justify-center w-full h-full transition-all duration-500 ${a()} cursor-pointer active:opacity-90 select-none focus:outline-none focus:ring-2 focus:ring-white/30`,onClick:o,"data-testid":"display-timer",type:"button",children:[n&&u.jsx("div",{className:"text-[clamp(1.25rem,4vw,2rem)] font-semibold text-white/90 mb-1 tracking-wide","data-testid":"text-player-name",children:n}),u.jsx("div",{className:`font-mono font-bold transition-all duration-300 ${l()} ${c()}`,style:{fontSize:"clamp(6rem, 30vw, 18rem)",lineHeight:1,textShadow:t>0?"0 4px 20px rgba(0,0,0,0.3)":"none"},children:d(t)}),!i&&t>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[u.jsx(Jf,{className:"w-5 h-5 md:w-6 md:h-6"}),u.jsx("span",{className:"text-sm md:text-base font-medium",children:"TAP TO RESUME"})]}),i&&t>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/50",children:[u.jsx(X$,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{className:"text-xs md:text-sm",children:"tap to pause"})]}),r&&u.jsx("div",{className:"text-base md:text-lg text-white/80 mt-1 font-medium","data-testid":"text-extension-indicator",children:"EXTENSION"}),t===0&&u.jsxs("div",{className:"flex flex-col items-center mt-2",children:[u.jsx("div",{className:"text-xl md:text-3xl text-red-400 font-bold animate-pulse","data-testid":"text-time-expired",children:"TIME EXPIRED"}),u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[u.jsx(Jf,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-medium",children:"TAP TO RESTART"})]})]})]})}const CR="shotclock_tutorial_seen",AR="shotclock_sessions",wg="shotclock_paused_session";function JNe(){var As,Uo;const[,t]=vl(),[e,n]=b.useState("setup"),[r,i]=b.useState("solo"),[o,s]=b.useState([{name:"Player 1",extensions:0}]),[a,l]=b.useState(0),[c,d]=b.useState([{name:"Team 1",players:["Player 1A","Player 1B"],extensions:0},{name:"Team 2",players:["Player 2A","Player 2B"],extensions:0}]),[f,h]=b.useState(0),[m,y]=b.useState(0),[g,v]=b.useState(30),[x,w]=b.useState(30),[S,C]=b.useState(30),[E,P]=b.useState(!1),[_,T]=b.useState(!1),[N]=b.useState(3),[k]=b.useState(15),[j,R]=b.useState(!0),[O,$]=b.useState(!1),[F,U]=b.useState(1),W=b.useRef(null),V=b.useRef(null),[B,Z]=b.useState({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),Q=b.useRef(0),ne=b.useRef(0),_e=b.useRef(0),[Pe,Me]=b.useState(!1),[st,be]=b.useState(!1),[Ne,oe]=b.useState([]),[me,ae]=b.useState(1),[z,we]=b.useState(!1);b.useEffect(()=>(Tt.startSession("tempo"),()=>{_e.current>0&&Tt.trackSkillMetric("tempo","session_complete",1),Tt.endSession()}),[]),b.useEffect(()=>{const q=localStorage.getItem(wg);if(q)try{const re=JSON.parse(q);(re.gameMode==="paused"||re.gameMode==="playing")&&(n("paused"),i(re.playerMode),s(re.players),l(re.currentPlayerIndex),v(re.duration),C(re.timeRemaining),T(re.isInExtension),R(re.soloAutoRestart),Z({...re.sessionStats,shotEvents:re.sessionStats.shotEvents||[]}),ne.current=re.accumulatedShotTime||0,re.teams&&d(re.teams),re.currentTeamIndex!==void 0&&h(re.currentTeamIndex),re.currentPartnerIndex!==void 0&&y(re.currentPartnerIndex))}catch{localStorage.removeItem(wg)}},[]),b.useEffect(()=>{localStorage.getItem(CR)||$(!0)},[]);const Ee=b.useCallback((q=800,re=.3,Ae=1)=>{V.current||(V.current=new AudioContext);const ke=V.current;for(let ze=0;ze<Ae;ze++)setTimeout(()=>{const at=ke.createOscillator(),It=ke.createGain();at.connect(It),It.connect(ke.destination),at.frequency.value=q,It.gain.value=.4,It.gain.exponentialRampToValueAtTime(.01,ke.currentTime+re),at.start(ke.currentTime),at.stop(ke.currentTime+re)},ze*150)},[]),Qe=b.useCallback(()=>{Ee(600,.15,1)},[Ee]),Je=b.useCallback(()=>{Ee(400,.5,3)},[Ee]),nt=b.useCallback(()=>{Ee(1e3,.2,2)},[Ee]);b.useEffect(()=>(E&&S>0?W.current=setInterval(()=>{C(q=>{if(q<=6&&q>1&&Qe(),q<=1){if(Je(),T(!1),r==="solo"&&j){let re=ne.current/1e3;Q.current>0&&(re+=(Date.now()-Q.current)/1e3),re<=0&&(re=g),_e.current++,Tt.trackSkillMetric("tempo","shot_time",re),Z(Ae=>{var ze;const ke={shotIndex:Ae.shotCount,duration:Math.max(0,re),playerName:((ze=o[0])==null?void 0:ze.name)||"Player 1",timestamp:Date.now(),eventType:"stroke"};return{...Ae,shotCount:Ae.shotCount+1,shotDurations:[...Ae.shotDurations,Math.max(0,re)],shotEvents:[...Ae.shotEvents||[],ke]}}),ne.current=0,setTimeout(()=>{nt(),C(g),P(!0),Q.current=Date.now()},1500)}else Z(re=>({...re,timeouts:re.timeouts+1})),P(!1);return 0}return q-1})},1e3):W.current&&clearInterval(W.current),()=>{W.current&&clearInterval(W.current)}),[E,S,r,j,g,Qe,Je,nt]);const Ve=o[a],le=c[f];r==="scotch-doubles"?le==null||le.players[m]:Ve==null||Ve.name;const Ze=()=>{S===0&&(C(g),T(!1)),Q.current===0&&(Q.current=Date.now()),P(!0)},kt=()=>{Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,P(!1)},yt=b.useCallback(()=>{const q={gameMode:"paused",playerMode:r,players:o,currentPlayerIndex:a,duration:g,timeRemaining:S,isInExtension:_,soloAutoRestart:j,sessionStats:B,accumulatedShotTime:ne.current,teams:c,currentTeamIndex:f,currentPartnerIndex:m};localStorage.setItem(wg,JSON.stringify(q))},[r,o,a,g,S,_,j,B,c,f,m]),Ot=()=>{localStorage.removeItem(wg)},yn=()=>{Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,P(!1),n("paused")};b.useEffect(()=>{e==="paused"&&yt()},[e,yt]);const vn=()=>{n("playing"),S>0&&(Q.current=Date.now(),P(!0))},Wn=()=>{P(!1),n("paused"),yt(),t("/")};b.useEffect(()=>{const q=()=>{document.hidden&&e==="playing"&&E&&(Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,P(!1),n("paused"))};return document.addEventListener("visibilitychange",q),()=>{document.removeEventListener("visibilitychange",q)}},[e,E]);const Cr=()=>{P(!1),we(!0)},nn=q=>{var Ae;let re=ne.current/1e3;if(Q.current>0&&(re+=(Date.now()-Q.current)/1e3),re>0){_e.current++,Tt.trackSkillMetric("tempo","shot_time",re),Tt.trackSkillMetric("tempo",q==="stroke"?"stroke_count":"turn_end_count",1);const ke={shotIndex:B.shotCount,duration:Math.max(0,re),playerName:r==="scotch-doubles"?(le==null?void 0:le.players[m])||"Unknown":r==="two-player"?(Ve==null?void 0:Ve.name)||"Unknown":((Ae=o[0])==null?void 0:Ae.name)||"Player 1",teamName:r==="scotch-doubles"?le==null?void 0:le.name:void 0,timestamp:Date.now(),eventType:q};Z(ze=>({...ze,shotCount:ze.shotCount+1,shotDurations:[...ze.shotDurations,Math.max(0,re)],shotEvents:[...ze.shotEvents||[],ke]}))}C(g),T(!1),ne.current=0},xn=()=>{we(!1),nn("stroke"),Q.current=Date.now(),setTimeout(()=>P(!0),100)},Kt=()=>{we(!1),nn("turn_end"),r==="two-player"?l(q=>(q+1)%o.length):r==="scotch-doubles"&&(h(q=>(q+1)%c.length),y(0)),Q.current=Date.now(),setTimeout(()=>P(!0),100)},pn=()=>{we(!1);const q=mr(),re=r==="scotch-doubles"?(le==null?void 0:le.name)||"Team 1":(Ve==null?void 0:Ve.name)||"Player 1",Ae=r==="scotch-doubles"?"team":"player";Z(ke=>{var K;const ze={...ke};let at=[...ke.shotEvents||[]];q&&(at.push(q),ze.shotDurations=[...ke.shotDurations,q.duration],ze.shotCount=ke.shotCount+1);const On={rackNumber:(((K=ke.rackResults)==null?void 0:K.length)||0)+1,winner:re,winnerType:Ae,shotEvents:at,timestamp:Date.now()};return ze.rackResults=[...ke.rackResults||[],On],ze.shotEvents=[],ze}),ae(ke=>ke+1),ne.current=0,Q.current=Date.now(),C(g),T(!1),r==="scotch-doubles"?d(ke=>ke.map(ze=>({...ze,extensions:0}))):s(ke=>ke.map(ze=>({...ze,extensions:0}))),setTimeout(()=>P(!0),100)},$t=()=>{var ke,ze;we(!1);const q=mr();let re,Ae;if(r==="scotch-doubles"){const at=(f+1)%c.length;re=((ke=c[at])==null?void 0:ke.name)||"Team 2",Ae="team"}else if(r==="two-player"){const at=(a+1)%o.length;re=((ze=o[at])==null?void 0:ze.name)||"Player 2",Ae="player"}else re="Opponent",Ae="player";Z(at=>{var fe;const It={...at};let On=[...at.shotEvents||[]];q&&(On.push(q),It.shotDurations=[...at.shotDurations,q.duration],It.shotCount=at.shotCount+1);const ce={rackNumber:(((fe=at.rackResults)==null?void 0:fe.length)||0)+1,winner:re,winnerType:Ae,shotEvents:On,timestamp:Date.now()};return It.rackResults=[...at.rackResults||[],ce],It.shotEvents=[],It}),ae(at=>at+1),ne.current=0,Q.current=Date.now(),C(g),T(!1),r==="scotch-doubles"?d(at=>at.map(It=>({...It,extensions:0}))):s(at=>at.map(It=>({...It,extensions:0}))),setTimeout(()=>P(!0),100)},qe=()=>{let q=ne.current/1e3;if(Q.current>0&&(q+=(Date.now()-Q.current)/1e3),q>0){_e.current++,Tt.trackSkillMetric("tempo","shot_time",q);const re={shotIndex:B.shotCount,duration:Math.max(0,q),playerName:(le==null?void 0:le.players[m])||"Unknown",teamName:le==null?void 0:le.name,timestamp:Date.now(),eventType:"stroke"};Z(Ae=>({...Ae,shotCount:Ae.shotCount+1,shotDurations:[...Ae.shotDurations,Math.max(0,q)],shotEvents:[...Ae.shotEvents||[],re]}))}P(!1),C(g),T(!1),ne.current=0,y(re=>(re+1)%2),Q.current=Date.now(),setTimeout(()=>P(!0),100)},Gr=()=>{r==="scotch-doubles"?le&&le.extensions<N&&(C(q=>q+k),T(!0),d(q=>q.map((re,Ae)=>Ae===f?{...re,extensions:re.extensions+1}:re)),Z(q=>({...q,totalExtensions:q.totalExtensions+1}))):Ve&&Ve.extensions<N&&(C(q=>q+k),T(!0),s(q=>q.map((re,Ae)=>Ae===a?{...re,extensions:re.extensions+1}:re)),Z(q=>({...q,totalExtensions:q.totalExtensions+1})))},pr=q=>{const re=localStorage.getItem(AR),Ae=re?JSON.parse(re):[],ke={id:Date.now().toString(),date:new Date().toISOString(),stats:q};Ae.unshift(ke),Ae.length>20&&Ae.pop(),localStorage.setItem(AR,JSON.stringify(Ae))},er=()=>{P(!1),Me(!0)},mr=()=>{var re;let q=ne.current/1e3;return Q.current>0&&(q+=(Date.now()-Q.current)/1e3),q>0&&S<g&&S>0?{shotIndex:B.shotCount,duration:Math.max(0,q),playerName:r==="scotch-doubles"?(le==null?void 0:le.players[m])||"Unknown":r==="two-player"?(Ve==null?void 0:Ve.name)||"Unknown":((re=o[0])==null?void 0:re.name)||"Player 1",teamName:r==="scotch-doubles"?le==null?void 0:le.name:void 0,timestamp:Date.now(),eventType:"stroke"}:null},rn=(q,re)=>{const Ae=mr(),ke={rackNumber:me,winner:q,winnerType:re,shotEvents:Ne,timestamp:Date.now()};Z(ze=>{const at={...ze};return Ae&&(at.shotDurations=[...ze.shotDurations,Ae.duration],at.shotCount=ze.shotCount+1,at.shotEvents=[...ze.shotEvents||[],Ae]),at.rackResults=[...ze.rackResults||[],ke],at}),ae(ze=>ze+1),oe([]),be(!1),ne.current=0,Q.current=Date.now(),C(g),T(!1),P(!0)},on=()=>{Me(!1),Ot();const q={...B,endTime:Date.now(),duration:g,playerMode:r,playerNames:o.map(Ae=>Ae.name)},re=mr();re&&(q.shotDurations=[...q.shotDurations,re.duration],q.shotCount+=1,q.shotEvents=[...q.shotEvents||[],re]),ne.current=0,Q.current=0,Z(q),pr(q),ae(1),oe([]),n("summary")},tr=()=>{Ot(),C(g),T(!1),s(q=>q.map(re=>({...re,extensions:0}))),d(q=>q.map(re=>({...re,extensions:0}))),l(0),h(0),y(0),Z({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),Q.current=0,ne.current=0,ae(1),oe([]),n("setup")},Ln=()=>{Me(!1),P(!0),Q.current=Date.now()},Yt=()=>{var q;return r==="scotch-doubles"?c.map(re=>({name:re.name,type:"team"})):r==="two-player"?o.map(re=>({name:re.name,type:"player"})):[{name:((q=o[0])==null?void 0:q.name)||"Player 1",type:"player"}]},bn=q=>{v(q),C(q),w(q)},kn=()=>{v(x),C(x)},Ar=()=>{var re,Ae,ke,ze,at,It,On,K,ce,fe,de,Ie;Ot(),_e.current=0,r==="two-player"?s([{name:((re=o[0])==null?void 0:re.name)||"Player 1",extensions:0},{name:((Ae=o[1])==null?void 0:Ae.name)||"Player 2",extensions:0}]):r==="scotch-doubles"?(d(rt=>rt.map(bt=>({...bt,extensions:0}))),h(0),y(0)):s([{name:((ke=o[0])==null?void 0:ke.name)||"Player 1",extensions:0}]),l(0),C(g),T(!1),ne.current=0;let q;r==="scotch-doubles"?q=[`${(ze=c[0])==null?void 0:ze.name}: ${(at=c[0])==null?void 0:at.players[0]}, ${(It=c[0])==null?void 0:It.players[1]}`,`${(On=c[1])==null?void 0:On.name}: ${(K=c[1])==null?void 0:K.players[0]}, ${(ce=c[1])==null?void 0:ce.players[1]}`]:r==="two-player"?q=[((fe=o[0])==null?void 0:fe.name)||"Player 1",((de=o[1])==null?void 0:de.name)||"Player 2"]:q=[((Ie=o[0])==null?void 0:Ie.name)||"Player 1"],Z({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:Date.now(),duration:g,playerMode:r,playerNames:q}),Q.current=Date.now(),n("playing")},Di=(q,re)=>{s(Ae=>{const ke=[...Ae];return ke[q]||(ke[q]={name:"",extensions:0}),ke[q]={...ke[q],name:re},ke})},$i=(q,re)=>{d(Ae=>{const ke=[...Ae];return ke[q]={...ke[q],name:re},ke})},ri=(q,re,Ae)=>{d(ke=>{const ze=[...ke],at=[...ze[q].players];return at[re]=Ae,ze[q]={...ze[q],players:at},ze})},so=()=>{localStorage.setItem(CR,"true"),$(!1),U(1)},Bo=()=>B.shotDurations.length===0?0:B.shotDurations.reduce((re,Ae)=>re+Ae,0)/B.shotDurations.length,Pr=q=>{const re=Math.floor(q/60),Ae=Math.floor(q%60);return re>0?`${re}m ${Ae}s`:`${Ae.toFixed(1)}s`},mi=u.jsx(Jr,{open:O,onOpenChange:q=>{$(q),q||U(1)},children:u.jsxs(Wr,{className:"max-w-md",children:[u.jsxs(br,{children:[u.jsx(wr,{children:"Welcome to CueMaster: Tempo"}),u.jsx(Po,{className:"sr-only",children:"Shot clock tutorial with game modes, controls, and audio cues"})]}),u.jsxs("div",{className:"space-y-4",children:[F===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"1) Game Modes"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"The Shot Clock helps maintain game pace during practice or competitive play."}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Solo Mode:"})," ",u.jsx("span",{className:"text-muted-foreground",children:"Practice your timing with continuous countdown and interval chimes"})]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Two-Player Mode:"})," ",u.jsx("span",{className:"text-muted-foreground",children:"Alternate between players, each with their own extension bank"})]})]})]}),F===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"2) Controls During Play"}),u.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0",children:u.jsx(Hc,{className:"w-4 h-4 text-primary"})}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Next Shot:"})," Reset clock for next shot (switches player in 2P mode)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold text-primary",children:"+15s"}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Extension:"})," Add 15 seconds (max 3 per player)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-destructive/20 rounded flex items-center justify-center flex-shrink-0",children:u.jsx(Hm,{className:"w-4 h-4 text-destructive"})}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Stop:"})," End the game and view session stats"]})]})]})]}),F===3&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"3) Visual & Audio Cues"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{children:["Background changes from ",u.jsx("span",{className:"text-green-500 font-semibold",children:"green"}),"  ",u.jsx("span",{className:"text-yellow-500 font-semibold",children:"yellow"}),"  ",u.jsx("span",{className:"text-orange-500 font-semibold",children:"orange"}),"  ",u.jsx("span",{className:"text-red-500 font-semibold",children:"red"})]}),u.jsx("li",{children:"Warning beeps in the final 5 seconds"}),u.jsx("li",{children:"Triple chime when time expires"}),u.jsx("li",{children:"In solo mode with auto-restart, a double chime signals the interval"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ue,{variant:"outline",size:"sm",onClick:()=>U(q=>Math.max(1,q-1)),disabled:F===1,children:"Back"}),u.jsx(ue,{variant:"outline",size:"sm",onClick:()=>U(q=>Math.min(3,q+1)),disabled:F===3,children:"Next"})]}),u.jsx("div",{className:"flex gap-1",children:[1,2,3].map(q=>u.jsx("div",{className:`w-2 h-2 rounded-full ${q===F?"bg-primary":"bg-muted"}`},q))}),u.jsx(ue,{size:"sm",onClick:so,"data-testid":"button-complete-tutorial",children:F===3?"Finish":"Skip"})]})]})}),Ts=u.jsx(Jr,{open:Pe,onOpenChange:q=>{q||Ln()},children:u.jsxs(Wr,{className:"max-w-sm",children:[u.jsxs(br,{children:[u.jsx(wr,{children:"End Session?"}),u.jsx(Po,{className:"sr-only",children:"Confirm you want to end the session"})]}),u.jsxs("div",{className:"space-y-4 py-2",children:[u.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Are you sure you want to end this session? Your stats will be saved."}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(ue,{variant:"outline",className:"w-full",onClick:Ln,"data-testid":"button-cancel-stop",children:"Cancel"}),u.jsx(ue,{variant:"destructive",className:"w-full",onClick:on,"data-testid":"button-end-session",children:"End Session"})]})]})]})}),Nr=u.jsx(Jr,{open:st,onOpenChange:q=>{q||(be(!1),P(!0),Q.current=Date.now())},children:u.jsxs(Wr,{className:"max-w-sm",children:[u.jsxs(br,{children:[u.jsxs(wr,{children:["Who Won Rack ",me,"?"]}),u.jsx(Po,{className:"sr-only",children:"Select the winner of this rack"})]}),u.jsx("div",{className:"space-y-3 py-2",children:u.jsx("div",{className:"grid grid-cols-1 gap-2",children:Yt().map(q=>u.jsx(ue,{variant:"outline",className:"w-full h-auto py-4 text-lg font-semibold",onClick:()=>rn(q.name,q.type),"data-testid":`button-winner-${q.name.replace(/\s+/g,"-").toLowerCase()}`,children:q.name},q.name))})}),u.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>{be(!1),P(!0),Q.current=Date.now()},className:"w-full","data-testid":"button-cancel-winner",children:"Cancel"})]})}),gi=()=>r==="scotch-doubles"?(le==null?void 0:le.name)||"Team 1":(Ve==null?void 0:Ve.name)||"Player 1",Cs=u.jsx(Jr,{open:z,onOpenChange:q=>{q||(we(!1),P(!0),Q.current=Date.now())},children:u.jsxs(Wr,{className:"max-w-sm",children:[u.jsxs(br,{children:[u.jsx(wr,{children:"Next Action"}),u.jsx(Po,{className:"sr-only",children:"Choose your next action"})]}),u.jsx("div",{className:"space-y-3 py-2",children:u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx(ue,{variant:"outline",className:"w-full h-auto py-3",onClick:xn,"data-testid":"button-new-stroke",children:u.jsxs("div",{className:"flex items-center gap-3 w-full",children:[u.jsx(Q$,{className:"w-5 h-5 text-primary flex-shrink-0"}),u.jsxs("div",{className:"text-left flex-1",children:[u.jsx("p",{className:"font-semibold",children:"Next Shot"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Same player continues"})]})]})}),u.jsx(ue,{variant:"outline",className:"w-full h-auto py-3",onClick:Kt,"data-testid":"button-end-turn",children:u.jsxs("div",{className:"flex items-center gap-3 w-full",children:[u.jsx(Hc,{className:"w-5 h-5 text-primary flex-shrink-0"}),u.jsxs("div",{className:"text-left flex-1",children:[u.jsx("p",{className:"font-semibold",children:"End Turn"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:r==="scotch-doubles"?"Switch to other team":r==="two-player"?"Switch to other player":"End turn"})]})]})}),u.jsx("div",{className:"border-t border-border my-2"}),u.jsx(ue,{variant:"default",className:"w-full h-auto py-3 bg-green-600 hover:bg-green-700",onClick:pn,"data-testid":"button-player-won",children:u.jsxs("div",{className:"flex items-center gap-3 w-full",children:[u.jsx(La,{className:"w-5 h-5 flex-shrink-0"}),u.jsxs("div",{className:"text-left flex-1",children:[u.jsxs("p",{className:"font-semibold",children:[gi()," Won"]}),u.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})}),u.jsx(ue,{variant:"default",className:"w-full h-auto py-3 bg-red-600 hover:bg-red-700",onClick:$t,"data-testid":"button-player-lost",children:u.jsxs("div",{className:"flex items-center gap-3 w-full",children:[u.jsx(Ob,{className:"w-5 h-5 flex-shrink-0"}),u.jsxs("div",{className:"text-left flex-1",children:[u.jsxs("p",{className:"font-semibold",children:[gi()," Lost"]}),u.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})})]})}),u.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>{we(!1),P(!0),Q.current=Date.now()},className:"w-full","data-testid":"button-cancel-next",children:"Cancel"})]})});if(e==="summary"){const q=Bo(),re=B.endTime?(B.endTime-B.startTime)/1e3:0;return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:tr,"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Session Summary"})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[u.jsxs(et,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:u.jsx(k1,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Session Complete"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:B.playerMode==="two-player"?B.playerNames.join(" vs "):B.playerNames[0]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(nT,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Shot Time"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-avg-duration",children:Pr(q)})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Hc,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Shots"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shot-count",children:B.shotCount})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Oh,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Extensions"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-extensions-count",children:B.totalExtensions})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(rT,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeouts"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-timeouts",children:B.timeouts})]})]})]}),u.jsxs(et,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Session Details"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Shot Clock Duration"}),u.jsxs("span",{className:"font-medium",children:[B.duration,"s"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Session Time"}),u.jsx("span",{className:"font-medium",children:Pr(re)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Game Mode"}),u.jsx("span",{className:"font-medium capitalize",children:B.playerMode.replace("-"," ")})]})]})]}),B.rackResults&&B.rackResults.length>0&&u.jsxs(et,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(La,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold text-foreground",children:"Rack Results"})]}),u.jsx("div",{className:"space-y-2",children:B.rackResults.map((Ae,ke)=>u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[u.jsxs("span",{className:"text-muted-foreground",children:["Rack ",Ae.rackNumber]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(La,{className:"w-4 h-4 text-amber-500"}),u.jsx("span",{className:"font-medium text-foreground",children:Ae.winner})]})]},ke))})]}),B.shotEvents&&B.shotEvents.length>0&&(()=>{var K;const Ae=B.shotEvents.reduce((ce,fe)=>(ce[fe.playerName]||(ce[fe.playerName]={shots:[],total:0,teamName:fe.teamName}),ce[fe.playerName].shots.push(fe),ce[fe.playerName].total+=fe.duration,ce),{}),ke=B.shotEvents.reduce((ce,fe)=>(fe.teamName&&(ce[fe.teamName]||(ce[fe.teamName]={shots:[],total:0}),ce[fe.teamName].shots.push(fe),ce[fe.teamName].total+=fe.duration),ce),{}),ze=Object.keys(Ae),at=Object.keys(ke),On=(()=>{if(!B.rackResults||B.rackResults.length===0)return null;const ce={},fe={};return B.rackResults.forEach(de=>{de.shotEvents.forEach(Ie=>{de.winnerType==="team"&&Ie.teamName===de.winner||de.winnerType==="player"&&Ie.playerName===de.winner?(ce[Ie.playerName]||(ce[Ie.playerName]={wins:0,totalTime:0,shots:0}),ce[Ie.playerName].totalTime+=Ie.duration,ce[Ie.playerName].shots+=1):(fe[Ie.playerName]||(fe[Ie.playerName]={losses:0,totalTime:0,shots:0}),fe[Ie.playerName].totalTime+=Ie.duration,fe[Ie.playerName].shots+=1)}),de.winnerType==="player"&&(ce[de.winner]||(ce[de.winner]={wins:0,totalTime:0,shots:0}),ce[de.winner].wins+=1)}),{winnerTotals:ce,loserTotals:fe}})();return u.jsxs(u.Fragment,{children:[u.jsxs(et,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Player Stats"}),u.jsxs(q_,{className:"w-full",opts:{align:"start",loop:ze.length>1},children:[u.jsx(G_,{className:"-ml-2",children:ze.map(ce=>{const fe=Ae[ce],de=fe.total/fe.shots.length;return u.jsx(K_,{className:"pl-2 basis-full sm:basis-1/2",children:u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Zf,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-foreground",children:ce})]}),fe.teamName&&u.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:fe.teamName}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Avg Time"}),u.jsx("p",{className:"font-bold text-primary",children:Pr(de)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Shots"}),u.jsx("p",{className:"font-bold",children:fe.shots.length})]})]})]})},ce)})}),ze.length>1&&u.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[u.jsx(Y_,{className:"static translate-y-0"}),u.jsx(X_,{className:"static translate-y-0"})]})]})]}),at.length>0&&u.jsxs(et,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Team Averages"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:at.map(ce=>{const fe=ke[ce],de=fe.total/fe.shots.length;return u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[u.jsx("span",{className:"font-medium text-foreground",children:ce}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-primary",children:Pr(de)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",fe.shots.length," shots)"]})]})]},ce)})})]}),u.jsx(et,{className:"p-6",children:u.jsx(Zy,{type:"single",collapsible:!0,className:"w-full",children:u.jsxs(Zo,{value:"charts",className:"border-none",children:[u.jsx(es,{className:"hover:no-underline py-0",children:u.jsx("span",{className:"font-semibold text-foreground",children:"Shot Duration Charts"})}),u.jsx(ts,{children:u.jsxs(q_,{className:"w-full mt-4",opts:{align:"start",loop:ze.length>1},children:[u.jsx(G_,{className:"-ml-2",children:ze.map(ce=>{const fe=Ae[ce],de=fe.shots.map((Ie,rt)=>({shot:rt+1,duration:parseFloat(Ie.duration.toFixed(1))}));return u.jsx(K_,{className:"pl-2 basis-full",children:u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Zf,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"font-medium text-foreground",children:ce}),fe.teamName&&u.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",fe.teamName,")"]})]}),u.jsx("div",{className:"h-40",children:u.jsx(yve,{width:"100%",height:"100%",children:u.jsxs(gNe,{data:de,children:[u.jsx(H0,{dataKey:"shot",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),u.jsx(q0,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:Ie=>`${Ie}s`}),u.jsx(Yo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelFormatter:Ie=>`Shot ${Ie}`,formatter:Ie=>[`${Ie}s`,"Duration"]}),u.jsx(hm,{type:"monotone",dataKey:"duration",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:3},activeDot:{r:5}})]})})})]})},ce)})}),ze.length>1&&u.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[u.jsx(Y_,{className:"static translate-y-0"}),u.jsx(X_,{className:"static translate-y-0"})]})]})})]})})}),On&&(((K=B.rackResults)==null?void 0:K.length)??0)>0&&u.jsx(et,{className:"p-6",children:u.jsx(Zy,{type:"single",collapsible:!0,className:"w-full",children:u.jsxs(Zo,{value:"advanced",className:"border-none",children:[u.jsx(es,{className:"hover:no-underline py-0",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(M1,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-semibold text-foreground",children:"Advanced Analytics"})]})}),u.jsx(ts,{children:u.jsxs("div",{className:"space-y-4 mt-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(La,{className:"w-4 h-4 text-amber-500"}),u.jsx("span",{className:"text-sm font-medium text-foreground",children:"Winning Racks Avg Speed"})]}),u.jsx("div",{className:"space-y-2",children:Object.entries(On.winnerTotals).map(([ce,fe])=>fe.shots>0&&u.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 p-3 rounded-lg flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(M1,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{className:"font-medium text-foreground",children:ce})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-green-500",children:Pr(fe.totalTime/fe.shots)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",fe.shots," shots)"]})]})]},ce))})]}),Object.keys(On.loserTotals).length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ob,{className:"w-4 h-4 text-red-500"}),u.jsx("span",{className:"text-sm font-medium text-foreground",children:"Losing Racks Avg Speed"})]}),u.jsx("div",{className:"space-y-2",children:Object.entries(On.loserTotals).map(([ce,fe])=>fe.shots>0&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-3 rounded-lg flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ob,{className:"w-4 h-4 text-red-500"}),u.jsx("span",{className:"font-medium text-foreground",children:ce})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-red-500",children:Pr(fe.totalTime/fe.shots)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",fe.shots," shots)"]})]})]},ce))})]}),at.length>0&&B.rackResults&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Fl,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-foreground",children:"Team Performance"})]}),u.jsx("div",{className:"space-y-2",children:at.map(ce=>{var Ie,rt;const fe=((Ie=B.rackResults)==null?void 0:Ie.filter(bt=>bt.winner===ce).length)||0,de=(((rt=B.rackResults)==null?void 0:rt.length)||0)-fe;return u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium text-foreground",children:ce}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-green-500 font-bold",children:[fe,"W"]}),u.jsxs("span",{className:"text-red-500 font-bold",children:[de,"L"]})]})]})},ce)})})]})]})})]})})})]})})(),u.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Session saved to history"}),u.jsxs(ue,{onClick:tr,className:"w-full",size:"lg","data-testid":"button-new-session",children:[u.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})})]})}if(e==="paused")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:vn,"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Game Paused"})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:u.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[u.jsxs(et,{className:"p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(X$,{className:"w-8 h-8 text-primary"})}),u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Timer Paused"}),u.jsxs("p",{className:"text-muted-foreground mb-4",children:["Time remaining: ",u.jsxs("span",{className:"font-mono font-bold text-foreground",children:[S,"s"]})]}),u.jsx("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Shots"}),u.jsx("p",{className:"font-bold text-lg",children:B.shotCount})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Extensions"}),u.jsx("p",{className:"font-bold text-lg",children:B.totalExtensions})]})]})}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session is preserved. Resume to continue or return to the main menu."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(ue,{onClick:vn,className:"w-full",size:"lg","data-testid":"button-resume",children:[u.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Resume Game"]}),u.jsxs(ue,{onClick:Wn,variant:"outline",className:"w-full",size:"lg","data-testid":"button-return-menu",children:[u.jsx(oH,{className:"w-5 h-5 mr-2"}),"Return to Main Menu"]}),u.jsxs(ue,{onClick:er,variant:"destructive",className:"w-full",size:"lg","data-testid":"button-end-session",children:[u.jsx(Hm,{className:"w-5 h-5 mr-2"}),"End Session"]})]})]})})]});if(e==="setup")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Shot Clock Setup"}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>$(!0),"data-testid":"button-tutorial",children:u.jsx(Tx,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[u.jsxs(et,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Game Mode"}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(ue,{variant:r==="solo"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("solo"),"data-testid":"button-mode-solo",children:[u.jsx(Zf,{className:"w-4 h-4 mr-2"}),"Solo"]}),u.jsxs(ue,{variant:r==="two-player"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("two-player"),"data-testid":"button-mode-two-player",children:[u.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Two Players"]}),u.jsxs(Yre,{isLocked:!0,variant:r==="scotch-doubles"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("scotch-doubles"),"data-testid":"button-mode-scotch-doubles",children:[u.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Scotch Doubles"]})]}),r==="scotch-doubles"&&u.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:`Partners alternate shots within their team's turn. Use "Next Shot" to switch to the other team.`})]}),r==="scotch-doubles"?u.jsxs(et,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams & Players"}),u.jsx("div",{className:"space-y-6",children:[0,1].map(q=>{var re,Ae,ke;return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs(en,{htmlFor:`team${q+1}-name`,children:["Team ",q+1," Name"]}),u.jsx(cr,{id:`team${q+1}-name`,value:((re=c[q])==null?void 0:re.name)||"",onChange:ze=>$i(q,ze.target.value),placeholder:`Team ${q+1}`,className:"mt-1","data-testid":`input-team${q+1}-name`})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx(en,{htmlFor:`team${q+1}-player1`,children:"Partner 1"}),u.jsx(cr,{id:`team${q+1}-player1`,value:((Ae=c[q])==null?void 0:Ae.players[0])||"",onChange:ze=>ri(q,0,ze.target.value),placeholder:"Partner 1",className:"mt-1","data-testid":`input-team${q+1}-player1`})]}),u.jsxs("div",{children:[u.jsx(en,{htmlFor:`team${q+1}-player2`,children:"Partner 2"}),u.jsx(cr,{id:`team${q+1}-player2`,value:((ke=c[q])==null?void 0:ke.players[1])||"",onChange:ze=>ri(q,1,ze.target.value),placeholder:"Partner 2",className:"mt-1","data-testid":`input-team${q+1}-player2`})]})]})]},q)})})]}):u.jsxs(et,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Player Names"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(en,{htmlFor:"player1-name",children:r==="solo"?"Your Name":"Player 1"}),u.jsx(cr,{id:"player1-name",value:((As=o[0])==null?void 0:As.name)||"",onChange:q=>Di(0,q.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player1-name"})]}),r==="two-player"&&u.jsxs("div",{children:[u.jsx(en,{htmlFor:"player2-name",children:"Player 2"}),u.jsx(cr,{id:"player2-name",value:((Uo=o[1])==null?void 0:Uo.name)||"",onChange:q=>Di(1,q.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player2-name"})]})]})]}),u.jsxs(et,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shot Duration"}),u.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:[30,45,60,90].map(q=>u.jsxs(ue,{variant:g===q?"default":"outline",onClick:()=>bn(q),"data-testid":`button-preset-${q}`,children:[q,"s"]},q))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(cr,{type:"number",min:"5",max:"300",value:x,onChange:q=>w(parseInt(q.target.value)||30),className:"flex-1","data-testid":"input-custom-duration"}),u.jsx(ue,{onClick:kn,variant:"outline","data-testid":"button-apply-custom",children:"Apply"})]})]}),r==="solo"&&u.jsx(et,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Continuous Play"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-chime at each interval for timing practice"})]}),u.jsx(Pi,{checked:j,onCheckedChange:R,"data-testid":"switch-auto-restart"})]})}),u.jsxs(ue,{onClick:Ar,className:"w-full",size:"lg","data-testid":"button-start-game",children:[u.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Start Game"]})]})}),mi]});const ii=()=>{S===0?(C(g),T(!1),Q.current=Date.now(),P(!0)):E?kt():Ze()};return u.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-[2] relative min-h-0",children:[u.jsx(QNe,{seconds:S,totalSeconds:g,playerName:r==="solo"?Ve==null?void 0:Ve.name:void 0,isExtension:_,isRunning:E,onClick:ii}),u.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[u.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-white text-xs font-mono","data-testid":"text-shot-counter",children:["Shot ",B.shotCount+1]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ue,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto",onClick:yn,"data-testid":"button-pause-menu",children:u.jsx(cH,{className:"w-5 h-5"})}),u.jsxs(Jr,{children:[u.jsx(one,{asChild:!0,children:u.jsx(ue,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto","data-testid":"button-settings",children:u.jsx(tT,{className:"w-5 h-5"})})}),u.jsxs(Wr,{children:[u.jsx(br,{children:u.jsx(wr,{children:"Quick Settings"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(en,{children:"Shot Duration"}),u.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:[30,45,60].map(q=>u.jsxs(ue,{variant:g===q?"default":"outline",size:"sm",onClick:()=>{bn(q),E||C(q)},"data-testid":`button-quick-${q}`,children:[q,"s"]},q))})]}),r==="solo"&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(en,{children:"Continuous Play"}),u.jsx(Pi,{checked:j,onCheckedChange:R,"data-testid":"switch-continuous-play"})]})]})]})]})]})]}),r==="two-player"&&u.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"player-toggle-container",children:u.jsx("div",{className:"w-3/4 mx-auto flex items-center justify-center pointer-events-auto bg-neutral-800/50 rounded-lg overflow-hidden",children:o.map((q,re)=>u.jsx("button",{onClick:()=>{a!==re&&(l(re),C(g),T(!1),nt())},className:`flex-1 px-4 py-3 text-base font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${a===re?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`player-toggle-${re+1}`,children:q.name},re))})}),r==="scotch-doubles"&&u.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"team-toggle-container",children:u.jsxs("div",{className:"w-full mx-auto flex flex-col items-center gap-2 pointer-events-auto",children:[u.jsx("div",{className:"flex items-center justify-center bg-neutral-800/50 rounded-lg overflow-hidden w-3/4",children:c.map((q,re)=>u.jsx("button",{onClick:()=>{f!==re&&(h(re),y(0),C(g),T(!1),nt())},className:`flex-1 px-4 py-2 text-sm font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${f===re?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`team-toggle-${re+1}`,children:q.name},re))}),u.jsxs("div",{className:"text-white text-center text-lg font-semibold bg-black/40 px-4 py-1 rounded-full","data-testid":"text-current-shooter",children:["Shooting: ",le==null?void 0:le.players[m]]})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-4 pointer-events-none",children:u.jsxs("button",{onClick:Gr,disabled:r==="scotch-doubles"?((le==null?void 0:le.extensions)||0)>=N||S===0:((Ve==null?void 0:Ve.extensions)||0)>=N||S===0,className:"w-full py-4 bg-black/50 backdrop-blur-sm hover:bg-black/60 active:bg-black/70 disabled:opacity-40 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-3 pointer-events-auto transition-colors focus:outline-none","data-testid":"button-extension",children:[u.jsxs("span",{className:"text-white font-bold text-lg",children:["+",k,"s EXTENSION"]}),u.jsxs("span",{className:"text-white/70 font-mono text-base","data-testid":"text-extensions",children:["(",r==="scotch-doubles"?(le==null?void 0:le.extensions)||0:(Ve==null?void 0:Ve.extensions)||0,"/",N," used)"]})]})})]}),r==="scotch-doubles"?u.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[u.jsxs("button",{onClick:er,className:"w-1/5 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[u.jsx(Hm,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),u.jsx("span",{className:"text-xs md:text-base font-bold text-white tracking-wide",children:"STOP"})]}),u.jsxs("button",{onClick:qe,className:"w-2/5 bg-amber-500 hover:bg-amber-500/90 active:bg-amber-500/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-next-partner",children:[u.jsx(Fl,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),u.jsx("span",{className:"text-sm md:text-xl font-bold text-white tracking-wide",children:"PARTNER"}),u.jsx("span",{className:"text-xs text-white/70",children:"Same Team"})]}),u.jsxs("button",{onClick:Cr,className:"w-2/5 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none","data-testid":"button-next-shot",children:[u.jsx(Hc,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),u.jsx("span",{className:"text-lg md:text-2xl font-bold text-white tracking-wide",children:"NEXT"}),u.jsx("span",{className:"text-xs text-white/70",children:"Switch Team"})]})]}):u.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[u.jsxs("button",{onClick:er,className:"w-1/4 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[u.jsx(Hm,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),u.jsx("span",{className:"text-base md:text-xl font-bold text-white tracking-wide",children:"STOP"})]}),u.jsxs("button",{onClick:Cr,className:"w-3/4 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-2 focus:outline-none","data-testid":"button-next-shot",children:[u.jsx(Hc,{className:"w-12 h-12 md:w-16 md:h-16 text-white"}),u.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tracking-wide",children:"NEXT"})]})]}),Ts,Nr,Cs]})}function ZNe({tiltX:t,tiltY:e,isCalibrating:n=!1}){const i=Math.max(-40,Math.min(40,t/5*40)),o=Math.max(-40,Math.min(40,e/5*40)),s=Math.sqrt(t*t+e*e),a=s<.5;return u.jsxs("div",{className:"flex flex-col items-center gap-6",children:[u.jsxs("div",{className:"relative w-64 h-64 rounded-full border-4 border-foreground bg-card","data-testid":"gauge-bubble-level",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-px h-full bg-muted"}),u.jsx("div",{className:"absolute w-full h-px bg-muted"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg transition-all duration-150",style:{transform:`translate(${i}px, ${o}px)`,opacity:n?.5:1}})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${a?"border-green-500":"border-muted"}`})})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-3xl font-mono font-bold text-foreground","data-testid":"text-tilt-value",children:[s.toFixed(2),""]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:a?"Level":"Not Level"})]})]})}function l9({open:t,onComplete:e,pages:n,toolName:r}){const[i,o]=b.useState(0),s=b.useRef(0),a=b.useRef(0),l=n[i],c=h=>{s.current=h.touches[0].clientX,a.current=h.touches[0].clientY},d=h=>{const m=h.changedTouches[0].clientX,y=h.changedTouches[0].clientY,g=m-s.current,v=y-a.current;Math.abs(g)>Math.abs(v)&&Math.abs(g)>50&&(g>0&&i>0?o(x=>x-1):g<0&&i<n.length-1&&o(x=>x+1))},f=()=>{o(0),e()};return u.jsx(Jr,{open:t,onOpenChange:f,children:u.jsx(Wr,{className:"max-w-md [&>button]:hidden",onTouchStart:c,onTouchEnd:d,children:u.jsxs("div",{className:"py-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),u.jsx("h2",{className:"text-xl font-bold",children:l.title})]}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8","data-testid":"button-close-tutorial",children:u.jsx(Hp,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"min-h-[200px]",children:l.content}),u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsxs(ue,{variant:"ghost",onClick:()=>o(h=>Math.max(0,h-1)),disabled:i===0,"data-testid":"button-tutorial-prev",children:[u.jsx(QW,{className:"w-4 h-4 mr-1"}),"Back"]}),u.jsx("div",{className:"flex gap-2",children:n.map((h,m)=>u.jsx("button",{onClick:()=>o(m),className:`h-2 w-2 rounded-full transition-colors ${m===i?"bg-primary":"bg-muted hover:bg-muted-foreground/30"}`,"data-testid":`tutorial-indicator-${m}`},m))}),i<n.length-1?u.jsxs(ue,{onClick:()=>o(h=>Math.min(n.length-1,h+1)),"data-testid":"button-tutorial-next",children:["Next",u.jsx(K$,{className:"w-4 h-4 ml-1"})]}):u.jsx(ue,{onClick:f,"data-testid":"button-tutorial-done",children:"Got It"})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Swipe left/right to navigate"})]})})})}const PR="tableLevel_tutorial_seen";function eje(){const[,t]=vl(),{toast:e}=Id(),[n,r]=b.useState(0),[i,o]=b.useState(0),[s,a]=b.useState({x:0,y:0}),[l,c]=b.useState("home"),[d,f]=b.useState(!1),[h,m]=b.useState(!1),[y,g]=b.useState(!1),[v,x]=b.useState(null),w=b.useRef(null),S=b.useRef(null),C=[{title:"How It Works",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"The Table Level Gauge uses your device's orientation sensors to detect table tilt."}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Requirements:"})," Works best on mobile devices or tablets with gyroscope/accelerometer sensors."]})}),u.jsx("p",{className:"mt-3",children:"The bubble indicator shows deviation from level - just like a carpenter's level but in all directions!"})]})},{title:"Calibration",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"For accurate readings, calibrate on a known level surface:"}),u.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[u.jsx("li",{children:"Place your device flat on a surface you know is level"}),u.jsxs("li",{children:["Tap ",u.jsx("strong",{className:"text-foreground",children:'"Calibrate Current Preset"'})]}),u.jsx("li",{children:"Hold still for 2 seconds while it samples"}),u.jsx("li",{children:"The bubble will now show deviation from this reference"})]}),u.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Tip:"})," Use a known-level surface like a properly installed countertop for initial calibration."]})})]})},{title:"Presets",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Save different calibrations for different locations:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Home:"})," Your home practice table"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"League:"})," Your regular league venue"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Tournament:"})," Competition tables"]})]}),u.jsx("p",{className:"mt-3",children:"Tap a preset to load it, then calibrate and save to store your settings."}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Usage:"})," Place your device on the table surface. A centered bubble means the table is level relative to your calibrated reference."]})})]})}];b.useEffect(()=>(Tt.startSession("truelevel"),()=>{Tt.endSession()}),[]),b.useEffect(()=>{localStorage.getItem(PR)||g(!0)},[]);const E=()=>{localStorage.setItem(PR,"true"),g(!1)};b.useEffect(()=>{(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{const k=await DeviceOrientationEvent.requestPermission();m(k==="granted")}catch{e({title:"Permission denied",description:"Device orientation access is required for this feature",variant:"destructive"})}else m(!0)})()},[e]),b.useEffect(()=>{if(!h)return;let N=!1;const k=j=>{j.beta!==null&&j.gamma!==null&&(N||(N=!0,x(!0),w.current&&clearTimeout(w.current)),S.current={beta:j.beta,gamma:j.gamma},r(j.gamma-s.x),o(j.beta-s.y-90))};return window.addEventListener("deviceorientation",k),w.current=setTimeout(()=>{N||(x(!1),e({title:"No orientation sensor detected",description:"This feature requires a device with gyroscope/accelerometer (mobile phone or tablet).",variant:"destructive"}))},2e3),()=>{window.removeEventListener("deviceorientation",k),w.current&&clearTimeout(w.current)}},[s,h,e]);const P=()=>{if(v===!1||v===null){e({title:"Cannot calibrate",description:"No orientation sensor detected. Please use a mobile device with gyroscope support.",variant:"destructive"});return}f(!0);const N=[];let k=0;const j=10,R=()=>{if(S.current&&(N.push({x:S.current.gamma,y:S.current.beta-90}),k++,k>=j)){const O=N.reduce((F,U)=>F+U.x,0)/N.length,$=N.reduce((F,U)=>F+U.y,0)/N.length;a({x:O,y:$}),f(!1),localStorage.setItem(`tableLevel_${l}`,JSON.stringify({x:O,y:$})),Tt.trackSkillMetric("truelevel","calibration",1,{preset:l}),e({title:"Calibration complete",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`});return}k<j&&setTimeout(R,150)};setTimeout(()=>{if(!S.current){f(!1),e({title:"Calibration failed",description:"No sensor data available. Make sure your device has orientation sensors and they are enabled.",variant:"destructive"});return}R()},300)},_=N=>{c(N);const k=localStorage.getItem(`tableLevel_${N}`);k&&(a(JSON.parse(k)),e({title:"Preset loaded",description:`${N.charAt(0).toUpperCase()+N.slice(1)} calibration applied`}))},T=()=>{localStorage.setItem(`tableLevel_${l}`,JSON.stringify(s)),e({title:"Preset saved",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`})};return h?u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(l9,{open:y,onComplete:E,pages:C,toolName:"Table Level Gauge"}),u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Table Level Gauge"}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>g(!0),"data-testid":"button-tutorial",children:u.jsx(Tx,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 overflow-auto p-6",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[v===!1&&u.jsx(et,{className:"p-4 border-destructive bg-destructive/10",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(rT,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-destructive mb-1",children:"No Orientation Sensor Detected"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This feature requires a device with gyroscope/accelerometer sensors (typically a smartphone or tablet)."}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded",children:[u.jsx(vH,{className:"w-4 h-4"}),u.jsx("span",{children:"Open this page on your mobile device to use the level gauge"})]})]})]})}),v===null&&u.jsx(et,{className:"p-4 border-muted",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Detecting orientation sensors..."})]})}),u.jsx("div",{className:"flex justify-center",children:u.jsx(ZNe,{tiltX:n,tiltY:i,isCalibrating:d})}),u.jsxs(et,{className:"p-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Calibration Presets"}),u.jsx(tv,{isLocked:!0,featureName:"Calibration Presets",variant:"overlay",children:u.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[u.jsx(ue,{variant:l==="home"?"default":"outline",onClick:()=>_("home"),"data-testid":"button-preset-home",children:"Home"}),u.jsx(ue,{variant:l==="league"?"default":"outline",onClick:()=>_("league"),"data-testid":"button-preset-league",children:"League"}),u.jsx(ue,{variant:l==="tournament"?"default":"outline",onClick:()=>_("tournament"),"data-testid":"button-preset-tournament",children:"Tournament"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ue,{className:"flex-1",onClick:P,disabled:d||v===!1,"data-testid":"button-calibrate",children:d?"Calibrating...":"Calibrate Current Preset"}),u.jsx(ue,{variant:"outline",onClick:T,disabled:v===!1,"data-testid":"button-save-preset",children:"Save"})]})]})]})})]}):u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Table Level Gauge"})]}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:u.jsxs(et,{className:"p-6 max-w-md text-center",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permission Required"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This feature requires access to your device's orientation sensors to measure table level."}),u.jsx(ue,{onClick:()=>window.location.reload(),children:"Grant Permission"})]})})]})}var c9=["PageUp","PageDown"],u9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],d9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},rf="Slider",[Q_,tje,nje]=Up(rf),[f9,eIe]=Mi(rf,[nje]),[rje,X0]=f9(rf),h9=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...g}=t,v=b.useRef(new Set),x=b.useRef(0),S=s==="horizontal"?ije:oje,[C=[],E]=Do({prop:d,defaultProp:c,onChange:j=>{var O;(O=[...v.current][x.current])==null||O.focus(),f(j)}}),P=b.useRef(C);function _(j){const R=uje(C,j);k(j,R)}function T(j){k(j,x.current)}function N(){const j=P.current[x.current];C[x.current]!==j&&h(C)}function k(j,R,{commit:O}={commit:!1}){const $=pje(o),F=mje(Math.round((j-r)/o)*o+r,$),U=Yh(F,[r,i]);E((W=[])=>{const V=lje(W,U,R);if(hje(V,l*o)){x.current=V.indexOf(U);const B=String(V)!==String(W);return B&&O&&h(V),B?V:W}else return W})}return u.jsx(rje,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:x,thumbs:v.current,values:C,orientation:s,form:y,children:u.jsx(Q_.Provider,{scope:t.__scopeSlider,children:u.jsx(Q_.Slot,{scope:t.__scopeSlider,children:u.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:Le(g.onPointerDown,()=>{a||(P.current=C)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:_,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:N,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(i,C.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:R})=>{if(!a){const F=c9.includes(j.key)||j.shiftKey&&u9.includes(j.key)?10:1,U=x.current,W=C[U],V=o*F*R;k(W+V,U,{commit:!0})}}})})})})});h9.displayName=rf;var[p9,m9]=f9(rf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ije=b.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,[f,h]=b.useState(null),m=mt(e,S=>h(S)),y=b.useRef(void 0),g=zd(i),v=g==="ltr",x=v&&!o||!v&&o;function w(S){const C=y.current||f.getBoundingClientRect(),E=[0,C.width],_=WA(E,x?[n,r]:[r,n]);return y.current=C,_(S-C.left)}return u.jsx(p9,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:u.jsx(g9,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const C=w(S.clientX);s==null||s(C)},onSlideMove:S=>{const C=w(S.clientX);a==null||a(C)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:S=>{const E=d9[x?"from-left":"from-right"].includes(S.key);c==null||c({event:S,direction:E?-1:1})}})})}),oje=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...c}=t,d=b.useRef(null),f=mt(e,d),h=b.useRef(void 0),m=!i;function y(g){const v=h.current||d.current.getBoundingClientRect(),x=[0,v.height],S=WA(x,m?[r,n]:[n,r]);return h.current=v,S(g-v.top)}return u.jsx(p9,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:u.jsx(g9,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);o==null||o(v)},onSlideMove:g=>{const v=y(g.clientY);s==null||s(v)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const x=d9[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:x?-1:1})}})})}),g9=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...c}=t,d=X0(rf,n);return u.jsx(Xe.span,{...c,ref:e,onKeyDown:Le(t.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):c9.concat(u9).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Le(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:Le(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Le(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),y9="SliderTrack",v9=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=X0(y9,n);return u.jsx(Xe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});v9.displayName=y9;var J_="SliderRange",x9=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=X0(J_,n),o=m9(J_,n),s=b.useRef(null),a=mt(e,s),l=i.values.length,c=i.values.map(h=>w9(h,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(Xe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});x9.displayName=J_;var Z_="SliderThumb",b9=b.forwardRef((t,e)=>{const n=tje(t.__scopeSlider),[r,i]=b.useState(null),o=mt(e,a=>i(a)),s=b.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return u.jsx(sje,{...t,ref:o,index:s})}),sje=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,s=X0(Z_,n),a=m9(Z_,n),[l,c]=b.useState(null),d=mt(e,w=>c(w)),f=l?s.form||!!l.closest("form"):!0,h=fT(l),m=s.values[r],y=m===void 0?0:w9(m,s.min,s.max),g=cje(r,s.values.length),v=h==null?void 0:h[a.size],x=v?dje(v,y,a.direction):0;return b.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${x}px)`},children:[u.jsx(Q_.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(Xe.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:Le(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),f&&u.jsx(aje,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:m},r)]})});b9.displayName=Z_;var aje=t=>{const{value:e,...n}=t,r=b.useRef(null),i=pC(e);return b.useEffect(()=>{const o=r.current,s=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(o,e),o.dispatchEvent(c)}},[i,e]),u.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function lje(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function w9(t,e,n){const o=100/(n-e)*(t-e);return Yh(o,[0,100])}function cje(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function uje(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function dje(t,e,n){const r=t/2,o=WA([0,50],[0,r]);return(r-o(e)*n)*n}function fje(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function hje(t,e){if(e>0){const n=fje(t);return Math.min(...n)>=e}return!0}function WA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function pje(t){return(String(t).split(".")[1]||"").length}function mje(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var S9=h9,gje=v9,yje=x9,vje=b9;const Qc=b.forwardRef(({className:t,...e},n)=>u.jsxs(S9,{ref:n,className:ct("relative flex w-full touch-none select-none items-center",t),...e,children:[u.jsx(gje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(yje,{className:"absolute h-full bg-primary"})}),u.jsx(vje,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Qc.displayName=S9.displayName;const NR="cueEmulator_tutorial_seen",Ke=14,cn=1600,wn=800,We=24,jR=.05,IR=.2,Jc=28,xje=(cn-We*2)/8,bje=(wn-We*2)/4,Be=Array.from({length:9},(t,e)=>We+e*xje),Ue=Array.from({length:5},(t,e)=>We+e*bje),jf=[{x:We,y:We,angle:Math.PI/4},{x:cn/2,y:We-2,angle:Math.PI/2},{x:cn-We,y:We,angle:3*Math.PI/4},{x:We,y:wn-We,angle:-Math.PI/4},{x:cn/2,y:wn-We+2,angle:-Math.PI/2},{x:cn-We,y:wn-We,angle:-3*Math.PI/4}],wje=Jc+Ke*.5,po={1:{name:"Solid",color:"#DC143C",solid:!0},2:{name:"Solid",color:"#DC143C",solid:!0},3:{name:"Solid",color:"#DC143C",solid:!0},4:{name:"Solid",color:"#DC143C",solid:!0},5:{name:"Solid",color:"#DC143C",solid:!0},6:{name:"Solid",color:"#DC143C",solid:!0},7:{name:"Solid",color:"#DC143C",solid:!0},8:{name:"Black",color:"#000000",solid:!0},9:{name:"Stripe",color:"#FDB515",solid:!1},10:{name:"Stripe",color:"#FDB515",solid:!1},11:{name:"Stripe",color:"#FDB515",solid:!1},12:{name:"Stripe",color:"#FDB515",solid:!1},13:{name:"Stripe",color:"#FDB515",solid:!1},14:{name:"Stripe",color:"#FDB515",solid:!1},15:{name:"Stripe",color:"#FDB515",solid:!1}},Sje={par2_01:{name:"Par 2 - Course 1",balls:[{x:Be[6],y:Ue[2]},{x:Be[1],y:Ue[3]}]},par2_02:{name:"Par 2 - Course 2",balls:[{x:Be[7],y:Ue[1]},{x:Be[1],y:Ue[2]}]},par2_03:{name:"Par 2 - Course 3",balls:[{x:Be[1],y:Ue[3]},{x:Be[7],y:Ue[3]}]},par3_01:{name:"Par 3 - Course 1",balls:[{x:Be[4],y:Ue[1]},{x:Be[1],y:Ue[3]},{x:Be[7],y:Ue[3]}]},par3_02:{name:"Par 3 - Course 2",balls:[{x:Be[2],y:Ue[2]},{x:Be[4],y:Ue[2]},{x:Be[2],y:Ue[3]}]},par3_03:{name:"Par 3 - Course 3",balls:[{x:Be[4],y:Ue[1]},{x:Be[4],y:Ue[2]},{x:Be[4],y:Ue[3]}]},par3_04:{name:"Par 3 - Course 4",balls:[{x:Be[7],y:Ue[1]},{x:Be[6],y:Ue[2]},{x:Be[5],y:Ue[2]}]},par4_01:{name:"Par 4 - Course 1",balls:[{x:Be[4],y:Ue[1]},{x:Be[3],y:Ue[2]},{x:Be[5],y:Ue[2]},{x:Be[4],y:Ue[3]}]},par4_02:{name:"Par 4 - Course 2",balls:[{x:Be[4],y:Ue[1]},{x:Be[3],y:Ue[2]},{x:Be[5],y:Ue[2]},{x:Be[4],y:Ue[3]}]},par4_03:{name:"Par 4 - Course 3",balls:[{x:Be[4],y:Ue[1]},{x:Be[3],y:Ue[2]},{x:Be[1],y:Ue[3]},{x:Be[7],y:Ue[3]}]},par4_04:{name:"Par 4 - Course 4",balls:[{x:Be[4],y:Ue[1]},{x:Be[6],y:Ue[2]},{x:Be[4],y:Ue[2]},{x:Be[2],y:Ue[2]}]},par4_05:{name:"Par 4 - Course 5",balls:[{x:Be[3],y:Ue[1]},{x:Be[4],y:Ue[2]},{x:Be[5],y:Ue[1]},{x:Be[4],y:Ue[1]}]},par5_01:{name:"Par 5 - Course 1",balls:[{x:Be[1],y:Ue[1]},{x:Be[7],y:Ue[1]},{x:Be[3],y:Ue[2]},{x:Be[5],y:Ue[2]},{x:Be[4],y:Ue[1]}]},par5_02:{name:"Par 5 - Course 2",balls:[{x:Be[4],y:Ue[1]},{x:Be[3],y:Ue[2]},{x:Be[4],y:Ue[2]},{x:Be[5],y:Ue[2]},{x:Be[4],y:Ue[3]}]},par5_03:{name:"Par 5 - Course 3",balls:[{x:Be[3],y:Ue[1]},{x:Be[5],y:Ue[1]},{x:Be[4],y:Ue[2]},{x:Be[3],y:Ue[3]},{x:Be[5],y:Ue[3]}]},par6_01:{name:"Par 6 - Course 1",balls:[{x:Be[1],y:Ue[1]},{x:Be[7],y:Ue[1]},{x:Be[1],y:Ue[2]},{x:Be[7],y:Ue[2]},{x:Be[1],y:Ue[3]},{x:Be[7],y:Ue[3]}]}};function _je(){const[,t]=vl(),{toast:e}=Id(),n=b.useRef(null),[r,i]=b.useState(null),[o,s]=b.useState([]),[a,l]=b.useState(null),[c,d]=b.useState(null),[f,h]=b.useState(!0),[m,y]=b.useState(!1),[g,v]=b.useState(null),[x,w]=b.useState(null),[S,C]=b.useState(null),[E,P]=b.useState(.5),[_,T]=b.useState(0),[N,k]=b.useState(0),[j,R]=b.useState(.5),[O,$]=b.useState(.5),[F,U]=b.useState("9ft"),[W,V]=b.useState(!1),[B,Z]=b.useState([]),[Q,ne]=b.useState(""),[_e,Pe]=b.useState(null),[Me,st]=b.useState(null),[be,Ne]=b.useState(null),[oe,me]=b.useState([null,null,null]),[ae,z]=b.useState(!1),we=b.useRef(null),[Ee,Qe]=b.useState(!1),[Je,nt]=b.useState(0),[Ve,le]=b.useState([]),[Ze,kt]=b.useState([]);b.useState(new Set);const yt=b.useRef(null),Ot=b.useRef(0),[yn,vn]=b.useState(!1),[Wn,Cr]=b.useState(!1);b.useEffect(()=>{const M=()=>{Cr(window.innerWidth>window.innerHeight)};return M(),window.addEventListener("resize",M),window.addEventListener("orientationchange",M),()=>{window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M)}},[]),b.useEffect(()=>(Tt.startSession("vectors"),()=>{Tt.endSession()}),[]);const nn=[{title:"Ball Placement",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Place balls on the table using the control buttons:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cue:"})," Place the white cue ball"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Solid:"})," Add red solid balls (up to 7)"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Stripe:"})," Add yellow stripe balls (up to 7)"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Reposition:"})," Click and drag any ball to move it"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Clear:"})," Remove all balls from the table"]})]}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Note:"})," Balls use simplified colors (red=solids, yellow=stripes) for clearer visualization."]})})]})},{title:"Aiming & Shooting",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Click and drag from the cue ball to aim your shot:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"White line:"})," Shows cue ball trajectory"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Ghost ball:"})," Dashed circle at contact point"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Colored lines:"})," Object ball trajectories after impact"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Red tangent:"})," Cue ball deflection after contact"]})]}),u.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Cut Angle & Ball Hit:"})," Displayed below the table showing the angle and hit fraction (Full, 3/4, 1/2, 1/4, Thin)."]})})]})},{title:"Power & English",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Adjust shot power and spin for realistic physics:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Power Slider:"})," 0-100% shot power"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"English Box:"})," Click to apply side spin and follow/draw"]})]}),u.jsxs("p",{className:"mt-3",children:["Click ",u.jsx("strong",{children:'"Simulate Shot"'})," to execute your shot with physics simulation including:"]}),u.jsxs("ul",{className:"space-y-1 mt-2",children:[u.jsx("li",{children:"Ball-to-ball collisions with spin transfer"}),u.jsx("li",{children:"Rail bounces with cushion effects"}),u.jsx("li",{children:"Pocket detection for pocketed balls"})]})]})},{title:"Table Conditions",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Customize the playing environment:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cloth Speed:"})," Affects ball friction (slow to fast felt)"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cushion Quality:"})," Affects rail bounce (dead to lively)"]})]}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Presets:"})," Save table conditions to 3 slots per table size. Long-press to save, tap to load."]})}),u.jsxs("p",{className:"mt-3",children:["Use ",u.jsx("strong",{children:"Practice Courses"})," to load preset ball configurations from Par 2 to Par 6 difficulty!"]})]})}];b.useEffect(()=>{localStorage.getItem(NR)||z(!0)},[]);const xn=()=>{localStorage.setItem(NR,"true"),z(!1)};b.useEffect(()=>{const M=localStorage.getItem(`cueEmulator_tablePresets_${F}`);if(M)try{const L=JSON.parse(M);Array.isArray(L)&&L.length===3?me(L):me([null,null,null])}catch(L){console.error("Failed to load table presets:",L),me([null,null,null])}else me([null,null,null])},[F]);const Kt=M=>{const L=[...oe];L[M]={clothSpeed:j,cushionQuality:O,name:`Slot ${M+1}`},me(L),localStorage.setItem(`cueEmulator_tablePresets_${F}`,JSON.stringify(L)),e({title:`Saved to Slot ${M+1} (${F})`,description:`Cloth: ${Math.round(j*100)}%, Cushion: ${Math.round(O*100)}%`})},pn=M=>{const L=oe[M];L?(R(L.clothSpeed),$(L.cushionQuality),e({title:`Loaded Slot ${M+1} (${F})`,description:`Cloth: ${Math.round(L.clothSpeed*100)}%, Cushion: ${Math.round(L.cushionQuality*100)}%`})):e({title:`Slot ${M+1} is empty`,description:"Long-press to save current settings"})},$t=M=>{we.current=setTimeout(()=>{Kt(M),we.current=null},600)},qe=M=>{we.current&&(clearTimeout(we.current),we.current=null,pn(M))},Gr=b.useCallback(()=>.85+.1*O,[O]),pr=b.useCallback(()=>{const M={"7ft":{lengthInches:78,widthInches:39,label:"7ft (Bar Box)"},"8ft":{lengthInches:88,widthInches:44,label:"8ft (Standard)"},"9ft":{lengthInches:100,widthInches:50,label:"9ft (Professional)"},"10ft":{lengthInches:112,widthInches:56,label:"10ft (Snooker)"}};return M[F]||M["9ft"]},[F]),er=b.useCallback(()=>{const{lengthInches:L}=pr();return L/100},[pr]),mr=b.useCallback(()=>{const M=.3-.15*j,G=1+(1-er())*.3;return M*G},[j,er]),rn=b.useCallback((M,L)=>{for(const G of jf){const X=M-G.x,J=L-G.y;if(Math.sqrt(X*X+J*J)<wje)return!0}return!1},[]),on=b.useCallback((M,L)=>{const G=We+Ke,X=cn-We-Ke,J=We+Ke,se=wn-We-Ke;let ve=Math.max(G,Math.min(X,M)),ge=Math.max(J,Math.min(se,L));if(rn(ve,ge)){let ee=ve,Se=ge,Te=1/0;for(const Oe of Be)for(const De of Ue)if(Oe>=G&&Oe<=X&&De>=J&&De<=se&&!rn(Oe,De)){const Vt=Math.sqrt((M-Oe)**2+(L-De)**2);Vt<Te&&(Te=Vt,ee=Oe,Se=De)}return{x:ee,y:Se}}return{x:ve,y:ge}},[rn]),tr=b.useCallback((M,L,G,X)=>{const J=Ke*2.1;if(r&&!X&&Math.sqrt((M-r.x)**2+(L-r.y)**2)<J)return!0;for(let se=0;se<o.length;se++){if(G!==void 0&&se===G)continue;const ve=o[se];if(Math.sqrt((M-ve.x)**2+(L-ve.y)**2)<J)return!0}return!1},[r,o]),Ln=b.useCallback((M,L,G,X)=>{const J=We+Ke,se=cn-We-Ke,ve=We+Ke,ge=wn-We-Ke;if(!f)return on(M,L);const ee=[];for(const Se of Be)for(const Te of Ue)if(Se>=J&&Se<=se&&Te>=ve&&Te<=ge&&!rn(Se,Te)){const Oe=Math.sqrt((M-Se)**2+(L-Te)**2);ee.push({x:Se,y:Te,dist:Oe})}ee.sort((Se,Te)=>Se.dist-Te.dist);for(const Se of ee)if(!tr(Se.x,Se.y,G,X))return{x:Se.x,y:Se.y};return ee.length>0?{x:ee[0].x,y:ee[0].y}:on(M,L)},[f,rn,on,tr]),Yt=b.useCallback(M=>{const L=o.map(G=>G.number).filter(G=>G!==void 0);if(M==="solid"){for(let G=1;G<=7;G++)if(!L.includes(G))return G}else for(let G=9;G<=15;G++)if(!L.includes(G))return G;return null},[o]),bn=b.useCallback((M,L)=>{for(const G of jf){const X=M-G.x,J=L-G.y;if(Math.sqrt(X*X+J*J)<Jc)return!0}return!1},[]),kn=(M,L)=>{const G=L.x-M.x,X=L.y-M.y;return Math.sqrt(G*G+X*X)},Ar=b.useCallback((M,L)=>{let G=null,X=1/0;for(const J of jf){const se=J.x-M.x,ve=J.y-M.y,ge=Math.sqrt(se*se+ve*ve);if(ge<Ke*2)continue;const ee=se/ge,Se=ve/ge,Te=M.x-ee*(Ke*2),Oe=M.y-Se*(Ke*2),De=Te-L.x,Vt=Oe-L.y,Bt=Math.sqrt(De*De+Vt*Vt);if(Bt<Ke*2)continue;const oi=De/Bt,Kr=Vt/Bt,Li=oi*ee+Kr*Se,jr=Math.acos(Math.max(-1,Math.min(1,Li)))*(180/Math.PI);jr<X&&(X=jr,G={pocket:J,angle:jr,ghostBall:{x:Te,y:Oe}})}return G},[]),Di=b.useCallback((M,L)=>{if(o.length===0)return null;const G=L.x-M.x,X=L.y-M.y,J=Math.sqrt(G*G+X*X);if(J<1)return null;const se=G/J,ve=X/J;let ge=null,ee=1/0;for(const Se of o){const Te=Se.x-M.x,Oe=Se.y-M.y,De=Math.sqrt(Te*Te+Oe*Oe),Vt=Te*se+Oe*ve;if(Vt<=0)continue;const Bt=Te-Vt*se,oi=Oe-Vt*ve;Math.sqrt(Bt*Bt+oi*oi)<Ke*3&&De<ee&&(ee=De,ge=Se)}return ge},[o]),$i=b.useCallback((M,L)=>{if(!m)return null;const G=Di(M,L);if(!G)return null;const X=Ar(G,M);return!X||X.angle<15?null:X.ghostBall},[m,Di,Ar]),ri=b.useCallback(M=>{const L=Gr(),G=We,X=cn-We,J=We,se=wn-We;let ve=!1;return M.x-Ke<G&&(M.x=G+Ke,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,ve=!0),M.x+Ke>X&&(M.x=X-Ke,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,ve=!0),M.y-Ke<J&&(M.y=J+Ke,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,ve=!0),M.y+Ke>se&&(M.y=se-Ke,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,ve=!0),ve},[Gr]),so=b.useCallback((M,L,G,X)=>{var mm,gm,ao;if(!r)return null;const J=G-M,se=X-L,ve=Math.sqrt(J*J+se*se);if(ve<10)return null;const ge=J/ve,ee=se/ve,Te=E*15,Oe={x:r.x,y:r.y,vx:ge*Te,vy:ee*Te,spinX:_,spinY:N},De=o.map(Ut=>({...Ut,vx:0,vy:0,spinX:0,spinY:0})),Vt=mr(),Bt=300,oi=[{x:Oe.x,y:Oe.y}],Kr=De.map(()=>[]);let Li=null,jr=null,of=null,sf=null,af=null;const Qt=[Oe,...De],zo=new Array(Qt.length).fill(!1),pa=Ut=>{for(const Pn of jf){const yi=Ut.x-Pn.x,lo=Ut.y-Pn.y;if(Math.sqrt(yi*yi+lo*lo)<Jc-Ke*.3)return!0}return!1},Q0=(Ut,Pn,yi)=>{const lo=Pn.x-Ut.x,vi=Pn.y-Ut.y,Ir=Math.sqrt(lo*lo+vi*vi);if(Ir>=Ke*2||Ir===0)return!1;const Jt=lo/Ir,gt=vi/Ir,He=-gt,co=Jt,kr=Ut.vx-Pn.vx,Or=Ut.vy-Pn.vy,si=kr*Jt+Or*gt,Oc=kr*He+Or*co;if(si<=0)return!1;const uo=Ut.spinX*.15*Math.abs(Oc)*.3;Ut.vx-=si*Jt,Ut.vy-=si*gt,Pn.vx+=si*Jt*.95,Pn.vy+=si*gt*.95,Pn.vx+=uo*He,Pn.vy+=uo*co;const ma=Math.sqrt(kr*kr+Or*Or);if(yi===0&&ma>.1){const Tl=kr/ma,ym=Or/ma,Mc=Ut.spinY*.4;Ut.spinY!==0&&(Ut.vx+=Tl*Mc*ma,Ut.vy+=ym*Mc*ma),Ut.spinY*=.3}Pn.spinX+=Ut.spinX*.2,Pn.spinY+=Ut.spinY*.2;const Rc=Ke*2-Ir;return Ut.x-=Rc/2*Jt,Ut.y-=Rc/2*gt,Pn.x+=Rc/2*Jt,Pn.y+=Rc/2*gt,!0};for(let Ut=0;Ut<Bt;Ut++){let Pn=!1,yi=0;for(let Jt=0;Jt<Qt.length;Jt++){if(zo[Jt])continue;const gt=Qt[Jt],He=Math.sqrt(gt.vx*gt.vx+gt.vy*gt.vy);He>yi&&(yi=He)}const lo=yi*jR*60,vi=Math.max(1,Math.ceil(lo/(Ke*.8))),Ir=jR/vi;for(let Jt=0;Jt<vi;Jt++){for(let gt=0;gt<Qt.length;gt++){if(zo[gt])continue;const He=Qt[gt],co=Math.sqrt(He.vx*He.vx+He.vy*He.vy);if(co>IR){Pn=!0;const kr=Vt*9.8;if(He.vx-=He.vx/co*kr*Ir,He.vy-=He.vy/co*kr*Ir,He.x+=He.vx*Ir*60,He.y+=He.vy*Ir*60,ri(He),pa(He)){if(gt>0){const Or=gt-1,si=((mm=o[Or])==null?void 0:mm.number)||1,Oc=((gm=po[si])==null?void 0:gm.color)||"#ffffff";Kr[Or].push({x:He.x,y:He.y,ballIndex:Or,color:Oc})}zo[gt]=!0,He.vx=0,He.vy=0}}else He.vx=0,He.vy=0}for(let gt=0;gt<Qt.length;gt++)if(!zo[gt])for(let He=gt+1;He<Qt.length;He++){if(zo[He])continue;if(Q0(Qt[gt],Qt[He],gt)&&gt===0&&!Li){Li={x:Qt[He].x,y:Qt[He].y},af={x:Qt[0].x,y:Qt[0].y};const kr=Qt[He].x-Qt[0].x,Or=Qt[He].y-Qt[0].y,si=Math.sqrt(kr*kr+Or*Or);si>0&&(jr={x:Qt[0].x+kr/si*Ke,y:Qt[0].y+Or/si*Ke}),of={x:Qt[He].vx,y:Qt[He].vy},sf={x:Qt[0].vx,y:Qt[0].vy}}}}zo[0]||oi.push({x:Oe.x,y:Oe.y});for(let Jt=0;Jt<De.length;Jt++){if(zo[Jt+1])continue;const gt=De[Jt];if(Math.sqrt(gt.vx*gt.vx+gt.vy*gt.vy)>IR*.5||Kr[Jt].length>0){const co=o[Jt].number||1,kr=((ao=po[co])==null?void 0:ao.color)||"#ffffff";Kr[Jt].push({x:gt.x,y:gt.y,ballIndex:Jt,color:kr})}}if(!Pn)break}return{path:oi,hitBall:Li,contactPoint:jr,objectBallDirection:of,cueBallDeflection:sf,cueBallPosAtContact:af,objectPaths:Kr.filter(Ut=>Ut.length>=1)}},[r,o,E,_,N,mr,ri]),Bo=(M,L)=>{const G=Math.sqrt(M.x*M.x+M.y*M.y),X=Math.sqrt(L.x*L.x+L.y*L.y);if(G===0||X===0)return{angle:0,fraction:1};const J={x:M.x/G,y:M.y/G},se={x:L.x/X,y:L.y/X},ve=J.x*se.x+J.y*se.y,ge=Math.max(-1,Math.min(1,ve)),ee=Math.acos(ge),Se=ee*(180/Math.PI),Te=Math.min(Se,90),Oe=Math.cos(ee);return{angle:Te,fraction:Math.max(0,Oe)}},Pr=M=>M>=.95?"Full":M>=.7?"3/4":M>=.45?"1/2":M>=.2?"1/4":"Thin",mi=b.useCallback(M=>{if(M.fillStyle="#4a2c1a",M.fillRect(0,0,cn,wn),M.fillStyle="#1a5f3f",M.fillRect(We,We,cn-We*2,wn-We*2),M.strokeStyle="#2d4a3a",M.lineWidth=1,M.strokeRect(We,We,cn-We*2,wn-We*2),f&&(a==="cue"||a==="solid"||a==="stripe"||a==="reposition")){M.strokeStyle="rgba(255, 255, 255, 0.12)",M.lineWidth=.5;const J=We,se=cn-We,ve=We,ge=wn-We;for(const ee of Be)ee>J&&ee<se&&(M.beginPath(),M.moveTo(ee,ve),M.lineTo(ee,ge),M.stroke());for(const ee of Ue)ee>ve&&ee<ge&&(M.beginPath(),M.moveTo(J,ee),M.lineTo(se,ee),M.stroke());M.fillStyle="rgba(255, 255, 255, 0.15)";for(const ee of Be)for(const Se of Ue)ee>J&&ee<se&&Se>ve&&Se<ge&&(rn(ee,Se)||(M.beginPath(),M.arc(ee,Se,2,0,Math.PI*2),M.fill()))}jf.forEach(J=>{const se=M.createRadialGradient(J.x,J.y,0,J.x,J.y,Jc);se.addColorStop(0,"#000000"),se.addColorStop(.7,"#1a1a1a"),se.addColorStop(1,"#333333"),M.fillStyle=se,M.beginPath(),M.arc(J.x,J.y,Jc,0,Math.PI*2),M.fill(),M.strokeStyle="#2a2a2a",M.lineWidth=2,M.beginPath(),M.arc(J.x,J.y,Jc-1,0,Math.PI*2),M.stroke()}),M.fillStyle="#ffffff";const L=3,G=(cn-We*2)/8,X=(wn-We*2)/4;for(let J=1;J<8;J++){if(J===4)continue;const se=We+J*G;M.beginPath(),M.moveTo(se,We-5),M.lineTo(se+L,We-2),M.lineTo(se,We+1),M.lineTo(se-L,We-2),M.closePath(),M.fill(),M.beginPath(),M.moveTo(se,wn-We+5),M.lineTo(se+L,wn-We+2),M.lineTo(se,wn-We-1),M.lineTo(se-L,wn-We+2),M.closePath(),M.fill()}for(let J=1;J<4;J++){const se=We+J*X;M.beginPath(),M.moveTo(We-5,se),M.lineTo(We-2,se+L),M.lineTo(We+1,se),M.lineTo(We-2,se-L),M.closePath(),M.fill(),M.beginPath(),M.moveTo(cn-We+5,se),M.lineTo(cn-We+2,se+L),M.lineTo(cn-We-1,se),M.lineTo(cn-We+2,se-L),M.closePath(),M.fill()}},[f,a]),Ts=(M,L,G)=>{const X=po[G];if(!X||!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,Ke,Ke*.8,0,0,Math.PI*2),M.fill();const J=M.createRadialGradient(L.x-Ke*.3,L.y-Ke*.3,0,L.x,L.y,Ke);J.addColorStop(0,"rgba(255, 255, 255, 0.7)"),J.addColorStop(.4,X.color),J.addColorStop(1,"rgba(0, 0, 0, 0.5)"),M.fillStyle=J,M.beginPath(),M.arc(L.x,L.y,Ke,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.5)",M.beginPath(),M.arc(L.x-Ke*.35,L.y-Ke*.35,Ke*.25,0,Math.PI*2),M.fill()},Nr=(M,L)=>{if(!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,Ke,Ke*.8,0,0,Math.PI*2),M.fill();const G=M.createRadialGradient(L.x-Ke*.3,L.y-Ke*.3,0,L.x,L.y,Ke);G.addColorStop(0,"rgba(255, 255, 255, 1)"),G.addColorStop(.5,"#ffffff"),G.addColorStop(1,"rgba(220, 220, 220, 0.8)"),M.fillStyle=G,M.beginPath(),M.arc(L.x,L.y,Ke,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.6)",M.beginPath(),M.arc(L.x-Ke*.4,L.y-Ke*.4,Ke*.3,0,Math.PI*2),M.fill()},gi=(M,L,G)=>{!isFinite(L)||!isFinite(G)||(M.strokeStyle="rgba(255, 255, 0, 0.9)",M.setLineDash([6,4]),M.lineWidth=4,M.beginPath(),M.arc(L,G,Ke,0,Math.PI*2),M.stroke(),M.setLineDash([]),M.fillStyle="rgba(255, 255, 0, 0.25)",M.beginPath(),M.arc(L,G,Ke,0,Math.PI*2),M.fill())},Cs=(M,L,G,X)=>{M.strokeStyle=X,M.lineWidth=1,M.setLineDash([6,4]),M.beginPath(),M.moveTo(We,G),M.lineTo(cn-We,G),M.stroke(),M.beginPath(),M.moveTo(L,We),M.lineTo(L,wn-We),M.stroke(),M.setLineDash([]),M.strokeStyle=X,M.lineWidth=2,M.beginPath(),M.arc(L,G,Ke+4,0,Math.PI*2),M.stroke()},ii=(M,L,G,X,J)=>{const se=X-L,ve=J-G,ge=Math.atan2(ve,se),ee=150,Se=Ke+5,Te=L-Math.cos(ge)*Se,Oe=G-Math.sin(ge)*Se,De=L-Math.cos(ge)*ee,Vt=G-Math.sin(ge)*ee,Bt=M.createLinearGradient(Te,Oe,De,Vt);Bt.addColorStop(0,"#D2691E"),Bt.addColorStop(.5,"#8B4513"),Bt.addColorStop(1,"#654321"),M.strokeStyle=Bt,M.lineWidth=4,M.lineCap="round",M.beginPath(),M.moveTo(Te,Oe),M.lineTo(De,Vt),M.stroke();const oi=L-Math.cos(ge)*(Se-3),Kr=G-Math.sin(ge)*(Se-3);M.fillStyle="#d11111",M.beginPath(),M.arc(oi,Kr,3,0,Math.PI*2),M.fill()},As=(M,L,G)=>{const X=Math.sqrt(G.x*G.x+G.y*G.y);if(X===0)return;const J=G.x/X,se=G.y/X,ve=100,ge=L.x+J*ve,ee=L.y+se*ve;M.strokeStyle="#00FFFF",M.lineWidth=4,M.setLineDash([8,6]),M.beginPath(),M.moveTo(L.x,L.y),M.lineTo(ge,ee),M.stroke(),M.setLineDash([]);const Se=10,Te=Math.atan2(se,J);M.fillStyle="#00FFFF",M.beginPath(),M.moveTo(ge,ee),M.lineTo(ge-Se*Math.cos(Te-Math.PI/6),ee-Se*Math.sin(Te-Math.PI/6)),M.lineTo(ge-Se*Math.cos(Te+Math.PI/6),ee-Se*Math.sin(Te+Math.PI/6)),M.closePath(),M.fill()},Uo=(M,L)=>{if(!(L.length<2)){M.strokeStyle="#FFFF00",M.lineWidth=4,M.beginPath(),M.moveTo(L[0].x,L[0].y);for(let G=1;G<L.length;G++)M.lineTo(L[G].x,L[G].y);M.stroke()}},q=b.useCallback(()=>{if(g&&x&&r){const M=$i(r,x);return M?{start:g,current:M}:{start:g,current:x}}if(S&&r){const M=S.angle*Math.PI/180,L=r.x+Math.cos(M)*S.distance,G=r.y+Math.sin(M)*S.distance;return{start:{x:r.x,y:r.y},current:{x:L,y:G}}}return null},[g,x,S,r,$i]),re=b.useCallback(()=>{const M=q();if(!M||!r)return 0;const L=M.current.x-r.x,G=M.current.y-r.y;let X=Math.atan2(G,L)*180/Math.PI;return X<0&&(X+=360),X},[q,r]),Ae=b.useCallback(()=>{const M=q();if(!M)return 100;const L=M.current.x-M.start.x,G=M.current.y-M.start.y;return Math.sqrt(L*L+G*G)},[q]),ke=b.useCallback((M,L)=>{C({angle:M,distance:L})},[]),ze=b.useCallback(()=>{if(g&&x&&r){const M=x.x-r.x,L=x.y-r.y;let G=Math.atan2(L,M)*180/Math.PI;G<0&&(G+=360);const X=Math.sqrt(M*M+L*L);C({angle:G,distance:X})}},[g,x,r]),at=b.useCallback(()=>{const M=q();if(!M||W||!r)return{angle:null,fraction:null};const L=so(r.x,r.y,M.current.x,M.current.y);if(!L||!L.hitBall||!L.cueBallPosAtContact)return{angle:null,fraction:null};const G={x:M.current.x-r.x,y:M.current.y-r.y},X={x:L.hitBall.x-L.cueBallPosAtContact.x,y:L.hitBall.y-L.cueBallPosAtContact.y},J=Bo(G,X);return{angle:J.angle,fraction:Pr(J.fraction)}},[q,W,r,so]);b.useEffect(()=>{const M=at();st(M.angle),Ne(M.fraction)},[at]);const It=b.useCallback(()=>{const M=n.current;if(!M)return;const L=M.getContext("2d");if(!L)return;if(L.clearRect(0,0,cn,wn),mi(L),Ee&&Ve.length>0){const X=Ve[Je];if(X.objectBalls.forEach((J,se)=>{if(!J.pocketed){const ve=Ze[se];if(ve!==void 0){const ge={x:J.x,y:J.y,vx:0,vy:0,spinX:0,spinY:0,number:ve};Ts(L,ge,ve)}}}),X.cueBall){const J={x:X.cueBall.x,y:X.cueBall.y,vx:0,vy:0,spinX:0,spinY:0};Nr(L,J)}return}if(W&&B.length>0&&!Ee){const X=B.filter(J=>J.cueBall).map(J=>J.cueBall);X.length>0&&(L.strokeStyle="#FFFF00",L.lineWidth=4,L.beginPath(),L.moveTo(X[0].x,X[0].y),X.forEach(J=>L.lineTo(J.x,J.y)),L.stroke()),Ze.forEach((J,se)=>{if(J===void 0)return;const ve=B.map(ge=>ge.objectBalls[se]).filter(ge=>ge&&!ge.pocketed);if(ve.length>0){const ge=po[J];L.strokeStyle=ge.color,L.lineWidth=4,L.beginPath(),L.moveTo(ve[0].x,ve[0].y),ve.forEach(ee=>L.lineTo(ee.x,ee.y)),L.stroke()}})}const G=q();if(G&&!W&&r){ii(L,r.x,r.y,G.current.x,G.current.y);const X=so(r.x,r.y,G.current.x,G.current.y);X&&(Uo(L,X.path),X.objectPaths&&X.objectPaths.length>0&&X.objectPaths.forEach(J=>{if(J.length>=2){const se=J[0].color;L.strokeStyle=se,L.lineWidth=4,L.setLineDash([6,4]),L.beginPath(),L.moveTo(J[0].x,J[0].y);for(let Oe=1;Oe<J.length;Oe++)L.lineTo(J[Oe].x,J[Oe].y);L.stroke(),L.setLineDash([]);const ve=J[J.length-1],ge=J[Math.max(0,J.length-5)],ee=ve.x-ge.x,Se=ve.y-ge.y;if(Math.sqrt(ee*ee+Se*Se)>5){const Oe=Math.atan2(Se,ee),De=10;L.fillStyle=se,L.beginPath(),L.moveTo(ve.x,ve.y),L.lineTo(ve.x-De*Math.cos(Oe-Math.PI/6),ve.y-De*Math.sin(Oe-Math.PI/6)),L.lineTo(ve.x-De*Math.cos(Oe+Math.PI/6),ve.y-De*Math.sin(Oe+Math.PI/6)),L.closePath(),L.fill()}}}),X.hitBall&&X.cueBallPosAtContact&&X.cueBallDeflection&&(gi(L,X.cueBallPosAtContact.x,X.cueBallPosAtContact.y),As(L,X.cueBallPosAtContact,X.cueBallDeflection)))}o.forEach((X,J)=>{if(X.number&&Ts(L,X,X.number),c&&c.type==="object"&&c.index===J){const se=po[X.number||1];Cs(L,X.x,X.y,se.color)}}),r&&(Nr(L,r),c&&c.type==="cue"&&Cs(L,r.x,r.y,"rgba(255, 255, 255, 0.8)"))},[r,o,g,x,S,W,B,so,mi,q,c,Ee,Je,Ve,Ze,yn]);b.useEffect(()=>{It()},[It]),b.useEffect(()=>{if(yn){const M=setTimeout(()=>It(),50);return()=>clearTimeout(M)}},[yn,It]);const On=M=>{var Te,Oe;const L=n.current;if(!L)return;const G=L.getBoundingClientRect(),X=cn/G.width,J=wn/G.height,se=(M.clientX-G.left)*X,ve=(M.clientY-G.top)*J,ge=a==="cue",{x:ee,y:Se}=Ln(se,ve,void 0,ge);if(a==="cue"){if(bn(ee,Se)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ee,y:Se,vx:0,vy:0,spinX:0,spinY:0}),l(null),e({title:"Cue ball placed"})}else if(a==="solid"||a==="stripe"){if(bn(ee,Se)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const De=Yt(a);if(De!==null){s(Bt=>[...Bt,{x:ee,y:Se,vx:0,vy:0,spinX:0,spinY:0,number:De}]);const Vt=po[De];e({title:`${Vt.name} (${De}) placed`})}else e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&kn({x:se,y:ve},r)<Ke*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let De=0;De<o.length;De++)if(kn({x:se,y:ve},o[De])<Ke*2){d({type:"object",index:De});const Bt=o[De].number;e({title:`Drag to reposition ${Bt?(Te=po[Bt])==null?void 0:Te.name:"ball"}`});return}e({title:"Click on a ball to reposition it"})}else if(a==="remove"){if(r&&kn({x:se,y:ve},r)<Ke*2){i(null),e({title:"Cue ball removed"});return}for(let De=0;De<o.length;De++)if(kn({x:se,y:ve},o[De])<Ke*2){const Bt=o[De].number,oi=Bt?(Oe=po[Bt])==null?void 0:Oe.name:"ball";s(Kr=>Kr.filter((Li,jr)=>jr!==De)),e({title:`${oi} removed`});return}e({title:"Click on a ball to remove it"})}else r&&!W&&(v({x:r.x,y:r.y}),w({x:se,y:ve}))},K=M=>{const L=n.current;if(!L)return;const G=L.getBoundingClientRect(),X=cn/G.width,J=wn/G.height,se=(M.clientX-G.left)*X,ve=(M.clientY-G.top)*J;if(c){const ge=c.type==="cue",ee=c.type==="object"?c.index:void 0,{x:Se,y:Te}=Ln(se,ve,ee,ge);bn(Se,Te)||(c.type==="cue"&&r?i({...r,x:Se,y:Te}):c.type==="object"&&c.index!==void 0&&s(Oe=>Oe.map((De,Vt)=>Vt===c.index?{...De,x:Se,y:Te}:De)))}else g&&!W&&w({x:se,y:ve})},ce=()=>{c&&(d(null),e({title:"Ball repositioned"})),g&&x&&ze(),v(null),w(null)},fe=b.useCallback((M,L)=>{const G=n.current;if(!G)return null;const X=G.getBoundingClientRect(),J=cn/X.width,se=wn/X.height,ve=(M-X.left)*J,ge=(L-X.top)*se;return{rawX:ve,rawY:ge}},[]),de=b.useCallback(M=>{var ee,Se;if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],G=fe(L.clientX,L.clientY);if(!G)return;const{rawX:X,rawY:J}=G,se=a==="cue",{x:ve,y:ge}=Ln(X,J,void 0,se);if(a==="cue"){if(bn(ve,ge)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ve,y:ge,vx:0,vy:0,spinX:0,spinY:0}),l(null),e({title:"Cue ball placed"})}else if(a==="solid"||a==="stripe"){if(bn(ve,ge)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const Te=Yt(a);if(Te!==null){s(De=>[...De,{x:ve,y:ge,vx:0,vy:0,spinX:0,spinY:0,number:Te}]);const Oe=po[Te];e({title:`${Oe.name} (${Te}) placed`})}else e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&kn({x:X,y:J},r)<Ke*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let Te=0;Te<o.length;Te++)if(kn({x:X,y:J},o[Te])<Ke*2){d({type:"object",index:Te});const De=o[Te].number;e({title:`Drag to reposition ${De?(ee=po[De])==null?void 0:ee.name:"ball"}`});return}e({title:"Tap on a ball to reposition it"})}else if(a==="remove"){if(r&&kn({x:X,y:J},r)<Ke*2){i(null),e({title:"Cue ball removed"});return}for(let Te=0;Te<o.length;Te++)if(kn({x:X,y:J},o[Te])<Ke*2){const De=o[Te].number,Vt=De?(Se=po[De])==null?void 0:Se.name:"ball";s(Bt=>Bt.filter((oi,Kr)=>Kr!==Te)),e({title:`${Vt} removed`});return}e({title:"Tap on a ball to remove it"})}else r&&!W&&(v({x:r.x,y:r.y}),w({x:X,y:J}))},[r,o,a,W,fe,Ln,Yt,e]),Ie=b.useCallback(M=>{if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],G=fe(L.clientX,L.clientY);if(!G)return;const{rawX:X,rawY:J}=G;if(c){const se=c.type==="cue",ve=c.type==="object"?c.index:void 0,{x:ge,y:ee}=Ln(X,J,ve,se);bn(ge,ee)||(c.type==="cue"&&r?i({...r,x:ge,y:ee}):c.type==="object"&&c.index!==void 0&&s(Se=>Se.map((Te,Oe)=>Oe===c.index?{...Te,x:ge,y:ee}:Te)))}else g&&!W&&w({x:X,y:J})},[r,c,g,W,fe,Ln]),rt=b.useCallback(M=>{M.preventDefault(),c&&(d(null),e({title:"Ball repositioned"})),g&&x&&ze(),v(null),w(null)},[c,g,x,ze,e]);b.useEffect(()=>{const M=n.current;if(M)return M.addEventListener("touchstart",de,{passive:!1}),M.addEventListener("touchmove",Ie,{passive:!1}),M.addEventListener("touchend",rt,{passive:!1}),M.addEventListener("touchcancel",rt,{passive:!1}),()=>{M.removeEventListener("touchstart",de),M.removeEventListener("touchmove",Ie),M.removeEventListener("touchend",rt),M.removeEventListener("touchcancel",rt)}},[de,Ie,rt]);const bt=()=>{if(!Q){e({title:"Please select a course first",variant:"destructive"});return}const M=Sje[Q];if(!M)return;const G=(J=>{const se=[...J];for(let ve=se.length-1;ve>0;ve--){const ge=Math.floor(Math.random()*(ve+1));[se[ve],se[ge]]=[se[ge],se[ve]]}return se})(Array.from({length:15},(J,se)=>se+1)),X=M.balls.map((J,se)=>({x:J.x,y:J.y,vx:0,vy:0,spinX:0,spinY:0,number:G[se]}));s(X),i({x:Be[2],y:Ue[2],vx:0,vy:0,spinX:0,spinY:0}),C(null),V(!1),Z([]),Pe(M.name),e({title:`Loaded: ${M.name}`})},sn=()=>{i(null),s([]),V(!1),Z([]),Pe(null),ne(""),e({title:"Table cleared"})};b.useCallback(()=>{yt.current&&(cancelAnimationFrame(yt.current),yt.current=null),Qe(!1)},[]),b.useEffect(()=>{if(!Ee||Ve.length===0)return;const M=2,L=16,G=X=>{Ot.current===0&&(Ot.current=X);const J=X-Ot.current;if(J>=L){const se=Math.floor(J/L)*M,ve=Math.min(Je+se,Ve.length-1);if(nt(ve),Ot.current=X,ve>=Ve.length-1){const ge=Ve[Ve.length-1];ge.cueBall?i(ee=>ee?{...ee,x:ge.cueBall.x,y:ge.cueBall.y,vx:0,vy:0}:null):i(null),s(ee=>ee.map((Se,Te)=>{const Oe=ge.objectBalls[Te];return!Oe||Oe.pocketed?null:{...Se,x:Oe.x,y:Oe.y,vx:0,vy:0}}).filter(Se=>Se!==null)),Qe(!1),C(null);return}}yt.current=requestAnimationFrame(G)};return yt.current=requestAnimationFrame(G),()=>{yt.current&&cancelAnimationFrame(yt.current)}},[Ee,Je,Ve]);const Xt=M=>{const L=M.currentTarget.getBoundingClientRect(),G=M.clientX-L.left,X=M.clientY-L.top,J=G/100*2-1,se=-(X/100*2-1);T(J),k(se)},Wt=(r?1:0)+o.length,nr=Gr().toFixed(3),rr=mr().toFixed(3);return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(l9,{open:ae,onComplete:xn,pages:nn,toolName:"Advanced Cueing Emulator"}),yn&&u.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col","data-testid":"fullscreen-overlay",children:[u.jsxs("div",{className:"flex items-center justify-between p-2",children:[u.jsx("span",{className:"text-white text-sm font-semibold",children:"Landscape Mode"}),u.jsx(ue,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>vn(!1),"data-testid":"button-close-fullscreen",children:u.jsx(Hp,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"flex-1 flex items-center justify-center w-full px-2 overflow-hidden",children:u.jsx("canvas",{ref:n,width:cn,height:wn,className:"rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:"100%",maxHeight:Wn?"70vh":"50vh",objectFit:"contain",touchAction:"none"},onMouseDown:On,onMouseMove:K,onMouseUp:ce,onMouseLeave:ce,"data-testid":"canvas-fullscreen-table"})}),u.jsxs("div",{className:"w-full px-4 pb-4 space-y-2","data-testid":"fullscreen-controls",children:[u.jsxs("div",{className:"flex items-center justify-between text-white",children:[u.jsx("span",{className:"text-sm font-semibold",children:"Fine-Tune Angle"}),u.jsxs("span",{className:"text-sm font-mono text-primary",children:[((S==null?void 0:S.angle)??re()).toFixed(2),""]})]}),u.jsx(Qc,{value:[(S==null?void 0:S.angle)??re()],onValueChange:([M])=>ke(M,(S==null?void 0:S.distance)??Ae()),min:0,max:360,step:.01,className:"w-full","data-testid":"slider-fullscreen-angle"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ue,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>ke(((S==null?void 0:S.angle)??re())-.01,(S==null?void 0:S.distance)??Ae()),"data-testid":"button-fullscreen-left",children:" 0.01"}),u.jsx(ue,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>ke(((S==null?void 0:S.angle)??re())+.01,(S==null?void 0:S.distance)??Ae()),"data-testid":"button-fullscreen-right",children:"0.01 "})]}),(Me!==null||be!==null)&&u.jsx("div",{className:"p-2 rounded-md bg-primary/20 border border-primary/40",children:u.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[u.jsxs("span",{className:"font-semibold",children:["Cut Angle: ",u.jsxs("span",{className:"font-mono",children:[(Me==null?void 0:Me.toFixed(1))??"--",""]})]}),u.jsxs("span",{className:"font-semibold",children:["Ball Hit: ",u.jsx("span",{className:"font-mono",children:be??"--"})]})]})})]})]}),u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Advanced Cueing Emulator"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics simulation with spin effects"})]}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>vn(!0),"data-testid":"button-fullscreen",title:"Fullscreen Table View",children:u.jsx(lH,{className:"w-5 h-5"})}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>z(!0),"data-testid":"button-tutorial",children:u.jsx(Tx,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[u.jsx("div",{className:"flex-1",children:u.jsxs(et,{className:"p-4",children:[!yn&&u.jsx("canvas",{ref:n,width:cn,height:wn,className:"w-full rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:cn,touchAction:"none"},onMouseDown:On,onMouseMove:K,onMouseUp:ce,onMouseLeave:ce,"data-testid":"canvas-billiard-table"}),(Me!==null||be!==null)&&u.jsx("div",{className:"mt-4 p-3 rounded-md bg-primary/10 border border-primary/30","data-testid":"container-cut-info",children:u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-cut-angle",children:["Cut Angle: ",u.jsxs("span",{className:"font-mono",children:[(Me==null?void 0:Me.toFixed(1))??"--",""]})]}),u.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-ball-hit",children:["Ball Hit: ",u.jsx("span",{className:"font-mono",children:be??"--"})]})]})})]})}),u.jsx("div",{className:"w-full lg:w-80",children:u.jsx(et,{className:"p-2",children:u.jsxs(Zy,{type:"multiple",className:"w-full",children:[u.jsxs(Zo,{value:"practice-courses",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-practice-courses",children:"Practice Courses"}),u.jsx(ts,{className:"px-2 space-y-3",children:u.jsx(tv,{isLocked:!0,featureName:"Practice Courses",variant:"overlay",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs(NF,{value:Q,onValueChange:ne,children:[u.jsx(yC,{"data-testid":"select-course",children:u.jsx(jF,{placeholder:"-- Select a Course --"})}),u.jsxs(vC,{children:[u.jsx(or,{value:"par2_01",children:"Par 2 - Course 1"}),u.jsx(or,{value:"par2_02",children:"Par 2 - Course 2"}),u.jsx(or,{value:"par2_03",children:"Par 2 - Course 3"}),u.jsx(or,{value:"par3_01",children:"Par 3 - Course 1"}),u.jsx(or,{value:"par3_02",children:"Par 3 - Course 2"}),u.jsx(or,{value:"par3_03",children:"Par 3 - Course 3"}),u.jsx(or,{value:"par3_04",children:"Par 3 - Course 4"}),u.jsx(or,{value:"par4_01",children:"Par 4 - Course 1"}),u.jsx(or,{value:"par4_02",children:"Par 4 - Course 2"}),u.jsx(or,{value:"par4_03",children:"Par 4 - Course 3"}),u.jsx(or,{value:"par4_04",children:"Par 4 - Course 4"}),u.jsx(or,{value:"par4_05",children:"Par 4 - Course 5"}),u.jsx(or,{value:"par5_01",children:"Par 5 - Course 1"}),u.jsx(or,{value:"par5_02",children:"Par 5 - Course 2"}),u.jsx(or,{value:"par5_03",children:"Par 5 - Course 3"}),u.jsx(or,{value:"par6_01",children:"Par 6 - Course 1"})]})]}),u.jsx(ue,{className:"w-full",onClick:bt,"data-testid":"button-load-course",children:"Load Course"}),_e&&u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Current: ",u.jsx("span",{className:"text-primary font-semibold",children:_e})]})]})})})]}),u.jsxs(Zo,{value:"ball-placement",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-ball-placement",children:"Ball Placement"}),u.jsxs(ts,{className:"px-2 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(iH,{className:"w-3 h-3 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Snap to Grid"}),u.jsx(Pi,{checked:f,onCheckedChange:h,"data-testid":"switch-snap-grid"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ue,{variant:a==="cue"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="cue"?null:"cue"),"data-testid":"button-place-cue",children:[u.jsx(nH,{className:"w-4 h-4 mr-1"}),"Cue"]}),u.jsxs(ue,{variant:a==="solid"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="solid"?null:"solid"),"data-testid":"button-add-solid",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-1"}),"Solid"]}),u.jsxs(ue,{variant:a==="stripe"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="stripe"?null:"stripe"),"data-testid":"button-add-stripe",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-white border border-yellow-500 mr-1"}),"Stripe"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ue,{variant:a==="reposition"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="reposition"?null:"reposition"),"data-testid":"button-reposition",children:[u.jsx(pH,{className:"w-4 h-4 mr-1"}),"Move"]}),u.jsxs(ue,{variant:a==="remove"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="remove"?null:"remove"),"data-testid":"button-remove",children:[u.jsx(fH,{className:"w-4 h-4 mr-1"}),"Remove"]}),u.jsxs(ue,{variant:"secondary",className:"flex-1",onClick:sn,"data-testid":"button-clear",children:[u.jsx(Ey,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground font-mono","data-testid":"text-ball-count",children:["Balls on table: ",Wt]})]})]}),u.jsxs(Zo,{value:"power-aim",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-power-aim",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Mh,{className:"w-4 h-4"}),"Power & Aim"]})}),u.jsxs(ts,{className:"px-2 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Power"}),u.jsxs("span",{className:"text-base font-mono font-semibold text-primary","data-testid":"text-power-value",children:[Math.round(E*100),"%"]})]}),u.jsx(Qc,{value:[E*100],onValueChange:([M])=>P(M/100),max:100,step:1,className:"w-full","data-testid":"slider-speed"})]}),u.jsxs("div",{className:"border-t border-border pt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Angle"}),S?u.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>C(null),className:"h-6 px-2 text-xs","data-testid":"button-unlock-aim",children:[u.jsx(sH,{className:"w-3 h-3 mr-1"}),"Clear"]}):u.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag to aim"})]}),S||g&&x?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-aim-angle",children:[((S==null?void 0:S.angle)??re()).toFixed(2),""]})}),u.jsx(Qc,{value:[(S==null?void 0:S.angle)??re()],onValueChange:([M])=>ke(M,(S==null?void 0:S.distance)??Ae()),min:0,max:360,step:.1,className:"w-full","data-testid":"slider-aim-angle"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"0"}),u.jsx("span",{children:"90"}),u.jsx("span",{children:"180"}),u.jsx("span",{children:"270"}),u.jsx("span",{children:"360"})]})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx(ue,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>ke(((S==null?void 0:S.angle)??re())-.1,(S==null?void 0:S.distance)??Ae()),"data-testid":"button-aim-left",children:" 0.10"}),u.jsx(ue,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>ke(((S==null?void 0:S.angle)??re())+.1,(S==null?void 0:S.distance)??Ae()),"data-testid":"button-aim-right",children:"0.10 "})]})]}):u.jsxs("div",{className:"text-center py-3 text-muted-foreground text-sm",children:[u.jsx(O1,{className:"w-6 h-6 mx-auto mb-1 opacity-30"}),u.jsx("p",{className:"text-xs",children:"Drag on table to set aim direction"})]})]})]})]}),u.jsxs(Zo,{value:"english-spin",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-english-spin",children:"English (Spin)"}),u.jsxs(ts,{className:"px-2 space-y-3",children:[u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"relative w-[100px] h-[100px] bg-gradient-to-br from-background to-muted border-2 border-border rounded-md cursor-crosshair",onClick:Xt,"data-testid":"box-spin",children:[u.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-border -translate-x-1/2"}),u.jsx("div",{className:"absolute top-1/2 left-0 h-px w-full bg-border -translate-y-1/2"}),u.jsx("div",{className:"absolute w-3 h-3 bg-primary border-2 border-white rounded-full shadow-lg pointer-events-none",style:{left:`${(_+1)/2*100}%`,top:`${(1-N)/2*100}%`,transform:"translate(-50%, -50%)"}})]}),u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Top/Follow"}),u.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Bottom/Draw"}),u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-10 text-xs text-muted-foreground",children:"Left"}),u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-10 text-xs text-muted-foreground",children:"Right"})]})}),u.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground mt-6","data-testid":"text-spin-values",children:[u.jsxs("span",{children:["x: ",_.toFixed(2)]}),u.jsxs("span",{children:["y: ",N.toFixed(2)]})]})]})]}),u.jsxs(Zo,{value:"environment",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-environment",children:"Environment Settings"}),u.jsxs(ts,{className:"px-2 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Table Size"}),u.jsx("span",{className:"text-sm font-mono text-primary","data-testid":"text-table-size",children:pr().label})]}),u.jsx("div",{className:"flex gap-1",children:["7ft","8ft","9ft","10ft"].map(M=>u.jsx(ue,{variant:F===M?"default":"secondary",size:"sm",className:"flex-1 text-xs",onClick:()=>U(M),"data-testid":`button-table-${M}`,children:M},M))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cloth Speed"}),u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cloth-value",children:[Math.round(j*100),"%"]})]}),u.jsx(Qc,{value:[j*100],onValueChange:([M])=>R(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cloth"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Slow"}),u.jsx("span",{children:"Fast"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cushion Quality"}),u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cushion-value",children:[Math.round(O*100),"%"]})]}),u.jsx(Qc,{value:[O*100],onValueChange:([M])=>$(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cushion"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Dead"}),u.jsx("span",{children:"Lively"})]})]}),u.jsxs("div",{className:"pt-2 border-t border-border",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[u.jsx(gH,{className:"w-3 h-3"}),"Table Presets"]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load, hold to save"})]}),u.jsx("div",{className:"flex gap-2",children:[0,1,2].map(M=>{const L=oe[M];return u.jsx("button",{className:`flex-1 py-2 px-3 rounded-md border text-xs font-mono transition-all select-none ${L?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-muted/30 border-border text-muted-foreground hover:bg-muted/50"}`,onMouseDown:()=>$t(M),onMouseUp:()=>qe(M),onMouseLeave:()=>{we.current&&(clearTimeout(we.current),we.current=null)},onTouchStart:()=>$t(M),onTouchEnd:()=>qe(M),"data-testid":`button-preset-${M+1}`,children:L?u.jsxs("span",{children:[Math.round(L.clothSpeed*100),"/",Math.round(L.cushionQuality*100)]}):u.jsx("span",{children:"--"})},M)})})]})]})]}),u.jsxs(Zo,{value:"physics",className:"border-b-0",children:[u.jsx(es,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-physics",children:"Physics Coefficients"}),u.jsx(ts,{className:"px-2",children:u.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border border-border space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[u.jsx("span",{className:"text-muted-foreground",children:"Restitution (e):"}),u.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-e",children:nr})]}),u.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[u.jsx("span",{className:"text-muted-foreground",children:"Friction (c):"}),u.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-mu",children:rr})]})]})})]})]})})})]})})})]})}function Eje(){const[,t]=vl(),[e,n]=b.useState(null);b.useEffect(()=>{n(Tt.getAggregatedStats())},[]);const r=s=>{const a=Math.floor(s/1e3),l=Math.floor(a/3600),c=Math.floor(a%3600/60),d=a%60;return l>0?`${l}h ${c}m`:c>0?`${c}m ${d}s`:`${d}s`},i=s=>s?new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",o=e&&(e.totalSessions>0||Tt.hasAnyConsent());return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold",children:"Your Insights"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal performance analytics"})]})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!Tt.hasAnyConsent()&&u.jsx(et,{className:"p-4 bg-primary/5 border-primary/20",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(lc,{className:"w-5 h-5 text-primary mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-sm",children:"Analytics Disabled"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable analytics in Settings to track your performance and see insights here."}),u.jsx(ue,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/"),"data-testid":"button-go-settings",children:"Go to Settings"})]})]})}),e&&u.jsxs(u.Fragment,{children:[u.jsx(et,{className:"p-5 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:u.jsx(nT,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(La,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Total Time Played"})]}),u.jsx("div",{className:"flex items-baseline gap-1","data-testid":"text-total-time-played",children:(()=>{const s=Math.floor(e.totalTimeMs/1e3),a=Math.floor(s/3600),l=Math.floor(s%3600/60),c=s%60;return u.jsxs(u.Fragment,{children:[a>0&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-3xl font-bold text-foreground",children:a}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"h"})]}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:l}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"m"}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:c}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"s"})]})})()})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs(et,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(_y,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Sessions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:e.totalSessions})]}),u.jsxs(et,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(Oh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Time Per Session"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-avg-session-time",children:e.totalSessions>0?r(e.totalTimeMs/e.totalSessions):"0s"})]})]}),e.lastActive>0&&u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Last active: ",i(e.lastActive)]}),u.jsxs(et,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(M1,{className:"w-4 h-4 text-primary"}),"Module Usage"]}),u.jsx("div",{className:"space-y-3",children:Object.entries(e.moduleUsage).length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No module usage recorded yet. Start using the tools!"}):Object.entries(e.moduleUsage).map(([s,a])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"text-sm font-medium capitalize",children:s})}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"text-sm font-mono",children:[a.sessions," sessions"]}),u.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",r(a.timeMs),")"]})]})]},s))})]})]}),!o&&Tt.hasAnyConsent()&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),u.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Start using CueMaster tools to see your insights here."})]})]})})]})}function Tje(){const[,t]=vl(),[e,n]=b.useState(""),[r,i]=b.useState(!1),[o,s]=b.useState(!1),[a,l]=b.useState(null),[c,d]=b.useState(null),f=async()=>{if(e){s(!0),l(null);try{const m=await fetch(`/api/analytics/admin?secret=${encodeURIComponent(e)}`);if(m.status===401){l("Invalid admin secret"),i(!1);return}if(!m.ok)throw new Error("Failed to fetch analytics");const y=await m.json();d(y),i(!0),localStorage.setItem("admin_secret",e)}catch(m){l(m instanceof Error?m.message:"Unknown error")}finally{s(!1)}}};b.useEffect(()=>{const m=localStorage.getItem("admin_secret");m&&n(m)},[]),b.useEffect(()=>{e&&!r&&!o&&localStorage.getItem("admin_secret")===e&&f()},[e]);const h=m=>{m.preventDefault(),f()};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[u.jsx(Rh,{className:"w-5 h-5 text-primary"}),"Admin Analytics"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate user statistics"})]}),r&&u.jsx(ue,{variant:"outline",size:"icon",onClick:f,disabled:o,"data-testid":"button-refresh",children:u.jsx(mH,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[!r&&u.jsxs(et,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Rh,{className:"w-6 h-6 text-primary"}),u.jsx("h2",{className:"text-lg font-semibold",children:"Admin Authentication"})]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsx("div",{children:u.jsx(cr,{type:"password",placeholder:"Enter admin secret",value:e,onChange:m=>n(m.target.value),"data-testid":"input-admin-secret"})}),a&&u.jsx("p",{className:"text-sm text-destructive",children:a}),u.jsx(ue,{type:"submit",className:"w-full",disabled:o||!e,"data-testid":"button-authenticate",children:o?"Authenticating...":"Access Dashboard"})]})]}),r&&c&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs(et,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(Fl,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Users"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-unique-users",children:c.uniqueUsers})]}),u.jsxs(et,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(lc,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Submissions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-submissions",children:c.totalSubmissions})]}),u.jsxs(et,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(_y,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Sessions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:c.aggregateStats.totalSessions})]}),u.jsxs(et,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(Oh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Hours"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:c.aggregateStats.totalTimeHours})]})]}),u.jsxs(et,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(Mh,{className:"w-4 h-4 text-primary"}),"Tempo Aggregates"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsxs("p",{className:"text-lg font-bold",children:[c.aggregateStats.avgShotTime,"s"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot Time"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalShots}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots Timed"})]})]})]}),u.jsxs(et,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(J$,{className:"w-4 h-4 text-primary"}),"Velocity Aggregates"]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.avgBreakSpeed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.maxBreakSpeed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalBreaks}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),u.jsxs(et,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(_y,{className:"w-4 h-4 text-primary"}),"Other Stats"]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalCalibrations}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"TrueLevel Calibrations"})]})]}),c.recentSubmissions.length>0&&u.jsxs(et,{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Recent Submissions"}),u.jsx("div",{className:"space-y-2",children:c.recentSubmissions.map((m,y)=>u.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[u.jsx("span",{className:"font-mono text-muted-foreground",children:m.anonymousId}),u.jsxs("span",{children:[m.sessions," sessions"]}),u.jsxs("span",{className:"text-muted-foreground",children:[m.timeMin," min"]})]},y))})]}),c.totalSubmissions===0&&u.jsxs(et,{className:"p-6 text-center",children:[u.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),u.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics will appear here when users with benchmarking consent submit their data."})]})]})]})})]})}const Cje=.0254,Aje=.02,Pje=.005;function Nje(){const[,t]=vl(),[e,n]=b.useState(!1),[r,i]=b.useState("Click Start to begin"),[o,s]=b.useState(0),[a,l]=b.useState(.05),[c,d]=b.useState(.22),[f,h]=b.useState(0),[m,y]=b.useState(null),[g,v]=b.useState(null),[x,w]=b.useState(null),[S,C]=b.useState(null),[E,P]=b.useState(null),[_,T]=b.useState([]),[N,k]=b.useState(0),[j,R]=b.useState(60),[O,$]=b.useState(.22),[F,U]=b.useState(2.8),[W,V]=b.useState(.06),[B,Z]=b.useState(.01),[Q,ne]=b.useState(.25),[_e,Pe]=b.useState(300),[Me,st]=b.useState(6e3),be=b.useRef(null),Ne=b.useRef(null),oe=b.useRef(!1),me=b.useRef(.05),ae=b.useRef(0),z=b.useRef(null),we=b.useCallback(le=>{T(Ze=>[le,...Ze].slice(0,100))},[]),Ee=async()=>{i("Requesting microphone..."),T([]),h(0),y(null),v(null),w(null),P(null),C(null),me.current=.05,ae.current=0,z.current=null;try{const le=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:48e3}});Ne.current=le;const Ze=new AudioContext({sampleRate:48e3});be.current=Ze,Ze.state==="suspended"&&await Ze.resume(),i(`AudioContext: ${Ze.state}`);const kt=Ze.createMediaStreamSource(le),yt=Ze.createBiquadFilter();yt.type="highpass",yt.frequency.value=_e;const Ot=Ze.createBiquadFilter();Ot.type="lowpass",Ot.frequency.value=Me;const yn=Ze.createAnalyser();yn.fftSize=2048,kt.connect(yt),yt.connect(Ot),Ot.connect(yn),oe.current=!0,n(!0),we({type:"info",time:0,max:0,thresh:0,floor:0});const vn=new Float32Array(yn.fftSize);let Wn=0;const Cr=()=>{if(!oe.current)return;Wn++,Wn%30===0&&(k(Wn),i(`Listening (frame ${Wn})`)),yn.getFloatTimeDomainData(vn);let nn=0;for(let $t=0;$t<vn.length;$t++)nn=Math.max(nn,Math.abs(vn[$t]));Wn<=3&&we({type:"debug",time:Ze.currentTime,max:nn,thresh:0,floor:me.current});const xn=me.current;me.current=nn>xn?xn+Aje*(nn-xn):xn-Pje*(xn-nn),me.current=Math.max(.02,Math.min(.6,me.current));const Kt=Ze.currentTime,pn=Math.max(O,me.current*F);if(s(nn),l(me.current),d(pn),nn>pn&&Kt-ae.current>W)if(ae.current=Kt,h($t=>$t+1),C(nn),z.current===null)z.current=Kt,y(Kt),we({type:"tip",time:Kt,max:nn,thresh:pn,floor:me.current});else{const $t=Kt-z.current;if(v(Kt),w($t),$t>=B&&$t<=Q){we({type:"rack",time:Kt,max:nn,thresh:pn,floor:me.current,deltaT:$t});const pr=j*Cje/$t*2.23693629;P(pr),z.current=null}else we({type:"rejected",time:Kt,max:nn,thresh:pn,floor:me.current,deltaT:$t,reason:$t<B?"too fast":"too slow"}),$t>Q&&(z.current=Kt,y(Kt))}requestAnimationFrame(Cr)};requestAnimationFrame(Cr)}catch(le){console.error(le),i(`ERROR: ${le.message}`),n(!1)}},Qe=()=>{oe.current=!1,Ne.current&&Ne.current.getTracks().forEach(le=>le.stop()),be.current&&be.current.close(),n(!1),i("Stopped")},Je=()=>{T([]),h(0),y(null),v(null),w(null),P(null),C(null)},nt=()=>{const le={exportedAt:new Date().toISOString(),config:{distanceIn:j,minThresh:O,floorMult:F,refractTime:W,minDeltaT:B,maxDeltaT:Q,hpfFreq:_e,lpfFreq:Me},peaks:_},Ze=new Blob([JSON.stringify(le,null,2)],{type:"application/json"}),kt=URL.createObjectURL(Ze),yt=document.createElement("a");yt.href=kt,yt.download=`break-debug-${Date.now()}.json`,yt.click(),URL.revokeObjectURL(kt)};b.useEffect(()=>()=>{oe.current=!1,Ne.current&&Ne.current.getTracks().forEach(le=>le.stop()),be.current&&be.current.close()},[]);const Ve=le=>{switch(le){case"tip":return"text-yellow-500";case"rack":return"text-primary font-bold";case"rejected":return"text-muted-foreground";case"debug":return"text-blue-400";default:return"text-muted-foreground"}};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(ko,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-primary",children:"Audio Debugger"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Break speed detection diagnostics"})]})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(ue,{onClick:e?Qe:Ee,variant:e?"destructive":"default","data-testid":"button-toggle-listen",children:[e?u.jsx(uH,{className:"w-4 h-4 mr-2"}):u.jsx(dH,{className:"w-4 h-4 mr-2"}),e?"Stop":"Start Listening"]}),u.jsxs(ue,{variant:"secondary",onClick:Je,"data-testid":"button-clear",children:[u.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Clear"]}),u.jsxs(ue,{variant:"secondary",onClick:nt,"data-testid":"button-export",children:[u.jsx(Y$,{className:"w-4 h-4 mr-2"}),"Export"]})]}),u.jsxs(et,{className:"p-4 bg-muted/30",children:[u.jsxs("p",{className:"text-sm font-mono","data-testid":"text-mic-status",children:[u.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",u.jsx("span",{className:e?"text-green-500":"text-muted-foreground",children:r})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Frame: ",N]})]}),E!==null&&u.jsxs(et,{className:"p-6 bg-gradient-to-br from-primary/20 to-primary/5 border-primary/30 text-center",children:[u.jsx("p",{className:"text-sm text-primary uppercase tracking-wide",children:"Break Detected"}),u.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-result-mph",children:[E.toFixed(1)," mph"]}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Delta: ",x==null?void 0:x.toFixed(4),"s | Distance: ",j,'"']})]}),u.jsxs(et,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Audio Levels"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Current"}),u.jsxs("div",{className:"flex-1 h-6 bg-muted rounded overflow-hidden relative",children:[u.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all",style:{width:`${Math.min(o*100,100)}%`}}),u.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white",style:{left:`${c*100}%`}})]}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:o.toFixed(3)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Floor"}),u.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${a*100}%`}})}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:a.toFixed(3)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Thresh"}),u.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-yellow-500 transition-all",style:{width:`${c*100}%`}})}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:c.toFixed(3)})]})]})]}),u.jsxs(et,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Detection Stats"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold text-primary",children:f}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Peaks"})]}),u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold font-mono",children:(m==null?void 0:m.toFixed(3))??"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip Time"})]}),u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold font-mono",children:(x==null?void 0:x.toFixed(4))??"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Delta T"})]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["Last peak max: ",(S==null?void 0:S.toFixed(4))??"-"]})]}),u.jsxs(et,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Configuration"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx(en,{className:"text-xs",children:"Distance (in)"}),u.jsx(cr,{type:"number",value:j,onChange:le=>R(+le.target.value),className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(en,{className:"text-xs",children:"Min Threshold"}),u.jsx(cr,{type:"number",value:O,onChange:le=>$(+le.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(en,{className:"text-xs",children:"Floor Multiplier"}),u.jsx(cr,{type:"number",value:F,onChange:le=>U(+le.target.value),step:"0.1",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(en,{className:"text-xs",children:"Refractory (s)"}),u.jsx(cr,{type:"number",value:W,onChange:le=>V(+le.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(en,{className:"text-xs",children:"Min Delta T (s)"}),u.jsx(cr,{type:"number",value:B,onChange:le=>Z(+le.target.value),step:"0.005",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(en,{className:"text-xs",children:"Max Delta T (s)"}),u.jsx(cr,{type:"number",value:Q,onChange:le=>ne(+le.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(en,{className:"text-xs",children:"HPF Freq (Hz)"}),u.jsx(cr,{type:"number",value:_e,onChange:le=>Pe(+le.target.value),step:"50",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(en,{className:"text-xs",children:"LPF Freq (Hz)"}),u.jsx(cr,{type:"number",value:Me,onChange:le=>st(+le.target.value),step:"100",className:"h-8"})]})]})]}),u.jsxs(et,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Peak Log"}),u.jsx("div",{className:"max-h-48 overflow-y-auto bg-background rounded p-2 font-mono text-xs space-y-1",children:_.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No peaks detected yet"}):_.map((le,Ze)=>u.jsxs("div",{className:`flex justify-between ${Ve(le.type)}`,children:[u.jsxs("span",{children:[le.type.toUpperCase()," @ ",le.time.toFixed(4),"s"]}),u.jsxs("span",{children:["max: ",le.max.toFixed(4)," ",le.deltaT?`dt: ${le.deltaT.toFixed(4)}`:""," ",le.reason||""]})]},Ze))})]})]})})]})}function jje(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(et,{className:"w-full max-w-md mx-4",children:u.jsxs(c5,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(ZW,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Ije=typeof window<"u"&&(window.location.protocol==="file:"||window.location.pathname.endsWith(".html")||window.location.hostname.endsWith(".github.io")),kje=t=>{window.location.hash=t},Oje=t=>(window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)),Rje=()=>window.location.hash.replace(/^#/,"")||"/";function Mje(){const t=b.useSyncExternalStore(Oje,Rje,()=>"/"),e=b.useCallback(n=>kje(n),[]);return[t,e]}function Dje(){return u.jsx(u$,{hook:Ije?Mje:void 0,children:u.jsxs(T7,{children:[u.jsx(Ps,{path:"/",component:Nre}),u.jsx(Ps,{path:"/break-speed",component:nie}),u.jsx(Ps,{path:"/shot-clock",component:JNe}),u.jsx(Ps,{path:"/table-level",component:eje}),u.jsx(Ps,{path:"/cue-emulator",component:_je}),u.jsx(Ps,{path:"/insights",component:Eje}),u.jsx(Ps,{path:"/admin/analytics",component:Tje}),u.jsx(Ps,{path:"/debug/audio",component:Nje}),u.jsx(Ps,{component:jje})]})})}function $je(){return u.jsx(Y7,{client:J7,children:u.jsx(jG,{children:u.jsx(Kee,{children:u.jsxs(PG,{children:[u.jsx(nq,{}),u.jsx(Dje,{})]})})})})}ZD(document.getElementById("root")).render(u.jsx($je,{}));
