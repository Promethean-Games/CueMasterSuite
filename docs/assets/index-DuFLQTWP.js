var oP=t=>{throw TypeError(t)};var tb=(t,e,n)=>e.has(t)||oP("Cannot "+n);var pe=(t,e,n)=>(tb(t,e,"read from private field"),n?n.call(t):e.get(t)),Rt=(t,e,n)=>e.has(t)?oP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pt=(t,e,n,r)=>(tb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Or=(t,e,n)=>(tb(t,e,"access private method"),n);var _m=(t,e,n,r)=>({set _(i){pt(t,e,i,n)},get _(){return pe(t,e,r)}});function N9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HR={exports:{}},nx={},qR={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=Symbol.for("react.element"),j9=Symbol.for("react.portal"),I9=Symbol.for("react.fragment"),k9=Symbol.for("react.strict_mode"),O9=Symbol.for("react.profiler"),R9=Symbol.for("react.provider"),M9=Symbol.for("react.context"),D9=Symbol.for("react.forward_ref"),$9=Symbol.for("react.suspense"),L9=Symbol.for("react.memo"),F9=Symbol.for("react.lazy"),sP=Symbol.iterator;function V9(t){return t===null||typeof t!="object"?null:(t=sP&&t[sP]||t["@@iterator"],typeof t=="function"?t:null)}var GR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KR=Object.assign,YR={};function Pd(t,e,n){this.props=t,this.context=e,this.refs=YR,this.updater=n||GR}Pd.prototype.isReactComponent={};Pd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XR(){}XR.prototype=Pd.prototype;function eE(t,e,n){this.props=t,this.context=e,this.refs=YR,this.updater=n||GR}var tE=eE.prototype=new XR;tE.constructor=eE;KR(tE,Pd.prototype);tE.isPureReactComponent=!0;var aP=Array.isArray,QR=Object.prototype.hasOwnProperty,nE={current:null},JR={key:!0,ref:!0,__self:!0,__source:!0};function ZR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)QR.call(e,r)&&!JR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Dp,type:t,key:o,ref:s,props:i,_owner:nE.current}}function B9(t,e){return{$$typeof:Dp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dp}function U9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lP=/\/+/g;function nb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U9(""+t.key):e.toString(36)}function Sg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Dp:case j9:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+nb(s,0):r,aP(i)?(n="",t!=null&&(n=t.replace(lP,"$&/")+"/"),Sg(i,e,n,"",function(u){return u})):i!=null&&(rE(i)&&(i=B9(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(lP,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",aP(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+nb(o,a);s+=Sg(o,e,n,l,i)}else if(l=V9(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+nb(o,a++),s+=Sg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Tm(t,e,n){if(t==null)return t;var r=[],i=0;return Sg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function z9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},_g={transition:null},W9={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:_g,ReactCurrentOwner:nE};function eM(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:Tm,forEach:function(t,e,n){Tm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tm(t,function(){e++}),e},toArray:function(t){return Tm(t,function(e){return e})||[]},only:function(t){if(!rE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=Pd;xt.Fragment=I9;xt.Profiler=O9;xt.PureComponent=eE;xt.StrictMode=k9;xt.Suspense=$9;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W9;xt.act=eM;xt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=nE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)QR.call(e,l)&&!JR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Dp,type:t.type,key:i,ref:o,props:r,_owner:s}};xt.createContext=function(t){return t={$$typeof:M9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:R9,_context:t},t.Consumer=t};xt.createElement=ZR;xt.createFactory=function(t){var e=ZR.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:D9,render:t}};xt.isValidElement=rE;xt.lazy=function(t){return{$$typeof:F9,_payload:{_status:-1,_result:t},_init:z9}};xt.memo=function(t,e){return{$$typeof:L9,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=_g.transition;_g.transition={};try{t()}finally{_g.transition=e}};xt.unstable_act=eM;xt.useCallback=function(t,e){return Zr.current.useCallback(t,e)};xt.useContext=function(t){return Zr.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};xt.useEffect=function(t,e){return Zr.current.useEffect(t,e)};xt.useId=function(){return Zr.current.useId()};xt.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};xt.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return Zr.current.useMemo(t,e)};xt.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};xt.useRef=function(t){return Zr.current.useRef(t)};xt.useState=function(t){return Zr.current.useState(t)};xt.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};xt.useTransition=function(){return Zr.current.useTransition()};xt.version="18.3.1";qR.exports=xt;var b=qR.exports;const H=Ht(b),tM=N9({__proto__:null,default:H},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H9=b,q9=Symbol.for("react.element"),G9=Symbol.for("react.fragment"),K9=Object.prototype.hasOwnProperty,Y9=H9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X9={key:!0,ref:!0,__self:!0,__source:!0};function nM(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)K9.call(e,r)&&!X9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:q9,type:t,key:o,ref:s,props:i,_owner:Y9.current}}nx.Fragment=G9;nx.jsx=nM;nx.jsxs=nM;HR.exports=nx;var c=HR.exports,rM={exports:{}},ki={},iM={exports:{}},oM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var Z=V.length;V.push(B);e:for(;0<Z;){var Q=Z-1>>>1,ne=V[Q];if(0<i(ne,B))V[Q]=B,V[Z]=ne,Z=Q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],Z=V.pop();if(Z!==B){V[0]=Z;e:for(var Q=0,ne=V.length,Ee=ne>>>1;Q<Ee;){var Pe=2*(Q+1)-1,Me=V[Pe],ot=Pe+1,we=V[ot];if(0>i(Me,Z))ot<ne&&0>i(we,Me)?(V[Q]=we,V[ot]=Z,Q=ot):(V[Q]=Me,V[Pe]=Z,Q=Pe);else if(ot<ne&&0>i(we,Z))V[Q]=we,V[ot]=Z,Q=ot;else break e}}return B}function i(V,B){var Z=V.sortIndex-B.sortIndex;return Z!==0?Z:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=V)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function C(V){if(g=!1,S(V),!y)if(n(l)!==null)y=!0,U(E);else{var B=n(u);B!==null&&W(C,B.startTime-V)}}function E(V,B){y=!1,g&&(g=!1,x(T),T=-1),m=!0;var Z=h;try{for(S(B),f=n(l);f!==null&&(!(f.expirationTime>B)||V&&!j());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var ne=Q(f.expirationTime<=B);B=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),S(B)}else r(l);f=n(l)}if(f!==null)var Ee=!0;else{var Pe=n(u);Pe!==null&&W(C,Pe.startTime-B),Ee=!1}return Ee}finally{f=null,h=Z,m=!1}}var P=!1,_=null,T=-1,N=5,k=-1;function j(){return!(t.unstable_now()-k<N)}function R(){if(_!==null){var V=t.unstable_now();k=V;var B=!0;try{B=_(!0,V)}finally{B?O():(P=!1,_=null)}}else P=!1}var O;if(typeof w=="function")O=function(){w(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=R,O=function(){F.postMessage(null)}}else O=function(){v(R,0)};function U(V){_=V,P||(P=!0,O())}function W(V,B){T=v(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,U(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var Z=h;h=B;try{return V()}finally{h=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=h;h=V;try{return B()}finally{h=Z}},t.unstable_scheduleCallback=function(V,B,Z){var Q=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Q+Z:Q):Z=Q,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Z+ne,V={id:d++,callback:B,priorityLevel:V,startTime:Z,expirationTime:ne,sortIndex:-1},Z>Q?(V.sortIndex=Z,e(u,V),n(l)===null&&V===n(u)&&(g?(x(T),T=-1):g=!0,W(C,Z-Q))):(V.sortIndex=ne,e(l,V),y||m||(y=!0,U(E))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var B=h;return function(){var Z=h;h=B;try{return V.apply(this,arguments)}finally{h=Z}}}})(oM);iM.exports=oM;var Q9=iM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J9=b,ji=Q9;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sM=new Set,hh={};function Sc(t,e){Vu(t,e),Vu(t+"Capture",e)}function Vu(t,e){for(hh[t]=e,t=0;t<e.length;t++)sM.add(e[t])}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mw=Object.prototype.hasOwnProperty,Z9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cP={},uP={};function e8(t){return Mw.call(uP,t)?!0:Mw.call(cP,t)?!1:Z9.test(t)?uP[t]=!0:(cP[t]=!0,!1)}function t8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n8(t,e,n,r){if(e===null||typeof e>"u"||t8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ei(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Er[t]=new ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Er[e]=new ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Er[t]=new ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Er[t]=new ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Er[t]=new ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Er[t]=new ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Er[t]=new ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Er[t]=new ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Er[t]=new ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var iE=/[\-:]([a-z])/g;function oE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iE,oE);Er[e]=new ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iE,oE);Er[e]=new ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iE,oE);Er[e]=new ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Er[t]=new ei(t,1,!1,t.toLowerCase(),null,!1,!1)});Er.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Er[t]=new ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function sE(t,e,n,r){var i=Er.hasOwnProperty(e)?Er[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n8(e,n,i,r)&&(n=null),r||i===null?e8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var aa=J9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cm=Symbol.for("react.element"),Zc=Symbol.for("react.portal"),eu=Symbol.for("react.fragment"),aE=Symbol.for("react.strict_mode"),Dw=Symbol.for("react.profiler"),aM=Symbol.for("react.provider"),lM=Symbol.for("react.context"),lE=Symbol.for("react.forward_ref"),$w=Symbol.for("react.suspense"),Lw=Symbol.for("react.suspense_list"),cE=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),cM=Symbol.for("react.offscreen"),dP=Symbol.iterator;function uf(t){return t===null||typeof t!="object"?null:(t=dP&&t[dP]||t["@@iterator"],typeof t=="function"?t:null)}var Tn=Object.assign,rb;function If(t){if(rb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rb=e&&e[1]||""}return`
`+rb+t}var ib=!1;function ob(t,e){if(!t||ib)return"";ib=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ib=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?If(t):""}function r8(t){switch(t.tag){case 5:return If(t.type);case 16:return If("Lazy");case 13:return If("Suspense");case 19:return If("SuspenseList");case 0:case 2:case 15:return t=ob(t.type,!1),t;case 11:return t=ob(t.type.render,!1),t;case 1:return t=ob(t.type,!0),t;default:return""}}function Fw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eu:return"Fragment";case Zc:return"Portal";case Dw:return"Profiler";case aE:return"StrictMode";case $w:return"Suspense";case Lw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lM:return(t.displayName||"Context")+".Consumer";case aM:return(t._context.displayName||"Context")+".Provider";case lE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cE:return e=t.displayName||null,e!==null?e:Fw(t.type)||"Memo";case _a:e=t._payload,t=t._init;try{return Fw(t(e))}catch{}}return null}function i8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fw(e);case 8:return e===aE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o8(t){var e=uM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Am(t){t._valueTracker||(t._valueTracker=o8(t))}function dM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vw(t,e){var n=e.checked;return Tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fM(t,e){e=e.checked,e!=null&&sE(t,"checked",e,!1)}function Bw(t,e){fM(t,e);var n=rl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uw(t,e.type,rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uw(t,e,n){(e!=="number"||Jg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kf=Array.isArray;function pu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return Tn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(kf(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rl(n)}}function hM(t,e){var n=rl(e.value),r=rl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ww(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pm,mM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pm=Pm||document.createElement("div"),Pm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ph(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s8=["Webkit","ms","Moz","O"];Object.keys(Uf).forEach(function(t){s8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uf[e]=Uf[t]})});function gM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uf.hasOwnProperty(t)&&Uf[t]?(""+e).trim():e+"px"}function yM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var a8=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hw(t,e){if(e){if(a8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function qw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gw=null;function uE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kw=null,mu=null,gu=null;function gP(t){if(t=Fp(t)){if(typeof Kw!="function")throw Error(be(280));var e=t.stateNode;e&&(e=ax(e),Kw(t.stateNode,t.type,e))}}function vM(t){mu?gu?gu.push(t):gu=[t]:mu=t}function xM(){if(mu){var t=mu,e=gu;if(gu=mu=null,gP(t),e)for(t=0;t<e.length;t++)gP(e[t])}}function bM(t,e){return t(e)}function wM(){}var sb=!1;function SM(t,e,n){if(sb)return t(e,n);sb=!0;try{return bM(t,e,n)}finally{sb=!1,(mu!==null||gu!==null)&&(wM(),xM())}}function mh(t,e){var n=t.stateNode;if(n===null)return null;var r=ax(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var Yw=!1;if(Gs)try{var df={};Object.defineProperty(df,"passive",{get:function(){Yw=!0}}),window.addEventListener("test",df,df),window.removeEventListener("test",df,df)}catch{Yw=!1}function l8(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var zf=!1,Zg=null,ey=!1,Xw=null,c8={onError:function(t){zf=!0,Zg=t}};function u8(t,e,n,r,i,o,s,a,l){zf=!1,Zg=null,l8.apply(c8,arguments)}function d8(t,e,n,r,i,o,s,a,l){if(u8.apply(this,arguments),zf){if(zf){var u=Zg;zf=!1,Zg=null}else throw Error(be(198));ey||(ey=!0,Xw=u)}}function _c(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _M(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yP(t){if(_c(t)!==t)throw Error(be(188))}function f8(t){var e=t.alternate;if(!e){if(e=_c(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yP(i),t;if(o===r)return yP(i),e;o=o.sibling}throw Error(be(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function EM(t){return t=f8(t),t!==null?TM(t):null}function TM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=TM(t);if(e!==null)return e;t=t.sibling}return null}var CM=ji.unstable_scheduleCallback,vP=ji.unstable_cancelCallback,h8=ji.unstable_shouldYield,p8=ji.unstable_requestPaint,Mn=ji.unstable_now,m8=ji.unstable_getCurrentPriorityLevel,dE=ji.unstable_ImmediatePriority,AM=ji.unstable_UserBlockingPriority,ty=ji.unstable_NormalPriority,g8=ji.unstable_LowPriority,PM=ji.unstable_IdlePriority,rx=null,os=null;function y8(t){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(rx,t,void 0,(t.current.flags&128)===128)}catch{}}var No=Math.clz32?Math.clz32:b8,v8=Math.log,x8=Math.LN2;function b8(t){return t>>>=0,t===0?32:31-(v8(t)/x8|0)|0}var Nm=64,jm=4194304;function Of(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ny(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Of(a):(o&=s,o!==0&&(r=Of(o)))}else s=n&~i,s!==0?r=Of(s):o!==0&&(r=Of(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-No(e),i=1<<n,r|=t[n],e&=~i;return r}function w8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-No(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=w8(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Qw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NM(){var t=Nm;return Nm<<=1,!(Nm&4194240)&&(Nm=64),t}function ab(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $p(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-No(e),t[e]=n}function _8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-No(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function fE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-No(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Lt=0;function jM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IM,hE,kM,OM,RM,Jw=!1,Im=[],Ua=null,za=null,Wa=null,gh=new Map,yh=new Map,Ca=[],E8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xP(t,e){switch(t){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":gh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(e.pointerId)}}function ff(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Fp(e),e!==null&&hE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function T8(t,e,n,r,i){switch(e){case"focusin":return Ua=ff(Ua,t,e,n,r,i),!0;case"dragenter":return za=ff(za,t,e,n,r,i),!0;case"mouseover":return Wa=ff(Wa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return gh.set(o,ff(gh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yh.set(o,ff(yh.get(o)||null,t,e,n,r,i)),!0}return!1}function MM(t){var e=Ml(t.target);if(e!==null){var n=_c(e);if(n!==null){if(e=n.tag,e===13){if(e=_M(n),e!==null){t.blockedOn=e,RM(t.priority,function(){kM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gw=r,n.target.dispatchEvent(r),Gw=null}else return e=Fp(n),e!==null&&hE(e),t.blockedOn=n,!1;e.shift()}return!0}function bP(t,e,n){Eg(t)&&n.delete(e)}function C8(){Jw=!1,Ua!==null&&Eg(Ua)&&(Ua=null),za!==null&&Eg(za)&&(za=null),Wa!==null&&Eg(Wa)&&(Wa=null),gh.forEach(bP),yh.forEach(bP)}function hf(t,e){t.blockedOn===e&&(t.blockedOn=null,Jw||(Jw=!0,ji.unstable_scheduleCallback(ji.unstable_NormalPriority,C8)))}function vh(t){function e(i){return hf(i,t)}if(0<Im.length){hf(Im[0],t);for(var n=1;n<Im.length;n++){var r=Im[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ua!==null&&hf(Ua,t),za!==null&&hf(za,t),Wa!==null&&hf(Wa,t),gh.forEach(e),yh.forEach(e),n=0;n<Ca.length;n++)r=Ca[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ca.length&&(n=Ca[0],n.blockedOn===null);)MM(n),n.blockedOn===null&&Ca.shift()}var yu=aa.ReactCurrentBatchConfig,ry=!0;function A8(t,e,n,r){var i=Lt,o=yu.transition;yu.transition=null;try{Lt=1,pE(t,e,n,r)}finally{Lt=i,yu.transition=o}}function P8(t,e,n,r){var i=Lt,o=yu.transition;yu.transition=null;try{Lt=4,pE(t,e,n,r)}finally{Lt=i,yu.transition=o}}function pE(t,e,n,r){if(ry){var i=Zw(t,e,n,r);if(i===null)yb(t,e,r,iy,n),xP(t,r);else if(T8(i,t,e,n,r))r.stopPropagation();else if(xP(t,r),e&4&&-1<E8.indexOf(t)){for(;i!==null;){var o=Fp(i);if(o!==null&&IM(o),o=Zw(t,e,n,r),o===null&&yb(t,e,r,iy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yb(t,e,r,null,n)}}var iy=null;function Zw(t,e,n,r){if(iy=null,t=uE(r),t=Ml(t),t!==null)if(e=_c(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_M(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iy=t,null}function DM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m8()){case dE:return 1;case AM:return 4;case ty:case g8:return 16;case PM:return 536870912;default:return 16}default:return 16}}var Ma=null,mE=null,Tg=null;function $M(){if(Tg)return Tg;var t,e=mE,n=e.length,r,i="value"in Ma?Ma.value:Ma.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Tg=i.slice(t,1<r?1-r:void 0)}function Cg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function km(){return!0}function wP(){return!1}function Oi(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?km:wP,this.isPropagationStopped=wP,this}return Tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=km)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=km)},persist:function(){},isPersistent:km}),e}var Nd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gE=Oi(Nd),Lp=Tn({},Nd,{view:0,detail:0}),N8=Oi(Lp),lb,cb,pf,ix=Tn({},Lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pf&&(pf&&t.type==="mousemove"?(lb=t.screenX-pf.screenX,cb=t.screenY-pf.screenY):cb=lb=0,pf=t),lb)},movementY:function(t){return"movementY"in t?t.movementY:cb}}),SP=Oi(ix),j8=Tn({},ix,{dataTransfer:0}),I8=Oi(j8),k8=Tn({},Lp,{relatedTarget:0}),ub=Oi(k8),O8=Tn({},Nd,{animationName:0,elapsedTime:0,pseudoElement:0}),R8=Oi(O8),M8=Tn({},Nd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D8=Oi(M8),$8=Tn({},Nd,{data:0}),_P=Oi($8),L8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=V8[t])?!!e[t]:!1}function yE(){return B8}var U8=Tn({},Lp,{key:function(t){if(t.key){var e=L8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?F8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yE,charCode:function(t){return t.type==="keypress"?Cg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),z8=Oi(U8),W8=Tn({},ix,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EP=Oi(W8),H8=Tn({},Lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yE}),q8=Oi(H8),G8=Tn({},Nd,{propertyName:0,elapsedTime:0,pseudoElement:0}),K8=Oi(G8),Y8=Tn({},ix,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X8=Oi(Y8),Q8=[9,13,27,32],vE=Gs&&"CompositionEvent"in window,Wf=null;Gs&&"documentMode"in document&&(Wf=document.documentMode);var J8=Gs&&"TextEvent"in window&&!Wf,LM=Gs&&(!vE||Wf&&8<Wf&&11>=Wf),TP=" ",CP=!1;function FM(t,e){switch(t){case"keyup":return Q8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tu=!1;function Z8(t,e){switch(t){case"compositionend":return VM(e);case"keypress":return e.which!==32?null:(CP=!0,TP);case"textInput":return t=e.data,t===TP&&CP?null:t;default:return null}}function ez(t,e){if(tu)return t==="compositionend"||!vE&&FM(t,e)?(t=$M(),Tg=mE=Ma=null,tu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LM&&e.locale!=="ko"?null:e.data;default:return null}}var tz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tz[t.type]:e==="textarea"}function BM(t,e,n,r){vM(r),e=oy(e,"onChange"),0<e.length&&(n=new gE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hf=null,xh=null;function nz(t){JM(t,0)}function ox(t){var e=iu(t);if(dM(e))return t}function rz(t,e){if(t==="change")return e}var UM=!1;if(Gs){var db;if(Gs){var fb="oninput"in document;if(!fb){var PP=document.createElement("div");PP.setAttribute("oninput","return;"),fb=typeof PP.oninput=="function"}db=fb}else db=!1;UM=db&&(!document.documentMode||9<document.documentMode)}function NP(){Hf&&(Hf.detachEvent("onpropertychange",zM),xh=Hf=null)}function zM(t){if(t.propertyName==="value"&&ox(xh)){var e=[];BM(e,xh,t,uE(t)),SM(nz,e)}}function iz(t,e,n){t==="focusin"?(NP(),Hf=e,xh=n,Hf.attachEvent("onpropertychange",zM)):t==="focusout"&&NP()}function oz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ox(xh)}function sz(t,e){if(t==="click")return ox(e)}function az(t,e){if(t==="input"||t==="change")return ox(e)}function lz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ro=typeof Object.is=="function"?Object.is:lz;function bh(t,e){if(Ro(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mw.call(e,i)||!Ro(t[i],e[i]))return!1}return!0}function jP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IP(t,e){var n=jP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jP(n)}}function WM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HM(){for(var t=window,e=Jg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jg(t.document)}return e}function xE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cz(t){var e=HM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WM(n.ownerDocument.documentElement,n)){if(r!==null&&xE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=IP(n,o);var s=IP(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uz=Gs&&"documentMode"in document&&11>=document.documentMode,nu=null,e1=null,qf=null,t1=!1;function kP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;t1||nu==null||nu!==Jg(r)||(r=nu,"selectionStart"in r&&xE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&bh(qf,r)||(qf=r,r=oy(e1,"onSelect"),0<r.length&&(e=new gE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nu)))}function Om(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ru={animationend:Om("Animation","AnimationEnd"),animationiteration:Om("Animation","AnimationIteration"),animationstart:Om("Animation","AnimationStart"),transitionend:Om("Transition","TransitionEnd")},hb={},qM={};Gs&&(qM=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function sx(t){if(hb[t])return hb[t];if(!ru[t])return t;var e=ru[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qM)return hb[t]=e[n];return t}var GM=sx("animationend"),KM=sx("animationiteration"),YM=sx("animationstart"),XM=sx("transitionend"),QM=new Map,OP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pl(t,e){QM.set(t,e),Sc(e,[t])}for(var pb=0;pb<OP.length;pb++){var mb=OP[pb],dz=mb.toLowerCase(),fz=mb[0].toUpperCase()+mb.slice(1);pl(dz,"on"+fz)}pl(GM,"onAnimationEnd");pl(KM,"onAnimationIteration");pl(YM,"onAnimationStart");pl("dblclick","onDoubleClick");pl("focusin","onFocus");pl("focusout","onBlur");pl(XM,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rf));function RP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d8(r,e,void 0,t),t.currentTarget=null}function JM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;RP(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;RP(i,a,u),o=l}}}if(ey)throw t=Xw,ey=!1,Xw=null,t}function an(t,e){var n=e[s1];n===void 0&&(n=e[s1]=new Set);var r=t+"__bubble";n.has(r)||(ZM(e,t,2,!1),n.add(r))}function gb(t,e,n){var r=0;e&&(r|=4),ZM(n,t,r,e)}var Rm="_reactListening"+Math.random().toString(36).slice(2);function wh(t){if(!t[Rm]){t[Rm]=!0,sM.forEach(function(n){n!=="selectionchange"&&(hz.has(n)||gb(n,!1,t),gb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rm]||(e[Rm]=!0,gb("selectionchange",!1,e))}}function ZM(t,e,n,r){switch(DM(e)){case 1:var i=A8;break;case 4:i=P8;break;default:i=pE}n=i.bind(null,e,n,t),i=void 0,!Yw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ml(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}SM(function(){var u=o,d=uE(n),f=[];e:{var h=QM.get(t);if(h!==void 0){var m=gE,y=t;switch(t){case"keypress":if(Cg(n)===0)break e;case"keydown":case"keyup":m=z8;break;case"focusin":y="focus",m=ub;break;case"focusout":y="blur",m=ub;break;case"beforeblur":case"afterblur":m=ub;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=SP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=I8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=q8;break;case GM:case KM:case YM:m=R8;break;case XM:m=K8;break;case"scroll":m=N8;break;case"wheel":m=X8;break;case"copy":case"cut":case"paste":m=D8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=EP}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,x!==null&&(C=mh(w,x),C!=null&&g.push(Sh(w,C,S)))),v)break;w=w.return}0<g.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Gw&&(y=n.relatedTarget||n.fromElement)&&(Ml(y)||y[Ks]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ml(y):null,y!==null&&(v=_c(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=SP,C="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=EP,C="onPointerLeave",x="onPointerEnter",w="pointer"),v=m==null?h:iu(m),S=y==null?h:iu(y),h=new g(C,w+"leave",m,n,d),h.target=v,h.relatedTarget=S,C=null,Ml(d)===u&&(g=new g(x,w+"enter",y,n,d),g.target=S,g.relatedTarget=v,C=g),v=C,m&&y)t:{for(g=m,x=y,w=0,S=g;S;S=$c(S))w++;for(S=0,C=x;C;C=$c(C))S++;for(;0<w-S;)g=$c(g),w--;for(;0<S-w;)x=$c(x),S--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=$c(g),x=$c(x)}g=null}else g=null;m!==null&&MP(f,h,m,g,!1),y!==null&&v!==null&&MP(f,v,y,g,!0)}}e:{if(h=u?iu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=rz;else if(AP(h))if(UM)E=az;else{E=oz;var P=iz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=sz);if(E&&(E=E(t,u))){BM(f,E,n,d);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Uw(h,"number",h.value)}switch(P=u?iu(u):window,t){case"focusin":(AP(P)||P.contentEditable==="true")&&(nu=P,e1=u,qf=null);break;case"focusout":qf=e1=nu=null;break;case"mousedown":t1=!0;break;case"contextmenu":case"mouseup":case"dragend":t1=!1,kP(f,n,d);break;case"selectionchange":if(uz)break;case"keydown":case"keyup":kP(f,n,d)}var _;if(vE)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else tu?FM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(LM&&n.locale!=="ko"&&(tu||T!=="onCompositionStart"?T==="onCompositionEnd"&&tu&&(_=$M()):(Ma=d,mE="value"in Ma?Ma.value:Ma.textContent,tu=!0)),P=oy(u,T),0<P.length&&(T=new _P(T,t,null,n,d),f.push({event:T,listeners:P}),_?T.data=_:(_=VM(n),_!==null&&(T.data=_)))),(_=J8?Z8(t,n):ez(t,n))&&(u=oy(u,"onBeforeInput"),0<u.length&&(d=new _P("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}JM(f,e)})}function Sh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=mh(t,n),o!=null&&r.unshift(Sh(t,o,i)),o=mh(t,e),o!=null&&r.push(Sh(t,o,i))),t=t.return}return r}function $c(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function MP(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=mh(n,o),l!=null&&s.unshift(Sh(n,l,a))):i||(l=mh(n,o),l!=null&&s.push(Sh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var pz=/\r\n?/g,mz=/\u0000|\uFFFD/g;function DP(t){return(typeof t=="string"?t:""+t).replace(pz,`
`).replace(mz,"")}function Mm(t,e,n){if(e=DP(e),DP(t)!==e&&n)throw Error(be(425))}function sy(){}var n1=null,r1=null;function i1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var o1=typeof setTimeout=="function"?setTimeout:void 0,gz=typeof clearTimeout=="function"?clearTimeout:void 0,$P=typeof Promise=="function"?Promise:void 0,yz=typeof queueMicrotask=="function"?queueMicrotask:typeof $P<"u"?function(t){return $P.resolve(null).then(t).catch(vz)}:o1;function vz(t){setTimeout(function(){throw t})}function vb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vh(e)}function Ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jd=Math.random().toString(36).slice(2),ns="__reactFiber$"+jd,_h="__reactProps$"+jd,Ks="__reactContainer$"+jd,s1="__reactEvents$"+jd,xz="__reactListeners$"+jd,bz="__reactHandles$"+jd;function Ml(t){var e=t[ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ks]||n[ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=LP(t);t!==null;){if(n=t[ns])return n;t=LP(t)}return e}t=n,n=t.parentNode}return null}function Fp(t){return t=t[ns]||t[Ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function iu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function ax(t){return t[_h]||null}var a1=[],ou=-1;function ml(t){return{current:t}}function fn(t){0>ou||(t.current=a1[ou],a1[ou]=null,ou--)}function Zt(t,e){ou++,a1[ou]=t.current,t.current=e}var il={},Wr=ml(il),ci=ml(!1),rc=il;function Bu(t,e){var n=t.type.contextTypes;if(!n)return il;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ui(t){return t=t.childContextTypes,t!=null}function ay(){fn(ci),fn(Wr)}function FP(t,e,n){if(Wr.current!==il)throw Error(be(168));Zt(Wr,e),Zt(ci,n)}function eD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(be(108,i8(t)||"Unknown",i));return Tn({},n,r)}function ly(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||il,rc=Wr.current,Zt(Wr,t),Zt(ci,ci.current),!0}function VP(t,e,n){var r=t.stateNode;if(!r)throw Error(be(169));n?(t=eD(t,e,rc),r.__reactInternalMemoizedMergedChildContext=t,fn(ci),fn(Wr),Zt(Wr,t)):fn(ci),Zt(ci,n)}var Os=null,lx=!1,xb=!1;function tD(t){Os===null?Os=[t]:Os.push(t)}function wz(t){lx=!0,tD(t)}function gl(){if(!xb&&Os!==null){xb=!0;var t=0,e=Lt;try{var n=Os;for(Lt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Os=null,lx=!1}catch(i){throw Os!==null&&(Os=Os.slice(t+1)),CM(dE,gl),i}finally{Lt=e,xb=!1}}return null}var su=[],au=0,cy=null,uy=0,Ui=[],zi=0,ic=null,Ds=1,$s="";function Nl(t,e){su[au++]=uy,su[au++]=cy,cy=t,uy=e}function nD(t,e,n){Ui[zi++]=Ds,Ui[zi++]=$s,Ui[zi++]=ic,ic=t;var r=Ds;t=$s;var i=32-No(r)-1;r&=~(1<<i),n+=1;var o=32-No(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ds=1<<32-No(e)+i|n<<i|r,$s=o+t}else Ds=1<<o|n<<i|r,$s=t}function bE(t){t.return!==null&&(Nl(t,1),nD(t,1,0))}function wE(t){for(;t===cy;)cy=su[--au],su[au]=null,uy=su[--au],su[au]=null;for(;t===ic;)ic=Ui[--zi],Ui[zi]=null,$s=Ui[--zi],Ui[zi]=null,Ds=Ui[--zi],Ui[zi]=null}var Pi=null,Ci=null,pn=!1,wo=null;function rD(t,e){var n=qi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pi=t,Ci=Ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pi=t,Ci=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ic!==null?{id:Ds,overflow:$s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pi=t,Ci=null,!0):!1;default:return!1}}function l1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function c1(t){if(pn){var e=Ci;if(e){var n=e;if(!BP(t,e)){if(l1(t))throw Error(be(418));e=Ha(n.nextSibling);var r=Pi;e&&BP(t,e)?rD(r,n):(t.flags=t.flags&-4097|2,pn=!1,Pi=t)}}else{if(l1(t))throw Error(be(418));t.flags=t.flags&-4097|2,pn=!1,Pi=t}}}function UP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pi=t}function Dm(t){if(t!==Pi)return!1;if(!pn)return UP(t),pn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!i1(t.type,t.memoizedProps)),e&&(e=Ci)){if(l1(t))throw iD(),Error(be(418));for(;e;)rD(t,e),e=Ha(e.nextSibling)}if(UP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ci=Ha(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ci=null}}else Ci=Pi?Ha(t.stateNode.nextSibling):null;return!0}function iD(){for(var t=Ci;t;)t=Ha(t.nextSibling)}function Uu(){Ci=Pi=null,pn=!1}function SE(t){wo===null?wo=[t]:wo.push(t)}var Sz=aa.ReactCurrentBatchConfig;function mf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function $m(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zP(t){var e=t._init;return e(t._payload)}function oD(t){function e(x,w){if(t){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Ya(x,w),x.index=0,x.sibling=null,x}function o(x,w,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,S,C){return w===null||w.tag!==6?(w=Cb(S,x.mode,C),w.return=x,w):(w=i(w,S),w.return=x,w)}function l(x,w,S,C){var E=S.type;return E===eu?d(x,w,S.props.children,C,S.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_a&&zP(E)===w.type)?(C=i(w,S.props),C.ref=mf(x,w,S),C.return=x,C):(C=Og(S.type,S.key,S.props,null,x.mode,C),C.ref=mf(x,w,S),C.return=x,C)}function u(x,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Ab(S,x.mode,C),w.return=x,w):(w=i(w,S.children||[]),w.return=x,w)}function d(x,w,S,C,E){return w===null||w.tag!==7?(w=Ql(S,x.mode,C,E),w.return=x,w):(w=i(w,S),w.return=x,w)}function f(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Cb(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cm:return S=Og(w.type,w.key,w.props,null,x.mode,S),S.ref=mf(x,null,w),S.return=x,S;case Zc:return w=Ab(w,x.mode,S),w.return=x,w;case _a:var C=w._init;return f(x,C(w._payload),S)}if(kf(w)||uf(w))return w=Ql(w,x.mode,S,null),w.return=x,w;$m(x,w)}return null}function h(x,w,S,C){var E=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(x,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Cm:return S.key===E?l(x,w,S,C):null;case Zc:return S.key===E?u(x,w,S,C):null;case _a:return E=S._init,h(x,w,E(S._payload),C)}if(kf(S)||uf(S))return E!==null?null:d(x,w,S,C,null);$m(x,S)}return null}function m(x,w,S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(S)||null,a(w,x,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cm:return x=x.get(C.key===null?S:C.key)||null,l(w,x,C,E);case Zc:return x=x.get(C.key===null?S:C.key)||null,u(w,x,C,E);case _a:var P=C._init;return m(x,w,S,P(C._payload),E)}if(kf(C)||uf(C))return x=x.get(S)||null,d(w,x,C,E,null);$m(w,C)}return null}function y(x,w,S,C){for(var E=null,P=null,_=w,T=w=0,N=null;_!==null&&T<S.length;T++){_.index>T?(N=_,_=null):N=_.sibling;var k=h(x,_,S[T],C);if(k===null){_===null&&(_=N);break}t&&_&&k.alternate===null&&e(x,_),w=o(k,w,T),P===null?E=k:P.sibling=k,P=k,_=N}if(T===S.length)return n(x,_),pn&&Nl(x,T),E;if(_===null){for(;T<S.length;T++)_=f(x,S[T],C),_!==null&&(w=o(_,w,T),P===null?E=_:P.sibling=_,P=_);return pn&&Nl(x,T),E}for(_=r(x,_);T<S.length;T++)N=m(_,x,T,S[T],C),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?T:N.key),w=o(N,w,T),P===null?E=N:P.sibling=N,P=N);return t&&_.forEach(function(j){return e(x,j)}),pn&&Nl(x,T),E}function g(x,w,S,C){var E=uf(S);if(typeof E!="function")throw Error(be(150));if(S=E.call(S),S==null)throw Error(be(151));for(var P=E=null,_=w,T=w=0,N=null,k=S.next();_!==null&&!k.done;T++,k=S.next()){_.index>T?(N=_,_=null):N=_.sibling;var j=h(x,_,k.value,C);if(j===null){_===null&&(_=N);break}t&&_&&j.alternate===null&&e(x,_),w=o(j,w,T),P===null?E=j:P.sibling=j,P=j,_=N}if(k.done)return n(x,_),pn&&Nl(x,T),E;if(_===null){for(;!k.done;T++,k=S.next())k=f(x,k.value,C),k!==null&&(w=o(k,w,T),P===null?E=k:P.sibling=k,P=k);return pn&&Nl(x,T),E}for(_=r(x,_);!k.done;T++,k=S.next())k=m(_,x,T,k.value,C),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?T:k.key),w=o(k,w,T),P===null?E=k:P.sibling=k,P=k);return t&&_.forEach(function(R){return e(x,R)}),pn&&Nl(x,T),E}function v(x,w,S,C){if(typeof S=="object"&&S!==null&&S.type===eu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Cm:e:{for(var E=S.key,P=w;P!==null;){if(P.key===E){if(E=S.type,E===eu){if(P.tag===7){n(x,P.sibling),w=i(P,S.props.children),w.return=x,x=w;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_a&&zP(E)===P.type){n(x,P.sibling),w=i(P,S.props),w.ref=mf(x,P,S),w.return=x,x=w;break e}n(x,P);break}else e(x,P);P=P.sibling}S.type===eu?(w=Ql(S.props.children,x.mode,C,S.key),w.return=x,x=w):(C=Og(S.type,S.key,S.props,null,x.mode,C),C.ref=mf(x,w,S),C.return=x,x=C)}return s(x);case Zc:e:{for(P=S.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(x,w.sibling),w=i(w,S.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Ab(S,x.mode,C),w.return=x,x=w}return s(x);case _a:return P=S._init,v(x,w,P(S._payload),C)}if(kf(S))return y(x,w,S,C);if(uf(S))return g(x,w,S,C);$m(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,S),w.return=x,x=w):(n(x,w),w=Cb(S,x.mode,C),w.return=x,x=w),s(x)):n(x,w)}return v}var zu=oD(!0),sD=oD(!1),dy=ml(null),fy=null,lu=null,_E=null;function EE(){_E=lu=fy=null}function TE(t){var e=dy.current;fn(dy),t._currentValue=e}function u1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vu(t,e){fy=t,_E=lu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ai=!0),t.firstContext=null)}function Qi(t){var e=t._currentValue;if(_E!==t)if(t={context:t,memoizedValue:e,next:null},lu===null){if(fy===null)throw Error(be(308));lu=t,fy.dependencies={lanes:0,firstContext:t}}else lu=lu.next=t;return e}var Dl=null;function CE(t){Dl===null?Dl=[t]:Dl.push(t)}function aD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,CE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ys(t,r)}function Ys(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ea=!1;function AE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ys(t,n)}return i=r.interleaved,i===null?(e.next=e,CE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ys(t,n)}function Ag(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fE(t,n)}}function WP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hy(t,e,n,r){var i=t.updateQueue;Ea=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=u=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(h=e,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Tn({},f,h);break e;case 2:Ea=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);sc|=s,t.lanes=s,t.memoizedState=f}}function HP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(be(191,i));i.call(r)}}}var Vp={},ss=ml(Vp),Eh=ml(Vp),Th=ml(Vp);function $l(t){if(t===Vp)throw Error(be(174));return t}function PE(t,e){switch(Zt(Th,e),Zt(Eh,t),Zt(ss,Vp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ww(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ww(e,t)}fn(ss),Zt(ss,e)}function Wu(){fn(ss),fn(Eh),fn(Th)}function cD(t){$l(Th.current);var e=$l(ss.current),n=Ww(e,t.type);e!==n&&(Zt(Eh,t),Zt(ss,n))}function NE(t){Eh.current===t&&(fn(ss),fn(Eh))}var wn=ml(0);function py(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bb=[];function jE(){for(var t=0;t<bb.length;t++)bb[t]._workInProgressVersionPrimary=null;bb.length=0}var Pg=aa.ReactCurrentDispatcher,wb=aa.ReactCurrentBatchConfig,oc=0,En=null,Kn=null,lr=null,my=!1,Gf=!1,Ch=0,_z=0;function Rr(){throw Error(be(321))}function IE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ro(t[n],e[n]))return!1;return!0}function kE(t,e,n,r,i,o){if(oc=o,En=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pg.current=t===null||t.memoizedState===null?Az:Pz,t=n(r,i),Gf){o=0;do{if(Gf=!1,Ch=0,25<=o)throw Error(be(301));o+=1,lr=Kn=null,e.updateQueue=null,Pg.current=Nz,t=n(r,i)}while(Gf)}if(Pg.current=gy,e=Kn!==null&&Kn.next!==null,oc=0,lr=Kn=En=null,my=!1,e)throw Error(be(300));return t}function OE(){var t=Ch!==0;return Ch=0,t}function qo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?En.memoizedState=lr=t:lr=lr.next=t,lr}function Ji(){if(Kn===null){var t=En.alternate;t=t!==null?t.memoizedState:null}else t=Kn.next;var e=lr===null?En.memoizedState:lr.next;if(e!==null)lr=e,Kn=t;else{if(t===null)throw Error(be(310));Kn=t,t={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},lr===null?En.memoizedState=lr=t:lr=lr.next=t}return lr}function Ah(t,e){return typeof e=="function"?e(t):e}function Sb(t){var e=Ji(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=Kn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((oc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,En.lanes|=d,sc|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Ro(r,e.memoizedState)||(ai=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,En.lanes|=o,sc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _b(t){var e=Ji(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ro(o,e.memoizedState)||(ai=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function uD(){}function dD(t,e){var n=En,r=Ji(),i=e(),o=!Ro(r.memoizedState,i);if(o&&(r.memoizedState=i,ai=!0),r=r.queue,RE(pD.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||lr!==null&&lr.memoizedState.tag&1){if(n.flags|=2048,Ph(9,hD.bind(null,n,r,i,e),void 0,null),dr===null)throw Error(be(349));oc&30||fD(n,e,i)}return i}function fD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hD(t,e,n,r){e.value=n,e.getSnapshot=r,mD(e)&&gD(t)}function pD(t,e,n){return n(function(){mD(e)&&gD(t)})}function mD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ro(t,n)}catch{return!0}}function gD(t){var e=Ys(t,1);e!==null&&jo(e,t,1,-1)}function qP(t){var e=qo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:t},e.queue=t,t=t.dispatch=Cz.bind(null,En,t),[e.memoizedState,t]}function Ph(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yD(){return Ji().memoizedState}function Ng(t,e,n,r){var i=qo();En.flags|=t,i.memoizedState=Ph(1|e,n,void 0,r===void 0?null:r)}function cx(t,e,n,r){var i=Ji();r=r===void 0?null:r;var o=void 0;if(Kn!==null){var s=Kn.memoizedState;if(o=s.destroy,r!==null&&IE(r,s.deps)){i.memoizedState=Ph(e,n,o,r);return}}En.flags|=t,i.memoizedState=Ph(1|e,n,o,r)}function GP(t,e){return Ng(8390656,8,t,e)}function RE(t,e){return cx(2048,8,t,e)}function vD(t,e){return cx(4,2,t,e)}function xD(t,e){return cx(4,4,t,e)}function bD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wD(t,e,n){return n=n!=null?n.concat([t]):null,cx(4,4,bD.bind(null,e,t),n)}function ME(){}function SD(t,e){var n=Ji();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&IE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _D(t,e){var n=Ji();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&IE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ED(t,e,n){return oc&21?(Ro(n,e)||(n=NM(),En.lanes|=n,sc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ai=!0),t.memoizedState=n)}function Ez(t,e){var n=Lt;Lt=n!==0&&4>n?n:4,t(!0);var r=wb.transition;wb.transition={};try{t(!1),e()}finally{Lt=n,wb.transition=r}}function TD(){return Ji().memoizedState}function Tz(t,e,n){var r=Ka(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CD(t))AD(e,n);else if(n=aD(t,e,n,r),n!==null){var i=Jr();jo(n,t,r,i),PD(n,e,r)}}function Cz(t,e,n){var r=Ka(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CD(t))AD(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ro(a,s)){var l=e.interleaved;l===null?(i.next=i,CE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=aD(t,e,i,r),n!==null&&(i=Jr(),jo(n,t,r,i),PD(n,e,r))}}function CD(t){var e=t.alternate;return t===En||e!==null&&e===En}function AD(t,e){Gf=my=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fE(t,n)}}var gy={readContext:Qi,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},Az={readContext:Qi,useCallback:function(t,e){return qo().memoizedState=[t,e===void 0?null:e],t},useContext:Qi,useEffect:GP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ng(4194308,4,bD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ng(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ng(4,2,t,e)},useMemo:function(t,e){var n=qo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tz.bind(null,En,t),[r.memoizedState,t]},useRef:function(t){var e=qo();return t={current:t},e.memoizedState=t},useState:qP,useDebugValue:ME,useDeferredValue:function(t){return qo().memoizedState=t},useTransition:function(){var t=qP(!1),e=t[0];return t=Ez.bind(null,t[1]),qo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=En,i=qo();if(pn){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),dr===null)throw Error(be(349));oc&30||fD(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,GP(pD.bind(null,r,o,t),[t]),r.flags|=2048,Ph(9,hD.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=qo(),e=dr.identifierPrefix;if(pn){var n=$s,r=Ds;n=(r&~(1<<32-No(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ch++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_z++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pz={readContext:Qi,useCallback:SD,useContext:Qi,useEffect:RE,useImperativeHandle:wD,useInsertionEffect:vD,useLayoutEffect:xD,useMemo:_D,useReducer:Sb,useRef:yD,useState:function(){return Sb(Ah)},useDebugValue:ME,useDeferredValue:function(t){var e=Ji();return ED(e,Kn.memoizedState,t)},useTransition:function(){var t=Sb(Ah)[0],e=Ji().memoizedState;return[t,e]},useMutableSource:uD,useSyncExternalStore:dD,useId:TD,unstable_isNewReconciler:!1},Nz={readContext:Qi,useCallback:SD,useContext:Qi,useEffect:RE,useImperativeHandle:wD,useInsertionEffect:vD,useLayoutEffect:xD,useMemo:_D,useReducer:_b,useRef:yD,useState:function(){return _b(Ah)},useDebugValue:ME,useDeferredValue:function(t){var e=Ji();return Kn===null?e.memoizedState=t:ED(e,Kn.memoizedState,t)},useTransition:function(){var t=_b(Ah)[0],e=Ji().memoizedState;return[t,e]},useMutableSource:uD,useSyncExternalStore:dD,useId:TD,unstable_isNewReconciler:!1};function mo(t,e){if(t&&t.defaultProps){e=Tn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function d1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ux={isMounted:function(t){return(t=t._reactInternals)?_c(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=Ka(t),o=Us(r,i);o.payload=e,n!=null&&(o.callback=n),e=qa(t,o,i),e!==null&&(jo(e,t,i,r),Ag(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=Ka(t),o=Us(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=qa(t,o,i),e!==null&&(jo(e,t,i,r),Ag(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jr(),r=Ka(t),i=Us(n,r);i.tag=2,e!=null&&(i.callback=e),e=qa(t,i,r),e!==null&&(jo(e,t,r,n),Ag(e,t,r))}};function KP(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!bh(n,r)||!bh(i,o):!0}function ND(t,e,n){var r=!1,i=il,o=e.contextType;return typeof o=="object"&&o!==null?o=Qi(o):(i=ui(e)?rc:Wr.current,r=e.contextTypes,o=(r=r!=null)?Bu(t,i):il),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ux,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function YP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ux.enqueueReplaceState(e,e.state,null)}function f1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},AE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Qi(o):(o=ui(e)?rc:Wr.current,i.context=Bu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(d1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ux.enqueueReplaceState(i,i.state,null),hy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hu(t,e){try{var n="",r=e;do n+=r8(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Eb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function h1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jz=typeof WeakMap=="function"?WeakMap:Map;function jD(t,e,n){n=Us(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vy||(vy=!0,_1=r),h1(t,e)},n}function ID(t,e,n){n=Us(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){h1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){h1(t,e),typeof r!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function XP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Wz.bind(null,t,e,n),e.then(t,t))}function QP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Us(-1,1),e.tag=2,qa(n,e,1))),n.lanes|=1),t)}var Iz=aa.ReactCurrentOwner,ai=!1;function Kr(t,e,n,r){e.child=t===null?sD(e,null,n,r):zu(e,t.child,n,r)}function ZP(t,e,n,r,i){n=n.render;var o=e.ref;return vu(e,i),r=kE(t,e,n,r,o,i),n=OE(),t!==null&&!ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i)):(pn&&n&&bE(e),e.flags|=1,Kr(t,e,r,i),e.child)}function eN(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!zE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,kD(t,e,o,r,i)):(t=Og(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:bh,n(s,r)&&t.ref===e.ref)return Xs(t,e,i)}return e.flags|=1,t=Ya(o,r),t.ref=e.ref,t.return=e,e.child=t}function kD(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(bh(o,r)&&t.ref===e.ref)if(ai=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ai=!0);else return e.lanes=t.lanes,Xs(t,e,i)}return p1(t,e,n,r,i)}function OD(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(uu,Si),Si|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zt(uu,Si),Si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Zt(uu,Si),Si|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Zt(uu,Si),Si|=r;return Kr(t,e,i,n),e.child}function RD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function p1(t,e,n,r,i){var o=ui(n)?rc:Wr.current;return o=Bu(e,o),vu(e,i),n=kE(t,e,n,r,o,i),r=OE(),t!==null&&!ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i)):(pn&&r&&bE(e),e.flags|=1,Kr(t,e,n,i),e.child)}function tN(t,e,n,r,i){if(ui(n)){var o=!0;ly(e)}else o=!1;if(vu(e,i),e.stateNode===null)jg(t,e),ND(e,n,r),f1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qi(u):(u=ui(n)?rc:Wr.current,u=Bu(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&YP(e,s,r,u),Ea=!1;var h=e.memoizedState;s.state=h,hy(e,r,s,i),l=e.memoizedState,a!==r||h!==l||ci.current||Ea?(typeof d=="function"&&(d1(e,n,d,r),l=e.memoizedState),(a=Ea||KP(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,lD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:mo(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qi(l):(l=ui(n)?rc:Wr.current,l=Bu(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&YP(e,s,r,l),Ea=!1,h=e.memoizedState,s.state=h,hy(e,r,s,i);var y=e.memoizedState;a!==f||h!==y||ci.current||Ea?(typeof m=="function"&&(d1(e,n,m,r),y=e.memoizedState),(u=Ea||KP(e,n,u,r,h,y,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return m1(t,e,n,r,o,i)}function m1(t,e,n,r,i,o){RD(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&VP(e,n,!1),Xs(t,e,o);r=e.stateNode,Iz.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=zu(e,t.child,null,o),e.child=zu(e,null,a,o)):Kr(t,e,a,o),e.memoizedState=r.state,i&&VP(e,n,!0),e.child}function MD(t){var e=t.stateNode;e.pendingContext?FP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FP(t,e.context,!1),PE(t,e.containerInfo)}function nN(t,e,n,r,i){return Uu(),SE(i),e.flags|=256,Kr(t,e,n,r),e.child}var g1={dehydrated:null,treeContext:null,retryLane:0};function y1(t){return{baseLanes:t,cachePool:null,transitions:null}}function DD(t,e,n){var r=e.pendingProps,i=wn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Zt(wn,i&1),t===null)return c1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=hx(s,r,0,null),t=Ql(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=y1(n),e.memoizedState=g1,t):DE(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kz(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ya(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ya(a,o):(o=Ql(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?y1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=g1,r}return o=t.child,t=o.sibling,r=Ya(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function DE(t,e){return e=hx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lm(t,e,n,r){return r!==null&&SE(r),zu(e,t.child,null,n),t=DE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kz(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Eb(Error(be(422))),Lm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=hx({mode:"visible",children:r.children},i,0,null),o=Ql(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&zu(e,t.child,null,s),e.child.memoizedState=y1(s),e.memoizedState=g1,o);if(!(e.mode&1))return Lm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(be(419)),r=Eb(o,r,void 0),Lm(t,e,s,r)}if(a=(s&t.childLanes)!==0,ai||a){if(r=dr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ys(t,i),jo(r,t,i,-1))}return UE(),r=Eb(Error(be(421))),Lm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Hz.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ci=Ha(i.nextSibling),Pi=e,pn=!0,wo=null,t!==null&&(Ui[zi++]=Ds,Ui[zi++]=$s,Ui[zi++]=ic,Ds=t.id,$s=t.overflow,ic=e),e=DE(e,r.children),e.flags|=4096,e)}function rN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),u1(t.return,e,n)}function Tb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $D(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Kr(t,e,r.children,n),r=wn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rN(t,n,e);else if(t.tag===19)rN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zt(wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&py(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&py(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tb(e,!0,n,null,o);break;case"together":Tb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=Ya(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ya(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Oz(t,e,n){switch(e.tag){case 3:MD(e),Uu();break;case 5:cD(e);break;case 1:ui(e.type)&&ly(e);break;case 4:PE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zt(dy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(wn,wn.current&1),e.flags|=128,null):n&e.child.childLanes?DD(t,e,n):(Zt(wn,wn.current&1),t=Xs(t,e,n),t!==null?t.sibling:null);Zt(wn,wn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $D(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(wn,wn.current),r)break;return null;case 22:case 23:return e.lanes=0,OD(t,e,n)}return Xs(t,e,n)}var LD,v1,FD,VD;LD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};v1=function(){};FD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$l(ss.current);var o=null;switch(n){case"input":i=Vw(t,i),r=Vw(t,r),o=[];break;case"select":i=Tn({},i,{value:void 0}),r=Tn({},r,{value:void 0}),o=[];break;case"textarea":i=zw(t,i),r=zw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sy)}Hw(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hh.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&an("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};VD=function(t,e,n,r){n!==r&&(e.flags|=4)};function gf(t,e){if(!pn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Rz(t,e,n){var r=e.pendingProps;switch(wE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(e),null;case 1:return ui(e.type)&&ay(),Mr(e),null;case 3:return r=e.stateNode,Wu(),fn(ci),fn(Wr),jE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wo!==null&&(C1(wo),wo=null))),v1(t,e),Mr(e),null;case 5:NE(e);var i=$l(Th.current);if(n=e.type,t!==null&&e.stateNode!=null)FD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return Mr(e),null}if(t=$l(ss.current),Dm(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ns]=e,r[_h]=o,t=(e.mode&1)!==0,n){case"dialog":an("cancel",r),an("close",r);break;case"iframe":case"object":case"embed":an("load",r);break;case"video":case"audio":for(i=0;i<Rf.length;i++)an(Rf[i],r);break;case"source":an("error",r);break;case"img":case"image":case"link":an("error",r),an("load",r);break;case"details":an("toggle",r);break;case"input":fP(r,o),an("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},an("invalid",r);break;case"textarea":pP(r,o),an("invalid",r)}Hw(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Mm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Mm(r.textContent,a,t),i=["children",""+a]):hh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&an("scroll",r)}switch(n){case"input":Am(r),hP(r,o,!0);break;case"textarea":Am(r),mP(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ns]=e,t[_h]=r,LD(t,e,!1,!1),e.stateNode=t;e:{switch(s=qw(n,r),n){case"dialog":an("cancel",t),an("close",t),i=r;break;case"iframe":case"object":case"embed":an("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rf.length;i++)an(Rf[i],t);i=r;break;case"source":an("error",t),i=r;break;case"img":case"image":case"link":an("error",t),an("load",t),i=r;break;case"details":an("toggle",t),i=r;break;case"input":fP(t,r),i=Vw(t,r),an("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Tn({},r,{value:void 0}),an("invalid",t);break;case"textarea":pP(t,r),i=zw(t,r),an("invalid",t);break;default:i=r}Hw(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?yM(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mM(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ph(t,l):typeof l=="number"&&ph(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&an("scroll",t):l!=null&&sE(t,o,l,s))}switch(n){case"input":Am(t),hP(t,r,!1);break;case"textarea":Am(t),mP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?pu(t,!!r.multiple,o,!1):r.defaultValue!=null&&pu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mr(e),null;case 6:if(t&&e.stateNode!=null)VD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(n=$l(Th.current),$l(ss.current),Dm(e)){if(r=e.stateNode,n=e.memoizedProps,r[ns]=e,(o=r.nodeValue!==n)&&(t=Pi,t!==null))switch(t.tag){case 3:Mm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mm(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ns]=e,e.stateNode=r}return Mr(e),null;case 13:if(fn(wn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pn&&Ci!==null&&e.mode&1&&!(e.flags&128))iD(),Uu(),e.flags|=98560,o=!1;else if(o=Dm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(be(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(be(317));o[ns]=e}else Uu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mr(e),o=!1}else wo!==null&&(C1(wo),wo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wn.current&1?Xn===0&&(Xn=3):UE())),e.updateQueue!==null&&(e.flags|=4),Mr(e),null);case 4:return Wu(),v1(t,e),t===null&&wh(e.stateNode.containerInfo),Mr(e),null;case 10:return TE(e.type._context),Mr(e),null;case 17:return ui(e.type)&&ay(),Mr(e),null;case 19:if(fn(wn),o=e.memoizedState,o===null)return Mr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)gf(o,!1);else{if(Xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=py(t),s!==null){for(e.flags|=128,gf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zt(wn,wn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Mn()>qu&&(e.flags|=128,r=!0,gf(o,!1),e.lanes=4194304)}else{if(!r)if(t=py(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!pn)return Mr(e),null}else 2*Mn()-o.renderingStartTime>qu&&n!==1073741824&&(e.flags|=128,r=!0,gf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Mn(),e.sibling=null,n=wn.current,Zt(wn,r?n&1|2:n&1),e):(Mr(e),null);case 22:case 23:return BE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Si&1073741824&&(Mr(e),e.subtreeFlags&6&&(e.flags|=8192)):Mr(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function Mz(t,e){switch(wE(e),e.tag){case 1:return ui(e.type)&&ay(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wu(),fn(ci),fn(Wr),jE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return NE(e),null;case 13:if(fn(wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));Uu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fn(wn),null;case 4:return Wu(),null;case 10:return TE(e.type._context),null;case 22:case 23:return BE(),null;case 24:return null;default:return null}}var Fm=!1,Vr=!1,Dz=typeof WeakSet=="function"?WeakSet:Set,De=null;function cu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jn(t,e,r)}else n.current=null}function x1(t,e,n){try{n()}catch(r){jn(t,e,r)}}var iN=!1;function $z(t,e){if(n1=ry,t=HM(),xE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(r1={focusedElem:t,selectionRange:n},ry=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:mo(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(C){jn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return y=iN,iN=!1,y}function Kf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&x1(e,n,o)}i=i.next}while(i!==r)}}function dx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function b1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BD(t){var e=t.alternate;e!==null&&(t.alternate=null,BD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ns],delete e[_h],delete e[s1],delete e[xz],delete e[bz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UD(t){return t.tag===5||t.tag===3||t.tag===4}function oN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function w1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sy));else if(r!==4&&(t=t.child,t!==null))for(w1(t,e,n),t=t.sibling;t!==null;)w1(t,e,n),t=t.sibling}function S1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(S1(t,e,n),t=t.sibling;t!==null;)S1(t,e,n),t=t.sibling}var yr=null,vo=!1;function ya(t,e,n){for(n=n.child;n!==null;)zD(t,e,n),n=n.sibling}function zD(t,e,n){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(rx,n)}catch{}switch(n.tag){case 5:Vr||cu(n,e);case 6:var r=yr,i=vo;yr=null,ya(t,e,n),yr=r,vo=i,yr!==null&&(vo?(t=yr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yr.removeChild(n.stateNode));break;case 18:yr!==null&&(vo?(t=yr,n=n.stateNode,t.nodeType===8?vb(t.parentNode,n):t.nodeType===1&&vb(t,n),vh(t)):vb(yr,n.stateNode));break;case 4:r=yr,i=vo,yr=n.stateNode.containerInfo,vo=!0,ya(t,e,n),yr=r,vo=i;break;case 0:case 11:case 14:case 15:if(!Vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&x1(n,e,s),i=i.next}while(i!==r)}ya(t,e,n);break;case 1:if(!Vr&&(cu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jn(n,e,a)}ya(t,e,n);break;case 21:ya(t,e,n);break;case 22:n.mode&1?(Vr=(r=Vr)||n.memoizedState!==null,ya(t,e,n),Vr=r):ya(t,e,n);break;default:ya(t,e,n)}}function sN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Dz),e.forEach(function(r){var i=qz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:yr=a.stateNode,vo=!1;break e;case 3:yr=a.stateNode.containerInfo,vo=!0;break e;case 4:yr=a.stateNode.containerInfo,vo=!0;break e}a=a.return}if(yr===null)throw Error(be(160));zD(o,s,i),yr=null,vo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){jn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WD(e,t),e=e.sibling}function WD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fo(e,t),Wo(t),r&4){try{Kf(3,t,t.return),dx(3,t)}catch(g){jn(t,t.return,g)}try{Kf(5,t,t.return)}catch(g){jn(t,t.return,g)}}break;case 1:fo(e,t),Wo(t),r&512&&n!==null&&cu(n,n.return);break;case 5:if(fo(e,t),Wo(t),r&512&&n!==null&&cu(n,n.return),t.flags&32){var i=t.stateNode;try{ph(i,"")}catch(g){jn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&fM(i,o),qw(a,s);var u=qw(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?yM(i,f):d==="dangerouslySetInnerHTML"?mM(i,f):d==="children"?ph(i,f):sE(i,d,f,u)}switch(a){case"input":Bw(i,o);break;case"textarea":hM(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?pu(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?pu(i,!!o.multiple,o.defaultValue,!0):pu(i,!!o.multiple,o.multiple?[]:"",!1))}i[_h]=o}catch(g){jn(t,t.return,g)}}break;case 6:if(fo(e,t),Wo(t),r&4){if(t.stateNode===null)throw Error(be(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){jn(t,t.return,g)}}break;case 3:if(fo(e,t),Wo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vh(e.containerInfo)}catch(g){jn(t,t.return,g)}break;case 4:fo(e,t),Wo(t);break;case 13:fo(e,t),Wo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(FE=Mn())),r&4&&sN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Vr=(u=Vr)||d,fo(e,t),Vr=u):fo(e,t),Wo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(De=t,d=t.child;d!==null;){for(f=De=d;De!==null;){switch(h=De,m=h.child,h.tag){case 0:case 11:case 14:case 15:Kf(4,h,h.return);break;case 1:cu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){jn(r,n,g)}}break;case 5:cu(h,h.return);break;case 22:if(h.memoizedState!==null){lN(f);continue}}m!==null?(m.return=h,De=m):lN(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gM("display",s))}catch(g){jn(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){jn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fo(e,t),Wo(t),r&4&&sN(t);break;case 21:break;default:fo(e,t),Wo(t)}}function Wo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UD(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ph(i,""),r.flags&=-33);var o=oN(t);S1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=oN(t);w1(t,a,s);break;default:throw Error(be(161))}}catch(l){jn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lz(t,e,n){De=t,HD(t)}function HD(t,e,n){for(var r=(t.mode&1)!==0;De!==null;){var i=De,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Fm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vr;a=Fm;var u=Vr;if(Fm=s,(Vr=l)&&!u)for(De=i;De!==null;)s=De,l=s.child,s.tag===22&&s.memoizedState!==null?cN(i):l!==null?(l.return=s,De=l):cN(i);for(;o!==null;)De=o,HD(o),o=o.sibling;De=i,Fm=a,Vr=u}aN(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,De=o):aN(t)}}function aN(t){for(;De!==null;){var e=De;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vr||dx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&HP(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HP(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}Vr||e.flags&512&&b1(e)}catch(h){jn(e,e.return,h)}}if(e===t){De=null;break}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}}function lN(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var n=e.sibling;if(n!==null){n.return=e.return,De=n;break}De=e.return}}function cN(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dx(4,e)}catch(l){jn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){jn(e,i,l)}}var o=e.return;try{b1(e)}catch(l){jn(e,o,l)}break;case 5:var s=e.return;try{b1(e)}catch(l){jn(e,s,l)}}}catch(l){jn(e,e.return,l)}if(e===t){De=null;break}var a=e.sibling;if(a!==null){a.return=e.return,De=a;break}De=e.return}}var Fz=Math.ceil,yy=aa.ReactCurrentDispatcher,$E=aa.ReactCurrentOwner,Ki=aa.ReactCurrentBatchConfig,Nt=0,dr=null,Bn=null,_r=0,Si=0,uu=ml(0),Xn=0,Nh=null,sc=0,fx=0,LE=0,Yf=null,si=null,FE=0,qu=1/0,ks=null,vy=!1,_1=null,Ga=null,Vm=!1,Da=null,xy=0,Xf=0,E1=null,Ig=-1,kg=0;function Jr(){return Nt&6?Mn():Ig!==-1?Ig:Ig=Mn()}function Ka(t){return t.mode&1?Nt&2&&_r!==0?_r&-_r:Sz.transition!==null?(kg===0&&(kg=NM()),kg):(t=Lt,t!==0||(t=window.event,t=t===void 0?16:DM(t.type)),t):1}function jo(t,e,n,r){if(50<Xf)throw Xf=0,E1=null,Error(be(185));$p(t,n,r),(!(Nt&2)||t!==dr)&&(t===dr&&(!(Nt&2)&&(fx|=n),Xn===4&&Aa(t,_r)),di(t,r),n===1&&Nt===0&&!(e.mode&1)&&(qu=Mn()+500,lx&&gl()))}function di(t,e){var n=t.callbackNode;S8(t,e);var r=ny(t,t===dr?_r:0);if(r===0)n!==null&&vP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vP(n),e===1)t.tag===0?wz(uN.bind(null,t)):tD(uN.bind(null,t)),yz(function(){!(Nt&6)&&gl()}),n=null;else{switch(jM(r)){case 1:n=dE;break;case 4:n=AM;break;case 16:n=ty;break;case 536870912:n=PM;break;default:n=ty}n=ZD(n,qD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qD(t,e){if(Ig=-1,kg=0,Nt&6)throw Error(be(327));var n=t.callbackNode;if(xu()&&t.callbackNode!==n)return null;var r=ny(t,t===dr?_r:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=by(t,r);else{e=r;var i=Nt;Nt|=2;var o=KD();(dr!==t||_r!==e)&&(ks=null,qu=Mn()+500,Xl(t,e));do try{Uz();break}catch(a){GD(t,a)}while(!0);EE(),yy.current=o,Nt=i,Bn!==null?e=0:(dr=null,_r=0,e=Xn)}if(e!==0){if(e===2&&(i=Qw(t),i!==0&&(r=i,e=T1(t,i))),e===1)throw n=Nh,Xl(t,0),Aa(t,r),di(t,Mn()),n;if(e===6)Aa(t,r);else{if(i=t.current.alternate,!(r&30)&&!Vz(i)&&(e=by(t,r),e===2&&(o=Qw(t),o!==0&&(r=o,e=T1(t,o))),e===1))throw n=Nh,Xl(t,0),Aa(t,r),di(t,Mn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:jl(t,si,ks);break;case 3:if(Aa(t,r),(r&130023424)===r&&(e=FE+500-Mn(),10<e)){if(ny(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=o1(jl.bind(null,t,si,ks),e);break}jl(t,si,ks);break;case 4:if(Aa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-No(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Mn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fz(r/1960))-r,10<r){t.timeoutHandle=o1(jl.bind(null,t,si,ks),r);break}jl(t,si,ks);break;case 5:jl(t,si,ks);break;default:throw Error(be(329))}}}return di(t,Mn()),t.callbackNode===n?qD.bind(null,t):null}function T1(t,e){var n=Yf;return t.current.memoizedState.isDehydrated&&(Xl(t,e).flags|=256),t=by(t,e),t!==2&&(e=si,si=n,e!==null&&C1(e)),t}function C1(t){si===null?si=t:si.push.apply(si,t)}function Vz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ro(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(t,e){for(e&=~LE,e&=~fx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-No(e),r=1<<n;t[n]=-1,e&=~r}}function uN(t){if(Nt&6)throw Error(be(327));xu();var e=ny(t,0);if(!(e&1))return di(t,Mn()),null;var n=by(t,e);if(t.tag!==0&&n===2){var r=Qw(t);r!==0&&(e=r,n=T1(t,r))}if(n===1)throw n=Nh,Xl(t,0),Aa(t,e),di(t,Mn()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jl(t,si,ks),di(t,Mn()),null}function VE(t,e){var n=Nt;Nt|=1;try{return t(e)}finally{Nt=n,Nt===0&&(qu=Mn()+500,lx&&gl())}}function ac(t){Da!==null&&Da.tag===0&&!(Nt&6)&&xu();var e=Nt;Nt|=1;var n=Ki.transition,r=Lt;try{if(Ki.transition=null,Lt=1,t)return t()}finally{Lt=r,Ki.transition=n,Nt=e,!(Nt&6)&&gl()}}function BE(){Si=uu.current,fn(uu)}function Xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gz(n)),Bn!==null)for(n=Bn.return;n!==null;){var r=n;switch(wE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ay();break;case 3:Wu(),fn(ci),fn(Wr),jE();break;case 5:NE(r);break;case 4:Wu();break;case 13:fn(wn);break;case 19:fn(wn);break;case 10:TE(r.type._context);break;case 22:case 23:BE()}n=n.return}if(dr=t,Bn=t=Ya(t.current,null),_r=Si=e,Xn=0,Nh=null,LE=fx=sc=0,si=Yf=null,Dl!==null){for(e=0;e<Dl.length;e++)if(n=Dl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Dl=null}return t}function GD(t,e){do{var n=Bn;try{if(EE(),Pg.current=gy,my){for(var r=En.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}my=!1}if(oc=0,lr=Kn=En=null,Gf=!1,Ch=0,$E.current=null,n===null||n.return===null){Xn=1,Nh=e,Bn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=_r,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=QP(s);if(m!==null){m.flags&=-257,JP(m,s,a,o,e),m.mode&1&&XP(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){XP(o,u,e),UE();break e}l=Error(be(426))}}else if(pn&&a.mode&1){var v=QP(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),JP(v,s,a,o,e),SE(Hu(l,a));break e}}o=l=Hu(l,a),Xn!==4&&(Xn=2),Yf===null?Yf=[o]:Yf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=jD(o,l,e);WP(o,x);break e;case 1:a=l;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ga===null||!Ga.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=ID(o,a,e);WP(o,C);break e}}o=o.return}while(o!==null)}XD(n)}catch(E){e=E,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(!0)}function KD(){var t=yy.current;return yy.current=gy,t===null?gy:t}function UE(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),dr===null||!(sc&268435455)&&!(fx&268435455)||Aa(dr,_r)}function by(t,e){var n=Nt;Nt|=2;var r=KD();(dr!==t||_r!==e)&&(ks=null,Xl(t,e));do try{Bz();break}catch(i){GD(t,i)}while(!0);if(EE(),Nt=n,yy.current=r,Bn!==null)throw Error(be(261));return dr=null,_r=0,Xn}function Bz(){for(;Bn!==null;)YD(Bn)}function Uz(){for(;Bn!==null&&!h8();)YD(Bn)}function YD(t){var e=JD(t.alternate,t,Si);t.memoizedProps=t.pendingProps,e===null?XD(t):Bn=e,$E.current=null}function XD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Mz(n,e),n!==null){n.flags&=32767,Bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xn=6,Bn=null;return}}else if(n=Rz(n,e,Si),n!==null){Bn=n;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=t}while(e!==null);Xn===0&&(Xn=5)}function jl(t,e,n){var r=Lt,i=Ki.transition;try{Ki.transition=null,Lt=1,zz(t,e,n,r)}finally{Ki.transition=i,Lt=r}return null}function zz(t,e,n,r){do xu();while(Da!==null);if(Nt&6)throw Error(be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(_8(t,o),t===dr&&(Bn=dr=null,_r=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vm||(Vm=!0,ZD(ty,function(){return xu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ki.transition,Ki.transition=null;var s=Lt;Lt=1;var a=Nt;Nt|=4,$E.current=null,$z(t,n),WD(n,t),cz(r1),ry=!!n1,r1=n1=null,t.current=n,Lz(n),p8(),Nt=a,Lt=s,Ki.transition=o}else t.current=n;if(Vm&&(Vm=!1,Da=t,xy=i),o=t.pendingLanes,o===0&&(Ga=null),y8(n.stateNode),di(t,Mn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vy)throw vy=!1,t=_1,_1=null,t;return xy&1&&t.tag!==0&&xu(),o=t.pendingLanes,o&1?t===E1?Xf++:(Xf=0,E1=t):Xf=0,gl(),null}function xu(){if(Da!==null){var t=jM(xy),e=Ki.transition,n=Lt;try{if(Ki.transition=null,Lt=16>t?16:t,Da===null)var r=!1;else{if(t=Da,Da=null,xy=0,Nt&6)throw Error(be(331));var i=Nt;for(Nt|=4,De=t.current;De!==null;){var o=De,s=o.child;if(De.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(De=u;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:Kf(8,d,o)}var f=d.child;if(f!==null)f.return=d,De=f;else for(;De!==null;){d=De;var h=d.sibling,m=d.return;if(BD(d),d===u){De=null;break}if(h!==null){h.return=m,De=h;break}De=m}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}De=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,De=s;else e:for(;De!==null;){if(o=De,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Kf(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,De=x;break e}De=o.return}}var w=t.current;for(De=w;De!==null;){s=De;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,De=S;else e:for(s=w;De!==null;){if(a=De,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dx(9,a)}}catch(E){jn(a,a.return,E)}if(a===s){De=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,De=C;break e}De=a.return}}if(Nt=i,gl(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(rx,t)}catch{}r=!0}return r}finally{Lt=n,Ki.transition=e}}return!1}function dN(t,e,n){e=Hu(n,e),e=jD(t,e,1),t=qa(t,e,1),e=Jr(),t!==null&&($p(t,1,e),di(t,e))}function jn(t,e,n){if(t.tag===3)dN(t,t,n);else for(;e!==null;){if(e.tag===3){dN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ga===null||!Ga.has(r))){t=Hu(n,t),t=ID(e,t,1),e=qa(e,t,1),t=Jr(),e!==null&&($p(e,1,t),di(e,t));break}}e=e.return}}function Wz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jr(),t.pingedLanes|=t.suspendedLanes&n,dr===t&&(_r&n)===n&&(Xn===4||Xn===3&&(_r&130023424)===_r&&500>Mn()-FE?Xl(t,0):LE|=n),di(t,e)}function QD(t,e){e===0&&(t.mode&1?(e=jm,jm<<=1,!(jm&130023424)&&(jm=4194304)):e=1);var n=Jr();t=Ys(t,e),t!==null&&($p(t,e,n),di(t,n))}function Hz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QD(t,n)}function qz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),QD(t,n)}var JD;JD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ci.current)ai=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ai=!1,Oz(t,e,n);ai=!!(t.flags&131072)}else ai=!1,pn&&e.flags&1048576&&nD(e,uy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jg(t,e),t=e.pendingProps;var i=Bu(e,Wr.current);vu(e,n),i=kE(null,e,r,t,i,n);var o=OE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ui(r)?(o=!0,ly(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,AE(e),i.updater=ux,e.stateNode=i,i._reactInternals=e,f1(e,r,t,n),e=m1(null,e,r,!0,o,n)):(e.tag=0,pn&&o&&bE(e),Kr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Kz(r),t=mo(r,t),i){case 0:e=p1(null,e,r,t,n);break e;case 1:e=tN(null,e,r,t,n);break e;case 11:e=ZP(null,e,r,t,n);break e;case 14:e=eN(null,e,r,mo(r.type,t),n);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),p1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),tN(t,e,r,i,n);case 3:e:{if(MD(e),t===null)throw Error(be(387));r=e.pendingProps,o=e.memoizedState,i=o.element,lD(t,e),hy(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Hu(Error(be(423)),e),e=nN(t,e,r,n,i);break e}else if(r!==i){i=Hu(Error(be(424)),e),e=nN(t,e,r,n,i);break e}else for(Ci=Ha(e.stateNode.containerInfo.firstChild),Pi=e,pn=!0,wo=null,n=sD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uu(),r===i){e=Xs(t,e,n);break e}Kr(t,e,r,n)}e=e.child}return e;case 5:return cD(e),t===null&&c1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,i1(r,i)?s=null:o!==null&&i1(r,o)&&(e.flags|=32),RD(t,e),Kr(t,e,s,n),e.child;case 6:return t===null&&c1(e),null;case 13:return DD(t,e,n);case 4:return PE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zu(e,null,r,n):Kr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),ZP(t,e,r,i,n);case 7:return Kr(t,e,e.pendingProps,n),e.child;case 8:return Kr(t,e,e.pendingProps.children,n),e.child;case 12:return Kr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Zt(dy,r._currentValue),r._currentValue=s,o!==null)if(Ro(o.value,s)){if(o.children===i.children&&!ci.current){e=Xs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Us(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),u1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(be(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),u1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Kr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vu(e,n),i=Qi(i),r=r(i),e.flags|=1,Kr(t,e,r,n),e.child;case 14:return r=e.type,i=mo(r,e.pendingProps),i=mo(r.type,i),eN(t,e,r,i,n);case 15:return kD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),jg(t,e),e.tag=1,ui(r)?(t=!0,ly(e)):t=!1,vu(e,n),ND(e,r,i),f1(e,r,i,n),m1(null,e,r,!0,t,n);case 19:return $D(t,e,n);case 22:return OD(t,e,n)}throw Error(be(156,e.tag))};function ZD(t,e){return CM(t,e)}function Gz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(t,e,n,r){return new Gz(t,e,n,r)}function zE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kz(t){if(typeof t=="function")return zE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lE)return 11;if(t===cE)return 14}return 2}function Ya(t,e){var n=t.alternate;return n===null?(n=qi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Og(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")zE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case eu:return Ql(n.children,i,o,e);case aE:s=8,i|=8;break;case Dw:return t=qi(12,n,e,i|2),t.elementType=Dw,t.lanes=o,t;case $w:return t=qi(13,n,e,i),t.elementType=$w,t.lanes=o,t;case Lw:return t=qi(19,n,e,i),t.elementType=Lw,t.lanes=o,t;case cM:return hx(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aM:s=10;break e;case lM:s=9;break e;case lE:s=11;break e;case cE:s=14;break e;case _a:s=16,r=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=qi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ql(t,e,n,r){return t=qi(7,t,r,e),t.lanes=n,t}function hx(t,e,n,r){return t=qi(22,t,r,e),t.elementType=cM,t.lanes=n,t.stateNode={isHidden:!1},t}function Cb(t,e,n){return t=qi(6,t,null,e),t.lanes=n,t}function Ab(t,e,n){return e=qi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ab(0),this.expirationTimes=ab(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ab(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function WE(t,e,n,r,i,o,s,a,l){return t=new Yz(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=qi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},AE(o),t}function Xz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function e$(t){if(!t)return il;t=t._reactInternals;e:{if(_c(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if(ui(n))return eD(t,n,e)}return e}function t$(t,e,n,r,i,o,s,a,l){return t=WE(n,r,!0,t,i,o,s,a,l),t.context=e$(null),n=t.current,r=Jr(),i=Ka(n),o=Us(r,i),o.callback=e??null,qa(n,o,i),t.current.lanes=i,$p(t,i,r),di(t,r),t}function px(t,e,n,r){var i=e.current,o=Jr(),s=Ka(i);return n=e$(n),e.context===null?e.context=n:e.pendingContext=n,e=Us(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qa(i,e,s),t!==null&&(jo(t,i,s,o),Ag(t,i,s)),s}function wy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function HE(t,e){fN(t,e),(t=t.alternate)&&fN(t,e)}function Qz(){return null}var n$=typeof reportError=="function"?reportError:function(t){console.error(t)};function qE(t){this._internalRoot=t}mx.prototype.render=qE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));px(t,e,null,null)};mx.prototype.unmount=qE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ac(function(){px(null,t,null,null)}),e[Ks]=null}};function mx(t){this._internalRoot=t}mx.prototype.unstable_scheduleHydration=function(t){if(t){var e=OM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ca.length&&e!==0&&e<Ca[n].priority;n++);Ca.splice(n,0,t),n===0&&MM(t)}};function GE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hN(){}function Jz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=wy(s);o.call(u)}}var s=t$(e,r,t,0,null,!1,!1,"",hN);return t._reactRootContainer=s,t[Ks]=s.current,wh(t.nodeType===8?t.parentNode:t),ac(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=wy(l);a.call(u)}}var l=WE(t,0,!1,null,null,!1,!1,"",hN);return t._reactRootContainer=l,t[Ks]=l.current,wh(t.nodeType===8?t.parentNode:t),ac(function(){px(e,l,n,r)}),l}function yx(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wy(s);a.call(l)}}px(e,s,t,i)}else s=Jz(n,e,t,i,r);return wy(s)}IM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Of(e.pendingLanes);n!==0&&(fE(e,n|1),di(e,Mn()),!(Nt&6)&&(qu=Mn()+500,gl()))}break;case 13:ac(function(){var r=Ys(t,1);if(r!==null){var i=Jr();jo(r,t,1,i)}}),HE(t,1)}};hE=function(t){if(t.tag===13){var e=Ys(t,134217728);if(e!==null){var n=Jr();jo(e,t,134217728,n)}HE(t,134217728)}};kM=function(t){if(t.tag===13){var e=Ka(t),n=Ys(t,e);if(n!==null){var r=Jr();jo(n,t,e,r)}HE(t,e)}};OM=function(){return Lt};RM=function(t,e){var n=Lt;try{return Lt=t,e()}finally{Lt=n}};Kw=function(t,e,n){switch(e){case"input":if(Bw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ax(r);if(!i)throw Error(be(90));dM(r),Bw(r,i)}}}break;case"textarea":hM(t,n);break;case"select":e=n.value,e!=null&&pu(t,!!n.multiple,e,!1)}};bM=VE;wM=ac;var Zz={usingClientEntryPoint:!1,Events:[Fp,iu,ax,vM,xM,VE]},yf={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e7={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=EM(t),t===null?null:t.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||Qz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bm.isDisabled&&Bm.supportsFiber)try{rx=Bm.inject(e7),os=Bm}catch{}}ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zz;ki.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GE(e))throw Error(be(200));return Xz(t,e,null,n)};ki.createRoot=function(t,e){if(!GE(t))throw Error(be(299));var n=!1,r="",i=n$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=WE(t,1,!1,null,null,n,!1,r,i),t[Ks]=e.current,wh(t.nodeType===8?t.parentNode:t),new qE(e)};ki.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=EM(e),t=t===null?null:t.stateNode,t};ki.flushSync=function(t){return ac(t)};ki.hydrate=function(t,e,n){if(!gx(e))throw Error(be(200));return yx(null,t,e,!0,n)};ki.hydrateRoot=function(t,e,n){if(!GE(t))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=n$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=t$(e,null,t,1,n??null,i,!1,o,s),t[Ks]=e.current,wh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mx(e)};ki.render=function(t,e,n){if(!gx(e))throw Error(be(200));return yx(null,t,e,!1,n)};ki.unmountComponentAtNode=function(t){if(!gx(t))throw Error(be(40));return t._reactRootContainer?(ac(function(){yx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ks]=null})}),!0):!1};ki.unstable_batchedUpdates=VE;ki.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gx(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return yx(t,e,n,!1,r)};ki.version="18.3.1-next-f1338f8080-20240426";function r$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r$)}catch(t){console.error(t)}}r$(),rM.exports=ki;var Ec=rM.exports;const t7=Ht(Ec);var i$,pN=Ec;i$=pN.createRoot,pN.hydrateRoot;function n7(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var o$={exports:{}},s$={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gu=b;function r7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var i7=typeof Object.is=="function"?Object.is:r7,o7=Gu.useState,s7=Gu.useEffect,a7=Gu.useLayoutEffect,l7=Gu.useDebugValue;function c7(t,e){var n=e(),r=o7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return a7(function(){i.value=n,i.getSnapshot=e,Pb(i)&&o({inst:i})},[t,n,e]),s7(function(){return Pb(i)&&o({inst:i}),t(function(){Pb(i)&&o({inst:i})})},[t]),l7(n),n}function Pb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i7(t,n)}catch{return!0}}function u7(t,e){return e()}var d7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u7:c7;s$.useSyncExternalStore=Gu.useSyncExternalStore!==void 0?Gu.useSyncExternalStore:d7;o$.exports=s$;var f7=o$.exports;const h7=tM.useInsertionEffect,p7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m7=p7?b.useLayoutEffect:b.useEffect,g7=h7||m7,a$=t=>{const e=b.useRef([t,(...n)=>e[0](...n)]).current;return g7(()=>{e[0]=t}),e[1]},y7="popstate",KE="pushState",YE="replaceState",v7="hashchange",mN=[y7,KE,YE,v7],x7=t=>{for(const e of mN)addEventListener(e,t);return()=>{for(const e of mN)removeEventListener(e,t)}},l$=(t,e)=>f7.useSyncExternalStore(x7,t,e),b7=()=>location.search,w7=({ssrSearch:t=""}={})=>l$(b7,()=>t),gN=()=>location.pathname,S7=({ssrPath:t}={})=>l$(gN,t?()=>t:gN),_7=(t,{replace:e=!1,state:n=null}={})=>history[e?YE:KE](n,"",t),E7=(t={})=>[S7(t),_7],yN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[yN]>"u"){for(const t of[KE,YE]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,yN,{value:!0})}const T7=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",c$=(t="")=>t==="/"?"":t,C7=(t,e)=>t[0]==="~"?t.slice(1):c$(e)+t,A7=(t="",e)=>T7(vN(c$(t)),vN(e)),vN=t=>{try{return decodeURI(t)}catch{return t}},u$={hook:E7,searchHook:w7,parser:n7,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},d$=b.createContext(u$),Bp=()=>b.useContext(d$),f$={},h$=b.createContext(f$),P7=()=>b.useContext(h$),vx=t=>{const[e,n]=t.hook(t);return[A7(t.base,e),a$((r,i)=>n(C7(r,t.base),i))]},yl=()=>vx(Bp()),p$=(t,e,n,r)=>{const{pattern:i,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),s=i.exec(n)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const u=o!==!1?Object.fromEntries(o.map((f,h)=>[f,l[h]])):s.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},m$=({children:t,...e})=>{var d,f;const n=Bp(),r=e.hook?u$:n;let i=r;const[o,s]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=o),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=b.useRef({}),l=a.current,u=l;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===u&&m!==u[h]&&(a.current=u={...u}),u[h]=m,m!==r[h]&&(i=u)}return b.createElement(d$.Provider,{value:i,children:t})},xN=({children:t,component:e},n)=>e?b.createElement(e,{params:n}):typeof t=="function"?t(n):t,N7=t=>{let e=b.useRef(f$),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},As=({path:t,nest:e,match:n,...r})=>{const i=Bp(),[o]=vx(i),[s,a,l]=n??p$(i.parser,t,o,e),u=N7({...P7(),...a});if(!s)return null;const d=l?b.createElement(m$,{base:l},xN(r,u)):xN(r,u);return b.createElement(h$.Provider,{value:u,children:d})};b.forwardRef((t,e)=>{const n=Bp(),[r,i]=vx(n),{to:o="",href:s=o,onClick:a,asChild:l,children:u,className:d,replace:f,state:h,...m}=t,y=a$(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(s,t)))}),g=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&b.isValidElement(u)?b.cloneElement(u,{onClick:y,href:g}):b.createElement("a",{...m,onClick:y,href:g,className:d!=null&&d.call?d(r===s):d,children:u,ref:e})});const g$=t=>Array.isArray(t)?t.flatMap(e=>g$(e&&e.type===b.Fragment?e.props.children:e)):[t],j7=({children:t,location:e})=>{const n=Bp(),[r]=vx(n);for(const i of g$(t)){let o=0;if(b.isValidElement(i)&&(o=p$(n.parser,i.props.path,e||r,i.props.nest))[0])return b.cloneElement(i,{match:o})}return null};var xx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bx=typeof window>"u"||"Deno"in globalThis;function go(){}function I7(t,e){return typeof t=="function"?t(e):t}function k7(t){return typeof t=="number"&&t>=0&&t!==1/0}function O7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bN(t,e){return typeof t=="function"?t(e):t}function R7(t,e){return typeof t=="function"?t(e):t}function wN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==XE(s,e.options))return!1}else if(!Ih(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function SN(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(jh(e.options.mutationKey)!==jh(o))return!1}else if(!Ih(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function XE(t,e){return((e==null?void 0:e.queryKeyHashFn)||jh)(t)}function jh(t){return JSON.stringify(t,(e,n)=>A1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ih(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ih(t[n],e[n])):!1}function y$(t,e){if(t===e)return t;const n=_N(t)&&_N(e);if(n||A1(t)&&A1(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const d=n?u:o[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=y$(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function _N(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function A1(t){if(!EN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!EN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function EN(t){return Object.prototype.toString.call(t)==="[object Object]"}function M7(t){return new Promise(e=>{setTimeout(e,t)})}function D7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?y$(t,e):e}function $7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function L7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var QE=Symbol();function v$(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===QE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ql,ja,Iu,$R,F7=($R=class extends xx{constructor(){super();Rt(this,ql);Rt(this,ja);Rt(this,Iu);pt(this,Iu,e=>{if(!bx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){pe(this,ja)||this.setEventListener(pe(this,Iu))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,ja))==null||e.call(this),pt(this,ja,void 0))}setEventListener(e){var n;pt(this,Iu,e),(n=pe(this,ja))==null||n.call(this),pt(this,ja,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){pe(this,ql)!==e&&(pt(this,ql,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof pe(this,ql)=="boolean"?pe(this,ql):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ql=new WeakMap,ja=new WeakMap,Iu=new WeakMap,$R),x$=new F7,ku,Ia,Ou,LR,V7=(LR=class extends xx{constructor(){super();Rt(this,ku,!0);Rt(this,Ia);Rt(this,Ou);pt(this,Ou,e=>{if(!bx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){pe(this,Ia)||this.setEventListener(pe(this,Ou))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,Ia))==null||e.call(this),pt(this,Ia,void 0))}setEventListener(e){var n;pt(this,Ou,e),(n=pe(this,Ia))==null||n.call(this),pt(this,Ia,e(this.setOnline.bind(this)))}setOnline(e){pe(this,ku)!==e&&(pt(this,ku,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return pe(this,ku)}},ku=new WeakMap,Ia=new WeakMap,Ou=new WeakMap,LR),Sy=new V7;function B7(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function U7(t){return Math.min(1e3*2**t,3e4)}function b$(t){return(t??"online")==="online"?Sy.isOnline():!0}var w$=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Nb(t){return t instanceof w$}function S$(t){let e=!1,n=0,r=!1,i;const o=B7(),s=g=>{var v;r||(h(new w$(g)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>x$.isFocused()&&(t.networkMode==="always"||Sy.isOnline())&&t.canRun(),d=()=>b$(t.networkMode)&&t.canRun(),f=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),o.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),o.reject(g))},m=()=>new Promise(g=>{var v;i=x=>{(r||u())&&g(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var P;if(r)return;const w=t.retry??(bx?0:3),S=t.retryDelay??U7,C=typeof S=="function"?S(n,x):S,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!E){h(x);return}n++,(P=t.onFail)==null||P.call(t,n,x),M7(C).then(()=>u()?void 0:m()).then(()=>{e?h(x):y()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),o)}}function z7(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Yr=z7(),Gl,FR,_$=(FR=class{constructor(){Rt(this,Gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k7(this.gcTime)&&pt(this,Gl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bx?1/0:5*60*1e3))}clearGcTimeout(){pe(this,Gl)&&(clearTimeout(pe(this,Gl)),pt(this,Gl,void 0))}},Gl=new WeakMap,FR),Ru,Mu,Bi,$r,Rp,Kl,yo,Is,VR,W7=(VR=class extends _${constructor(n){super();Rt(this,yo);Rt(this,Ru);Rt(this,Mu);Rt(this,Bi);Rt(this,$r);Rt(this,Rp);Rt(this,Kl);pt(this,Kl,!1),pt(this,Rp,n.defaultOptions),this.setOptions(n.options),this.observers=[],pt(this,Bi,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,pt(this,Ru,q7(this.options)),this.state=n.state??pe(this,Ru),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=pe(this,$r))==null?void 0:n.promise}setOptions(n){this.options={...pe(this,Rp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,Bi).remove(this)}setData(n,r){const i=D7(this.state.data,n,this.options);return Or(this,yo,Is).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Or(this,yo,Is).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=pe(this,$r))==null?void 0:i.promise;return(o=pe(this,$r))==null||o.cancel(n),r?r.then(go).catch(go):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,Ru))}isActive(){return this.observers.some(n=>R7(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===QE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!O7(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=pe(this,$r))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=pe(this,$r))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),pe(this,Bi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(pe(this,$r)&&(pe(this,Kl)?pe(this,$r).cancel({revert:!0}):pe(this,$r).cancelRetry()),this.scheduleGc()),pe(this,Bi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Or(this,yo,Is).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(pe(this,$r))return pe(this,$r).continueRetry(),pe(this,$r).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(pt(this,Kl,!0),i.signal)})},s=()=>{const h=v$(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return o(m),pt(this,Kl,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(a),(u=this.options.behavior)==null||u.onFetch(a,this),pt(this,Mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Or(this,yo,Is).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,y,g,v;Nb(h)&&h.silent||Or(this,yo,Is).call(this,{type:"error",error:h}),Nb(h)||((y=(m=pe(this,Bi).config).onError)==null||y.call(m,h,this),(v=(g=pe(this,Bi).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return pt(this,$r,S$({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,y,g,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(y=(m=pe(this,Bi).config).onSuccess)==null||y.call(m,h,this),(v=(g=pe(this,Bi).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Or(this,yo,Is).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Or(this,yo,Is).call(this,{type:"pause"})},onContinue:()=>{Or(this,yo,Is).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),pe(this,$r).start()}},Ru=new WeakMap,Mu=new WeakMap,Bi=new WeakMap,$r=new WeakMap,Rp=new WeakMap,Kl=new WeakMap,yo=new WeakSet,Is=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...H7(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return Nb(o)&&o.revert&&pe(this,Mu)?{...pe(this,Mu),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Yr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),pe(this,Bi).notify({query:this,type:"updated",action:n})})},VR);function H7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:b$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function q7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yo,BR,G7=(BR=class extends xx{constructor(e={}){super();Rt(this,Yo);this.config=e,pt(this,Yo,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??XE(i,n);let s=this.get(o);return s||(s=new W7({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){pe(this,Yo).has(e.queryHash)||(pe(this,Yo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=pe(this,Yo).get(e.queryHash);n&&(e.destroy(),n===e&&pe(this,Yo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return pe(this,Yo).get(e)}getAll(){return[...pe(this,Yo).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>wN(e,r)):n}notify(e){Yr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Yo=new WeakMap,BR),Xo,Gr,Yl,Qo,wa,UR,K7=(UR=class extends _${constructor(n){super();Rt(this,Qo);Rt(this,Xo);Rt(this,Gr);Rt(this,Yl);this.mutationId=n.mutationId,pt(this,Gr,n.mutationCache),pt(this,Xo,[]),this.state=n.state||Y7(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){pe(this,Xo).includes(n)||(pe(this,Xo).push(n),this.clearGcTimeout(),pe(this,Gr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){pt(this,Xo,pe(this,Xo).filter(r=>r!==n)),this.scheduleGc(),pe(this,Gr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){pe(this,Xo).length||(this.state.status==="pending"?this.scheduleGc():pe(this,Gr).remove(this))}continue(){var n;return((n=pe(this,Yl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,s,a,l,u,d,f,h,m,y,g,v,x,w,S,C,E,P,_,T;pt(this,Yl,S$({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{Or(this,Qo,wa).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{Or(this,Qo,wa).call(this,{type:"pause"})},onContinue:()=>{Or(this,Qo,wa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,Gr).canRun(this)}));const r=this.state.status==="pending",i=!pe(this,Yl).canStart();try{if(!r){Or(this,Qo,wa).call(this,{type:"pending",variables:n,isPaused:i}),await((s=(o=pe(this,Gr).config).onMutate)==null?void 0:s.call(o,n,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));k!==this.state.context&&Or(this,Qo,wa).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const N=await pe(this,Yl).start();return await((d=(u=pe(this,Gr).config).onSuccess)==null?void 0:d.call(u,N,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,n,this.state.context)),await((y=(m=pe(this,Gr).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,n,this.state.context)),Or(this,Qo,wa).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(x=pe(this,Gr).config).onError)==null?void 0:w.call(x,N,n,this.state.context,this)),await((C=(S=this.options).onError)==null?void 0:C.call(S,N,n,this.state.context)),await((P=(E=pe(this,Gr).config).onSettled)==null?void 0:P.call(E,void 0,N,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,N,n,this.state.context)),N}finally{Or(this,Qo,wa).call(this,{type:"error",error:N})}}finally{pe(this,Gr).runNext(this)}}},Xo=new WeakMap,Gr=new WeakMap,Yl=new WeakMap,Qo=new WeakSet,wa=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Yr.batch(()=>{pe(this,Xo).forEach(i=>{i.onMutationUpdate(n)}),pe(this,Gr).notify({mutation:this,type:"updated",action:n})})},UR);function Y7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wi,Mp,zR,X7=(zR=class extends xx{constructor(e={}){super();Rt(this,wi);Rt(this,Mp);this.config=e,pt(this,wi,new Map),pt(this,Mp,Date.now())}build(e,n,r){const i=new K7({mutationCache:this,mutationId:++_m(this,Mp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Um(e),r=pe(this,wi).get(n)??[];r.push(e),pe(this,wi).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Um(e);if(pe(this,wi).has(n)){const i=(r=pe(this,wi).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?pe(this,wi).delete(n):pe(this,wi).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=pe(this,wi).get(Um(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=pe(this,wi).get(Um(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Yr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...pe(this,wi).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>SN(n,r))}findAll(e={}){return this.getAll().filter(n=>SN(e,n))}notify(e){Yr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yr.batch(()=>Promise.all(e.map(n=>n.continue().catch(go))))}},wi=new WeakMap,Mp=new WeakMap,zR);function Um(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function TN(t){return{onFetch:(e,n)=>{var d,f,h,m,y;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],s=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=v$(e.options,e.fetchOptions),w=async(S,C,E)=>{if(g)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:e.queryKey,pageParam:C,direction:E?"backward":"forward",meta:e.options.meta};v(P);const _=await x(P),{maxPages:T}=e.options,N=E?L7:$7;return{pages:N(S.pages,_,T),pageParams:N(S.pageParams,C,T)}};if(i&&o.length){const S=i==="backward",C=S?Q7:CN,E={pages:o,pageParams:s},P=C(r,E);a=await w(E,P,S)}else{const S=t??o.length;do{const C=l===0?s[0]??r.initialPageParam:CN(r,a);if(l>0&&C==null)break;a=await w(a,C),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function CN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Q7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nn,ka,Oa,Du,$u,Ra,Lu,Fu,WR,J7=(WR=class{constructor(t={}){Rt(this,Nn);Rt(this,ka);Rt(this,Oa);Rt(this,Du);Rt(this,$u);Rt(this,Ra);Rt(this,Lu);Rt(this,Fu);pt(this,Nn,t.queryCache||new G7),pt(this,ka,t.mutationCache||new X7),pt(this,Oa,t.defaultOptions||{}),pt(this,Du,new Map),pt(this,$u,new Map),pt(this,Ra,0)}mount(){_m(this,Ra)._++,pe(this,Ra)===1&&(pt(this,Lu,x$.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,Nn).onFocus())})),pt(this,Fu,Sy.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,Nn).onOnline())})))}unmount(){var t,e;_m(this,Ra)._--,pe(this,Ra)===0&&((t=pe(this,Lu))==null||t.call(this),pt(this,Lu,void 0),(e=pe(this,Fu))==null||e.call(this),pt(this,Fu,void 0))}isFetching(t){return pe(this,Nn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return pe(this,ka).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=pe(this,Nn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=pe(this,Nn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(bN(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return pe(this,Nn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=pe(this,Nn).get(r.queryHash),o=i==null?void 0:i.state.data,s=I7(e,o);if(s!==void 0)return pe(this,Nn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Yr.batch(()=>pe(this,Nn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=pe(this,Nn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=pe(this,Nn);Yr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=pe(this,Nn),r={type:"active",...t};return Yr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Yr.batch(()=>pe(this,Nn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(go).catch(go)}invalidateQueries(t={},e={}){return Yr.batch(()=>{if(pe(this,Nn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Yr.batch(()=>pe(this,Nn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(go)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(go)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=pe(this,Nn).build(this,e);return n.isStaleByTime(bN(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(go).catch(go)}fetchInfiniteQuery(t){return t.behavior=TN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(go).catch(go)}ensureInfiniteQueryData(t){return t.behavior=TN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Sy.isOnline()?pe(this,ka).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,Nn)}getMutationCache(){return pe(this,ka)}getDefaultOptions(){return pe(this,Oa)}setDefaultOptions(t){pt(this,Oa,t)}setQueryDefaults(t,e){pe(this,Du).set(jh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...pe(this,Du).values()];let n={};return e.forEach(r=>{Ih(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){pe(this,$u).set(jh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...pe(this,$u).values()];let n={};return e.forEach(r=>{Ih(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...pe(this,Oa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=XE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===QE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...pe(this,Oa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){pe(this,Nn).clear(),pe(this,ka).clear()}},Nn=new WeakMap,ka=new WeakMap,Oa=new WeakMap,Du=new WeakMap,$u=new WeakMap,Ra=new WeakMap,Lu=new WeakMap,Fu=new WeakMap,WR),Z7=b.createContext(void 0),eW=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(Z7.Provider,{value:t,children:e}));async function tW(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const nW=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await tW(n),await n.json())},rW=new J7({defaultOptions:{queries:{queryFn:nW({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),iW=1,oW=1e6;let jb=0;function sW(){return jb=(jb+1)%Number.MAX_SAFE_INTEGER,jb.toString()}const Ib=new Map,AN=t=>{if(Ib.has(t))return;const e=setTimeout(()=>{Ib.delete(t),Qf({type:"REMOVE_TOAST",toastId:t})},oW);Ib.set(t,e)},aW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,iW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?AN(n):t.toasts.forEach(r=>{AN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Rg=[];let Mg={toasts:[]};function Qf(t){Mg=aW(Mg,t),Rg.forEach(e=>{e(Mg)})}function lW({...t}){const e=sW(),n=i=>Qf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Qf({type:"DISMISS_TOAST",toastId:e});return Qf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Id(){const[t,e]=b.useState(Mg);return b.useEffect(()=>(Rg.push(e),()=>{const n=Rg.indexOf(e);n>-1&&Rg.splice(n,1)}),[t]),{...t,toast:lW,dismiss:n=>Qf({type:"DISMISS_TOAST",toastId:n})}}function $e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function PN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function E$(...t){return e=>{let n=!1;const r=t.map(i=>{const o=PN(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():PN(t[i],null)}}}}function mt(...t){return b.useCallback(E$(...t),t)}function cW(t,e){const n=b.createContext(e),r=o=>{const{children:s,...a}=o,l=b.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=b.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Ri(t,e=[]){let n=[];function r(o,s){const a=b.createContext(s),l=n.length;n=[...n,s];const u=f=>{var x;const{scope:h,children:m,...y}=f,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,v=b.useMemo(()=>y,Object.values(y));return c.jsx(g.Provider,{value:v,children:m})};u.displayName=o+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=b.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const i=()=>{const o=n.map(s=>b.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,uW(i,...e)]}function uW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Ku(t){const e=fW(t),n=b.forwardRef((r,i)=>{const{children:o,...s}=r,a=b.Children.toArray(o),l=a.find(pW);if(l){const u=l.props.children,d=a.map(f=>f===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...s,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var dW=Ku("Slot");function fW(t){const e=b.forwardRef((n,r)=>{const{children:i,...o}=n;if(b.isValidElement(i)){const s=gW(i),a=mW(o,i.props);return i.type!==b.Fragment&&(a.ref=r?E$(r,s):s),b.cloneElement(i,a)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var T$=Symbol("radix.slottable");function hW(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=T$,e}function pW(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===T$}function mW(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function gW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Up(t){const e=t+"CollectionProvider",[n,r]=Ri(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:v,children:x}=g,w=H.useRef(null),S=H.useRef(new Map).current;return c.jsx(i,{scope:v,itemMap:S,collectionRef:w,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=Ku(a),u=H.forwardRef((g,v)=>{const{scope:x,children:w}=g,S=o(a,x),C=mt(v,S.collectionRef);return c.jsx(l,{ref:C,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Ku(d),m=H.forwardRef((g,v)=>{const{scope:x,children:w,...S}=g,C=H.useRef(null),E=mt(v,C),P=o(d,x);return H.useEffect(()=>(P.itemMap.set(C,{ref:C,...S}),()=>void P.itemMap.delete(C))),c.jsx(h,{[f]:"",ref:E,children:w})});m.displayName=d;function y(g){const v=o(t+"CollectionConsumer",g);return H.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((P,_)=>S.indexOf(P.ref.current)-S.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},y,r]}var yW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ye=yW.reduce((t,e)=>{const n=Ku(`Primitive.${e}`),r=b.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function C$(t,e){t&&Ec.flushSync(()=>t.dispatchEvent(e))}function Dn(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function vW(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var xW="DismissableLayer",P1="dismissableLayer.update",bW="dismissableLayer.pointerDownOutside",wW="dismissableLayer.focusOutside",NN,A$=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zp=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,u=b.useContext(A$),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),y=mt(e,_=>f(_)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),w=d?g.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=x,E=_W(_=>{const T=_.target,N=[...u.branches].some(k=>k.contains(T));!C||N||(i==null||i(_),s==null||s(_),_.defaultPrevented||a==null||a())},h),P=EW(_=>{const T=_.target;[...u.branches].some(k=>k.contains(T))||(o==null||o(_),s==null||s(_),_.defaultPrevented||a==null||a())},h);return vW(_=>{w===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(NN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),jN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=NN)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),jN())},[d,u]),b.useEffect(()=>{const _=()=>m({});return document.addEventListener(P1,_),()=>document.removeEventListener(P1,_)},[]),c.jsx(Ye.div,{...l,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:$e(t.onFocusCapture,P.onFocusCapture),onBlurCapture:$e(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:$e(t.onPointerDownCapture,E.onPointerDownCapture)})});zp.displayName=xW;var SW="DismissableLayerBranch",P$=b.forwardRef((t,e)=>{const n=b.useContext(A$),r=b.useRef(null),i=mt(e,r);return b.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(Ye.div,{...t,ref:i})});P$.displayName=SW;function _W(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){N$(bW,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function EW(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t),r=b.useRef(!1);return b.useEffect(()=>{const i=o=>{o.target&&!r.current&&N$(wW,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jN(){const t=new CustomEvent(P1);document.dispatchEvent(t)}function N$(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?C$(i,o):i.dispatchEvent(o)}var TW=zp,CW=P$,fr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},AW="Portal",wx=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=b.useState(!1);fr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?t7.createPortal(c.jsx(Ye.div,{...r,ref:e}),s):null});wx.displayName=AW;function PW(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var to=t=>{const{present:e,children:n}=t,r=NW(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),o=mt(r.ref,jW(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:o}):null};to.displayName="Presence";function NW(t){const[e,n]=b.useState(),r=b.useRef({}),i=b.useRef(t),o=b.useRef("none"),s=t?"mounted":"unmounted",[a,l]=PW(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=zm(r.current);o.current=a==="mounted"?u:"none"},[a]),fr(()=>{const u=r.current,d=i.current;if(d!==t){const h=o.current,m=zm(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),fr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const g=zm(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(o.current=zm(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function zm(t){return(t==null?void 0:t.animationName)||"none"}function jW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=IW({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Dn(n),l=b.useCallback(u=>{if(o){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[o,t,i,a]);return[s,l]}function IW({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,i=b.useRef(r),o=Dn(e);return b.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var kW="VisuallyHidden",Wp=b.forwardRef((t,e)=>c.jsx(Ye.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Wp.displayName=kW;var OW=Wp,JE="ToastProvider",[ZE,RW,MW]=Up("Toast"),[j$,Wje]=Ri("Toast",[MW]),[DW,Sx]=j$(JE),I$=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${JE}\`. Expected non-empty \`string\`.`),c.jsx(ZE.Provider,{scope:e,children:c.jsx(DW,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};I$.displayName=JE;var k$="ToastViewport",$W=["F8"],N1="toast.viewportPause",j1="toast.viewportResume",O$=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=$W,label:i="Notifications ({hotkey})",...o}=t,s=Sx(k$,n),a=RW(n),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=mt(e,f,s.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=s.toastCount>0;b.useEffect(()=>{const v=x=>{var S;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),b.useEffect(()=>{const v=l.current,x=f.current;if(y&&v&&x){const w=()=>{if(!s.isClosePausedRef.current){const P=new CustomEvent(N1);x.dispatchEvent(P),s.isClosePausedRef.current=!0}},S=()=>{if(s.isClosePausedRef.current){const P=new CustomEvent(j1);x.dispatchEvent(P),s.isClosePausedRef.current=!1}},C=P=>{!v.contains(P.relatedTarget)&&S()},E=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",w),v.addEventListener("focusout",C),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[y,s.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:v})=>{const w=a().map(S=>{const C=S.ref.current,E=[C,...XW(C)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?w.reverse():w).flat()},[a]);return b.useEffect(()=>{const v=f.current;if(v){const x=w=>{var E,P,_;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const T=document.activeElement,N=w.shiftKey;if(w.target===v&&N){(E=u.current)==null||E.focus();return}const R=g({tabbingDirection:N?"backwards":"forwards"}),O=R.findIndex($=>$===T);kb(R.slice(O+1))?w.preventDefault():N?(P=u.current)==null||P.focus():(_=d.current)==null||_.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[a,g]),c.jsxs(CW,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&c.jsx(I1,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});kb(v)}}),c.jsx(ZE.Slot,{scope:n,children:c.jsx(Ye.ol,{tabIndex:-1,...o,ref:h})}),y&&c.jsx(I1,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});kb(v)}})]})});O$.displayName=k$;var R$="ToastFocusProxy",I1=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=Sx(R$,n);return c.jsx(Wp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const a=s.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});I1.displayName=R$;var _x="Toast",LW="toast.swipeStart",FW="toast.swipeMove",VW="toast.swipeCancel",BW="toast.swipeEnd",M$=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=Mo({prop:r,defaultProp:i,onChange:o});return c.jsx(to,{present:n||a,children:c.jsx(WW,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Dn(t.onPause),onResume:Dn(t.onResume),onSwipeStart:$e(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:$e(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});M$.displayName=_x;var[UW,zW]=j$(_x,{onClose(){}}),WW=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=t,g=Sx(_x,n),[v,x]=b.useState(null),w=mt(e,$=>x($)),S=b.useRef(null),C=b.useRef(null),E=i||g.duration,P=b.useRef(0),_=b.useRef(E),T=b.useRef(0),{onToastAdd:N,onToastRemove:k}=g,j=Dn(()=>{var F;(v==null?void 0:v.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),s()}),R=b.useCallback($=>{!$||$===1/0||(window.clearTimeout(T.current),P.current=new Date().getTime(),T.current=window.setTimeout(j,$))},[j]);b.useEffect(()=>{const $=g.viewport;if($){const F=()=>{R(_.current),u==null||u()},U=()=>{const W=new Date().getTime()-P.current;_.current=_.current-W,window.clearTimeout(T.current),l==null||l()};return $.addEventListener(N1,U),$.addEventListener(j1,F),()=>{$.removeEventListener(N1,U),$.removeEventListener(j1,F)}}},[g.viewport,E,l,u,R]),b.useEffect(()=>{o&&!g.isClosePausedRef.current&&R(E)},[o,E,g.isClosePausedRef,R]),b.useEffect(()=>(N(),()=>k()),[N,k]);const O=b.useMemo(()=>v?U$(v):null,[v]);return g.viewport?c.jsxs(c.Fragment,{children:[O&&c.jsx(HW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),c.jsx(UW,{scope:n,onClose:j,children:Ec.createPortal(c.jsx(ZE.ItemSlot,{scope:n,children:c.jsx(TW,{asChild:!0,onEscapeKeyDown:$e(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:$e(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:$e(t.onPointerDown,$=>{$.button===0&&(S.current={x:$.clientX,y:$.clientY})}),onPointerMove:$e(t.onPointerMove,$=>{if(!S.current)return;const F=$.clientX-S.current.x,U=$.clientY-S.current.y,W=!!C.current,V=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Z=V?B(0,F):0,Q=V?0:B(0,U),ne=$.pointerType==="touch"?10:2,Ee={x:Z,y:Q},Pe={originalEvent:$,delta:Ee};W?(C.current=Ee,Wm(FW,f,Pe,{discrete:!1})):IN(Ee,g.swipeDirection,ne)?(C.current=Ee,Wm(LW,d,Pe,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(F)>ne||Math.abs(U)>ne)&&(S.current=null)}),onPointerUp:$e(t.onPointerUp,$=>{const F=C.current,U=$.target;if(U.hasPointerCapture($.pointerId)&&U.releasePointerCapture($.pointerId),C.current=null,S.current=null,F){const W=$.currentTarget,V={originalEvent:$,delta:F};IN(F,g.swipeDirection,g.swipeThreshold)?Wm(BW,m,V,{discrete:!0}):Wm(VW,h,V,{discrete:!0}),W.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),HW=t=>{const{__scopeToast:e,children:n,...r}=t,i=Sx(_x,e),[o,s]=b.useState(!1),[a,l]=b.useState(!1);return KW(()=>s(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(wx,{asChild:!0,children:c.jsx(Wp,{...r,children:o&&c.jsxs(c.Fragment,{children:[i.label," ",n]})})})},qW="ToastTitle",D$=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Ye.div,{...r,ref:e})});D$.displayName=qW;var GW="ToastDescription",$$=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Ye.div,{...r,ref:e})});$$.displayName=GW;var L$="ToastAction",F$=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(B$,{altText:n,asChild:!0,children:c.jsx(eT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${L$}\`. Expected non-empty \`string\`.`),null)});F$.displayName=L$;var V$="ToastClose",eT=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=zW(V$,n);return c.jsx(B$,{asChild:!0,children:c.jsx(Ye.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,i.onClose)})})});eT.displayName=V$;var B$=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return c.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function U$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),YW(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...U$(r))}}),e}function Wm(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?C$(i,o):i.dispatchEvent(o)}var IN=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function KW(t=()=>{}){const e=Dn(t);fr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function YW(t){return t.nodeType===t.ELEMENT_NODE}function XW(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kb(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var QW=I$,z$=O$,W$=M$,H$=D$,q$=$$,G$=F$,K$=eT;function Y$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Y$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ct(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Y$(t))&&(r&&(r+=" "),r+=e);return r}const kN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ON=Ct,Ex=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ON(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=kN(d)||kN(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...u,f,h]:u},[]);return ON(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X$=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>b.createElement("svg",{ref:l,...ZW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:X$("lucide",i),...a},[...s.map(([u,d])=>b.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(eH,{ref:o,iconNode:e,className:X$(`lucide-${JW(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=Ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Ge("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Ge("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Ge("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Ge("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Ge("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Ge("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=Ge("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Ge("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Ge("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Ge("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=Ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ge("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=Ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ge("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=Ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=Ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ge("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),iT="-",EH=t=>{const e=CH(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(iT);return a[0]===""&&a.length!==1&&a.shift(),iL(a,e)||TH(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},iL=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?iL(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(iT);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},LN=/^\[(.+)\]$/,TH=t=>{if(LN.test(t)){const e=LN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},CH=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return PH(Object.entries(t.classGroups),n).forEach(([o,s])=>{D1(s,r,o,e)}),r},D1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:FN(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(AH(i)){D1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{D1(s,FN(e,o),n,r)})})},FN=(t,e)=>{let n=t;return e.split(iT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},AH=t=>t.isThemeGetter,PH=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,NH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},oL="!",jH=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let u=0,d=0,f;for(let v=0;v<a.length;v++){let x=a[v];if(u===0){if(x===i&&(r||a.slice(v,v+o)===e)){l.push(a.slice(d,v)),d=v+o;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(oL),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},IH=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},kH=t=>({cache:NH(t.cacheSize),parseClassName:jH(t),...EH(t)}),OH=/\s+/,RH=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(OH);let a="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let y=!!m,g=r(y?h.substring(0,m):h);if(!g){if(!y){a=u+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=u+(a.length>0?" "+a:a);continue}y=!1}const v=IH(d).join(":"),x=f?v+oL:v,w=x+g;if(o.includes(w))continue;o.push(w);const S=i(g,y);for(let C=0;C<S.length;++C){const E=S[C];o.push(x+E)}a=u+(a.length>0?" "+a:a)}return a};function MH(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=sL(e))&&(r&&(r+=" "),r+=n);return r}const sL=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=sL(t[r]))&&(n&&(n+=" "),n+=e);return n};function DH(t,...e){let n,r,i,o=s;function s(l){const u=e.reduce((d,f)=>f(d),t());return n=kH(u),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=RH(l,n);return i(l,d),d}return function(){return o(MH.apply(null,arguments))}}const sn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aL=/^\[(?:([a-z-]+):)?(.+)\]$/i,$H=/^\d+\/\d+$/,LH=new Set(["px","full","screen"]),FH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ps=t=>bu(t)||LH.has(t)||$H.test(t),va=t=>kd(t,"length",QH),bu=t=>!!t&&!Number.isNaN(Number(t)),Rb=t=>kd(t,"number",bu),vf=t=>!!t&&Number.isInteger(Number(t)),WH=t=>t.endsWith("%")&&bu(t.slice(0,-1)),ft=t=>aL.test(t),xa=t=>FH.test(t),HH=new Set(["length","size","percentage"]),qH=t=>kd(t,HH,lL),GH=t=>kd(t,"position",lL),KH=new Set(["image","url"]),YH=t=>kd(t,KH,ZH),XH=t=>kd(t,"",JH),xf=()=>!0,kd=(t,e,n)=>{const r=aL.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},QH=t=>VH.test(t)&&!BH.test(t),lL=()=>!1,JH=t=>UH.test(t),ZH=t=>zH.test(t),eq=()=>{const t=sn("colors"),e=sn("spacing"),n=sn("blur"),r=sn("brightness"),i=sn("borderColor"),o=sn("borderRadius"),s=sn("borderSpacing"),a=sn("borderWidth"),l=sn("contrast"),u=sn("grayscale"),d=sn("hueRotate"),f=sn("invert"),h=sn("gap"),m=sn("gradientColorStops"),y=sn("gradientColorStopPositions"),g=sn("inset"),v=sn("margin"),x=sn("opacity"),w=sn("padding"),S=sn("saturate"),C=sn("scale"),E=sn("sepia"),P=sn("skew"),_=sn("space"),T=sn("translate"),N=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",ft,e],R=()=>[ft,e],O=()=>["",Ps,va],$=()=>["auto",bu,ft],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ft],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[bu,ft];return{cacheSize:500,separator:":",theme:{colors:[xf],spacing:[Ps,va],blur:["none","",xa,ft],brightness:Q(),borderColor:[t],borderRadius:["none","","full",xa,ft],borderSpacing:R(),borderWidth:O(),contrast:Q(),grayscale:B(),hueRotate:Q(),invert:B(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[WH,va],inset:j(),margin:j(),opacity:Q(),padding:R(),saturate:Q(),scale:Q(),sepia:B(),skew:Q(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[xa]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ft]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vf,ft]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",vf,ft]}],"grid-cols":[{"grid-cols":[xf]}],"col-start-end":[{col:["auto",{span:["full",vf,ft]},ft]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[xf]}],"row-start-end":[{row:["auto",{span:[vf,ft]},ft]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,e]}],"min-w":[{"min-w":[ft,e,"min","max","fit"]}],"max-w":[{"max-w":[ft,e,"none","full","min","max","fit","prose",{screen:[xa]},xa]}],h:[{h:[ft,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xa,va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rb]}],"font-family":[{font:[xf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",bu,Rb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ps,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ps,va]}],"underline-offset":[{"underline-offset":["auto",Ps,ft]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),GH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Ps,ft]}],"outline-w":[{outline:[Ps,va]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ps,va]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xa,XH]}],"shadow-color":[{shadow:[xf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xa,ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[vf,ft]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ps,va,Rb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tq=DH(eq);function ct(...t){return tq(Ct(t))}const nq=QW,cL=b.forwardRef(({className:t,...e},n)=>c.jsx(z$,{ref:n,className:ct("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));cL.displayName=z$.displayName;const rq=Ex("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uL=b.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(W$,{ref:r,className:ct(rq({variant:e}),t),...n}));uL.displayName=W$.displayName;const iq=b.forwardRef(({className:t,...e},n)=>c.jsx(G$,{ref:n,className:ct("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));iq.displayName=G$.displayName;const dL=b.forwardRef(({className:t,...e},n)=>c.jsx(K$,{ref:n,className:ct("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(Hp,{className:"h-4 w-4"})}));dL.displayName=K$.displayName;const fL=b.forwardRef(({className:t,...e},n)=>c.jsx(H$,{ref:n,className:ct("text-sm font-semibold",t),...e}));fL.displayName=H$.displayName;const hL=b.forwardRef(({className:t,...e},n)=>c.jsx(q$,{ref:n,className:ct("text-sm opacity-90",t),...e}));hL.displayName=q$.displayName;function oq(){const{toasts:t}=Id();return c.jsxs(nq,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return c.jsxs(uL,{...o,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(fL,{children:n}),r&&c.jsx(hL,{children:r})]}),i,c.jsx(dL,{})]},e)}),c.jsx(cL,{})]})}var sq=tM[" useId ".trim().toString()]||(()=>{}),aq=0;function as(t){const[e,n]=b.useState(sq());return fr(()=>{n(r=>r??String(aq++))},[t]),e?`radix-${e}`:""}const lq=["top","right","bottom","left"],ol=Math.min,Ei=Math.max,Ty=Math.round,qm=Math.floor,ls=t=>({x:t,y:t}),cq={left:"right",right:"left",bottom:"top",top:"bottom"},uq={start:"end",end:"start"};function $1(t,e,n){return Ei(t,ol(e,n))}function Qs(t,e){return typeof t=="function"?t(e):t}function Js(t){return t.split("-")[0]}function Od(t){return t.split("-")[1]}function oT(t){return t==="x"?"y":"x"}function sT(t){return t==="y"?"height":"width"}function sl(t){return["top","bottom"].includes(Js(t))?"y":"x"}function aT(t){return oT(sl(t))}function dq(t,e,n){n===void 0&&(n=!1);const r=Od(t),i=aT(t),o=sT(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Cy(s)),[s,Cy(s)]}function fq(t){const e=Cy(t);return[L1(t),e,L1(e)]}function L1(t){return t.replace(/start|end/g,e=>uq[e])}function hq(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function pq(t,e,n,r){const i=Od(t);let o=hq(Js(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(L1)))),o}function Cy(t){return t.replace(/left|right|bottom|top/g,e=>cq[e])}function mq(t){return{top:0,right:0,bottom:0,left:0,...t}}function pL(t){return typeof t!="number"?mq(t):{top:t,right:t,bottom:t,left:t}}function Ay(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function VN(t,e,n){let{reference:r,floating:i}=t;const o=sl(e),s=aT(e),a=sT(s),l=Js(e),u=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Od(e)){case"start":m[s]-=h*(n&&u?-1:1);break;case"end":m[s]+=h*(n&&u?-1:1);break}return m}const gq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=VN(u,r,l),h=r,m={},y=0;for(let g=0;g<a.length;g++){const{name:v,fn:x}=a[g],{x:w,y:S,data:C,reset:E}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:t,floating:e}});d=w??d,f=S??f,m={...m,[v]:{...m[v],...C}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=VN(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Dh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Qs(e,t),y=pL(m),v=a[h?f==="floating"?"reference":"floating":f],x=Ay(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Ay(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(x.top-E.top+y.top)/C.y,bottom:(E.bottom-x.bottom+y.bottom)/C.y,left:(x.left-E.left+y.left)/C.x,right:(E.right-x.right+y.right)/C.x}}const yq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Qs(t,e)||{};if(u==null)return{};const f=pL(d),h={x:n,y:r},m=aT(i),y=sT(m),g=await s.getDimensions(u),v=m==="y",x=v?"top":"left",w=v?"bottom":"right",S=v?"clientHeight":"clientWidth",C=o.reference[y]+o.reference[m]-h[m]-o.floating[y],E=h[m]-o.reference[m],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let _=P?P[S]:0;(!_||!await(s.isElement==null?void 0:s.isElement(P)))&&(_=a.floating[S]||o.floating[y]);const T=C/2-E/2,N=_/2-g[y]/2-1,k=ol(f[x],N),j=ol(f[w],N),R=k,O=_-g[y]-j,$=_/2-g[y]/2+T,F=$1(R,$,O),U=!l.arrow&&Od(i)!=null&&$!==F&&o.reference[y]/2-($<R?k:j)-g[y]/2<0,W=U?$<R?$-R:$-O:0;return{[m]:h[m]+W,data:{[m]:F,centerOffset:$-F-W,...U&&{alignmentOffset:W}},reset:U}}}),vq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Qs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Js(i),w=sl(a),S=Js(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(S||!g?[Cy(a)]:fq(a)),P=y!=="none";!h&&P&&E.push(...pq(a,g,y,C));const _=[a,...E],T=await Dh(e,v),N=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(T[x]),f){const $=dq(i,s,C);N.push(T[$[0]],T[$[1]])}if(k=[...k,{placement:i,overflows:N}],!N.every($=>$<=0)){var j,R;const $=(((j=o.flip)==null?void 0:j.index)||0)+1,F=_[$];if(F)return{data:{index:$,overflows:k},reset:{placement:F}};let U=(R=k.filter(W=>W.overflows[0]<=0).sort((W,V)=>W.overflows[1]-V.overflows[1])[0])==null?void 0:R.placement;if(!U)switch(m){case"bestFit":{var O;const W=(O=k.filter(V=>{if(P){const B=sl(V.placement);return B===w||B==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(B=>B>0).reduce((B,Z)=>B+Z,0)]).sort((V,B)=>V[1]-B[1])[0])==null?void 0:O[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function BN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function UN(t){return lq.some(e=>t[e]>=0)}const xq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Qs(t,e);switch(r){case"referenceHidden":{const o=await Dh(e,{...i,elementContext:"reference"}),s=BN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:UN(s)}}}case"escaped":{const o=await Dh(e,{...i,altBoundary:!0}),s=BN(o,n.floating);return{data:{escapedOffsets:s,escaped:UN(s)}}}default:return{}}}}};async function bq(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Js(n),a=Od(n),l=sl(n)==="y",u=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,f=Qs(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const wq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await bq(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Sq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...l}=Qs(t,e),u={x:n,y:r},d=await Dh(e,l),f=sl(Js(i)),h=oT(f);let m=u[h],y=u[f];if(o){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=m+d[v],S=m-d[x];m=$1(w,m,S)}if(s){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=y+d[v],S=y-d[x];y=$1(w,y,S)}const g=a.fn({...e,[h]:m,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:s}}}}}},_q=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Qs(t,e),d={x:n,y:r},f=sl(i),h=oT(f);let m=d[h],y=d[f];const g=Qs(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=h==="y"?"height":"width",C=o.reference[h]-o.floating[S]+v.mainAxis,E=o.reference[h]+o.reference[S]-v.mainAxis;m<C?m=C:m>E&&(m=E)}if(u){var x,w;const S=h==="y"?"width":"height",C=["top","left"].includes(Js(i)),E=o.reference[f]-o.floating[S]+(C&&((x=s.offset)==null?void 0:x[f])||0)+(C?0:v.crossAxis),P=o.reference[f]+o.reference[S]+(C?0:((w=s.offset)==null?void 0:w[f])||0)-(C?v.crossAxis:0);y<E?y=E:y>P&&(y=P)}return{[h]:m,[f]:y}}}},Eq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...u}=Qs(t,e),d=await Dh(e,u),f=Js(i),h=Od(i),m=sl(i)==="y",{width:y,height:g}=o.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,S=y-d.left-d.right,C=ol(g-d[v],w),E=ol(y-d[x],S),P=!e.middlewareData.shift;let _=C,T=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),P&&!h){const k=Ei(d.left,0),j=Ei(d.right,0),R=Ei(d.top,0),O=Ei(d.bottom,0);m?T=y-2*(k!==0||j!==0?k+j:Ei(d.left,d.right)):_=g-2*(R!==0||O!==0?R+O:Ei(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:_});const N=await s.getDimensions(a.floating);return y!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Cx(){return typeof window<"u"}function Rd(t){return mL(t)?(t.nodeName||"").toLowerCase():"#document"}function Ni(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ws(t){var e;return(e=(mL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mL(t){return Cx()?t instanceof Node||t instanceof Ni(t).Node:!1}function Do(t){return Cx()?t instanceof Element||t instanceof Ni(t).Element:!1}function gs(t){return Cx()?t instanceof HTMLElement||t instanceof Ni(t).HTMLElement:!1}function zN(t){return!Cx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ni(t).ShadowRoot}function qp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=$o(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Tq(t){return["table","td","th"].includes(Rd(t))}function Ax(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function lT(t){const e=cT(),n=Do(t)?$o(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Cq(t){let e=al(t);for(;gs(e)&&!Yu(e);){if(lT(e))return e;if(Ax(e))return null;e=al(e)}return null}function cT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yu(t){return["html","body","#document"].includes(Rd(t))}function $o(t){return Ni(t).getComputedStyle(t)}function Px(t){return Do(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function al(t){if(Rd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zN(t)&&t.host||ws(t);return zN(e)?e.host:e}function gL(t){const e=al(t);return Yu(e)?t.ownerDocument?t.ownerDocument.body:t.body:gs(e)&&qp(e)?e:gL(e)}function $h(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=gL(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ni(i);if(o){const a=F1(s);return e.concat(s,s.visualViewport||[],qp(i)?i:[],a&&n?$h(a):[])}return e.concat(i,$h(i,[],n))}function F1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yL(t){const e=$o(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=gs(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Ty(n)!==o||Ty(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function uT(t){return Do(t)?t:t.contextElement}function wu(t){const e=uT(t);if(!gs(e))return ls(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=yL(e);let s=(o?Ty(n.width):n.width)/r,a=(o?Ty(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Aq=ls(0);function vL(t){const e=Ni(t);return!cT()||!e.visualViewport?Aq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Pq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ni(t)?!1:e}function cc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=uT(t);let s=ls(1);e&&(r?Do(r)&&(s=wu(r)):s=wu(t));const a=Pq(o,n,r)?vL(o):ls(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const h=Ni(o),m=r&&Do(r)?Ni(r):r;let y=h,g=F1(y);for(;g&&r&&m!==y;){const v=wu(g),x=g.getBoundingClientRect(),w=$o(g),S=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,C=x.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=S,u+=C,y=Ni(g),g=F1(y)}}return Ay({width:d,height:f,x:l,y:u})}function dT(t,e){const n=Px(t).scrollLeft;return e?e.left+n:cc(ws(t)).left+n}function xL(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:dT(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Nq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=ws(r),a=e?Ax(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=ls(1);const d=ls(0),f=gs(r);if((f||!f&&!o)&&((Rd(r)!=="body"||qp(s))&&(l=Px(r)),gs(r))){const m=cc(r);u=wu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!o?xL(s,l,!0):ls(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function jq(t){return Array.from(t.getClientRects())}function Iq(t){const e=ws(t),n=Px(t),r=t.ownerDocument.body,i=Ei(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ei(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+dT(t);const a=-n.scrollTop;return $o(r).direction==="rtl"&&(s+=Ei(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function kq(t,e){const n=Ni(t),r=ws(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=cT();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Oq(t,e){const n=cc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=gs(t)?wu(t):ls(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function WN(t,e,n){let r;if(e==="viewport")r=kq(t,n);else if(e==="document")r=Iq(ws(t));else if(Do(e))r=Oq(e,n);else{const i=vL(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ay(r)}function bL(t,e){const n=al(t);return n===e||!Do(n)||Yu(n)?!1:$o(n).position==="fixed"||bL(n,e)}function Rq(t,e){const n=e.get(t);if(n)return n;let r=$h(t,[],!1).filter(a=>Do(a)&&Rd(a)!=="body"),i=null;const o=$o(t).position==="fixed";let s=o?al(t):t;for(;Do(s)&&!Yu(s);){const a=$o(s),l=lT(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||qp(s)&&!l&&bL(t,s))?r=r.filter(d=>d!==s):i=a,s=al(s)}return e.set(t,r),r}function Mq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Ax(e)?[]:Rq(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const f=WN(e,d,i);return u.top=Ei(f.top,u.top),u.right=ol(f.right,u.right),u.bottom=ol(f.bottom,u.bottom),u.left=Ei(f.left,u.left),u},WN(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Dq(t){const{width:e,height:n}=yL(t);return{width:e,height:n}}function $q(t,e,n){const r=gs(e),i=ws(e),o=n==="fixed",s=cc(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=ls(0);if(r||!r&&!o)if((Rd(e)!=="body"||qp(i))&&(a=Px(e)),r){const h=cc(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=dT(i));const u=i&&!r&&!o?xL(i,a):ls(0),d=s.left+a.scrollLeft-l.x-u.x,f=s.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function Mb(t){return $o(t).position==="static"}function HN(t,e){if(!gs(t)||$o(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ws(t)===n&&(n=n.ownerDocument.body),n}function wL(t,e){const n=Ni(t);if(Ax(t))return n;if(!gs(t)){let i=al(t);for(;i&&!Yu(i);){if(Do(i)&&!Mb(i))return i;i=al(i)}return n}let r=HN(t,e);for(;r&&Tq(r)&&Mb(r);)r=HN(r,e);return r&&Yu(r)&&Mb(r)&&!lT(r)?n:r||Cq(t)||n}const Lq=async function(t){const e=this.getOffsetParent||wL,n=this.getDimensions,r=await n(t.floating);return{reference:$q(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Fq(t){return $o(t).direction==="rtl"}const Vq={convertOffsetParentRelativeRectToViewportRelativeRect:Nq,getDocumentElement:ws,getClippingRect:Mq,getOffsetParent:wL,getElementRects:Lq,getClientRects:jq,getDimensions:Dq,getScale:wu,isElement:Do,isRTL:Fq};function SL(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Bq(t,e){let n=null,r;const i=ws(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const y=qm(f),g=qm(i.clientWidth-(d+h)),v=qm(i.clientHeight-(f+m)),x=qm(d),S={rootMargin:-y+"px "+-g+"px "+-v+"px "+-x+"px",threshold:Ei(0,ol(1,l))||1};let C=!0;function E(P){const _=P[0].intersectionRatio;if(_!==l){if(!C)return s();_?s(!1,_):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!SL(u,t.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(E,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(t)}return s(!0),o}function Uq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=uT(t),d=i||o?[...u?$h(u):[],...$h(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=u&&a?Bq(u,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,g=l?cc(t):null;l&&v();function v(){const x=cc(t);g&&!SL(g,x)&&n(),g=x,y=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const zq=wq,Wq=Sq,Hq=vq,qq=Eq,Gq=xq,qN=yq,Kq=_q,Yq=(t,e,n)=>{const r=new Map,i={platform:Vq,...n},o={...i.platform,_c:r};return gq(t,e,{...i,platform:o})};var Dg=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Py(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Py(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Py(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function _L(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function GN(t,e){const n=_L(t);return Math.round(e*n)/n}function Db(t){const e=b.useRef(t);return Dg(()=>{e.current=t}),e}function Xq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(r);Py(h,r)||m(r);const[y,g]=b.useState(null),[v,x]=b.useState(null),w=b.useCallback(V=>{V!==P.current&&(P.current=V,g(V))},[]),S=b.useCallback(V=>{V!==_.current&&(_.current=V,x(V))},[]),C=o||y,E=s||v,P=b.useRef(null),_=b.useRef(null),T=b.useRef(d),N=l!=null,k=Db(l),j=Db(i),R=Db(u),O=b.useCallback(()=>{if(!P.current||!_.current)return;const V={placement:e,strategy:n,middleware:h};j.current&&(V.platform=j.current),Yq(P.current,_.current,V).then(B=>{const Z={...B,isPositioned:R.current!==!1};$.current&&!Py(T.current,Z)&&(T.current=Z,Ec.flushSync(()=>{f(Z)}))})},[h,e,n,j,R]);Dg(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const $=b.useRef(!1);Dg(()=>($.current=!0,()=>{$.current=!1}),[]),Dg(()=>{if(C&&(P.current=C),E&&(_.current=E),C&&E){if(k.current)return k.current(C,E,O);O()}},[C,E,O,k,N]);const F=b.useMemo(()=>({reference:P,floating:_,setReference:w,setFloating:S}),[w,S]),U=b.useMemo(()=>({reference:C,floating:E}),[C,E]),W=b.useMemo(()=>{const V={position:n,left:0,top:0};if(!U.floating)return V;const B=GN(U.floating,d.x),Z=GN(U.floating,d.y);return a?{...V,transform:"translate("+B+"px, "+Z+"px)",..._L(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Z}},[n,a,U.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:O,refs:F,elements:U,floatingStyles:W}),[d,O,F,U,W])}const Qq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?qN({element:r.current,padding:i}).fn(n):{}:r?qN({element:r,padding:i}).fn(n):{}}}},Jq=(t,e)=>({...zq(t),options:[t,e]}),Zq=(t,e)=>({...Wq(t),options:[t,e]}),eG=(t,e)=>({...Kq(t),options:[t,e]}),tG=(t,e)=>({...Hq(t),options:[t,e]}),nG=(t,e)=>({...qq(t),options:[t,e]}),rG=(t,e)=>({...Gq(t),options:[t,e]}),iG=(t,e)=>({...Qq(t),options:[t,e]});var oG="Arrow",EL=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return c.jsx(Ye.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});EL.displayName=oG;var sG=EL;function fT(t){const[e,n]=b.useState(void 0);return fr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var hT="Popper",[TL,Nx]=Ri(hT),[aG,CL]=TL(hT),AL=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return c.jsx(aG,{scope:e,anchor:r,onAnchorChange:i,children:n})};AL.displayName=hT;var PL="PopperAnchor",NL=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=CL(PL,n),s=b.useRef(null),a=mt(e,s);return b.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:c.jsx(Ye.div,{...i,ref:a})});NL.displayName=PL;var pT="PopperContent",[lG,cG]=TL(pT),jL=b.forwardRef((t,e)=>{var we,Ne,oe,me,ae,z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=t,v=CL(pT,n),[x,w]=b.useState(null),S=mt(e,Se=>w(Se)),[C,E]=b.useState(null),P=fT(C),_=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,N=r+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],R=j.length>0,O={padding:k,boundary:j.filter(dG),altBoundary:R},{refs:$,floatingStyles:F,placement:U,isPositioned:W,middlewareData:V}=Xq({strategy:"fixed",placement:N,whileElementsMounted:(...Se)=>Uq(...Se,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Jq({mainAxis:i+T,alignmentAxis:s}),l&&Zq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?eG():void 0,...O}),l&&tG({...O}),nG({...O,apply:({elements:Se,rects:Te,availableWidth:Xe,availableHeight:Qe})=>{const{width:tt,height:Fe}=Te.reference,le=Se.floating.style;le.setProperty("--radix-popper-available-width",`${Xe}px`),le.setProperty("--radix-popper-available-height",`${Qe}px`),le.setProperty("--radix-popper-anchor-width",`${tt}px`),le.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),C&&iG({element:C,padding:a}),fG({arrowWidth:_,arrowHeight:T}),h&&rG({strategy:"referenceHidden",...O})]}),[B,Z]=OL(U),Q=Dn(y);fr(()=>{W&&(Q==null||Q())},[W,Q]);const ne=(we=V.arrow)==null?void 0:we.x,Ee=(Ne=V.arrow)==null?void 0:Ne.y,Pe=((oe=V.arrow)==null?void 0:oe.centerOffset)!==0,[Me,ot]=b.useState();return fr(()=>{x&&ot(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:W?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(me=V.transformOrigin)==null?void 0:me.x,(ae=V.transformOrigin)==null?void 0:ae.y].join(" "),...((z=V.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(lG,{scope:n,placedSide:B,onArrowChange:E,arrowX:ne,arrowY:Ee,shouldHideArrow:Pe,children:c.jsx(Ye.div,{"data-side":B,"data-align":Z,...g,ref:S,style:{...g.style,animation:W?void 0:"none"}})})})});jL.displayName=pT;var IL="PopperArrow",uG={top:"bottom",right:"left",bottom:"top",left:"right"},kL=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=cG(IL,r),s=uG[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(sG,{...i,ref:n,style:{...i.style,display:"block"}})})});kL.displayName=IL;function dG(t){return t!==null}var fG=t=>({name:"transformOrigin",options:t,fn(e){var v,x,w;const{placement:n,rects:r,middlewareData:i}=e,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=OL(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let y="",g="";return u==="bottom"?(y=s?f:`${h}px`,g=`${-l}px`):u==="top"?(y=s?f:`${h}px`,g=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,g=s?f:`${m}px`):u==="left"&&(y=`${r.floating.width+l}px`,g=s?f:`${m}px`),{data:{x:y,y:g}}}});function OL(t){const[e,n="center"]=t.split("-");return[e,n]}var hG=AL,RL=NL,ML=jL,DL=kL,[jx,Hje]=Ri("Tooltip",[Nx]),mT=Nx(),$L="TooltipProvider",pG=700,KN="tooltip.open",[mG,LL]=jx($L),FL=t=>{const{__scopeTooltip:e,delayDuration:n=pG,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,s=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(mG,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:o})};FL.displayName=$L;var VL="Tooltip",[qje,Ix]=jx(VL),V1="TooltipTrigger",gG=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ix(V1,n),o=LL(V1,n),s=mT(n),a=b.useRef(null),l=mt(e,a,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(RL,{asChild:!0,...s,children:c.jsx(Ye.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:$e(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:$e(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:$e(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:$e(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:$e(t.onBlur,i.onClose),onClick:$e(t.onClick,i.onClose)})})});gG.displayName=V1;var yG="TooltipPortal",[Gje,vG]=jx(yG,{forceMount:void 0}),Xu="TooltipContent",BL=b.forwardRef((t,e)=>{const n=vG(Xu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=Ix(Xu,t.__scopeTooltip);return c.jsx(to,{present:r||s.open,children:s.disableHoverableContent?c.jsx(UL,{side:i,...o,ref:e}):c.jsx(xG,{side:i,...o,ref:e})})}),xG=b.forwardRef((t,e)=>{const n=Ix(Xu,t.__scopeTooltip),r=LL(Xu,t.__scopeTooltip),i=b.useRef(null),o=mt(e,i),[s,a]=b.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{a(null),f(!1)},[f]),m=b.useCallback((y,g)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=EG(x,v.getBoundingClientRect()),S=TG(x,w),C=CG(g.getBoundingClientRect()),E=PG([...S,...C]);a(E),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const y=v=>m(v,d),g=v=>m(v,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),b.useEffect(()=>{if(s){const y=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),S=!AG(x,s);w?h():S&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,s,u,h]),c.jsx(UL,{...t,ref:o})}),[bG,wG]=jx(VL,{isInside:!1}),SG=hW("TooltipContent"),UL=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=Ix(Xu,n),u=mT(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(KN,d),()=>document.removeEventListener(KN,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(zp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(ML,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(SG,{children:r}),c.jsx(bG,{scope:n,isInside:!0,children:c.jsx(OW,{id:l.contentId,role:"tooltip",children:i||r})})]})})});BL.displayName=Xu;var zL="TooltipArrow",_G=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=mT(n);return wG(zL,n).isInside?null:c.jsx(DL,{...i,...r,ref:e})});_G.displayName=zL;function EG(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function TG(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function CG(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function AG(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,u=e[s].x,d=e[s].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function PG(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),NG(e)}function NG(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jG=FL,WL=BL;const IG=jG,kG=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(WL,{ref:r,sideOffset:e,className:ct("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));kG.displayName=WL.displayName;const $g=[{id:"promethean",name:"Promethean Red",primary:"0 84% 42%",primaryLight:"0 84% 45%"},{id:"ocean",name:"Ocean Blue",primary:"210 84% 42%",primaryLight:"210 84% 50%"},{id:"forest",name:"Forest Green",primary:"140 70% 35%",primaryLight:"140 70% 42%"},{id:"amethyst",name:"Amethyst Purple",primary:"270 70% 45%",primaryLight:"270 70% 52%"},{id:"sunset",name:"Sunset Orange",primary:"25 95% 50%",primaryLight:"25 95% 55%"},{id:"gold",name:"Classic Gold",primary:"45 90% 45%",primaryLight:"45 90% 52%"},{id:"teal",name:"Teal",primary:"175 70% 40%",primaryLight:"175 70% 48%"},{id:"rose",name:"Rose Pink",primary:"340 75% 55%",primaryLight:"340 75% 62%"}],HL=b.createContext(void 0);function OG({children:t}){const[e,n]=b.useState(()=>localStorage.getItem("cuemaster-theme")||"dark"),[r,i]=b.useState(()=>{const a=localStorage.getItem("cuemaster-color-theme");return a&&$g.find(u=>u.id===a)||$g[0]});b.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("cuemaster-theme",e)},[e]),b.useEffect(()=>{const a=document.documentElement,l=r.primary,u=r.primaryLight;a.style.setProperty("--primary",l),a.style.setProperty("--ring",l),a.style.setProperty("--sidebar-primary",e==="dark"?u:l),a.style.setProperty("--sidebar-ring",e==="dark"?u:l);const[d]=l.split(" "),f=parseFloat(d);e==="dark"?(a.style.setProperty("--sidebar-accent",`${f} 5% 15%`),a.style.setProperty("--accent",`${f} 6% 13%`)):(a.style.setProperty("--sidebar-accent",`${f} 5% 90%`),a.style.setProperty("--accent",`${f} 6% 92%`)),localStorage.setItem("cuemaster-color-theme",r.id)},[r,e]);const o=()=>{n(a=>a==="light"?"dark":"light")},s=a=>{i(a)};return c.jsx(HL.Provider,{value:{theme:e,setTheme:n,toggleTheme:o,colorTheme:r,setColorTheme:s},children:t})}function RG(){const t=b.useContext(HL);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const MG=()=>{};var YN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},GL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new $G;const h=o<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $G extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LG=function(t){const e=qL(t);return GL.encodeByteArray(e,!0)},Ny=function(t){return LG(t).replace(/\./g,"")},KL=function(t){try{return GL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=()=>FG().__FIREBASE_DEFAULTS__,BG=()=>{if(typeof process>"u"||typeof YN>"u")return;const t=YN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KL(t[1]);return e&&JSON.parse(e)},kx=()=>{try{return MG()||VG()||BG()||UG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YL=t=>{var e,n;return(n=(e=kx())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},zG=t=>{const e=YL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XL=()=>{var t;return(t=kx())==null?void 0:t.config},QL=t=>{var e;return(e=kx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ny(JSON.stringify(n)),Ny(JSON.stringify(s)),""].join(".")}const eh={};function qG(){const t={prod:[],emulator:[]};for(const e of Object.keys(eh))eh[e]?t.emulator.push(e):t.prod.push(e);return t}function GG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let XN=!1;function ZL(t,e){if(typeof window>"u"||typeof document>"u"||!Md(window.location.host)||eh[t]===e||eh[t]||XN)return;eh[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=qG().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{XN=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=GG(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),v=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),d(v,g);const C=u();l(w,x),S.append(w,y,v,C),document.body.appendChild(S)}o?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hr())}function YG(){var e;const t=(e=kx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZG(){const t=Hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eK(){return!YG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tK(){try{return typeof indexedDB=="object"}catch{return!1}}function nK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK="FirebaseError";class la extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rK,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gp.prototype.create)}}class Gp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?iK(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new la(i,a,r)}}function iK(t,e){return t.replace(oK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oK=/\{\$([^}]+)}/g;function sK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(QN(o)&&QN(s)){if(!uc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aK(t,e){const n=new lK(t,e);return n.subscribe.bind(n)}class lK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$b),i.error===void 0&&(i.error=$b),i.complete===void 0&&(i.complete=$b);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $b(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){return t&&t._delegate?t._delegate:t}class dc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fK(e))try{this.getOrInitializeService({instanceIdentifier:Il})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Il){return this.instances.has(e)}getOptions(e=Il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Il){return this.component?this.component.multipleInstances?e:Il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dK(t){return t===Il?void 0:t}function fK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wt||(wt={}));const pK={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},mK=wt.INFO,gK={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},yK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gT{constructor(e){this.name=e,this._logLevel=mK,this._logHandler=yK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const vK=(t,e)=>e.some(n=>t instanceof n);let JN,ZN;function xK(){return JN||(JN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bK(){return ZN||(ZN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e4=new WeakMap,B1=new WeakMap,t4=new WeakMap,Lb=new WeakMap,yT=new WeakMap;function wK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Xa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&e4.set(n,t)}).catch(()=>{}),yT.set(e,t),e}function SK(t){if(B1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});B1.set(t,e)}let U1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||t4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _K(t){U1=t(U1)}function EK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fb(this),e,...n);return t4.set(r,e.sort?e.sort():[e]),Xa(r)}:bK().includes(t)?function(...e){return t.apply(Fb(this),e),Xa(e4.get(this))}:function(...e){return Xa(t.apply(Fb(this),e))}}function TK(t){return typeof t=="function"?EK(t):(t instanceof IDBTransaction&&SK(t),vK(t,xK())?new Proxy(t,U1):t)}function Xa(t){if(t instanceof IDBRequest)return wK(t);if(Lb.has(t))return Lb.get(t);const e=TK(t);return e!==t&&(Lb.set(t,e),yT.set(e,t)),e}const Fb=t=>yT.get(t);function CK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Xa(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Xa(s.result),l.oldVersion,l.newVersion,Xa(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const AK=["get","getKey","getAll","getAllKeys","count"],PK=["put","add","delete","clear"],Vb=new Map;function ej(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vb.get(e))return Vb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AK.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Vb.set(e,o),o}_K(t=>({...t,get:(e,n,r)=>ej(e,n)||t.get(e,n,r),has:(e,n)=>!!ej(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z1="@firebase/app",tj="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new gT("@firebase/app"),IK="@firebase/app-compat",kK="@firebase/analytics-compat",OK="@firebase/analytics",RK="@firebase/app-check-compat",MK="@firebase/app-check",DK="@firebase/auth",$K="@firebase/auth-compat",LK="@firebase/database",FK="@firebase/data-connect",VK="@firebase/database-compat",BK="@firebase/functions",UK="@firebase/functions-compat",zK="@firebase/installations",WK="@firebase/installations-compat",HK="@firebase/messaging",qK="@firebase/messaging-compat",GK="@firebase/performance",KK="@firebase/performance-compat",YK="@firebase/remote-config",XK="@firebase/remote-config-compat",QK="@firebase/storage",JK="@firebase/storage-compat",ZK="@firebase/firestore",eY="@firebase/ai",tY="@firebase/firestore-compat",nY="firebase",rY="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="[DEFAULT]",iY={[z1]:"fire-core",[IK]:"fire-core-compat",[OK]:"fire-analytics",[kK]:"fire-analytics-compat",[MK]:"fire-app-check",[RK]:"fire-app-check-compat",[DK]:"fire-auth",[$K]:"fire-auth-compat",[LK]:"fire-rtdb",[FK]:"fire-data-connect",[VK]:"fire-rtdb-compat",[BK]:"fire-fn",[UK]:"fire-fn-compat",[zK]:"fire-iid",[WK]:"fire-iid-compat",[HK]:"fire-fcm",[qK]:"fire-fcm-compat",[GK]:"fire-perf",[KK]:"fire-perf-compat",[YK]:"fire-rc",[XK]:"fire-rc-compat",[QK]:"fire-gcs",[JK]:"fire-gcs-compat",[ZK]:"fire-fst",[tY]:"fire-fst-compat",[eY]:"fire-vertex","fire-js":"fire-js",[nY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map,oY=new Map,H1=new Map;function nj(t,e){try{t.container.addComponent(e)}catch(n){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qu(t){const e=t.name;if(H1.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;H1.set(e,t);for(const n of jy.values())nj(n,t);for(const n of oY.values())nj(n,t);return!0}function vT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _o(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new Gp("app","Firebase",sY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=rY;function n4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:W1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=XL()),!n)throw Qa.create("no-options");const o=jy.get(i);if(o){if(uc(n,o.options)&&uc(r,o.config))return o;throw Qa.create("duplicate-app",{appName:i})}const s=new hK(i);for(const l of H1.values())s.addComponent(l);const a=new aY(n,r,s);return jy.set(i,a),a}function r4(t=W1){const e=jy.get(t);if(!e&&t===W1&&XL())return n4();if(!e)throw Qa.create("no-app",{appName:t});return e}function Ja(t,e,n){let r=iY[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(s.join(" "));return}Qu(new dc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lY="firebase-heartbeat-database",cY=1,Lh="firebase-heartbeat-store";let Bb=null;function i4(){return Bb||(Bb=CK(lY,cY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),Bb}async function uY(t){try{const n=(await i4()).transaction(Lh),r=await n.objectStore(Lh).get(o4(t));return await n.done,r}catch(e){if(e instanceof la)Zs.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zs.warn(n.message)}}}async function rj(t,e){try{const r=(await i4()).transaction(Lh,"readwrite");await r.objectStore(Lh).put(e,o4(t)),await r.done}catch(n){if(n instanceof la)Zs.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zs.warn(r.message)}}}function o4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dY=1024,fY=30;class hY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ij();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>fY){const s=gY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ij(),{heartbeatsToSend:r,unsentEntries:i}=pY(this._heartbeatsCache.heartbeats),o=Ny(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Zs.warn(n),""}}}function ij(){return new Date().toISOString().substring(0,10)}function pY(t,e=dY){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),oj(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tK()?nK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oj(t){return Ny(JSON.stringify({version:2,heartbeats:t})).length}function gY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t){Qu(new dc("platform-logger",e=>new NK(e),"PRIVATE")),Qu(new dc("heartbeat",e=>new hY(e),"PRIVATE")),Ja(z1,tj,t),Ja(z1,tj,"esm2020"),Ja("fire-js","")}yY("");var vY="firebase",xY="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja(vY,xY,"app");function s4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bY=s4,a4=new Gp("auth","Firebase",s4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new gT("@firebase/auth");function wY(t,...e){Iy.logLevel<=wt.WARN&&Iy.warn(`Auth (${Dd}): ${t}`,...e)}function Lg(t,...e){Iy.logLevel<=wt.ERROR&&Iy.error(`Auth (${Dd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,...e){throw bT(t,...e)}function ko(t,...e){return bT(t,...e)}function xT(t,e,n){const r={...bY(),[e]:n};return new Gp("auth","Firebase",r).create(e,{appName:t.name})}function Jl(t){return xT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SY(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ys(t,"argument-error"),xT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return a4.create(t,...e)}function lt(t,e,...n){if(!t)throw bT(e,...n)}function Ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lg(e),new Error(e)}function ea(t,e){t||Ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function _Y(){return sj()==="http:"||sj()==="https:"}function sj(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_Y()||QG()||"connection"in navigator)?navigator.onLine:!0}function TY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=KG()||JG()}get(){return EY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e){ea(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PY=new Yp(3e4,6e4);function ST(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $d(t,e,n,r,i={}){return c4(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Kp({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return XG()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Md(t.emulatorConfig.host)&&(u.credentials="include"),l4.fetch()(await u4(t,t.config.apiHost,n,a),u)})}async function c4(t,e,n){t._canInitEmulator=!1;const r={...CY,...e};try{const i=new jY(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Gm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Gm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Gm(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xT(t,d,u);ys(t,d)}}catch(i){if(i instanceof la)throw i;ys(t,"network-request-failed",{message:String(i)})}}async function NY(t,e,n,r,i={}){const o=await $d(t,e,n,r,i);return"mfaPendingCredential"in o&&ys(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function u4(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?wT(t.config,i):`${t.config.apiScheme}://${i}`;return AY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class jY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ko(this.auth,"network-request-failed")),PY.get())})}}function Gm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ko(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IY(t,e){return $d(t,"POST","/v1/accounts:delete",e)}async function ky(t,e){return $d(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kY(t,e=!1){const n=Zi(t),r=await n.getIdToken(e),i=_T(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:th(Ub(i.auth_time)),issuedAtTime:th(Ub(i.iat)),expirationTime:th(Ub(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ub(t){return Number(t)*1e3}function _T(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=KL(n);return i?JSON.parse(i):(Lg("Failed to decode base64 JWT payload"),null)}catch(i){return Lg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aj(t){const e=_T(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof la&&OY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oy(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Fh(t,ky(e,{idToken:n}));lt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?d4(i.providerUserInfo):[],s=DY(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new G1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function MY(t){const e=Zi(t);await Oy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function d4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Y(t,e){const n=await c4(t,{},async()=>{const r=Kp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await u4(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Md(t.emulatorConfig.host)&&(l.credentials="include"),l4.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LY(t,e){return $d(t,"POST","/v2/accounts:revokeToken",ST(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=aj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await $Y(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Su;return r&&(lt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(lt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Su,this.toJSON())}_performRefresh(){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class To{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new RY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new G1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fh(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kY(this,e)}reload(){return MY(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new To({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_o(this.auth.app))return Promise.reject(Jl(this.auth));const e=await this.getIdToken();return await Fh(this,IY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:y,stsTokenManager:g}=n;lt(f&&g,e,"internal-error");const v=Su.fromJSON(this.name,g);lt(typeof f=="string",e,"internal-error"),ba(r,e.name),ba(i,e.name),lt(typeof h=="boolean",e,"internal-error"),lt(typeof m=="boolean",e,"internal-error"),ba(o,e.name),ba(s,e.name),ba(a,e.name),ba(l,e.name),ba(u,e.name),ba(d,e.name);const x=new To({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:v,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(x.providerData=y.map(w=>({...w}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Su;i.updateFromServerResponse(n);const o=new To({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];lt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?d4(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Su;a.updateFromIdToken(r);const l=new To({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new G1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=new Map;function Fs(t){ea(t instanceof Function,"Expected a class definition");let e=lj.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}f4.type="NONE";const cj=f4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e,n){return`firebase:${t}:${e}:${n}`}class _u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Fg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ky(this.auth,{idToken:e}).catch(()=>{});return n?To._fromGetAccountInfoResponse(this.auth,n,e):null}return To._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _u(Fs(cj),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Fs(cj);const s=Fg(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){let f;if(typeof d=="string"){const h=await ky(e,{idToken:d}).catch(()=>{});if(!h)break;f=await To._fromGetAccountInfoResponse(e,h,d)}else f=To._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new _u(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new _u(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v4(e))return"Blackberry";if(x4(e))return"Webos";if(p4(e))return"Safari";if((e.includes("chrome/")||m4(e))&&!e.includes("edge/"))return"Chrome";if(y4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function h4(t=Hr()){return/firefox\//i.test(t)}function p4(t=Hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m4(t=Hr()){return/crios\//i.test(t)}function g4(t=Hr()){return/iemobile/i.test(t)}function y4(t=Hr()){return/android/i.test(t)}function v4(t=Hr()){return/blackberry/i.test(t)}function x4(t=Hr()){return/webos/i.test(t)}function ET(t=Hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FY(t=Hr()){var e;return ET(t)&&!!((e=window.navigator)!=null&&e.standalone)}function VY(){return ZG()&&document.documentMode===10}function b4(t=Hr()){return ET(t)||y4(t)||x4(t)||v4(t)||/windows phone/i.test(t)||g4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t,e=[]){let n;switch(t){case"Browser":n=uj(Hr());break;case"Worker":n=`${uj(Hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UY(t,e={}){return $d(t,"GET","/v2/passwordPolicy",ST(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zY=6;class WY{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dj(this),this.idTokenSubscription=new dj(this),this.beforeStateQueue=new BY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fs(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await _u.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ky(this,{idToken:e}),r=await To._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(_o(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_o(this.app))return Promise.reject(Jl(this));const n=e?Zi(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _o(this.app)?Promise.reject(Jl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _o(this.app)?Promise.reject(Jl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UY(this),n=new WY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fs(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await _u.create(this,[Fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(_o(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&wY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ox(t){return Zi(t)}class dj{constructor(e){this.auth=e,this.observer=null,this.addObserver=aK(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qY(t){TT=t}function GY(t){return TT.loadJS(t)}function KY(){return TT.gapiScript}function YY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(t,e){const n=vT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(uc(o,e??{}))return i;ys(i,"already-initialized")}return n.initialize({options:e})}function QY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JY(t,e,n){const r=Ox(t);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=S4(e),{host:s,port:a}=ZY(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(uc(u,r.config.emulator)&&uc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Md(s)?(JL(`${o}//${s}${l}`),ZL("Auth",!0)):eX()}function S4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZY(t){const e=S4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:fj(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:fj(s)}}}function fj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ls("not implemented")}_getIdTokenResponse(e){return Ls("not implemented")}_linkToIdToken(e,n){return Ls("not implemented")}_getReauthenticationResolver(e){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,e){return NY(t,"POST","/v1/accounts:signInWithIdp",ST(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX="http://localhost";class fc extends _4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new fc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Eu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eu(e,n)}buildRequest(){const e={requestUri:tX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Xp{constructor(){super("facebook.com")}static credential(e){return fc._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Xp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fc._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Xp{constructor(){super("github.com")}static credential(e){return fc._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Xp{constructor(){super("twitter.com")}static credential(e,n){return fc._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Na.credential(n,r)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await To._fromIdTokenResponse(e,r,i),s=hj(r);return new Ju({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hj(r);return new Ju({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends la{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ry.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ry(e,n,r,i)}}function E4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ry._fromErrorAndOperation(t,o,e,r):o})}async function nX(t,e,n=!1){const r=await Fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ju._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rX(t,e,n=!1){const{auth:r}=t;if(_o(r.app))return Promise.reject(Jl(r));const i="reauthenticate";try{const o=await Fh(t,E4(r,i,e,t),n);lt(o.idToken,r,"internal-error");const s=_T(o.idToken);lt(s,r,"internal-error");const{sub:a}=s;return lt(t.uid===a,r,"user-mismatch"),Ju._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ys(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iX(t,e,n=!1){if(_o(t.app))return Promise.reject(Jl(t));const r="signIn",i=await E4(t,r,e),o=await Ju._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function oX(t,e,n,r){return Zi(t).onIdTokenChanged(e,n,r)}function sX(t,e,n){return Zi(t).beforeAuthStateChanged(e,n)}function aX(t,e,n,r){return Zi(t).onAuthStateChanged(e,n,r)}function lX(t){return Zi(t).signOut()}const My="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(My,"1"),this.storage.removeItem(My),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX=1e3,uX=10;class C4 extends T4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);VY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,uX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}C4.type="LOCAL";const dX=C4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4 extends T4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}A4.type="SESSION";const P4=A4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await fX(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=AT("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return window}function pX(t){cs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){return typeof cs().WorkerGlobalScope<"u"&&typeof cs().importScripts=="function"}async function mX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function yX(){return N4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="firebaseLocalStorageDb",vX=1,Dy="firebaseLocalStorage",I4="fbase_key";class Qp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mx(t,e){return t.transaction([Dy],e?"readwrite":"readonly").objectStore(Dy)}function xX(){const t=indexedDB.deleteDatabase(j4);return new Qp(t).toPromise()}function K1(){const t=indexedDB.open(j4,vX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dy,{keyPath:I4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dy)?e(r):(r.close(),await xX(),e(await K1()))})})}async function pj(t,e,n){const r=Mx(t,!0).put({[I4]:e,value:n});return new Qp(r).toPromise()}async function bX(t,e){const n=Mx(t,!1).get(e),r=await new Qp(n).toPromise();return r===void 0?null:r.value}function mj(t,e){const n=Mx(t,!0).delete(e);return new Qp(n).toPromise()}const wX=800,SX=3;class k4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rx._getInstance(yX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await mX(),!this.activeServiceWorker)return;this.sender=new hX(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K1();return await pj(e,My,"1"),await mj(e,My),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Mx(i,!1).getAll();return new Qp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k4.type="LOCAL";const _X=k4;new Yp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t,e){return e?Fs(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends _4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EX(t){return iX(t.auth,new PT(t),t.bypassAuthState)}function TX(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),rX(n,new PT(t),t.bypassAuthState)}async function CX(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),nX(n,new PT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EX;case"linkViaPopup":case"linkViaRedirect":return CX;case"reauthViaPopup":case"reauthViaRedirect":return TX;default:ys(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AX=new Yp(2e3,1e4);async function M4(t,e,n){if(_o(t.app))return Promise.reject(ko(t,"operation-not-supported-in-this-environment"));const r=Ox(t);SY(t,e,CT);const i=O4(r,n);return new Vl(r,"signInViaPopup",e,i).executeNotNull()}class Vl extends R4{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=AT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ko(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ko(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ko(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AX.get())};e()}}Vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX="pendingRedirect",Vg=new Map;class NX extends R4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vg.get(this.auth._key());if(!e){try{const r=await jX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vg.set(this.auth._key(),e)}return this.bypassAuthState||Vg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jX(t,e){const n=OX(e),r=kX(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function IX(t,e){Vg.set(t._key(),e)}function kX(t){return Fs(t._redirectPersistence)}function OX(t){return Fg(PX,t.config.apiKey,t.name)}async function RX(t,e,n=!1){if(_o(t.app))return Promise.reject(Jl(t));const r=Ox(t),i=O4(r,e),s=await new NX(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MX=10*60*1e3;class DX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$X(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!D4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ko(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MX&&this.cachedEventUids.clear(),this.cachedEventUids.has(gj(e))}saveEventToCache(e){this.cachedEventUids.add(gj(e)),this.lastProcessedEventTime=Date.now()}}function gj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $X(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LX(t,e={}){return $d(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VX=/^https?/;async function BX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LX(t);for(const n of e)try{if(UX(n))return}catch{}ys(t,"unauthorized-domain")}function UX(t){const e=q1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!VX.test(n))return!1;if(FX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX=new Yp(3e4,6e4);function yj(){const t=cs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WX(t){return new Promise((e,n)=>{var i,o,s;function r(){yj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yj(),n(ko(t,"network-request-failed"))},timeout:zX.get()})}if((o=(i=cs().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=cs().gapi)!=null&&s.load)r();else{const a=YY("iframefcb");return cs()[a]=()=>{gapi.load?r():n(ko(t,"network-request-failed"))},GY(`${KY()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bg=null,e})}let Bg=null;function HX(t){return Bg=Bg||WX(t),Bg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX=new Yp(5e3,15e3),GX="__/auth/iframe",KX="emulator/auth/iframe",YX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QX(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wT(e,KX):`https://${t.config.authDomain}/${GX}`,r={apiKey:e.apiKey,appName:t.name,v:Dd},i=XX.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Kp(r).slice(1)}`}async function JX(t){const e=await HX(t),n=cs().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:QX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YX,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=ko(t,"network-request-failed"),a=cs().setTimeout(()=>{o(s)},qX.get());function l(){cs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eQ=500,tQ=600,nQ="_blank",rQ="http://localhost";class vj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iQ(t,e,n,r=eQ,i=tQ){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...ZX,width:r.toString(),height:i.toString(),top:o,left:s},u=Hr().toLowerCase();n&&(a=m4(u)?nQ:n),h4(u)&&(e=e||rQ,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(FY(u)&&a!=="_self")return oQ(e||"",a),new vj(null);const f=window.open(e||"",a,d);lt(f,t,"popup-blocked");try{f.focus()}catch{}return new vj(f)}function oQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ="__/auth/handler",aQ="emulator/auth/handler",lQ=encodeURIComponent("fac");async function xj(t,e,n,r,i,o){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dd,eventId:i};if(e instanceof CT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",sK(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof Xp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${lQ}=${encodeURIComponent(l)}`:"";return`${cQ(t)}?${Kp(a).slice(1)}${u}`}function cQ({config:t}){return t.emulator?wT(t,aQ):`https://${t.authDomain}/${sQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="webStorageSupport";class uQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P4,this._completeRedirectFn=RX,this._overrideRedirectResult=IX}async _openPopup(e,n,r,i){var s;ea((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await xj(e,n,r,q1(),i);return iQ(e,o,AT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await xj(e,n,r,q1(),i);return pX(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ea(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JX(e),r=new DX(e);return n.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zb,{type:zb},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[zb];o!==void 0&&n(!!o),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return b4()||p4()||ET()}}const dQ=uQ;var bj="@firebase/auth",wj="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pQ(t){Qu(new dc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;lt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w4(t)},u=new HY(r,i,o,l);return QY(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qu(new dc("auth-internal",e=>{const n=Ox(e.getProvider("auth").getImmediate());return(r=>new fQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(bj,wj,hQ(t)),Ja(bj,wj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mQ=5*60,gQ=QL("authIdTokenMaxAge")||mQ;let Sj=null;const yQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gQ)return;const i=n==null?void 0:n.token;Sj!==i&&(Sj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vQ(t=r4()){const e=vT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XY(t,{popupRedirectResolver:dQ,persistence:[_X,dX,P4]}),r=QL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=yQ(o.toString());sX(n,s,()=>s(n.currentUser)),oX(n,a=>s(a))}}const i=YL("auth");return i&&JY(n,`http://${i}`),n}function xQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}qY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ko("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",xQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pQ("Browser");var _j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,$4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function N(){}N.prototype=T.prototype,_.F=T.prototype,_.prototype=new N,_.prototype.constructor=_,_.D=function(k,j,R){for(var O=Array(arguments.length-2),$=2;$<arguments.length;$++)O[$-2]=arguments[$];return T.prototype[j].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,T,N){N||(N=0);const k=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)k[j]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(j=0;j<16;++j)k[j]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=_.g[0],N=_.g[1],j=_.g[2];let R=_.g[3],O;O=T+(R^N&(j^R))+k[0]+3614090360&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[1]+3905402710&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[2]+606105819&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[3]+3250441966&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[4]+4118548399&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[5]+1200080426&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[6]+2821735955&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[7]+4249261313&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[8]+1770035416&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[9]+2336552879&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[10]+4294925233&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[11]+2304563134&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[12]+1804603682&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[13]+4254626195&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[14]+2792965006&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[15]+1236535329&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(j^R&(N^j))+k[1]+4129170786&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[6]+3225465664&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[11]+643717713&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[0]+3921069994&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[5]+3593408605&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[10]+38016083&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[15]+3634488961&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[4]+3889429448&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[9]+568446438&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[14]+3275163606&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[3]+4107603335&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[8]+1163531501&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[13]+2850285829&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[2]+4243563512&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[7]+1735328473&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[12]+2368359562&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(N^j^R)+k[5]+4294588738&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[8]+2272392833&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[11]+1839030562&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[14]+4259657740&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[1]+2763975236&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[4]+1272893353&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[7]+4139469664&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[10]+3200236656&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[13]+681279174&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[0]+3936430074&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[3]+3572445317&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[6]+76029189&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[9]+3654602809&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[12]+3873151461&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[15]+530742520&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[2]+3299628645&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(j^(N|~R))+k[0]+4096336452&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[7]+1126891415&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[14]+2878612391&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[5]+4237533241&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[12]+1700485571&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[3]+2399980690&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[10]+4293915773&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[1]+2240044497&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[8]+1873313359&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[15]+4264355552&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[6]+2734768916&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[13]+1309151649&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[4]+4149444226&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[11]+3174756917&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[2]+718787259&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+j&4294967295,_.g[3]=_.g[3]+R&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const N=T-this.blockSize,k=this.C;let j=this.h,R=0;for(;R<T;){if(j==0)for(;R<=N;)i(this,_,R),R+=this.blockSize;if(typeof _=="string"){for(;R<T;)if(k[j++]=_.charCodeAt(R++),j==this.blockSize){i(this,k),j=0;break}}else for(;R<T;)if(k[j++]=_[R++],j==this.blockSize){i(this,k),j=0;break}}this.h=j,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var N=_.length-8;N<_.length;++N)_[N]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)_[T++]=this.g[N]>>>k&255;return _};function o(_,T){var N=a;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=T(_)}function s(_,T){this.h=T;const N=[];let k=!0;for(let j=_.length-1;j>=0;j--){const R=_[j]|0;k&&R==T||(N[j]=R,k=!1)}this.g=N}var a={};function l(_){return-128<=_&&_<128?o(_,function(T){return new s([T|0],T<0?-1:0)}):new s([_|0],_<0?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return v(u(-_));const T=[];let N=1;for(let k=0;_>=N;k++)T[k]=_/N|0,N*=4294967296;return new s(T,0)}function d(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return v(d(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=u(Math.pow(T,8));let k=f;for(let R=0;R<_.length;R+=8){var j=Math.min(8,_.length-R);const O=parseInt(_.substring(R,R+j),T);j<8?(j=u(Math.pow(T,j)),k=k.j(j).add(u(O))):(k=k.j(N),k=k.add(u(O)))}return k}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-v(this).m();let _=0,T=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);_+=(k>=0?k:4294967296+k)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(y(this))return"0";if(g(this))return"-"+v(this).toString(_);const T=u(Math.pow(_,6));var N=this;let k="";for(;;){const j=C(N,T).g;N=x(N,j.j(T));let R=((N.g.length>0?N.g[0]:N.h)>>>0).toString(_);if(N=j,y(N))return R+k;for(;R.length<6;)R="0"+R;k=R+k}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function y(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function g(_){return _.h==-1}t.l=function(_){return _=x(this,_),g(_)?-1:y(_)?0:1};function v(_){const T=_.g.length,N=[];for(let k=0;k<T;k++)N[k]=~_.g[k];return new s(N,~_.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),N=[];let k=0;for(let j=0;j<=T;j++){let R=k+(this.i(j)&65535)+(_.i(j)&65535),O=(R>>>16)+(this.i(j)>>>16)+(_.i(j)>>>16);k=O>>>16,R&=65535,O&=65535,N[j]=O<<16|R}return new s(N,N[N.length-1]&-2147483648?-1:0)};function x(_,T){return _.add(v(T))}t.j=function(_){if(y(this)||y(_))return f;if(g(this))return g(_)?v(this).j(v(_)):v(v(this).j(_));if(g(_))return v(this.j(v(_)));if(this.l(m)<0&&_.l(m)<0)return u(this.m()*_.m());const T=this.g.length+_.g.length,N=[];for(var k=0;k<2*T;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let j=0;j<_.g.length;j++){const R=this.i(k)>>>16,O=this.i(k)&65535,$=_.i(j)>>>16,F=_.i(j)&65535;N[2*k+2*j]+=O*F,w(N,2*k+2*j),N[2*k+2*j+1]+=R*F,w(N,2*k+2*j+1),N[2*k+2*j+1]+=O*$,w(N,2*k+2*j+1),N[2*k+2*j+2]+=R*$,w(N,2*k+2*j+2)}for(_=0;_<T;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=T;_<2*T;_++)N[_]=0;return new s(N,0)};function w(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function S(_,T){this.g=_,this.h=T}function C(_,T){if(y(T))throw Error("division by zero");if(y(_))return new S(f,f);if(g(_))return T=C(v(_),T),new S(v(T.g),v(T.h));if(g(T))return T=C(_,v(T)),new S(v(T.g),T.h);if(_.g.length>30){if(g(_)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var N=h,k=T;k.l(_)<=0;)N=E(N),k=E(k);var j=P(N,1),R=P(k,1);for(k=P(k,2),N=P(N,2);!y(k);){var O=R.add(k);O.l(_)<=0&&(j=j.add(N),R=O),k=P(k,1),N=P(N,1)}return T=x(_,j.j(T)),new S(j,T)}for(j=f;_.l(T)>=0;){for(N=Math.max(1,Math.floor(_.m()/T.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),R=u(N),O=R.j(T);g(O)||O.l(_)>0;)N-=k,R=u(N),O=R.j(T);y(R)&&(R=h),j=j.add(R),_=x(_,O)}return new S(j,_)}t.B=function(_){return C(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)&_.i(k);return new s(N,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)|_.i(k);return new s(N,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)^_.i(k);return new s(N,this.h^_.h)};function E(_){const T=_.g.length+1,N=[];for(let k=0;k<T;k++)N[k]=_.i(k)<<1|_.i(k-1)>>>31;return new s(N,_.h)}function P(_,T){const N=T>>5;T%=32;const k=_.g.length-N,j=[];for(let R=0;R<k;R++)j[R]=T>0?_.i(R+N)>>>T|_.i(R+N+1)<<32-T:_.i(R+N);return new s(j,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$4=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Za=s}).apply(typeof _j<"u"?_j:typeof self<"u"?self:typeof window<"u"?window:{});var Km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L4,Mf,F4,Ug,Y1,V4,B4,U4;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Km=="object"&&Km];for(var A=0;A<p.length;++A){var I=p[A];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(p,A){if(A)e:{var I=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var Y=p[D];if(!(Y in I))break e;I=I[Y]}p=p[p.length-1],D=I[p],A=A(D),A!=D&&A!=null&&e(I,p,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(A){var I=[],D;for(D in A)Object.prototype.hasOwnProperty.call(A,D)&&I.push([D,A[D]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(p){var A=typeof p;return A=="object"&&p!=null||A=="function"}function l(p,A,I){return p.call.apply(p.bind,arguments)}function u(p,A,I){return u=l,u.apply(null,arguments)}function d(p,A){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function f(p,A){function I(){}I.prototype=A.prototype,p.Z=A.prototype,p.prototype=new I,p.prototype.constructor=p,p.Ob=function(D,Y,te){for(var Ce=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Ce[ht-2]=arguments[ht];return A.prototype[Y].apply(D,Ce)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const A=p.length;if(A>0){const I=Array(A);for(let D=0;D<A;D++)I[D]=p[D];return I}return[]}function y(p,A){for(let D=1;D<arguments.length;D++){const Y=arguments[D];var I=typeof Y;if(I=I!="object"?I:Y?Array.isArray(Y)?"array":I:"null",I=="array"||I=="object"&&typeof Y.length=="number"){I=p.length||0;const te=Y.length||0;p.length=I+te;for(let Ce=0;Ce<te;Ce++)p[I+Ce]=Y[Ce]}else p.push(Y)}}class g{constructor(A,I){this.i=A,this.j=I,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function v(p){s.setTimeout(()=>{throw p},0)}function x(){var p=_;let A=null;return p.g&&(A=p.g,p.g=p.g.next,p.g||(p.h=null),A.next=null),A}class w{constructor(){this.h=this.g=null}add(A,I){const D=S.get();D.set(A,I),this.h?this.h.next=D:this.g=D,this.h=D}}var S=new g(()=>new C,p=>p.reset());class C{constructor(){this.next=this.g=this.h=null}set(A,I){this.h=A,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let E,P=!1,_=new w,T=()=>{const p=Promise.resolve(void 0);E=()=>{p.then(N)}};function N(){for(var p;p=x();){try{p.h.call(p.g)}catch(I){v(I)}var A=S;A.j(p),A.h<100&&(A.h++,p.next=A.g,A.g=p)}P=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(p,A){this.type=p,this.g=this.target=A,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,A=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};s.addEventListener("test",I,A),s.removeEventListener("test",I,A)}catch{}return p}();function O(p){return/^[\s\xa0]*$/.test(p)}function $(p,A){j.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,A)}f($,j),$.prototype.init=function(p,A){const I=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=A,A=p.relatedTarget,A||(I=="mouseover"?A=p.fromElement:I=="mouseout"&&(A=p.toElement)),this.relatedTarget=A,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),U=0;function W(p,A,I,D,Y){this.listener=p,this.proxy=null,this.src=A,this.type=I,this.capture=!!D,this.ha=Y,this.key=++U,this.da=this.fa=!1}function V(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function B(p,A,I){for(const D in p)A.call(I,p[D],D,p)}function Z(p,A){for(const I in p)A.call(void 0,p[I],I,p)}function Q(p){const A={};for(const I in p)A[I]=p[I];return A}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ee(p,A){let I,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(I in D)p[I]=D[I];for(let te=0;te<ne.length;te++)I=ne[te],Object.prototype.hasOwnProperty.call(D,I)&&(p[I]=D[I])}}function Pe(p){this.src=p,this.g={},this.h=0}Pe.prototype.add=function(p,A,I,D,Y){const te=p.toString();p=this.g[te],p||(p=this.g[te]=[],this.h++);const Ce=ot(p,A,D,Y);return Ce>-1?(A=p[Ce],I||(A.fa=!1)):(A=new W(A,this.src,te,!!D,Y),A.fa=I,p.push(A)),A};function Me(p,A){const I=A.type;if(I in p.g){var D=p.g[I],Y=Array.prototype.indexOf.call(D,A,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(D,Y,1),te&&(V(A),p.g[I].length==0&&(delete p.g[I],p.h--))}}function ot(p,A,I,D){for(let Y=0;Y<p.length;++Y){const te=p[Y];if(!te.da&&te.listener==A&&te.capture==!!I&&te.ha==D)return Y}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Ne={};function oe(p,A,I,D,Y){if(Array.isArray(A)){for(let te=0;te<A.length;te++)oe(p,A[te],I,D,Y);return null}return I=Fe(I),p&&p[F]?p.J(A,I,a(D)?!!D.capture:!!D,Y):me(p,A,I,!1,D,Y)}function me(p,A,I,D,Y,te){if(!A)throw Error("Invalid event type");const Ce=a(Y)?!!Y.capture:!!Y;let ht=Qe(p);if(ht||(p[we]=ht=new Pe(p)),I=ht.add(A,I,D,Ce,te),I.proxy)return I;if(D=ae(),I.proxy=D,D.src=p,D.listener=I,p.addEventListener)R||(Y=Ce),Y===void 0&&(Y=!1),p.addEventListener(A.toString(),D,Y);else if(p.attachEvent)p.attachEvent(Te(A.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ae(){function p(I){return A.call(p.src,p.listener,I)}const A=Xe;return p}function z(p,A,I,D,Y){if(Array.isArray(A))for(var te=0;te<A.length;te++)z(p,A[te],I,D,Y);else D=a(D)?!!D.capture:!!D,I=Fe(I),p&&p[F]?(p=p.i,te=String(A).toString(),te in p.g&&(A=p.g[te],I=ot(A,I,D,Y),I>-1&&(V(A[I]),Array.prototype.splice.call(A,I,1),A.length==0&&(delete p.g[te],p.h--)))):p&&(p=Qe(p))&&(A=p.g[A.toString()],p=-1,A&&(p=ot(A,I,D,Y)),(I=p>-1?A[p]:null)&&Se(I))}function Se(p){if(typeof p!="number"&&p&&!p.da){var A=p.src;if(A&&A[F])Me(A.i,p);else{var I=p.type,D=p.proxy;A.removeEventListener?A.removeEventListener(I,D,p.capture):A.detachEvent?A.detachEvent(Te(I),D):A.addListener&&A.removeListener&&A.removeListener(D),(I=Qe(A))?(Me(I,p),I.h==0&&(I.src=null,A[we]=null)):V(p)}}}function Te(p){return p in Ne?Ne[p]:Ne[p]="on"+p}function Xe(p,A){if(p.da)p=!0;else{A=new $(A,this);const I=p.listener,D=p.ha||p.src;p.fa&&Se(p),p=I.call(D,A)}return p}function Qe(p){return p=p[we],p instanceof Pe?p:null}var tt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fe(p){return typeof p=="function"?p:(p[tt]||(p[tt]=function(A){return p.handleEvent(A)}),p[tt])}function le(){k.call(this),this.i=new Pe(this),this.M=this,this.G=null}f(le,k),le.prototype[F]=!0,le.prototype.removeEventListener=function(p,A,I,D){z(this,p,A,I,D)};function Je(p,A){var I,D=p.G;if(D)for(I=[];D;D=D.G)I.push(D);if(p=p.M,D=A.type||A,typeof A=="string")A=new j(A,p);else if(A instanceof j)A.target=A.target||p;else{var Y=A;A=new j(D,p),Ee(A,Y)}Y=!0;let te,Ce;if(I)for(Ce=I.length-1;Ce>=0;Ce--)te=A.g=I[Ce],Y=kt(te,D,!0,A)&&Y;if(te=A.g=p,Y=kt(te,D,!0,A)&&Y,Y=kt(te,D,!1,A)&&Y,I)for(Ce=0;Ce<I.length;Ce++)te=A.g=I[Ce],Y=kt(te,D,!1,A)&&Y}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var p=this.i;for(const A in p.g){const I=p.g[A];for(let D=0;D<I.length;D++)V(I[D]);delete p.g[A],p.h--}}this.G=null},le.prototype.J=function(p,A,I,D){return this.i.add(String(p),A,!1,I,D)},le.prototype.K=function(p,A,I,D){return this.i.add(String(p),A,!0,I,D)};function kt(p,A,I,D){if(A=p.i.g[String(A)],!A)return!0;A=A.concat();let Y=!0;for(let te=0;te<A.length;++te){const Ce=A[te];if(Ce&&!Ce.da&&Ce.capture==I){const ht=Ce.listener,Hn=Ce.ha||Ce.src;Ce.fa&&Me(p.i,Ce),Y=ht.call(Hn,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function yt(p,A){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=u(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:s.setTimeout(p,A||0)}function Ot(p){p.g=yt(()=>{p.g=null,p.i&&(p.i=!1,Ot(p))},p.l);const A=p.h;p.h=null,p.m.apply(null,A)}class gn extends k{constructor(A,I){super(),this.m=A,this.l=I,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Ot(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(p){k.call(this),this.h=p,this.g={}}f(yn,k);var Wn=[];function Cr(p){B(p.g,function(A,I){this.g.hasOwnProperty(I)&&Se(A)},p),p.g={}}yn.prototype.N=function(){yn.Z.N.call(this),Cr(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var en=s.JSON.stringify,vn=s.JSON.parse,qt=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function hn(){}function $t(){}var He={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qr(){j.call(this,"d")}f(qr,j);function pr(){j.call(this,"c")}f(pr,j);var er={},mr=null;function tn(){return mr=mr||new le}er.Ia="serverreachability";function nn(p){j.call(this,er.Ia,p)}f(nn,j);function tr(p){const A=tn();Je(A,new nn(A))}er.STAT_EVENT="statevent";function Ln(p,A){j.call(this,er.STAT_EVENT,p),this.stat=A}f(Ln,j);function Gt(p){const A=tn();Je(A,new Ln(A,p))}er.Ja="timingevent";function xn(p,A){j.call(this,er.Ja,p),this.size=A}f(xn,j);function kn(p,A){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},A)}function Ar(){this.g=!0}Ar.prototype.ua=function(){this.g=!1};function Mi(p,A,I,D,Y,te){p.info(function(){if(p.g)if(te){var Ce="",ht=te.split("&");for(let zt=0;zt<ht.length;zt++){var Hn=ht[zt].split("=");if(Hn.length>1){const ir=Hn[0];Hn=Hn[1];const zo=ir.split("_");Ce=zo.length>=2&&zo[1]=="type"?Ce+(ir+"="+Hn+"&"):Ce+(ir+"=redacted&")}}}else Ce=null;else Ce=te;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+A+`
`+I+`
`+Ce})}function Di(p,A,I,D,Y,te,Ce){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+A+`
`+I+`
`+te+" "+Ce})}function ti(p,A,I,D){p.info(function(){return"XMLHTTP TEXT ("+A+"): "+Vo(p,I)+(D?" "+D:"")})}function oo(p,A){p.info(function(){return"TIMEOUT: "+A})}Ar.prototype.info=function(){};function Vo(p,A){if(!p.g)return A;if(!A)return null;try{const te=JSON.parse(A);if(te){for(p=0;p<te.length;p++)if(Array.isArray(te[p])){var I=te[p];if(!(I.length<2)){var D=I[1];if(Array.isArray(D)&&!(D.length<1)){var Y=D[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let Ce=1;Ce<D.length;Ce++)D[Ce]=""}}}}return en(te)}catch{return A}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Es;function Nr(){}f(Nr,hn),Nr.prototype.g=function(){return new XMLHttpRequest},Es=new Nr;function pi(p){return encodeURIComponent(String(p))}function Ts(p){var A=1;p=p.split(":");const I=[];for(;A>0&&p.length;)I.push(p.shift()),A--;return p.length&&I.push(p.join(":")),I}function ni(p,A,I,D){this.j=p,this.i=A,this.l=I,this.S=D||1,this.V=new yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cs}function Cs(){this.i=null,this.g="",this.h=!1}var Bo={},q={};function re(p,A,I){p.M=1,p.A=ee(X(A)),p.u=I,p.R=!0,Ae(p,null)}function Ae(p,A){p.F=Date.now(),It(p),p.B=X(p.A);var I=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),Yt(I.i,"t",D),p.C=0,I=p.j.L,p.h=new Cs,p.g=tP(p.j,I?A:null,!p.u),p.P>0&&(p.O=new gn(u(p.Y,p,p.g),p.P)),A=p.V,I=p.g,D=p.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Wn[0]=Y.toString()),Y=Wn);for(let te=0;te<Y.length;te++){const Ce=oe(I,Y[te],D||A.handleEvent,!1,A.h||A);if(!Ce)break;A.g[Ce.key]=Ce}A=p.J?Q(p.J):{},p.u?(p.v||(p.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,A)):(p.v="GET",p.g.ea(p.B,p.v,null,A)),tr(),Mi(p.i,p.v,p.B,p.l,p.S,p.u)}ni.prototype.ba=function(p){p=p.target;const A=this.O;A&&uo(p)==3?A.j():this.Y(p)},ni.prototype.Y=function(p){try{if(p==this.g)e:{const ht=uo(this.g),Hn=this.g.ya(),zt=this.g.ca();if(!(ht<3)&&(ht!=3||this.g&&(this.h.h||this.g.la()||pa(this.g)))){this.K||ht!=4||Hn==7||(Hn==8||zt<=0?tr(3):tr(2)),K(this);var A=this.g.ca();this.X=A;var I=Oe(this);if(this.o=A==200,Di(this.i,this.v,this.B,this.l,this.S,ht,A),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Y=this.g;if((D=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var te=D;break t}}te=null}if(p=te)ti(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,de(this,p);else{this.o=!1,this.m=3,Gt(12),fe(this),ce(this);break e}}if(this.R){p=!0;let ir;for(;!this.K&&this.C<I.length;)if(ir=st(this,I),ir==q){ht==4&&(this.m=4,Gt(14),p=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==Bo){this.m=4,Gt(15),ti(this.i,this.l,I,"[Invalid Chunk]"),p=!1;break}else ti(this.i,this.l,ir,null),de(this,ir);if(Ue(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||I.length!=0||this.h.h||(this.m=1,Gt(16),p=!1),this.o=this.o&&p,!p)ti(this.i,this.l,I,"[Invalid Chunked Response]"),fe(this),ce(this);else if(I.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Z0(Ce),Ce.P=!0,Gt(11))}}else ti(this.i,this.l,I,null),de(this,I);ht==4&&fe(this),this.o&&!this.K&&(ht==4?QA(this.j,this):(this.o=!1,It(this)))}else Rc(this.g),A==400&&I.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),fe(this),ce(this)}}}catch{}finally{}};function Oe(p){if(!Ue(p))return p.g.la();const A=pa(p.g);if(A==="")return"";let I="";const D=A.length,Y=uo(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return fe(p),ce(p),"";p.h.i=new s.TextDecoder}for(let te=0;te<D;te++)p.h.h=!0,I+=p.h.i.decode(A[te],{stream:!(Y&&te==D-1)});return A.length=0,p.h.g+=I,p.C=0,p.h.g}function Ue(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function st(p,A){var I=p.C,D=A.indexOf(`
`,I);return D==-1?q:(I=Number(A.substring(I,D)),isNaN(I)?Bo:(D+=1,D+I>A.length?q:(A=A.slice(D,D+I),p.C=D+I,A)))}ni.prototype.cancel=function(){this.K=!0,fe(this)};function It(p){p.T=Date.now()+p.H,On(p,p.H)}function On(p,A){if(p.D!=null)throw Error("WatchDog timer not null");p.D=kn(u(p.aa,p),A)}function K(p){p.D&&(s.clearTimeout(p.D),p.D=null)}ni.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(oo(this.i,this.B),this.M!=2&&(tr(),Gt(17)),fe(this),this.m=2,ce(this)):On(this,this.T-p)};function ce(p){p.j.I==0||p.K||QA(p.j,p)}function fe(p){K(p);var A=p.O;A&&typeof A.dispose=="function"&&A.dispose(),p.O=null,Cr(p.V),p.g&&(A=p.g,p.g=null,A.abort(),A.dispose())}function de(p,A){try{var I=p.j;if(I.I!=0&&(I.g==p||Kt(I.h,p))){if(!p.L&&Kt(I.h,p)&&I.I==3){try{var D=I.Ba.g.parse(A)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<p.F)bm(I),vm(I);else break e;J0(I),Gt(18)}}else I.xa=Y[1],0<I.xa-I.K&&Y[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=kn(u(I.Va,I),6e3));rn(I.h)<=1&&I.ta&&(I.ta=void 0)}else Tl(I,11)}else if((p.L||I.g==p)&&bm(I),!O(A))for(Y=I.Ba.g.parse(A),A=0;A<Y.length;A++){let zt=Y[A];const ir=zt[0];if(!(ir<=I.K))if(I.K=ir,zt=zt[1],I.I==2)if(zt[0]=="c"){I.M=zt[1],I.ba=zt[2];const zo=zt[3];zo!=null&&(I.ka=zo,I.j.info("VER="+I.ka));const Cl=zt[4];Cl!=null&&(I.za=Cl,I.j.info("SVER="+I.za));const ma=zt[5];ma!=null&&typeof ma=="number"&&ma>0&&(D=1.5*ma,I.O=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const ga=p.g;if(ga){const Sm=ga.g?ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sm){var te=D.h;te.g||Sm.indexOf("spdy")==-1&&Sm.indexOf("quic")==-1&&Sm.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Ut(te,te.h),te.h=null))}if(D.G){const eb=ga.g?ga.g.getResponseHeader("X-HTTP-Session-Id"):null;eb&&(D.wa=eb,ge(D.J,D.G,eb))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-p.F,I.j.info("Handshake RTT: "+I.T+"ms")),D=I;var Ce=p;if(D.na=eP(D,D.L?D.ba:null,D.W),Ce.L){nr(D.h,Ce);var ht=Ce,Hn=D.O;Hn&&(ht.H=Hn),ht.D&&(K(ht),It(ht)),D.g=Ce}else YA(D);I.i.length>0&&xm(I)}else zt[0]!="stop"&&zt[0]!="close"||Tl(I,7);else I.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Tl(I,7):Mc(I):zt[0]!="noop"&&I.l&&I.l.qa(zt),I.A=0)}}tr(4)}catch{}}var Ie=class{constructor(p,A){this.g=p,this.map=A}};function nt(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bt(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function rn(p){return p.h?1:p.g?p.g.size:0}function Kt(p,A){return p.h?p.h==A:p.g?p.g.has(A):!1}function Ut(p,A){p.g?p.g.add(A):p.h=A}function nr(p,A){p.h&&p.h==A?p.h=null:p.g&&p.g.has(A)&&p.g.delete(A)}nt.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function rr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let A=p.i;for(const I of p.g.values())A=A.concat(I.G);return A}return m(p.i)}var M=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L(p,A){if(p){p=p.split("&");for(let I=0;I<p.length;I++){const D=p[I].indexOf("=");let Y,te=null;D>=0?(Y=p[I].substring(0,D),te=p[I].substring(D+1)):Y=p[I],A(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function G(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;p instanceof G?(this.l=p.l,J(this,p.j),this.o=p.o,this.g=p.g,se(this,p.u),this.h=p.h,ve(this,Uo(p.i)),this.m=p.m):p&&(A=String(p).match(M))?(this.l=!1,J(this,A[1]||"",!0),this.o=_e(A[2]||""),this.g=_e(A[3]||"",!0),se(this,A[4]),this.h=_e(A[5]||"",!0),ve(this,A[6]||"",!0),this.m=_e(A[7]||"")):(this.l=!1,this.i=new so(null,this.l))}G.prototype.toString=function(){const p=[];var A=this.j;A&&p.push(xe(A,at,!0),":");var I=this.g;return(I||A=="file")&&(p.push("//"),(A=this.o)&&p.push(xe(A,at,!0),"@"),p.push(pi(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&p.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(xe(I,I.charAt(0)=="/"?An:on,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",xe(I,mi)),p.join("")},G.prototype.resolve=function(p){const A=X(this);let I=!!p.j;I?J(A,p.j):I=!!p.o,I?A.o=p.o:I=!!p.g,I?A.g=p.g:I=p.u!=null;var D=p.h;if(I)se(A,p.u);else if(I=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Y=A.h.lastIndexOf("/");Y!=-1&&(D=A.h.slice(0,Y+1)+D)}if(Y=D,Y==".."||Y==".")D="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){D=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let Ce=0;Ce<Y.length;){const ht=Y[Ce++];ht=="."?D&&Ce==Y.length&&te.push(""):ht==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),D&&Ce==Y.length&&te.push("")):(te.push(ht),D=!0)}D=te.join("/")}else D=Y}return I?A.h=D:I=p.i.toString()!=="",I?ve(A,Uo(p.i)):I=!!p.m,I&&(A.m=p.m),A};function X(p){return new G(p)}function J(p,A,I){p.j=I?_e(A,!0):A,p.j&&(p.j=p.j.replace(/:$/,""))}function se(p,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);p.u=A}else p.u=null}function ve(p,A,I){A instanceof so?(p.i=A,Q0(p.i,p.l)):(I||(A=xe(A,$i)),p.i=new so(A,p.l))}function ge(p,A,I){p.i.set(A,I)}function ee(p){return ge(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function _e(p,A){return p?A?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function xe(p,A,I){return typeof p=="string"?(p=encodeURI(p).replace(A,ke),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ke(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var at=/[#\/\?@]/g,on=/[#\?:]/g,An=/[#\?]/g,$i=/[#\?@]/g,mi=/#/g;function so(p,A){this.h=this.g=null,this.i=p||null,this.j=!!A}function ri(p){p.g||(p.g=new Map,p.h=0,p.i&&L(p.i,function(A,I){p.add(decodeURIComponent(A.replace(/\+/g," ")),I)}))}t=so.prototype,t.add=function(p,A){ri(this),this.i=null,p=ha(this,p);let I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(A),this.h+=1,this};function of(p,A){ri(p),A=ha(p,A),p.g.has(A)&&(p.i=null,p.h-=p.g.get(A).length,p.g.delete(A))}function sf(p,A){return ri(p),A=ha(p,A),p.g.has(A)}t.forEach=function(p,A){ri(this),this.g.forEach(function(I,D){I.forEach(function(Y){p.call(A,Y,D,this)},this)},this)};function af(p,A){ri(p);let I=[];if(typeof A=="string")sf(p,A)&&(I=I.concat(p.g.get(ha(p,A))));else for(p=Array.from(p.g.values()),A=0;A<p.length;A++)I=I.concat(p[A]);return I}t.set=function(p,A){return ri(this),this.i=null,p=ha(this,p),sf(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[A]),this.h+=1,this},t.get=function(p,A){return p?(p=af(this,p),p.length>0?String(p[0]):A):A};function Yt(p,A,I){of(p,A),I.length>0&&(p.i=null,p.g.set(ha(p,A),m(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],A=Array.from(this.g.keys());for(let D=0;D<A.length;D++){var I=A[D];const Y=pi(I);I=af(this,I);for(let te=0;te<I.length;te++){let Ce=Y;I[te]!==""&&(Ce+="="+pi(I[te])),p.push(Ce)}}return this.i=p.join("&")};function Uo(p){const A=new so;return A.i=p.i,p.g&&(A.g=new Map(p.g),A.h=p.h),A}function ha(p,A){return A=String(A),p.j&&(A=A.toLowerCase()),A}function Q0(p,A){A&&!p.j&&(ri(p),p.i=null,p.g.forEach(function(I,D){const Y=D.toLowerCase();D!=Y&&(of(this,D),Yt(this,Y,I))},p)),p.j=A}function mm(p,A){const I=new Ar;if(s.Image){const D=new Image;D.onload=d(ao,I,"TestLoadImage: loaded",!0,A,D),D.onerror=d(ao,I,"TestLoadImage: error",!1,A,D),D.onabort=d(ao,I,"TestLoadImage: abort",!1,A,D),D.ontimeout=d(ao,I,"TestLoadImage: timeout",!1,A,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else A(!1)}function gm(p,A){const I=new Ar,D=new AbortController,Y=setTimeout(()=>{D.abort(),ao(I,"TestPingServer: timeout",!1,A)},1e4);fetch(p,{signal:D.signal}).then(te=>{clearTimeout(Y),te.ok?ao(I,"TestPingServer: ok",!0,A):ao(I,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Y),ao(I,"TestPingServer: error",!1,A)})}function ao(p,A,I,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(I)}catch{}}function Vt(){this.g=new qt}function Pn(p){this.i=p.Sb||null,this.h=p.ab||!1}f(Pn,hn),Pn.prototype.g=function(){return new gi(this.i,this.h)};function gi(p,A){le.call(this),this.H=p,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(gi,le),t=gi.prototype,t.open=function(p,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=A,this.readyState=1,jr(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(A.body=p),(this.H||s).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function lo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var A=p.value?p.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!p.done}))&&(this.response=this.responseText+=A)}p.done?yi(this):jr(this),this.readyState==3&&lo(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,yi(this))},t.Na=function(p){this.g&&(this.response=p,yi(this))},t.ga=function(){this.g&&yi(this)};function yi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,jr(p)}t.setRequestHeader=function(p,A){this.A.append(p,A)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],A=this.h.entries();for(var I=A.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=A.next();return p.join(`\r
`)};function jr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Xt(p){let A="";return B(p,function(I,D){A+=D,A+=":",A+=I,A+=`\r
`}),A}function gt(p,A,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=Xt(I),typeof p=="string"?I!=null&&pi(I):ge(p,A,I))}function We(p){le.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(We,le);var co=/^https?$/i,Ir=["POST","PUT"];t=We.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,A,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);A=A?A.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Es.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(A,String(p),!0),this.B=!1}catch(te){kr(this,te);return}if(p=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)I.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())I.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),Y=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(Ir,A,void 0)>=0)||D||Y||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,Ce]of I)this.g.setRequestHeader(te,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(te){kr(this,te)}};function kr(p,A){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=A,p.o=5,ii(p),lf(p)}function ii(p){p.A||(p.A=!0,Je(p,"complete"),Je(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Je(this,"complete"),Je(this,"abort"),lf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lf(this,!0)),We.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Oc(this):this.Xa())},t.Xa=function(){Oc(this)};function Oc(p){if(p.h&&typeof o<"u"){if(p.v&&uo(p)==4)setTimeout(p.Ca.bind(p),0);else if(Je(p,"readystatechange"),uo(p)==4){p.h=!1;try{const te=p.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var I;if(!(I=A)){var D;if(D=te===0){let Ce=String(p.D).match(M)[1]||null;!Ce&&s.self&&s.self.location&&(Ce=s.self.location.protocol.slice(0,-1)),D=!co.test(Ce?Ce.toLowerCase():"")}I=D}if(I)Je(p,"complete"),Je(p,"success");else{p.o=6;try{var Y=uo(p)>2?p.g.statusText:""}catch{Y=""}p.l=Y+" ["+p.ca()+"]",ii(p)}}finally{lf(p)}}}}function lf(p,A){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const I=p.g;p.g=null,A||Je(p,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function uo(p){return p.g?p.g.readyState:0}t.ca=function(){try{return uo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var A=this.g.responseText;return p&&A.indexOf(p)==0&&(A=A.substring(p.length)),vn(A)}};function pa(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(p){const A={};p=(p.g&&uo(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(O(p[D]))continue;var I=Ts(p[D]);const Y=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=A[Y]||[];A[Y]=te,te.push(I)}Z(A,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function El(p,A,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||A}function ym(p){this.za=0,this.i=[],this.j=new Ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=El("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=El("baseRetryDelayMs",5e3,p),this.Za=El("retryDelaySeedMs",1e4,p),this.Ta=El("forwardChannelMaxRetries",2,p),this.va=El("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new nt(p&&p.concurrentRequestLimit),this.Ba=new Vt,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ym.prototype,t.ka=8,t.I=1,t.connect=function(p,A,I,D){Gt(0),this.W=p,this.H=A||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.J=eP(this,null,this.W),xm(this)};function Mc(p){if(qA(p),p.I==3){var A=p.V++,I=X(p.J);if(ge(I,"SID",p.M),ge(I,"RID",A),ge(I,"TYPE","terminate"),cf(p,I),A=new ni(p,p.j,A),A.M=2,A.A=ee(X(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(A.A.toString(),"")}catch{}!I&&s.Image&&(new Image().src=A.A,I=!0),I||(A.g=tP(A.j,null),A.g.ea(A.A)),A.F=Date.now(),It(A)}ZA(p)}function vm(p){p.g&&(Z0(p),p.g.cancel(),p.g=null)}function qA(p){vm(p),p.v&&(s.clearTimeout(p.v),p.v=null),bm(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function xm(p){if(!bt(p.h)&&!p.m){p.m=!0;var A=p.Ea;E||T(),P||(E(),P=!0),_.add(A,p),p.D=0}}function P9(p,A){return rn(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=A.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=kn(u(p.Ea,p,A),JA(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Y=new ni(this,this.j,p);let te=this.o;if(this.U&&(te?(te=Q(te),Ee(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var A=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(A+=D,A>4096){A=I;break e}if(A===4096||I===this.i.length-1){A=I+1;break e}}A=1e3}else A=1e3;A=KA(this,Y,A),I=X(this.J),ge(I,"RID",p),ge(I,"CVER",22),this.G&&ge(I,"X-HTTP-Session-Id",this.G),cf(this,I),te&&(this.R?A="headers="+pi(Xt(te))+"&"+A:this.u&&gt(I,this.u,te)),Ut(this.h,Y),this.Ra&&ge(I,"TYPE","init"),this.S?(ge(I,"$req",A),ge(I,"SID","null"),Y.U=!0,re(Y,I,null)):re(Y,I,A),this.I=2}}else this.I==3&&(p?GA(this,p):this.i.length==0||bt(this.h)||GA(this))};function GA(p,A){var I;A?I=A.l:I=p.V++;const D=X(p.J);ge(D,"SID",p.M),ge(D,"RID",I),ge(D,"AID",p.K),cf(p,D),p.u&&p.o&&gt(D,p.u,p.o),I=new ni(p,p.j,I,p.D+1),p.u===null&&(I.J=p.o),A&&(p.i=A.G.concat(p.i)),A=KA(p,I,1e3),I.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ut(p.h,I),re(I,D,A)}function cf(p,A){p.H&&B(p.H,function(I,D){ge(A,D,I)}),p.l&&B({},function(I,D){ge(A,D,I)})}function KA(p,A,I){I=Math.min(p.i.length,I);const D=p.l?u(p.l.Ka,p.l,p):null;e:{var Y=p.i;let ht=-1;for(;;){const Hn=["count="+I];ht==-1?I>0?(ht=Y[0].g,Hn.push("ofs="+ht)):ht=0:Hn.push("ofs="+ht);let zt=!0;for(let ir=0;ir<I;ir++){var te=Y[ir].g;const zo=Y[ir].map;if(te-=ht,te<0)ht=Math.max(0,Y[ir].g-100),zt=!1;else try{te="req"+te+"_"||"";try{var Ce=zo instanceof Map?zo:Object.entries(zo);for(const[Cl,ma]of Ce){let ga=ma;a(ma)&&(ga=en(ma)),Hn.push(te+Cl+"="+encodeURIComponent(ga))}}catch(Cl){throw Hn.push(te+"type="+encodeURIComponent("_badmap")),Cl}}catch{D&&D(zo)}}if(zt){Ce=Hn.join("&");break e}}Ce=void 0}return p=p.i.splice(0,I),A.G=p,Ce}function YA(p){if(!p.g&&!p.v){p.Y=1;var A=p.Da;E||T(),P||(E(),P=!0),_.add(A,p),p.A=0}}function J0(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=kn(u(p.Da,p),JA(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,XA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=kn(u(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),vm(this),XA(this))};function Z0(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function XA(p){p.g=new ni(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var A=X(p.na);ge(A,"RID","rpc"),ge(A,"SID",p.M),ge(A,"AID",p.K),ge(A,"CI",p.F?"0":"1"),!p.F&&p.ia&&ge(A,"TO",p.ia),ge(A,"TYPE","xmlhttp"),cf(p,A),p.u&&p.o&&gt(A,p.u,p.o),p.O&&(p.g.H=p.O);var I=p.g;p=p.ba,I.M=1,I.A=ee(X(A)),I.u=null,I.R=!0,Ae(I,p)}t.Va=function(){this.C!=null&&(this.C=null,vm(this),J0(this),Gt(19))};function bm(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function QA(p,A){var I=null;if(p.g==A){bm(p),Z0(p),p.g=null;var D=2}else if(Kt(p.h,A))I=A.G,nr(p.h,A),D=1;else return;if(p.I!=0){if(A.o)if(D==1){I=A.u?A.u.length:0,A=Date.now()-A.F;var Y=p.D;D=tn(),Je(D,new xn(D,I)),xm(p)}else YA(p);else if(Y=A.m,Y==3||Y==0&&A.X>0||!(D==1&&P9(p,A)||D==2&&J0(p)))switch(I&&I.length>0&&(A=p.h,A.i=A.i.concat(I)),Y){case 1:Tl(p,5);break;case 4:Tl(p,10);break;case 3:Tl(p,6);break;default:Tl(p,2)}}}function JA(p,A){let I=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(I*=2),I*A}function Tl(p,A){if(p.j.info("Error code "+A),A==2){var I=u(p.bb,p),D=p.Ua;const Y=!D;D=new G(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||J(D,"https"),ee(D),Y?mm(D.toString(),I):gm(D.toString(),I)}else Gt(2);p.I=0,p.l&&p.l.pa(A),ZA(p),qA(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function ZA(p){if(p.I=0,p.ja=[],p.l){const A=rr(p.h);(A.length!=0||p.i.length!=0)&&(y(p.ja,A),y(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function eP(p,A,I){var D=I instanceof G?X(I):new G(I);if(D.g!="")A&&(D.g=A+"."+D.g),se(D,D.u);else{var Y=s.location;D=Y.protocol,A=A?A+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new G(null);D&&J(te,D),A&&(te.g=A),Y&&se(te,Y),I&&(te.h=I),D=te}return I=p.G,A=p.wa,I&&A&&ge(D,I,A),ge(D,"VER",p.ka),cf(p,D),D}function tP(p,A,I){if(A&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=p.Aa&&!p.ma?new We(new Pn({ab:I})):new We(p.ma),A.Fa(p.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nP(){}t=nP.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wm(){}wm.prototype.g=function(p,A){return new vi(p,A)};function vi(p,A){le.call(this),this.g=new ym(A),this.l=p,this.h=A&&A.messageUrlParams||null,p=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(p?p["X-WebChannel-Content-Type"]=A.messageContentType:p={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(p?p["X-WebChannel-Client-Profile"]=A.sa:p={"X-WebChannel-Client-Profile":A.sa}),this.g.U=p,(p=A&&A.Qb)&&!O(p)&&(this.g.u=p),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!O(A)&&(this.g.G=A,p=this.h,p!==null&&A in p&&(p=this.h,A in p&&delete p[A])),this.j=new Dc(this)}f(vi,le),vi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vi.prototype.close=function(){Mc(this.g)},vi.prototype.o=function(p){var A=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.v&&(I={},I.__data__=en(p),p=I);A.i.push(new Ie(A.Ya++,p)),A.I==3&&xm(A)},vi.prototype.N=function(){this.g.l=null,delete this.j,Mc(this.g),delete this.g,vi.Z.N.call(this)};function rP(p){qr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var A=p.__sm__;if(A){e:{for(const I in A){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,A=A!==null&&p in A?A[p]:void 0),this.data=A}else this.data=p}f(rP,qr);function iP(){pr.call(this),this.status=1}f(iP,pr);function Dc(p){this.g=p}f(Dc,nP),Dc.prototype.ra=function(){Je(this.g,"a")},Dc.prototype.qa=function(p){Je(this.g,new rP(p))},Dc.prototype.pa=function(p){Je(this.g,new iP)},Dc.prototype.oa=function(){Je(this.g,"b")},wm.prototype.createWebChannel=wm.prototype.g,vi.prototype.send=vi.prototype.o,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,U4=function(){return new wm},B4=function(){return tn()},V4=er,Y1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,Ug=Pr,hi.COMPLETE="complete",F4=hi,$t.EventType=He,He.OPEN="a",He.CLOSE="b",He.ERROR="c",He.MESSAGE="d",le.prototype.listen=le.prototype.J,Mf=$t,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,L4=We}).apply(typeof Km<"u"?Km:typeof self<"u"?self:typeof window<"u"?window:{});const Ej="@firebase/firestore",Tj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new gT("@firebase/firestore");function qc(){return hc.logLevel}function Re(t,...e){if(hc.logLevel<=wt.DEBUG){const n=e.map(NT);hc.debug(`Firestore (${Ld}): ${t}`,...n)}}function ta(t,...e){if(hc.logLevel<=wt.ERROR){const n=e.map(NT);hc.error(`Firestore (${Ld}): ${t}`,...n)}}function Zu(t,...e){if(hc.logLevel<=wt.WARN){const n=e.map(NT);hc.warn(`Firestore (${Ld}): ${t}`,...n)}}function NT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,z4(t,r,n)}function z4(t,e,n){let r=`FIRESTORE (${Ld}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ta(r),new Error(r)}function Dt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||z4(e,i,r)}function dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fr.UNAUTHENTICATED))}shutdown(){}}class wQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SQ{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Dt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new el;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new el,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new el)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dt(typeof r.accessToken=="string",31837,{l:r}),new W4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Dt(e===null||typeof e=="string",2055,{h:e}),new Fr(e)}}class _Q{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _Q(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_o(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Dt(this.o===void 0,3512);const r=o=>{o.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=CQ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function _t(t,e){return t<e?-1:t>e?1:0}function X1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Wb(i)===Wb(o)?_t(i,o):Wb(i)?1:-1}return _t(t.length,e.length)}const AQ=55296,PQ=57343;function Wb(t){const e=t.charCodeAt(0);return e>=AQ&&e<=PQ}function ed(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="__name__";class Go{constructor(e,n,r){n===void 0?n=0:n>e.length&&it(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&it(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Go.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Go.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return _t(e.length,n.length)}static compareSegments(e,n){const r=Go.isNumericId(e),i=Go.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Go.extractNumericId(e).compare(Go.extractNumericId(n)):X1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class Sn extends Go{construct(e,n,r){return new Sn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Sn(n)}static emptyPath(){return new Sn([])}}const NQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends Go{construct(e,n,r){return new xr(e,n,r)}static isValidIdentifier(e){return NQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Aj}static keyField(){return new xr([Aj])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ke(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ke(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ke(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ke(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(n)}static emptyPath(){return new xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(Sn.fromString(e))}static fromName(e){return new et(Sn.fromString(e).popFirst(5))}static empty(){return new et(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new Sn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(t,e,n){if(!n)throw new Ke(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IQ(t,e,n,r){if(e===!0&&r===!0)throw new Ke(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pj(t){if(!et.isDocumentKey(t))throw new Ke(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function IT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it(12329,{type:typeof t})}function Vh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=IT(t);throw new Ke(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jp(t,e){if(!H4(t))throw new Ke(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ke(ye.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=-62135596800,jj=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jj);return new dn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Nj)throw new Ke(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jj}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jp(e,dn._jsonSchema))return new dn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dn._jsonSchemaVersion="firestore/timestamp/1.0",dn._jsonSchema={type:Un("string",dn._jsonSchemaVersion),seconds:Un("number"),nanoseconds:Un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new dn(0,0))}static max(){return new ut(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=-1;function kQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ut.fromTimestamp(r===1e9?new dn(n+1,0):new dn(n,r));return new ll(i,et.empty(),e)}function OQ(t){return new ll(t.readTime,t.key,Bh)}class ll{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ll(ut.min(),et.empty(),Bh)}static max(){return new ll(ut.max(),et.empty(),Bh)}}function RQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=et.comparator(t.documentKey,e.documentKey),n!==0?n:_t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==MQ)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&it(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(i=>i?he.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new he((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new he((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function $Q(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=-1;function $x(t){return t==null}function $y(t){return t===0&&1/t==-1/0}function LQ(t){return typeof t=="number"&&Number.isInteger(t)&&!$y(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="";function FQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ij(e)),e=VQ(t.get(n),e);return Ij(e)}function VQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case q4:n+="";break;default:n+=o}}return n}function Ij(t){return t+q4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function G4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.comparator=e,this.root=n||vr.EMPTY}insert(e,n){return new Cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ym(this.root,e,this.comparator,!0)}}class Ym{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??vr.RED,this.left=i??vr.EMPTY,this.right=o??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new vr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw it(43730,{key:this.key,value:this.value});if(this.right.isRed())throw it(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw it(27949);return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw it(57766)}get value(){throw it(16141)}get color(){throw it(16727)}get left(){throw it(29726)}get right(){throw it(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new vr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Oj(this.data.getIterator())}getIteratorFrom(e){return new Oj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jn(this.comparator);return n.data=e,n}}class Oj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new Co([])}unionWith(e){let n=new Jn(xr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Co(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new K4("Invalid base64 string: "+o):o}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const BQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(t){if(Dt(!!t,39018),typeof t=="string"){let e=0;const n=BQ.exec(t);if(Dt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(t.seconds),nanos:Rn(t.nanos)}}function Rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ul(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="server_timestamp",X4="__type__",Q4="__previous_value__",J4="__local_write_time__";function OT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[X4])==null?void 0:r.stringValue)===Y4}function Lx(t){const e=t.mapValue.fields[Q4];return OT(e)?Lx(e):e}function Uh(t){const e=cl(t.mapValue.fields[J4].timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e,n,r,i,o,s,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Ly="(default)";class zh{constructor(e,n){this.projectId=e,this.database=n||Ly}static empty(){return new zh("","")}get isDefaultDatabase(){return this.database===Ly}isEqual(e){return e instanceof zh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="__type__",e3="__max__",Xm={mapValue:{fields:{__type__:{stringValue:e3}}}},t3="__vector__",Fy="value";function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OT(t)?4:WQ(t)?9007199254740991:zQ(t)?10:11:it(28295,{value:t})}function vs(t,e){if(t===e)return!0;const n=dl(t);if(n!==dl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uh(t).isEqual(Uh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=cl(i.timestampValue),a=cl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ul(i.bytesValue).isEqual(ul(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Rn(i.geoPointValue.latitude)===Rn(o.geoPointValue.latitude)&&Rn(i.geoPointValue.longitude)===Rn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Rn(i.integerValue)===Rn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Rn(i.doubleValue),a=Rn(o.doubleValue);return s===a?$y(s)===$y(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ed(t.arrayValue.values||[],e.arrayValue.values||[],vs);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(kj(s)!==kj(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!vs(s[l],a[l])))return!1;return!0}(t,e);default:return it(52216,{left:t})}}function Wh(t,e){return(t.values||[]).find(n=>vs(n,e))!==void 0}function td(t,e){if(t===e)return 0;const n=dl(t),r=dl(e);if(n!==r)return _t(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Rn(o.integerValue||o.doubleValue),l=Rn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Rj(t.timestampValue,e.timestampValue);case 4:return Rj(Uh(t),Uh(e));case 5:return X1(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ul(o),l=ul(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=_t(a[u],l[u]);if(d!==0)return d}return _t(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=_t(Rn(o.latitude),Rn(s.latitude));return a!==0?a:_t(Rn(o.longitude),Rn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mj(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,m,y,g;const a=o.fields||{},l=s.fields||{},u=(h=a[Fy])==null?void 0:h.arrayValue,d=(m=l[Fy])==null?void 0:m.arrayValue,f=_t(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:Mj(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Xm.mapValue&&s===Xm.mapValue)return 0;if(o===Xm.mapValue)return 1;if(s===Xm.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=X1(l[f],d[f]);if(h!==0)return h;const m=td(a[l[f]],u[d[f]]);if(m!==0)return m}return _t(l.length,d.length)}(t.mapValue,e.mapValue);default:throw it(23264,{he:n})}}function Rj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _t(t,e);const n=cl(t),r=cl(e),i=_t(n.seconds,r.seconds);return i!==0?i:_t(n.nanos,r.nanos)}function Mj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=td(n[i],r[i]);if(o)return o}return _t(n.length,r.length)}function nd(t){return Q1(t)}function Q1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ul(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return et.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Q1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Q1(n.fields[s])}`;return i+"}"}(t.mapValue):it(61005,{value:t})}function zg(t){switch(dl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lx(t);return e?16+zg(e):16;case 5:return 2*t.stringValue.length;case 6:return ul(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zg(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Tc(r.fields,(o,s)=>{i+=o.length+zg(s)}),i}(t.mapValue);default:throw it(13486,{value:t})}}function J1(t){return!!t&&"integerValue"in t}function RT(t){return!!t&&"arrayValue"in t}function Dj(t){return!!t&&"nullValue"in t}function $j(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wg(t){return!!t&&"mapValue"in t}function zQ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Z4])==null?void 0:r.stringValue)===t3}function nh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Tc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nh(t.arrayValue.values[n]);return e}return{...t}}function WQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===e3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(n)}setAll(e){let n=xr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Wg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Wi(nh(this.value))}}function n3(t){const e=[];return Tc(t.fields,(n,r)=>{const i=new xr([n]);if(Wg(r)){const o=n3(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Co(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Br(e,0,ut.min(),ut.min(),ut.min(),Wi.empty(),0)}static newFoundDocument(e,n,r,i){return new Br(e,1,n,ut.min(),r,i,0)}static newNoDocument(e,n){return new Br(e,2,n,ut.min(),ut.min(),Wi.empty(),0)}static newUnknownDocument(e,n){return new Br(e,3,n,ut.min(),ut.min(),Wi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.position=e,this.inclusive=n}}function Lj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=et.comparator(et.fromName(s.referenceValue),n.key):r=td(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n="asc"){this.field=e,this.dir=n}}function HQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{}class Yn extends r3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GQ(e,n,r):n==="array-contains"?new XQ(e,r):n==="in"?new QQ(e,r):n==="not-in"?new JQ(e,r):n==="array-contains-any"?new ZQ(e,r):new Yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KQ(e,r):new YQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(td(n,this.value)):n!==null&&dl(this.value)===dl(n)&&this.matchesComparison(td(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xs extends r3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xs(e,n)}matches(e){return i3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function i3(t){return t.op==="and"}function o3(t){return qQ(t)&&i3(t)}function qQ(t){for(const e of t.filters)if(e instanceof xs)return!1;return!0}function Z1(t){if(t instanceof Yn)return t.field.canonicalString()+t.op.toString()+nd(t.value);if(o3(t))return t.filters.map(e=>Z1(e)).join(",");{const e=t.filters.map(n=>Z1(n)).join(",");return`${t.op}(${e})`}}function s3(t,e){return t instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.field.isEqual(i.field)&&vs(r.value,i.value)}(t,e):t instanceof xs?function(r,i){return i instanceof xs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&s3(s,i.filters[a]),!0):!1}(t,e):void it(19439)}function a3(t){return t instanceof Yn?function(n){return`${n.field.canonicalString()} ${n.op} ${nd(n.value)}`}(t):t instanceof xs?function(n){return n.op.toString()+" {"+n.getFilters().map(a3).join(" ,")+"}"}(t):"Filter"}class GQ extends Yn{constructor(e,n,r){super(e,n,r),this.key=et.fromName(r.referenceValue)}matches(e){const n=et.comparator(e.key,this.key);return this.matchesComparison(n)}}class KQ extends Yn{constructor(e,n){super(e,"in",n),this.keys=l3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YQ extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=l3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function l3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>et.fromName(r.referenceValue))}class XQ extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return RT(n)&&Wh(n.arrayValue,this.value)}}class QQ extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wh(this.value.arrayValue,n)}}class JQ extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wh(this.value.arrayValue,n)}}class ZQ extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!RT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function Vj(t,e=null,n=[],r=[],i=null,o=null,s=null){return new eJ(t,e,n,r,i,o,s)}function MT(t){const e=dt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Z1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$x(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nd(r)).join(",")),e.Te=n}return e.Te}function DT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!s3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fj(t.startAt,e.startAt)&&Fj(t.endAt,e.endAt)}function eS(t){return et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tJ(t,e,n,r,i,o,s,a){return new Fx(t,e,n,r,i,o,s,a)}function $T(t){return new Fx(t)}function Bj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nJ(t){return t.collectionGroup!==null}function rh(t){const e=dt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jn(xr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new By(o,r))}),n.has(xr.keyField().canonicalString())||e.Ie.push(new By(xr.keyField(),r))}return e.Ie}function us(t){const e=dt(t);return e.Ee||(e.Ee=rJ(e,rh(t))),e.Ee}function rJ(t,e){if(t.limitType==="F")return Vj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new By(i.field,o)});const n=t.endAt?new Vy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vy(t.startAt.position,t.startAt.inclusive):null;return Vj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tS(t,e,n){return new Fx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vx(t,e){return DT(us(t),us(e))&&t.limitType===e.limitType}function c3(t){return`${MT(us(t))}|lt:${t.limitType}`}function Gc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>a3(i)).join(", ")}]`),$x(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nd(i)).join(",")),`Target(${r})`}(us(t))}; limitType=${t.limitType})`}function Bx(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):et.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of rh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Lj(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,rh(r),i)||r.endAt&&!function(s,a,l){const u=Lj(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,rh(r),i))}(t,e)}function iJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u3(t){return(e,n)=>{let r=!1;for(const i of rh(t)){const o=oJ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function oJ(t,e,n){const r=t.field.isKeyField()?et.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?td(l,u):it(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return it(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return G4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ=new Cn(et.comparator);function na(){return sJ}const d3=new Cn(et.comparator);function Df(...t){let e=d3;for(const n of t)e=e.insert(n.key,n);return e}function f3(t){let e=d3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bl(){return ih()}function h3(){return ih()}function ih(){return new Cc(t=>t.toString(),(t,e)=>t.isEqual(e))}const aJ=new Cn(et.comparator),lJ=new Jn(et.comparator);function Et(...t){let e=lJ;for(const n of t)e=e.add(n);return e}const cJ=new Jn(_t);function uJ(){return cJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$y(e)?"-0":e}}function p3(t){return{integerValue:""+t}}function dJ(t,e){return LQ(e)?p3(e):LT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this._=void 0}}function fJ(t,e,n){return t instanceof Hh?function(i,o){const s={fields:{[X4]:{stringValue:Y4},[J4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&OT(o)&&(o=Lx(o)),o&&(s.fields[Q4]=o),{mapValue:s}}(n,e):t instanceof qh?g3(t,e):t instanceof Gh?y3(t,e):function(i,o){const s=m3(i,o),a=Uj(s)+Uj(i.Ae);return J1(s)&&J1(i.Ae)?p3(a):LT(i.serializer,a)}(t,e)}function hJ(t,e,n){return t instanceof qh?g3(t,e):t instanceof Gh?y3(t,e):n}function m3(t,e){return t instanceof Uy?function(r){return J1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Hh extends Ux{}class qh extends Ux{constructor(e){super(),this.elements=e}}function g3(t,e){const n=v3(e);for(const r of t.elements)n.some(i=>vs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gh extends Ux{constructor(e){super(),this.elements=e}}function y3(t,e){let n=v3(e);for(const r of t.elements)n=n.filter(i=>!vs(i,r));return{arrayValue:{values:n}}}class Uy extends Ux{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Uj(t){return Rn(t.integerValue||t.doubleValue)}function v3(t){return RT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(e,n){this.field=e,this.transform=n}}function mJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qh&&i instanceof qh||r instanceof Gh&&i instanceof Gh?ed(r.elements,i.elements,vs):r instanceof Uy&&i instanceof Uy?vs(r.Ae,i.Ae):r instanceof Hh&&i instanceof Hh}(t.transform,e.transform)}class gJ{constructor(e,n){this.version=e,this.transformResults=n}}class zs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zs}static exists(e){return new zs(void 0,e)}static updateTime(e){return new zs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zx{}function x3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new w3(t.key,zs.none()):new Zp(t.key,t.data,zs.none());{const n=t.data,r=Wi.empty();let i=new Jn(xr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ac(t.key,r,new Co(i.toArray()),zs.none())}}function yJ(t,e,n){t instanceof Zp?function(i,o,s){const a=i.value.clone(),l=Wj(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ac?function(i,o,s){if(!Hg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Wj(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(b3(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function oh(t,e,n,r){return t instanceof Zp?function(o,s,a,l){if(!Hg(o.precondition,s))return a;const u=o.value.clone(),d=Hj(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ac?function(o,s,a,l){if(!Hg(o.precondition,s))return a;const u=Hj(o.fieldTransforms,l,s),d=s.data;return d.setAll(b3(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Hg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function vJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=m3(r.transform,i||null);o!=null&&(n===null&&(n=Wi.empty()),n.set(r.field,o))}return n||null}function zj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ed(r,i,(o,s)=>mJ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zp extends zx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ac extends zx{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function b3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wj(t,e,n){const r=new Map;Dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,hJ(s,a,n[i]))}return r}function Hj(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,fJ(o,s,e))}return r}class w3 extends zx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xJ extends zx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&yJ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=h3();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=x3(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Et())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,(n,r)=>zj(n,r))&&ed(this.baseMutations,e.baseMutations,(n,r)=>zj(n,r))}}class FT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Dt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return aJ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new FT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wJ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn,At;function _J(t){switch(t){case ye.OK:return it(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return it(15467,{code:t})}}function S3(t){if(t===void 0)return ta("GRPC error has no .code"),ye.UNKNOWN;switch(t){case Fn.OK:return ye.OK;case Fn.CANCELLED:return ye.CANCELLED;case Fn.UNKNOWN:return ye.UNKNOWN;case Fn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Fn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Fn.INTERNAL:return ye.INTERNAL;case Fn.UNAVAILABLE:return ye.UNAVAILABLE;case Fn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Fn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Fn.NOT_FOUND:return ye.NOT_FOUND;case Fn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Fn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Fn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Fn.ABORTED:return ye.ABORTED;case Fn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Fn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Fn.DATA_LOSS:return ye.DATA_LOSS;default:return it(39323,{code:t})}}(At=Fn||(Fn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ=new Za([4294967295,4294967295],0);function qj(t){const e=EJ().encode(t),n=new $4;return n.update(e),new Uint8Array(n.digest())}function Gj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,o],0)]}class VT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $f(`Invalid padding: ${n}`);if(r<0)throw new $f(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $f(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $f(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Za.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return i.compare(TJ)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qj(e),[r,i]=Gj(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new VT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=qj(e),[r,i]=Gj(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,em.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wx(ut.min(),i,new Cn(_t),na(),Et())}}class em{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new em(r,n,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class _3{constructor(e,n){this.targetId=e,this.Ce=n}}class E3{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Kj{constructor(){this.ve=0,this.Fe=Yj(),this.Me=Tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Et(),n=Et(),r=Et();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:it(38017,{changeType:o})}}),new em(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Yj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=na(),this.Je=Qm(),this.He=Qm(),this.Ye=new Cn(_t)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:it(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(eS(o))if(r===0){const s=new et(o.path);this.et(n,s,Br.newNoDocument(s,ut.min()))}else Dt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ul(r).toUint8Array()}catch(l){if(l instanceof K4)return Zu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new VT(s,i,o)}catch(l){return Zu(l instanceof $f?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&eS(a.target)){const l=new et(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Br.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Et();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Wx(e,n,this.Ye,this.je,r);return this.je=na(),this.Je=Qm(),this.He=Qm(),this.Ye=new Cn(_t),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Kj,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jn(_t),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jn(_t),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kj),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qm(){return new Cn(et.comparator)}function Yj(){return new Cn(et.comparator)}const AJ={asc:"ASCENDING",desc:"DESCENDING"},PJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NJ={and:"AND",or:"OR"};class jJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nS(t,e){return t.useProto3Json||$x(e)?e:{value:e}}function zy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IJ(t,e){return zy(t,e.toTimestamp())}function ds(t){return Dt(!!t,49232),ut.fromTimestamp(function(n){const r=cl(n);return new dn(r.seconds,r.nanos)}(t))}function BT(t,e){return rS(t,e).canonicalString()}function rS(t,e){const n=function(i){return new Sn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function C3(t){const e=Sn.fromString(t);return Dt(I3(e),10190,{key:e.toString()}),e}function iS(t,e){return BT(t.databaseId,e.path)}function Hb(t,e){const n=C3(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new et(P3(n))}function A3(t,e){return BT(t.databaseId,e)}function kJ(t){const e=C3(t);return e.length===4?Sn.emptyPath():P3(e)}function oS(t){return new Sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function P3(t){return Dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Xj(t,e,n){return{name:iS(t,e),fields:n.value.mapValue.fields}}function OJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:it(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Dt(d===void 0||typeof d=="string",58123),Tr.fromBase64String(d||"")):(Dt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Tr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=u.code===void 0?ye.UNKNOWN:S3(u.code);return new Ke(d,u.message||"")}(s);n=new E3(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hb(t,r.document.name),o=ds(r.document.updateTime),s=r.document.createTime?ds(r.document.createTime):ut.min(),a=new Wi({mapValue:{fields:r.document.fields}}),l=Br.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new qg(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hb(t,r.document),o=r.readTime?ds(r.readTime):ut.min(),s=Br.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qg([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hb(t,r.document),o=r.removedTargetIds||[];n=new qg([],o,i,null)}else{if(!("filter"in e))return it(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new SJ(i,o),a=r.targetId;n=new _3(a,s)}}return n}function RJ(t,e){let n;if(e instanceof Zp)n={update:Xj(t,e.key,e.value)};else if(e instanceof w3)n={delete:iS(t,e.key)};else if(e instanceof Ac)n={update:Xj(t,e.key,e.data),updateMask:zJ(e.fieldMask)};else{if(!(e instanceof xJ))return it(16599,{Vt:e.type});n={verify:iS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Hh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Uy)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw it(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:IJ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:it(27497)}(t,e.precondition)),n}function MJ(t,e){return t&&t.length>0?(Dt(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?ds(i.updateTime):ds(o);return s.isEqual(ut.min())&&(s=ds(o)),new gJ(s,i.transformResults||[])}(n,e))):[]}function DJ(t,e){return{documents:[A3(t,e.path)]}}function $J(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=A3(t,i);const o=function(u){if(u.length!==0)return j3(xs.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Kc(h.field),direction:VJ(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=nS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function LJ(t){let e=kJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Dt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=N3(f);return h instanceof xs&&o3(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new By(Yc(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,$x(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Vy(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new Vy(m,h)}(n.endAt)),tJ(e,i,s,o,a,"F",l,u)}function FJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function N3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yc(n.unaryFilter.field);return Yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yc(n.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yc(n.unaryFilter.field);return Yn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yc(n.unaryFilter.field);return Yn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return it(61313);default:return it(60726)}}(t):t.fieldFilter!==void 0?function(n){return Yn.create(Yc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return it(58110);default:return it(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xs.create(n.compositeFilter.filters.map(r=>N3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return it(1026)}}(n.compositeFilter.op))}(t):it(30097,{filter:t})}function VJ(t){return AJ[t]}function BJ(t){return PJ[t]}function UJ(t){return NJ[t]}function Kc(t){return{fieldPath:t.canonicalString()}}function Yc(t){return xr.fromServerFormat(t.fieldPath)}function j3(t){return t instanceof Yn?function(n){if(n.op==="=="){if($j(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NAN"}};if(Dj(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($j(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NAN"}};if(Dj(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kc(n.field),op:BJ(n.op),value:n.value}}}(t):t instanceof xs?function(n){const r=n.getFilters().map(i=>j3(i));return r.length===1?r[0]:{compositeFilter:{op:UJ(n.op),filters:r}}}(t):it(54877,{filter:t})}function zJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function I3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,r,i,o=ut.min(),s=ut.min(),a=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e){this.yt=e}}function HJ(t){const e=LJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(){this.Cn=new GJ}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(ll.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class GJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jn(Sn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(Sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k3=41943040;class oi{static withCacheSize(e){return new oi(e,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi.DEFAULT_COLLECTION_PERCENTILE=10,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oi.DEFAULT=new oi(k3,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oi.DISABLED=new oi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rd(0)}static cr(){return new rd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="LruGarbageCollector",KJ=1048576;function Zj([t,e],[n,r]){const i=_t(t,n);return i===0?_t(e,r):i}class YJ{constructor(e){this.Ir=e,this.buffer=new Jn(Zj),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Zj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(Jj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vd(n)?Re(Jj,"Ignoring IndexedDB error during garbage collection: ",n):await Fd(n)}await this.Vr(3e5)})}}class QJ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Dx.ce);const r=new YJ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Qj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qj):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),qc()<=wt.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function JJ(t,e){return new QJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(){this.changes=new Cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oh(r.mutation,i,Co.empty(),dn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Et()){const i=Bl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Df();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Bl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Et()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=na();const s=ih(),a=function(){return ih()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ac)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),oh(d.mutation,u,d.mutation.getFieldMask(),dn.now())):s.set(u.key,Co.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>a.set(u,new eZ(d,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ih();let i=new Cn((s,a)=>s-a),o=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Co.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||Et()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=h3();d.forEach(h=>{if(!o.has(h)){const m=x3(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return he.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return et.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nJ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):he.resolve(Bl());let a=Bh,l=o;return s.next(u=>he.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?he.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Et())).next(d=>({batchId:a,changes:f3(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new et(n)).next(r=>{let i=Df();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Df();return this.indexManager.getCollectionParents(e,o).next(a=>he.forEach(a,l=>{const u=function(f,h){return new Fx(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Br.newInvalidDocument(d)))});let a=Df();return s.forEach((l,u)=>{const d=o.get(l);d!==void 0&&oh(d.mutation,u,Co.empty(),dn.now()),Bx(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ds(i.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:HJ(i.bundledQuery),readTime:ds(i.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(){this.overlays=new Cn(et.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bl();return he.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=Bl(),o=n.length+1,s=new et(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Cn((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Bl(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Bl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return he.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new wJ(n,r));let o=this.qr.get(n);o===void 0&&(o=Et(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.Qr=new Jn(sr.$r),this.Ur=new Jn(sr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new sr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new sr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new et(new Sn([])),r=new sr(n,e),i=new sr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new et(new Sn([])),r=new sr(n,e),i=new sr(n,e+1);let o=Et();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new sr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return et.comparator(e.key,n.key)||_t(e.Yr,n.Yr)}static Kr(e,n){return _t(e.Yr,n.Yr)||et.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jn(sr.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new bJ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new sr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return he.resolve(s)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?kT:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sr(n,0),i=new sr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jn(_t);return n.forEach(i=>{const o=new sr(i,0),s=new sr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;et.isDocumentKey(o)||(o=o.child(""));const s=new sr(new et(o),0);let a=new Jn(_t);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),he.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,i=>{const o=new sr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new sr(n,0),i=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e){this.ri=e,this.docs=function(){return new Cn(et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(n))}getEntries(e,n){let r=na();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Br.newInvalidDocument(i))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=na();const s=n.path,a=new et(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||RQ(OQ(d),r)<=0||(i.has(d.key)||Bx(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,n,r,i){it(9500)}ii(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aZ(this)}getSize(e){return he.resolve(this.size)}}class aZ extends ZJ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(e){this.persistence=e,this.si=new Cc(n=>MT(n),DT),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.oi=0,this._i=new UT,this.targetCount=0,this.ai=rd.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),he.waitFor(o).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dx(0),this.li=!1,this.li=!0,this.hi=new iZ,this.referenceDelegate=e(this),this.Pi=new lZ(this),this.indexManager=new qJ,this.remoteDocumentCache=function(i){return new sZ(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new WJ(n),this.Ii=new nZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new oZ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new cZ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return he.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class cZ extends DQ{constructor(e){super(),this.currentSequenceNumber=e}}class zT{constructor(e){this.persistence=e,this.Ri=new UT,this.Vi=null}static mi(e){return new zT(e)}get fi(){if(this.Vi)return this.Vi;throw it(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,r=>{const i=et.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,ut.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wy{constructor(e,n){this.persistence=e,this.pi=new Cc(r=>FQ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=JJ(this,n)}static mi(e,n){return new Wy(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return he.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?he.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ut.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zg(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Et(),i=Et();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new WT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return eK()?8:$Q(Hr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new uZ;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(qc()<=wt.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Gc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(qc()<=wt.DEBUG&&Re("QueryEngine","Query:",Gc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(qc()<=wt.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Gc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,us(n))):he.resolve())}ys(e,n){if(Bj(n))return he.resolve(null);let r=us(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tS(n,null,"F"),r=us(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Et(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,tS(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return Bj(n)||i.isEqual(ut.min())?he.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?he.resolve(null):(qc()<=wt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gc(n)),this.vs(e,s,n,kQ(i,Bh)).next(a=>a))})}Ds(e,n){let r=new Jn(u3(e));return n.forEach((i,o)=>{Bx(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return qc()<=wt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Gc(n)),this.ps.getDocumentsMatchingQuery(e,n,ll.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LocalStore",fZ=3e8;class hZ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Cn(_t),this.xs=new Cc(o=>MT(o),DT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tZ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function pZ(t,e,n,r){return new hZ(t,e,n,r)}async function R3(t,e){const n=dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Et();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function mZ(t,e){const n=dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let m=he.resolve();return h.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(g=>{const v=u.docVersions.get(y);Dt(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Et();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function M3(t){const e=dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function gZ(t,e){const n=dt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Tr.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,v,x){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=fZ?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(o,m))});let l=na(),u=Et();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(yZ(o,s,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(ut.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return he.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function yZ(t,e,n){let r=Et(),i=Et();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=na();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ut.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Re(HT,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function vZ(t,e){const n=dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=kT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xZ(t,e){const n=dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,he.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new La(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function sS(t,e,n){const r=dt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Vd(s))throw s;Re(HT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function eI(t,e,n){const r=dt(t);let i=ut.min(),o=Et();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const f=dt(l),h=f.xs.get(d);return h!==void 0?he.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(r,s,us(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ut.min(),n?o:Et())).next(a=>(bZ(r,iJ(e),a),{documents:a,Qs:o})))}function bZ(t,e,n){let r=t.Os.get(e)||ut.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class tI{constructor(){this.activeTargetIds=uJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wZ{constructor(){this.Mo=new tI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="ConnectivityMonitor";class rI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(nI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(nI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm=null;function aS(){return Jm===null?Jm=function(){return 268435456+Math.round(2147483648*Math.random())}():Jm++,"0x"+Jm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="RestConnection",_Z={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EZ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ly?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=aS(),a=this.zo(e,n.toUriEncodedString());Re(qb,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),d=Md(u);return this.Jo(e,a,l,r,d).then(f=>(Re(qb,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Zu(qb,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ld}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=_Z[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="WebChannelConnection";class CZ extends EZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=aS();return new Promise((a,l)=>{const u=new L4;u.setWithCredentials(!0),u.listenOnce(F4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ug.NO_ERROR:const f=u.getResponseJson();Re(Dr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ug.TIMEOUT:Re(Dr,`RPC '${e}' ${s} timed out`),l(new Ke(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Ug.HTTP_ERROR:const h=u.getStatus();if(Re(Dr,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const g=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(w)>=0?w:ye.UNKNOWN}(y.status);l(new Ke(g,y.message))}else l(new Ke(ye.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ke(ye.UNAVAILABLE,"Connection failed."));break;default:it(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Re(Dr,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Re(Dr,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=aS(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=U4(),a=B4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Re(Dr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);this.I_(f);let h=!1,m=!1;const y=new TZ({Yo:v=>{m?Re(Dr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Re(Dr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Re(Dr,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Zo:()=>f.close()}),g=(v,x,w)=>{v.listen(x,S=>{try{w(S)}catch(C){setTimeout(()=>{throw C},0)}})};return g(f,Mf.EventType.OPEN,()=>{m||(Re(Dr,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),g(f,Mf.EventType.CLOSE,()=>{m||(m=!0,Re(Dr,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),g(f,Mf.EventType.ERROR,v=>{m||(m=!0,Zu(Dr,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),y.a_(new Ke(ye.UNAVAILABLE,"The operation could not be completed")))}),g(f,Mf.EventType.MESSAGE,v=>{var x;if(!m){const w=v.data[0];Dt(!!w,16349);const S=w,C=(S==null?void 0:S.error)||((x=S[0])==null?void 0:x.error);if(C){Re(Dr,`RPC '${e}' stream ${i} received error:`,C);const E=C.status;let P=function(N){const k=Fn[N];if(k!==void 0)return S3(k)}(E),_=C.message;P===void 0&&(P=ye.INTERNAL,_="Unknown error status: "+E+" with message "+C.message),m=!0,y.a_(new Ke(P,_)),f.close()}else Re(Dr,`RPC '${e}' stream ${i} received:`,w),y.u_(w)}}),g(a,V4.STAT_EVENT,v=>{v.stat===Y1.PROXY?Re(Dr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Y1.NOPROXY&&Re(Dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Gb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){return new jJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="PersistentStream";class $3{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new D3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Ke(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Re(iI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Re(iI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AZ extends $3{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=OJ(this.serializer,e),r=function(o){if(!("targetChange"in o))return ut.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ut.min():s.readTime?ds(s.readTime):ut.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=oS(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=eS(l)?{documents:DJ(o,l)}:{query:$J(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=T3(o,s.resumeToken);const u=nS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ut.min())>0){a.readTime=zy(o,s.snapshotVersion.toTimestamp());const u=nS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=FJ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=oS(this.serializer),n.removeTarget=e,this.q_(n)}}class PZ extends $3{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=MJ(e.writeResults,e.commitTime),r=ds(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=oS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RJ(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{}class jZ extends NZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ke(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,rS(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(ye.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,rS(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(ye.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class IZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="RemoteStore";class kZ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Pc(this)&&(Re(pc,"Restarting streams for network reachability change."),await async function(l){const u=dt(l);u.Ea.add(4),await tm(u),u.Ra.set("Unknown"),u.Ea.delete(4),await qx(u)}(this))})}),this.Ra=new IZ(r,i)}}async function qx(t){if(Pc(t))for(const e of t.da)await e(!0)}async function tm(t){for(const e of t.da)await e(!1)}function L3(t,e){const n=dt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),YT(n)?KT(n):Bd(n).O_()&&GT(n,e))}function qT(t,e){const n=dt(t),r=Bd(n);n.Ia.delete(e),r.O_()&&F3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pc(n)&&n.Ra.set("Unknown"))}function GT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bd(t).Y_(e)}function F3(t,e){t.Va.Ue(e),Bd(t).Z_(e)}function KT(t){t.Va=new CJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bd(t).start(),t.Ra.ua()}function YT(t){return Pc(t)&&!Bd(t).x_()&&t.Ia.size>0}function Pc(t){return dt(t).Ea.size===0}function V3(t){t.Va=void 0}async function OZ(t){t.Ra.set("Online")}async function RZ(t){t.Ia.forEach((e,n)=>{GT(t,e)})}async function MZ(t,e){V3(t),YT(t)?(t.Ra.ha(e),KT(t)):t.Ra.set("Unknown")}async function DZ(t,e,n){if(t.Ra.set("Online"),e instanceof E3&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Re(pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hy(t,r)}else if(e instanceof qg?t.Va.Ze(e):e instanceof _3?t.Va.st(e):t.Va.tt(e),!n.isEqual(ut.min()))try{const r=await M3(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.Ia.get(l);if(!d)return;o.Ia.set(l,d.withResumeToken(Tr.EMPTY_BYTE_STRING,d.snapshotVersion)),F3(o,l);const f=new La(d.target,l,u,d.sequenceNumber);GT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Re(pc,"Failed to raise snapshot:",r),await Hy(t,r)}}async function Hy(t,e,n){if(!Vd(e))throw e;t.Ea.add(1),await tm(t),t.Ra.set("Offline"),n||(n=()=>M3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re(pc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qx(t)})}function B3(t,e){return e().catch(n=>Hy(t,n,e))}async function Gx(t){const e=dt(t),n=fl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kT;for(;$Z(e);)try{const i=await vZ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,LZ(e,i)}catch(i){await Hy(e,i)}U3(e)&&z3(e)}function $Z(t){return Pc(t)&&t.Ta.length<10}function LZ(t,e){t.Ta.push(e);const n=fl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function U3(t){return Pc(t)&&!fl(t).x_()&&t.Ta.length>0}function z3(t){fl(t).start()}async function FZ(t){fl(t).ra()}async function VZ(t){const e=fl(t);for(const n of t.Ta)e.ea(n.mutations)}async function BZ(t,e,n){const r=t.Ta.shift(),i=FT.from(r,e,n);await B3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gx(t)}async function UZ(t,e){e&&fl(t).X_&&await async function(r,i){if(function(s){return _J(s)&&s!==ye.ABORTED}(i.code)){const o=r.Ta.shift();fl(r).B_(),await B3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gx(r)}}(t,e),U3(t)&&z3(t)}async function oI(t,e){const n=dt(t);n.asyncQueue.verifyOperationInProgress(),Re(pc,"RemoteStore received new credentials");const r=Pc(n);n.Ea.add(3),await tm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qx(n)}async function zZ(t,e){const n=dt(t);e?(n.Ea.delete(2),await qx(n)):e||(n.Ea.add(2),await tm(n),n.Ra.set("Unknown"))}function Bd(t){return t.ma||(t.ma=function(n,r,i){const o=dt(n);return o.sa(),new AZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:OZ.bind(null,t),t_:RZ.bind(null,t),r_:MZ.bind(null,t),H_:DZ.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),YT(t)?KT(t):t.Ra.set("Unknown")):(await t.ma.stop(),V3(t))})),t.ma}function fl(t){return t.fa||(t.fa=function(n,r,i){const o=dt(n);return o.sa(),new PZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:FZ.bind(null,t),r_:UZ.bind(null,t),ta:VZ.bind(null,t),na:BZ.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gx(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(pc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new XT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QT(t,e){if(ta("AsyncQueue",`${e}: ${t}`),Vd(t))return new Ke(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{static emptySet(e){return new Tu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=Df(),this.sortedSet=new Cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.ga=new Cn(et.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):it(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class id{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new id(e,n,Tu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class HZ{constructor(){this.queries=aI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=dt(n),o=i.queries;i.queries=aI(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Ke(ye.ABORTED,"Firestore shutting down"))}}function aI(){return new Cc(t=>c3(t),Vx)}async function qZ(t,e){const n=dt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new WZ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=QT(s,`Initialization of query '${Gc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&JT(n)}async function GZ(t,e){const n=dt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KZ(t,e){const n=dt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&JT(n)}function YZ(t,e,n){const r=dt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function JT(t){t.Ca.forEach(e=>{e.next()})}var lS,lI;(lI=lS||(lS={})).Ma="default",lI.Cache="cache";class XZ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new id(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=id.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.key=e}}class H3{constructor(e){this.key=e}}class QZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Et(),this.mutatedKeys=Et(),this.eu=u3(e),this.tu=new Tu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new sI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Bx(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?y!==g&&(r.track({type:3,doc:m}),v=!0):this.su(h,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),v=!0):h&&!m&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(m?(s=s.add(m),o=g?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,f)=>function(m,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it(20277,{Rt:v})}};return g(m)-g(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new id(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Et(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new H3(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new W3(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return id.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ZT="SyncEngine";class JZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZZ{constructor(e){this.key=e,this.hu=!1}}class eee{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Cc(a=>c3(a),Vx),this.Iu=new Map,this.Eu=new Set,this.du=new Cn(et.comparator),this.Au=new Map,this.Ru=new UT,this.Vu={},this.mu=new Map,this.fu=rd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tee(t,e,n=!0){const r=Q3(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await q3(r,e,n,!0),i}async function nee(t,e){const n=Q3(t);await q3(n,e,!0,!1)}async function q3(t,e,n,r){const i=await xZ(t.localStore,us(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await ree(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&L3(t.remoteStore,i),a}async function ree(t,e,n,r,i){t.pu=(f,h,m)=>async function(g,v,x,w){let S=v.view.ru(x);S.Cs&&(S=await eI(g.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,S)));const C=w&&w.targetChanges.get(v.targetId),E=w&&w.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(S,g.isPrimaryClient,C,E);return uI(g,v.targetId,P.au),P.snapshot}(t,f,h,m);const o=await eI(t.localStore,e,!0),s=new QZ(e,o.Qs),a=s.ru(o.documents),l=em.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);uI(t,n,u.au);const d=new JZ(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function iee(t,e,n){const r=dt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Vx(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qT(r.remoteStore,i.targetId),cS(r,i.targetId)}).catch(Fd)):(cS(r,i.targetId),await sS(r.localStore,i.targetId,!0))}async function oee(t,e){const n=dt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qT(n.remoteStore,r.targetId))}async function see(t,e,n){const r=hee(t);try{const i=await function(s,a){const l=dt(s),u=dn.now(),d=a.reduce((m,y)=>m.add(y.key),Et());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=na(),g=Et();return l.Ns.getEntries(m,d).next(v=>{y=v,y.forEach((x,w)=>{w.isValidDocument()||(g=g.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(v=>{f=v;const x=[];for(const w of a){const S=vJ(w,f.get(w.key).overlayedDocument);S!=null&&x.push(new Ac(w.key,S,n3(S.value.mapValue),zs.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,a)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:f3(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new Cn(_t)),u=u.insert(a,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await nm(r,i.changes),await Gx(r.remoteStore)}catch(i){const o=QT(i,"Failed to persist write");n.reject(o)}}async function G3(t,e){const n=dt(t);try{const r=await gZ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Dt(s.hu,14607):i.removedDocuments.size>0&&(Dt(s.hu,42227),s.hu=!1))}),await nm(n,r,e)}catch(r){await Fd(r)}}function cI(t,e,n){const r=dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=dt(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&JT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aee(t,e,n){const r=dt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Cn(et.comparator);s=s.insert(o,Br.newNoDocument(o,ut.min()));const a=Et().add(o),l=new Wx(ut.min(),new Map,new Cn(_t),s,a);await G3(r,l),r.du=r.du.remove(o),r.Au.delete(e),eC(r)}else await sS(r.localStore,e,!1).then(()=>cS(r,e,n)).catch(Fd)}async function lee(t,e){const n=dt(t),r=e.batch.batchId;try{const i=await mZ(n.localStore,e);Y3(n,r,null),K3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nm(n,i)}catch(i){await Fd(i)}}async function cee(t,e,n){const r=dt(t);try{const i=await function(s,a){const l=dt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Dt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Y3(r,e,n),K3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nm(r,i)}catch(i){await Fd(i)}}function K3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Y3(t,e,n){const r=dt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function cS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||X3(t,r)})}function X3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),eC(t))}function uI(t,e,n){for(const r of n)r instanceof W3?(t.Ru.addReference(r.key,e),uee(t,r)):r instanceof H3?(Re(ZT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||X3(t,r.key)):it(19791,{wu:r})}function uee(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(ZT,"New document in limbo: "+n),t.Eu.add(r),eC(t))}function eC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new et(Sn.fromString(e)),r=t.fu.next();t.Au.set(r,new ZZ(n)),t.du=t.du.insert(n,r),L3(t.remoteStore,new La(us($T(n.path)),r,"TargetPurposeLimboResolution",Dx.ce))}}async function nm(t,e,n){const r=dt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=WT.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const d=dt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>he.forEach(u,h=>he.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>he.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Vd(f))throw f;Re(HT,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(h,g)}}}(r.localStore,o))}async function dee(t,e){const n=dt(t);if(!n.currentUser.isEqual(e)){Re(ZT,"User change. New user:",e.toKey());const r=await R3(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Ke(ye.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nm(n,r.Ls)}}function fee(t,e){const n=dt(t),r=n.Au.get(e);if(r&&r.hu)return Et().add(r.key);{let i=Et();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function Q3(t){const e=dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aee.bind(null,e),e.Pu.H_=KZ.bind(null,e.eventManager),e.Pu.yu=YZ.bind(null,e.eventManager),e}function hee(t){const e=dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cee.bind(null,e),e}class qy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pZ(this.persistence,new dZ,e.initialUser,this.serializer)}Cu(e){return new O3(zT.mi,this.serializer)}Du(e){return new wZ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qy.provider={build:()=>new qy};class pee extends qy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Dt(this.persistence.referenceDelegate instanceof Wy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XJ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?oi.withCacheSize(this.cacheSizeBytes):oi.DEFAULT;return new O3(r=>Wy.mi(r,n),this.serializer)}}class uS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dee.bind(null,this.syncEngine),await zZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HZ}()}createDatastore(e){const n=Hx(e.databaseInfo.databaseId),r=function(o){return new CZ(o)}(e.databaseInfo);return function(o,s,a,l){return new jZ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new kZ(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cI(this.syncEngine,n,0),function(){return rI.v()?new rI:new SZ}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,d){const f=new eee(i,o,s,a,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=dt(i);Re(pc,"RemoteStore shutting down."),o.Ea.add(5),await tm(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}uS.provider={build:()=>new uS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="FirestoreClient";class gee{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=jT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Re(hl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Re(hl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=QT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kb(t,e){t.asyncQueue.verifyOperationInProgress(),Re(hl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await R3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yee(t);Re(hl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>oI(e.remoteStore,i)),t._onlineComponents=e}async function yee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(hl,"Using user provided OfflineComponentProvider");try{await Kb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await Kb(t,new qy)}}else Re(hl,"Using default OfflineComponentProvider"),await Kb(t,new pee(void 0));return t._offlineComponents}async function J3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(hl,"Using user provided OnlineComponentProvider"),await dI(t,t._uninitializedComponentsProvider._online)):(Re(hl,"Using default OnlineComponentProvider"),await dI(t,new uS))),t._onlineComponents}function vee(t){return J3(t).then(e=>e.syncEngine)}async function xee(t){const e=await J3(t),n=e.eventManager;return n.onListen=tee.bind(null,e.syncEngine),n.onUnlisten=iee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nee.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oee.bind(null,e.syncEngine),n}function bee(t,e,n={}){const r=new el;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new mee({next:h=>{d.Nu(),s.enqueueAndForget(()=>GZ(o,f));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new Ke(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new Ke(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new XZ($T(a.path),d,{includeMetadataChanges:!0,qa:!0});return qZ(o,f)}(await xee(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="firestore.googleapis.com",hI=!0;class pI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e5,this.ssl=hI}else this.host=e.host,this.ssl=e.ssl??hI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KJ)throw new Ke(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z3(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ke(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ke(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ke(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bQ;switch(r.type){case"firstParty":return new EQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fI.get(n);r&&(Re("ComponentProvider","Removing Datastore"),fI.delete(n),r.terminate())}(this),Promise.resolve()}}function wee(t,e,n,r={}){var u;t=Vh(t,tC);const i=Md(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(JL(`https://${a}`),ZL("Firestore",!0)),o.host!==e5&&o.host!==a&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!uc(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Fr.MOCK_USER;else{d=HG(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ke(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Fr(h)}t._authCredentials=new wQ(new W4(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nC(this.firestore,e,this._query)}}class ur{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}toJSON(){return{type:ur._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Jp(n,ur._jsonSchema))return new ur(e,r||null,new et(Sn.fromString(n.referencePath)))}}ur._jsonSchemaVersion="firestore/documentReference/1.0",ur._jsonSchema={type:Un("string",ur._jsonSchemaVersion),referencePath:Un("string")};class Kh extends nC{constructor(e,n,r){super(e,n,$T(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new et(e))}withConverter(e){return new Kh(this.firestore,e,this._path)}}function t5(t,e,...n){if(t=Zi(t),arguments.length===1&&(e=jT.newId()),jQ("doc","path",e),t instanceof tC){const r=Sn.fromString(e,...n);return Pj(r),new ur(t,null,new et(r))}{if(!(t instanceof ur||t instanceof Kh))throw new Ke(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Sn.fromString(e,...n));return Pj(r),new ur(t.firestore,t instanceof Kh?t.converter:null,new et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="AsyncQueue";class gI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new D3(this,"async_queue_retry"),this._c=()=>{const r=Gb();r&&Re(mI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new el;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vd(e))throw e;Re(mI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",yI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=XT.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&it(47125,{Pc:yI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rC extends tC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gI(e),this._firestoreClient=void 0,await e}}}function See(t,e){const n=typeof t=="object"?t:r4(),r=typeof t=="string"?t:Ly,i=vT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=zG("firestore");o&&wee(i,...o)}return i}function n5(t){if(t._terminated)throw new Ke(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_ee(t),t._firestoreClient}function _ee(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,d){return new UQ(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Z3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new gee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hi(Tr.fromBase64String(e))}catch(n){throw new Ke(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hi(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jp(e,Hi._jsonSchema))return Hi.fromBase64String(e.bytes)}}Hi._jsonSchemaVersion="firestore/bytes/1.0",Hi._jsonSchema={type:Un("string",Hi._jsonSchemaVersion),bytes:Un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fs._jsonSchemaVersion}}static fromJSON(e){if(Jp(e,fs._jsonSchema))return new fs(e.latitude,e.longitude)}}fs._jsonSchemaVersion="firestore/geoPoint/1.0",fs._jsonSchema={type:Un("string",fs._jsonSchemaVersion),latitude:Un("number"),longitude:Un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jp(e,hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hs(e.vectorValues);throw new Ke(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hs._jsonSchemaVersion="firestore/vectorValue/1.0",hs._jsonSchema={type:Un("string",hs._jsonSchemaVersion),vectorValues:Un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee=/^__.*__$/;class Tee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ac(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zp(e,this.data,n,this.fieldTransforms)}}function r5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it(40011,{Ac:t})}}class sC{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(r5(this.Ac)&&Eee.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Cee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hx(e)}Cc(e,n,r,i=!1){return new sC({Ac:e,methodName:n,Dc:r,path:xr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Aee(t){const e=t._freezeSettings(),n=Hx(t._databaseId);return new Cee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pee(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);a5("Data must be an object, but it was:",s,r);const a=o5(r,s);let l,u;if(o.merge)l=new Co(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=Nee(e,f,n);if(!s.contains(h))throw new Ke(ye.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Iee(d,h)||d.push(h)}l=new Co(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Tee(new Wi(a),l,u)}class aC extends oC{_toFieldTransform(e){return new pJ(e.path,new Hh)}isEqual(e){return e instanceof aC}}function i5(t,e){if(s5(t=Zi(t)))return a5("Unsupported field value:",e,t),o5(t,e);if(t instanceof oC)return function(r,i){if(!r5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=i5(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Zi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=dn.fromDate(r);return{timestampValue:zy(i.serializer,o)}}if(r instanceof dn){const o=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zy(i.serializer,o)}}if(r instanceof fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hi)return{bytesValue:T3(i.serializer,r._byteString)};if(r instanceof ur){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hs)return function(s,a){return{mapValue:{fields:{[Z4]:{stringValue:t3},[Fy]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return LT(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${IT(r)}`)}(t,e)}function o5(t,e){const n={};return G4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,(r,i)=>{const o=i5(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function s5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof fs||t instanceof Hi||t instanceof ur||t instanceof oC||t instanceof hs)}function a5(t,e,n){if(!s5(n)||!H4(n)){const r=IT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Nee(t,e,n){if((e=Zi(e))instanceof iC)return e._internalPath;if(typeof e=="string")return l5(t,e);throw Gy("Field path arguments must be of type string or ",t,!1,void 0,n)}const jee=new RegExp("[~\\*/\\[\\]]");function l5(t,e,n){if(e.search(jee)>=0)throw Gy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iC(...e.split("."))._internalPath}catch{throw Gy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ke(ye.INVALID_ARGUMENT,a+t+l)}function Iee(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kee extends c5{data(){return super.data()}}function u5(t,e){return typeof e=="string"?l5(t,e):e instanceof iC?e._internalPath:e._delegate._internalPath}class Oee{convertValue(e,n="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw it(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Fy].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>Rn(s.doubleValue));return new hs(n)}convertGeoPoint(e){return new fs(Rn(e.latitude),Rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uh(e));default:return null}}convertTimestamp(e){const n=cl(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Sn.fromString(e);Dt(I3(r),9688,{name:e});const i=new zh(r.get(1),r.get(3)),o=new et(r.popFirst(5));return i.isEqual(n)||ta(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ree(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Lf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends c5{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(u5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zl._jsonSchema={type:Un("string",Zl._jsonSchemaVersion),bundleSource:Un("string","DocumentSnapshot"),bundleName:Un("string"),bundle:Un("string")};class Gg extends Zl{data(e={}){return super.data(e)}}class sh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gg(this._firestore,this._userDataWriter,r.key,r,new Lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Gg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Gg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Mee(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dee(t){t=Vh(t,ur);const e=Vh(t.firestore,rC);return bee(n5(e),t._key).then(n=>Vee(e,t,n))}sh._jsonSchemaVersion="firestore/querySnapshot/1.0",sh._jsonSchema={type:Un("string",sh._jsonSchemaVersion),bundleSource:Un("string","QuerySnapshot"),bundleName:Un("string"),bundle:Un("string")};class $ee extends Oee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,n)}}function Lee(t,e,n){t=Vh(t,ur);const r=Vh(t.firestore,rC),i=Ree(t.converter,e,n);return Fee(r,[Pee(Aee(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zs.none())])}function Fee(t,e){return function(r,i){const o=new el;return r.asyncQueue.enqueueAndForget(async()=>see(await vee(r),i,o)),o.promise}(n5(t),e)}function Vee(t,e,n){const r=n.docs.get(e._key),i=new $ee(t);return new Zl(t,i,e._key,r,new Lf(n.hasPendingWrites,n.fromCache),e.converter)}function Bee(){return new aC("serverTimestamp")}(function(e,n=!0){(function(i){Ld=i})(Dd),Qu(new dc("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new rC(new SQ(r.getProvider("auth-internal")),new TQ(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ke(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zh(u.options.projectId,d)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ja(Ej,Tj,e),Ja(Ej,Tj,"esm2020")})();const Uee={apiKey:"AIzaSyA3jeqtK7sD7WGDSiGTW0sZO4CxwYimkNc",authDomain:"cuemastersuite.firebaseapp.com",projectId:"cuemastersuite",storageBucket:"cuemastersuite.firebasestorage.app",messagingSenderId:"565840195638",appId:"1:565840195638:web:1aa5acd2440bd998ffa897",measurementId:"G-0WVC9LP6WX"},d5=n4(Uee),Kx=vQ(d5),f5=See(d5),zee=new Ms,Wee=new Rs;async function Hee(){try{return(await M4(Kx,zee)).user}catch(t){return console.error("Google sign-in error:",t),null}}async function qee(){try{return(await M4(Kx,Wee)).user}catch(t){return console.error("Facebook sign-in error:",t),null}}async function Gee(){try{await lX(Kx)}catch(t){console.error("Sign-out error:",t)}}function Kee(t){return aX(Kx,t)}async function vI(t){try{const e=await Dee(t5(f5,"users",t));if(e.exists()){const n=e.data();return{isPro:(n==null?void 0:n.isPro)===!0,promoCode:(n==null?void 0:n.promoCode)||null}}return{isPro:!1,promoCode:null}}catch(e){return console.error("Error fetching Pro status:",e),{isPro:!1,promoCode:null}}}async function Yee(t,e,n){try{return await Lee(t5(f5,"users",t),{isPro:e,promoCode:n||null,updatedAt:Bee()},{merge:!0}),!0}catch(r){return console.error("Error setting Pro status:",r),!1}}const h5=b.createContext(null);function Ud(){const t=b.useContext(h5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Xee(){const[t,e]=b.useState(null),[n,r]=b.useState(!1),[i,o]=b.useState(null),[s,a]=b.useState(!0),l=async()=>{if(t){const m=await vI(t.uid);r(m.isPro),o(m.promoCode)}else{const m=localStorage.getItem("cuemaster_pro_unlocked")==="true",y=localStorage.getItem("cuemaster_promo_code");r(m),o(y)}};return b.useEffect(()=>{const m=Kee(async y=>{if(e(y),y){const g=await vI(y.uid);r(g.isPro),o(g.promoCode)}else{const g=localStorage.getItem("cuemaster_pro_unlocked")==="true",v=localStorage.getItem("cuemaster_promo_code");r(g),o(v)}a(!1)});return()=>m()},[]),{user:t,isPro:n,promoCode:i,isLoading:s,signInWithGoogle:async()=>{a(!0),await Hee(),a(!1)},signInWithFacebook:async()=>{a(!0),await qee(),a(!1)},signOut:async()=>{await Gee(),r(!1)},refreshProStatus:l,unlockPro:async m=>{if(t){const y=await Yee(t.uid,!0,m);return y&&(r(!0),o(m||null)),y}else return localStorage.setItem("cuemaster_pro_unlocked","true"),m&&localStorage.setItem("cuemaster_promo_code",m),r(!0),o(m||null),!0}}}function Qee({children:t}){const e=Xee();return c.jsx(h5.Provider,{value:e,children:t})}const Ze=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Ze.displayName="Card";const Jee=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("flex flex-col space-y-1.5 p-6",t),...e}));Jee.displayName="CardHeader";const Zee=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("text-2xl font-semibold leading-none tracking-tight",t),...e}));Zee.displayName="CardTitle";const ete=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("text-sm text-muted-foreground",t),...e}));ete.displayName="CardDescription";const p5=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("p-6 pt-0",t),...e}));p5.displayName="CardContent";const tte=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("flex items-center p-6 pt-0",t),...e}));tte.displayName="CardFooter";function Zm({icon:t,title:e,subtitle:n,description:r,onClick:i,testId:o,disabled:s=!1,proFeature:a=!1,isProUser:l=!1}){const u=a&&l;return c.jsx(Ze,{className:`p-6 ${s?"border border-dashed border-muted-foreground/40 bg-muted/30 cursor-not-allowed opacity-70":`cursor-pointer hover-elevate active-elevate-2 ${u?"border-l-[3px] border-l-primary":""}`}`,onClick:s?void 0:i,"data-testid":o,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${s?"bg-muted/50":"bg-primary/10"}`,children:t}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider mb-0.5 ${s?"text-muted-foreground/60":"text-primary"}`,children:n}),c.jsx("h3",{className:`text-xl font-bold mb-1 ${s?"text-muted-foreground":"text-foreground"}`,children:e}),c.jsx("p",{className:`text-sm ${s?"text-muted-foreground/70":"text-muted-foreground"}`,children:r}),s&&c.jsx("p",{className:"text-xs font-medium text-primary/70 mt-3 uppercase tracking-wider",children:"Coming Soon"})]})]})})}function nte(){const[t,e]=b.useState(null),{toast:n}=Id(),r="0.9.8",i=()=>{const s=setTimeout(()=>{navigator.clipboard.writeText(r),n({title:"Version copied",description:`v${r} copied to clipboard`,duration:2e3})},500);e(s)},o=()=>{t&&(clearTimeout(t),e(null))};return c.jsxs("span",{className:"text-xs text-muted-foreground select-none cursor-pointer hover-elevate active-elevate-2 px-2 py-1 rounded-md",onMouseDown:i,onMouseUp:o,onMouseLeave:o,onTouchStart:i,onTouchEnd:o,"data-testid":"text-version",children:["v",r]})}var Yb="focusScope.autoFocusOnMount",Xb="focusScope.autoFocusOnUnmount",xI={bubbles:!1,cancelable:!0},rte="FocusScope",lC=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=b.useState(null),u=Dn(i),d=Dn(o),f=b.useRef(null),h=mt(e,g=>l(g)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let g=function(S){if(m.paused||!a)return;const C=S.target;a.contains(C)?f.current=C:Sa(f.current,{select:!0})},v=function(S){if(m.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||Sa(f.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Sa(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,m.paused]),b.useEffect(()=>{if(a){wI.add(m);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(Yb,xI);a.addEventListener(Yb,u),a.dispatchEvent(x),x.defaultPrevented||(ite(cte(m5(a)),{select:!0}),document.activeElement===g&&Sa(a))}return()=>{a.removeEventListener(Yb,u),setTimeout(()=>{const x=new CustomEvent(Xb,xI);a.addEventListener(Xb,d),a.dispatchEvent(x),x.defaultPrevented||Sa(g??document.body,{select:!0}),a.removeEventListener(Xb,d),wI.remove(m)},0)}}},[a,u,d,m]);const y=b.useCallback(g=>{if(!n&&!r||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const w=g.currentTarget,[S,C]=ote(w);S&&C?!g.shiftKey&&x===C?(g.preventDefault(),n&&Sa(S,{select:!0})):g.shiftKey&&x===S&&(g.preventDefault(),n&&Sa(C,{select:!0})):x===w&&g.preventDefault()}},[n,r,m.paused]);return c.jsx(Ye.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});lC.displayName=rte;function ite(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Sa(r,{select:e}),document.activeElement!==n)return}function ote(t){const e=m5(t),n=bI(e,t),r=bI(e.reverse(),t);return[n,r]}function m5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bI(t,e){for(const n of t)if(!ste(n,{upTo:e}))return n}function ste(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ate(t){return t instanceof HTMLInputElement&&"select"in t}function Sa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ate(t)&&e&&t.select()}}var wI=lte();function lte(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=SI(t,e),t.unshift(e)},remove(e){var n;t=SI(t,e),(n=t[0])==null||n.resume()}}}function SI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function cte(t){return t.filter(e=>e.tagName!=="A")}var Qb=0;function g5(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_I()),document.body.insertAdjacentElement("beforeend",t[1]??_I()),Qb++,()=>{Qb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qb--}},[])}function _I(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rs=function(){return rs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rs.apply(this,arguments)};function y5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ute(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Kg="right-scroll-bar-position",Yg="width-before-scroll-bar",dte="with-scroll-bars-hidden",fte="--removed-body-scroll-bar-size";function Jb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function hte(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var pte=typeof window<"u"?b.useLayoutEffect:b.useEffect,EI=new WeakMap;function mte(t,e){var n=hte(null,function(r){return t.forEach(function(i){return Jb(i,r)})});return pte(function(){var r=EI.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Jb(a,null)}),o.forEach(function(a){i.has(a)||Jb(a,s)})}EI.set(n,t)},[t]),n}function gte(t){return t}function yte(t,e){e===void 0&&(e=gte);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return i}function vte(t){t===void 0&&(t={});var e=yte(null);return e.options=rs({async:!0,ssr:!1},t),e}var v5=function(t){var e=t.sideCar,n=y5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,rs({},n))};v5.isSideCarExport=!0;function xte(t,e){return t.useMedium(e),v5}var x5=vte(),Zb=function(){},Yx=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:Zb,onWheelCapture:Zb,onTouchMoveCapture:Zb}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,g=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,w=t.gapMode,S=y5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=mte([n,e]),P=rs(rs({},S),i);return b.createElement(b.Fragment,null,d&&b.createElement(C,{sideCar:x5,removeScrollBar:u,shards:f,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),s?b.cloneElement(b.Children.only(a),rs(rs({},P),{ref:E})):b.createElement(x,rs({},P,{className:l,ref:E}),a))});Yx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yx.classNames={fullWidth:Yg,zeroRight:Kg};var bte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=bte();return e&&t.setAttribute("nonce",e),t}function Ste(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _te(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Ete=function(){var t=0,e=null;return{add:function(n){t==0&&(e=wte())&&(Ste(e,n),_te(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Tte=function(){var t=Ete();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},b5=function(){var t=Tte(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Cte={left:0,top:0,right:0,gap:0},ew=function(t){return parseInt(t||"",10)||0},Ate=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ew(n),ew(r),ew(i)]},Pte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Cte;var e=Ate(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Nte=b5(),Cu="data-scroll-locked",jte=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(dte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Cu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Kg," .").concat(Kg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yg," .").concat(Yg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cu,`] {
    `).concat(fte,": ").concat(a,`px;
  }
`)},TI=function(){var t=parseInt(document.body.getAttribute(Cu)||"0",10);return isFinite(t)?t:0},Ite=function(){b.useEffect(function(){return document.body.setAttribute(Cu,(TI()+1).toString()),function(){var t=TI()-1;t<=0?document.body.removeAttribute(Cu):document.body.setAttribute(Cu,t.toString())}},[])},kte=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Ite();var o=b.useMemo(function(){return Pte(i)},[i]);return b.createElement(Nte,{styles:jte(o,!e,i,n?"":"!important")})},dS=!1;if(typeof window<"u")try{var eg=Object.defineProperty({},"passive",{get:function(){return dS=!0,!0}});window.addEventListener("test",eg,eg),window.removeEventListener("test",eg,eg)}catch{dS=!1}var Lc=dS?{passive:!1}:!1,Ote=function(t){return t.tagName==="TEXTAREA"},w5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ote(t)&&n[e]==="visible")},Rte=function(t){return w5(t,"overflowY")},Mte=function(t){return w5(t,"overflowX")},CI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=S5(t,r);if(i){var o=_5(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Dte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$te=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},S5=function(t,e){return t==="v"?Rte(e):Mte(e)},_5=function(t,e){return t==="v"?Dte(e):$te(e)},Lte=function(t,e){return t==="h"&&e==="rtl"?-1:1},Fte=function(t,e,n,r,i){var o=Lte(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),u=!1,d=s>0,f=0,h=0;do{var m=_5(t,a),y=m[0],g=m[1],v=m[2],x=g-v-o*y;(y||x)&&S5(t,a)&&(f+=x,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},tg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AI=function(t){return[t.deltaX,t.deltaY]},PI=function(t){return t&&"current"in t?t.current:t},Vte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Ute=0,Fc=[];function zte(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(Ute++)[0],o=b.useState(b5)[0],s=b.useRef(t);b.useEffect(function(){s.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=ute([t.lockRef.current],(t.shards||[]).map(PI),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var x=tg(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-x[0],C="deltaY"in g?g.deltaY:w[1]-x[1],E,P=g.target,_=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in g&&_==="h"&&P.type==="range")return!1;var T=CI(_,P);if(!T)return!0;if(T?E=_:(E=_==="v"?"h":"v",T=CI(_,P)),!T)return!1;if(!r.current&&"changedTouches"in g&&(S||C)&&(r.current=E),!E)return!0;var N=r.current||E;return Fte(N,v,g,N==="h"?S:C,!0)},[]),l=b.useCallback(function(g){var v=g;if(!(!Fc.length||Fc[Fc.length-1]!==o)){var x="deltaY"in v?AI(v):tg(v),w=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&Vte(E.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var S=(s.current.shards||[]).map(PI).filter(Boolean).filter(function(E){return E.contains(v.target)}),C=S.length>0?a(v,S[0]):!s.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(g,v,x,w){var S={name:g,delta:v,target:x,should:w,shadowParent:Wte(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(C){return C!==S})},1)},[]),d=b.useCallback(function(g){n.current=tg(g),r.current=void 0},[]),f=b.useCallback(function(g){u(g.type,AI(g),g.target,a(g,t.lockRef.current))},[]),h=b.useCallback(function(g){u(g.type,tg(g),g.target,a(g,t.lockRef.current))},[]);b.useEffect(function(){return Fc.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Lc),document.addEventListener("touchmove",l,Lc),document.addEventListener("touchstart",d,Lc),function(){Fc=Fc.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Lc),document.removeEventListener("touchmove",l,Lc),document.removeEventListener("touchstart",d,Lc)}},[]);var m=t.removeScrollBar,y=t.inert;return b.createElement(b.Fragment,null,y?b.createElement(o,{styles:Bte(i)}):null,m?b.createElement(kte,{gapMode:t.gapMode}):null)}function Wte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Hte=xte(x5,zte);var cC=b.forwardRef(function(t,e){return b.createElement(Yx,rs({},t,{ref:e,sideCar:Hte}))});cC.classNames=Yx.classNames;var qte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vc=new WeakMap,ng=new WeakMap,rg={},tw=0,E5=function(t){return t&&(t.host||E5(t.parentNode))},Gte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=E5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Kte=function(t,e,n,r){var i=Gte(e,Array.isArray(t)?t:[t]);rg[n]||(rg[n]=new WeakMap);var o=rg[n],s=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",g=(Vc.get(h)||0)+1,v=(o.get(h)||0)+1;Vc.set(h,g),o.set(h,v),s.push(h),g===1&&y&&ng.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),tw++,function(){s.forEach(function(f){var h=Vc.get(f)-1,m=o.get(f)-1;Vc.set(f,h),o.set(f,m),h||(ng.has(f)||f.removeAttribute(r),ng.delete(f)),m||f.removeAttribute(n)}),tw--,tw||(Vc=new WeakMap,Vc=new WeakMap,ng=new WeakMap,rg={})}},T5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=qte(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Kte(r,i,n,"aria-hidden")):function(){return null}},uC="Dialog",[C5,Xje]=Ri(uC),[Yte,Lo]=C5(uC),A5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=b.useRef(null),l=b.useRef(null),[u=!1,d]=Mo({prop:r,defaultProp:i,onChange:o});return c.jsx(Yte,{scope:e,triggerRef:a,contentRef:l,contentId:as(),titleId:as(),descriptionId:as(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};A5.displayName=uC;var P5="DialogTrigger",N5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Lo(P5,n),o=mt(e,i.triggerRef);return c.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hC(i.open),...r,ref:o,onClick:$e(t.onClick,i.onOpenToggle)})});N5.displayName=P5;var dC="DialogPortal",[Xte,j5]=C5(dC,{forceMount:void 0}),I5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Lo(dC,e);return c.jsx(Xte,{scope:e,forceMount:n,children:b.Children.map(r,s=>c.jsx(to,{present:n||o.open,children:c.jsx(wx,{asChild:!0,container:i,children:s})}))})};I5.displayName=dC;var Ky="DialogOverlay",k5=b.forwardRef((t,e)=>{const n=j5(Ky,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Lo(Ky,t.__scopeDialog);return o.modal?c.jsx(to,{present:r||o.open,children:c.jsx(Jte,{...i,ref:e})}):null});k5.displayName=Ky;var Qte=Ku("DialogOverlay.RemoveScroll"),Jte=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Lo(Ky,n);return c.jsx(cC,{as:Qte,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Ye.div,{"data-state":hC(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mc="DialogContent",O5=b.forwardRef((t,e)=>{const n=j5(mc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Lo(mc,t.__scopeDialog);return c.jsx(to,{present:r||o.open,children:o.modal?c.jsx(Zte,{...i,ref:e}):c.jsx(ene,{...i,ref:e})})});O5.displayName=mc;var Zte=b.forwardRef((t,e)=>{const n=Lo(mc,t.__scopeDialog),r=b.useRef(null),i=mt(e,n.contentRef,r);return b.useEffect(()=>{const o=r.current;if(o)return T5(o)},[]),c.jsx(R5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:$e(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:$e(t.onFocusOutside,o=>o.preventDefault())})}),ene=b.forwardRef((t,e)=>{const n=Lo(mc,t.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return c.jsx(R5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),R5=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Lo(mc,n),l=b.useRef(null),u=mt(e,l);return g5(),c.jsxs(c.Fragment,{children:[c.jsx(lC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:c.jsx(zp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hC(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(tne,{titleId:a.titleId}),c.jsx(rne,{contentRef:l,descriptionId:a.descriptionId})]})]})}),fC="DialogTitle",M5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Lo(fC,n);return c.jsx(Ye.h2,{id:i.titleId,...r,ref:e})});M5.displayName=fC;var D5="DialogDescription",$5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Lo(D5,n);return c.jsx(Ye.p,{id:i.descriptionId,...r,ref:e})});$5.displayName=D5;var L5="DialogClose",F5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Lo(L5,n);return c.jsx(Ye.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,()=>i.onOpenChange(!1))})});F5.displayName=L5;function hC(t){return t?"open":"closed"}var V5="DialogTitleWarning",[Qje,B5]=cW(V5,{contentName:mc,titleName:fC,docsSlug:"dialog"}),tne=({titleId:t})=>{const e=B5(V5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},nne="DialogDescriptionWarning",rne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B5(nne).contentName}}.`;return b.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ine=A5,one=N5,sne=I5,U5=k5,z5=O5,W5=M5,H5=$5,ane=F5;const Xr=ine,lne=one,cne=sne,q5=b.forwardRef(({className:t,...e},n)=>c.jsx(U5,{ref:n,className:ct("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));q5.displayName=U5.displayName;const zr=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(cne,{children:[c.jsx(q5,{}),c.jsxs(z5,{ref:r,className:ct("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(ane,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Hp,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zr.displayName=z5.displayName;const br=({className:t,...e})=>c.jsx("div",{className:ct("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});br.displayName="DialogHeader";const wr=b.forwardRef(({className:t,...e},n)=>c.jsx(W5,{ref:n,className:ct("text-lg font-semibold leading-none tracking-tight",t),...e}));wr.displayName=W5.displayName;const Ao=b.forwardRef(({className:t,...e},n)=>c.jsx(H5,{ref:n,className:ct("text-sm text-muted-foreground",t),...e}));Ao.displayName=H5.displayName;const une=Ex("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ue=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?dW:"button";return c.jsx(s,{className:ct(une({variant:e,size:n,className:t})),ref:o,...i})});ue.displayName="Button";function pC(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mC="Switch",[dne,Jje]=Ri(mC),[fne,hne]=dne(mC),G5=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,m]=b.useState(null),y=mt(e,S=>m(S)),g=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,w]=Mo({prop:i,defaultProp:o,onChange:u});return c.jsxs(fne,{scope:n,checked:x,disabled:a,children:[c.jsx(Ye.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":X5(x),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:y,onClick:$e(t.onClick,S=>{w(C=>!C),v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),v&&c.jsx(pne,{control:h,bubbles:!g.current,name:r,value:l,checked:x,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});G5.displayName=mC;var K5="SwitchThumb",Y5=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=hne(K5,n);return c.jsx(Ye.span,{"data-state":X5(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Y5.displayName=K5;var pne=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=b.useRef(null),s=pC(n),a=fT(e);return b.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function X5(t){return t?"checked":"unchecked"}var Q5=G5,mne=Y5;const Ai=b.forwardRef(({className:t,...e},n)=>c.jsx(Q5,{className:ct("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(mne,{className:ct("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ai.displayName=Q5.displayName;const nw="cuemaster_analytics_consent",rw="cuemaster_analytics_events",ig="cuemaster_analytics_sessions",og="cuemaster_analytics_stats",iw="cuemaster_first_launch_complete",sg=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36);class gne{constructor(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},this.currentSession=null,this.events=[],this.initialized=!1,this.loadConsent(),this.loadEvents()}loadConsent(){try{const e=localStorage.getItem(nw);e&&(this.consent=JSON.parse(e))}catch(e){console.error("Failed to load analytics consent:",e)}}loadEvents(){try{const e=localStorage.getItem(rw);e&&(this.events=JSON.parse(e))}catch(e){console.error("Failed to load analytics events:",e),this.events=[]}}saveEvents(){try{this.events.length>1e3&&(this.events=this.events.slice(-1e3)),localStorage.setItem(rw,JSON.stringify(this.events))}catch(e){console.error("Failed to save analytics events:",e)}}saveSession(e){try{const n=localStorage.getItem(ig);let r=n?JSON.parse(n):[];r.push(e);const i=100;r.length>i&&(r=r.slice(-i)),localStorage.setItem(ig,JSON.stringify(r))}catch(n){console.error("Failed to save session:",n)}}isFirstLaunch(){return!localStorage.getItem(iw)}markFirstLaunchComplete(){localStorage.setItem(iw,"true")}getConsent(){return{...this.consent}}hasAnyConsent(){return this.consent.usageStats||this.consent.skillMetrics||this.consent.benchmarking}setConsent(e){this.consent=e;try{localStorage.setItem(nw,JSON.stringify(e))}catch(n){console.error("Failed to save consent:",n)}}startSession(e){this.consent.usageStats&&(this.currentSession&&this.endSession(),this.currentSession={id:sg(),startTime:Date.now(),module:e,events:[]},this.track("session_start",e,"start"))}endSession(){this.currentSession&&(this.currentSession.endTime=Date.now(),this.track("session_end",this.currentSession.module,"end",{duration:this.currentSession.endTime-this.currentSession.startTime}),this.saveSession(this.currentSession),this.updateAggregatedStats(this.currentSession),this.currentSession=null,this.consent.benchmarking&&this.submitToBenchmarking().catch(()=>{}))}track(e,n,r,i){var s;if(!this.consent.usageStats&&e!=="consent_updated")return;const o={id:sg(),type:e,module:n,action:r,data:i,timestamp:Date.now(),sessionId:((s=this.currentSession)==null?void 0:s.id)||"no-session"};this.events.push(o),this.currentSession&&this.currentSession.events.push(o),this.saveEvents()}trackSkillMetric(e,n,r,i){this.consent.skillMetrics&&(this.track("skill_metric",e,n,{value:r,...i}),this.updateSkillStats(e,n,r))}trackFeatureUsage(e,n,r){this.consent.usageStats&&this.track("feature_usage",e,n,r)}updateAggregatedStats(e){try{const n=this.getAggregatedStats();n.totalSessions++,n.totalTimeMs+=(e.endTime||Date.now())-e.startTime,n.lastActive=Date.now(),n.moduleUsage[e.module]||(n.moduleUsage[e.module]={sessions:0,timeMs:0}),n.moduleUsage[e.module].sessions++,n.moduleUsage[e.module].timeMs+=(e.endTime||Date.now())-e.startTime,localStorage.setItem(og,JSON.stringify(n))}catch(n){console.error("Failed to update aggregated stats:",n)}}updateSkillStats(e,n,r){try{const i=this.getAggregatedStats();switch(e){case"tempo":if(n==="shot_time"){const o=i.skillMetrics.tempo.avgShotTime*i.skillMetrics.tempo.totalShots;i.skillMetrics.tempo.totalShots++,i.skillMetrics.tempo.avgShotTime=(o+r)/i.skillMetrics.tempo.totalShots}else n==="session_complete"&&i.skillMetrics.tempo.sessionsPlayed++;break;case"velocity":if(n==="break_speed"){const o=i.skillMetrics.velocity.avgBreakSpeed*i.skillMetrics.velocity.breaksRecorded;i.skillMetrics.velocity.breaksRecorded++,i.skillMetrics.velocity.avgBreakSpeed=(o+r)/i.skillMetrics.velocity.breaksRecorded,i.skillMetrics.velocity.maxBreakSpeed=Math.max(i.skillMetrics.velocity.maxBreakSpeed,r)}break;case"vectors":if(n==="shot_simulated")i.skillMetrics.vectors.shotsSimulated++;else if(n==="shot_power"){const o=i.skillMetrics.vectors.avgPower*(i.skillMetrics.vectors.shotsSimulated-1);i.skillMetrics.vectors.avgPower=(o+r)/i.skillMetrics.vectors.shotsSimulated}else n==="session_complete"&&i.skillMetrics.vectors.sessionsPlayed++;break;case"truelevel":n==="calibration"?i.skillMetrics.truelevel.calibrationsPerformed++:n==="table_check"&&i.skillMetrics.truelevel.tablesChecked++;break}localStorage.setItem(og,JSON.stringify(i))}catch(i){console.error("Failed to update skill stats:",i)}}getAggregatedStats(){try{const e=localStorage.getItem(og);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load aggregated stats:",e)}return{totalSessions:0,totalTimeMs:0,moduleUsage:{},lastActive:0,skillMetrics:{tempo:{avgShotTime:0,totalShots:0,sessionsPlayed:0},velocity:{avgBreakSpeed:0,maxBreakSpeed:0,breaksRecorded:0},vectors:{shotsSimulated:0,avgPower:0,sessionsPlayed:0},truelevel:{calibrationsPerformed:0,tablesChecked:0}}}}getSessions(){try{const e=localStorage.getItem(ig);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load sessions:",e),[]}}getEvents(){return[...this.events]}exportData(){const e={consent:this.consent,stats:this.getAggregatedStats(),sessions:this.getSessions(),events:this.events,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}deleteAllData(){this.events=[],this.currentSession=null,localStorage.removeItem(rw),localStorage.removeItem(ig),localStorage.removeItem(og)}resetConsent(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},localStorage.removeItem(nw),localStorage.removeItem(iw)}getAnonymousId(){const e="cuemaster_anonymous_id";let n=localStorage.getItem(e);return n||(n=sg()+sg(),localStorage.setItem(e,n)),n}async submitToBenchmarking(){if(!this.consent.benchmarking)return!1;try{const e=this.getAggregatedStats(),n={anonymousId:this.getAnonymousId(),timestamp:new Date().toISOString(),moduleUsage:e.moduleUsage,skillMetrics:e.skillMetrics},r="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";if(r){const i=encodeURIComponent(JSON.stringify(n)),o=`${r}?action=submit&data=${i}`,s=await fetch(o,{method:"GET"});return s.ok?(await s.json()).result==="success":!1}}catch(e){return console.error("Failed to submit benchmarking data:",e),!1}}async getExternalSummary(){const e="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";try{const n=await fetch(`${e}?action=summary`);if(n.ok)return await n.json()}catch(n){console.error("Failed to fetch external summary:",n)}return null}}const Tt=new gne;function yne({open:t,onComplete:e}){const[n,r]=b.useState(0),[i,o]=b.useState({usageStats:!1,skillMetrics:!1,benchmarking:!1}),s=()=>{Tt.setConsent(i),Tt.markFirstLaunchComplete(),Tt.track("consent_updated","home","initial_consent",{consent:i}),e()},a=()=>{const u={usageStats:!0,skillMetrics:!0,benchmarking:!0};o(u),Tt.setConsent(u),Tt.markFirstLaunchComplete(),Tt.track("consent_updated","home","accept_all",{consent:u}),e()},l=()=>{const u={usageStats:!1,skillMetrics:!1,benchmarking:!1};Tt.setConsent(u),Tt.markFirstLaunchComplete(),e()};return c.jsx(Xr,{open:t,onOpenChange:()=>{},children:c.jsxs(zr,{className:"max-w-md",onPointerDownOutside:u=>u.preventDefault(),children:[n===0&&c.jsxs(c.Fragment,{children:[c.jsxs(br,{children:[c.jsxs(wr,{className:"text-xl flex items-center gap-2",children:[c.jsx(Rh,{className:"w-5 h-5 text-primary"}),"Welcome to CueMaster Suite"]}),c.jsx(Ao,{className:"text-left pt-2",children:"Help us improve your experience by sharing anonymous usage data. Your privacy is our priority."})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[c.jsx("h3",{className:"font-semibold text-sm",children:"What we collect (with your permission):"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(lc,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),c.jsx("span",{children:"Which tools you use and for how long"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Mh,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),c.jsx("span",{children:"Your skill metrics to show personal progress"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Fl,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),c.jsx("span",{children:"Anonymous benchmarks to compare with others"})]})]})]}),c.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-sm text-primary mb-2",children:"Your data stays local"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"All data is stored on your device. You can export or delete it anytime from Settings. No account required."})]})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(ue,{onClick:a,className:"w-full","data-testid":"button-accept-all",children:"Accept All"}),c.jsxs(ue,{variant:"outline",onClick:()=>r(1),className:"w-full","data-testid":"button-customize",children:["Customize",c.jsx(Z$,{className:"w-4 h-4 ml-1"})]}),c.jsx(ue,{variant:"ghost",onClick:l,className:"w-full text-muted-foreground","data-testid":"button-decline-all",children:"Continue without sharing"})]})]}),n===1&&c.jsxs(c.Fragment,{children:[c.jsxs(br,{children:[c.jsx(wr,{className:"text-xl",children:"Customize Your Preferences"}),c.jsx(Ao,{className:"text-left pt-2",children:"Choose exactly what you want to share. You can change these anytime in Settings."})]}),c.jsx("div",{className:"space-y-4 py-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lc,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use, session duration, and feature adoption. Helps us understand what's valuable."})]}),c.jsx(Ai,{checked:i.usageStats,onCheckedChange:u=>o(d=>({...d,usageStats:u})),"data-testid":"switch-usage-stats"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mh,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Record shot times, break speeds, and other performance data. See your personal progress over time."})]}),c.jsx(Ai,{checked:i.skillMetrics,onCheckedChange:u=>o(d=>({...d,skillMetrics:u})),"data-testid":"switch-skill-metrics"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fl,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-sm",children:"Anonymous Benchmarking"})]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compare your stats with other players anonymously. See where you rank and track improvement.",!i.usageStats&&c.jsx("span",{className:"text-primary",children:" (Requires Usage Statistics)"})]})]}),c.jsx(Ai,{checked:i.benchmarking,onCheckedChange:u=>o(d=>({...d,benchmarking:u,usageStats:u?!0:d.usageStats})),"data-testid":"switch-benchmarking"})]})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ue,{variant:"outline",onClick:()=>r(0),className:"flex-1","data-testid":"button-back",children:"Back"}),c.jsx(ue,{onClick:s,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"})]})]})]})})}const J5=b.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:ct("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));J5.displayName="Textarea";function Yh(t,[e,n]){return Math.min(n,Math.max(e,t))}var vne=b.createContext(void 0);function zd(t){const e=b.useContext(vne);return t||e||"ltr"}var xne=[" ","Enter","ArrowUp","ArrowDown"],bne=[" ","Enter"],rm="Select",[Xx,Qx,wne]=Up(rm),[Wd,Zje]=Ri(rm,[wne,Nx]),Jx=Nx(),[Sne,vl]=Wd(rm),[_ne,Ene]=Wd(rm),Z5=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,g=Jx(e),[v,x]=b.useState(null),[w,S]=b.useState(null),[C,E]=b.useState(!1),P=zd(u),[_=!1,T]=Mo({prop:r,defaultProp:i,onChange:o}),[N,k]=Mo({prop:s,defaultProp:a,onChange:l}),j=b.useRef(null),R=v?y||!!v.closest("form"):!0,[O,$]=b.useState(new Set),F=Array.from(O).map(U=>U.props.value).join(";");return c.jsx(hG,{...g,children:c.jsxs(Sne,{required:m,scope:e,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:as(),value:N,onValueChange:k,open:_,onOpenChange:T,dir:P,triggerPointerDownPosRef:j,disabled:h,children:[c.jsx(Xx.Provider,{scope:e,children:c.jsx(_ne,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(U=>{$(W=>new Set(W).add(U))},[]),onNativeOptionRemove:b.useCallback(U=>{$(W=>{const V=new Set(W);return V.delete(U),V})},[]),children:n})}),R?c.jsxs(EF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:U=>k(U.target.value),disabled:h,form:y,children:[N===void 0?c.jsx("option",{value:""}):null,Array.from(O)]},F):null]})})};Z5.displayName=rm;var eF="SelectTrigger",tF=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Jx(n),s=vl(eF,n),a=s.disabled||r,l=mt(e,s.onTriggerChange),u=Qx(n),d=b.useRef("touch"),[f,h,m]=TF(g=>{const v=u().filter(S=>!S.disabled),x=v.find(S=>S.value===s.value),w=CF(v,g,x);w!==void 0&&s.onValueChange(w.value)}),y=g=>{a||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(RL,{asChild:!0,...o,children:c.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":_F(s.value)?"":void 0,...i,ref:l,onClick:$e(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:$e(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:$e(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&xne.includes(g.key)&&(y(),g.preventDefault())})})})});tF.displayName=eF;var nF="SelectValue",rF=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=vl(nF,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,f=mt(e,l.onValueNodeChange);return fr(()=>{u(d)},[u,d]),c.jsx(Ye.span,{...a,ref:f,style:{pointerEvents:"none"},children:_F(l.value)?c.jsx(c.Fragment,{children:s}):o})});rF.displayName=nF;var Tne="SelectIcon",iF=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return c.jsx(Ye.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});iF.displayName=Tne;var Cne="SelectPortal",oF=t=>c.jsx(wx,{asChild:!0,...t});oF.displayName=Cne;var gc="SelectContent",sF=b.forwardRef((t,e)=>{const n=vl(gc,t.__scopeSelect),[r,i]=b.useState();if(fr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Ec.createPortal(c.jsx(aF,{scope:t.__scopeSelect,children:c.jsx(Xx.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),o):null}return c.jsx(lF,{...t,ref:e})});sF.displayName=gc;var po=10,[aF,xl]=Wd(gc),Ane="SelectContentImpl",Pne=Ku("SelectContent.RemoveScroll"),lF=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v,...x}=t,w=vl(gc,n),[S,C]=b.useState(null),[E,P]=b.useState(null),_=mt(e,we=>C(we)),[T,N]=b.useState(null),[k,j]=b.useState(null),R=Qx(n),[O,$]=b.useState(!1),F=b.useRef(!1);b.useEffect(()=>{if(S)return T5(S)},[S]),g5();const U=b.useCallback(we=>{const[Ne,...oe]=R().map(z=>z.ref.current),[me]=oe.slice(-1),ae=document.activeElement;for(const z of we)if(z===ae||(z==null||z.scrollIntoView({block:"nearest"}),z===Ne&&E&&(E.scrollTop=0),z===me&&E&&(E.scrollTop=E.scrollHeight),z==null||z.focus(),document.activeElement!==ae))return},[R,E]),W=b.useCallback(()=>U([T,S]),[U,T,S]);b.useEffect(()=>{O&&W()},[O,W]);const{onOpenChange:V,triggerPointerDownPosRef:B}=w;b.useEffect(()=>{if(S){let we={x:0,y:0};const Ne=me=>{var ae,z;we={x:Math.abs(Math.round(me.pageX)-(((ae=B.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(me.pageY)-(((z=B.current)==null?void 0:z.y)??0))}},oe=me=>{we.x<=10&&we.y<=10?me.preventDefault():S.contains(me.target)||V(!1),document.removeEventListener("pointermove",Ne),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",oe,{capture:!0})}}},[S,V,B]),b.useEffect(()=>{const we=()=>V(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[V]);const[Z,Q]=TF(we=>{const Ne=R().filter(ae=>!ae.disabled),oe=Ne.find(ae=>ae.ref.current===document.activeElement),me=CF(Ne,we,oe);me&&setTimeout(()=>me.ref.current.focus())}),ne=b.useCallback((we,Ne,oe)=>{const me=!F.current&&!oe;(w.value!==void 0&&w.value===Ne||me)&&(N(we),me&&(F.current=!0))},[w.value]),Ee=b.useCallback(()=>S==null?void 0:S.focus(),[S]),Pe=b.useCallback((we,Ne,oe)=>{const me=!F.current&&!oe;(w.value!==void 0&&w.value===Ne||me)&&j(we)},[w.value]),Me=r==="popper"?fS:cF,ot=Me===fS?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return c.jsx(aF,{scope:n,content:S,viewport:E,onViewportChange:P,itemRefCallback:ne,selectedItem:T,onItemLeave:Ee,itemTextRefCallback:Pe,focusSelectedItem:W,selectedItemText:k,position:r,isPositioned:O,searchRef:Z,children:c.jsx(cC,{as:Pne,allowPinchZoom:!0,children:c.jsx(lC,{asChild:!0,trapped:w.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:$e(i,we=>{var Ne;(Ne=w.trigger)==null||Ne.focus({preventScroll:!0}),we.preventDefault()}),children:c.jsx(zp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:c.jsx(Me,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:we=>we.preventDefault(),...x,...ot,onPlaced:()=>$(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:$e(x.onKeyDown,we=>{const Ne=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!Ne&&we.key.length===1&&Q(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let me=R().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(we.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const ae=we.target,z=me.indexOf(ae);me=me.slice(z+1)}setTimeout(()=>U(me)),we.preventDefault()}})})})})})})});lF.displayName=Ane;var Nne="SelectItemAlignedPosition",cF=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=vl(gc,n),s=xl(gc,n),[a,l]=b.useState(null),[u,d]=b.useState(null),f=mt(e,_=>d(_)),h=Qx(n),m=b.useRef(!1),y=b.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=s,S=b.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&v&&x){const _=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(o.dir!=="rtl"){const ae=k.left-T.left,z=N.left-ae,Se=_.left-z,Te=_.width+Se,Xe=Math.max(Te,T.width),Qe=window.innerWidth-po,tt=Yh(z,[po,Math.max(po,Qe-Xe)]);a.style.minWidth=Te+"px",a.style.left=tt+"px"}else{const ae=T.right-k.right,z=window.innerWidth-N.right-ae,Se=window.innerWidth-_.right-z,Te=_.width+Se,Xe=Math.max(Te,T.width),Qe=window.innerWidth-po,tt=Yh(z,[po,Math.max(po,Qe-Xe)]);a.style.minWidth=Te+"px",a.style.right=tt+"px"}const j=h(),R=window.innerHeight-po*2,O=g.scrollHeight,$=window.getComputedStyle(u),F=parseInt($.borderTopWidth,10),U=parseInt($.paddingTop,10),W=parseInt($.borderBottomWidth,10),V=parseInt($.paddingBottom,10),B=F+U+O+V+W,Z=Math.min(v.offsetHeight*5,B),Q=window.getComputedStyle(g),ne=parseInt(Q.paddingTop,10),Ee=parseInt(Q.paddingBottom,10),Pe=_.top+_.height/2-po,Me=R-Pe,ot=v.offsetHeight/2,we=v.offsetTop+ot,Ne=F+U+we,oe=B-Ne;if(Ne<=Pe){const ae=j.length>0&&v===j[j.length-1].ref.current;a.style.bottom="0px";const z=u.clientHeight-g.offsetTop-g.offsetHeight,Se=Math.max(Me,ot+(ae?Ee:0)+z+W),Te=Ne+Se;a.style.height=Te+"px"}else{const ae=j.length>0&&v===j[0].ref.current;a.style.top="0px";const Se=Math.max(Pe,F+g.offsetTop+(ae?ne:0)+ot)+oe;a.style.height=Se+"px",g.scrollTop=Ne-Pe+g.offsetTop}a.style.margin=`${po}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,u,g,v,x,o.dir,r]);fr(()=>S(),[S]);const[C,E]=b.useState();fr(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const P=b.useCallback(_=>{_&&y.current===!0&&(S(),w==null||w(),y.current=!1)},[S,w]);return c.jsx(Ine,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c.jsx(Ye.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});cF.displayName=Nne;var jne="SelectPopperPosition",fS=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=po,...o}=t,s=Jx(n);return c.jsx(ML,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fS.displayName=jne;var[Ine,gC]=Wd(gc,{}),hS="SelectViewport",uF=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=xl(hS,n),s=gC(hS,n),a=mt(e,o.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Xx.Slot,{scope:n,children:c.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:$e(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const y=window.innerHeight-po*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<y){const w=x+m,S=Math.min(y,w),C=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});uF.displayName=hS;var dF="SelectGroup",[kne,One]=Wd(dF),Rne=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=as();return c.jsx(kne,{scope:n,id:i,children:c.jsx(Ye.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Rne.displayName=dF;var fF="SelectLabel",hF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=One(fF,n);return c.jsx(Ye.div,{id:i.id,...r,ref:e})});hF.displayName=fF;var Yy="SelectItem",[Mne,pF]=Wd(Yy),mF=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=vl(Yy,n),l=xl(Yy,n),u=a.value===r,[d,f]=b.useState(o??""),[h,m]=b.useState(!1),y=mt(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,i)}),g=as(),v=b.useRef("touch"),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Mne,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:b.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:c.jsx(Xx.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:c.jsx(Ye.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:y,onFocus:$e(s.onFocus,()=>m(!0)),onBlur:$e(s.onBlur,()=>m(!1)),onClick:$e(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:$e(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:$e(s.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:$e(s.onPointerMove,w=>{var S;v.current=w.pointerType,i?(S=l.onItemLeave)==null||S.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(s.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:$e(s.onKeyDown,w=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&w.key===" "||(bne.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});mF.displayName=Yy;var Ff="SelectItemText",gF=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=vl(Ff,n),a=xl(Ff,n),l=pF(Ff,n),u=Ene(Ff,n),[d,f]=b.useState(null),h=mt(e,x=>f(x),l.onItemTextChange,x=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,y=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return fr(()=>(g(y),()=>v(y)),[g,v,y]),c.jsxs(c.Fragment,{children:[c.jsx(Ye.span,{id:l.textId,...o,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ec.createPortal(o.children,s.valueNode):null]})});gF.displayName=Ff;var yF="SelectItemIndicator",vF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return pF(yF,n).isSelected?c.jsx(Ye.span,{"aria-hidden":!0,...r,ref:e}):null});vF.displayName=yF;var pS="SelectScrollUpButton",xF=b.forwardRef((t,e)=>{const n=xl(pS,t.__scopeSelect),r=gC(pS,t.__scopeSelect),[i,o]=b.useState(!1),s=mt(e,r.onScrollButtonChange);return fr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?c.jsx(wF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});xF.displayName=pS;var mS="SelectScrollDownButton",bF=b.forwardRef((t,e)=>{const n=xl(mS,t.__scopeSelect),r=gC(mS,t.__scopeSelect),[i,o]=b.useState(!1),s=mt(e,r.onScrollButtonChange);return fr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?c.jsx(wF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});bF.displayName=mS;var wF=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=xl("SelectScrollButton",n),s=b.useRef(null),a=Qx(n),l=b.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),fr(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(Ye.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:$e(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:$e(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:$e(i.onPointerLeave,()=>{l()})})}),Dne="SelectSeparator",SF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(Ye.div,{"aria-hidden":!0,...r,ref:e})});SF.displayName=Dne;var gS="SelectArrow",$ne=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Jx(n),o=vl(gS,n),s=xl(gS,n);return o.open&&s.position==="popper"?c.jsx(DL,{...i,...r,ref:e}):null});$ne.displayName=gS;function _F(t){return t===""||t===void 0}var EF=b.forwardRef((t,e)=>{const{value:n,...r}=t,i=b.useRef(null),o=mt(e,i),s=pC(n);return b.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[s,n]),c.jsx(Wp,{asChild:!0,children:c.jsx("select",{...r,ref:o,defaultValue:n})})});EF.displayName="BubbleSelect";function TF(t){const e=Dn(t),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(s=>{const a=n.current+s;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function CF(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Lne(t,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Lne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Fne=Z5,AF=tF,Vne=rF,Bne=iF,Une=oF,PF=sF,zne=uF,NF=hF,jF=mF,Wne=gF,Hne=vF,IF=xF,kF=bF,OF=SF;const RF=Fne,MF=Vne,yC=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(AF,{ref:r,className:ct("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(Bne,{asChild:!0,children:c.jsx(kh,{className:"h-4 w-4 opacity-50"})})]}));yC.displayName=AF.displayName;const DF=b.forwardRef(({className:t,...e},n)=>c.jsx(IF,{ref:n,className:ct("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(rH,{className:"h-4 w-4"})}));DF.displayName=IF.displayName;const $F=b.forwardRef(({className:t,...e},n)=>c.jsx(kF,{ref:n,className:ct("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(kh,{className:"h-4 w-4"})}));$F.displayName=kF.displayName;const vC=b.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>c.jsx(Une,{children:c.jsxs(PF,{ref:i,className:ct("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(DF,{}),c.jsx(zne,{className:ct("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx($F,{})]})}));vC.displayName=PF.displayName;const qne=b.forwardRef(({className:t,...e},n)=>c.jsx(NF,{ref:n,className:ct("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qne.displayName=NF.displayName;const or=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(jF,{ref:r,className:ct("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Hne,{children:c.jsx(J$,{className:"h-4 w-4"})})}),c.jsx(Wne,{children:e})]}));or.displayName=jF.displayName;const Gne=b.forwardRef(({className:t,...e},n)=>c.jsx(OF,{ref:n,className:ct("-mx-1 my-1 h-px bg-muted",t),...e}));Gne.displayName=OF.displayName;const Kne=[{value:"tempo",label:"Tempo (Shot Clock)"},{value:"velocity",label:"Velocity (Break Speed)"},{value:"truelevel",label:"TrueLevel (Table Gauge)"},{value:"vectors",label:"Vectors (Cueing Emulator)"},{value:"general",label:"General / App Overall"}];function Yne(){const{promoCode:t,user:e}=Ud(),{toast:n}=Id(),[r,i]=b.useState(!1),[o,s]=b.useState(""),[a,l]=b.useState(0),[u,d]=b.useState(""),[f,h]=b.useState(!1);if(!((t==null?void 0:t.toUpperCase())==="EARLYBIRD"))return null;const y=async()=>{if(!o||a===0){n({title:"Missing info",description:"Please select a tool and rating",variant:"destructive"});return}h(!0);try{const g={tool:o,rating:a,comment:u,userId:(e==null?void 0:e.uid)||"anonymous",userEmail:(e==null?void 0:e.email)||"anonymous",promoCode:t,timestamp:new Date().toISOString()},v="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";v&&await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"feedback",...g})}),n({title:"Thank you!",description:"Your feedback helps us improve CueMaster Suite."}),i(!1),s(""),l(0),d("")}catch(g){console.error("Feedback error:",g),n({title:"Feedback sent",description:"Thank you for your input!"}),i(!1)}finally{h(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx(ue,{onClick:()=>i(!0),className:"fixed bottom-4 right-4 rounded-full w-14 h-14 shadow-lg z-50",size:"icon","data-testid":"button-feedback",children:c.jsx(RN,{className:"w-6 h-6"})}),c.jsx(Xr,{open:r,onOpenChange:i,children:c.jsxs(zr,{className:"max-w-sm",children:[c.jsxs(br,{children:[c.jsxs(wr,{className:"flex items-center gap-2",children:[c.jsx(RN,{className:"w-5 h-5 text-primary"}),"Early Adopter Feedback"]}),c.jsx(Ao,{children:"Thanks for being an early adopter! Your feedback shapes CueMaster."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Which tool?"}),c.jsxs(RF,{value:o,onValueChange:s,children:[c.jsx(yC,{"data-testid":"select-feedback-tool",children:c.jsx(MF,{placeholder:"Select a tool"})}),c.jsx(vC,{children:Kne.map(g=>c.jsx(or,{value:g.value,children:g.label},g.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rating"}),c.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(g=>c.jsx("button",{onClick:()=>l(g),className:"p-1 transition-colors","data-testid":`button-star-${g}`,children:c.jsx(SH,{className:`w-8 h-8 ${g<=a?"fill-amber-400 text-amber-400":"text-muted-foreground"}`})},g))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comments (optional)"}),c.jsx(J5,{placeholder:"What's working? What could be better?",value:u,onChange:g=>d(g.target.value),rows:3,"data-testid":"textarea-feedback-comment"})]}),c.jsxs(ue,{onClick:y,className:"w-full gap-2",disabled:f,"data-testid":"button-submit-feedback",children:[c.jsx(bH,{className:"w-4 h-4"}),f?"Sending...":"Send Feedback"]})]})]})})]})}const Xne=Ex("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function LF({className:t,variant:e,...n}){return c.jsx("div",{className:ct(Xne({variant:e}),t),...n})}var Qne="Label",FF=b.forwardRef((t,e)=>c.jsx(Ye.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));FF.displayName=Qne;var VF=FF;const Jne=Ex("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jt=b.forwardRef(({className:t,...e},n)=>c.jsx(VF,{ref:n,className:ct(Jne(),t),...e}));Jt.displayName=VF.displayName;var ow="rovingFocusGroup.onEntryFocus",Zne={bubbles:!1,cancelable:!0},Zx="RovingFocusGroup",[yS,BF,ere]=Up(Zx),[tre,UF]=Ri(Zx,[ere]),[nre,rre]=tre(Zx),zF=b.forwardRef((t,e)=>c.jsx(yS.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(yS.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(ire,{...t,ref:e})})}));zF.displayName=Zx;var ire=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=b.useRef(null),m=mt(e,h),y=zd(o),[g=null,v]=Mo({prop:s,defaultProp:a,onChange:l}),[x,w]=b.useState(!1),S=Dn(u),C=BF(n),E=b.useRef(!1),[P,_]=b.useState(0);return b.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(ow,S),()=>T.removeEventListener(ow,S)},[S]),c.jsx(nre,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:b.useCallback(T=>v(T),[v]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>_(T=>T-1),[]),children:c.jsx(Ye.div,{tabIndex:x||P===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:$e(t.onMouseDown,()=>{E.current=!0}),onFocus:$e(t.onFocus,T=>{const N=!E.current;if(T.target===T.currentTarget&&N&&!x){const k=new CustomEvent(ow,Zne);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const j=C().filter(U=>U.focusable),R=j.find(U=>U.active),O=j.find(U=>U.id===g),F=[R,O,...j].filter(Boolean).map(U=>U.ref.current);qF(F,d)}}E.current=!1}),onBlur:$e(t.onBlur,()=>w(!1))})})}),WF="RovingFocusGroupItem",HF=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=as(),l=o||a,u=rre(WF,n),d=u.currentTabStopId===l,f=BF(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return b.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),c.jsx(yS.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:c.jsx(Ye.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:$e(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:$e(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:$e(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=are(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const w=x.indexOf(y.currentTarget);x=u.loop?lre(x,w+1):x.slice(w+1)}setTimeout(()=>qF(x))}})})})});HF.displayName=WF;var ore={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sre(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function are(t,e,n){const r=sre(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ore[r]}function qF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function lre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var cre=zF,ure=HF,xC="Tabs",[dre,eIe]=Ri(xC,[UF]),GF=UF(),[fre,bC]=dre(xC),KF=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=zd(a),[f,h]=Mo({prop:r,onChange:i,defaultProp:o});return c.jsx(fre,{scope:n,baseId:as(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:c.jsx(Ye.div,{dir:d,"data-orientation":s,...u,ref:e})})});KF.displayName=xC;var YF="TabsList",XF=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=bC(YF,n),s=GF(n);return c.jsx(cre,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(Ye.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});XF.displayName=YF;var QF="TabsTrigger",JF=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=bC(QF,n),a=GF(n),l=tV(s.baseId,r),u=nV(s.baseId,r),d=r===s.value;return c.jsx(ure,{asChild:!0,...a,focusable:!i,active:d,children:c.jsx(Ye.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:$e(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:$e(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:$e(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});JF.displayName=QF;var ZF="TabsContent",eV=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=bC(ZF,n),l=tV(a.baseId,r),u=nV(a.baseId,r),d=r===a.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(to,{present:i||d,children:({present:h})=>c.jsx(Ye.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});eV.displayName=ZF;function tV(t,e){return`${t}-trigger-${e}`}function nV(t,e){return`${t}-content-${e}`}var hre=KF,rV=XF,iV=JF,oV=eV;const sV=hre,wC=b.forwardRef(({className:t,...e},n)=>c.jsx(rV,{ref:n,className:ct("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));wC.displayName=rV.displayName;const Fa=b.forwardRef(({className:t,...e},n)=>c.jsx(iV,{ref:n,className:ct("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Fa.displayName=iV.displayName;const Va=b.forwardRef(({className:t,...e},n)=>c.jsx(oV,{ref:n,className:ct("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Va.displayName=oV.displayName;function pre(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var SC="ScrollArea",[aV,tIe]=Ri(SC),[mre,no]=aV(SC),lV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[m,y]=b.useState(null),[g,v]=b.useState(null),[x,w]=b.useState(0),[S,C]=b.useState(0),[E,P]=b.useState(!1),[_,T]=b.useState(!1),N=mt(e,j=>l(j)),k=zd(i);return c.jsx(mre,{scope:n,type:r,dir:k,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:C,children:c.jsx(Ye.div,{dir:k,...s,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});lV.displayName=SC;var cV="ScrollAreaViewport",uV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=no(cV,n),a=b.useRef(null),l=mt(e,a,s.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});uV.displayName=cV;var Ss="ScrollAreaScrollbar",_C=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=no(Ss,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return b.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?c.jsx(gre,{...r,ref:e,forceMount:n}):i.type==="scroll"?c.jsx(yre,{...r,ref:e,forceMount:n}):i.type==="auto"?c.jsx(dV,{...r,ref:e,forceMount:n}):i.type==="always"?c.jsx(EC,{...r,ref:e}):null});_C.displayName=Ss;var gre=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=no(Ss,t.__scopeScrollArea),[o,s]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(to,{present:n||o,children:c.jsx(dV,{"data-state":o?"visible":"hidden",...r,ref:e})})}),yre=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=no(Ss,t.__scopeScrollArea),o=t.orientation==="horizontal",s=t0(()=>l("SCROLL_END"),100),[a,l]=pre("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),b.useEffect(()=>{const u=i.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(l("SCROLL"),s()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),c.jsx(to,{present:n||a!=="hidden",children:c.jsx(EC,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:$e(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:$e(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),dV=b.forwardRef((t,e)=>{const n=no(Ss,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=b.useState(!1),a=t.orientation==="horizontal",l=t0(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:d)}},10);return od(n.viewport,l),od(n.content,l),c.jsx(to,{present:r||o,children:c.jsx(EC,{"data-state":o?"visible":"hidden",...i,ref:e})})}),EC=b.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=no(Ss,t.__scopeScrollArea),o=b.useRef(null),s=b.useRef(0),[a,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=gV(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return _re(h,s.current,a,m)}return n==="horizontal"?c.jsx(vre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,m=NI(h,a,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?c.jsx(xre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,m=NI(h,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),vre=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=no(Ss,t.__scopeScrollArea),[s,a]=b.useState(),l=b.useRef(null),u=mt(e,l,o.onScrollbarXChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(hV,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":e0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),vV(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Qy(s.paddingLeft),paddingEnd:Qy(s.paddingRight)}})}})}),xre=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=no(Ss,t.__scopeScrollArea),[s,a]=b.useState(),l=b.useRef(null),u=mt(e,l,o.onScrollbarYChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(hV,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":e0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),vV(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Qy(s.paddingTop),paddingEnd:Qy(s.paddingBottom)}})}})}),[bre,fV]=aV(Ss),hV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,m=no(Ss,n),[y,g]=b.useState(null),v=mt(e,N=>g(N)),x=b.useRef(null),w=b.useRef(""),S=m.viewport,C=r.content-r.viewport,E=Dn(d),P=Dn(l),_=t0(f,10);function T(N){if(x.current){const k=N.clientX-x.current.left,j=N.clientY-x.current.top;u({x:k,y:j})}}return b.useEffect(()=>{const N=k=>{const j=k.target;(y==null?void 0:y.contains(j))&&E(k,C)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[S,y,C,E]),b.useEffect(P,[r,P]),od(y,_),od(m.content,_),c.jsx(bre,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:Dn(o),onThumbPointerUp:Dn(s),onThumbPositionChange:P,onThumbPointerDown:Dn(a),children:c.jsx(Ye.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:$e(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(N))}),onPointerMove:$e(t.onPointerMove,T),onPointerUp:$e(t.onPointerUp,N=>{const k=N.target;k.hasPointerCapture(N.pointerId)&&k.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Xy="ScrollAreaThumb",pV=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=fV(Xy,t.__scopeScrollArea);return c.jsx(to,{present:n||i.hasThumb,children:c.jsx(wre,{ref:e,...r})})}),wre=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=no(Xy,n),s=fV(Xy,n),{onThumbPositionChange:a}=s,l=mt(e,f=>s.onThumbChange(f)),u=b.useRef(void 0),d=t0(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const m=Ere(f,a);u.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,a]),c.jsx(Ye.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:$e(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;s.onThumbPointerDown({x:y,y:g})}),onPointerUp:$e(t.onPointerUp,s.onThumbPointerUp)})});pV.displayName=Xy;var TC="ScrollAreaCorner",mV=b.forwardRef((t,e)=>{const n=no(TC,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(Sre,{...t,ref:e}):null});mV.displayName=TC;var Sre=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=no(TC,n),[o,s]=b.useState(0),[a,l]=b.useState(0),u=!!(o&&a);return od(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),od(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),u?c.jsx(Ye.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Qy(t){return t?parseInt(t,10):0}function gV(t,e){const n=t/e;return isNaN(n)?0:n}function e0(t){const e=gV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function _re(t,e,n,r="ltr"){const i=e0(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return yV([l,u],f)(t)}function NI(t,e,n="ltr"){const r=e0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=Yh(t,l);return yV([0,s],[0,a])(u)}function yV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function vV(t,e){return t>0&&t<e}var Ere=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function t0(t,e){const n=Dn(t),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function od(t,e){const n=Dn(e);fr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var xV=lV,Tre=uV,Cre=mV;const CC=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(xV,{ref:r,className:ct("relative overflow-hidden",t),...n,children:[c.jsx(Tre,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(bV,{}),c.jsx(Cre,{})]}));CC.displayName=xV.displayName;const bV=b.forwardRef(({className:t,orientation:e="vertical",...n},r)=>c.jsx(_C,{ref:r,orientation:e,className:ct("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:c.jsx(pV,{className:"relative flex-1 rounded-full bg-border"})}));bV.displayName=_C.displayName;const sw="shotclock_sessions";function Are({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("circle",{cx:"24",cy:"24",r:"20",strokeDasharray:"4 2"}),c.jsx("circle",{cx:"24",cy:"24",r:"16"}),c.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"10",strokeWidth:"3",strokeLinecap:"round"}),c.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"}),c.jsx("line",{x1:"24",y1:"24",x2:"32",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]})}function Pre({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("rect",{x:"2",y:"18",width:"44",height:"12",rx:"2"}),c.jsx("rect",{x:"16",y:"20",width:"16",height:"8",rx:"4",strokeWidth:"1.5"}),c.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"currentColor"}),c.jsx("line",{x1:"24",y1:"20",x2:"24",y2:"21",strokeWidth:"1"}),c.jsx("line",{x1:"24",y1:"27",x2:"24",y2:"28",strokeWidth:"1"}),c.jsx("line",{x1:"6",y1:"24",x2:"8",y2:"24",strokeWidth:"1.5"}),c.jsx("line",{x1:"40",y1:"24",x2:"42",y2:"24",strokeWidth:"1.5"})]})}function Nre({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("path",{d:"M6 38 A22 22 0 0 1 42 38",strokeLinecap:"round"}),c.jsx("line",{x1:"24",y1:"36",x2:"34",y2:"18",strokeWidth:"3",strokeLinecap:"round"}),c.jsx("circle",{cx:"24",cy:"36",r:"3",fill:"currentColor"}),c.jsx("line",{x1:"10",y1:"28",x2:"10",y2:"24",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"16",y1:"18",x2:"18",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"10",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"32",y1:"18",x2:"30",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"38",y1:"28",x2:"38",y2:"24",strokeWidth:"2",strokeLinecap:"round"})]})}function jre({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("circle",{cx:"24",cy:"24",r:"10"}),c.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"4",strokeWidth:"2",markerEnd:"url(#arrowUp)"}),c.jsx("line",{x1:"24",y1:"34",x2:"24",y2:"44",strokeWidth:"2"}),c.jsx("line",{x1:"14",y1:"24",x2:"4",y2:"24",strokeWidth:"2"}),c.jsx("line",{x1:"34",y1:"24",x2:"44",y2:"24",strokeWidth:"2"}),c.jsx("path",{d:"M24 4 L22 8 L26 8 Z",fill:"currentColor"}),c.jsx("path",{d:"M44 24 L40 22 L40 26 Z",fill:"currentColor"}),c.jsx("path",{d:"M38 10 L24 24",strokeWidth:"2",strokeDasharray:"3 2"}),c.jsx("circle",{cx:"38",cy:"10",r:"3",fill:"currentColor"}),c.jsx("path",{d:"M10 38 C16 32, 20 28, 24 24",strokeWidth:"2",strokeDasharray:"3 2"})]})}const jI="cuemaster_dev_mode";function Ire(){const{promoCode:t}=Ud();return(t==null?void 0:t.toUpperCase())==="EARLYBIRD"?c.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Q$,{className:"w-5 h-5 text-amber-500"}),c.jsxs("div",{children:[c.jsx(LF,{variant:"secondary",className:"bg-amber-500/20 text-amber-500 border-amber-500/30",children:"Early Adopter"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Thanks for being an early supporter! Use the feedback button to share your thoughts."})]})]})}):null}function kre(){const[,t]=yl(),[e,n]=b.useState(!1),{theme:r,toggleTheme:i,colorTheme:o,setColorTheme:s}=RG(),{user:a,isPro:l,promoCode:u,signInWithGoogle:d,signOut:f}=Ud(),[h,m]=b.useState([]),[y,g]=b.useState(!1),[v,x]=b.useState(0),w=b.useRef(null),S=b.useRef(0),[C,E]=b.useState(!1),[P,_]=b.useState(Tt.getConsent());b.useEffect(()=>{localStorage.getItem(jI)==="true"&&g(!0),Tt.isFirstLaunch()&&E(!0)},[]);const T=$=>{if($.type==="click"&&S.current>Date.now()-300||($.type==="touchend"&&(S.current=Date.now(),$.preventDefault()),y))return;const F=v+1;x(F),w.current&&clearTimeout(w.current),F>=7?(g(!0),localStorage.setItem(jI,"true"),x(0)):w.current=setTimeout(()=>x(0),2e3)};b.useEffect(()=>{const $=()=>{try{const U=localStorage.getItem(sw);if(U){const W=JSON.parse(U);Array.isArray(W)&&m(W)}}catch(U){console.error("Failed to parse sessions:",U),m([])}};$();const F=()=>$();return window.addEventListener("storage",F),()=>window.removeEventListener("storage",F)},[]);const N=()=>{localStorage.removeItem(sw),m([])},k=$=>{const F=h.filter(U=>U.id!==$);localStorage.setItem(sw,JSON.stringify(F)),m(F)},j=$=>new Date($).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=$=>{const F=Math.floor($/60),U=Math.floor($%60);return F>0?`${F}m ${U}s`:`${U.toFixed(1)}s`},O=$=>$.stats.shotDurations.length===0?0:$.stats.shotDurations.reduce((U,W)=>U+W,0)/$.stats.shotDurations.length;return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[c.jsxs("div",{onClick:()=>{confirm("Clear all site data and start fresh? This will reset everything.")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},className:"cursor-pointer select-none","data-testid":"logo-reset",children:[c.jsx("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"CUEMASTER"}),c.jsxs("p",{className:`text-sm font-light ${l?(u==null?void 0:u.toUpperCase())==="PROMETHEAN"?"text-[#d11111] font-medium":(u==null?void 0:u.toUpperCase())==="CUEMASTER2026"?"text-green-500 font-medium":"text-sky-400 font-medium":"text-muted-foreground"}`,children:["Suite",l&&" Pro"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{onClick:T,onTouchEnd:T,className:"cursor-default select-none touch-manipulation",children:c.jsx(nte,{})}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/insights"),"data-testid":"button-insights",children:c.jsx(lc,{className:"w-5 h-5"})}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>n(!0),"data-testid":"button-settings",children:c.jsx(tT,{className:"w-5 h-5"})})]})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Tool"}),c.jsx("p",{className:"text-muted-foreground",children:"Professional billiards companion utilities"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Zm,{icon:c.jsx(jre,{}),title:"Vectors",subtitle:"CueMaster",description:"Test spin, angles, and speed before you ever pull the trigger.",onClick:()=>t("/cue-emulator"),testId:"card-cue-emulator",proFeature:!0,isProUser:l}),c.jsx(Zm,{icon:c.jsx(Pre,{}),title:"TrueLevel",subtitle:"CueMaster",description:"Verify your battlefield. No excuses, no hidden slopes.",onClick:()=>t("/table-level"),testId:"card-table-level",proFeature:!0,isProUser:l}),c.jsx(Zm,{icon:c.jsx(Are,{}),title:"Tempo",subtitle:"CueMaster",description:"Own the pace of play  solo drills or match pressure, on a clock.",onClick:()=>t("/shot-clock"),testId:"card-shot-clock",proFeature:!0,isProUser:l}),c.jsx(Zm,{icon:c.jsx(Nre,{}),title:"Velocity",subtitle:"CueMaster",description:"Dial in raw power with break speed you can actually measure.",onClick:()=>t("/break-speed"),testId:"card-break-speed",proFeature:!0,isProUser:l})]})]})}),c.jsx("footer",{className:"py-4 px-6 text-center border-t",children:c.jsx("p",{className:"text-xs text-muted-foreground",children:" Promethean Games. Promethean-Games.com, All rights reserved."})}),c.jsx(Xr,{open:e,onOpenChange:n,children:c.jsxs(zr,{className:"max-w-md max-h-[85vh] overflow-hidden flex flex-col",children:[c.jsx(br,{className:"flex-shrink-0",children:c.jsx(wr,{children:"Settings"})}),c.jsxs(sV,{defaultValue:"appearance",className:"flex-1 overflow-hidden flex flex-col",children:[c.jsxs(wC,{className:"grid w-full grid-cols-4 flex-shrink-0",children:[c.jsxs(Fa,{value:"profile","data-testid":"tab-profile",children:[c.jsx(Zf,{className:"w-4 h-4 mr-1"}),"Profile"]}),c.jsxs(Fa,{value:"appearance","data-testid":"tab-appearance",children:[c.jsx(DN,{className:"w-4 h-4 mr-1"}),"Theme"]}),c.jsxs(Fa,{value:"analytics","data-testid":"tab-analytics",children:[c.jsx(Rh,{className:"w-4 h-4 mr-1"}),"Privacy"]}),c.jsxs(Fa,{value:"history","data-testid":"tab-history",children:[c.jsx(k1,{className:"w-4 h-4 mr-1"}),"History"]})]}),c.jsxs(Va,{value:"profile",className:"flex-1 overflow-auto mt-4 space-y-4",children:[c.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${a?"bg-primary/20":"bg-muted"}`,children:c.jsx(Zf,{className:`w-6 h-6 ${a?"text-primary":"text-muted-foreground"}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold",children:a?a.displayName||a.email||"Signed In":"Guest User"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:a?a.email:"Not signed in"})]})]}),c.jsx("div",{className:"flex items-center gap-2 text-sm",children:a?c.jsxs(c.Fragment,{children:[c.jsx(oH,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"text-green-500 font-medium",children:"Cloud Sync Active"})]}):c.jsxs(c.Fragment,{children:[c.jsx(sH,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Local Storage Only"})]})})]}),c.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-3",children:[c.jsx(Jt,{className:"text-sm font-medium",children:"Pro Status"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Q$,{className:`w-5 h-5 ${l?"text-primary":"text-muted-foreground"}`}),c.jsx("span",{className:l?"font-medium":"text-muted-foreground",children:l?"Pro Unlocked":"Free Version"})]}),l&&u&&c.jsx(LF,{variant:"outline",className:u.toUpperCase()==="PROMETHEAN"?"border-[#d11111] text-[#d11111]":u.toUpperCase()==="CUEMASTER2026"?"border-green-500 text-green-500":"border-sky-400 text-sky-400",children:u.toUpperCase()})]}),l&&c.jsx("p",{className:"text-xs text-muted-foreground",children:a?"Pro status synced to your account":"Pro status stored locally on this device"})]}),c.jsx("div",{className:"space-y-2",children:a?c.jsxs(ue,{variant:"outline",className:"w-full",onClick:async()=>{await f()},"data-testid":"button-sign-out",children:[c.jsx(dH,{className:"w-4 h-4 mr-2"}),"Sign Out"]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Sign in to sync your Pro status across devices"}),c.jsxs(ue,{variant:"outline",className:"w-full",onClick:async()=>{await d()},"data-testid":"button-sign-in-google",children:[c.jsx(R1,{className:"w-4 h-4 mr-2"}),"Sign in with Google"]})]})}),a&&c.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:[c.jsx("p",{children:"App Version: v0.9.8"}),c.jsxs("p",{className:"mt-1",children:["Last synced: ",new Date().toLocaleString()]})]})]}),c.jsxs(Va,{value:"appearance",className:"flex-1 overflow-auto mt-4 space-y-6",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Jt,{htmlFor:"theme-toggle",className:"flex items-center gap-2",children:[r==="dark"?c.jsx(yH,{className:"w-4 h-4"}):c.jsx(_H,{className:"w-4 h-4"}),"Theme Mode"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:r==="dark"?"Dark":"Light"}),c.jsx(Ai,{id:"theme-toggle",checked:r==="dark",onCheckedChange:i,"data-testid":"switch-theme"})]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(DN,{className:"w-4 h-4"}),"Accent Color"]}),c.jsx("div",{className:"grid grid-cols-4 gap-3 p-1",children:$g.map($=>c.jsx("button",{onClick:()=>s($),className:`relative aspect-square rounded-lg transition-all ${o.id===$.id?"ring-2 ring-offset-2 ring-offset-background ring-foreground":""}`,style:{backgroundColor:`hsl(${$.primary})`},title:$.name,"data-testid":`button-color-${$.id}`,children:o.id===$.id&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})},$.id))}),c.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",o.name]})]})]}),c.jsxs(Va,{value:"analytics",className:"flex-1 overflow-auto mt-4 space-y-4",children:[c.jsx(Ire,{}),c.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Rh,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-semibold text-sm",children:"Your Privacy"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"All data stays on your device. No account required. Export or delete anytime."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Jt,{className:"text-sm font-medium",children:"Data Collection"}),c.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1 flex-1",children:[c.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use and session duration"})]}),c.jsx(Ai,{checked:P.usageStats,onCheckedChange:$=>{const F={...P,usageStats:$};_(F),Tt.setConsent(F)},"data-testid":"switch-settings-usage"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1 flex-1",children:[c.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Record performance data for personal insights"})]}),c.jsx(Ai,{checked:P.skillMetrics,onCheckedChange:$=>{const F={...P,skillMetrics:$};_(F),Tt.setConsent(F)},"data-testid":"switch-settings-skills"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1 flex-1",children:[c.jsx("span",{className:"font-medium text-sm",children:"Benchmarking"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anonymous comparison with other players",!P.usageStats&&c.jsx("span",{className:"text-primary",children:" (Enables Usage Stats)"})]})]}),c.jsx(Ai,{checked:P.benchmarking,onCheckedChange:$=>{const F={...P,benchmarking:$,usageStats:$?!0:P.usageStats};_(F),Tt.setConsent(F)},"data-testid":"switch-settings-benchmark"})]})]}),c.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[c.jsx(Jt,{className:"text-sm font-medium",children:"Data Management"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const $=Tt.exportData(),F=new Blob([$],{type:"application/json"}),U=URL.createObjectURL(F),W=document.createElement("a");W.href=U,W.download=`cuemaster-data-${new Date().toISOString().split("T")[0]}.json`,W.click(),URL.revokeObjectURL(U)},"data-testid":"button-export-data",children:[c.jsx(eL,{className:"w-4 h-4 mr-2"}),"Export"]}),c.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>{confirm("Delete all analytics data? This cannot be undone.")&&Tt.deleteAllData()},"data-testid":"button-delete-data",children:[c.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Delete All"]})]})]})]}),c.jsxs(Va,{value:"history",className:"flex-1 overflow-hidden mt-4 flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(Oh,{className:"w-4 h-4"}),"Shot Clock Sessions"]}),h.length>0&&c.jsxs(ue,{variant:"ghost",size:"sm",onClick:N,className:"text-destructive hover:text-destructive","data-testid":"button-clear-sessions",children:[c.jsx(Ey,{className:"w-4 h-4 mr-1"}),"Clear All"]})]}),c.jsx(CC,{className:"flex-1",children:h.length===0?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(k1,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),c.jsx("p",{className:"text-sm",children:"No session history yet"}),c.jsx("p",{className:"text-xs mt-1",children:"Complete a Shot Clock session to see stats here"})]}):c.jsx("div",{className:"space-y-3 pr-3",children:h.map($=>c.jsxs(Ze,{className:"p-3","data-testid":`card-session-${$.id}`,children:[c.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:$.stats.playerNames.join(" vs ")}),c.jsx("p",{className:"text-xs text-muted-foreground",children:j($.date)})]}),c.jsx(ue,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>k($.id),"data-testid":`button-delete-session-${$.id}`,children:c.jsx(Hp,{className:"w-3 h-3"})})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[c.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[c.jsx(nT,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),c.jsx("p",{className:"font-medium",children:R(O($))}),c.jsx("p",{className:"text-muted-foreground",children:"Avg"})]}),c.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[c.jsx(Hc,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),c.jsx("p",{className:"font-medium",children:$.stats.shotCount}),c.jsx("p",{className:"text-muted-foreground",children:"Shots"})]}),c.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[c.jsx(Oh,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),c.jsx("p",{className:"font-medium",children:$.stats.totalExtensions}),c.jsx("p",{className:"text-muted-foreground",children:"Ext"})]}),c.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[c.jsx(rT,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),c.jsx("p",{className:"font-medium",children:$.stats.timeouts}),c.jsx("p",{className:"text-muted-foreground",children:"T/O"})]})]})]},$.id))})})]})]})]})}),c.jsx(yne,{open:C,onComplete:()=>{E(!1),_(Tt.getConsent())}}),c.jsx(Yne,{})]})}var AC="Collapsible",[Ore,wV]=Ri(AC),[Rre,PC]=Ore(AC),SV=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=t,[l=!1,u]=Mo({prop:r,defaultProp:i,onChange:s});return c.jsx(Rre,{scope:n,disabled:o,contentId:as(),open:l,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:c.jsx(Ye.div,{"data-state":kC(l),"data-disabled":o?"":void 0,...a,ref:e})})});SV.displayName=AC;var _V="CollapsibleTrigger",NC=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=PC(_V,n);return c.jsx(Ye.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":kC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:$e(t.onClick,i.onOpenToggle)})});NC.displayName=_V;var jC="CollapsibleContent",IC=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=PC(jC,t.__scopeCollapsible);return c.jsx(to,{present:n||i.open,children:({present:o})=>c.jsx(Mre,{...r,ref:e,present:o})})});IC.displayName=jC;var Mre=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=t,s=PC(jC,n),[a,l]=b.useState(r),u=b.useRef(null),d=mt(e,u),f=b.useRef(0),h=f.current,m=b.useRef(0),y=m.current,g=s.open||a,v=b.useRef(g),x=b.useRef(void 0);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),fr(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();f.current=S.height,m.current=S.width,v.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),l(r)}},[s.open,r]),c.jsx(Ye.div,{"data-state":kC(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&i})});function kC(t){return t?"open":"closed"}var EV=SV,Dre=NC,$re=IC;const II=EV,kI=NC,OI=IC,cr=b.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:ct("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cr.displayName="Input";var ca="Accordion",Lre=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[OC,Fre,Vre]=Up(ca),[n0,nIe]=Ri(ca,[Vre,wV]),RC=wV(),TV=H.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,o=r;return c.jsx(OC.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?c.jsx(Wre,{...o,ref:e}):c.jsx(zre,{...i,ref:e})})});TV.displayName=ca;var[CV,Bre]=n0(ca),[AV,Ure]=n0(ca,{collapsible:!1}),zre=H.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=t,[a,l]=Mo({prop:n,defaultProp:r,onChange:i});return c.jsx(CV,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:H.useCallback(()=>o&&l(""),[o,l]),children:c.jsx(AV,{scope:t.__scopeAccordion,collapsible:o,children:c.jsx(PV,{...s,ref:e})})})}),Wre=H.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=Mo({prop:n,defaultProp:r,onChange:i}),l=H.useCallback(d=>a((f=[])=>[...f,d]),[a]),u=H.useCallback(d=>a((f=[])=>f.filter(h=>h!==d)),[a]);return c.jsx(CV,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:u,children:c.jsx(AV,{scope:t.__scopeAccordion,collapsible:!0,children:c.jsx(PV,{...o,ref:e})})})}),[Hre,r0]=n0(ca),PV=H.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=t,a=H.useRef(null),l=mt(a,e),u=Fre(n),f=zd(i)==="ltr",h=$e(t.onKeyDown,m=>{var T;if(!Lre.includes(m.key))return;const y=m.target,g=u().filter(N=>{var k;return!((k=N.ref.current)!=null&&k.disabled)}),v=g.findIndex(N=>N.ref.current===y),x=g.length;if(v===-1)return;m.preventDefault();let w=v;const S=0,C=x-1,E=()=>{w=v+1,w>C&&(w=S)},P=()=>{w=v-1,w<S&&(w=C)};switch(m.key){case"Home":w=S;break;case"End":w=C;break;case"ArrowRight":o==="horizontal"&&(f?E():P());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?P():E());break;case"ArrowUp":o==="vertical"&&P();break}const _=w%x;(T=g[_].ref.current)==null||T.focus()});return c.jsx(Hre,{scope:n,disabled:r,direction:i,orientation:o,children:c.jsx(OC.Slot,{scope:n,children:c.jsx(Ye.div,{...s,"data-orientation":o,ref:l,onKeyDown:r?void 0:h})})})}),Jy="AccordionItem",[qre,MC]=n0(Jy),NV=H.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,o=r0(Jy,n),s=Bre(Jy,n),a=RC(n),l=as(),u=r&&s.value.includes(r)||!1,d=o.disabled||t.disabled;return c.jsx(qre,{scope:n,open:u,disabled:d,triggerId:l,children:c.jsx(EV,{"data-orientation":o.orientation,"data-state":MV(u),...a,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})})});NV.displayName=Jy;var jV="AccordionHeader",IV=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=r0(ca,n),o=MC(jV,n);return c.jsx(Ye.h3,{"data-orientation":i.orientation,"data-state":MV(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});IV.displayName=jV;var vS="AccordionTrigger",kV=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=r0(ca,n),o=MC(vS,n),s=Ure(vS,n),a=RC(n);return c.jsx(OC.ItemSlot,{scope:n,children:c.jsx(Dre,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...a,...r,ref:e})})});kV.displayName=vS;var OV="AccordionContent",RV=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=r0(ca,n),o=MC(OV,n),s=RC(n);return c.jsx($re,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...s,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});RV.displayName=OV;function MV(t){return t?"open":"closed"}var Gre=TV,Kre=NV,Yre=IV,DV=kV,$V=RV;const Zy=Gre,Jo=b.forwardRef(({className:t,...e},n)=>c.jsx(Kre,{ref:n,className:ct("border-b",t),...e}));Jo.displayName="AccordionItem";const Zo=b.forwardRef(({className:t,children:e,...n},r)=>c.jsx(Yre,{className:"flex",children:c.jsxs(DV,{ref:r,className:ct("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,c.jsx(kh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Zo.displayName=DV.displayName;const es=b.forwardRef(({className:t,children:e,...n},r)=>c.jsx($V,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:c.jsx("div",{className:ct("pb-4 pt-0",t),children:e})}));es.displayName=$V.displayName;const Xre=["CUEMASTER2026","PROMETHEAN","EARLYBIRD"];function Qre(t){return Xre.includes(t.toUpperCase().trim())}function ev({className:t=""}){return c.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 bg-gradient-to-r from-amber-500 to-yellow-400 text-black rounded-full ${t}`,children:c.jsx(Ll,{className:"w-3 h-3"})})}function Xg({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,signInWithFacebook:i,unlockPro:o,isLoading:s}=Ud(),[a,l]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(!1),[m,y]=b.useState(!1),g=async w=>{if(w.preventDefault(),!Qre(a)){d("Invalid promo code. Please try again.");return}h(!0);const S=await o(a);h(!1),S?y(!0):d("Failed to unlock. Please try again.")},v=()=>{m?window.location.reload():e(!1)},x=[{icon:Mh,title:"Practice Courses",desc:"Guided shot scenarios in Vectors to sharpen your skills"},{icon:_y,title:"Scotch Doubles Mode",desc:"Team-based timing for partner play in Tempo"},{icon:rL,title:"Shark Mode",desc:"Compare your break speed to the pros in Velocity"},{icon:aH,title:"Calibration Presets",desc:"Save table profiles for different venues in TrueLevel"},{icon:$N,title:"Early Access",desc:"Be first to try new features and updates"},{icon:Ll,title:"Pro Badge",desc:"Light-blue 'Suite' text shows your Pro status"}];return c.jsx(Xr,{open:t,onOpenChange:v,children:c.jsx(zr,{className:"max-w-sm max-h-[85vh] flex flex-col",children:m?c.jsxs(c.Fragment,{children:[c.jsxs(br,{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-br from-amber-500/20 to-yellow-400/20 rounded-full w-fit",children:c.jsx($N,{className:"w-12 h-12 text-amber-500 animate-pulse"})}),c.jsx(wr,{className:"text-2xl text-center",children:"Welcome to the Pro League!"}),c.jsx(Ao,{className:"text-center",children:"You've unlocked the full CueMaster experience. Time to dominate the table!"})]}),c.jsx(CC,{className:"flex-1 max-h-[300px] pr-4",children:c.jsxs("div",{className:"space-y-3 py-2",children:[c.jsx("p",{className:"text-sm font-semibold text-primary mb-3",children:"Your new superpowers:"}),x.map((w,S)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 border border-primary/20",children:[c.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:c.jsx(w.icon,{className:"w-4 h-4 text-primary"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-sm",children:w.title}),c.jsx(J$,{className:"w-3 h-3 text-green-500"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w.desc})]})]},S))]})}),c.jsxs(ue,{onClick:v,className:"w-full gap-2 mt-4","data-testid":"button-start-pro",children:[c.jsx(Ll,{className:"w-4 h-4"}),"Let's Go!"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(br,{children:[c.jsxs(wr,{className:"flex items-center gap-2",children:[c.jsx(Ll,{className:"w-5 h-5 text-amber-500"}),"Upgrade to Pro"]}),c.jsx(Ao,{children:n?"Enter a promo code to unlock all premium features.":"Sign in to sync your Pro status across devices, or enter a promo code."})]}),!n&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ue,{variant:"outline",className:"w-full gap-2",onClick:r,disabled:s,"data-testid":"button-google-signin",children:[c.jsx(R1,{className:"w-4 h-4"}),"Sign in with Google"]}),c.jsxs(ue,{variant:"outline",className:"w-full gap-2",onClick:i,disabled:s,"data-testid":"button-facebook-signin",children:[c.jsx(R1,{className:"w-4 h-4"}),"Sign in with Facebook"]})]}),n&&c.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["Signed in as ",n.displayName||n.email]}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(cr,{placeholder:"Enter promo code",value:a,onChange:w=>{l(w.target.value),d("")},className:"text-center uppercase tracking-widest","data-testid":"input-promo-code"}),u&&c.jsx("p",{className:"text-sm text-destructive mt-2",children:u})]}),c.jsxs(ue,{type:"submit",className:"w-full gap-2",disabled:f,"data-testid":"button-submit-promo",children:[c.jsx(Ll,{className:"w-4 h-4"}),f?"Unlocking...":"Unlock Pro"]})]}),c.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Full payment integration coming soon."})]})})})}function tv({children:t,isLocked:e=!0,featureName:n="This feature",variant:r="blur",onUpgradeClick:i}){const[o,s]=b.useState(!1),{isPro:a}=Ud();if(a||!e)return c.jsx(c.Fragment,{children:t});const l=()=>{i?i():s(!0)};return r==="badge"?c.jsxs("div",{className:"relative",children:[t,c.jsx("div",{className:"absolute top-1 right-1",children:c.jsx(ev,{})}),c.jsx(Xg,{open:o,onOpenChange:s})]}):r==="overlay"?c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"opacity-50 pointer-events-none select-none",children:t}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg",children:[c.jsx(O1,{className:"w-8 h-8 text-muted-foreground mb-2"}),c.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n," requires Pro"]}),c.jsxs(ue,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[c.jsx(Ll,{className:"w-4 h-4"}),"Upgrade to Pro"]})]}),c.jsx(Xg,{open:o,onOpenChange:s})]}):c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"blur-sm opacity-60 pointer-events-none select-none",children:t}),c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"bg-background/90 backdrop-blur-sm p-4 rounded-lg text-center border shadow-lg",children:[c.jsx(O1,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),c.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:n}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Unlock with CueMaster Pro"}),c.jsxs(ue,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[c.jsx(Ll,{className:"w-4 h-4"}),"Upgrade"]})]})}),c.jsx(Xg,{open:o,onOpenChange:s})]})}function Jre({children:t,isLocked:e=!0,onClick:n,...r}){const[i,o]=b.useState(!1),{isPro:s}=Ud();if(s||!e)return c.jsx(ue,{onClick:n,...r,children:t});const a=l=>{l.preventDefault(),o(!0)};return c.jsxs(c.Fragment,{children:[c.jsxs(ue,{onClick:a,...r,className:`relative ${r.className||""}`,children:[t,c.jsx("span",{className:"absolute -top-1 -right-1",children:c.jsx(ev,{})})]}),c.jsx(Xg,{open:i,onOpenChange:o})]})}const Bc=["mph","kph","m/s","ft/s"],Qg={"7' (bar)":{W:39,L:78},"8' (standard)":{W:44,L:88},"8' (pro)":{W:46,L:92},"9' (tournament)":{W:50,L:100}},RI=Object.keys(Qg),Ho=(t,e,n)=>Math.min(n,Math.max(e,t)),Zre=.0254,ts=2.25,Ns=ts/2,LV="cuemaster-velocity-v1";function eie(){try{const t=localStorage.getItem(LV);return t?JSON.parse(t):null}catch{return null}}function tie(t){try{localStorage.setItem(LV,JSON.stringify(t))}catch{}}function nie(t,e,n){const r=3*n/4,i=e/2,o=[];if(t==="8"){const s=[1,2,3,4,5];for(let a=0;a<s.length;a++){const l=s[a],u=r+a*ts,d=(l-1)*ts;for(let f=0;f<l;f++)o.push({x:i-d/2+f*ts,y:u,row:a,idx:f,n:l})}}else{const s=[1,2,3,2,1];for(let a=0;a<s.length;a++){const l=s[a],u=r+a*ts,d=(l-1)*ts;for(let f=0;f<l;f++)o.push({x:i-d/2+f*ts,y:u,row:a,idx:f,n:l})}}return o}function rie(t){if(!t||!t.length)return null;const e=t.map(r=>r.mph).filter(r=>Number.isFinite(r));return e.length?{avg:e.reduce((r,i)=>r+i,0)/e.length,high:Math.max(...e),low:Math.min(...e)}:null}function iie({x0:t,y0:e,dx:n,dy:r,W:i,L:o}){const s=[];r>0&&s.push((o-e)/r),n<0&&s.push((0-t)/n),n>0&&s.push((i-t)/n);const a=Math.min(...s.filter(l=>l>0));return isFinite(a)?a:null}function oie(){var On;const[,t]=yl(),{toast:e}=Id(),[n,r]=b.useState("record"),[i,o]=b.useState(3),s=RI[i]||"9' (tournament)",a=Qg[s],l=a.W,u=a.L,[d,f]=b.useState("9"),[h,m]=b.useState(!0),[y,g]=b.useState("mph"),[v,x]=b.useState(!1),w=()=>{const K=Bc.indexOf(y);g(Bc[(K+1)%Bc.length])},[S,C]=b.useState({x:25,y:20}),[E,P]=b.useState({x:l/2,y:3*u/4-ts}),[_,T]=b.useState(null),[N,k]=b.useState(null),[j,R]=b.useState(!1),[O,$]=b.useState(null),[F,U]=b.useState(null),[W,V]=b.useState(null),[B,Z]=b.useState([]),[Q,ne]=b.useState(!1),[Ee,Pe]=b.useState(!1),[Me,ot]=b.useState(1),[we,Ne]=b.useState(!1),[oe,me]=b.useState([null,null,null,null,null]),[ae,z]=b.useState({open:!1,kind:null,index:null}),[Se,Te]=b.useState(!1),[Xe,Qe]=b.useState(!1),[tt,Fe]=b.useState([]),[le,Je]=b.useState(!1),[kt,yt]=b.useState(""),[Ot,gn]=b.useState(""),[yn,Wn]=b.useState(!1),[Cr,en]=b.useState(0),[vn,qt]=b.useState(!1),[hn,$t]=b.useState([]),[He,qr]=b.useState(null),[pr,er]=b.useState(0),mr=b.useRef(null),tn=b.useRef(null),nn=b.useRef(null),tr=b.useRef(!1);b.useEffect(()=>(Tt.startSession("velocity"),()=>{Tt.endSession()}),[]),b.useEffect(()=>{const K=eie();K?(o(K.presetIndex??3),C(K.cue||{x:25,y:20}),P(K.ghost||{x:l/2,y:3*u/4-ts}),g(K.unit||"mph"),Z(K.history||[]),f(K.variant||"9"),m(K.snap??!0),me(K.breakSlots||[null,null,null,null,null]),Fe(K.leaderboard||[]),gn(K.storedInitials||""),K.tutorialDone||Pe(!0)):Pe(!0)},[]),b.useEffect(()=>{tie({presetIndex:i,cue:S,ghost:E,unit:y,history:B,variant:d,snap:h,breakSlots:oe,leaderboard:tt,storedInitials:Ot,tutorialDone:!0})},[i,S,E,y,B,d,h,oe,tt,Ot]),b.useEffect(()=>{const K=setInterval(()=>{en(ce=>(ce+1)%Bc.length)},4e3);return()=>clearInterval(K)},[]),b.useEffect(()=>{C(K=>({x:Ho(K.x,0,l),y:Ho(K.y,0,u/4)})),P(K=>({x:Ho(K.x,0,l),y:Ho(K.y,Ns,u-Ns)}))},[l,u]);const Ln=b.useMemo(()=>nie(d,l,u),[d,l,u]),Gt=b.useCallback((K,ce)=>{const fe=ce.x-K.x,de=ce.y-K.y,Ie=Math.hypot(fe,de);if(!Ie)return null;const nt=fe/Ie,bt=de/Ie,rn=ts;let Kt=1/0,Ut=null,nr=null;for(let rr=0;rr<Ln.length;rr++){const M=Ln[rr],L=M.x-K.x,G=M.y-K.y,X=L*nt+G*bt;if(X<=0)continue;const J=K.x+nt*X,se=K.y+bt*X,ve=Math.hypot(M.x-J,M.y-se);if(ve>rn)continue;const ge=Math.sqrt(rn*rn-ve*ve),ee=X-ge;ee<=0||ee<Kt&&(Kt=ee,Ut={x:K.x+nt*ee,y:K.y+bt*ee},nr=rr)}return Ut?{point:Ut,index:nr}:null},[Ln]),xn=b.useCallback((K=S,ce=E)=>{const fe=ce.x-K.x,de=ce.y-K.y,Ie=Math.hypot(fe,de);return de<=0||Ie<=0?null:Ie},[S,E]),kn=b.useMemo(()=>{const K=xn();if(!K)return!1;const ce=(E.x-S.x)/K,fe=(E.y-S.y)/K,de=iie({x0:S.x,y0:S.y,dx:ce,dy:fe,W:l,L:u});return!de||K<=de+1e-6},[S,E,l,u,xn]),Ar=b.useMemo(()=>{const K=xn();return{dCG:K?K.toFixed(2):""}},[xn]),Mi=K=>{switch(y){case"ft/s":return(K*3.28084).toFixed(2);case"m/s":return K.toFixed(2);case"kph":return(K*3.6).toFixed(2);default:return(K*2.23693629).toFixed(2)}},Di=K=>{switch(y){case"ft/s":return(K*1.46667).toFixed(2);case"m/s":return(K*.44704).toFixed(2);case"kph":return(K*1.60934).toFixed(2);default:return K.toFixed(2)}},ti=(K,ce)=>{switch(ce){case"ft/s":return(K*1.46667).toFixed(2);case"m/s":return(K*.44704).toFixed(2);case"kph":return(K*1.60934).toFixed(2);default:return K.toFixed(2)}},oo=(K,ce,fe=!1)=>{const de=K.toUpperCase().slice(0,3),Ie=Math.min(100,Math.round(ce/25*100)),nt={initials:de,mph:ce,percentage:Ie,ts:Date.now()};Fe(bt=>[...bt,nt].sort((Kt,Ut)=>Ut.percentage-Kt.percentage).slice(0,1e3)),de.length===3&&gn(de),Wn(!1),yt(""),fe||e({title:"Added to Leaderboard",description:`${de} - ${Ie}%`})},Vo=b.useRef([]),[Pr,hi]=b.useState(0),[Es,Nr]=b.useState(null),pi=3e3,Ts=48e3,ni=(K,ce=!1)=>{if(K.length<20)return ce&&console.log("[DEBUG] Not enough samples:",K.length),null;const fe=2,de=[];for(let ee=0;ee<K.length;ee++){let _e=0,xe=0;for(let ke=Math.max(0,ee-fe);ke<=Math.min(K.length-1,ee+fe);ke++)_e+=K[ke].amplitude*K[ke].amplitude,xe++;de.push({time:K[ee].time,amplitude:Math.sqrt(_e/xe)})}let Ie=0;for(let ee=0;ee<de.length;ee++)de[ee].amplitude>Ie&&(Ie=de[ee].amplitude);if(ce&&console.log("[DEBUG] Max amplitude (smoothed):",Ie.toFixed(4)),Ie<.08)return ce&&console.log("[DEBUG] No significant sound detected (max < 0.08)"),null;const nt=80,bt=450,rn=120;let Kt=0,Ut=de[0].amplitude;for(let ee=0;ee<de.length&&!(de[ee].time>80);ee++)de[ee].amplitude>Ut&&(Ut=de[ee].amplitude,Kt=ee);const nr=de[Kt].time;ce&&console.log("[DEBUG] First peak at",nr.toFixed(1),"ms, amp:",Ut.toFixed(4));const rr=ee=>Ut*Math.exp(-ee/rn),M=.75;let L=-1,G=1/0,X=-1;for(let ee=Kt+1;ee<de.length;ee++){const _e=de[ee].time-nr;if(_e<25)continue;if(_e>200)break;const xe=rr(_e),ke=xe*M,at=ee>0&&ee<de.length-1&&de[ee].amplitude<=de[ee-1].amplitude&&de[ee].amplitude<=de[ee+1].amplitude;(de[ee].amplitude<ke||at&&de[ee].amplitude<xe)&&de[ee].amplitude<G&&(G=de[ee].amplitude,L=ee,X=de[ee].time)}if(L===-1){ce&&console.log("[DEBUG] No valley below decay curve, trying local minimum search...");let ee=Ut;for(let _e=Kt+1;_e<de.length;_e++){const xe=de[_e].time-nr;if(!(xe<25)){if(xe>200)break;de[_e].amplitude<ee&&(ee=de[_e].amplitude,L=_e,X=de[_e].time,G=ee)}}L!==-1&&G>Ut*.8&&(ce&&console.log("[DEBUG] Valley not deep enough (only",((1-G/Ut)*100).toFixed(1),"% drop)"),L=-1)}if(L===-1)return ce&&console.log("[DEBUG] No valley found between 25-200ms after first peak"),null;if(ce){const ee=rr(X-nr);console.log("[DEBUG] Valley at",X.toFixed(1),"ms, amp:",G.toFixed(4),"(expected decay:",ee.toFixed(4),", ratio:",(G/ee).toFixed(2),")")}let J=-1,se=0;const ve=1.3;for(let ee=L+1;ee<de.length;ee++){const _e=de[ee].time-nr;if(!(_e<nt)){if(_e>bt)break;de[ee].amplitude>G*ve&&de[ee].amplitude>se&&(se=de[ee].amplitude,J=ee)}}if(ce&&(J!==-1?console.log("[DEBUG] Second peak at",de[J].time.toFixed(1),"ms, amp:",se.toFixed(4),"(",((se/G-1)*100).toFixed(1),"% above valley)"):console.log("[DEBUG] No second peak found that rises >30% above valley in",nt,"-",bt,"ms window")),J===-1||se<Ie*.1)return ce&&console.log("[DEBUG] Second peak too weak or not found (need >",(Ie*.1).toFixed(4),")"),null;const ge=ee=>{let _e=0,xe=1/0;for(let ke=0;ke<K.length;ke++){const at=Math.abs(K[ke].time-ee);at<xe&&(xe=at,_e=ke)}return K[_e]};return{first:ge(de[Kt].time),second:ge(de[J].time),valleyTime:X,valleyAmp:G,expectedDecayAtValley:rr(X-nr),decayTau:rn}},Cs=async()=>{const K={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:Ts}},ce=await navigator.mediaDevices.getUserMedia(K),fe=new AudioContext({sampleRate:Ts});fe.state==="suspended"&&await fe.resume();const de=fe.createMediaStreamSource(ce),Ie=fe.createBiquadFilter();Ie.type="highpass",Ie.frequency.value=150;const nt=fe.createBiquadFilter();nt.type="lowpass",nt.frequency.value=8e3;const bt=fe.createAnalyser();bt.fftSize=2048,de.connect(Ie),Ie.connect(nt),nt.connect(bt);const rn=new Float32Array(bt.fftSize);Vo.current=[];let Kt=null,Ut=null;const nr=.15,rr=()=>{if(!tr.current)return;bt.getFloatTimeDomainData(rn);let M=0;for(let G=0;G<rn.length;G++)M=Math.max(M,Math.abs(rn[G]));const L=performance.now();if(er(M),Kt===null&&M>nr&&(Kt=L,Ut=L,Nr("Recording break..."),vn&&console.log("[DEBUG] Recording triggered at amplitude:",M.toFixed(4))),Kt!==null){Vo.current.push({time:L-Kt,amplitude:M});const G=L-Ut;if(hi(Math.min(100,G/pi*100)),G>=pi){tr.current=!1,Nr("Analyzing audio..."),vn&&$t([...Vo.current]);const X=ni(Vo.current,vn);if(vn&&qr(X?{first:X.first,second:X.second,valleyTime:X.valleyTime,valleyAmp:X.valleyAmp,expectedDecayAtValley:X.expectedDecayAtValley,decayTau:X.decayTau}:{first:null,second:null,valleyTime:null,valleyAmp:null,expectedDecayAtValley:null,decayTau:null}),X){const J=(X.second.time-X.first.time)/1e3;if(J>=.08&&J<=.45)$(X.first.time/1e3),U(X.second.time/1e3),Nr(`Found peaks: ${J.toFixed(4)}s apart`);else{const se=`Peaks were ${(J*1e3).toFixed(0)}ms apart (expected 80-450ms)`;nn.current&&(nn.current.stream.getTracks().forEach(ve=>ve.stop()),nn.current.audioCtx.close(),nn.current=null),R(!1),hi(0),Nr(null),tn.current&&clearTimeout(tn.current),e({title:"Detection failed",description:se,variant:"destructive"})}}else nn.current&&(nn.current.stream.getTracks().forEach(J=>J.stop()),nn.current.audioCtx.close(),nn.current=null),R(!1),hi(0),Nr(null),tn.current&&clearTimeout(tn.current),e({title:"Detection failed",description:"Could not find two distinct impact sounds",variant:"destructive"});return}}requestAnimationFrame(rr)};return requestAnimationFrame(rr),{audioCtx:fe,stream:ce}},Bo=async()=>{if(!xn()){e({title:"Invalid setup",description:"Line would hit a cushion before the rack. Adjust cue/ghost.",variant:"destructive"});return}V(null),$(null),U(null),hi(0),Nr(null),R(!0);try{tr.current=!0,nn.current=await Cs(),tn.current&&clearTimeout(tn.current),tn.current=setTimeout(()=>{q(),e({title:"No break detected",description:"Recording stopped after 30 seconds - no loud sound detected"})},3e4),e({title:"Listening...",description:"Break when ready - auto-detects on impact"})}catch(ce){console.error(ce),R(!1),e({title:"Microphone error",description:"Please allow microphone access",variant:"destructive"})}},q=()=>{tr.current=!1,nn.current&&(nn.current.stream.getTracks().forEach(K=>K.stop()),nn.current.audioCtx.close(),nn.current=null),R(!1),hi(0),Nr(null),tn.current&&clearTimeout(tn.current)};b.useEffect(()=>{if(O!==null&&F!==null&&j){const K=xn()||0,ce=K*Zre,fe=Math.max(.1,F-O),de=ce/fe,Ie=de*2.23693629,nt=Math.min(45,Math.max(5,Ie)),bt={raw_mps:de,mph:Number(nt.toFixed(2)),distanceIn:Number(K.toFixed(1)),deltaT:Number(fe.toFixed(4)),ts:Date.now(),cue:S,ghost:E,table:{W:l,L:u},variant:d};Z(rn=>[bt,...rn].slice(0,500)),V(bt),R(!1),q(),ne(!0),n==="shark"&&Ot.length===3&&oo(Ot,bt.mph,!0),Tt.trackSkillMetric("velocity","break_speed",bt.mph,{distanceIn:bt.distanceIn,variant:bt.variant})}},[O,F,j,S,E,l,u,d,xn,n,Ot]);const re=(K,ce,fe)=>{const de=ce/fe,nt=Math.round(K/de)*de;return Math.abs(K-nt)<=.35&&h?nt:K},Ae=()=>{const ce=Math.min(typeof window<"u"?window.innerWidth-48:400,500),de=Math.min(ce/l,400/u),Ie=l*de,nt=u*de,bt=S.x*de+8,rn=nt-S.y*de+8,Kt=E.x*de+8,Ut=nt-E.y*de+8,nr=M=>{var J;M.preventDefault(),Qe(!0);const L=(J=mr.current)==null?void 0:J.getBoundingClientRect();if(!L)return;const G=se=>{const ve={x:se.clientX-L.left,y:se.clientY-L.top};let ge=(ve.x-8)/de,ee=(nt-(ve.y-8))/de;ge=Ho(re(ge,l,8),0,l),ee=Ho(re(ee,u,8),Ns,u-Ns);const xe=Gt(S,{x:ge,y:ee});if(xe&&xe.point){const{point:ke,index:at}=xe,on=Ho(ke.x,0,l),An=Ho(ke.y,Ns,u-Ns);P({x:on,y:An}),T({x:on,y:An,index:at}),k(at)}else _&&(P({x:_.x,y:_.y}),k(_.index??null))},X=()=>{Qe(!1),window.removeEventListener("pointermove",G)};window.addEventListener("pointermove",G),window.addEventListener("pointerup",X,{once:!0})},rr=M=>{var J;M.preventDefault(),Te(!0);const L=(J=mr.current)==null?void 0:J.getBoundingClientRect();if(!L)return;const G=se=>{const ve={x:se.clientX-L.left,y:se.clientY-L.top};let ge=(ve.x-8)/de,ee=(nt-(ve.y-8))/de;ge=Ho(re(ge,l,8),0,l),ee=Ho(re(ee,u,8),0,u/4),C({x:ge,y:ee})},X=()=>{Te(!1),window.removeEventListener("pointermove",G)};window.addEventListener("pointermove",G),window.addEventListener("pointerup",X,{once:!0})};return c.jsxs("svg",{ref:mr,width:Ie+8*2,height:nt+8*2,className:"rounded-xl touch-none mx-auto block",style:{background:"hsl(var(--muted))"},children:[c.jsx("rect",{x:8,y:8,width:Ie,height:nt,fill:"#03C04A",stroke:kn?"hsl(var(--primary))":"#cc8400",strokeWidth:"2"}),Array.from({length:7},(M,L)=>(L+1)/8*Ie+8).map((M,L)=>c.jsx("line",{x1:M,x2:M,y1:8,y2:8+nt,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gx"+L)),Array.from({length:7},(M,L)=>(L+1)/8*nt+8).map((M,L)=>c.jsx("line",{x1:8,x2:8+Ie,y1:M,y2:M,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gy"+L)),c.jsx("line",{x1:bt,y1:rn,x2:Kt,y2:Ut,stroke:"#1e1e1e",strokeWidth:"2.5"}),Ln.map((M,L)=>{const G=M.x*de+8,X=nt-M.y*de+8,J=L===N;return c.jsx("circle",{cx:G,cy:X,r:Ns*de,fill:J?"#ffe9e9":"#ffffff",stroke:J?"hsl(var(--primary))":"#000000",strokeWidth:J?2.2:1.25,opacity:J?1:.9},L)}),Xe&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:8,y1:Ut,x2:8+Ie,y2:Ut,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"}),c.jsx("line",{x1:Kt,y1:8,x2:Kt,y2:8+nt,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),Se&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:8,y1:rn,x2:8+Ie,y2:rn,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"}),c.jsx("line",{x1:bt,y1:8,x2:bt,y2:8+nt,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),c.jsx("circle",{cx:Kt,cy:Ut,r:Ns*de,fill:"hsl(var(--primary))",stroke:"#000000",strokeWidth:"2",onPointerDown:nr,style:{cursor:"grab"}}),c.jsx("circle",{cx:bt,cy:rn,r:Ns*de,fill:"#ffffff",stroke:"#000000",strokeWidth:"1.75",onPointerDown:rr,style:{cursor:"grab"}})]})},Oe=b.useMemo(()=>rie(B),[B]),Ue=K=>z({open:!0,kind:"load",index:K}),st=K=>z({open:!0,kind:"save",index:K}),It=({i:K})=>{const ce=!!oe[K],fe=b.useRef(null),de=()=>{fe.current=setTimeout(()=>{st(K),fe.current=null},520)},Ie=()=>{fe.current&&(clearTimeout(fe.current),Ue(K),fe.current=null)};return c.jsxs("button",{className:`text-xs py-2 px-3 rounded-lg border transition-colors ${ce?"bg-primary/20 border-primary/40":"bg-muted border-muted-foreground/20"}`,onPointerDown:de,onPointerUp:Ie,onPointerLeave:()=>fe.current&&clearTimeout(fe.current),"data-testid":`button-slot-${K+1}`,children:["Slot ",K+1]})};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Io,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"CueMaster: Velocity"}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>Pe(!0),"data-testid":"button-help",children:c.jsx(Tx,{className:"w-5 h-5"})}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>Ne(!0),"data-testid":"button-settings",children:c.jsx(tT,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 overflow-auto p-4",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs(sV,{value:n,onValueChange:r,className:"w-full",children:[c.jsxs(wC,{className:"grid w-full grid-cols-3",children:[c.jsx(Fa,{value:"record","data-testid":"tab-record",children:"Record"}),c.jsx(Fa,{value:"stats","data-testid":"tab-stats",children:"Stats"}),c.jsxs(Fa,{value:"shark","data-testid":"tab-shark",className:"gap-1",children:["Shark ",c.jsx(ev,{})]})]}),c.jsxs(Va,{value:"record",className:"space-y-3 mt-3",children:[c.jsxs(Ze,{className:"p-3",children:[c.jsxs("div",{className:"text-center mb-3",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Cue  Rack Speed"}),c.jsxs("button",{onClick:w,className:"text-4xl font-bold text-foreground hover:text-primary transition-colors cursor-pointer","data-testid":"button-cycle-unit",children:[W?Mi(W.raw_mps):"--.--.",c.jsx("span",{className:"text-2xl ml-1 text-primary underline decoration-dotted underline-offset-4",children:y})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap unit to change"})]}),c.jsx(ue,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?q:Bo,"data-testid":"button-record",children:j?"Stop Recording":"Tap to Record  Break"}),j&&c.jsxs("div",{className:"mt-3 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:Es||"Waiting for sound..."}),c.jsxs("span",{className:"font-mono text-primary",children:[Math.round(Pr),"%"]})]}),c.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-primary transition-all duration-100",style:{width:`${Pr}%`}})}),vn&&c.jsxs("div",{className:"mt-2 p-2 bg-black/50 rounded border border-primary/30",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[c.jsx("span",{className:"text-green-400 font-mono",children:"LIVE AMP"}),c.jsx("span",{className:"text-green-400 font-mono",children:pr.toFixed(4)})]}),c.jsx("div",{className:"h-4 bg-black rounded overflow-hidden",children:c.jsx("div",{className:`h-full transition-all duration-50 ${pr>.15?"bg-green-500":"bg-green-800"}`,style:{width:`${Math.min(100,pr*100)}%`}})}),c.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"Trigger threshold: 0.15 (green = triggered)"})]})]})]}),vn&&hn.length>0&&!j&&c.jsxs(Ze,{className:"p-3 bg-black/80 border-green-500/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm font-semibold text-green-400 font-mono",children:"DEBUG: Audio Analysis"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ue,{size:"sm",variant:"outline",className:"text-xs h-7 border-green-500/50 text-green-400",onClick:()=>{const K={samples:hn,peaks:He,timestamp:new Date().toISOString(),settings:{presetKey:s,variant:d,snap:h}},ce=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),fe=URL.createObjectURL(ce),de=document.createElement("a");de.href=fe,de.download=`break-audio-${Date.now()}.json`,de.click(),URL.revokeObjectURL(fe),e({title:"Audio data exported"})},"data-testid":"button-export-debug",children:"Export Data"}),c.jsx(ue,{size:"sm",variant:"outline",className:"text-xs h-7 border-red-500/50 text-red-400",onClick:()=>{$t([]),qr(null)},"data-testid":"button-clear-debug",children:"Clear"})]})]}),c.jsxs("div",{className:"bg-black rounded p-2 mb-3",children:[c.jsxs("div",{className:"text-[10px] text-green-400 font-mono mb-1",children:["Samples: ",hn.length," | Duration: ",hn.length>0?(hn[hn.length-1].time/1e3).toFixed(2):0,"s"]}),c.jsxs("svg",{width:"100%",height:"80",className:"bg-black rounded",children:[c.jsx("line",{x1:"0",y1:"40",x2:"100%",y2:"40",stroke:"#333",strokeWidth:"1"}),[100,200,300,400].map(K=>c.jsxs("g",{children:[c.jsx("line",{x1:`${K/3e3*100}%`,y1:"0",x2:`${K/3e3*100}%`,y2:"80",stroke:"#333",strokeWidth:"1",strokeDasharray:"2,2"}),c.jsxs("text",{x:`${K/3e3*100}%`,y:"78",fill:"#666",fontSize:"8",textAnchor:"middle",children:[K,"ms"]})]},K)),c.jsx("polyline",{points:hn.slice(0,500).map((K,ce)=>{const fe=ce/500*100,de=40-K.amplitude*35;return`${fe}%,${de}`}).join(" "),fill:"none",stroke:"#22c55e",strokeWidth:"1"}),(He==null?void 0:He.first)&&c.jsx("circle",{cx:`${He.first.time/3e3*100}%`,cy:40-He.first.amplitude*35,r:"4",fill:"#f59e0b",stroke:"#fff",strokeWidth:"1"}),(He==null?void 0:He.second)&&c.jsx("circle",{cx:`${He.second.time/3e3*100}%`,cy:40-He.second.amplitude*35,r:"4",fill:"#3b82f6",stroke:"#fff",strokeWidth:"1"}),(He==null?void 0:He.valleyTime)&&He.valleyTime>0&&He.valleyAmp&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:`${He.valleyTime/3e3*100}%`,y1:"0",x2:`${He.valleyTime/3e3*100}%`,y2:"80",stroke:"#a855f7",strokeWidth:"2",strokeDasharray:"4,2"}),c.jsx("circle",{cx:`${He.valleyTime/3e3*100}%`,cy:40-He.valleyAmp*35,r:"3",fill:"#a855f7",stroke:"#fff",strokeWidth:"1"})]})]}),c.jsxs("div",{className:"flex gap-4 text-[10px] font-mono mt-1",children:[c.jsx("span",{className:"text-amber-500",children:" 1st Peak (cue hit)"}),c.jsx("span",{className:"text-purple-500",children:" Valley (dip)"}),c.jsx("span",{className:"text-blue-500",children:" 2nd Peak (rack hit)"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-mono",children:[c.jsxs("div",{className:"bg-amber-500/20 rounded p-2",children:[c.jsx("div",{className:"text-amber-400 font-semibold",children:"1st Peak"}),He!=null&&He.first?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Time: ",He.first.time.toFixed(1),"ms"]}),c.jsxs("div",{children:["Amp: ",He.first.amplitude.toFixed(4)]})]}):c.jsx("div",{className:"text-red-400",children:"Not found"})]}),c.jsxs("div",{className:"bg-purple-500/20 rounded p-2",children:[c.jsx("div",{className:"text-purple-400 font-semibold",children:"Valley"}),He!=null&&He.valleyTime&&He.valleyAmp?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Time: ",He.valleyTime.toFixed(1),"ms"]}),c.jsxs("div",{children:["Amp: ",He.valleyAmp.toFixed(4)]}),He.expectedDecayAtValley&&c.jsxs("div",{className:"text-[9px]",children:["Expected: ",He.expectedDecayAtValley.toFixed(4)]})]}):c.jsx("div",{className:"text-red-400",children:"Not found"})]}),c.jsxs("div",{className:"bg-blue-500/20 rounded p-2",children:[c.jsx("div",{className:"text-blue-400 font-semibold",children:"2nd Peak"}),He!=null&&He.second?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Time: ",He.second.time.toFixed(1),"ms"]}),c.jsxs("div",{children:["Amp: ",He.second.amplitude.toFixed(4)]}),c.jsxs("div",{children:["T: ",(He.second.time-(((On=He.first)==null?void 0:On.time)||0)).toFixed(1),"ms"]})]}):c.jsx("div",{className:"text-red-400",children:"Not found"})]})]}),c.jsxs("div",{className:"mt-2 p-2 bg-muted/20 rounded text-[10px] font-mono text-muted-foreground",children:[c.jsxs("div",{children:["Decay tau: ",(He==null?void 0:He.decayTau)||120,"ms (reverb tolerance)"]}),c.jsx("div",{children:"Valley window: 25-200ms after 1st peak"}),c.jsx("div",{children:"Valley dip: below 75% of expected decay OR local minimum"}),c.jsx("div",{children:"2nd peak window: 80-450ms after 1st peak"}),c.jsx("div",{children:"2nd peak rise: must be 30%+ above valley"})]})]}),c.jsx(Ze,{className:"p-3",children:c.jsxs(II,{open:v,onOpenChange:x,children:[c.jsxs(kI,{className:"flex items-center justify-between w-full py-2","data-testid":"button-toggle-table",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ar.dCG,'"  ',d,"-ball"]})]}),c.jsx(kh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),c.jsxs(OI,{className:"pt-2",children:[c.jsx("div",{className:"flex items-center justify-end gap-2 mb-2",children:["8","9"].map(K=>c.jsxs(ue,{variant:d===K?"default":"outline",size:"sm",onClick:()=>f(K),"data-testid":`button-variant-${K}`,children:[K,"-ball"]},K))}),c.jsx(Ae,{}),!kn&&c.jsx("p",{className:"text-xs text-amber-500 mt-2 text-center",children:"Warning: current ray hits a cushion before rack."})]})]})}),c.jsx(tv,{isLocked:!0,featureName:"Break Presets",variant:"overlay",children:c.jsxs(Ze,{className:"p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"text-sm font-medium",children:["Presets ",c.jsx(ev,{})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load  Hold to save"})]}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4].map(K=>c.jsx(It,{i:K},K))})]})})]}),c.jsx(Va,{value:"stats",className:"space-y-3 mt-3",children:c.jsxs(Ze,{className:"p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Statistics"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to change units"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-high",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"High"}),c.jsx("div",{className:"text-lg font-bold",children:Oe?Di(Oe.high):""}),c.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]}),c.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-avg",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"}),c.jsx("div",{className:"text-lg font-bold",children:Oe?Di(Oe.avg):""}),c.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]}),c.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-low",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"}),c.jsx("div",{className:"text-lg font-bold",children:Oe?Di(Oe.low):""}),c.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]})]}),c.jsxs("div",{className:"mt-3 text-sm text-muted-foreground text-center",children:[B.length," breaks recorded"]}),B.length>0&&c.jsxs(ue,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>Z([]),"data-testid":"button-clear-history",children:[c.jsx(nL,{className:"w-4 h-4 mr-2"}),"Clear History"]})]})}),c.jsx(Va,{value:"shark",className:"space-y-3 mt-3",children:c.jsxs(tv,{isLocked:!0,featureName:"Shark Mode",variant:"blur",children:[c.jsxs(Ze,{className:"p-3",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("div",{className:"text-2xl font-extrabold",children:"Shark Mode"}),c.jsx("button",{onClick:w,className:"text-sm text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 transition-colors cursor-pointer","data-testid":"button-shark-cycle-unit",children:y})]}),c.jsx("div",{className:"flex justify-center mb-4",children:c.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),c.jsx("stop",{offset:"50%",stopColor:"#eab308"}),c.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),c.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),c.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${Math.min(100,W?W.mph/25*100:0)*2.2} 220`}),(()=>{const fe=(-180+Math.min(100,W?W.mph/25*100:0)/100*180)*Math.PI/180,de=90,Ie=90,nt=55,bt=de+nt*Math.cos(fe),rn=Ie+nt*Math.sin(fe);return c.jsxs("g",{children:[c.jsx("line",{x1:de,y1:Ie,x2:bt,y2:rn,stroke:"hsl(var(--foreground))",strokeWidth:"3",strokeLinecap:"round"}),c.jsx("circle",{cx:de,cy:Ie,r:"6",fill:"hsl(var(--foreground))"})]})})(),c.jsxs("text",{x:"90",y:"75",fontSize:"24",fontWeight:"bold",fill:"hsl(var(--foreground))",textAnchor:"middle",children:[W?Math.min(100,Math.round(W.mph/25*100)):0,"%"]})]})}),c.jsx(ue,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?q:Bo,"data-testid":"button-shark-record",children:j?"STOP":"REC"})]}),c.jsx(Ze,{className:"p-3",children:c.jsxs(II,{open:v,onOpenChange:x,children:[c.jsxs(kI,{className:"flex items-center justify-between w-full py-2","data-testid":"button-shark-toggle-table",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ar.dCG,'"  ',d,"-ball"]})]}),c.jsx(kh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),c.jsx(OI,{className:"pt-2",children:c.jsx(Ae,{})})]})}),W&&c.jsxs(ue,{variant:"outline",className:"w-full",onClick:()=>Wn(!0),"data-testid":"button-add-to-leaderboard",children:[c.jsx($a,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]}),c.jsx(Ze,{className:"p-3",children:c.jsx(Zy,{type:"single",collapsible:!0,value:le?"leaderboard":"",onValueChange:K=>Je(K==="leaderboard"),children:c.jsxs(Jo,{value:"leaderboard",className:"border-none",children:[c.jsx(Zo,{className:"py-2 hover:no-underline","data-testid":"button-toggle-leaderboard",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($a,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium",children:"Leaderboard"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",tt.length,")"]})]})}),c.jsxs(es,{children:[tt.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No entries yet. Record a break and add it to the leaderboard!"}):c.jsx("div",{className:"max-h-64 overflow-y-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"sticky top-0 bg-card",children:c.jsxs("tr",{className:"border-b border-border",children:[c.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"#"}),c.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"Player"}),c.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:"Score"}),c.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:c.jsx("span",{className:"text-primary",children:Bc[Cr]})})]})}),c.jsx("tbody",{children:tt.map((K,ce)=>c.jsxs("tr",{className:`border-b border-border/50 ${ce<3?"bg-primary/5":""}`,"data-testid":`row-leaderboard-${ce}`,children:[c.jsxs("td",{className:"py-2 px-1 font-mono text-muted-foreground",children:[ce===0&&c.jsx("span",{className:"text-yellow-500",children:""}),ce===1&&c.jsx("span",{className:"text-gray-400",children:""}),ce===2&&c.jsx("span",{className:"text-amber-600",children:""}),ce>2&&ce+1]}),c.jsx("td",{className:"py-2 px-1 font-bold tracking-wider",children:K.initials}),c.jsxs("td",{className:"py-2 px-1 text-right font-mono text-primary",children:[K.percentage,"%"]}),c.jsx("td",{className:"py-2 px-1 text-right font-mono text-muted-foreground transition-opacity duration-300",children:ti(K.mph,Bc[Cr])})]},`${K.initials}-${K.ts}`))})]})}),tt.length>0&&c.jsx(ue,{variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive",onClick:()=>{confirm("Clear all leaderboard entries?")&&Fe([])},"data-testid":"button-clear-leaderboard",children:"Clear Leaderboard"})]})]})})})]})})]})})}),c.jsx(Xr,{open:Ee,onOpenChange:Pe,children:c.jsxs(zr,{className:"max-w-md",children:[c.jsx(br,{children:c.jsx(wr,{children:"Welcome to CueMaster: Velocity"})}),c.jsxs("div",{className:"space-y-4",children:[Me===1&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"1) Microphone Access"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["We detect two sharp sounds: ",c.jsx("span",{className:"font-semibold text-foreground",children:"tip impact"})," and"," ",c.jsx("span",{className:"font-semibold text-foreground",children:"cue-ball / rack"})," contact. Time between them plus the measured distance yields your speed. Audio is processed locally; nothing leaves your device."]}),c.jsx(ue,{variant:"outline",onClick:async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0}),e({title:"Microphone permission granted"})}catch{e({title:"Permission denied",variant:"destructive"})}},"data-testid":"button-allow-mic",children:"Allow Microphone"})]}),Me===2&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"2) Aim Setup"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag the ",c.jsx("span",{className:"font-semibold text-foreground",children:"white"})," cue ball and"," ",c.jsx("span",{className:"font-semibold text-red-500",children:"red"})," ghost ball on the table to match your intended first contact. Enable snap-to-grid in Settings for quick alignment."]})]}),Me===3&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"3) Record & Confirm"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tap ",c.jsx("span",{className:"font-semibold text-foreground",children:"Record"}),", break, then confirm the first contact if needed. Results save to Stats. Auto-timeout after 30s if no break is detected."]})]}),Me===4&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"4) Shark Mode"}),c.jsx("p",{className:"text-sm text-primary italic",children:"Can you out pace a Great White?"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Switch to the ",c.jsx("span",{className:"font-semibold text-foreground",children:"Shark"})," tab for a focused speed challenge. The speedometer gauge shows your power level from 0-100%. Push your limits and see how you stack up!"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ue,{variant:"outline",size:"sm",onClick:()=>ot(K=>Math.max(1,K-1)),disabled:Me===1,children:"Back"}),c.jsx(ue,{variant:"outline",size:"sm",onClick:()=>ot(K=>Math.min(4,K+1)),disabled:Me===4,children:"Next"})]}),c.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(K=>c.jsx("div",{className:`w-2 h-2 rounded-full ${K===Me?"bg-primary":"bg-muted"}`},K))}),c.jsx(ue,{size:"sm",onClick:()=>Pe(!1),children:Me===4?"Finish":"Skip"})]})]})}),c.jsx(Xr,{open:Q,onOpenChange:ne,children:c.jsxs(zr,{className:"max-w-md",children:[c.jsx(br,{children:c.jsx(wr,{children:"Confirm First Contact"})}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If the real first contact differed, drag to match what actually happened, then confirm."}),c.jsx(Ae,{}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx(ue,{variant:"outline",onClick:()=>ne(!1),children:"Looks Right"}),c.jsx(ue,{onClick:()=>ne(!1),children:"Confirm"})]})]})}),c.jsx(Xr,{open:ae.open,onOpenChange:K=>z({...ae,open:K}),children:c.jsxs(zr,{className:"max-w-sm",children:[c.jsx(br,{children:c.jsx(wr,{children:ae.kind==="load"?"Load Preset":"Save Preset"})}),c.jsx("p",{className:"text-sm text-muted-foreground",children:ae.kind==="load"?oe[ae.index]?"Load this saved break setup?":"This slot is empty.":oe[ae.index]?"Overwrite the existing setup for this slot?":"Save your current layout to this slot?"}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx(ue,{variant:"outline",onClick:()=>z({open:!1,kind:null,index:null}),children:"Cancel"}),c.jsx(ue,{onClick:()=>{if(ae.kind==="load"){const K=oe[ae.index];K&&(C(K.cue),P(K.ghost),f(K.variant),o(K.presetIndex),m(K.snap),e({title:"Preset loaded"}))}else{const K={cue:S,ghost:E,variant:d,presetIndex:i,snap:h,savedAt:Date.now()};me(ce=>{const fe=[...ce];return fe[ae.index]=K,fe}),e({title:"Preset saved"})}z({open:!1,kind:null,index:null})},disabled:ae.kind==="load"&&!oe[ae.index],children:ae.kind==="load"?"Load":oe[ae.index]?"Overwrite":"Save"})]})]})}),c.jsx(Xr,{open:we,onOpenChange:Ne,children:c.jsxs(zr,{className:"max-w-md",children:[c.jsx(br,{children:c.jsx(wr,{children:"Settings"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Jt,{children:"Snap to Grid"}),c.jsx(Ai,{checked:h,onCheckedChange:m,"data-testid":"switch-snap"})]}),c.jsxs("div",{children:[c.jsx(Jt,{className:"mb-2 block",children:"Table Size"}),c.jsx("div",{className:"space-y-1",children:RI.map((K,ce)=>c.jsxs("button",{onClick:()=>o(ce),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${ce===i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`button-table-${ce}`,children:[c.jsx("span",{className:"font-medium",children:K}),c.jsxs("span",{className:"text-xs ml-2 opacity-70",children:[Qg[K].W,"",Qg[K].L," in"]})]},K))})]}),c.jsx(ue,{variant:"outline",className:"w-full",onClick:()=>Pe(!0),children:"Open Tutorial"}),c.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[c.jsxs("div",{children:[c.jsx(Jt,{children:"Debug Mode"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Show audio analysis data"})]}),c.jsx(Ai,{checked:vn,onCheckedChange:qt,"data-testid":"switch-debug"})]})]})]})}),c.jsx(Xr,{open:yn,onOpenChange:Wn,children:c.jsxs(zr,{className:"max-w-sm",children:[c.jsxs(br,{children:[c.jsx(wr,{children:"Enter Your Initials"}),c.jsx(Ao,{children:"Add your break to the leaderboard with your 3-letter initials."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(Jt,{htmlFor:"initials",children:"Initials (3 letters)"}),c.jsx(cr,{id:"initials",value:kt,onChange:K=>yt(K.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3)),placeholder:"ABC",maxLength:3,className:"text-center text-2xl font-bold tracking-[0.5em] uppercase",autoComplete:"off","data-testid":"input-initials"})]}),W&&c.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"}),c.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.min(100,Math.round(W.mph/25*100)),"%"]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[W.mph.toFixed(2)," mph"]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ue,{variant:"outline",onClick:()=>Wn(!1),children:"Cancel"}),c.jsxs(ue,{onClick:()=>W&&oo(kt,W.mph),disabled:kt.length!==3,"data-testid":"button-submit-initials",children:[c.jsx($a,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]})]})]})]})})]})}var sie=Array.isArray,fi=sie,aie=typeof Em=="object"&&Em&&Em.Object===Object&&Em,FV=aie,lie=FV,cie=typeof self=="object"&&self&&self.Object===Object&&self,uie=lie||cie||Function("return this")(),_s=uie,die=_s,fie=die.Symbol,im=fie,MI=im,VV=Object.prototype,hie=VV.hasOwnProperty,pie=VV.toString,bf=MI?MI.toStringTag:void 0;function mie(t){var e=hie.call(t,bf),n=t[bf];try{t[bf]=void 0;var r=!0}catch{}var i=pie.call(t);return r&&(e?t[bf]=n:delete t[bf]),i}var gie=mie,yie=Object.prototype,vie=yie.toString;function xie(t){return vie.call(t)}var bie=xie,DI=im,wie=gie,Sie=bie,_ie="[object Null]",Eie="[object Undefined]",$I=DI?DI.toStringTag:void 0;function Tie(t){return t==null?t===void 0?Eie:_ie:$I&&$I in Object(t)?wie(t):Sie(t)}var ua=Tie;function Cie(t){return t!=null&&typeof t=="object"}var da=Cie,Aie=ua,Pie=da,Nie="[object Symbol]";function jie(t){return typeof t=="symbol"||Pie(t)&&Aie(t)==Nie}var Hd=jie,Iie=fi,kie=Hd,Oie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rie=/^\w*$/;function Mie(t,e){if(Iie(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kie(t)?!0:Rie.test(t)||!Oie.test(t)||e!=null&&t in Object(e)}var DC=Mie;function Die(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bl=Die;const qd=Ht(bl);var $ie=ua,Lie=bl,Fie="[object AsyncFunction]",Vie="[object Function]",Bie="[object GeneratorFunction]",Uie="[object Proxy]";function zie(t){if(!Lie(t))return!1;var e=$ie(t);return e==Vie||e==Bie||e==Fie||e==Uie}var $C=zie;const St=Ht($C);var Wie=_s,Hie=Wie["__core-js_shared__"],qie=Hie,aw=qie,LI=function(){var t=/[^.]+$/.exec(aw&&aw.keys&&aw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Gie(t){return!!LI&&LI in t}var Kie=Gie,Yie=Function.prototype,Xie=Yie.toString;function Qie(t){if(t!=null){try{return Xie.call(t)}catch{}try{return t+""}catch{}}return""}var BV=Qie,Jie=$C,Zie=Kie,eoe=bl,toe=BV,noe=/[\\^$.*+?()[\]{}|]/g,roe=/^\[object .+?Constructor\]$/,ioe=Function.prototype,ooe=Object.prototype,soe=ioe.toString,aoe=ooe.hasOwnProperty,loe=RegExp("^"+soe.call(aoe).replace(noe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function coe(t){if(!eoe(t)||Zie(t))return!1;var e=Jie(t)?loe:roe;return e.test(toe(t))}var uoe=coe;function doe(t,e){return t==null?void 0:t[e]}var foe=doe,hoe=uoe,poe=foe;function moe(t,e){var n=poe(t,e);return hoe(n)?n:void 0}var Nc=moe,goe=Nc,yoe=goe(Object,"create"),i0=yoe,FI=i0;function voe(){this.__data__=FI?FI(null):{},this.size=0}var xoe=voe;function boe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var woe=boe,Soe=i0,_oe="__lodash_hash_undefined__",Eoe=Object.prototype,Toe=Eoe.hasOwnProperty;function Coe(t){var e=this.__data__;if(Soe){var n=e[t];return n===_oe?void 0:n}return Toe.call(e,t)?e[t]:void 0}var Aoe=Coe,Poe=i0,Noe=Object.prototype,joe=Noe.hasOwnProperty;function Ioe(t){var e=this.__data__;return Poe?e[t]!==void 0:joe.call(e,t)}var koe=Ioe,Ooe=i0,Roe="__lodash_hash_undefined__";function Moe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ooe&&e===void 0?Roe:e,this}var Doe=Moe,$oe=xoe,Loe=woe,Foe=Aoe,Voe=koe,Boe=Doe;function Gd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gd.prototype.clear=$oe;Gd.prototype.delete=Loe;Gd.prototype.get=Foe;Gd.prototype.has=Voe;Gd.prototype.set=Boe;var Uoe=Gd;function zoe(){this.__data__=[],this.size=0}var Woe=zoe;function Hoe(t,e){return t===e||t!==t&&e!==e}var LC=Hoe,qoe=LC;function Goe(t,e){for(var n=t.length;n--;)if(qoe(t[n][0],e))return n;return-1}var o0=Goe,Koe=o0,Yoe=Array.prototype,Xoe=Yoe.splice;function Qoe(t){var e=this.__data__,n=Koe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Xoe.call(e,n,1),--this.size,!0}var Joe=Qoe,Zoe=o0;function ese(t){var e=this.__data__,n=Zoe(e,t);return n<0?void 0:e[n][1]}var tse=ese,nse=o0;function rse(t){return nse(this.__data__,t)>-1}var ise=rse,ose=o0;function sse(t,e){var n=this.__data__,r=ose(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ase=sse,lse=Woe,cse=Joe,use=tse,dse=ise,fse=ase;function Kd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kd.prototype.clear=lse;Kd.prototype.delete=cse;Kd.prototype.get=use;Kd.prototype.has=dse;Kd.prototype.set=fse;var s0=Kd,hse=Nc,pse=_s,mse=hse(pse,"Map"),FC=mse,VI=Uoe,gse=s0,yse=FC;function vse(){this.size=0,this.__data__={hash:new VI,map:new(yse||gse),string:new VI}}var xse=vse;function bse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var wse=bse,Sse=wse;function _se(t,e){var n=t.__data__;return Sse(e)?n[typeof e=="string"?"string":"hash"]:n.map}var a0=_se,Ese=a0;function Tse(t){var e=Ese(this,t).delete(t);return this.size-=e?1:0,e}var Cse=Tse,Ase=a0;function Pse(t){return Ase(this,t).get(t)}var Nse=Pse,jse=a0;function Ise(t){return jse(this,t).has(t)}var kse=Ise,Ose=a0;function Rse(t,e){var n=Ose(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Mse=Rse,Dse=xse,$se=Cse,Lse=Nse,Fse=kse,Vse=Mse;function Yd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yd.prototype.clear=Dse;Yd.prototype.delete=$se;Yd.prototype.get=Lse;Yd.prototype.has=Fse;Yd.prototype.set=Vse;var VC=Yd,UV=VC,Bse="Expected a function";function BC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Bse);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(BC.Cache||UV),n}BC.Cache=UV;var zV=BC;const Use=Ht(zV);var zse=zV,Wse=500;function Hse(t){var e=zse(t,function(r){return n.size===Wse&&n.clear(),r}),n=e.cache;return e}var qse=Hse,Gse=qse,Kse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yse=/\\(\\)?/g,Xse=Gse(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Kse,function(n,r,i,o){e.push(i?o.replace(Yse,"$1"):r||n)}),e}),Qse=Xse;function Jse(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var UC=Jse,BI=im,Zse=UC,eae=fi,tae=Hd,nae=1/0,UI=BI?BI.prototype:void 0,zI=UI?UI.toString:void 0;function WV(t){if(typeof t=="string")return t;if(eae(t))return Zse(t,WV)+"";if(tae(t))return zI?zI.call(t):"";var e=t+"";return e=="0"&&1/t==-nae?"-0":e}var rae=WV,iae=rae;function oae(t){return t==null?"":iae(t)}var HV=oae,sae=fi,aae=DC,lae=Qse,cae=HV;function uae(t,e){return sae(t)?t:aae(t,e)?[t]:lae(cae(t))}var qV=uae,dae=Hd,fae=1/0;function hae(t){if(typeof t=="string"||dae(t))return t;var e=t+"";return e=="0"&&1/t==-fae?"-0":e}var l0=hae,pae=qV,mae=l0;function gae(t,e){e=pae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[mae(e[n++])];return n&&n==r?t:void 0}var zC=gae,yae=zC;function vae(t,e,n){var r=t==null?void 0:yae(t,e);return r===void 0?n:r}var GV=vae;const Yi=Ht(GV);function xae(t){return t==null}var bae=xae;const vt=Ht(bae);var wae=ua,Sae=fi,_ae=da,Eae="[object String]";function Tae(t){return typeof t=="string"||!Sae(t)&&_ae(t)&&wae(t)==Eae}var Cae=Tae;const yc=Ht(Cae);var KV={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC=Symbol.for("react.element"),HC=Symbol.for("react.portal"),c0=Symbol.for("react.fragment"),u0=Symbol.for("react.strict_mode"),d0=Symbol.for("react.profiler"),f0=Symbol.for("react.provider"),h0=Symbol.for("react.context"),Aae=Symbol.for("react.server_context"),p0=Symbol.for("react.forward_ref"),m0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),y0=Symbol.for("react.memo"),v0=Symbol.for("react.lazy"),Pae=Symbol.for("react.offscreen"),YV;YV=Symbol.for("react.module.reference");function ro(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WC:switch(t=t.type,t){case c0:case d0:case u0:case m0:case g0:return t;default:switch(t=t&&t.$$typeof,t){case Aae:case h0:case p0:case v0:case y0:case f0:return t;default:return e}}case HC:return e}}}Ft.ContextConsumer=h0;Ft.ContextProvider=f0;Ft.Element=WC;Ft.ForwardRef=p0;Ft.Fragment=c0;Ft.Lazy=v0;Ft.Memo=y0;Ft.Portal=HC;Ft.Profiler=d0;Ft.StrictMode=u0;Ft.Suspense=m0;Ft.SuspenseList=g0;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return ro(t)===h0};Ft.isContextProvider=function(t){return ro(t)===f0};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WC};Ft.isForwardRef=function(t){return ro(t)===p0};Ft.isFragment=function(t){return ro(t)===c0};Ft.isLazy=function(t){return ro(t)===v0};Ft.isMemo=function(t){return ro(t)===y0};Ft.isPortal=function(t){return ro(t)===HC};Ft.isProfiler=function(t){return ro(t)===d0};Ft.isStrictMode=function(t){return ro(t)===u0};Ft.isSuspense=function(t){return ro(t)===m0};Ft.isSuspenseList=function(t){return ro(t)===g0};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===c0||t===d0||t===u0||t===m0||t===g0||t===Pae||typeof t=="object"&&t!==null&&(t.$$typeof===v0||t.$$typeof===y0||t.$$typeof===f0||t.$$typeof===h0||t.$$typeof===p0||t.$$typeof===YV||t.getModuleId!==void 0)};Ft.typeOf=ro;KV.exports=Ft;var Nae=KV.exports,jae=ua,Iae=da,kae="[object Number]";function Oae(t){return typeof t=="number"||Iae(t)&&jae(t)==kae}var XV=Oae;const Rae=Ht(XV);var Mae=XV;function Dae(t){return Mae(t)&&t!=+t}var $ae=Dae;const om=Ht($ae);var Po=function(e){return e===0?0:e>0?1:-1},Ul=function(e){return yc(e)&&e.indexOf("%")===e.length-1},je=function(e){return Rae(e)&&!om(e)},Lae=function(e){return vt(e)},Qn=function(e){return je(e)||yc(e)},Fae=0,sm=function(e){var n=++Fae;return"".concat(e||"").concat(n)},vc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!yc(e))return r;var o;if(Ul(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return om(o)&&(o=r),i&&o>n&&(o=n),o},Xc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Vae=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},So=function(e,n){return je(e)&&je(n)?function(r){return e+r*(n-e)}:function(){return n}};function nv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Yi(r,e))===n})}var Bae=function(e,n){return je(e)&&je(n)?e-n:yc(e)&&yc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Au(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function xS(t){"@babel/helpers - typeof";return xS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xS(t)}var Uae=["viewBox","children"],zae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WI=["points","pathLength"],lw={svg:Uae,polygon:WI,polyline:WI},qC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),!qd(r))return null;var i={};return Object.keys(r).forEach(function(o){qC.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Wae=function(e,n,r){return function(i){return e(n,r,i),null}},iv=function(e,n,r){if(!qd(e)||xS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];qC.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Wae(s,n,r))}),i},Hae=["children"],qae=["children"];function HI(t,e){if(t==null)return{};var n=Gae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bS(t){"@babel/helpers - typeof";return bS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bS(t)}var qI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ws=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},GI=null,cw=null,GC=function t(e){if(e===GI&&Array.isArray(cw))return cw;var n=[];return b.Children.forEach(e,function(r){vt(r)||(Nae.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),cw=n,GI=e,n};function Xi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ws(i)}):r=[Ws(e)],GC(t).forEach(function(i){var o=Yi(i,"type.displayName")||Yi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function _i(t,e){var n=Xi(t,e);return n&&n[0]}var KI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!je(r)||r<=0||!je(i)||i<=0)},Kae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Yae=function(e){return e&&e.type&&yc(e.type)&&Kae.indexOf(e.type)>=0},Xae=function(e){return e&&bS(e)==="object"&&"clipDot"in e},Qae=function(e,n,r,i){var o,s=(o=lw==null?void 0:lw[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!St(e)&&(i&&s.includes(n)||zae.includes(n))||r&&qC.includes(n)},Pt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!qd(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Qae((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},wS=function t(e,n){if(e===n)return!0;var r=b.Children.count(e);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return YI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!YI(o,s))return!1}return!0},YI=function(e,n){if(vt(e)&&vt(n))return!0;if(!vt(e)&&!vt(n)){var r=e.props||{},i=r.children,o=HI(r,Hae),s=n.props||{},a=s.children,l=HI(s,qae);return i&&a?Au(o,l)&&wS(i,a):!i&&!a?Au(o,l):!1}return!1},XI=function(e,n){var r=[],i={};return GC(e).forEach(function(o,s){if(Yae(o))r.push(o);else if(o){var a=Ws(o.type),l=n[a]||{},u=l.handler,d=l.once;if(u&&(!d||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},Jae=function(e){var n=e&&e.type;return n&&qI[n]?qI[n]:null},Zae=function(e,n){return GC(n).indexOf(e)},ele=["children","width","height","viewBox","className","style","title","desc"];function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function tle(t,e){if(t==null)return{};var n=nle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _S(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=tle(t,ele),d=i||{width:n,height:r,x:0,y:0},f=Ct("recharts-surface",o);return H.createElement("svg",SS({},Pt(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),H.createElement("title",null,a),H.createElement("desc",null,l),e)}var rle=["children","className"];function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(this,arguments)}function ile(t,e){if(t==null)return{};var n=ole(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ole(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $n=H.forwardRef(function(t,e){var n=t.children,r=t.className,i=ile(t,rle),o=Ct("recharts-layer",r);return H.createElement("g",ES({className:o},Pt(i,!0),{ref:e}),n)}),ec=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function sle(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var ale=sle,lle=ale;function cle(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:lle(t,e,n)}var ule=cle,dle="\\ud800-\\udfff",fle="\\u0300-\\u036f",hle="\\ufe20-\\ufe2f",ple="\\u20d0-\\u20ff",mle=fle+hle+ple,gle="\\ufe0e\\ufe0f",yle="\\u200d",vle=RegExp("["+yle+dle+mle+gle+"]");function xle(t){return vle.test(t)}var QV=xle;function ble(t){return t.split("")}var wle=ble,JV="\\ud800-\\udfff",Sle="\\u0300-\\u036f",_le="\\ufe20-\\ufe2f",Ele="\\u20d0-\\u20ff",Tle=Sle+_le+Ele,Cle="\\ufe0e\\ufe0f",Ale="["+JV+"]",TS="["+Tle+"]",CS="\\ud83c[\\udffb-\\udfff]",Ple="(?:"+TS+"|"+CS+")",ZV="[^"+JV+"]",e6="(?:\\ud83c[\\udde6-\\uddff]){2}",t6="[\\ud800-\\udbff][\\udc00-\\udfff]",Nle="\\u200d",n6=Ple+"?",r6="["+Cle+"]?",jle="(?:"+Nle+"(?:"+[ZV,e6,t6].join("|")+")"+r6+n6+")*",Ile=r6+n6+jle,kle="(?:"+[ZV+TS+"?",TS,e6,t6,Ale].join("|")+")",Ole=RegExp(CS+"(?="+CS+")|"+kle+Ile,"g");function Rle(t){return t.match(Ole)||[]}var Mle=Rle,Dle=wle,$le=QV,Lle=Mle;function Fle(t){return $le(t)?Lle(t):Dle(t)}var Vle=Fle,Ble=ule,Ule=QV,zle=Vle,Wle=HV;function Hle(t){return function(e){e=Wle(e);var n=Ule(e)?zle(e):void 0,r=n?n[0]:e.charAt(0),i=n?Ble(n,1).join(""):e.slice(1);return r[t]()+i}}var qle=Hle,Gle=qle,Kle=Gle("toUpperCase"),Yle=Kle;const x0=Ht(Yle);function Qt(t){return function(){return t}}const i6=Math.cos,ov=Math.sin,Fo=Math.sqrt,sv=Math.PI,b0=2*sv,AS=Math.PI,PS=2*AS,kl=1e-6,Xle=PS-kl;function o6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Qle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return o6;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?o6:Qle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>kl)if(!(Math.abs(f*l-u*d)>kl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,y=i-a,g=l*l+u*u,v=m*m+y*y,x=Math.sqrt(g),w=Math.sqrt(h),S=o*Math.tan((AS-Math.acos((g+h-v)/(2*x*w)))/2),C=S/w,E=S/x;Math.abs(C-1)>kl&&this._append`L${e+C*d},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*m>d*y)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,d=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>kl||Math.abs(this._y1-d)>kl)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%PS+PS),h>Xle?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>kl&&this._append`A${r},${r},0,${+(h>=AS)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function KC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Jle(e)}function YC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function s6(t){this._context=t}s6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function w0(t){return new s6(t)}function a6(t){return t[0]}function l6(t){return t[1]}function c6(t,e){var n=Qt(!0),r=null,i=w0,o=null,s=KC(a);t=typeof t=="function"?t:t===void 0?a6:Qt(t),e=typeof e=="function"?e:e===void 0?l6:Qt(e);function a(l){var u,d=(l=YC(l)).length,f,h=!1,m;for(r==null&&(o=i(m=s())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(m)return o=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Qt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Qt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function ag(t,e,n){var r=null,i=Qt(!0),o=null,s=w0,a=null,l=KC(u);t=typeof t=="function"?t:t===void 0?a6:Qt(+t),e=typeof e=="function"?e:Qt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?l6:Qt(+n);function u(f){var h,m,y,g=(f=YC(f)).length,v,x=!1,w,S=new Array(g),C=new Array(g);for(o==null&&(a=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=h-1;y>=m;--y)a.point(S[y],C[y]);a.lineEnd(),a.areaEnd()}x&&(S[h]=+t(v,h,f),C[h]=+e(v,h,f),a.point(r?+r(v,h,f):S[h],n?+n(v,h,f):C[h]))}if(w)return a=null,w+""||null}function d(){return c6().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Qt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Qt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Qt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Qt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Qt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class u6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Zle(t){return new u6(t,!0)}function ece(t){return new u6(t,!1)}const XC={draw(t,e){const n=Fo(e/sv);t.moveTo(n,0),t.arc(0,0,n,0,b0)}},tce={draw(t,e){const n=Fo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},d6=Fo(1/3),nce=d6*2,rce={draw(t,e){const n=Fo(e/nce),r=n*d6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ice={draw(t,e){const n=Fo(e),r=-n/2;t.rect(r,r,n,n)}},oce=.8908130915292852,f6=ov(sv/10)/ov(7*sv/10),sce=ov(b0/10)*f6,ace=-i6(b0/10)*f6,lce={draw(t,e){const n=Fo(e*oce),r=sce*n,i=ace*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=b0*o/5,a=i6(s),l=ov(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},uw=Fo(3),cce={draw(t,e){const n=-Fo(e/(uw*3));t.moveTo(0,n*2),t.lineTo(-uw*n,-n),t.lineTo(uw*n,-n),t.closePath()}},Li=-.5,Fi=Fo(3)/2,NS=1/Fo(12),uce=(NS/2+1)*3,dce={draw(t,e){const n=Fo(e/uce),r=n/2,i=n*NS,o=r,s=n*NS+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Li*r-Fi*i,Fi*r+Li*i),t.lineTo(Li*o-Fi*s,Fi*o+Li*s),t.lineTo(Li*a-Fi*l,Fi*a+Li*l),t.lineTo(Li*r+Fi*i,Li*i-Fi*r),t.lineTo(Li*o+Fi*s,Li*s-Fi*o),t.lineTo(Li*a+Fi*l,Li*l-Fi*a),t.closePath()}};function fce(t,e){let n=null,r=KC(i);t=typeof t=="function"?t:Qt(t||XC),e=typeof e=="function"?e:Qt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Qt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Qt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function av(){}function lv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function h6(t){this._context=t}h6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hce(t){return new h6(t)}function p6(t){this._context=t}p6.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pce(t){return new p6(t)}function m6(t){this._context=t}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mce(t){return new m6(t)}function g6(t){this._context=t}g6.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gce(t){return new g6(t)}function QI(t){return t<0?-1:1}function JI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(QI(o)+QI(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function ZI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function cv(t){this._context=t}cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dw(this,this._t0,ZI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dw(this,ZI(this,n=JI(this,t,e)),n);break;default:dw(this,this._t0,n=JI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function y6(t){this._context=new v6(t)}(y6.prototype=Object.create(cv.prototype)).point=function(t,e){cv.prototype.point.call(this,e,t)};function v6(t){this._context=t}v6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function yce(t){return new cv(t)}function vce(t){return new y6(t)}function x6(t){this._context=t}x6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=e2(t),i=e2(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function e2(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function xce(t){return new x6(t)}function S0(t,e){this._context=t,this._t=e}S0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bce(t){return new S0(t,.5)}function wce(t){return new S0(t,0)}function Sce(t){return new S0(t,1)}function sd(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function jS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function _ce(t,e){return t[e]}function Ece(t){const e=[];return e.key=t,e}function Tce(){var t=Qt([]),e=jS,n=sd,r=_ce;function i(o){var s=Array.from(t.apply(this,arguments),Ece),a,l=s.length,u=-1,d;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,d=YC(e(s));a<l;++a)s[d[a]].index=a;return n(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Qt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Qt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?jS:typeof o=="function"?o:Qt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??sd,i):n},i}function Cce(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}sd(t,e)}}function Ace(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}sd(t,e)}}function Pce(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,y=0;y<a;++y){var g=t[e[y]],v=g[r][1]||0,x=g[r-1][1]||0;m+=v-x}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,sd(t,e)}}function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}var Nce=["type","size","sizeType"];function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IS.apply(this,arguments)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e,n){return e=Ice(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=kce(t,"string");return Xh(e)=="symbol"?e:e+""}function kce(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oce(t,e){if(t==null)return{};var n=Rce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var b6={symbolCircle:XC,symbolCross:tce,symbolDiamond:rce,symbolSquare:ice,symbolStar:lce,symbolTriangle:cce,symbolWye:dce},Mce=Math.PI/180,Dce=function(e){var n="symbol".concat(x0(e));return b6[n]||XC},$ce=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Mce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Lce=function(e,n){b6["symbol".concat(x0(e))]=n},QC=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Oce(e,Nce),u=n2(n2({},l),{},{type:r,size:o,sizeType:a}),d=function(){var v=Dce(r),x=fce().type(v).size($ce(o,a,r));return x()},f=u.className,h=u.cx,m=u.cy,y=Pt(u,!0);return h===+h&&m===+m&&o===+o?H.createElement("path",IS({},y,{className:Ct("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};QC.registerSymbol=Lce;function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){Qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S6(r.key),r)}}function Uce(t,e,n){return e&&Bce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zce(t,e,n){return e=uv(e),Wce(t,w6()?Reflect.construct(e,n||[],uv(t).constructor):e.apply(t,n))}function Wce(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hce(t)}function Hce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w6=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uv(t)}function qce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OS(t,e)}function OS(t,e){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OS(t,e)}function Qh(t,e,n){return e=S6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S6(t){var e=Gce(t,"string");return ad(e)=="symbol"?e:e+""}function Gce(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vi=32,JC=function(t){function e(){return Vce(this,e),zce(this,e,arguments)}return qce(e,t),Uce(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Vi/2,s=Vi/6,a=Vi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Vi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Vi,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Vi/8,"h").concat(Vi,"v").concat(Vi*3/4,"h").concat(-Vi,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var u=Fce({},r);return delete u.legendIcon,H.cloneElement(r.legendIcon,u)}return H.createElement(QC,{fill:l,cx:o,cy:o,size:Vi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Vi,height:Vi},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var g=m.formatter||l,v=Ct(Qh(Qh({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=St(m.value)?null:m.value;ec(!St(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return H.createElement("li",kS({className:v,style:f,key:"legend-item-".concat(y)},iv(r.props,m,y)),H.createElement(_S,{width:s,height:s,viewBox:d,style:h},r.renderIcon(m)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(x,m,y):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(b.PureComponent);Qh(JC,"displayName","Legend");Qh(JC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Kce=s0;function Yce(){this.__data__=new Kce,this.size=0}var Xce=Yce;function Qce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Jce=Qce;function Zce(t){return this.__data__.get(t)}var eue=Zce;function tue(t){return this.__data__.has(t)}var nue=tue,rue=s0,iue=FC,oue=VC,sue=200;function aue(t,e){var n=this.__data__;if(n instanceof rue){var r=n.__data__;if(!iue||r.length<sue-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new oue(r)}return n.set(t,e),this.size=n.size,this}var lue=aue,cue=s0,uue=Xce,due=Jce,fue=eue,hue=nue,pue=lue;function Xd(t){var e=this.__data__=new cue(t);this.size=e.size}Xd.prototype.clear=uue;Xd.prototype.delete=due;Xd.prototype.get=fue;Xd.prototype.has=hue;Xd.prototype.set=pue;var _6=Xd,mue="__lodash_hash_undefined__";function gue(t){return this.__data__.set(t,mue),this}var yue=gue;function vue(t){return this.__data__.has(t)}var xue=vue,bue=VC,wue=yue,Sue=xue;function dv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bue;++e<n;)this.add(t[e])}dv.prototype.add=dv.prototype.push=wue;dv.prototype.has=Sue;var E6=dv;function _ue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var T6=_ue;function Eue(t,e){return t.has(e)}var C6=Eue,Tue=E6,Cue=T6,Aue=C6,Pue=1,Nue=2;function jue(t,e,n,r,i,o){var s=n&Pue,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&Nue?new Tue:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var y=t[f],g=e[f];if(r)var v=s?r(g,y,f,e,t,o):r(y,g,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Cue(e,function(x,w){if(!Aue(m,w)&&(y===x||i(y,x,n,r,o)))return m.push(w)})){h=!1;break}}else if(!(y===g||i(y,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var A6=jue,Iue=_s,kue=Iue.Uint8Array,Oue=kue;function Rue(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Mue=Rue;function Due(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ZC=Due,i2=im,o2=Oue,$ue=LC,Lue=A6,Fue=Mue,Vue=ZC,Bue=1,Uue=2,zue="[object Boolean]",Wue="[object Date]",Hue="[object Error]",que="[object Map]",Gue="[object Number]",Kue="[object RegExp]",Yue="[object Set]",Xue="[object String]",Que="[object Symbol]",Jue="[object ArrayBuffer]",Zue="[object DataView]",s2=i2?i2.prototype:void 0,fw=s2?s2.valueOf:void 0;function ede(t,e,n,r,i,o,s){switch(n){case Zue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Jue:return!(t.byteLength!=e.byteLength||!o(new o2(t),new o2(e)));case zue:case Wue:case Gue:return $ue(+t,+e);case Hue:return t.name==e.name&&t.message==e.message;case Kue:case Xue:return t==e+"";case que:var a=Fue;case Yue:var l=r&Bue;if(a||(a=Vue),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Uue,s.set(t,e);var d=Lue(a(t),a(e),r,i,o,s);return s.delete(t),d;case Que:if(fw)return fw.call(t)==fw.call(e)}return!1}var tde=ede;function nde(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var P6=nde,rde=P6,ide=fi;function ode(t,e,n){var r=e(t);return ide(t)?r:rde(r,n(t))}var sde=ode;function ade(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var lde=ade;function cde(){return[]}var ude=cde,dde=lde,fde=ude,hde=Object.prototype,pde=hde.propertyIsEnumerable,a2=Object.getOwnPropertySymbols,mde=a2?function(t){return t==null?[]:(t=Object(t),dde(a2(t),function(e){return pde.call(t,e)}))}:fde,gde=mde;function yde(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var vde=yde,xde=ua,bde=da,wde="[object Arguments]";function Sde(t){return bde(t)&&xde(t)==wde}var _de=Sde,l2=_de,Ede=da,N6=Object.prototype,Tde=N6.hasOwnProperty,Cde=N6.propertyIsEnumerable,Ade=l2(function(){return arguments}())?l2:function(t){return Ede(t)&&Tde.call(t,"callee")&&!Cde.call(t,"callee")},eA=Ade,fv={exports:{}};function Pde(){return!1}var Nde=Pde;fv.exports;(function(t,e){var n=_s,r=Nde,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(fv,fv.exports);var j6=fv.exports,jde=9007199254740991,Ide=/^(?:0|[1-9]\d*)$/;function kde(t,e){var n=typeof t;return e=e??jde,!!e&&(n=="number"||n!="symbol"&&Ide.test(t))&&t>-1&&t%1==0&&t<e}var tA=kde,Ode=9007199254740991;function Rde(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ode}var nA=Rde,Mde=ua,Dde=nA,$de=da,Lde="[object Arguments]",Fde="[object Array]",Vde="[object Boolean]",Bde="[object Date]",Ude="[object Error]",zde="[object Function]",Wde="[object Map]",Hde="[object Number]",qde="[object Object]",Gde="[object RegExp]",Kde="[object Set]",Yde="[object String]",Xde="[object WeakMap]",Qde="[object ArrayBuffer]",Jde="[object DataView]",Zde="[object Float32Array]",efe="[object Float64Array]",tfe="[object Int8Array]",nfe="[object Int16Array]",rfe="[object Int32Array]",ife="[object Uint8Array]",ofe="[object Uint8ClampedArray]",sfe="[object Uint16Array]",afe="[object Uint32Array]",cn={};cn[Zde]=cn[efe]=cn[tfe]=cn[nfe]=cn[rfe]=cn[ife]=cn[ofe]=cn[sfe]=cn[afe]=!0;cn[Lde]=cn[Fde]=cn[Qde]=cn[Vde]=cn[Jde]=cn[Bde]=cn[Ude]=cn[zde]=cn[Wde]=cn[Hde]=cn[qde]=cn[Gde]=cn[Kde]=cn[Yde]=cn[Xde]=!1;function lfe(t){return $de(t)&&Dde(t.length)&&!!cn[Mde(t)]}var cfe=lfe;function ufe(t){return function(e){return t(e)}}var I6=ufe,hv={exports:{}};hv.exports;(function(t,e){var n=FV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(hv,hv.exports);var dfe=hv.exports,ffe=cfe,hfe=I6,c2=dfe,u2=c2&&c2.isTypedArray,pfe=u2?hfe(u2):ffe,k6=pfe,mfe=vde,gfe=eA,yfe=fi,vfe=j6,xfe=tA,bfe=k6,wfe=Object.prototype,Sfe=wfe.hasOwnProperty;function _fe(t,e){var n=yfe(t),r=!n&&gfe(t),i=!n&&!r&&vfe(t),o=!n&&!r&&!i&&bfe(t),s=n||r||i||o,a=s?mfe(t.length,String):[],l=a.length;for(var u in t)(e||Sfe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xfe(u,l)))&&a.push(u);return a}var Efe=_fe,Tfe=Object.prototype;function Cfe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Tfe;return t===n}var Afe=Cfe;function Pfe(t,e){return function(n){return t(e(n))}}var O6=Pfe,Nfe=O6,jfe=Nfe(Object.keys,Object),Ife=jfe,kfe=Afe,Ofe=Ife,Rfe=Object.prototype,Mfe=Rfe.hasOwnProperty;function Dfe(t){if(!kfe(t))return Ofe(t);var e=[];for(var n in Object(t))Mfe.call(t,n)&&n!="constructor"&&e.push(n);return e}var $fe=Dfe,Lfe=$C,Ffe=nA;function Vfe(t){return t!=null&&Ffe(t.length)&&!Lfe(t)}var _0=Vfe,Bfe=Efe,Ufe=$fe,zfe=_0;function Wfe(t){return zfe(t)?Bfe(t):Ufe(t)}var rA=Wfe,Hfe=sde,qfe=gde,Gfe=rA;function Kfe(t){return Hfe(t,Gfe,qfe)}var Yfe=Kfe,d2=Yfe,Xfe=1,Qfe=Object.prototype,Jfe=Qfe.hasOwnProperty;function Zfe(t,e,n,r,i,o){var s=n&Xfe,a=d2(t),l=a.length,u=d2(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:Jfe.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=s;++f<l;){h=a[f];var x=t[h],w=e[h];if(r)var S=s?r(w,x,h,e,t,o):r(x,w,h,t,e,o);if(!(S===void 0?x===w||i(x,w,n,r,o):S)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var ehe=Zfe,the=Nc,nhe=_s,rhe=the(nhe,"DataView"),ihe=rhe,ohe=Nc,she=_s,ahe=ohe(she,"Promise"),lhe=ahe,che=Nc,uhe=_s,dhe=che(uhe,"Set"),R6=dhe,fhe=Nc,hhe=_s,phe=fhe(hhe,"WeakMap"),mhe=phe,RS=ihe,MS=FC,DS=lhe,$S=R6,LS=mhe,M6=ua,Qd=BV,f2="[object Map]",ghe="[object Object]",h2="[object Promise]",p2="[object Set]",m2="[object WeakMap]",g2="[object DataView]",yhe=Qd(RS),vhe=Qd(MS),xhe=Qd(DS),bhe=Qd($S),whe=Qd(LS),Ol=M6;(RS&&Ol(new RS(new ArrayBuffer(1)))!=g2||MS&&Ol(new MS)!=f2||DS&&Ol(DS.resolve())!=h2||$S&&Ol(new $S)!=p2||LS&&Ol(new LS)!=m2)&&(Ol=function(t){var e=M6(t),n=e==ghe?t.constructor:void 0,r=n?Qd(n):"";if(r)switch(r){case yhe:return g2;case vhe:return f2;case xhe:return h2;case bhe:return p2;case whe:return m2}return e});var She=Ol,hw=_6,_he=A6,Ehe=tde,The=ehe,y2=She,v2=fi,x2=j6,Che=k6,Ahe=1,b2="[object Arguments]",w2="[object Array]",lg="[object Object]",Phe=Object.prototype,S2=Phe.hasOwnProperty;function Nhe(t,e,n,r,i,o){var s=v2(t),a=v2(e),l=s?w2:y2(t),u=a?w2:y2(e);l=l==b2?lg:l,u=u==b2?lg:u;var d=l==lg,f=u==lg,h=l==u;if(h&&x2(t)){if(!x2(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new hw),s||Che(t)?_he(t,e,n,r,i,o):Ehe(t,e,l,n,r,i,o);if(!(n&Ahe)){var m=d&&S2.call(t,"__wrapped__"),y=f&&S2.call(e,"__wrapped__");if(m||y){var g=m?t.value():t,v=y?e.value():e;return o||(o=new hw),i(g,v,n,r,o)}}return h?(o||(o=new hw),The(t,e,n,r,i,o)):!1}var jhe=Nhe,Ihe=jhe,_2=da;function D6(t,e,n,r,i){return t===e?!0:t==null||e==null||!_2(t)&&!_2(e)?t!==t&&e!==e:Ihe(t,e,n,r,D6,i)}var iA=D6,khe=_6,Ohe=iA,Rhe=1,Mhe=2;function Dhe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],d=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new khe;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?Ohe(d,u,Rhe|Mhe,r,f):h))return!1}}return!0}var $he=Dhe,Lhe=bl;function Fhe(t){return t===t&&!Lhe(t)}var $6=Fhe,Vhe=$6,Bhe=rA;function Uhe(t){for(var e=Bhe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Vhe(i)]}return e}var zhe=Uhe;function Whe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var L6=Whe,Hhe=$he,qhe=zhe,Ghe=L6;function Khe(t){var e=qhe(t);return e.length==1&&e[0][2]?Ghe(e[0][0],e[0][1]):function(n){return n===t||Hhe(n,t,e)}}var Yhe=Khe;function Xhe(t,e){return t!=null&&e in Object(t)}var Qhe=Xhe,Jhe=qV,Zhe=eA,epe=fi,tpe=tA,npe=nA,rpe=l0;function ipe(t,e,n){e=Jhe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=rpe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&npe(i)&&tpe(s,i)&&(epe(t)||Zhe(t)))}var ope=ipe,spe=Qhe,ape=ope;function lpe(t,e){return t!=null&&ape(t,e,spe)}var cpe=lpe,upe=iA,dpe=GV,fpe=cpe,hpe=DC,ppe=$6,mpe=L6,gpe=l0,ype=1,vpe=2;function xpe(t,e){return hpe(t)&&ppe(e)?mpe(gpe(t),e):function(n){var r=dpe(n,t);return r===void 0&&r===e?fpe(n,t):upe(e,r,ype|vpe)}}var bpe=xpe;function wpe(t){return t}var Jd=wpe;function Spe(t){return function(e){return e==null?void 0:e[t]}}var _pe=Spe,Epe=zC;function Tpe(t){return function(e){return Epe(e,t)}}var Cpe=Tpe,Ape=_pe,Ppe=Cpe,Npe=DC,jpe=l0;function Ipe(t){return Npe(t)?Ape(jpe(t)):Ppe(t)}var kpe=Ipe,Ope=Yhe,Rpe=bpe,Mpe=Jd,Dpe=fi,$pe=kpe;function Lpe(t){return typeof t=="function"?t:t==null?Mpe:typeof t=="object"?Dpe(t)?Rpe(t[0],t[1]):Ope(t):$pe(t)}var Zd=Lpe;function Fpe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Vpe=Fpe;function Bpe(t){return t!==t}var Upe=Bpe;function zpe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Wpe=zpe,Hpe=Vpe,qpe=Upe,Gpe=Wpe;function Kpe(t,e,n){return e===e?Gpe(t,e,n):Hpe(t,qpe,n)}var Ype=Kpe,Xpe=Ype;function Qpe(t,e){var n=t==null?0:t.length;return!!n&&Xpe(t,e,0)>-1}var Jpe=Qpe;function Zpe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var eme=Zpe;function tme(){}var nme=tme,pw=R6,rme=nme,ime=ZC,ome=1/0,sme=pw&&1/ime(new pw([,-0]))[1]==ome?function(t){return new pw(t)}:rme,ame=sme,lme=E6,cme=Jpe,ume=eme,dme=C6,fme=ame,hme=ZC,pme=200;function mme(t,e,n){var r=-1,i=cme,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=ume;else if(o>=pme){var u=e?null:fme(t);if(u)return hme(u);s=!1,i=dme,l=new lme}else l=e?[]:a;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(d)}else i(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var gme=mme,yme=Zd,vme=gme;function xme(t,e){return t&&t.length?vme(t,yme(e)):[]}var bme=xme;const E2=Ht(bme);function F6(t,e,n){return e===!0?E2(t,n):St(e)?E2(t,e):t}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}var wme=["ref"];function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){E0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B6(r.key),r)}}function _me(t,e,n){return e&&C2(t.prototype,e),n&&C2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eme(t,e,n){return e=pv(e),Tme(t,V6()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function Tme(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cme(t)}function Cme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V6=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function Ame(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FS(t,e)}function FS(t,e){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FS(t,e)}function E0(t,e,n){return e=B6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B6(t){var e=Pme(t,"string");return ld(e)=="symbol"?e:e+""}function Pme(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nme(t,e){if(t==null)return{};var n=jme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ime(t){return t.value}function kme(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var n=Nme(e,wme);return H.createElement(JC,n)}var A2=1,Pu=function(t){function e(){var n;Sme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Eme(this,e,[].concat(i)),E0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Ame(e,t),_me(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>A2||Math.abs(i.height-this.lastBoundingBox.height)>A2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?js({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return js(js({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=js(js({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return H.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},kme(o,js(js({},this.props),{},{payload:F6(d,u,Ime)})))}}],[{key:"getWithHeight",value:function(r,i){var o=js(js({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&je(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(b.PureComponent);E0(Pu,"displayName","Legend");E0(Pu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var P2=im,Ome=eA,Rme=fi,N2=P2?P2.isConcatSpreadable:void 0;function Mme(t){return Rme(t)||Ome(t)||!!(N2&&t&&t[N2])}var Dme=Mme,$me=P6,Lme=Dme;function U6(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Lme),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?U6(a,e-1,n,r,i):$me(i,a):r||(i[i.length]=a)}return i}var z6=U6;function Fme(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Vme=Fme,Bme=Vme,Ume=Bme(),zme=Ume,Wme=zme,Hme=rA;function qme(t,e){return t&&Wme(t,e,Hme)}var W6=qme,Gme=_0;function Kme(t,e){return function(n,r){if(n==null)return n;if(!Gme(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Yme=Kme,Xme=W6,Qme=Yme,Jme=Qme(Xme),oA=Jme,Zme=oA,ege=_0;function tge(t,e){var n=-1,r=ege(t)?Array(t.length):[];return Zme(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var H6=tge;function nge(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var rge=nge,j2=Hd;function ige(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=j2(t),s=e!==void 0,a=e===null,l=e===e,u=j2(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var oge=ige,sge=oge;function age(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=sge(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var lge=age,mw=UC,cge=zC,uge=Zd,dge=H6,fge=rge,hge=I6,pge=lge,mge=Jd,gge=fi;function yge(t,e,n){e.length?e=mw(e,function(o){return gge(o)?function(s){return cge(s,o.length===1?o[0]:o)}:o}):e=[mge];var r=-1;e=mw(e,hge(uge));var i=dge(t,function(o,s,a){var l=mw(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return fge(i,function(o,s){return pge(o,s,n)})}var vge=yge;function xge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var bge=xge,wge=bge,I2=Math.max;function Sge(t,e,n){return e=I2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=I2(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),wge(t,this,a)}}var _ge=Sge;function Ege(t){return function(){return t}}var Tge=Ege,Cge=Nc,Age=function(){try{var t=Cge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),q6=Age,Pge=Tge,k2=q6,Nge=Jd,jge=k2?function(t,e){return k2(t,"toString",{configurable:!0,enumerable:!1,value:Pge(e),writable:!0})}:Nge,Ige=jge,kge=800,Oge=16,Rge=Date.now;function Mge(t){var e=0,n=0;return function(){var r=Rge(),i=Oge-(r-n);if(n=r,i>0){if(++e>=kge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Dge=Mge,$ge=Ige,Lge=Dge,Fge=Lge($ge),Vge=Fge,Bge=Jd,Uge=_ge,zge=Vge;function Wge(t,e){return zge(Uge(t,e,Bge),t+"")}var Hge=Wge,qge=LC,Gge=_0,Kge=tA,Yge=bl;function Xge(t,e,n){if(!Yge(n))return!1;var r=typeof e;return(r=="number"?Gge(n)&&Kge(e,n.length):r=="string"&&e in n)?qge(n[e],t):!1}var T0=Xge,Qge=z6,Jge=vge,Zge=Hge,O2=T0,eye=Zge(function(t,e){if(t==null)return[];var n=e.length;return n>1&&O2(t,e[0],e[1])?e=[]:n>2&&O2(e[0],e[1],e[2])&&(e=[e[0]]),Jge(t,Qge(e,1),[])}),tye=eye;const sA=Ht(tye);function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(this,arguments)}function nye(t,e){return sye(t)||oye(t,e)||iye(t,e)||rye()}function rye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iye(t,e){if(t){if(typeof t=="string")return R2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R2(t,e)}}function R2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function sye(t){if(Array.isArray(t))return t}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){aye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aye(t,e,n){return e=lye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lye(t){var e=cye(t,"string");return Jh(e)=="symbol"?e:e+""}function cye(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uye(t){return Array.isArray(t)&&Qn(t[0])&&Qn(t[1])?t.join(" ~ "):t}var dye=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,S=function(){if(d&&d.length){var R={padding:0,margin:0},O=(h?sA(d,h):d).map(function($,F){if($.type==="none")return null;var U=gw({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},a),W=$.formatter||f||uye,V=$.value,B=$.name,Z=V,Q=B;if(W&&Z!=null&&Q!=null){var ne=W(V,B,$,F,d);if(Array.isArray(ne)){var Ee=nye(ne,2);Z=Ee[0],Q=Ee[1]}else Z=ne}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:U},Qn(Q)?H.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Qn(Q)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},Z),H.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},C=gw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=gw({margin:0},u),P=!vt(g),_=P?g:"",T=Ct("recharts-default-tooltip",m),N=Ct("recharts-tooltip-label",y);P&&v&&d!==void 0&&d!==null&&(_=v(g,d));var k=w?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",VS({className:T,style:C},k),H.createElement("p",{className:N,style:E},H.isValidElement(_)?_:"".concat(_)),S())};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function cg(t,e,n){return e=fye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fye(t){var e=hye(t,"string");return Zh(e)=="symbol"?e:e+""}function hye(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wf="recharts-tooltip-wrapper",pye={visibility:"hidden"};function mye(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ct(wf,cg(cg(cg(cg({},"".concat(wf,"-right"),je(n)&&e&&je(e.x)&&n>=e.x),"".concat(wf,"-left"),je(n)&&e&&je(e.x)&&n<e.x),"".concat(wf,"-bottom"),je(r)&&e&&je(e.y)&&r>=e.y),"".concat(wf,"-top"),je(r)&&e&&je(e.y)&&r<e.y))}function D2(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&je(o[r]))return o[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var y=f+a,g=l[r]+u;return y>g?Math.max(d,l[r]):Math.max(f,l[r])}function gye(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function yye(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,d,f;return s.height>0&&s.width>0&&n?(d=D2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=D2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=gye({translateX:d,translateY:f,useTranslate3d:a})):u=pye,{cssProperties:u,cssClasses:mye({translateX:d,translateY:f,coordinate:n})}}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){US(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K6(r.key),r)}}function bye(t,e,n){return e&&xye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wye(t,e,n){return e=mv(e),Sye(t,G6()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function Sye(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ye(t)}function _ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G6=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function Eye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BS(t,e)}function BS(t,e){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BS(t,e)}function US(t,e,n){return e=K6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K6(t){var e=Tye(t,"string");return cd(e)=="symbol"?e:e+""}function Tye(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F2=1,Cye=function(t){function e(){var n;vye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wye(this,e,[].concat(i)),US(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),US(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Eye(e,t),bye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>F2||Math.abs(r.height-this.state.lastBoundingBox.height)>F2)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,S=yye({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),C=S.cssClasses,E=S.cssProperties,P=L2(L2({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return H.createElement("div",{tabIndex:-1,className:C,style:P,ref:function(T){r.wrapperNode=T}},u)}}])}(b.PureComponent),Aye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Hs={isSsr:Aye(),get:function(e){return Hs[e]},set:function(e,n){if(typeof e=="string")Hs[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Hs[i]=e[i]})}}};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){aA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X6(r.key),r)}}function jye(t,e,n){return e&&Nye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iye(t,e,n){return e=gv(e),kye(t,Y6()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function kye(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oye(t)}function Oye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y6=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function Rye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zS(t,e)}function aA(t,e,n){return e=X6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X6(t){var e=Mye(t,"string");return ud(e)=="symbol"?e:e+""}function Mye(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dye(t){return t.dataKey}function $ye(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(dye,e)}var Ko=function(t){function e(){return Pye(this,e),Iye(this,e,arguments)}return Rye(e,t),jye(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,C=i.wrapperStyle,E=y??[];f&&E.length&&(E=F6(y.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),g,Dye));var P=E.length>0;return H.createElement(Cye,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:P,offset:m,position:v,reverseDirection:x,useTranslate3d:w,viewBox:S,wrapperStyle:C},$ye(u,B2(B2({},this.props),{},{payload:E})))}}])}(b.PureComponent);aA(Ko,"displayName","Tooltip");aA(Ko,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Hs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lye=_s,Fye=function(){return Lye.Date.now()},Vye=Fye,Bye=/\s/;function Uye(t){for(var e=t.length;e--&&Bye.test(t.charAt(e)););return e}var zye=Uye,Wye=zye,Hye=/^\s+/;function qye(t){return t&&t.slice(0,Wye(t)+1).replace(Hye,"")}var Gye=qye,Kye=Gye,U2=bl,Yye=Hd,z2=NaN,Xye=/^[-+]0x[0-9a-f]+$/i,Qye=/^0b[01]+$/i,Jye=/^0o[0-7]+$/i,Zye=parseInt;function eve(t){if(typeof t=="number")return t;if(Yye(t))return z2;if(U2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=U2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Kye(t);var n=Qye.test(t);return n||Jye.test(t)?Zye(t.slice(2),n?2:8):Xye.test(t)?z2:+t}var Q6=eve,tve=bl,yw=Vye,W2=Q6,nve="Expected a function",rve=Math.max,ive=Math.min;function ove(t,e,n){var r,i,o,s,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(nve);e=W2(e)||0,tve(n)&&(d=!!n.leading,f="maxWait"in n,o=f?rve(W2(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(P){var _=r,T=i;return r=i=void 0,u=P,s=t.apply(T,_),s}function y(P){return u=P,a=setTimeout(x,e),d?m(P):s}function g(P){var _=P-l,T=P-u,N=e-_;return f?ive(N,o-T):N}function v(P){var _=P-l,T=P-u;return l===void 0||_>=e||_<0||f&&T>=o}function x(){var P=yw();if(v(P))return w(P);a=setTimeout(x,g(P))}function w(P){return a=void 0,h&&r?m(P):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(yw())}function E(){var P=yw(),_=v(P);if(r=arguments,i=this,l=P,_){if(a===void 0)return y(l);if(f)return clearTimeout(a),a=setTimeout(x,e),m(l)}return a===void 0&&(a=setTimeout(x,e)),s}return E.cancel=S,E.flush=C,E}var sve=ove,ave=sve,lve=bl,cve="Expected a function";function uve(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(cve);return lve(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ave(t,e,{leading:r,maxWait:e,trailing:i})}var dve=uve;const J6=Ht(dve);function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){fve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fve(t,e,n){return e=hve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hve(t){var e=pve(t,"string");return ep(e)=="symbol"?e:e+""}function pve(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mve(t,e){return xve(t)||vve(t,e)||yve(t,e)||gve()}function gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yve(t,e){if(t){if(typeof t=="string")return q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q2(t,e)}}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function xve(t){if(Array.isArray(t))return t}var bve=b.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,x=t.className,w=t.onResize,S=t.style,C=S===void 0?{}:S,E=b.useRef(null),P=b.useRef();P.current=w,b.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=b.useState({containerWidth:i.width,containerHeight:i.height}),T=mve(_,2),N=T[0],k=T[1],j=b.useCallback(function(O,$){k(function(F){var U=Math.round(O),W=Math.round($);return F.containerWidth===U&&F.containerHeight===W?F:{containerWidth:U,containerHeight:W}})},[]);b.useEffect(function(){var O=function(B){var Z,Q=B[0].contentRect,ne=Q.width,Ee=Q.height;j(ne,Ee),(Z=P.current)===null||Z===void 0||Z.call(P,ne,Ee)};g>0&&(O=J6(O,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(O),F=E.current.getBoundingClientRect(),U=F.width,W=F.height;return j(U,W),$.observe(E.current),function(){$.disconnect()}},[j,g]);var R=b.useMemo(function(){var O=N.containerWidth,$=N.containerHeight;if(O<0||$<0)return null;ec(Ul(s)||Ul(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ec(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Ul(s)?O:s,U=Ul(l)?$:l;n&&n>0&&(F?U=F/n:U&&(F=U*n),h&&U>h&&(U=h)),ec(F>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,U,s,l,d,f,n);var W=!Array.isArray(m)&&Ws(m.type).endsWith("Chart");return H.Children.map(m,function(V){return H.isValidElement(V)?b.cloneElement(V,ug({width:F,height:U},W?{style:ug({height:"100%",width:"100%",maxHeight:U,maxWidth:F},V.props.style)}:{})):V})},[n,m,l,h,f,d,N,s]);return H.createElement("div",{id:v?"".concat(v):void 0,className:Ct("recharts-responsive-container",x),style:ug(ug({},C),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},R)}),Z6=function(e){return null};Z6.displayName="Cell";function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){wve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wve(t,e,n){return e=Sve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sve(t){var e=_ve(t,"string");return tp(e)=="symbol"?e:e+""}function _ve(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uc={widthCache:{},cacheCount:0},Eve=2e3,Tve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K2="recharts_measurement_span";function Cve(t){var e=WS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ah=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hs.isSsr)return{width:0,height:0};var r=Cve(n),i=JSON.stringify({text:e,copyStyle:r});if(Uc.widthCache[i])return Uc.widthCache[i];try{var o=document.getElementById(K2);o||(o=document.createElement("span"),o.setAttribute("id",K2),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=WS(WS({},Tve),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Uc.widthCache[i]=l,++Uc.cacheCount>Eve&&(Uc.cacheCount=0,Uc.widthCache={}),l}catch{return{width:0,height:0}}},Ave=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function yv(t,e){return Ive(t)||jve(t,e)||Nve(t,e)||Pve()}function Pve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(t,e){if(t){if(typeof t=="string")return Y2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y2(t,e)}}function Y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ive(t){if(Array.isArray(t))return t}function kve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rve(r.key),r)}}function Ove(t,e,n){return e&&X2(t.prototype,e),n&&X2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rve(t){var e=Mve(t,"string");return np(e)=="symbol"?e:e+""}function Mve(t,e){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$ve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lve=Object.keys(eB),du="NaN";function Fve(t,e){return t*eB[e]}var dg=function(){function t(e,n){kve(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Dve.test(n)&&(this.num=NaN,this.unit=""),Lve.includes(n)&&(this.num=Fve(e,n),this.unit="px")}return Ove(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$ve.exec(n))!==null&&r!==void 0?r:[],o=yv(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function tB(t){if(t.includes(du))return du;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Q2.exec(e))!==null&&n!==void 0?n:[],i=yv(r,4),o=i[1],s=i[2],a=i[3],l=dg.parse(o??""),u=dg.parse(a??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return du;e=e.replace(Q2,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=J2.exec(e))!==null&&f!==void 0?f:[],m=yv(h,4),y=m[1],g=m[2],v=m[3],x=dg.parse(y??""),w=dg.parse(v??""),S=g==="+"?x.add(w):x.subtract(w);if(S.isNaN())return du;e=e.replace(J2,S.toString())}return e}var Z2=/\(([^()]*)\)/;function Vve(t){for(var e=t;e.includes("(");){var n=Z2.exec(e),r=yv(n,2),i=r[1];e=e.replace(Z2,tB(i))}return e}function Bve(t){var e=t.replace(/\s+/g,"");return e=Vve(e),e=tB(e),e}function Uve(t){try{return Bve(t)}catch{return du}}function vw(t){var e=Uve(t.slice(5,-1));return e===du?"":e}var zve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Wve=["dx","dy","angle","className","breakAll"];function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HS.apply(this,arguments)}function ek(t,e){if(t==null)return{};var n=Hve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tk(t,e){return Yve(t)||Kve(t,e)||Gve(t,e)||qve()}function qve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gve(t,e){if(t){if(typeof t=="string")return nk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nk(t,e)}}function nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Yve(t){if(Array.isArray(t))return t}var nB=/[ \f\n\r\t\v\u2028\u2029]+/,rB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];vt(n)||(r?o=n.toString().split(""):o=n.toString().split(nB));var s=o.map(function(l){return{word:l,width:ah(l,i).width}}),a=r?0:ah("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Xve=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,d=je(s),f=a,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(U,W){var V=W.word,B=W.width,Z=U[U.length-1];if(Z&&(i==null||o||Z.width+B+r<Number(i)))Z.words.push(V),Z.width+=B+r;else{var Q={words:[V],width:B};U.push(Q)}return U},[])},m=h(n),y=function(F){return F.reduce(function(U,W){return U.width>W.width?U:W})};if(!d)return m;for(var g="",v=function(F){var U=f.slice(0,F),W=rB({breakAll:u,style:l,children:U+g}).wordsWithComputedWidth,V=h(W),B=V.length>s||y(V).width>Number(i);return[B,V]},x=0,w=f.length-1,S=0,C;x<=w&&S<=f.length-1;){var E=Math.floor((x+w)/2),P=E-1,_=v(P),T=tk(_,2),N=T[0],k=T[1],j=v(E),R=tk(j,1),O=R[0];if(!N&&!O&&(x=E+1),N&&O&&(w=E-1),!N&&O){C=k;break}S++}return C||m},rk=function(e){var n=vt(e)?[]:e.toString().split(nB);return[{words:n}]},Qve=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Hs.isSsr){var l,u,d=rB({breakAll:s,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return rk(i);return Xve({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return rk(i)},ik="#808080",vv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,x=v===void 0?ik:v,w=ek(e,zve),S=b.useMemo(function(){return Qve({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),C=w.dx,E=w.dy,P=w.angle,_=w.className,T=w.breakAll,N=ek(w,Wve);if(!Qn(r)||!Qn(o))return null;var k=r+(je(C)?C:0),j=o+(je(E)?E:0),R;switch(g){case"start":R=vw("calc(".concat(u,")"));break;case"middle":R=vw("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:R=vw("calc(".concat(S.length-1," * -").concat(a,")"));break}var O=[];if(f){var $=S[0].width,F=w.width;O.push("scale(".concat((je(F)?F/$:1)/$,")"))}return P&&O.push("rotate(".concat(P,", ").concat(k,", ").concat(j,")")),O.length&&(N.transform=O.join(" ")),H.createElement("text",HS({},Pt(N,!0),{x:k,y:j,className:Ct("recharts-text",_),textAnchor:m,fill:x.includes("url")?ik:x}),S.map(function(U,W){var V=U.words.join(T?"":" ");return H.createElement("tspan",{x:k,dy:W===0?R:a,key:"".concat(V,"-").concat(W)},V)}))};function tl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lA(t){let e,n,r;t.length!==2?(e=tl,n=(a,l)=>tl(t(a),l),r=(a,l)=>t(a)-l):(e=t===tl||t===Jve?t:Zve,n=t,r=t);function i(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(a[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(a[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(a,l,u=0,d=a.length){const f=i(a,l,u,d-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function Zve(){return 0}function iB(t){return t===null?NaN:+t}function*exe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const txe=lA(tl),am=txe.right;lA(iB).center;class ok extends Map{constructor(e,n=ixe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(sk(this,e))}has(e){return super.has(sk(this,e))}set(e,n){return super.set(nxe(this,e),n)}delete(e){return super.delete(rxe(this,e))}}function sk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ixe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oxe(t=tl){if(t===tl)return oB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function oB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const sxe=Math.sqrt(50),axe=Math.sqrt(10),lxe=Math.sqrt(2);function xv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=sxe?10:o>=axe?5:o>=lxe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?xv(t,e,n*2):[a,l,u]}function qS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?xv(e,t,n):xv(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function GS(t,e,n){return e=+e,t=+t,n=+n,xv(t,e,n)[2]}function KS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?GS(e,t,n):GS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ak(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function lk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function sB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?oB:oxe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+h)),y=Math.min(r,Math.floor(e+(l-u)*f/l+h));sB(t,e,m,y,i)}const o=t[e];let s=n,a=r;for(Sf(t,n,e),i(t[r],o)>0&&Sf(t,n,r);s<a;){for(Sf(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Sf(t,n,a):(++a,Sf(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Sf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cxe(t,e,n){if(t=Float64Array.from(exe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return lk(t);if(e>=1)return ak(t);var r,i=(r-1)*e,o=Math.floor(i),s=ak(sB(t,o).subarray(0,o+1)),a=lk(t.subarray(o+1));return s+(a-s)*(i-o)}}function uxe(t,e,n=iB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function dxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function io(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const YS=Symbol("implicit");function cA(){var t=new ok,e=[],n=[],r=YS;function i(o){let s=t.get(o);if(s===void 0){if(r!==YS)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ok;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cA(e,n).unknown(r)},io.apply(i,arguments),i}function rp(){var t=cA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,y=m?i:r,g=m?r:i;o=(g-y)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),y+=(g-y-o*(h-l))*d,s=o*(1-l),a&&(y=Math.round(y),s=Math.round(s));var v=dxe(h).map(function(x){return y+o*x});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return rp(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(d)},io.apply(f(),arguments)}function aB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aB(e())},t}function lh(){return aB(rp.apply(null,arguments).paddingInner(1))}function uA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lm(){}var ip=.7,bv=1/ip,Nu="\\s*([+-]?\\d+)\\s*",op="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fxe=/^#([0-9a-f]{3,8})$/,hxe=new RegExp(`^rgb\\(${Nu},${Nu},${Nu}\\)$`),pxe=new RegExp(`^rgb\\(${ps},${ps},${ps}\\)$`),mxe=new RegExp(`^rgba\\(${Nu},${Nu},${Nu},${op}\\)$`),gxe=new RegExp(`^rgba\\(${ps},${ps},${ps},${op}\\)$`),yxe=new RegExp(`^hsl\\(${op},${ps},${ps}\\)$`),vxe=new RegExp(`^hsla\\(${op},${ps},${ps},${op}\\)$`),ck={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uA(lm,sp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uk,formatHex:uk,formatHex8:xxe,formatHsl:bxe,formatRgb:dk,toString:dk});function uk(){return this.rgb().formatHex()}function xxe(){return this.rgb().formatHex8()}function bxe(){return cB(this).formatHsl()}function dk(){return this.rgb().formatRgb()}function sp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fk(e):n===3?new li(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hxe.exec(t))?new li(e[1],e[2],e[3],1):(e=pxe.exec(t))?new li(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mxe.exec(t))?fg(e[1],e[2],e[3],e[4]):(e=gxe.exec(t))?fg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yxe.exec(t))?mk(e[1],e[2]/100,e[3]/100,1):(e=vxe.exec(t))?mk(e[1],e[2]/100,e[3]/100,e[4]):ck.hasOwnProperty(t)?fk(ck[t]):t==="transparent"?new li(NaN,NaN,NaN,0):null}function fk(t){return new li(t>>16&255,t>>8&255,t&255,1)}function fg(t,e,n,r){return r<=0&&(t=e=n=NaN),new li(t,e,n,r)}function wxe(t){return t instanceof lm||(t=sp(t)),t?(t=t.rgb(),new li(t.r,t.g,t.b,t.opacity)):new li}function XS(t,e,n,r){return arguments.length===1?wxe(t):new li(t,e,n,r??1)}function li(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}uA(li,XS,lB(lm,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ip:Math.pow(ip,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new li(tc(this.r),tc(this.g),tc(this.b),wv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hk,formatHex:hk,formatHex8:Sxe,formatRgb:pk,toString:pk}));function hk(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}`}function Sxe(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}${zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function pk(){const t=wv(this.opacity);return`${t===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${t===1?")":`, ${t})`}`}function wv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zl(t){return t=tc(t),(t<16?"0":"")+t.toString(16)}function mk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Eo(t,e,n,r)}function cB(t){if(t instanceof Eo)return new Eo(t.h,t.s,t.l,t.opacity);if(t instanceof lm||(t=sp(t)),!t)return new Eo;if(t instanceof Eo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Eo(s,a,l,t.opacity)}function _xe(t,e,n,r){return arguments.length===1?cB(t):new Eo(t,e,n,r??1)}function Eo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}uA(Eo,_xe,lB(lm,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new Eo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ip:Math.pow(ip,t),new Eo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new li(xw(t>=240?t-240:t+120,i,r),xw(t,i,r),xw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Eo(gk(this.h),hg(this.s),hg(this.l),wv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wv(this.opacity);return`${t===1?"hsl(":"hsla("}${gk(this.h)}, ${hg(this.s)*100}%, ${hg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gk(t){return t=(t||0)%360,t<0?t+360:t}function hg(t){return Math.max(0,Math.min(1,t||0))}function xw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dA=t=>()=>t;function Exe(t,e){return function(n){return t+n*e}}function Txe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Cxe(t){return(t=+t)==1?uB:function(e,n){return n-e?Txe(e,n,t):dA(isNaN(e)?n:e)}}function uB(t,e){var n=e-t;return n?Exe(t,n):dA(isNaN(t)?e:t)}const yk=function t(e){var n=Cxe(e);function r(i,o){var s=n((i=XS(i)).r,(o=XS(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=uB(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Axe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Pxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nxe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=ef(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function jxe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ixe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ef(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var QS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bw=new RegExp(QS.source,"g");function kxe(t){return function(){return t}}function Oxe(t){return function(e){return t(e)+""}}function Rxe(t,e){var n=QS.lastIndex=bw.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=QS.exec(t))&&(i=bw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Sv(r,i)})),n=bw.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Oxe(l[0].x):kxe(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)a[(f=l[d]).i]=f.x(u);return a.join("")})}function ef(t,e){var n=typeof e,r;return e==null||n==="boolean"?dA(e):(n==="number"?Sv:n==="string"?(r=sp(e))?(e=r,yk):Rxe:e instanceof sp?yk:e instanceof Date?jxe:Pxe(e)?Axe:Array.isArray(e)?Nxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ixe:Sv)(t,e)}function fA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Mxe(t,e){e===void 0&&(e=t,t=ef);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Dxe(t){return function(){return t}}function _v(t){return+t}var vk=[0,1];function Qr(t){return t}function JS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Dxe(isNaN(e)?NaN:.5)}function $xe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Lxe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=JS(i,r),o=n(s,o)):(r=JS(r,i),o=n(o,s)),function(a){return o(r(a))}}function Fxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=JS(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=am(t,a,1,r)-1;return o[l](i[l](a))}}function cm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function C0(){var t=vk,e=vk,n=ef,r,i,o,s=Qr,a,l,u;function d(){var h=Math.min(t.length,e.length);return s!==Qr&&(s=$xe(t[0],t[h-1])),a=h>2?Fxe:Lxe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Sv)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,_v),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=fA,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Qr,d()):s!==Qr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function hA(){return C0()(Qr,Qr)}function Vxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ev(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function dd(t){return t=Ev(Math.abs(t)),t?t[1]:NaN}function Bxe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Uxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ap(t){if(!(e=zxe.exec(t)))throw new Error("invalid format: "+t);var e;return new pA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ap.prototype=pA.prototype;function pA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var dB;function Hxe(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(dB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ev(t,Math.max(0,e+o-1))[0]}function xk(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const bk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Vxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xk(t*100,e),r:xk,s:Hxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wk(t){return t}var Sk=Array.prototype.map,_k=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qxe(t){var e=t.grouping===void 0||t.thousands===void 0?wk:Bxe(Sk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?wk:Uxe(Sk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=ap(f);var h=f.fill,m=f.align,y=f.sign,g=f.symbol,v=f.zero,x=f.width,w=f.comma,S=f.precision,C=f.trim,E=f.type;E==="n"?(w=!0,E="g"):bk[E]||(S===void 0&&(S=12),C=!0,E="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var P=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=g==="$"?r:/[%p]/.test(E)?s:"",T=bk[E],N=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(j){var R=P,O=_,$,F,U;if(E==="c")O=T(j)+O,j="";else{j=+j;var W=j<0||1/j<0;if(j=isNaN(j)?l:T(Math.abs(j),S),C&&(j=Wxe(j)),W&&+j==0&&y!=="+"&&(W=!1),R=(W?y==="("?y:a:y==="-"||y==="("?"":y)+R,O=(E==="s"?_k[8+dB/3]:"")+O+(W&&y==="("?")":""),N){for($=-1,F=j.length;++$<F;)if(U=j.charCodeAt($),48>U||U>57){O=(U===46?i+j.slice($+1):j.slice($))+O,j=j.slice(0,$);break}}}w&&!v&&(j=e(j,1/0));var V=R.length+j.length+O.length,B=V<x?new Array(x-V+1).join(h):"";switch(w&&v&&(j=e(B+j,B.length?x-O.length:1/0),B=""),m){case"<":j=R+j+O+B;break;case"=":j=R+B+j+O;break;case"^":j=B.slice(0,V=B.length>>1)+R+j+O+B.slice(V);break;default:j=B+R+j+O;break}return o(j)}return k.toString=function(){return f+""},k}function d(f,h){var m=u((f=ap(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(dd(h)/3)))*3,g=Math.pow(10,-y),v=_k[8+y/3];return function(x){return m(g*x)+v}}return{format:u,formatPrefix:d}}var pg,mA,fB;Gxe({thousands:",",grouping:[3],currency:["$",""]});function Gxe(t){return pg=qxe(t),mA=pg.format,fB=pg.formatPrefix,pg}function Kxe(t){return Math.max(0,-dd(Math.abs(t)))}function Yxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dd(e)/3)))*3-dd(Math.abs(t)))}function Xxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dd(e)-dd(t))+1}function hB(t,e,n,r){var i=KS(t,e,n),o;switch(r=ap(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Yxe(i,s))&&(r.precision=o),fB(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Xxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Kxe(i))&&(r.precision=o-(r.type==="%")*2);break}}return mA(r)}function wl(t){var e=t.domain;return t.ticks=function(n){var r=e();return qS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return hB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,d=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);d-- >0;){if(u=GS(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Tv(){var t=hA();return t.copy=function(){return cm(t,Tv())},io.apply(t,arguments),wl(t)}function pB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,_v),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pB(t).unknown(e)},t=arguments.length?Array.from(t,_v):[0,1],wl(n)}function mB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Ek(t){return Math.log(t)}function Tk(t){return Math.exp(t)}function Qxe(t){return-Math.log(-t)}function Jxe(t){return-Math.exp(-t)}function Zxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function e0e(t){return t===10?Zxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function t0e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ck(t){return(e,n)=>-t(-e,n)}function gA(t){const e=t(Ek,Tk),n=e.domain;let r=10,i,o;function s(){return i=t0e(r),o=e0e(r),n()[0]<0?(i=Ck(i),o=Ck(o),t(Qxe,Jxe)):t(Ek,Tk),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),y,g;const v=a==null?10:+a;let x=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<r;++y)if(g=h<0?y/o(-h):y*o(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/o(-h):y*o(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=qS(u,d,v))}else x=qS(h,m,Math.min(m-h,v)).map(o);return f?x.reverse():x},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ap(l)).precision==null&&(l.trim=!0),l=mA(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(mB(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function gB(){const t=gA(C0()).domain([1,10]);return t.copy=()=>cm(t,gB()).base(t.base()),io.apply(t,arguments),t}function Ak(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Pk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yA(t){var e=1,n=t(Ak(e),Pk(e));return n.constant=function(r){return arguments.length?t(Ak(e=+r),Pk(e)):e},wl(n)}function yB(){var t=yA(C0());return t.copy=function(){return cm(t,yB()).constant(t.constant())},io.apply(t,arguments)}function Nk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function n0e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function r0e(t){return t<0?-t*t:t*t}function vA(t){var e=t(Qr,Qr),n=1;function r(){return n===1?t(Qr,Qr):n===.5?t(n0e,r0e):t(Nk(n),Nk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},wl(e)}function xA(){var t=vA(C0());return t.copy=function(){return cm(t,xA()).exponent(t.exponent())},io.apply(t,arguments),t}function i0e(){return xA.apply(null,arguments).exponent(.5)}function jk(t){return Math.sign(t)*t*t}function o0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vB(){var t=hA(),e=[0,1],n=!1,r;function i(o){var s=o0e(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(jk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,_v)).map(jk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return vB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},io.apply(i,arguments),wl(i)}function xB(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=uxe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[am(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(tl),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return xB().domain(t).range(e).unknown(r)},io.apply(o,arguments)}function bB(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[am(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return bB().domain([t,e]).range(i).unknown(o)},io.apply(wl(s),arguments)}function wB(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[am(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return wB().domain(t).range(e).unknown(n)},io.apply(i,arguments)}const ww=new Date,Sw=new Date;function Zn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Zn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(ww.setTime(+o),Sw.setTime(+s),t(ww),t(Sw),Math.floor(n(ww,Sw))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Cv=Zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Cv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Cv);Cv.range;const Vs=1e3,Gi=Vs*60,Bs=Gi*60,ra=Bs*24,bA=ra*7,Ik=ra*30,_w=ra*365,Wl=Zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vs)},(t,e)=>(e-t)/Vs,t=>t.getUTCSeconds());Wl.range;const wA=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vs)},(t,e)=>{t.setTime(+t+e*Gi)},(t,e)=>(e-t)/Gi,t=>t.getMinutes());wA.range;const SA=Zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gi)},(t,e)=>(e-t)/Gi,t=>t.getUTCMinutes());SA.range;const _A=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vs-t.getMinutes()*Gi)},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getHours());_A.range;const EA=Zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getUTCHours());EA.range;const um=Zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gi)/ra,t=>t.getDate()-1);um.range;const A0=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>t.getUTCDate()-1);A0.range;const SB=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>Math.floor(t/ra));SB.range;function jc(t){return Zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Gi)/bA)}const P0=jc(0),Av=jc(1),s0e=jc(2),a0e=jc(3),fd=jc(4),l0e=jc(5),c0e=jc(6);P0.range;Av.range;s0e.range;a0e.range;fd.range;l0e.range;c0e.range;function Ic(t){return Zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bA)}const N0=Ic(0),Pv=Ic(1),u0e=Ic(2),d0e=Ic(3),hd=Ic(4),f0e=Ic(5),h0e=Ic(6);N0.range;Pv.range;u0e.range;d0e.range;hd.range;f0e.range;h0e.range;const TA=Zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());TA.range;const CA=Zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CA.range;const ia=Zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ia.range;const oa=Zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oa.range;function _B(t,e,n,r,i,o){const s=[[Wl,1,Vs],[Wl,5,5*Vs],[Wl,15,15*Vs],[Wl,30,30*Vs],[o,1,Gi],[o,5,5*Gi],[o,15,15*Gi],[o,30,30*Gi],[i,1,Bs],[i,3,3*Bs],[i,6,6*Bs],[i,12,12*Bs],[r,1,ra],[r,2,2*ra],[n,1,bA],[e,1,Ik],[e,3,3*Ik],[t,1,_w]];function a(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function l(u,d,f){const h=Math.abs(d-u)/f,m=lA(([,,v])=>v).right(s,h);if(m===s.length)return t.every(KS(u/_w,d/_w,f));if(m===0)return Cv.every(Math.max(KS(u,d,f),1));const[y,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return y.every(g)}return[a,l]}const[p0e,m0e]=_B(oa,CA,N0,SB,EA,SA),[g0e,y0e]=_B(ia,TA,P0,um,_A,wA);function Ew(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Tw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _f(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function v0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Ef(i),d=Tf(i),f=Ef(o),h=Tf(o),m=Ef(s),y=Tf(s),g=Ef(a),v=Tf(a),x=Ef(l),w=Tf(l),S={a:W,A:V,b:B,B:Z,c:null,d:$k,e:$k,f:B0e,g:Q0e,G:Z0e,H:L0e,I:F0e,j:V0e,L:EB,m:U0e,M:z0e,p:Q,q:ne,Q:Vk,s:Bk,S:W0e,u:H0e,U:q0e,V:G0e,w:K0e,W:Y0e,x:null,X:null,y:X0e,Y:J0e,Z:ebe,"%":Fk},C={a:Ee,A:Pe,b:Me,B:ot,c:null,d:Lk,e:Lk,f:ibe,g:pbe,G:gbe,H:tbe,I:nbe,j:rbe,L:CB,m:obe,M:sbe,p:we,q:Ne,Q:Vk,s:Bk,S:abe,u:lbe,U:cbe,V:ube,w:dbe,W:fbe,x:null,X:null,y:hbe,Y:mbe,Z:ybe,"%":Fk},E={a:k,A:j,b:R,B:O,c:$,d:Mk,e:Mk,f:R0e,g:Rk,G:Ok,H:Dk,I:Dk,j:j0e,L:O0e,m:N0e,M:I0e,p:N,q:P0e,Q:D0e,s:$0e,S:k0e,u:_0e,U:E0e,V:T0e,w:S0e,W:C0e,x:F,X:U,y:Rk,Y:Ok,Z:A0e,"%":M0e};S.x=P(n,S),S.X=P(r,S),S.c=P(e,S),C.x=P(n,C),C.X=P(r,C),C.c=P(e,C);function P(oe,me){return function(ae){var z=[],Se=-1,Te=0,Xe=oe.length,Qe,tt,Fe;for(ae instanceof Date||(ae=new Date(+ae));++Se<Xe;)oe.charCodeAt(Se)===37&&(z.push(oe.slice(Te,Se)),(tt=kk[Qe=oe.charAt(++Se)])!=null?Qe=oe.charAt(++Se):tt=Qe==="e"?" ":"0",(Fe=me[Qe])&&(Qe=Fe(ae,tt)),z.push(Qe),Te=Se+1);return z.push(oe.slice(Te,Se)),z.join("")}}function _(oe,me){return function(ae){var z=_f(1900,void 0,1),Se=T(z,oe,ae+="",0),Te,Xe;if(Se!=ae.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(me&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Te=Tw(_f(z.y,0,1)),Xe=Te.getUTCDay(),Te=Xe>4||Xe===0?Pv.ceil(Te):Pv(Te),Te=A0.offset(Te,(z.V-1)*7),z.y=Te.getUTCFullYear(),z.m=Te.getUTCMonth(),z.d=Te.getUTCDate()+(z.w+6)%7):(Te=Ew(_f(z.y,0,1)),Xe=Te.getDay(),Te=Xe>4||Xe===0?Av.ceil(Te):Av(Te),Te=um.offset(Te,(z.V-1)*7),z.y=Te.getFullYear(),z.m=Te.getMonth(),z.d=Te.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Xe="Z"in z?Tw(_f(z.y,0,1)).getUTCDay():Ew(_f(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Xe+5)%7:z.w+z.U*7-(Xe+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Tw(z)):Ew(z)}}function T(oe,me,ae,z){for(var Se=0,Te=me.length,Xe=ae.length,Qe,tt;Se<Te;){if(z>=Xe)return-1;if(Qe=me.charCodeAt(Se++),Qe===37){if(Qe=me.charAt(Se++),tt=E[Qe in kk?me.charAt(Se++):Qe],!tt||(z=tt(oe,ae,z))<0)return-1}else if(Qe!=ae.charCodeAt(z++))return-1}return z}function N(oe,me,ae){var z=u.exec(me.slice(ae));return z?(oe.p=d.get(z[0].toLowerCase()),ae+z[0].length):-1}function k(oe,me,ae){var z=m.exec(me.slice(ae));return z?(oe.w=y.get(z[0].toLowerCase()),ae+z[0].length):-1}function j(oe,me,ae){var z=f.exec(me.slice(ae));return z?(oe.w=h.get(z[0].toLowerCase()),ae+z[0].length):-1}function R(oe,me,ae){var z=x.exec(me.slice(ae));return z?(oe.m=w.get(z[0].toLowerCase()),ae+z[0].length):-1}function O(oe,me,ae){var z=g.exec(me.slice(ae));return z?(oe.m=v.get(z[0].toLowerCase()),ae+z[0].length):-1}function $(oe,me,ae){return T(oe,e,me,ae)}function F(oe,me,ae){return T(oe,n,me,ae)}function U(oe,me,ae){return T(oe,r,me,ae)}function W(oe){return s[oe.getDay()]}function V(oe){return o[oe.getDay()]}function B(oe){return l[oe.getMonth()]}function Z(oe){return a[oe.getMonth()]}function Q(oe){return i[+(oe.getHours()>=12)]}function ne(oe){return 1+~~(oe.getMonth()/3)}function Ee(oe){return s[oe.getUTCDay()]}function Pe(oe){return o[oe.getUTCDay()]}function Me(oe){return l[oe.getUTCMonth()]}function ot(oe){return a[oe.getUTCMonth()]}function we(oe){return i[+(oe.getUTCHours()>=12)]}function Ne(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var me=P(oe+="",S);return me.toString=function(){return oe},me},parse:function(oe){var me=_(oe+="",!1);return me.toString=function(){return oe},me},utcFormat:function(oe){var me=P(oe+="",C);return me.toString=function(){return oe},me},utcParse:function(oe){var me=_(oe+="",!0);return me.toString=function(){return oe},me}}}var kk={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,x0e=/^%/,b0e=/[\\^$*+?|[\]().{}]/g;function jt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function w0e(t){return t.replace(b0e,"\\$&")}function Ef(t){return new RegExp("^(?:"+t.map(w0e).join("|")+")","i")}function Tf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function S0e(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _0e(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function E0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function T0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function C0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ok(t,e,n){var r=hr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Rk(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function A0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function P0e(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function N0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Mk(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function j0e(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Dk(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function I0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function k0e(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function O0e(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function R0e(t,e,n){var r=hr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function M0e(t,e,n){var r=x0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function D0e(t,e,n){var r=hr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $0e(t,e,n){var r=hr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function $k(t,e){return jt(t.getDate(),e,2)}function L0e(t,e){return jt(t.getHours(),e,2)}function F0e(t,e){return jt(t.getHours()%12||12,e,2)}function V0e(t,e){return jt(1+um.count(ia(t),t),e,3)}function EB(t,e){return jt(t.getMilliseconds(),e,3)}function B0e(t,e){return EB(t,e)+"000"}function U0e(t,e){return jt(t.getMonth()+1,e,2)}function z0e(t,e){return jt(t.getMinutes(),e,2)}function W0e(t,e){return jt(t.getSeconds(),e,2)}function H0e(t){var e=t.getDay();return e===0?7:e}function q0e(t,e){return jt(P0.count(ia(t)-1,t),e,2)}function TB(t){var e=t.getDay();return e>=4||e===0?fd(t):fd.ceil(t)}function G0e(t,e){return t=TB(t),jt(fd.count(ia(t),t)+(ia(t).getDay()===4),e,2)}function K0e(t){return t.getDay()}function Y0e(t,e){return jt(Av.count(ia(t)-1,t),e,2)}function X0e(t,e){return jt(t.getFullYear()%100,e,2)}function Q0e(t,e){return t=TB(t),jt(t.getFullYear()%100,e,2)}function J0e(t,e){return jt(t.getFullYear()%1e4,e,4)}function Z0e(t,e){var n=t.getDay();return t=n>=4||n===0?fd(t):fd.ceil(t),jt(t.getFullYear()%1e4,e,4)}function ebe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jt(e/60|0,"0",2)+jt(e%60,"0",2)}function Lk(t,e){return jt(t.getUTCDate(),e,2)}function tbe(t,e){return jt(t.getUTCHours(),e,2)}function nbe(t,e){return jt(t.getUTCHours()%12||12,e,2)}function rbe(t,e){return jt(1+A0.count(oa(t),t),e,3)}function CB(t,e){return jt(t.getUTCMilliseconds(),e,3)}function ibe(t,e){return CB(t,e)+"000"}function obe(t,e){return jt(t.getUTCMonth()+1,e,2)}function sbe(t,e){return jt(t.getUTCMinutes(),e,2)}function abe(t,e){return jt(t.getUTCSeconds(),e,2)}function lbe(t){var e=t.getUTCDay();return e===0?7:e}function cbe(t,e){return jt(N0.count(oa(t)-1,t),e,2)}function AB(t){var e=t.getUTCDay();return e>=4||e===0?hd(t):hd.ceil(t)}function ube(t,e){return t=AB(t),jt(hd.count(oa(t),t)+(oa(t).getUTCDay()===4),e,2)}function dbe(t){return t.getUTCDay()}function fbe(t,e){return jt(Pv.count(oa(t)-1,t),e,2)}function hbe(t,e){return jt(t.getUTCFullYear()%100,e,2)}function pbe(t,e){return t=AB(t),jt(t.getUTCFullYear()%100,e,2)}function mbe(t,e){return jt(t.getUTCFullYear()%1e4,e,4)}function gbe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hd(t):hd.ceil(t),jt(t.getUTCFullYear()%1e4,e,4)}function ybe(){return"+0000"}function Fk(){return"%"}function Vk(t){return+t}function Bk(t){return Math.floor(+t/1e3)}var zc,PB,NB;vbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vbe(t){return zc=v0e(t),PB=zc.format,zc.parse,NB=zc.utcFormat,zc.utcParse,zc}function xbe(t){return new Date(t)}function bbe(t){return t instanceof Date?+t:+new Date(+t)}function AA(t,e,n,r,i,o,s,a,l,u){var d=hA(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),w=u("%b %d"),S=u("%B"),C=u("%Y");function E(P){return(l(P)<P?m:a(P)<P?y:s(P)<P?g:o(P)<P?v:r(P)<P?i(P)<P?x:w:n(P)<P?S:C)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,bbe)):h().map(xbe)},d.ticks=function(P){var _=h();return t(_[0],_[_.length-1],P??10)},d.tickFormat=function(P,_){return _==null?E:u(_)},d.nice=function(P){var _=h();return(!P||typeof P.range!="function")&&(P=e(_[0],_[_.length-1],P??10)),P?h(mB(_,P)):d},d.copy=function(){return cm(d,AA(t,e,n,r,i,o,s,a,l,u))},d}function wbe(){return io.apply(AA(g0e,y0e,ia,TA,P0,um,_A,wA,Wl,PB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sbe(){return io.apply(AA(p0e,m0e,oa,CA,N0,A0,EA,SA,Wl,NB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function j0(){var t=0,e=1,n,r,i,o,s=Qr,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,s=f(m,y),u):[s(0),s(1)]}}return u.range=d(ef),u.rangeRound=d(fA),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Sl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jB(){var t=wl(j0()(Qr));return t.copy=function(){return Sl(t,jB())},fa.apply(t,arguments)}function IB(){var t=gA(j0()).domain([1,10]);return t.copy=function(){return Sl(t,IB()).base(t.base())},fa.apply(t,arguments)}function kB(){var t=yA(j0());return t.copy=function(){return Sl(t,kB()).constant(t.constant())},fa.apply(t,arguments)}function PA(){var t=vA(j0());return t.copy=function(){return Sl(t,PA()).exponent(t.exponent())},fa.apply(t,arguments)}function _be(){return PA.apply(null,arguments).exponent(.5)}function OB(){var t=[],e=Qr;function n(r){if(r!=null&&!isNaN(r=+r))return e((am(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>cxe(t,o/r))},n.copy=function(){return OB(e).domain(t)},fa.apply(n,arguments)}function I0(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Qr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),s=d(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(v){var x,w,S;return arguments.length?([x,w,S]=v,u=Mxe(g,[x,w,S]),m):[u(0),u(.5),u(1)]}}return m.range=y(ef),m.rangeRound=y(fA),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m}}function RB(){var t=wl(I0()(Qr));return t.copy=function(){return Sl(t,RB())},fa.apply(t,arguments)}function MB(){var t=gA(I0()).domain([.1,1,10]);return t.copy=function(){return Sl(t,MB()).base(t.base())},fa.apply(t,arguments)}function DB(){var t=yA(I0());return t.copy=function(){return Sl(t,DB()).constant(t.constant())},fa.apply(t,arguments)}function NA(){var t=vA(I0());return t.copy=function(){return Sl(t,NA()).exponent(t.exponent())},fa.apply(t,arguments)}function Ebe(){return NA.apply(null,arguments).exponent(.5)}const Uk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rp,scaleDiverging:RB,scaleDivergingLog:MB,scaleDivergingPow:NA,scaleDivergingSqrt:Ebe,scaleDivergingSymlog:DB,scaleIdentity:pB,scaleImplicit:YS,scaleLinear:Tv,scaleLog:gB,scaleOrdinal:cA,scalePoint:lh,scalePow:xA,scaleQuantile:xB,scaleQuantize:bB,scaleRadial:vB,scaleSequential:jB,scaleSequentialLog:IB,scaleSequentialPow:PA,scaleSequentialQuantile:OB,scaleSequentialSqrt:_be,scaleSequentialSymlog:kB,scaleSqrt:i0e,scaleSymlog:yB,scaleThreshold:wB,scaleTime:wbe,scaleUtc:Sbe,tickFormat:hB},Symbol.toStringTag,{value:"Module"}));var Tbe=Hd;function Cbe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Tbe(s):n(s,a)))var a=s,l=o}return l}var $B=Cbe;function Abe(t,e){return t>e}var Pbe=Abe,Nbe=$B,jbe=Pbe,Ibe=Jd;function kbe(t){return t&&t.length?Nbe(t,Ibe,jbe):void 0}var Obe=kbe;const k0=Ht(Obe);function Rbe(t,e){return t<e}var Mbe=Rbe,Dbe=$B,$be=Mbe,Lbe=Jd;function Fbe(t){return t&&t.length?Dbe(t,Lbe,$be):void 0}var Vbe=Fbe;const O0=Ht(Vbe);var Bbe=UC,Ube=Zd,zbe=H6,Wbe=fi;function Hbe(t,e){var n=Wbe(t)?Bbe:zbe;return n(t,Ube(e))}var qbe=Hbe,Gbe=z6,Kbe=qbe;function Ybe(t,e){return Gbe(Kbe(t,e),1)}var Xbe=Ybe;const Qbe=Ht(Xbe);var Jbe=iA;function Zbe(t,e){return Jbe(t,e)}var ewe=Zbe;const R0=Ht(ewe);var tf=1e9,twe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IA,mn=!0,eo="[DecimalError] ",nc=eo+"Invalid argument: ",jA=eo+"Exponent out of range: ",nf=Math.floor,Rl=Math.pow,nwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ti,ar=1e7,un=7,LB=9007199254740991,Nv=nf(LB/un),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*un;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(t){return qs(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,n=e.constructor;return Wt(qs(e,new n(t),0,1),n.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return zn(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ti))throw Error(eo+"NaN");if(n.s<1)throw Error(eo+(n.s?"NaN":"-Infinity"));return n.eq(Ti)?new r(0):(mn=!1,e=qs(lp(n,o),lp(t,o),o),mn=!0,Wt(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BB(e,t):FB(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(eo+"NaN");return n.s?(mn=!1,e=qs(n,t,0,1).times(t),mn=!0,n.minus(e)):Wt(new r(n),i)};Le.naturalExponential=Le.exp=function(){return VB(this)};Le.naturalLogarithm=Le.ln=function(){return lp(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FB(e,t):BB(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nc+t);if(e=zn(i)+1,r=i.d.length-1,n=r*un+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Le.squareRoot=Le.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(eo+"NaN")}for(t=zn(a),mn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=is(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(qs(a,o,s+2)).times(.5),is(o.d).slice(0,s)===(e=is(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Wt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return mn=!0,Wt(r,n)};Le.times=Le.mul=function(t){var e,n,r,i,o,s,a,l,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+m[r]*h[i-r-1]+e,o[i--]=a%ar|0,e=a/ar|0;o[i]=(o[i]+e)%ar|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,mn?Wt(t,f.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(bs(t,0,tf),e===void 0?e=r.rounding:bs(e,0,8),Wt(n,t+zn(n)+1,e))};Le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xc(r,!0):(bs(t,0,tf),e===void 0?e=i.rounding:bs(e,0,8),r=Wt(new i(r),t+1,e),n=xc(r,!0,t+1)),n};Le.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?xc(i):(bs(t,0,tf),e===void 0?e=o.rounding:bs(e,0,8),r=Wt(new o(i),t+zn(i)+1,e),n=xc(r.abs(),!1,t+zn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return Wt(new e(t),zn(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Ti);if(a=new l(a),!a.s){if(t.s<1)throw Error(eo+"Infinity");return a}if(a.eq(Ti))return a;if(r=l.precision,t.eq(Ti))return Wt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=d<0?-d:d)<=LB){for(i=new l(Ti),e=Math.ceil(r/un+4),mn=!1;n%2&&(i=i.times(a),Wk(i.d,e)),n=nf(n/2),n!==0;)a=a.times(a),Wk(a.d,e);return mn=!0,t.s<0?new l(Ti).div(i):Wt(i,r)}}else if(o<0)throw Error(eo+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,mn=!1,i=t.times(lp(a,r+u)),mn=!0,i=VB(i),i.s=o,i};Le.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=zn(i),r=xc(i,n<=o.toExpNeg||n>=o.toExpPos)):(bs(t,1,tf),e===void 0?e=o.rounding:bs(e,0,8),i=Wt(new o(i),t,e),n=zn(i),r=xc(i,t<=n||n<=o.toExpNeg,t)),r};Le.toSignificantDigits=Le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(bs(t,1,tf),e===void 0?e=r.rounding:bs(e,0,8)),Wt(new r(n),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),n=t.constructor;return xc(t,e<=n.toExpNeg||e>=n.toExpPos)};function FB(t,e){var n,r,i,o,s,a,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),mn?Wt(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/un),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/ar|0,l[o]%=ar;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,mn?Wt(e,f):e}function bs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nc+t)}function is(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=un-r.length,n&&(o+=Ta(n)),o+=r;s=t[e],r=s+"",n=un-r.length,n&&(o+=Ta(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var qs=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%ar|0,s=o/ar|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*ar+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,d,f,h,m,y,g,v,x,w,S,C,E,P,_,T,N=r.constructor,k=r.s==i.s?1:-1,j=r.d,R=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(eo+"Division by zero");for(l=r.e-i.e,_=R.length,E=j.length,m=new N(k),y=m.d=[],u=0;R[u]==(j[u]||0);)++u;if(R[u]>(j[u]||0)&&--l,o==null?w=o=N.precision:s?w=o+(zn(r)-zn(i))+1:w=o,w<0)return new N(0);if(w=w/un+2|0,u=0,_==1)for(d=0,R=R[0],w++;(u<E||d)&&w--;u++)S=d*ar+(j[u]||0),y[u]=S/R|0,d=S%R|0;else{for(d=ar/(R[0]+1)|0,d>1&&(R=t(R,d),j=t(j,d),_=R.length,E=j.length),C=_,g=j.slice(0,_),v=g.length;v<_;)g[v++]=0;T=R.slice(),T.unshift(0),P=R[0],R[1]>=ar/2&&++P;do d=0,a=e(R,g,_,v),a<0?(x=g[0],_!=v&&(x=x*ar+(g[1]||0)),d=x/P|0,d>1?(d>=ar&&(d=ar-1),f=t(R,d),h=f.length,v=g.length,a=e(f,g,h,v),a==1&&(d--,n(f,_<h?T:R,h))):(d==0&&(a=d=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),a==-1&&(v=g.length,a=e(R,g,_,v),a<1&&(d++,n(g,_<v?T:R,v))),v=g.length):a===0&&(d++,g=[0]),y[u++]=d,a&&g[0]?g[v++]=j[C]||0:(g=[j[C]],v=1);while((C++<E||g[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=l,Wt(m,s?o+zn(m)+1:o)}}();function VB(t,e){var n,r,i,o,s,a,l=0,u=0,d=t.constructor,f=d.precision;if(zn(t)>16)throw Error(jA+zn(t));if(!t.s)return new d(Ti);for(e==null?(mn=!1,a=f):a=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Rl(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new d(Ti),d.precision=a;;){if(i=Wt(i.times(t),a),n=n.times(++l),s=o.plus(qs(i,n,a)),is(s.d).slice(0,a)===is(o.d).slice(0,a)){for(;u--;)o=Wt(o.times(o),a);return d.precision=f,e==null?(mn=!0,Wt(o,f)):o}o=s}}function zn(t){for(var e=t.e*un,n=t.d[0];n>=10;n/=10)e++;return e}function Cw(t,e,n){if(e>t.LN10.sd())throw mn=!0,n&&(t.precision=n),Error(eo+"LN10 precision limit exceeded");return Wt(new t(t.LN10),e)}function Ta(t){for(var e="";t--;)e+="0";return e}function lp(t,e){var n,r,i,o,s,a,l,u,d,f=1,h=10,m=t,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(eo+(m.s?"NaN":"-Infinity"));if(m.eq(Ti))return new g(0);if(e==null?(mn=!1,u=v):u=e,m.eq(10))return e==null&&(mn=!0),Cw(g,u);if(u+=h,g.precision=u,n=is(y),r=n.charAt(0),o=zn(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=is(m.d),r=n.charAt(0),f++;o=zn(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=Cw(g,u+2,v).times(o+""),m=lp(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=v,e==null?(mn=!0,Wt(m,v)):m;for(a=s=m=qs(m.minus(Ti),m.plus(Ti),u),d=Wt(m.times(m),u),i=3;;){if(s=Wt(s.times(d),u),l=a.plus(qs(s,new g(i),u)),is(l.d).slice(0,u)===is(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Cw(g,u+2,v).times(o+""))),a=qs(a,new g(f),u),g.precision=v,e==null?(mn=!0,Wt(a,v)):a;a=l,i+=2}}function zk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nf(n/un),t.d=[],r=(n+1)%un,n<0&&(r+=un),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=un;r<i;)t.d.push(+e.slice(r,r+=un));e=e.slice(r),r=un-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),mn&&(t.e>Nv||t.e<-Nv))throw Error(jA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Wt(t,e,n){var r,i,o,s,a,l,u,d,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=un,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/un),o=f.length,d>=o)return t;for(u=o=f[d],s=1;o>=10;o/=10)s++;r%=un,i=r-un+s}if(n!==void 0&&(o=Rl(10,s-i-1),a=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Rl(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=zn(t),f.length=1,e=e-o-1,f[0]=Rl(10,(un-e%un)%un),t.e=nf(-e/un)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Rl(10,un-r),f[d]=i>0?(u/Rl(10,s-i)%Rl(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==ar&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=ar)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(mn&&(t.e>Nv||t.e<-Nv))throw Error(jA+zn(t));return t}function BB(t,e){var n,r,i,o,s,a,l,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),mn?Wt(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(d=s<0,d?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(m/un),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=ar-1;--l[o],l[i]+=ar}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,mn?Wt(e,m):e):new h(0)}function xc(t,e,n){var r,i=zn(t),o=is(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ta(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ta(-i-1)+o,n&&(r=n-s)>0&&(o+=Ta(r))):i>=s?(o+=Ta(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ta(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ta(r))),t.s<0?"-"+o:o}function Wk(t,e){if(t.length>e)return t.length=e,!0}function UB(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(nc+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return zk(s,o.toString())}else if(typeof o!="string")throw Error(nc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,nwe.test(o))zk(s,o);else throw Error(nc+o)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=UB,i.config=i.set=rwe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function rwe(t){if(!t||typeof t!="object")throw Error(eo+"Object expected");var e,n,r,i=["precision",1,tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(nc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nc+n+": "+r);return this}var IA=UB(twe);Ti=new IA(1);const Bt=IA;function iwe(t){return lwe(t)||awe(t)||swe(t)||owe()}function owe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function swe(t,e){if(t){if(typeof t=="string")return ZS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZS(t,e)}}function awe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lwe(t){if(Array.isArray(t))return ZS(t)}function ZS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cwe=function(e){return e},zB={"@@functional/placeholder":!0},WB=function(e){return e===zB},Hk=function(e){return function n(){return arguments.length===0||arguments.length===1&&WB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},uwe=function t(e,n){return e===1?n:Hk(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==zB}).length;return s>=e?n.apply(void 0,i):t(e-s,Hk(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=i.map(function(f){return WB(f)?l.shift():f});return n.apply(void 0,iwe(d).concat(l))}))})},M0=function(e){return uwe(e.length,e)},e_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},dwe=M0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),fwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return cwe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},t_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},HB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function hwe(t){var e;return t===0?e=1:e=Math.floor(new Bt(t).abs().log(10).toNumber())+1,e}function pwe(t,e,n){for(var r=new Bt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var mwe=M0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),gwe=M0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ywe=M0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const D0={rangeStep:pwe,getDigitCount:hwe,interpolateNumber:mwe,uninterpolateNumber:gwe,uninterpolateTruncation:ywe};function n_(t){return bwe(t)||xwe(t)||qB(t)||vwe()}function vwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bwe(t){if(Array.isArray(t))return r_(t)}function cp(t,e){return _we(t)||Swe(t,e)||qB(t,e)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qB(t,e){if(t){if(typeof t=="string")return r_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r_(t,e)}}function r_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Swe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function _we(t){if(Array.isArray(t))return t}function GB(t){var e=cp(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function KB(t,e,n){if(t.lte(0))return new Bt(0);var r=D0.getDigitCount(t.toNumber()),i=new Bt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Bt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Bt(Math.ceil(l))}function Ewe(t,e,n){var r=1,i=new Bt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Bt(10).pow(D0.getDigitCount(t)-1),i=new Bt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Bt(Math.floor(t)))}else t===0?i=new Bt(Math.floor((e-1)/2)):n||(i=new Bt(Math.floor(t)));var s=Math.floor((e-1)/2),a=fwe(dwe(function(l){return i.add(new Bt(l-s).mul(r)).toNumber()}),e_);return a(0,e)}function YB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Bt(0),tickMin:new Bt(0),tickMax:new Bt(0)};var o=KB(new Bt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Bt(0):(s=new Bt(t).add(e).div(2),s=s.sub(new Bt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Bt(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?YB(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Bt(a).mul(o)),tickMax:s.add(new Bt(l).mul(o))})}function Twe(t){var e=cp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=GB([n,r]),l=cp(a,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(n_(e_(0,i-1).map(function(){return 1/0}))):[].concat(n_(e_(0,i-1).map(function(){return-1/0})),[d]);return n>r?t_(f):f}if(u===d)return Ewe(u,i,o);var h=YB(u,d,s,o),m=h.step,y=h.tickMin,g=h.tickMax,v=D0.rangeStep(y,g.add(new Bt(.1).mul(m)),m);return n>r?t_(v):v}function Cwe(t,e){var n=cp(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=GB([r,i]),a=cp(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=KB(new Bt(u).sub(l).div(d-1),o,0),h=[].concat(n_(D0.rangeStep(new Bt(l),new Bt(u).sub(new Bt(.99).mul(f)),f)),[u]);return r>i?t_(h):h}var Awe=HB(Twe),Pwe=HB(Cwe),Nwe="Invariant failed";function bc(t,e){throw new Error(Nwe)}var jwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function Iwe(t,e){return Mwe(t)||Rwe(t,e)||Owe(t,e)||kwe()}function kwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Owe(t,e){if(t){if(typeof t=="string")return qk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qk(t,e)}}function qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Mwe(t){if(Array.isArray(t))return t}function Dwe(t,e){if(t==null)return{};var n=$we(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $we(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JB(r.key),r)}}function Vwe(t,e,n){return e&&Fwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bwe(t,e,n){return e=Iv(e),Uwe(t,XB()?Reflect.construct(e,n||[],Iv(t).constructor):e.apply(t,n))}function Uwe(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zwe(t)}function zwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XB=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function Wwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(t,e)}function QB(t,e,n){return e=JB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JB(t){var e=Hwe(t,"string");return pd(e)=="symbol"?e:e+""}function Hwe(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dm=function(t){function e(){return Lwe(this,e),Bwe(this,e,arguments)}return Wwe(e,t),Vwe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Dwe(r,jwe),m=Pt(h,!1);this.props.direction==="x"&&d.type!=="number"&&bc();var y=l.map(function(g){var v=u(g,a),x=v.x,w=v.y,S=v.value,C=v.errorVal;if(!C)return null;var E=[],P,_;if(Array.isArray(C)){var T=Iwe(C,2);P=T[0],_=T[1]}else P=_=C;if(o==="vertical"){var N=d.scale,k=w+i,j=k+s,R=k-s,O=N(S-P),$=N(S+_);E.push({x1:$,y1:j,x2:$,y2:R}),E.push({x1:O,y1:k,x2:$,y2:k}),E.push({x1:O,y1:j,x2:O,y2:R})}else if(o==="horizontal"){var F=f.scale,U=x+i,W=U-s,V=U+s,B=F(S-P),Z=F(S+_);E.push({x1:W,y1:Z,x2:V,y2:Z}),E.push({x1:U,y1:B,x2:U,y2:Z}),E.push({x1:W,y1:B,x2:V,y2:B})}return H.createElement($n,jv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),E.map(function(Q){return H.createElement("line",jv({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return H.createElement($n,{className:"recharts-errorBars"},y)}}])}(H.Component);QB(dm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});QB(dm,"displayName","ErrorBar");function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){qwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qwe(t,e,n){return e=Gwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gwe(t){var e=Kwe(t,"string");return up(e)=="symbol"?e:e+""}function Kwe(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZB=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=_i(n,Pu);if(!s)return null;var a=Pu.defaultProps,l=a!==void 0?Al(Al({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Al(Al({},h),f.props):{},y=m.dataKey,g=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:y,type:l.iconType||v||"square",color:kA(f),value:g||y,payload:m}}),Al(Al(Al({},l),Pu.getWithHeight(s,i)),{},{payload:u,item:s})};function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function Kk(t){return Jwe(t)||Qwe(t)||Xwe(t)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xwe(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function Qwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jwe(t){if(Array.isArray(t))return o_(t)}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ju(t,e,n){return e=Zwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zwe(t){var e=e1e(t,"string");return dp(e)=="symbol"?e:e+""}function e1e(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ii(t,e,n){return vt(t)||vt(e)?n:Qn(e)?Yi(t,e,n):St(e)?e(t):n}function ch(t,e,n,r){var i=Qbe(t,function(a){return Ii(a,e)});if(n==="number"){var o=i.filter(function(a){return je(a)||parseFloat(a)});return o.length?[O0(o),k0(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!vt(a)}):i;return s.map(function(a){return Qn(a)||a instanceof Date?a:""})}var t1e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var d=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Po(f-d)!==Po(h-f)){var y=[];if(Po(h-f)===Po(l[1]-l[0])){m=h;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+l[1]-l[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>x[0]&&e<=x[1]||e>=y[0]&&e<=y[1]){s=i[u].index;break}}else{var w=Math.min(d,h),S=Math.max(d,h);if(e>(w+f)/2&&e<=(S+f)/2){s=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},kA=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},n1e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var d=o[a[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],g=y.items,v=y.cateAxisId,x=g.filter(function(_){return Ws(_.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,S=w!==void 0?In(In({},w),x[0].props):x[0].props,C=S.barSize,E=S[v];s[E]||(s[E]=[]);var P=vt(C)?n:C;s[E].push({item:x[0],stackList:x.slice(1),barSize:vt(P)?void 0:vc(P,r,0)})}}return s},r1e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=vc(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/l,y=s.reduce(function(C,E){return C+E.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(h=!0,m*=.9,y=l*m);var g=(i-y)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(C,E){var P={item:E.item,position:{offset:v.offset+v.size+u,size:h?m:E.barSize}},_=[].concat(Kk(C),[P]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:v})}),_},f)}else{var x=vc(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var w=(i-2*x-(l-1)*u)/l;w>1&&(w>>=0);var S=a===+a?Math.min(w,a):w;d=s.reduce(function(C,E,P){var _=[].concat(Kk(C),[{item:E.item,position:{offset:x+(w+u)*P+(w-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:_[_.length-1].position})}),_},f)}return d},i1e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=ZB({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&je(e[m]))return In(In({},e),{},ju({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&je(e[y]))return In(In({},e),{},ju({},y,e[y]+(h||0)))}return e},o1e=function(e,n,r){return vt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},eU=function(e,n,r,i,o){var s=n.props.children,a=Xi(s,dm).filter(function(u){return o1e(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Ii(d,r);if(vt(f))return u;var h=Array.isArray(f)?[O0(f),k0(f)]:[f,f],m=l.reduce(function(y,g){var v=Ii(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},s1e=function(e,n,r,i,o){var s=n.map(function(a){return eU(e,a,r,o,i)}).filter(function(a){return!vt(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},tU=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&eU(e,l,u,i)||ch(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)a[u[d]]||(a[u[d]]=!0,l.push(u[d]));return l},[])},nU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Hl=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Po(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!om(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Aw=new WeakMap,mg=function(e,n){if(typeof n!="function")return e;Aw.has(e)||Aw.set(e,new WeakMap);var r=Aw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},a1e=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:rp(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Tv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:lh(),realScaleType:"point"}:o==="category"?{scale:rp(),realScaleType:"band"}:{scale:Tv(),realScaleType:"linear"};if(yc(i)){var l="scale".concat(x0(i));return{scale:(Uk[l]||lh)(),realScaleType:Uk[l]?l:"point"}}return St(i)?{scale:i}:{scale:lh(),realScaleType:"point"}},Xk=1e-4,l1e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-Xk,s=Math.max(i[0],i[1])+Xk,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},c1e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},u1e=function(e,n){if(!n||n.length!==2||!je(n[0])||!je(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(o[0]=r),(!je(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},d1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=om(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},f1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=om(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},h1e={sign:d1e,expand:Cce,none:sd,silhouette:Ace,wiggle:Pce,positive:f1e},p1e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=h1e[r],s=Tce().keys(i).value(function(a,l){return+Ii(a,l,0)}).order(jS).offset(o);return s(e)},m1e=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?In(In({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return f;var x=y[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(Qn(g)){var S=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[g]=S}else w.stackGroups[sm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return In(In({},f),{},ju({},x,w))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var x=m.stackGroups[v];return In(In({},g),{},ju({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:p1e(e,x.items,o)}))},y)}return In(In({},f),{},ju({},h,m))},d)},g1e=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Awe(u,o,a);return e.domain([O0(d),k0(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=Pwe(f,o,a);return{niceTicks:h}}return null};function Qk(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!vt(i[e.dataKey])){var a=nv(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Ii(i,vt(s)?e.dataKey:s);return vt(l)?null:e.scale(l)}var Jk=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Ii(s,n.dataKey,n.domain[a]);return vt(l)?null:n.scale(l)-o/2+i},y1e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},v1e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Qn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},x1e=function(e){return e.reduce(function(n,r){return[O0(r.concat([n[0]]).filter(je)),k0(r.concat([n[1]]).filter(je))]},[1/0,-1/0])},rU=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,d){var f=x1e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Zk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s_=function(e,n,r){if(St(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(je(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Zk.test(e[0])){var o=+Zk.exec(e[0])[1];i[0]=n[0]-o}else St(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(je(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(eO.test(e[1])){var s=+eO.exec(e[1])[1];i[1]=n[1]+s}else St(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},kv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=sA(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],d=o[a-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},tO=function(e,n,r){return!e||!e.length||R0(e,Yi(r,"type.defaultProps.domain"))?n:e},iU=function(e,n){var r=e.type.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return In(In({},Pt(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:kA(e),value:Ii(n,i),type:l,payload:n,chartType:u,hide:d})};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){b1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b1e(t,e,n){return e=w1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w1e(t){var e=S1e(t,"string");return fp(e)=="symbol"?e:e+""}function S1e(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ov=Math.PI/180,_1e=function(e){return e*180/Math.PI},Sr=function(e,n,r,i){return{x:e+Math.cos(-Ov*i)*r,y:n+Math.sin(-Ov*i)*r}},E1e=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},T1e=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=E1e({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:_1e(u),angleInRadian:u}},C1e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},A1e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},iO=function(e,n){var r=e.x,i=e.y,o=T1e({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=C1e(n),f=d.startAngle,h=d.endAngle,m=a,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?rO(rO({},n),{},{radius:s,angle:A1e(m,n)}):null};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}var P1e=["offset"];function N1e(t){return O1e(t)||k1e(t)||I1e(t)||j1e()}function j1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I1e(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function k1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O1e(t){if(Array.isArray(t))return a_(t)}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R1e(t,e){if(t==null)return{};var n=M1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){D1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D1e(t,e,n){return e=$1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $1e(t){var e=L1e(t,"string");return hp(e)=="symbol"?e:e+""}function L1e(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}var F1e=function(e){var n=e.value,r=e.formatter,i=vt(e.children)?n:e.children;return St(r)?r(i):i},V1e=function(e,n){var r=Po(n-e),i=Math.min(Math.abs(n-e),360);return r*i},B1e=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,y=l.endAngle,g=l.clockWise,v=(f+h)/2,x=V1e(m,y),w=x>=0?1:-1,S,C;i==="insideStart"?(S=m+w*s,C=g):i==="insideEnd"?(S=y-w*s,C=!g):i==="end"&&(S=y+w*s,C=g),C=x<=0?C:!C;var E=Sr(u,d,v,S),P=Sr(u,d,v,S+(C?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(P.x,",").concat(P.y),T=vt(e.id)?sm("recharts-radial-line-"):e.id;return H.createElement("text",pp({},r,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",a)}),H.createElement("defs",null,H.createElement("path",{id:T,d:_})),H.createElement("textPath",{xlinkHref:"#".concat(T)},n))},U1e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=Sr(s,a,u+r,h),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=Sr(s,a,v,h),w=x.x,S=x.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},z1e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var S={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Gn(Gn({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var C={x:a+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:y};return Gn(Gn({},C),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var E={x:a-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Gn(Gn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(o==="right"){var P={x:a+u+v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return Gn(Gn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var _=r?{width:u,height:d}:{};return o==="insideLeft"?Gn({x:a+v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},_):o==="insideRight"?Gn({x:a+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},_):o==="insideTop"?Gn({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},_):o==="insideBottom"?Gn({x:a+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},_):o==="insideTopLeft"?Gn({x:a+v,y:l+h,textAnchor:w,verticalAnchor:y},_):o==="insideTopRight"?Gn({x:a+u-v,y:l+h,textAnchor:x,verticalAnchor:y},_):o==="insideBottomLeft"?Gn({x:a+v,y:l+d-h,textAnchor:w,verticalAnchor:m},_):o==="insideBottomRight"?Gn({x:a+u-v,y:l+d-h,textAnchor:x,verticalAnchor:m},_):qd(o)&&(je(o.x)||Ul(o.x))&&(je(o.y)||Ul(o.y))?Gn({x:a+vc(o.x,u),y:l+vc(o.y,d),textAnchor:"end",verticalAnchor:"end"},_):Gn({x:a+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},W1e=function(e){return"cx"in e&&je(e.cx)};function Ur(t){var e=t.offset,n=e===void 0?5:e,r=R1e(t,P1e),i=Gn({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||vt(a)&&vt(l)&&!b.isValidElement(u)&&!St(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var m;if(St(u)){if(m=b.createElement(u,i),b.isValidElement(m))return m}else m=F1e(i);var y=W1e(o),g=Pt(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return B1e(i,m,g);var v=y?U1e(i):z1e(i);return H.createElement(vv,pp({className:Ct("recharts-label",f)},g,v,{breakAll:h}),m)}Ur.displayName="Label";var oU=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,y=e.left,g=e.width,v=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(je(g)&&je(v)){if(je(f)&&je(h))return{x:f,y:h,width:g,height:v};if(je(m)&&je(y))return{x:m,y,width:g,height:v}}return je(f)&&je(h)?{x:f,y:h,width:0,height:0}:je(n)&&je(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||a||0,clockWise:x}:e.viewBox?e.viewBox:{}},H1e=function(e,n){return e?e===!0?H.createElement(Ur,{key:"label-implicit",viewBox:n}):Qn(e)?H.createElement(Ur,{key:"label-implicit",viewBox:n,value:e}):b.isValidElement(e)?e.type===Ur?b.cloneElement(e,{key:"label-implicit",viewBox:n}):H.createElement(Ur,{key:"label-implicit",content:e,viewBox:n}):St(e)?H.createElement(Ur,{key:"label-implicit",content:e,viewBox:n}):qd(e)?H.createElement(Ur,pp({viewBox:n},e,{key:"label-implicit"})):null:null},q1e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=oU(e),s=Xi(i,Ur).map(function(l,u){return b.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=H1e(e.label,n||o);return[a].concat(N1e(s))};Ur.parseViewBox=oU;Ur.renderCallByParent=q1e;function G1e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var K1e=G1e;const Y1e=Ht(K1e);function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}var X1e=["valueAccessor"],Q1e=["data","dataKey","clockWise","id","textBreakAll"];function J1e(t){return nSe(t)||tSe(t)||eSe(t)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eSe(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function tSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nSe(t){if(Array.isArray(t))return l_(t)}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){rSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rSe(t,e,n){return e=iSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iSe(t){var e=oSe(t,"string");return mp(e)=="symbol"?e:e+""}function oSe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lO(t,e){if(t==null)return{};var n=sSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aSe=function(e){return Array.isArray(e.value)?Y1e(e.value):e.value};function nl(t){var e=t.valueAccessor,n=e===void 0?aSe:e,r=lO(t,X1e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=lO(r,Q1e);return!i||!i.length?null:H.createElement($n,{className:"recharts-label-list"},i.map(function(d,f){var h=vt(o)?n(d,f):Ii(d&&d.payload,o),m=vt(a)?{}:{id:"".concat(a,"-").concat(f)};return H.createElement(Ur,Rv({},Pt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Ur.parseViewBox(vt(s)?d:aO(aO({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}nl.displayName="LabelList";function lSe(t,e){return t?t===!0?H.createElement(nl,{key:"labelList-implicit",data:e}):H.isValidElement(t)||St(t)?H.createElement(nl,{key:"labelList-implicit",data:e,content:t}):qd(t)?H.createElement(nl,Rv({data:e},t,{key:"labelList-implicit"})):null:null}function cSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Xi(r,nl).map(function(s,a){return b.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=lSe(t.label,e);return[o].concat(J1e(i))}nl.renderCallByParent=cSe;function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){uSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uSe(t,e,n){return e=dSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dSe(t){var e=fSe(t,"string");return gp(e)=="symbol"?e:e+""}function fSe(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hSe=function(e,n){var r=Po(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},gg=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(a?1:-1)+i,f=Math.asin(l/d)/Ov,h=u?o:o+s*f,m=Sr(n,r,d,h),y=Sr(n,r,i,h),g=u?o-s*f:o,v=Sr(n,r,d*Math.cos(f*Ov),g);return{center:m,circleTangency:y,lineTangency:v,theta:f}},sU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=hSe(s,a),u=s+l,d=Sr(n,r,o,s),f=Sr(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Sr(n,r,i,s),y=Sr(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},pSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Po(d-u),h=gg({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,y=h.lineTangency,g=h.theta,v=gg({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,w=v.lineTangency,S=v.theta,C=l?Math.abs(u-d):Math.abs(u-d)-g-S;if(C<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):sU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var P=gg({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=P.circleTangency,T=P.lineTangency,N=P.theta,k=gg({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=k.circleTangency,R=k.lineTangency,O=k.theta,$=l?Math.abs(u-d):Math.abs(u-d)-N-O;if($<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},mSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aU=function(e){var n=uO(uO({},mSe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<o||d===f)return null;var m=Ct("recharts-sector",h),y=s-o,g=vc(a,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=pSe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=sU({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:f}),H.createElement("path",c_({},Pt(n,!0),{className:m,d:v,role:"img"}))};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){gSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gSe(t,e,n){return e=ySe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ySe(t){var e=vSe(t,"string");return yp(e)=="symbol"?e:e+""}function vSe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hO={curveBasisClosed:pce,curveBasisOpen:mce,curveBasis:hce,curveBumpX:Zle,curveBumpY:ece,curveLinearClosed:gce,curveLinear:w0,curveMonotoneX:yce,curveMonotoneY:vce,curveNatural:xce,curveStep:bce,curveStepAfter:Sce,curveStepBefore:wce},yg=function(e){return e.x===+e.x&&e.y===+e.y},Cf=function(e){return e.x},Af=function(e){return e.y},xSe=function(e,n){if(St(e))return e;var r="curve".concat(x0(e));return(r==="curveMonotone"||r==="curveBump")&&n?hO["".concat(r).concat(n==="vertical"?"Y":"X")]:hO[r]||w0},bSe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=xSe(r,a),f=u?o.filter(function(g){return yg(g)}):o,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return yg(g)}):s,y=f.map(function(g,v){return fO(fO({},g),{},{base:m[v]})});return a==="vertical"?h=ag().y(Af).x1(Cf).x0(function(g){return g.base.x}):h=ag().x(Cf).y1(Af).y0(function(g){return g.base.y}),h.defined(yg).curve(d),h(y)}return a==="vertical"&&je(s)?h=ag().y(Af).x1(Cf).x0(s):je(s)?h=ag().x(Cf).y1(Af).y0(s):h=c6().x(Cf).y(Af),h.defined(yg).curve(d),h(f)},d_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?bSe(e):i;return b.createElement("path",u_({},Pt(e,!1),rv(e),{className:Ct("recharts-curve",n),d:s,ref:o}))},lU={exports:{}},wSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SSe=wSe,_Se=SSe;function cU(){}function uU(){}uU.resetWarningCache=cU;var ESe=function(){function t(r,i,o,s,a,l){if(l!==_Se){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:uU,resetWarningCache:cU};return n.PropTypes=n,n};lU.exports=ESe();var TSe=lU.exports;const Mt=Ht(TSe);var CSe=Object.getOwnPropertyNames,ASe=Object.getOwnPropertySymbols,PSe=Object.prototype.hasOwnProperty;function pO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function vg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function mO(t){return CSe(t).concat(ASe(t))}var NSe=Object.hasOwn||function(t,e){return PSe.call(t,e)};function kc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var jSe="__v",ISe="__o",kSe="_owner",gO=Object.getOwnPropertyDescriptor,yO=Object.keys;function OSe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function RSe(t,e){return kc(t.getTime(),e.getTime())}function MSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function DSe(t,e){return t===e}function vO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,m=a.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var $Se=kc;function LSe(t,e,n){var r=yO(t),i=r.length;if(yO(e).length!==i)return!1;for(;i-- >0;)if(!dU(t,e,n,r[i]))return!1;return!0}function Pf(t,e,n){var r=mO(t),i=r.length;if(mO(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!dU(t,e,n,o)||(s=gO(t,o),a=gO(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function FSe(t,e){return kc(t.valueOf(),e.valueOf())}function VSe(t,e){return t.source===e.source&&t.flags===e.flags}function xO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function BSe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function USe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function dU(t,e,n,r){return(r===kSe||r===ISe||r===jSe)&&(t.$$typeof||e.$$typeof)?!0:NSe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var zSe="[object Arguments]",WSe="[object Boolean]",HSe="[object Date]",qSe="[object Error]",GSe="[object Map]",KSe="[object Number]",YSe="[object Object]",XSe="[object RegExp]",QSe="[object Set]",JSe="[object String]",ZSe="[object URL]",e_e=Array.isArray,bO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wO=Object.assign,t_e=Object.prototype.toString.call.bind(Object.prototype.toString);function n_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var x=typeof y;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(y,g,v):x==="function"?i(y,g,v):!1;var w=y.constructor;if(w!==g.constructor)return!1;if(w===Object)return a(y,g,v);if(e_e(y))return e(y,g,v);if(bO!=null&&bO(y))return f(y,g,v);if(w===Date)return n(y,g,v);if(w===RegExp)return u(y,g,v);if(w===Map)return o(y,g,v);if(w===Set)return d(y,g,v);var S=t_e(y);return S===HSe?n(y,g,v):S===XSe?u(y,g,v):S===GSe?o(y,g,v):S===QSe?d(y,g,v):S===YSe?typeof y.then!="function"&&typeof g.then!="function"&&a(y,g,v):S===ZSe?h(y,g,v):S===qSe?r(y,g,v):S===zSe?a(y,g,v):S===WSe||S===KSe||S===JSe?l(y,g,v):!1}}function r_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Pf:OSe,areDatesEqual:RSe,areErrorsEqual:MSe,areFunctionsEqual:DSe,areMapsEqual:r?pO(vO,Pf):vO,areNumbersEqual:$Se,areObjectsEqual:r?Pf:LSe,arePrimitiveWrappersEqual:FSe,areRegExpsEqual:VSe,areSetsEqual:r?pO(xO,Pf):xO,areTypedArraysEqual:r?Pf:BSe,areUrlsEqual:USe};if(n&&(i=wO({},i,n(i))),e){var o=vg(i.areArraysEqual),s=vg(i.areMapsEqual),a=vg(i.areObjectsEqual),l=vg(i.areSetsEqual);i=wO({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function i_e(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function o_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,u,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var s_e=_l();_l({strict:!0});_l({circular:!0});_l({circular:!0,strict:!0});_l({createInternalComparator:function(){return kc}});_l({strict:!0,createInternalComparator:function(){return kc}});_l({circular:!0,createInternalComparator:function(){return kc}});_l({circular:!0,createInternalComparator:function(){return kc},strict:!0});function _l(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=r_e(t),l=n_e(a),u=r?r(l):i_e(l);return o_e({circular:n,comparator:l,createState:i,equals:u,strict:s})}function a_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function SO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):a_e(i)};requestAnimationFrame(r)}function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}function l_e(t){return f_e(t)||d_e(t)||u_e(t)||c_e()}function c_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u_e(t,e){if(t){if(typeof t=="string")return _O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(t,e)}}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f_e(t){if(Array.isArray(t))return t}function h_e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=l_e(s),l=a[0],u=a.slice(1);if(typeof l=="number"){SO(i.bind(null,u),l);return}i(l),SO(i.bind(null,u));return}f_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){fU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fU(t,e,n){return e=p_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_e(t){var e=m_e(t,"string");return vp(e)==="symbol"?e:String(e)}function m_e(t,e){if(vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g_e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},y_e=function(e){return e},v_e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},uh=function(e,n){return Object.keys(n).reduce(function(r,i){return TO(TO({},r),{},fU({},i,e(i,n[i])))},{})},CO=function(e,n,r){return e.map(function(i){return"".concat(v_e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function x_e(t,e){return S_e(t)||w_e(t,e)||hU(t,e)||b_e()}function b_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function S_e(t){if(Array.isArray(t))return t}function __e(t){return C_e(t)||T_e(t)||hU(t)||E_e()}function E_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hU(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function T_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C_e(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mv=1e-4,pU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},mU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},AO=function(e,n){return function(r){var i=pU(e,n);return mU(i,r)}},A_e=function(e,n){return function(r){var i=pU(e,n),o=[].concat(__e(i.map(function(s,a){return s*a}).slice(1)),[0]);return mU(o,r)}},PO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=x_e(u,4);i=d[0],o=d[1],s=d[2],a=d[3]}}}var f=AO(i,s),h=AO(o,a),m=A_e(i,s),y=function(x){return x>1?1:x<0?0:x},g=function(x){for(var w=x>1?1:x,S=w,C=0;C<8;++C){var E=f(S)-w,P=m(S);if(Math.abs(E-w)<Mv||P<Mv)return h(S);S=y(S-E/P)}return h(S)};return g.isStepper=!1,g},P_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(d,f,h){var m=-(d-f)*r,y=h*o,g=h+(m-y)*a/1e3,v=h*a/1e3+d;return Math.abs(v-f)<Mv&&Math.abs(g)<Mv?[f,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},N_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return PO(i);case"spring":return P_e();default:if(i.split("(")[0]==="cubic-bezier")return PO(i)}return typeof i=="function"?i:null};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function NO(t){return k_e(t)||I_e(t)||gU(t)||j_e()}function j_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k_e(t){if(Array.isArray(t))return m_(t)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){p_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_(t,e,n){return e=O_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O_e(t){var e=R_e(t,"string");return xp(e)==="symbol"?e:String(e)}function R_e(t,e){if(xp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M_e(t,e){return L_e(t)||$_e(t,e)||gU(t,e)||D_e()}function D_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gU(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function L_e(t){if(Array.isArray(t))return t}var Dv=function(e,n,r){return e+(n-e)*r},g_=function(e){var n=e.from,r=e.to;return n!==r},F_e=function t(e,n,r){var i=uh(function(o,s){if(g_(s)){var a=e(s.from,s.to,s.velocity),l=M_e(a,2),u=l[0],d=l[1];return gr(gr({},s),{},{from:u,velocity:d})}return s},n);return r<1?uh(function(o,s){return g_(s)?gr(gr({},s),{},{velocity:Dv(s.velocity,i[o].velocity,r),from:Dv(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const V_e=function(t,e,n,r,i){var o=g_e(t,e),s=o.reduce(function(v,x){return gr(gr({},v),{},p_({},x,[t[x],e[x]]))},{}),a=o.reduce(function(v,x){return gr(gr({},v),{},p_({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return uh(function(x,w){return w.from},a)},m=function(){return!Object.values(a).filter(g_).length},y=function(x){u||(u=x);var w=x-u,S=w/n.dt;a=F_e(n,a,S),i(gr(gr(gr({},t),e),h())),u=x,m()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var w=(x-d)/r,S=uh(function(E,P){return Dv.apply(void 0,NO(P).concat([n(w)]))},s);if(i(gr(gr(gr({},t),e),S)),w<1)l=requestAnimationFrame(f);else{var C=uh(function(E,P){return Dv.apply(void 0,NO(P).concat([n(1)]))},s);i(gr(gr(gr({},t),e),C))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}var B_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function U_e(t,e){if(t==null)return{};var n=z_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Pw(t){return G_e(t)||q_e(t)||H_e(t)||W_e()}function W_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H_e(t,e){if(t){if(typeof t=="string")return y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(t,e)}}function q_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G_e(t){if(Array.isArray(t))return y_(t)}function y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){Vf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vf(t,e,n){return e=yU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yU(r.key),r)}}function X_e(t,e,n){return e&&Y_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yU(t){var e=Q_e(t,"string");return md(e)==="symbol"?e:String(e)}function Q_e(t,e){if(md(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v_(t,e)}function v_(t,e){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v_(t,e)}function Z_e(t){var e=eEe();return function(){var r=$v(t),i;if(e){var o=$v(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return x_(this,i)}}function x_(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b_(t)}function b_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}var sa=function(t){J_e(n,t);var e=Z_e(n);function n(r,i){var o;K_e(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(b_(o)),o.changeStyle=o.changeStyle.bind(b_(o)),!a||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),x_(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},x_(o);o.state={style:l?Vf({},l,u):u}}else o.state={style:{}};return o}return X_e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(a){if(!s){var m={style:l?Vf({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(s_e(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:i.to;if(this.state&&h){var v={style:l?Vf({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(ho(ho({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=V_e(s,a,N_e(u),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([h,d,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,x){if(x===0)return g;var w=v.duration,S=v.easing,C=S===void 0?"ease":S,E=v.style,P=v.properties,_=v.onAnimationEnd,T=x>0?s[x-1]:v,N=P||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(Pw(g),[o.runJSAnimation.bind(o,{from:T.style,to:E,duration:w,easing:C}),w]);var k=CO(N,w,C),j=ho(ho(ho({},T.style),E),{},{transition:k});return[].concat(Pw(g),[j,w,_]).filter(y_e)};return this.manager.start([l].concat(Pw(s.reduce(m,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=h_e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=a?Vf({},a,l):l,v=CO(Object.keys(g),s,u);y.start([d,o,ho(ho({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=U_e(i,B_e),u=b.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!a||u===0||s<=0)return o;var f=function(m){var y=m.props,g=y.style,v=g===void 0?{}:g,x=y.className,w=b.cloneElement(m,ho(ho({},l),{},{style:ho(ho({},v),d),className:x}));return w};return u===1?f(b.Children.only(o)):H.createElement("div",null,b.Children.map(o,function(h){return f(h)}))}}]),n}(b.PureComponent);sa.displayName="Animate";sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sa.propTypes={from:Mt.oneOfType([Mt.object,Mt.string]),to:Mt.oneOfType([Mt.object,Mt.string]),attributeName:Mt.string,duration:Mt.number,begin:Mt.number,easing:Mt.oneOfType([Mt.string,Mt.func]),steps:Mt.arrayOf(Mt.shape({duration:Mt.number.isRequired,style:Mt.object.isRequired,easing:Mt.oneOfType([Mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Mt.func]),properties:Mt.arrayOf("string"),onAnimationEnd:Mt.func})),children:Mt.oneOfType([Mt.node,Mt.func]),isActive:Mt.bool,canBegin:Mt.bool,onAnimationEnd:Mt.func,shouldReAnimate:Mt.bool,onAnimationStart:Mt.func,onAnimationReStart:Mt.func};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function tEe(t,e){return oEe(t)||iEe(t,e)||rEe(t,e)||nEe()}function nEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rEe(t,e){if(t){if(typeof t=="string")return kO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kO(t,e)}}function kO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function oEe(t){if(Array.isArray(t))return t}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){sEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sEe(t,e,n){return e=aEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aEe(t){var e=lEe(t,"string");return bp(e)=="symbol"?e:e+""}function lEe(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MO=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>s?s:o[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var y=Math.min(s,o);d="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},cEe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),d=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},uEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OA=function(e){var n=RO(RO({},uEe),e),r=b.useRef(),i=b.useState(-1),o=tEe(i,2),s=o[0],a=o[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=Ct("recharts-rectangle",m);return w?H.createElement(sa,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:y,isActive:w},function(C){var E=C.width,P=C.height,_=C.x,T=C.y;return H.createElement(sa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:y},H.createElement("path",Lv({},Pt(n,!0),{className:S,d:MO(_,T,E,P,h),ref:r})))}):H.createElement("path",Lv({},Pt(n,!0),{className:S,d:MO(l,u,d,f,h)}))};function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}var RA=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ct("recharts-dot",o);return n===+n&&r===+r&&i===+i?b.createElement("circle",w_({},Pt(e,!1),rv(e),{className:s,cx:n,cy:r,r:i})):null};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}var dEe=["x","y","top","left","width","height","className"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){hEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hEe(t,e,n){return e=pEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pEe(t){var e=mEe(t,"string");return wp(e)=="symbol"?e:e+""}function mEe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gEe(t,e){if(t==null)return{};var n=yEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vEe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},xEe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,y=e.className,g=gEe(e,dEe),v=fEe({x:r,y:o,top:a,left:u,width:f,height:m},g);return!je(r)||!je(o)||!je(f)||!je(m)||!je(a)||!je(u)?null:H.createElement("path",S_({},Pt(v,!0),{className:Ct("recharts-cross",y),d:vEe(r,o,f,m,a,u)}))},bEe=O6,wEe=bEe(Object.getPrototypeOf,Object),SEe=wEe,_Ee=ua,EEe=SEe,TEe=da,CEe="[object Object]",AEe=Function.prototype,PEe=Object.prototype,vU=AEe.toString,NEe=PEe.hasOwnProperty,jEe=vU.call(Object);function IEe(t){if(!TEe(t)||_Ee(t)!=CEe)return!1;var e=EEe(t);if(e===null)return!0;var n=NEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&vU.call(n)==jEe}var kEe=IEe;const OEe=Ht(kEe);var REe=ua,MEe=da,DEe="[object Boolean]";function $Ee(t){return t===!0||t===!1||MEe(t)&&REe(t)==DEe}var LEe=$Ee;const FEe=Ht(LEe);function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function VEe(t,e){return WEe(t)||zEe(t,e)||UEe(t,e)||BEe()}function BEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UEe(t,e){if(t){if(typeof t=="string")return $O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $O(t,e)}}function $O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function WEe(t){if(Array.isArray(t))return t}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){HEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HEe(t,e,n){return e=qEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qEe(t){var e=GEe(t,"string");return Sp(e)=="symbol"?e:e+""}function GEe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VO=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},KEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YEe=function(e){var n=FO(FO({},KEe),e),r=b.useRef(),i=b.useState(-1),o=VEe(i,2),s=o[0],a=o[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Ct("recharts-trapezoid",m);return x?H.createElement(sa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:y,isActive:x},function(S){var C=S.upperWidth,E=S.lowerWidth,P=S.height,_=S.x,T=S.y;return H.createElement(sa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},H.createElement("path",Fv({},Pt(n,!0),{className:w,d:VO(_,T,C,E,P),ref:r})))}):H.createElement("g",null,H.createElement("path",Fv({},Pt(n,!0),{className:w,d:VO(l,u,d,f,h)})))},XEe=["option","shapeType","propTransformer","activeClassName","isActive"];function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function QEe(t,e){if(t==null)return{};var n=JEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){ZEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZEe(t,e,n){return e=eTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eTe(t){var e=tTe(t,"string");return _p(e)=="symbol"?e:e+""}function tTe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nTe(t,e){return Vv(Vv({},e),t)}function rTe(t,e){return t==="symbols"}function UO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return H.createElement(OA,n);case"trapezoid":return H.createElement(YEe,n);case"sector":return H.createElement(aU,n);case"symbols":if(rTe(e))return H.createElement(QC,n);break;default:return null}}function iTe(t){return b.isValidElement(t)?t.props:t}function oTe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?nTe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=QEe(t,XEe),u;if(b.isValidElement(e))u=b.cloneElement(e,Vv(Vv({},l),iTe(e)));else if(St(e))u=e(l);else if(OEe(e)&&!FEe(e)){var d=i(e,l);u=H.createElement(UO,{shapeType:n,elementProps:d})}else{var f=l;u=H.createElement(UO,{shapeType:n,elementProps:f})}return a?H.createElement($n,{className:s},u):u}function $0(t,e){return e!=null&&"trapezoids"in t.props}function L0(t,e){return e!=null&&"sectors"in t.props}function Ep(t,e){return e!=null&&"points"in t.props}function sTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function aTe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function lTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function cTe(t,e){var n;return $0(t,e)?n=sTe:L0(t,e)?n=aTe:Ep(t,e)&&(n=lTe),n}function uTe(t,e){var n;return $0(t,e)?n="trapezoids":L0(t,e)?n="sectors":Ep(t,e)&&(n="points"),n}function dTe(t,e){if($0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(L0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ep(t,e)?e.payload:{}}function fTe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=uTe(n,e),o=dTe(n,e),s=r.filter(function(l,u){var d=R0(o,l),f=n.props[i].filter(function(y){var g=cTe(n,e);return g(y,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),a=r.indexOf(s[s.length-1]);return a}var hTe=Math.ceil,pTe=Math.max;function mTe(t,e,n,r){for(var i=-1,o=pTe(hTe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var gTe=mTe,yTe=Q6,zO=1/0,vTe=17976931348623157e292;function xTe(t){if(!t)return t===0?t:0;if(t=yTe(t),t===zO||t===-zO){var e=t<0?-1:1;return e*vTe}return t===t?t:0}var bTe=xTe,wTe=gTe,STe=T0,Nw=bTe;function _Te(t){return function(e,n,r){return r&&typeof r!="number"&&STe(e,n,r)&&(n=r=void 0),e=Nw(e),n===void 0?(n=e,e=0):n=Nw(n),r=r===void 0?e<n?1:-1:Nw(r),wTe(e,n,r,t)}}var ETe=_Te,TTe=ETe,CTe=TTe(),ATe=CTe;const Bv=Ht(ATe);function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){xU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xU(t,e,n){return e=PTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PTe(t){var e=NTe(t,"string");return Tp(e)=="symbol"?e:e+""}function NTe(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jTe=["Webkit","Moz","O","ms"],ITe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=jTe.reduce(function(o,s){return HO(HO({},o),{},xU({},s+r,n))},{});return i[e]=n,i};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){bi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wU(r.key),r)}}function OTe(t,e,n){return e&&GO(t.prototype,e),n&&GO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RTe(t,e,n){return e=zv(e),MTe(t,bU()?Reflect.construct(e,n||[],zv(t).constructor):e.apply(t,n))}function MTe(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DTe(t)}function DTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bU=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function $Te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function bi(t,e,n){return e=wU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wU(t){var e=LTe(t,"string");return gd(e)=="symbol"?e:e+""}function LTe(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=lh().domain(Bv(0,l)).range([o,o+s-a]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},KO=function(e){return e.changedTouches&&!!e.changedTouches.length},yd=function(t){function e(n){var r;return kTe(this,e),r=RTe(this,e,[n]),bi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),bi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),bi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),bi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),bi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),bi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),bi(r,"handleSlideDragStart",function(i){var o=KO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $Te(e,t),OTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(s,f),y=e.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Ii(o[r],a,r);return St(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,y=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+d-f-a,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-a));var v=this.getIndex({startX:s+g,endX:a+g});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=KO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),x[s]=u+w;var S=this.getIndex(x),C=S.startIndex,E=S.endIndex,P=function(){var T=v.length-1;return s==="startX"&&(a>l?C%g===0:E%g===0)||a<l&&E===T||s==="endX"&&(a>l?E%g===0:C%g===0)||a>l&&E===T};this.setState(bi(bi({},s,u+w),"brushMoveStartX",r.pageX),function(){y&&P()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var m=a[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(bi({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return H.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,d=r.padding,f=b.Children.only(u);return f?H.cloneElement(f,{x:i,y:o,width:s,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,y=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),w=jw(jw({},Pt(this.props,!1)),{},{x,y:u,width:d,height:f}),S=m||"Min value: ".concat((o=y[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=y[v])===null||s===void 0?void 0:s.name);return H.createElement($n,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return H.createElement($n,{className:"recharts-brush-texts"},H.createElement(vv,Uv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+a/2},y),this.getTextOfTick(i)),H.createElement(vv,Uv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:s+a/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!je(a)||!je(l)||!je(u)||!je(d)||u<=0||d<=0)return null;var S=Ct("recharts-brush",o),C=H.Children.count(s)===1,E=ITe("userSelect","none");return H.createElement($n,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),H.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):St(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return jw({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?FTe({data:o,width:s,x:a,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(b.PureComponent);bi(yd,"displayName","Brush");bi(yd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VTe=oA;function BTe(t,e){var n;return VTe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var UTe=BTe,zTe=T6,WTe=Zd,HTe=UTe,qTe=fi,GTe=T0;function KTe(t,e,n){var r=qTe(t)?zTe:HTe;return n&&GTe(t,e,n)&&(e=void 0),r(t,WTe(e))}var YTe=KTe;const XTe=Ht(YTe);var ms=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},YO=q6;function QTe(t,e,n){e=="__proto__"&&YO?YO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var JTe=QTe,ZTe=JTe,eCe=W6,tCe=Zd;function nCe(t,e){var n={};return e=tCe(e),eCe(t,function(r,i,o){ZTe(n,i,e(r,i,o))}),n}var rCe=nCe;const iCe=Ht(rCe);function oCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var sCe=oCe,aCe=oA;function lCe(t,e){var n=!0;return aCe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var cCe=lCe,uCe=sCe,dCe=cCe,fCe=Zd,hCe=fi,pCe=T0;function mCe(t,e,n){var r=hCe(t)?uCe:dCe;return n&&pCe(t,e,n)&&(e=void 0),r(t,fCe(e))}var gCe=mCe;const yCe=Ht(gCe);var vCe=["x","y"];function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){xCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xCe(t,e,n){return e=bCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bCe(t){var e=wCe(t,"string");return Cp(e)=="symbol"?e:e+""}function wCe(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SCe(t,e){if(t==null)return{};var n=_Ce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ECe(t,e){var n=t.x,r=t.y,i=SCe(t,vCe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Nf(Nf(Nf(Nf(Nf({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function QO(t){return H.createElement(oTe,E_({shapeType:"rectangle",propTransformer:ECe,activeClassName:"recharts-active-bar"},t))}var TCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=je(r)||Lae(r);return o?e(r,i):(o||bc(),n)}},CCe=["value","background"],SU;function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function ACe(t,e){if(t==null)return{};var n=PCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(this,arguments)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){Ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EU(r.key),r)}}function jCe(t,e,n){return e&&ZO(t.prototype,e),n&&ZO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ICe(t,e,n){return e=Hv(e),kCe(t,_U()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function kCe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OCe(t)}function OCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_U=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function RCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function Ba(t,e,n){return e=EU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EU(t){var e=MCe(t,"string");return vd(e)=="symbol"?e:e+""}function MCe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fm=function(t){function e(){var n;NCe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ICe(this,e,[].concat(i)),Ba(n,"state",{isAnimationFinished:!1}),Ba(n,"id",sm("recharts-bar-")),Ba(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ba(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return RCe(e,t),jCe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,d=Pt(this.props,!1);return r&&r.map(function(f,h){var m=h===l,y=m?u:s,g=Vn(Vn(Vn({},d),f),{},{isActive:m,option:y,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement($n,Wv({className:"recharts-bar-rectangle"},iv(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),H.createElement(QO,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return H.createElement(sa,{begin:l,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=o.map(function(v,x){var w=h&&h[x];if(w){var S=So(w.x,v.x),C=So(w.y,v.y),E=So(w.width,v.width),P=So(w.height,v.height);return Vn(Vn({},v),{},{x:S(y),y:C(y),width:E(y),height:P(y)})}if(s==="horizontal"){var _=So(0,v.height),T=_(y);return Vn(Vn({},v),{},{y:v.y+v.height-T,height:T})}var N=So(0,v.width),k=N(y);return Vn(Vn({},v),{},{width:k})});return H.createElement($n,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!R0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Pt(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=ACe(u,CCe);if(!f)return null;var m=Vn(Vn(Vn(Vn(Vn({},h),{},{fill:"#eee"},f),l),iv(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return H.createElement(QO,Wv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Xi(d,dm);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(v,x){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Ii(v,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement($n,y,f.map(function(g){return H.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,y=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=Ct("recharts-bar",s),w=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,C=w||S,E=vt(g)?this.id:g;return H.createElement($n,{className:x},w||S?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(E)},H.createElement("rect",{x:w?u:u-f/2,y:S?d:d-h/2,width:w?f:f*2,height:S?h:h*2}))):null,H.createElement($n,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!m||v)&&nl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(b.PureComponent);SU=fm;Ba(fm,"displayName","Bar");Ba(fm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Hs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ba(fm,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=c1e(r,n);if(!m)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?Vn(Vn({},g),n.props):n.props,x=v.dataKey,w=v.children,S=v.minPointSize,C=y==="horizontal"?s:o,E=u?C.scale.domain():null,P=y1e({numericAxis:C}),_=Xi(w,Z6),T=f.map(function(N,k){var j,R,O,$,F,U;u?j=u1e(u[d+k],E):(j=Ii(N,x),Array.isArray(j)||(j=[P,j]));var W=TCe(S,SU.defaultProps.minPointSize)(j[1],k);if(y==="horizontal"){var V,B=[s.scale(j[0]),s.scale(j[1])],Z=B[0],Q=B[1];R=Jk({axis:o,ticks:a,bandSize:i,offset:m.offset,entry:N,index:k}),O=(V=Q??Z)!==null&&V!==void 0?V:void 0,$=m.size;var ne=Z-Q;if(F=Number.isNaN(ne)?0:ne,U={x:R,y:s.y,width:$,height:s.height},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var Ee=Po(F||W)*(Math.abs(W)-Math.abs(F));O-=Ee,F+=Ee}}else{var Pe=[o.scale(j[0]),o.scale(j[1])],Me=Pe[0],ot=Pe[1];if(R=Me,O=Jk({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:N,index:k}),$=ot-Me,F=m.size,U={x:o.x,y:O,width:o.width,height:F},Math.abs(W)>0&&Math.abs($)<Math.abs(W)){var we=Po($||W)*(Math.abs(W)-Math.abs($));$+=we}}return Vn(Vn(Vn({},N),{},{x:R,y:O,width:$,height:F,value:u?j:j[1],payload:N,background:U},_&&_[k]&&_[k].props),{},{tooltipPayload:[iU(n,N)],tooltipPosition:{x:R+$/2,y:O+F/2}})});return Vn({data:T,layout:y},h)});function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function DCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TU(r.key),r)}}function $Ce(t,e,n){return e&&eR(t.prototype,e),n&&eR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){F0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0(t,e,n){return e=TU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TU(t){var e=LCe(t,"string");return Ap(e)=="symbol"?e:e+""}function LCe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FCe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!_i(u,fm);return d.reduce(function(m,y){var g=n[y],v=g.orientation,x=g.domain,w=g.padding,S=w===void 0?{}:w,C=g.mirror,E=g.reversed,P="".concat(v).concat(C?"Mirror":""),_,T,N,k,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=x[1]-x[0],O=1/0,$=g.categoricalDomain.sort(Bae);if($.forEach(function(Pe,Me){Me>0&&(O=Math.min((Pe||0)-($[Me-1]||0),O))}),Number.isFinite(O)){var F=O/R,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(_=F*U/2),g.padding==="no-gap"){var W=vc(e.barCategoryGap,F*U),V=F*U/2;_=V-W-(V-W)/U*W}}}i==="xAxis"?T=[r.left+(S.left||0)+(_||0),r.left+r.width-(S.right||0)-(_||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(_||0),r.top+r.height-(S.bottom||0)-(_||0)]:T=g.range,E&&(T=[T[1],T[0]]);var B=a1e(g,o,h),Z=B.scale,Q=B.realScaleType;Z.domain(x).range(T),l1e(Z);var ne=g1e(Z,xo(xo({},g),{},{realScaleType:Q}));i==="xAxis"?(j=v==="top"&&!C||v==="bottom"&&C,N=r.left,k=f[P]-j*g.height):i==="yAxis"&&(j=v==="left"&&!C||v==="right"&&C,N=f[P]-j*g.width,k=r.top);var Ee=xo(xo(xo({},g),ne),{},{realScaleType:Q,x:N,y:k,scale:Z,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return Ee.bandSize=kv(Ee,ne),!g.hide&&i==="xAxis"?f[P]+=(j?-1:1)*Ee.height:g.hide||(f[P]+=(j?-1:1)*Ee.width),xo(xo({},m),{},F0({},y,Ee))},{})},CU=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},VCe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return CU({x:n,y:r},{x:i,y:o})},AU=function(){function t(e){DCe(this,t),this.scale=e}return $Ce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();F0(AU,"EPS",1e-4);var MA=function(e){var n=Object.keys(e).reduce(function(r,i){return xo(xo({},r),{},F0({},i,AU.create(e[i])))},{});return xo(xo({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return iCe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return yCe(i,function(o,s){return n[s].isInRange(o)})}})};function BCe(t){return(t%180+180)%180}var UCe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=BCe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},zCe=Use(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),PU=b.createContext(void 0),NU=b.createContext(void 0),jU=b.createContext(void 0),WCe=b.createContext({}),IU=b.createContext(void 0),kU=b.createContext(0),OU=b.createContext(0),nR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,d=zCe(o);return H.createElement(PU.Provider,{value:r},H.createElement(NU.Provider,{value:i},H.createElement(WCe.Provider,{value:o},H.createElement(jU.Provider,{value:d},H.createElement(IU.Provider,{value:s},H.createElement(kU.Provider,{value:u},H.createElement(OU.Provider,{value:l},a)))))))},HCe=function(){return b.useContext(IU)},RU=function(e){var n=b.useContext(PU);n==null&&bc();var r=n[e];return r==null&&bc(),r},MU=function(e){var n=b.useContext(NU);n==null&&bc();var r=n[e];return r==null&&bc(),r},qCe=function(){var e=b.useContext(jU);return e},DU=function(){return b.useContext(OU)},$U=function(){return b.useContext(kU)};function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function GCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FU(r.key),r)}}function YCe(t,e,n){return e&&KCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XCe(t,e,n){return e=qv(e),QCe(t,LU()?Reflect.construct(e,n||[],qv(t).constructor):e.apply(t,n))}function QCe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JCe(t)}function JCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LU=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function ZCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){DA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DA(t,e,n){return e=FU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FU(t){var e=eAe(t,"string");return xd(e)=="symbol"?e:e+""}function eAe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tAe(t,e){return oAe(t)||iAe(t,e)||rAe(t,e)||nAe()}function nAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rAe(t,e){if(t){if(typeof t=="string")return oR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(t,e)}}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function oAe(t){if(Array.isArray(t))return t}function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}var sAe=function(e,n){var r;return H.isValidElement(e)?r=H.cloneElement(e,n):St(e)?r=e(n):r=H.createElement("line",A_({},n,{className:"recharts-reference-line-line"})),r},aAe=function(e,n,r,i,o,s,a,l,u){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var y=u.y,g=e.y.apply(y,{position:s});if(ms(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(n){var x=u.x,w=e.x.apply(x,{position:s});if(ms(u,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:f+m},{x:w,y:f}];return a==="top"?S.reverse():S}if(i){var C=u.segment,E=C.map(function(P){return e.apply(P,{position:s})});return ms(u,"discard")&&XTe(E,function(P){return!e.isInRange(P)})?null:E}return null};function lAe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=HCe(),d=RU(i),f=MU(o),h=qCe();if(!u||!h)return null;ec(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=MA({x:d.scale,y:f.scale}),y=Qn(e),g=Qn(n),v=r&&r.length===2,x=aAe(m,y,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var w=tAe(x,2),S=w[0],C=S.x,E=S.y,P=w[1],_=P.x,T=P.y,N=ms(t,"hidden")?"url(#".concat(u,")"):void 0,k=iR(iR({clipPath:N},Pt(t,!0)),{},{x1:C,y1:E,x2:_,y2:T});return H.createElement($n,{className:Ct("recharts-reference-line",a)},sAe(s,k),Ur.renderCallByParent(t,VCe({x1:C,y1:E,x2:_,y2:T})))}var $A=function(t){function e(){return GCe(this,e),XCe(this,e,arguments)}return ZCe(e,t),YCe(e,[{key:"render",value:function(){return H.createElement(lAe,this.props)}}])}(H.Component);DA($A,"displayName","ReferenceLine");DA($A,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BU(r.key),r)}}function dAe(t,e,n){return e&&uAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fAe(t,e,n){return e=Gv(e),hAe(t,VU()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function hAe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pAe(t)}function pAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VU=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function mAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function V0(t,e,n){return e=BU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BU(t){var e=gAe(t,"string");return bd(e)=="symbol"?e:e+""}function gAe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yAe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=MA({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ms(e,"discard")&&!s.isInRange(a)?null:a},B0=function(t){function e(){return cAe(this,e),fAe(this,e,arguments)}return mAe(e,t),dAe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Qn(i),d=Qn(o);if(ec(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=yAe(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,g=y.shape,v=y.className,x=ms(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=aR(aR({clipPath:x},Pt(this.props,!0)),{},{cx:h,cy:m});return H.createElement($n,{className:Ct("recharts-reference-dot",v)},e.renderDot(g,w),Ur.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(H.Component);V0(B0,"displayName","ReferenceDot");V0(B0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});V0(B0,"renderDot",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):St(t)?n=t(e):n=H.createElement(RA,P_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){U0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zU(r.key),r)}}function bAe(t,e,n){return e&&xAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wAe(t,e,n){return e=Kv(e),SAe(t,UU()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function SAe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(t)}function _Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UU=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function EAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function U0(t,e,n){return e=zU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zU(t){var e=TAe(t,"string");return wd(e)=="symbol"?e:e+""}function TAe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CAe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=MA({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ms(o,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:CU(m,y)},z0=function(t){function e(){return vAe(this,e),wAe(this,e,arguments)}return EAe(e,t),bAe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;ec(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Qn(i),h=Qn(o),m=Qn(s),y=Qn(a),g=this.props.shape;if(!f&&!h&&!m&&!y&&!g)return null;var v=CAe(f,h,m,y,this.props);if(!v&&!g)return null;var x=ms(this.props,"hidden")?"url(#".concat(d,")"):void 0;return H.createElement($n,{className:Ct("recharts-reference-area",l)},e.renderRect(g,cR(cR({clipPath:x},Pt(this.props,!0)),v)),Ur.renderCallByParent(this.props,v))}}])}(H.Component);U0(z0,"displayName","ReferenceArea");U0(z0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});U0(z0,"renderRect",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):St(t)?n=t(e):n=H.createElement(OA,j_({},e,{className:"recharts-reference-area-rect"})),n});function WU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function AAe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return UCe(r,n)}function PAe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Yv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function NAe(t,e){return WU(t,e+1)}function jAe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,d=s,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:WU(r,u)};var g=l,v,x=function(){return v===void 0&&(v=n(y,g)),v},w=y.coordinate,S=l===0||Yv(t,w,x,d,a);S||(l=0,d=s,u+=1),S&&(d=w+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){IAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IAe(t,e,n){return e=kAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kAe(t){var e=OAe(t,"string");return Pp(e)=="symbol"?e:e+""}function OAe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RAe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var m=o[h],y,g=function(){return y===void 0&&(y=n(m,h)),y};if(h===s-1){var v=t*(m.coordinate+t*g()/2-l);o[h]=m=Lr(Lr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else o[h]=m=Lr(Lr({},m),{},{tickCoord:m.coordinate});var x=Yv(t,m.tickCoord,g,a,l);x&&(l=m.tickCoord-t*(g()/2+i),o[h]=Lr(Lr({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return o}function MAe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-u);s[a-1]=d=Lr(Lr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Yv(t,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-t*(f/2+i),s[a-1]=Lr(Lr({},d),{},{isShow:!0}))}for(var y=o?a-1:a,g=function(w){var S=s[w],C,E=function(){return C===void 0&&(C=n(S,w)),C};if(w===0){var P=t*(S.coordinate-t*E()/2-l);s[w]=S=Lr(Lr({},S),{},{tickCoord:P<0?S.coordinate-P*t:S.coordinate})}else s[w]=S=Lr(Lr({},S),{},{tickCoord:S.coordinate});var _=Yv(t,S.tickCoord,E,l,u);_&&(l=S.tickCoord+t*(E()/2+i),s[w]=Lr(Lr({},S),{},{isShow:!0}))},v=0;v<y;v++)g(v);return s}function DAe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(je(l)||Hs.isSsr)return NAe(i,typeof l=="number"&&je(l)?l:0);var h=[],m=a==="top"||a==="bottom"?"width":"height",y=d&&m==="width"?ah(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(S,C){var E=St(u)?u(S.value,C):S.value;return m==="width"?AAe(ah(E,{fontSize:e,letterSpacing:n}),y,f):ah(E,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?Po(i[1].coordinate-i[0].coordinate):1,x=PAe(o,v,m);return l==="equidistantPreserveStart"?jAe(v,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=MAe(v,x,g,i,s,l==="preserveStartEnd"):h=RAe(v,x,g,i,s),h.filter(function(w){return w.isShow}))}var $Ae=["viewBox"],LAe=["viewBox"],FAe=["ticks"];function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){LA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iw(t,e){if(t==null)return{};var n=VAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qU(r.key),r)}}function UAe(t,e,n){return e&&fR(t.prototype,e),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zAe(t,e,n){return e=Xv(e),WAe(t,HU()?Reflect.construct(e,n||[],Xv(t).constructor):e.apply(t,n))}function WAe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HAe(t)}function HAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HU=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xv(t)}function qAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function LA(t,e,n){return e=qU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qU(t){var e=GAe(t,"string");return Sd(e)=="symbol"?e:e+""}function GAe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W0=function(t){function e(n){var r;return BAe(this,e),r=zAe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return qAe(e,t),UAe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Iw(r,$Ae),a=this.props,l=a.viewBox,u=Iw(a,LAe);return!Au(o,l)||!Au(s,u)||!Au(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,y,g,v,x,w,S=f?-1:1,C=r.tickSize||d,E=je(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=y=r.coordinate,v=s+ +!f*l,g=v-S*C,w=g-S*h,x=E;break;case"left":g=v=r.coordinate,y=o+ +!f*a,m=y-S*C,x=m-S*h,w=E;break;case"right":g=v=r.coordinate,y=o+ +f*a,m=y+S*C,x=m+S*h,w=E;break;default:m=y=r.coordinate,v=s+ +f*l,g=v+S*C,w=g+S*h,x=E;break}return{line:{x1:m,y1:g,x2:y,y2:v},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=qn(qn(qn({},Pt(this.props,!1)),Pt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=qn(qn({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=qn(qn({},f),{},{x1:i+m*s,y1:o,x2:i+m*s,y2:o+a})}return H.createElement("line",fu({},f,{className:Ct("recharts-cartesian-axis-line",Yi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,m=DAe(qn(qn({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Pt(this.props,!1),x=Pt(d,!1),w=qn(qn({},v),{},{fill:"none"},Pt(l,!1)),S=m.map(function(C,E){var P=s.getTickLineCoord(C),_=P.line,T=P.tick,N=qn(qn(qn(qn({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),T),{},{index:E,payload:C,visibleTicksCount:m.length,tickFormatter:f});return H.createElement($n,fu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},iv(s.props,C,E)),l&&H.createElement("line",fu({},w,_,{className:Ct("recharts-cartesian-axis-tick-line",Yi(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(St(f)?f(C.value,E):C.value).concat(h||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Iw(f,FAe),y=h;return St(l)&&(y=h&&h.length>0?l(this.props):l(m)),s<=0||a<=0||!y||!y.length?null:H.createElement($n,{className:Ct("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ur.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ct(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?s=H.cloneElement(r,qn(qn({},i),{},{className:a})):St(r)?s=r(qn(qn({},i),{},{className:a})):s=H.createElement(vv,fu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(b.Component);LA(W0,"displayName","CartesianAxis");LA(W0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var KAe=["type","layout","connectNulls","ref"],YAe=["key"];function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function hR(t,e){if(t==null)return{};var n=XAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(this,arguments)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){bo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wc(t){return ePe(t)||ZAe(t)||JAe(t)||QAe()}function QAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JAe(t,e){if(t){if(typeof t=="string")return O_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(t,e)}}function ZAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ePe(t){if(Array.isArray(t))return O_(t)}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KU(r.key),r)}}function nPe(t,e,n){return e&&mR(t.prototype,e),n&&mR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rPe(t,e,n){return e=Qv(e),iPe(t,GU()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function iPe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oPe(t)}function oPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GU=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function sPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function bo(t,e,n){return e=KU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KU(t){var e=aPe(t,"string");return _d(e)=="symbol"?e:e+""}function aPe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hm=function(t){function e(){var n;tPe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=rPe(this,e,[].concat(i)),bo(n,"state",{isAnimationFinished:!0,totalLength:0}),bo(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),bo(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var d=Math.floor(s/u),f=s%u,h=a-s,m=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>f){m=[].concat(Wc(l.slice(0,y)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Wc(e.repeat(l,d)),Wc(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),bo(n,"id",sm("recharts-line-")),bo(n,"pathRef",function(s){n.mainCurve=s}),bo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),bo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return sPe(e,t),nPe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Xi(d,dm);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Ii(g.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement($n,m,f.map(function(y){return H.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,d=a.dataKey,f=Pt(this.props,!1),h=Pt(l,!0),m=u.map(function(g,v){var x=xi(xi(xi({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(l,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return H.createElement($n,dh({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,d=a.connectNulls;a.ref;var f=hR(a,KAe),h=xi(xi(xi({},Pt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:d});return H.createElement(d_,dh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,y=s.animateNewValues,g=s.width,v=s.height,x=this.state,w=x.prevPoints,S=x.totalLength;return H.createElement(sa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var E=C.t;if(w){var P=w.length/a.length,_=a.map(function(R,O){var $=Math.floor(O*P);if(w[$]){var F=w[$],U=So(F.x,R.x),W=So(F.y,R.y);return xi(xi({},R),{},{x:U(E),y:W(E)})}if(y){var V=So(g*2,R.x),B=So(v/2,R.y);return xi(xi({},R),{},{x:V(E),y:B(E)})}return xi(xi({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(_,r,i)}var T=So(0,S),N=T(E),k;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=o.getStrokeDasharray(N,S,j)}else k=o.generateSimpleStrokeDasharray(S,N);return o.renderCurveStatically(a,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return a&&s&&s.length&&(!u&&d>0||!R0(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var x=this.state.isAnimationFinished,w=a.length===1,S=Ct("recharts-line",l),C=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,P=C||E,_=vt(v)?this.id:v,T=(r=Pt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=T.r,k=N===void 0?3:N,j=T.strokeWidth,R=j===void 0?2:j,O=Xae(s)?s:{},$=O.clipDot,F=$===void 0?!0:$,U=k*2+R;return H.createElement($n,{className:S},C||E?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(_)},H.createElement("rect",{x:C?h:h-m/2,y:E?f:f-y/2,width:C?m:m*2,height:E?y:y*2})),!F&&H.createElement("clipPath",{id:"clipPath-dots-".concat(_)},H.createElement("rect",{x:h-U/2,y:f-U/2,width:m+U,height:y+U}))):null,!w&&this.renderCurve(P,_),this.renderErrorBar(P,_),(w||s)&&this.renderDots(P,F,_),(!g||x)&&nl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Wc(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Wc(s),Wc(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(H.isValidElement(r))o=H.cloneElement(r,i);else if(St(r))o=r(i);else{var s=i.key,a=hR(i,YAe),l=Ct("recharts-line-dot",typeof r!="boolean"?r.className:"");o=H.createElement(RA,dh({key:s},a,{className:l}))}return o}}])}(b.PureComponent);bo(hm,"displayName","Line");bo(hm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Hs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});bo(hm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,m){var y=Ii(h,s);return d==="horizontal"?{x:Qk({axis:n,ticks:i,bandSize:a,entry:h,index:m}),y:vt(y)?null:r.scale(y),value:y,payload:h}:{x:vt(y)?null:n.scale(y),y:Qk({axis:r,ticks:o,bandSize:a,entry:h,index:m}),value:y,payload:h}});return xi({points:f,layout:d},u)});function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function lPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QU(r.key),r)}}function uPe(t,e,n){return e&&cPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dPe(t,e,n){return e=Jv(e),fPe(t,YU()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function fPe(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hPe(t)}function hPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YU=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function pPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function XU(t,e,n){return e=QU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QU(t){var e=mPe(t,"string");return Ed(e)=="symbol"?e:e+""}function mPe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function gPe(t){var e=t.xAxisId,n=DU(),r=$U(),i=RU(e);return i==null?null:b.createElement(W0,D_({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Hl(s,!0)}}))}var H0=function(t){function e(){return lPe(this,e),dPe(this,e,arguments)}return pPe(e,t),uPe(e,[{key:"render",value:function(){return b.createElement(gPe,this.props)}}])}(b.Component);XU(H0,"displayName","XAxis");XU(H0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function yPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e9(r.key),r)}}function xPe(t,e,n){return e&&vPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bPe(t,e,n){return e=Zv(e),wPe(t,JU()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function wPe(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SPe(t)}function SPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JU=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function _Pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function ZU(t,e,n){return e=e9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e9(t){var e=EPe(t,"string");return Td(e)=="symbol"?e:e+""}function EPe(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}var TPe=function(e){var n=e.yAxisId,r=DU(),i=$U(),o=MU(n);return o==null?null:b.createElement(W0,L_({},o,{className:Ct("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Hl(a,!0)}}))},q0=function(t){function e(){return yPe(this,e),bPe(this,e,arguments)}return _Pe(e,t),xPe(e,[{key:"render",value:function(){return b.createElement(TPe,this.props)}}])}(b.Component);ZU(q0,"displayName","YAxis");ZU(q0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function gR(t){return NPe(t)||PPe(t)||APe(t)||CPe()}function CPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function APe(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function PPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NPe(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var V_=function(e,n,r,i,o){var s=Xi(e,$A),a=Xi(e,B0),l=[].concat(gR(s),gR(a)),u=Xi(e,z0),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===r&&ms(v.props,"extendDomain")&&je(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===r&&ms(v.props,"extendDomain")&&je(v.props[m])&&je(v.props[y])){var x=v.props[m],w=v.props[y];return[Math.min(g[0],x,w),Math.max(g[1],x,w)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,v){return je(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},t9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,h,m,y){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,w,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,y),!0}for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];v.fn.apply(v.context,w)}else{var C=v.length,E;for(S=0;S<C;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),x){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(x-1);E<x;E++)w[E-1]=arguments[E];v[S].fn.apply(v[S].context,w)}}return!0},a.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,m);else{for(var g=0,v=[],x=y.length;g<x;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(t9);var jPe=t9.exports;const IPe=Ht(jPe);var kw=new IPe,Ow="recharts.syncMouseEvents";function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function kPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n9(r.key),r)}}function RPe(t,e,n){return e&&OPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rw(t,e,n){return e=n9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=MPe(t,"string");return Np(e)=="symbol"?e:e+""}function MPe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DPe=function(){function t(){kPe(this,t),Rw(this,"activeIndex",0),Rw(this,"coordinateList",[]),Rw(this,"layout","horizontal")}return RPe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function $Pe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&je(r)&&je(i))return!0}return!1}function LPe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function r9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Sr(e,n,r,i),a=Sr(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function FPe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Sr(a,l,u,f),m=Sr(a,l,d,f);r=h.x,i=h.y,o=m.x,s=m.y}else return r9(e);return[{x:r,y:i},{x:o,y:s}]}function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){VPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VPe(t,e,n){return e=BPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BPe(t){var e=UPe(t,"string");return jp(e)=="symbol"?e:e+""}function UPe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zPe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,g=d_;if(h==="ScatterChart")y=s,g=xEe;else if(h==="BarChart")y=LPe(f,s,l,d),g=OA;else if(f==="radial"){var v=r9(s),x=v.cx,w=v.cy,S=v.radius,C=v.startAngle,E=v.endAngle;y={cx:x,cy:w,startAngle:C,endAngle:E,innerRadius:S,outerRadius:S},g=aU}else y={points:FPe(f,s,l)},g=d_;var P=xg(xg(xg(xg({stroke:"#ccc",pointerEvents:"none"},l),y),Pt(m,!1)),{},{payload:a,payloadIndex:u,className:Ct("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,P):b.createElement(g,P)}var WPe=["item"],HPe=["children","className","width","height","style","compact","title","desc"];function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}function vR(t,e){return KPe(t)||GPe(t,e)||o9(t,e)||qPe()}function qPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function KPe(t){if(Array.isArray(t))return t}function xR(t,e){if(t==null)return{};var n=YPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s9(r.key),r)}}function JPe(t,e,n){return e&&QPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZPe(t,e,n){return e=ex(e),eNe(t,i9()?Reflect.construct(e,n||[],ex(t).constructor):e.apply(t,n))}function eNe(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tNe(t)}function tNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i9=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}function nNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function Ad(t){return oNe(t)||iNe(t)||o9(t)||rNe()}function rNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o9(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function iNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oNe(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){rt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rt(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=sNe(t,"string");return Cd(e)=="symbol"?e:e+""}function sNe(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aNe={xAxis:["bottom","top"],yAxis:["left","right"]},lNe={width:"100%",height:"100%"},a9={x:0,y:0};function bg(t){return t}var cNe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},uNe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return ie(ie(ie({},i),Sr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return ie(ie(ie({},i),Sr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return a9},G0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Ad(a),Ad(u)):a},[]);return s.length>0?s:e&&e.length&&je(i)&&je(o)?e.slice(i,o+1):[]};function l9(t){return t==="number"?[0,"auto"]:void 0}var z_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=G0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?a:f;h=nv(m,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Ad(l),[iU(u,h)]):l},[])},wR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=cNe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=t1e(s,a,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=z_(e,n,d,f),m=uNe(r,a,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},dNe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=nU(d,o);return r.reduce(function(y,g){var v,x=g.type.defaultProps!==void 0?ie(ie({},g.type.defaultProps),g.props):g.props,w=x.type,S=x.dataKey,C=x.allowDataOverflow,E=x.allowDuplicatedCategory,P=x.scale,_=x.ticks,T=x.includeHidden,N=x[s];if(y[N])return y;var k=G0(e.data,{graphicalItems:i.filter(function(ne){var Ee,Pe=s in ne.props?ne.props[s]:(Ee=ne.type.defaultProps)===null||Ee===void 0?void 0:Ee[s];return Pe===N}),dataStartIndex:l,dataEndIndex:u}),j=k.length,R,O,$;$Pe(x.domain,C,w)&&(R=s_(x.domain,null,C),m&&(w==="number"||P!=="auto")&&($=ch(k,S,"category")));var F=l9(w);if(!R||R.length===0){var U,W=(U=x.domain)!==null&&U!==void 0?U:F;if(S){if(R=ch(k,S,w),w==="category"&&m){var V=Vae(R);E&&V?(O=R,R=Bv(0,j)):E||(R=tO(W,R,g).reduce(function(ne,Ee){return ne.indexOf(Ee)>=0?ne:[].concat(Ad(ne),[Ee])},[]))}else if(w==="category")E?R=R.filter(function(ne){return ne!==""&&!vt(ne)}):R=tO(W,R,g).reduce(function(ne,Ee){return ne.indexOf(Ee)>=0||Ee===""||vt(Ee)?ne:[].concat(Ad(ne),[Ee])},[]);else if(w==="number"){var B=s1e(k,i.filter(function(ne){var Ee,Pe,Me=s in ne.props?ne.props[s]:(Ee=ne.type.defaultProps)===null||Ee===void 0?void 0:Ee[s],ot="hide"in ne.props?ne.props.hide:(Pe=ne.type.defaultProps)===null||Pe===void 0?void 0:Pe.hide;return Me===N&&(T||!ot)}),S,o,d);B&&(R=B)}m&&(w==="number"||P!=="auto")&&($=ch(k,S,"category"))}else m?R=Bv(0,j):a&&a[N]&&a[N].hasStack&&w==="number"?R=h==="expand"?[0,1]:rU(a[N].stackGroups,l,u):R=tU(k,i.filter(function(ne){var Ee=s in ne.props?ne.props[s]:ne.type.defaultProps[s],Pe="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return Ee===N&&(T||!Pe)}),w,d,!0);if(w==="number")R=V_(f,R,N,o,_),W&&(R=s_(W,R,C));else if(w==="category"&&W){var Z=W,Q=R.every(function(ne){return Z.indexOf(ne)>=0});Q&&(R=Z)}}return ie(ie({},y),{},rt({},N,ie(ie({},x),{},{axisType:o,domain:R,categoricalDomain:$,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:F,isCategorical:m,layout:d})))},{})},fNe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=G0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,y=nU(d,o),g=-1;return r.reduce(function(v,x){var w=x.type.defaultProps!==void 0?ie(ie({},x.type.defaultProps),x.props):x.props,S=w[s],C=l9("number");if(!v[S]){g++;var E;return y?E=Bv(0,m):a&&a[S]&&a[S].hasStack?(E=rU(a[S].stackGroups,l,u),E=V_(f,E,S,o)):(E=s_(C,tU(h,r.filter(function(P){var _,T,N=s in P.props?P.props[s]:(_=P.type.defaultProps)===null||_===void 0?void 0:_[s],k="hide"in P.props?P.props.hide:(T=P.type.defaultProps)===null||T===void 0?void 0:T.hide;return N===S&&!k}),"number",d),i.defaultProps.allowDataOverflow),E=V_(f,E,S,o)),ie(ie({},v),{},rt({},S,ie(ie({axisType:o},i.defaultProps),{},{hide:!0,orientation:Yi(aNe,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:C,isCategorical:y,layout:d})))}return v},{})},hNe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Xi(d,o),m={};return h&&h.length?m=dNe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(m=fNe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),m},pNe=function(e){var n=Xc(e),r=Hl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:sA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kv(n,r)}},SR=function(e){var n=e.children,r=e.defaultShowTooltip,i=_i(n,yd),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},mNe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ws(n&&n.type);return r&&r.indexOf("Bar")>=0})},_R=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},gNe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=_i(f,yd),y=_i(f,Pu),g=Object.keys(l).reduce(function(E,P){var _=l[P],T=_.orientation;return!_.mirror&&!_.hide?ie(ie({},E),{},rt({},T,E[T]+_.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,P){var _=s[P],T=_.orientation;return!_.mirror&&!_.hide?ie(ie({},E),{},rt({},T,Yi(E,"".concat(T))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),x=ie(ie({},v),g),w=x.bottom;m&&(x.bottom+=m.props.height||yd.defaultProps.height),y&&n&&(x=i1e(x,i,r,n));var S=u-x.left-x.right,C=d-x.top-x.bottom;return ie(ie({brushBottom:w},x),{},{width:Math.max(S,0),height:Math.max(C,0)})},yNe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},vNe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var S=w.graphicalItems,C=w.stackGroups,E=w.offset,P=w.updateId,_=w.dataStartIndex,T=w.dataEndIndex,N=x.barSize,k=x.layout,j=x.barGap,R=x.barCategoryGap,O=x.maxBarSize,$=_R(k),F=$.numericAxisName,U=$.cateAxisName,W=mNe(S),V=[];return S.forEach(function(B,Z){var Q=G0(x.data,{graphicalItems:[B],dataStartIndex:_,dataEndIndex:T}),ne=B.type.defaultProps!==void 0?ie(ie({},B.type.defaultProps),B.props):B.props,Ee=ne.dataKey,Pe=ne.maxBarSize,Me=ne["".concat(F,"Id")],ot=ne["".concat(U,"Id")],we={},Ne=l.reduce(function(kt,yt){var Ot=w["".concat(yt.axisType,"Map")],gn=ne["".concat(yt.axisType,"Id")];Ot&&Ot[gn]||yt.axisType==="zAxis"||bc();var yn=Ot[gn];return ie(ie({},kt),{},rt(rt({},yt.axisType,yn),"".concat(yt.axisType,"Ticks"),Hl(yn)))},we),oe=Ne[U],me=Ne["".concat(U,"Ticks")],ae=C&&C[Me]&&C[Me].hasStack&&v1e(B,C[Me].stackGroups),z=Ws(B.type).indexOf("Bar")>=0,Se=kv(oe,me),Te=[],Xe=W&&n1e({barSize:N,stackGroups:C,totalSize:yNe(Ne,U)});if(z){var Qe,tt,Fe=vt(Pe)?O:Pe,le=(Qe=(tt=kv(oe,me,!0))!==null&&tt!==void 0?tt:Fe)!==null&&Qe!==void 0?Qe:0;Te=r1e({barGap:j,barCategoryGap:R,bandSize:le!==Se?le:Se,sizeList:Xe[ot],maxBarSize:Fe}),le!==Se&&(Te=Te.map(function(kt){return ie(ie({},kt),{},{position:ie(ie({},kt.position),{},{offset:kt.position.offset-le/2})})}))}var Je=B&&B.type&&B.type.getComposedData;Je&&V.push({props:ie(ie({},Je(ie(ie({},Ne),{},{displayedData:Q,props:x,dataKey:Ee,item:B,bandSize:Se,barPosition:Te,offset:E,stackedData:ae,layout:k,dataStartIndex:_,dataEndIndex:T}))),{},rt(rt(rt({key:B.key||"item-".concat(Z)},F,Ne[F]),U,Ne[U]),"animationId",P)),childIndex:Zae(B,x.children),item:B})}),V},m=function(x,w){var S=x.props,C=x.dataStartIndex,E=x.dataEndIndex,P=x.updateId;if(!KI({props:S}))return null;var _=S.children,T=S.layout,N=S.stackOffset,k=S.data,j=S.reverseStackOrder,R=_R(T),O=R.numericAxisName,$=R.cateAxisName,F=Xi(_,r),U=m1e(k,F,"".concat(O,"Id"),"".concat($,"Id"),N,j),W=l.reduce(function(ne,Ee){var Pe="".concat(Ee.axisType,"Map");return ie(ie({},ne),{},rt({},Pe,hNe(S,ie(ie({},Ee),{},{graphicalItems:F,stackGroups:Ee.axisType===O&&U,dataStartIndex:C,dataEndIndex:E}))))},{}),V=gNe(ie(ie({},W),{},{props:S,graphicalItems:F}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(ne){W[ne]=d(S,W[ne],V,ne.replace("Map",""),n)});var B=W["".concat($,"Map")],Z=pNe(B),Q=h(S,ie(ie({},W),{},{dataStartIndex:C,dataEndIndex:E,updateId:P,graphicalItems:F,stackGroups:U,offset:V}));return ie(ie({formattedGraphicalItems:Q,graphicalItems:F,offset:V,stackGroups:U},Z),W)},y=function(v){function x(w){var S,C,E;return XPe(this,x),E=ZPe(this,x,[w]),rt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rt(E,"accessibilityManager",new DPe),rt(E,"handleLegendBBoxUpdate",function(P){if(P){var _=E.state,T=_.dataStartIndex,N=_.dataEndIndex,k=_.updateId;E.setState(ie({legendBBox:P},m({props:E.props,dataStartIndex:T,dataEndIndex:N,updateId:k},ie(ie({},E.state),{},{legendBBox:P}))))}}),rt(E,"handleReceiveSyncEvent",function(P,_,T){if(E.props.syncId===P){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),rt(E,"handleBrushChange",function(P){var _=P.startIndex,T=P.endIndex;if(_!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return ie({dataStartIndex:_,dataEndIndex:T},m({props:E.props,dataStartIndex:_,dataEndIndex:T,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:T})}}),rt(E,"handleMouseEnter",function(P){var _=E.getMouseInfo(P);if(_){var T=ie(ie({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseEnter;St(N)&&N(T,P)}}),rt(E,"triggeredAfterMouseMove",function(P){var _=E.getMouseInfo(P),T=_?ie(ie({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseMove;St(N)&&N(T,P)}),rt(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),rt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),rt(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),rt(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var T=E.props.onMouseLeave;St(T)&&T(_,P)}),rt(E,"handleOuterEvent",function(P){var _=Jae(P),T=Yi(E.props,"".concat(_));if(_&&St(T)){var N,k;/.*touch.*/i.test(_)?k=E.getMouseInfo(P.changedTouches[0]):k=E.getMouseInfo(P),T((N=k)!==null&&N!==void 0?N:{},P)}}),rt(E,"handleClick",function(P){var _=E.getMouseInfo(P);if(_){var T=ie(ie({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onClick;St(N)&&N(T,P)}}),rt(E,"handleMouseDown",function(P){var _=E.props.onMouseDown;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),rt(E,"handleMouseUp",function(P){var _=E.props.onMouseUp;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),rt(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),rt(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),rt(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),rt(E,"handleDoubleClick",function(P){var _=E.props.onDoubleClick;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),rt(E,"handleContextMenu",function(P){var _=E.props.onContextMenu;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),rt(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&kw.emit(Ow,E.props.syncId,P,E.eventEmitterSymbol)}),rt(E,"applySyncEvent",function(P){var _=E.props,T=_.layout,N=_.syncMethod,k=E.state.updateId,j=P.dataStartIndex,R=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(ie({dataStartIndex:j,dataEndIndex:R},m({props:E.props,dataStartIndex:j,dataEndIndex:R,updateId:k},E.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,$=P.chartY,F=P.activeTooltipIndex,U=E.state,W=U.offset,V=U.tooltipTicks;if(!W)return;if(typeof N=="function")F=N(V,P);else if(N==="value"){F=-1;for(var B=0;B<V.length;B++)if(V[B].value===P.activeLabel){F=B;break}}var Z=ie(ie({},W),{},{x:W.left,y:W.top}),Q=Math.min(O,Z.x+Z.width),ne=Math.min($,Z.y+Z.height),Ee=V[F]&&V[F].value,Pe=z_(E.state,E.props.data,F),Me=V[F]?{x:T==="horizontal"?V[F].coordinate:Q,y:T==="horizontal"?ne:V[F].coordinate}:a9;E.setState(ie(ie({},P),{},{activeLabel:Ee,activeCoordinate:Me,activePayload:Pe,activeTooltipIndex:F}))}else E.setState(P)}),rt(E,"renderCursor",function(P){var _,T=E.state,N=T.isTooltipActive,k=T.activeCoordinate,j=T.activePayload,R=T.offset,O=T.activeTooltipIndex,$=T.tooltipAxisBandSize,F=E.getTooltipEventType(),U=(_=P.props.active)!==null&&_!==void 0?_:N,W=E.props.layout,V=P.key||"_recharts-cursor";return H.createElement(zPe,{key:V,activeCoordinate:k,activePayload:j,activeTooltipIndex:O,chartName:n,element:P,isActive:U,layout:W,offset:R,tooltipAxisBandSize:$,tooltipEventType:F})}),rt(E,"renderPolarAxis",function(P,_,T){var N=Yi(P,"type.axisType"),k=Yi(E.state,"".concat(N,"Map")),j=P.type.defaultProps,R=j!==void 0?ie(ie({},j),P.props):P.props,O=k&&k[R["".concat(N,"Id")]];return b.cloneElement(P,ie(ie({},O),{},{className:Ct(N,O.className),key:P.key||"".concat(_,"-").concat(T),ticks:Hl(O,!0)}))}),rt(E,"renderPolarGrid",function(P){var _=P.props,T=_.radialLines,N=_.polarAngles,k=_.polarRadius,j=E.state,R=j.radiusAxisMap,O=j.angleAxisMap,$=Xc(R),F=Xc(O),U=F.cx,W=F.cy,V=F.innerRadius,B=F.outerRadius;return b.cloneElement(P,{polarAngles:Array.isArray(N)?N:Hl(F,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(k)?k:Hl($,!0).map(function(Z){return Z.coordinate}),cx:U,cy:W,innerRadius:V,outerRadius:B,key:P.key||"polar-grid",radialLines:T})}),rt(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,_=E.props,T=_.children,N=_.width,k=_.height,j=E.props.margin||{},R=N-(j.left||0)-(j.right||0),O=ZB({children:T,formattedGraphicalItems:P,legendWidth:R,legendContent:u});if(!O)return null;var $=O.item,F=xR(O,WPe);return b.cloneElement($,ie(ie({},F),{},{chartWidth:N,chartHeight:k,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),rt(E,"renderTooltip",function(){var P,_=E.props,T=_.children,N=_.accessibilityLayer,k=_i(T,Ko);if(!k)return null;var j=E.state,R=j.isTooltipActive,O=j.activeCoordinate,$=j.activePayload,F=j.activeLabel,U=j.offset,W=(P=k.props.active)!==null&&P!==void 0?P:R;return b.cloneElement(k,{viewBox:ie(ie({},U),{},{x:U.left,y:U.top}),active:W,label:F,payload:W?$:[],coordinate:O,accessibilityLayer:N})}),rt(E,"renderBrush",function(P){var _=E.props,T=_.margin,N=_.data,k=E.state,j=k.offset,R=k.dataStartIndex,O=k.dataEndIndex,$=k.updateId;return b.cloneElement(P,{key:P.key||"_recharts-brush",onChange:mg(E.handleBrushChange,P.props.onChange),data:N,x:je(P.props.x)?P.props.x:j.left,y:je(P.props.y)?P.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:je(P.props.width)?P.props.width:j.width,startIndex:R,endIndex:O,updateId:"brush-".concat($)})}),rt(E,"renderReferenceElement",function(P,_,T){if(!P)return null;var N=E,k=N.clipPathId,j=E.state,R=j.xAxisMap,O=j.yAxisMap,$=j.offset,F=P.type.defaultProps||{},U=P.props,W=U.xAxisId,V=W===void 0?F.xAxisId:W,B=U.yAxisId,Z=B===void 0?F.yAxisId:B;return b.cloneElement(P,{key:P.key||"".concat(_,"-").concat(T),xAxis:R[V],yAxis:O[Z],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:k})}),rt(E,"renderActivePoints",function(P){var _=P.item,T=P.activePoint,N=P.basePoint,k=P.childIndex,j=P.isRange,R=[],O=_.props.key,$=_.item.type.defaultProps!==void 0?ie(ie({},_.item.type.defaultProps),_.item.props):_.item.props,F=$.activeDot,U=$.dataKey,W=ie(ie({index:k,dataKey:U,cx:T.x,cy:T.y,r:4,fill:kA(_.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Pt(F,!1)),rv(F));return R.push(x.renderActiveDot(F,W,"".concat(O,"-activePoint-").concat(k))),N?R.push(x.renderActiveDot(F,ie(ie({},W),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(k))):j&&R.push(null),R}),rt(E,"renderGraphicChild",function(P,_,T){var N=E.filterFormatItem(P,_,T);if(!N)return null;var k=E.getTooltipEventType(),j=E.state,R=j.isTooltipActive,O=j.tooltipAxis,$=j.activeTooltipIndex,F=j.activeLabel,U=E.props.children,W=_i(U,Ko),V=N.props,B=V.points,Z=V.isRange,Q=V.baseLine,ne=N.item.type.defaultProps!==void 0?ie(ie({},N.item.type.defaultProps),N.item.props):N.item.props,Ee=ne.activeDot,Pe=ne.hide,Me=ne.activeBar,ot=ne.activeShape,we=!!(!Pe&&R&&W&&(Ee||Me||ot)),Ne={};k!=="axis"&&W&&W.props.trigger==="click"?Ne={onClick:mg(E.handleItemMouseEnter,P.props.onClick)}:k!=="axis"&&(Ne={onMouseLeave:mg(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:mg(E.handleItemMouseEnter,P.props.onMouseEnter)});var oe=b.cloneElement(P,ie(ie({},N.props),Ne));function me(yt){return typeof O.dataKey=="function"?O.dataKey(yt.payload):null}if(we)if($>=0){var ae,z;if(O.dataKey&&!O.allowDuplicatedCategory){var Se=typeof O.dataKey=="function"?me:"payload.".concat(O.dataKey.toString());ae=nv(B,Se,F),z=Z&&Q&&nv(Q,Se,F)}else ae=B==null?void 0:B[$],z=Z&&Q&&Q[$];if(ot||Me){var Te=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[b.cloneElement(P,ie(ie(ie({},N.props),Ne),{},{activeIndex:Te})),null,null]}if(!vt(ae))return[oe].concat(Ad(E.renderActivePoints({item:N,activePoint:ae,basePoint:z,childIndex:$,isRange:Z})))}else{var Xe,Qe=(Xe=E.getItemByXY(E.state.activeCoordinate))!==null&&Xe!==void 0?Xe:{graphicalItem:oe},tt=Qe.graphicalItem,Fe=tt.item,le=Fe===void 0?P:Fe,Je=tt.childIndex,kt=ie(ie(ie({},N.props),Ne),{},{activeIndex:Je});return[b.cloneElement(le,kt),null,null]}return Z?[oe,null,null]:[oe,null]}),rt(E,"renderCustomized",function(P,_,T){return b.cloneElement(P,ie(ie({key:"recharts-customized-".concat(T)},E.props),E.state))}),rt(E,"renderMap",{CartesianGrid:{handler:bg,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:bg},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:bg},YAxis:{handler:bg},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:sm("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=J6(E.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return nNe(x,v),JPe(x,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,E=S.data,P=S.height,_=S.layout,T=_i(C,Ko);if(T){var N=T.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,j=z_(this.state,E,N,k),R=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+P)/2,$=_==="horizontal",F=$?{x:R,y:O}:{y:R,x:O},U=this.state.formattedGraphicalItems.find(function(V){var B=V.item;return B.type.name==="Scatter"});U&&(F=ie(ie({},F),U.props.points[N].tooltipPosition),j=U.props.points[N].tooltipPayload);var W={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:k,activePayload:j,activeCoordinate:F};this.setState(W),this.renderCursor(T),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(S){wS([_i(S.children,Ko)],[_i(this.props.children,Ko)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=_i(this.props.children,Ko);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),P=Ave(E),_={chartX:Math.round(S.pageX-P.left),chartY:Math.round(S.pageY-P.top)},T=E.width/C.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,T);if(!N)return null;var k=this.state,j=k.xAxisMap,R=k.yAxisMap,O=this.getTooltipEventType(),$=wR(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&j&&R){var F=Xc(j).scale,U=Xc(R).scale,W=F&&F.invert?F.invert(_.chartX):null,V=U&&U.invert?U.invert(_.chartY):null;return ie(ie({},_),{},{xValue:W,yValue:V},$)}return $?ie(ie({},_),$):null}},{key:"inRange",value:function(S,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,_=S/E,T=C/E;if(P==="horizontal"||P==="vertical"){var N=this.state.offset,k=_>=N.left&&_<=N.left+N.width&&T>=N.top&&T<=N.top+N.height;return k?{x:_,y:T}:null}var j=this.state,R=j.angleAxisMap,O=j.radiusAxisMap;if(R&&O){var $=Xc(R);return iO({x:_,y:T},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),E=_i(S,Ko),P={};E&&C==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=rv(this.props,this.handleOuterEvent);return ie(ie({},_),P)}},{key:"addListener",value:function(){kw.on(Ow,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kw.removeListener(Ow,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,E){for(var P=this.state.formattedGraphicalItems,_=0,T=P.length;_<T;_++){var N=P[_];if(N.item===S||N.props.key===S.key||C===Ws(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,E=C.left,P=C.top,_=C.height,T=C.width;return H.createElement("defs",null,H.createElement("clipPath",{id:S},H.createElement("rect",{x:E,y:P,height:_,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,E){var P=vR(E,2),_=P[0],T=P[1];return ie(ie({},C),{},rt({},_,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,E){var P=vR(E,2),_=P[0],T=P[1];return ie(ie({},C),{},rt({},_,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,E=C.formattedGraphicalItems,P=C.activeItem;if(E&&E.length)for(var _=0,T=E.length;_<T;_++){var N=E[_],k=N.props,j=N.item,R=j.type.defaultProps!==void 0?ie(ie({},j.type.defaultProps),j.props):j.props,O=Ws(j.type);if(O==="Bar"){var $=(k.data||[]).find(function(V){return cEe(S,V)});if($)return{graphicalItem:N,payload:$}}else if(O==="RadialBar"){var F=(k.data||[]).find(function(V){return iO(S,V)});if(F)return{graphicalItem:N,payload:F}}else if($0(N,P)||L0(N,P)||Ep(N,P)){var U=fTe({graphicalItem:N,activeTooltipItem:P,itemData:R.data}),W=R.activeIndex===void 0?U:R.activeIndex;return{graphicalItem:ie(ie({},N),{},{childIndex:W}),payload:Ep(N,P)?R.data[U]:N.props.data[U]}}}return null}},{key:"render",value:function(){var S=this;if(!KI(this))return null;var C=this.props,E=C.children,P=C.className,_=C.width,T=C.height,N=C.style,k=C.compact,j=C.title,R=C.desc,O=xR(C,HPe),$=Pt(O,!1);if(k)return H.createElement(nR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(_S,hu({},$,{width:_,height:T,title:j,desc:R}),this.renderClipPath(),XI(E,this.renderMap)));if(this.props.accessibilityLayer){var F,U;$.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},$.onFocus=function(){S.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return H.createElement(nR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",hu({className:Ct("recharts-wrapper",P),style:ie({position:"relative",cursor:"default",width:_,height:T},N)},W,{ref:function(B){S.container=B}}),H.createElement(_S,hu({},$,{width:_,height:T,title:j,desc:R,style:lNe}),this.renderClipPath(),XI(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);rt(y,"displayName",n),rt(y,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),rt(y,"getDerivedStateFromProps",function(v,x){var w=v.dataKey,S=v.data,C=v.children,E=v.width,P=v.height,_=v.layout,T=v.stackOffset,N=v.margin,k=x.dataStartIndex,j=x.dataEndIndex;if(x.updateId===void 0){var R=SR(v);return ie(ie(ie({},R),{},{updateId:0},m(ie(ie({props:v},R),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:T,prevMargin:N,prevChildren:C})}if(w!==x.prevDataKey||S!==x.prevData||E!==x.prevWidth||P!==x.prevHeight||_!==x.prevLayout||T!==x.prevStackOffset||!Au(N,x.prevMargin)){var O=SR(v),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=ie(ie({},wR(x,S,_)),{},{updateId:x.updateId+1}),U=ie(ie(ie({},O),$),F);return ie(ie(ie({},U),m(ie({props:v},U),x)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:T,prevMargin:N,prevChildren:C})}if(!wS(C,x.prevChildren)){var W,V,B,Z,Q=_i(C,yd),ne=Q&&(W=(V=Q.props)===null||V===void 0?void 0:V.startIndex)!==null&&W!==void 0?W:k,Ee=Q&&(B=(Z=Q.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&B!==void 0?B:j,Pe=ne!==k||Ee!==j,Me=!vt(S),ot=Me&&!Pe?x.updateId:x.updateId+1;return ie(ie({updateId:ot},m(ie(ie({props:v},x),{},{updateId:ot,dataStartIndex:ne,dataEndIndex:Ee}),x)),{},{prevChildren:C,dataStartIndex:ne,dataEndIndex:Ee})}return null}),rt(y,"renderActiveDot",function(v,x,w){var S;return b.isValidElement(v)?S=b.cloneElement(v,x):St(v)?S=v(x):S=H.createElement(RA,x),H.createElement($n,{className:"recharts-active-dot",key:w},S)});var g=b.forwardRef(function(x,w){return H.createElement(y,hu({},x,{ref:w}))});return g.displayName=y.displayName,g},xNe=vNe({chartName:"LineChart",GraphicalChild:hm,axisComponents:[{axisType:"xAxis",AxisComp:H0},{axisType:"yAxis",AxisComp:q0}],formatAxisMap:FCe});function bNe(t){return Object.prototype.toString.call(t)==="[object Object]"}function ER(t){return bNe(t)||Array.isArray(t)}function wNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function FA(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==o?!1:n.every(s=>{const a=t[s],l=e[s];return typeof a=="function"?`${a}`==`${l}`:!ER(a)||!ER(l)?a===l:FA(a,l)})}function TR(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function SNe(t,e){if(t.length!==e.length)return!1;const n=TR(t),r=TR(e);return n.every((i,o)=>{const s=r[o];return FA(i,s)})}function VA(t){return typeof t=="number"}function W_(t){return typeof t=="string"}function K0(t){return typeof t=="boolean"}function CR(t){return Object.prototype.toString.call(t)==="[object Object]"}function _n(t){return Math.abs(t)}function BA(t){return Math.sign(t)}function fh(t,e){return _n(t-e)}function _Ne(t,e){if(t===0||e===0||_n(t)<=_n(e))return 0;const n=fh(_n(t),_n(e));return _n(n/t)}function ENe(t){return Math.round(t*100)/100}function Ip(t){return kp(t).map(Number)}function Oo(t){return t[pm(t)]}function pm(t){return Math.max(0,t.length-1)}function UA(t,e){return e===pm(t)}function AR(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function kp(t){return Object.keys(t)}function c9(t,e){return[t,e].reduce((n,r)=>(kp(r).forEach(i=>{const o=n[i],s=r[i],a=CR(o)&&CR(s);n[i]=a?c9(o,s):s}),n),{})}function H_(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function TNe(t,e){const n={start:r,center:i,end:o};function r(){return 0}function i(l){return o(l)/2}function o(l){return e-l}function s(l,u){return W_(t)?n[t](l):t(e,l,u)}return{measure:s}}function Op(){let t=[];function e(i,o,s,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(o,s,a),l=()=>i.removeEventListener(o,s,a);else{const u=i;u.addListener(s),l=()=>u.removeListener(s)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function CNe(t,e,n,r){const i=Op(),o=1e3/60;let s=null,a=0,l=0;function u(){i.add(t,"visibilitychange",()=>{t.hidden&&y()})}function d(){m(),i.clear()}function f(v){if(!l)return;s||(s=v,n(),n());const x=v-s;for(s=v,a+=x;a>=o;)n(),a-=o;const w=a/o;r(w),l&&(l=e.requestAnimationFrame(f))}function h(){l||(l=e.requestAnimationFrame(f))}function m(){e.cancelAnimationFrame(l),s=null,a=0,l=0}function y(){s=null,a=0}return{init:u,destroy:d,start:h,stop:m,update:n,render:r}}function ANe(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",o=r?"x":"y",s=!r&&n?-1:1,a=d(),l=f();function u(y){const{height:g,width:v}=y;return r?g:v}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function h(y){return y*s}return{scroll:i,cross:o,startEdge:a,endEdge:l,measureSize:u,direction:h}}function wc(t=0,e=0){const n=_n(t-e);function r(u){return u<t}function i(u){return u>e}function o(u){return r(u)||i(u)}function s(u){return o(u)?r(u)?t:e:u}function a(u){return n?u-n*Math.ceil((u-e)/n):u}return{length:n,max:e,min:t,constrain:s,reachedAny:o,reachedMax:i,reachedMin:r,removeOffset:a}}function u9(t,e,n){const{constrain:r}=wc(0,t),i=t+1;let o=s(e);function s(h){return n?_n((i+h)%i):r(h)}function a(){return o}function l(h){return o=s(h),f}function u(h){return d().set(a()+h)}function d(){return u9(t,a(),n)}const f={get:a,set:l,add:u,clone:d};return f}function PNe(t,e,n,r,i,o,s,a,l,u,d,f,h,m,y,g,v,x,w){const{cross:S,direction:C}=t,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},_=Op(),T=Op(),N=wc(50,225).constrain(m.measure(20)),k={mouse:300,touch:400},j={mouse:500,touch:600},R=y?43:25;let O=!1,$=0,F=0,U=!1,W=!1,V=!1,B=!1;function Z(z){if(!w)return;function Se(Xe){(K0(w)||w(z,Xe))&&ot(Xe)}const Te=e;_.add(Te,"dragstart",Xe=>Xe.preventDefault(),P).add(Te,"touchmove",()=>{},P).add(Te,"touchend",()=>{}).add(Te,"touchstart",Se).add(Te,"mousedown",Se).add(Te,"touchcancel",Ne).add(Te,"contextmenu",Ne).add(Te,"click",oe,!0)}function Q(){_.clear(),T.clear()}function ne(){const z=B?n:e;T.add(z,"touchmove",we,P).add(z,"touchend",Ne).add(z,"mousemove",we,P).add(z,"mouseup",Ne)}function Ee(z){const Se=z.nodeName||"";return E.includes(Se)}function Pe(){return(y?j:k)[B?"mouse":"touch"]}function Me(z,Se){const Te=f.add(BA(z)*-1),Xe=d.byDistance(z,!y).distance;return y||_n(z)<N?Xe:v&&Se?Xe*.5:d.byIndex(Te.get(),0).distance}function ot(z){const Se=H_(z,r);B=Se,V=y&&Se&&!z.buttons&&O,O=fh(i.get(),s.get())>=2,!(Se&&z.button!==0)&&(Ee(z.target)||(U=!0,o.pointerDown(z),u.useFriction(0).useDuration(0),i.set(s),ne(),$=o.readPoint(z),F=o.readPoint(z,S),h.emit("pointerDown")))}function we(z){if(!H_(z,r)&&z.touches.length>=2)return Ne(z);const Te=o.readPoint(z),Xe=o.readPoint(z,S),Qe=fh(Te,$),tt=fh(Xe,F);if(!W&&!B&&(!z.cancelable||(W=Qe>tt,!W)))return Ne(z);const Fe=o.pointerMove(z);Qe>g&&(V=!0),u.useFriction(.3).useDuration(.75),a.start(),i.add(C(Fe)),z.preventDefault()}function Ne(z){const Te=d.byDistance(0,!1).index!==f.get(),Xe=o.pointerUp(z)*Pe(),Qe=Me(C(Xe),Te),tt=_Ne(Xe,Qe),Fe=R-10*tt,le=x+tt/50;W=!1,U=!1,T.clear(),u.useDuration(Fe).useFriction(le),l.distance(Qe,!y),B=!1,h.emit("pointerUp")}function oe(z){V&&(z.stopPropagation(),z.preventDefault(),V=!1)}function me(){return U}return{init:Z,destroy:Q,pointerDown:me}}function NNe(t,e){let r,i;function o(f){return f.timeStamp}function s(f,h){const y=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(H_(f,e)?f:f.touches[0])[y]}function a(f){return r=f,i=f,s(f)}function l(f){const h=s(f)-s(i),m=o(f)-o(r)>170;return i=f,m&&(r=f),h}function u(f){if(!r||!i)return 0;const h=s(i)-s(r),m=o(f)-o(r),y=o(f)-o(i)>170,g=h/m;return m&&!y&&_n(g)>.1?g:0}return{pointerDown:a,pointerMove:l,pointerUp:u,readPoint:s}}function jNe(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:o,offsetHeight:s}=n;return{top:r,right:i+o,bottom:r+s,left:i,width:o,height:s}}return{measure:t}}function INe(t){function e(r){return t*(r/100)}return{measure:e}}function kNe(t,e,n,r,i,o,s){const a=[t].concat(r);let l,u,d=[],f=!1;function h(v){return i.measureSize(s.measure(v))}function m(v){if(!o)return;u=h(t),d=r.map(h);function x(w){for(const S of w){if(f)return;const C=S.target===t,E=r.indexOf(S.target),P=C?u:d[E],_=h(C?t:r[E]);if(_n(_-P)>=.5){v.reInit(),e.emit("resize");break}}}l=new ResizeObserver(w=>{(K0(o)||o(v,w))&&x(w)}),n.requestAnimationFrame(()=>{a.forEach(w=>l.observe(w))})}function y(){f=!0,l&&l.disconnect()}return{init:m,destroy:y}}function ONe(t,e,n,r,i,o){let s=0,a=0,l=i,u=o,d=t.get(),f=0;function h(){const P=r.get()-t.get(),_=!l;let T=0;return _?(s=0,n.set(r),t.set(r),T=P):(n.set(t),s+=P/l,s*=u,d+=s,t.add(s),T=d-f),a=BA(T),f=d,E}function m(){const P=r.get()-e.get();return _n(P)<.001}function y(){return l}function g(){return a}function v(){return s}function x(){return S(i)}function w(){return C(o)}function S(P){return l=P,E}function C(P){return u=P,E}const E={direction:g,duration:y,velocity:v,seek:h,settled:m,useBaseFriction:w,useBaseDuration:x,useFriction:C,useDuration:S};return E}function RNe(t,e,n,r,i){const o=i.measure(10),s=i.measure(50),a=wc(.1,.99);let l=!1;function u(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(m){if(!u())return;const y=t.reachedMin(e.get())?"min":"max",g=_n(t[y]-e.get()),v=n.get()-e.get(),x=a.constrain(g/s);n.subtract(v*x),!m&&_n(v)<o&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(m){l=!m}return{shouldConstrain:u,constrain:d,toggleActive:f}}function MNe(t,e,n,r,i){const o=wc(-e+t,0),s=f(),a=d(),l=h();function u(y,g){return fh(y,g)<=1}function d(){const y=s[0],g=Oo(s),v=s.lastIndexOf(y),x=s.indexOf(g)+1;return wc(v,x)}function f(){return n.map((y,g)=>{const{min:v,max:x}=o,w=o.constrain(y),S=!g,C=UA(n,g);return S?x:C||u(v,w)?v:u(x,w)?x:w}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(e<=t+i)return[o.max];if(r==="keepSnaps")return s;const{min:y,max:g}=a;return s.slice(y,g)}return{snapsContained:l,scrollContainLimit:a}}function DNe(t,e,n){const r=e[0],i=n?r-t:Oo(e);return{limit:wc(i,r)}}function $Ne(t,e,n,r){const o=e.min+.1,s=e.max+.1,{reachedMin:a,reachedMax:l}=wc(o,s);function u(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!u(h))return;const m=t*(h*-1);r.forEach(y=>y.add(m))}return{loop:d}}function LNe(t){const{max:e,length:n}=t;function r(o){const s=o-e;return n?s/-n:0}return{get:r}}function FNe(t,e,n,r,i){const{startEdge:o,endEdge:s}=t,{groupSlides:a}=i,l=f().map(e.measure),u=h(),d=m();function f(){return a(r).map(g=>Oo(g)[s]-g[0][o]).map(_n)}function h(){return r.map(g=>n[o]-g[o]).map(g=>-_n(g))}function m(){return a(u).map(g=>g[0]).map((g,v)=>g+l[v])}return{snaps:u,snapsAligned:d}}function VNe(t,e,n,r,i,o){const{groupSlides:s}=i,{min:a,max:l}=r,u=d();function d(){const h=s(o),m=!t||e==="keepSnaps";return n.length===1?[o]:m?h:h.slice(a,l).map((y,g,v)=>{const x=!g,w=UA(v,g);if(x){const S=Oo(v[0])+1;return AR(S)}if(w){const S=pm(o)-Oo(v)[0]+1;return AR(S,Oo(v)[0])}return y})}return{slideRegistry:u}}function BNe(t,e,n,r,i){const{reachedAny:o,removeOffset:s,constrain:a}=r;function l(y){return y.concat().sort((g,v)=>_n(g)-_n(v))[0]}function u(y){const g=t?s(y):a(y),v=e.map((w,S)=>({diff:d(w-g,0),index:S})).sort((w,S)=>_n(w.diff)-_n(S.diff)),{index:x}=v[0];return{index:x,distance:g}}function d(y,g){const v=[y,y+n,y-n];if(!t)return y;if(!g)return l(v);const x=v.filter(w=>BA(w)===g);return x.length?l(x):Oo(v)-n}function f(y,g){const v=e[y]-i.get(),x=d(v,g);return{index:y,distance:x}}function h(y,g){const v=i.get()+y,{index:x,distance:w}=u(v),S=!t&&o(v);if(!g||S)return{index:x,distance:y};const C=e[x]-w,E=y+d(C,0);return{index:x,distance:E}}return{byDistance:h,byIndex:f,shortcut:d}}function UNe(t,e,n,r,i,o,s){function a(f){const h=f.distance,m=f.index!==e.get();o.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(f.index),s.emit("select"))}function l(f,h){const m=i.byDistance(f,h);a(m)}function u(f,h){const m=e.clone().set(f),y=i.byIndex(m.get(),h);a(y)}return{distance:l,index:u}}function zNe(t,e,n,r,i,o,s,a){const l={passive:!0,capture:!0};let u=0;function d(m){if(!a)return;function y(g){if(new Date().getTime()-u>10)return;s.emit("slideFocusStart"),t.scrollLeft=0;const w=n.findIndex(S=>S.includes(g));VA(w)&&(i.useDuration(0),r.index(w,0),s.emit("slideFocus"))}o.add(document,"keydown",f,!1),e.forEach((g,v)=>{o.add(g,"focus",x=>{(K0(a)||a(m,x))&&y(v)},l)})}function f(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Bf(t){let e=t;function n(){return e}function r(l){e=s(l)}function i(l){e+=s(l)}function o(l){e-=s(l)}function s(l){return VA(l)?l:l.get()}return{get:n,set:r,add:i,subtract:o}}function d9(t,e){const n=t.scroll==="x"?s:a,r=e.style;let i=null,o=!1;function s(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(o)return;const m=ENe(t.direction(h));m!==i&&(r.transform=n(m),i=m)}function u(h){o=!h}function d(){o||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:l,toggleActive:u}}function WNe(t,e,n,r,i,o,s,a,l){const d=Ip(i),f=Ip(i).reverse(),h=x().concat(w());function m(_,T){return _.reduce((N,k)=>N-i[k],T)}function y(_,T){return _.reduce((N,k)=>m(N,T)>0?N.concat([k]):N,[])}function g(_){return o.map((T,N)=>({start:T-r[N]+.5+_,end:T+e-.5+_}))}function v(_,T,N){const k=g(T);return _.map(j=>{const R=N?0:-n,O=N?n:0,$=N?"end":"start",F=k[j][$];return{index:j,loopPoint:F,slideLocation:Bf(-1),translate:d9(t,l[j]),target:()=>a.get()>F?R:O}})}function x(){const _=s[0],T=y(f,_);return v(T,n,!1)}function w(){const _=e-s[0]-1,T=y(d,_);return v(T,-n,!0)}function S(){return h.every(({index:_})=>{const T=d.filter(N=>N!==_);return m(T,e)<=.1})}function C(){h.forEach(_=>{const{target:T,translate:N,slideLocation:k}=_,j=T();j!==k.get()&&(N.to(j),k.set(j))})}function E(){h.forEach(_=>_.translate.clear())}return{canLoop:S,clear:E,loop:C,loopPoints:h}}function HNe(t,e,n){let r,i=!1;function o(l){if(!n)return;function u(d){for(const f of d)if(f.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(K0(n)||n(l,d))&&u(d)}),r.observe(t,{childList:!0})}function s(){r&&r.disconnect(),i=!0}return{init:o,destroy:s}}function qNe(t,e,n,r){const i={};let o=null,s=null,a,l=!1;function u(){a=new IntersectionObserver(y=>{l||(y.forEach(g=>{const v=e.indexOf(g.target);i[v]=g}),o=null,s=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(y=>a.observe(y))}function d(){a&&a.disconnect(),l=!0}function f(y){return kp(i).reduce((g,v)=>{const x=parseInt(v),{isIntersecting:w}=i[x];return(y&&w||!y&&!w)&&g.push(x),g},[])}function h(y=!0){if(y&&o)return o;if(!y&&s)return s;const g=f(y);return y&&(o=g),y||(s=g),g}return{init:u,destroy:d,get:h}}function GNe(t,e,n,r,i,o){const{measureSize:s,startEdge:a,endEdge:l}=t,u=n[0]&&i,d=y(),f=g(),h=n.map(s),m=v();function y(){if(!u)return 0;const w=n[0];return _n(e[a]-w[a])}function g(){if(!u)return 0;const w=o.getComputedStyle(Oo(r));return parseFloat(w.getPropertyValue(`margin-${l}`))}function v(){return n.map((w,S,C)=>{const E=!S,P=UA(C,S);return E?h[S]+d:P?h[S]+f:C[S+1][a]-w[a]}).map(_n)}return{slideSizes:h,slideSizesWithGaps:m,startGap:d,endGap:f}}function KNe(t,e,n,r,i,o,s,a,l){const{startEdge:u,endEdge:d,direction:f}=t,h=VA(n);function m(x,w){return Ip(x).filter(S=>S%w===0).map(S=>x.slice(S,S+w))}function y(x){return x.length?Ip(x).reduce((w,S,C)=>{const E=Oo(w)||0,P=E===0,_=S===pm(x),T=i[u]-o[E][u],N=i[u]-o[S][d],k=!r&&P?f(s):0,j=!r&&_?f(a):0,R=_n(N-j-(T+k));return C&&R>e+l&&w.push(S),_&&w.push(x.length),w},[]).map((w,S,C)=>{const E=Math.max(C[S-1]||0);return x.slice(E,w)}):[]}function g(x){return h?m(x,n):y(x)}return{groupSlides:g}}function YNe(t,e,n,r,i,o,s){const{align:a,axis:l,direction:u,startIndex:d,loop:f,duration:h,dragFree:m,dragThreshold:y,inViewThreshold:g,slidesToScroll:v,skipSnaps:x,containScroll:w,watchResize:S,watchSlides:C,watchDrag:E,watchFocus:P}=o,_=2,T=jNe(),N=T.measure(e),k=n.map(T.measure),j=ANe(l,u),R=j.measureSize(N),O=INe(R),$=TNe(a,R),F=!f&&!!w,U=f||!!w,{slideSizes:W,slideSizesWithGaps:V,startGap:B,endGap:Z}=GNe(j,N,k,n,U,i),Q=KNe(j,R,v,f,N,k,B,Z,_),{snaps:ne,snapsAligned:Ee}=FNe(j,$,N,k,Q),Pe=-Oo(ne)+Oo(V),{snapsContained:Me,scrollContainLimit:ot}=MNe(R,Pe,Ee,w,_),we=F?Me:Ee,{limit:Ne}=DNe(Pe,we,f),oe=u9(pm(we),d,f),me=oe.clone(),ae=Ip(n),z=({dragHandler:qt,scrollBody:hn,scrollBounds:$t,options:{loop:He}})=>{He||$t.constrain(qt.pointerDown()),hn.seek()},Se=({scrollBody:qt,translate:hn,location:$t,offsetLocation:He,previousLocation:qr,scrollLooper:pr,slideLooper:er,dragHandler:mr,animation:tn,eventHandler:nn,scrollBounds:tr,options:{loop:Ln}},Gt)=>{const xn=qt.settled(),kn=!tr.shouldConstrain(),Ar=Ln?xn:xn&&kn,Mi=Ar&&!mr.pointerDown();Mi&&tn.stop();const Di=$t.get()*Gt+qr.get()*(1-Gt);He.set(Di),Ln&&(pr.loop(qt.direction()),er.loop()),hn.to(He.get()),Mi&&nn.emit("settle"),Ar||nn.emit("scroll")},Te=CNe(r,i,()=>z(vn),qt=>Se(vn,qt)),Xe=.68,Qe=we[oe.get()],tt=Bf(Qe),Fe=Bf(Qe),le=Bf(Qe),Je=Bf(Qe),kt=ONe(tt,le,Fe,Je,h,Xe),yt=BNe(f,we,Pe,Ne,Je),Ot=UNe(Te,oe,me,kt,yt,Je,s),gn=LNe(Ne),yn=Op(),Wn=qNe(e,n,s,g),{slideRegistry:Cr}=VNe(F,w,we,ot,Q,ae),en=zNe(t,n,Cr,Ot,kt,yn,s,P),vn={ownerDocument:r,ownerWindow:i,eventHandler:s,containerRect:N,slideRects:k,animation:Te,axis:j,dragHandler:PNe(j,t,r,i,Je,NNe(j,i),tt,Te,Ot,kt,yt,oe,s,O,m,y,x,Xe,E),eventStore:yn,percentOfView:O,index:oe,indexPrevious:me,limit:Ne,location:tt,offsetLocation:le,previousLocation:Fe,options:o,resizeHandler:kNe(e,s,i,n,j,S,T),scrollBody:kt,scrollBounds:RNe(Ne,le,Je,kt,O),scrollLooper:$Ne(Pe,Ne,le,[tt,le,Fe,Je]),scrollProgress:gn,scrollSnapList:we.map(gn.get),scrollSnaps:we,scrollTarget:yt,scrollTo:Ot,slideLooper:WNe(j,R,Pe,W,V,ne,we,le,n),slideFocus:en,slidesHandler:HNe(e,s,C),slidesInView:Wn,slideIndexes:ae,slideRegistry:Cr,slidesToScroll:Q,target:Je,translate:d9(j,e)};return vn}function XNe(){let t={},e;function n(u){e=u}function r(u){return t[u]||[]}function i(u){return r(u).forEach(d=>d(e,u)),l}function o(u,d){return t[u]=r(u).concat([d]),l}function s(u,d){return t[u]=r(u).filter(f=>f!==d),l}function a(){t={}}const l={init:n,emit:i,off:s,on:o,clear:a};return l}const QNe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function JNe(t){function e(o,s){return c9(o,s||{})}function n(o){const s=o.breakpoints||{},a=kp(s).filter(l=>t.matchMedia(l).matches).map(l=>s[l]).reduce((l,u)=>e(l,u),{});return e(o,a)}function r(o){return o.map(s=>kp(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function ZNe(t){let e=[];function n(o,s){return e=s.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(o,t)),s.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(o=>o.destroy())}return{init:n,destroy:r}}function tx(t,e,n){const r=t.ownerDocument,i=r.defaultView,o=JNe(i),s=ZNe(o),a=Op(),l=XNe(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=o,{on:h,off:m,emit:y}=l,g=j;let v=!1,x,w=u(QNe,tx.globalOptions),S=u(w),C=[],E,P,_;function T(){const{container:ae,slides:z}=S;P=(W_(ae)?t.querySelector(ae):ae)||t.children[0];const Te=W_(z)?P.querySelectorAll(z):z;_=[].slice.call(Te||P.children)}function N(ae){const z=YNe(t,P,_,r,i,ae,l);if(ae.loop&&!z.slideLooper.canLoop()){const Se=Object.assign({},ae,{loop:!1});return N(Se)}return z}function k(ae,z){v||(w=u(w,ae),S=d(w),C=z||C,T(),x=N(S),f([w,...C.map(({options:Se})=>Se)]).forEach(Se=>a.add(Se,"change",j)),S.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(me),x.eventHandler.init(me),x.resizeHandler.init(me),x.slidesHandler.init(me),x.options.loop&&x.slideLooper.loop(),P.offsetParent&&_.length&&x.dragHandler.init(me),E=s.init(me,C)))}function j(ae,z){const Se=Q();R(),k(u({startIndex:Se},ae),z),l.emit("reInit")}function R(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),s.destroy(),a.clear()}function O(){v||(v=!0,a.clear(),R(),l.emit("destroy"),l.clear())}function $(ae,z,Se){!S.active||v||(x.scrollBody.useBaseFriction().useDuration(z===!0?0:S.duration),x.scrollTo.index(ae,Se||0))}function F(ae){const z=x.index.add(1).get();$(z,ae,-1)}function U(ae){const z=x.index.add(-1).get();$(z,ae,1)}function W(){return x.index.add(1).get()!==Q()}function V(){return x.index.add(-1).get()!==Q()}function B(){return x.scrollSnapList}function Z(){return x.scrollProgress.get(x.offsetLocation.get())}function Q(){return x.index.get()}function ne(){return x.indexPrevious.get()}function Ee(){return x.slidesInView.get()}function Pe(){return x.slidesInView.get(!1)}function Me(){return E}function ot(){return x}function we(){return t}function Ne(){return P}function oe(){return _}const me={canScrollNext:W,canScrollPrev:V,containerNode:Ne,internalEngine:ot,destroy:O,off:m,on:h,emit:y,plugins:Me,previousScrollSnap:ne,reInit:g,rootNode:we,scrollNext:F,scrollPrev:U,scrollProgress:Z,scrollSnapList:B,scrollTo:$,selectedScrollSnap:Q,slideNodes:oe,slidesInView:Ee,slidesNotInView:Pe};return k(e,n),setTimeout(()=>l.emit("init"),0),me}tx.globalOptions=void 0;function zA(t={},e=[]){const n=b.useRef(t),r=b.useRef(e),[i,o]=b.useState(),[s,a]=b.useState(),l=b.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return b.useEffect(()=>{FA(n.current,t)||(n.current=t,l())},[t,l]),b.useEffect(()=>{SNe(r.current,e)||(r.current=e,l())},[e,l]),b.useEffect(()=>{if(wNe()&&s){tx.globalOptions=zA.globalOptions;const u=tx(s,n.current,r.current);return o(u),()=>u.destroy()}else o(void 0)},[s,o]),[a,i]}zA.globalOptions=void 0;const f9=b.createContext(null);function Y0(){const t=b.useContext(f9);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const q_=b.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:o,...s},a)=>{const[l,u]=zA({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=b.useState(!1),[h,m]=b.useState(!1),y=b.useCallback(w=>{w&&(f(w.canScrollPrev()),m(w.canScrollNext()))},[]),g=b.useCallback(()=>{u==null||u.scrollPrev()},[u]),v=b.useCallback(()=>{u==null||u.scrollNext()},[u]),x=b.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),g()):w.key==="ArrowRight"&&(w.preventDefault(),v())},[g,v]);return b.useEffect(()=>{!u||!n||n(u)},[u,n]),b.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u==null||u.off("select",y)}},[u,y]),c.jsx(f9.Provider,{value:{carouselRef:l,api:u,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:d,canScrollNext:h},children:c.jsx("div",{ref:a,onKeyDownCapture:x,className:ct("relative",i),role:"region","aria-roledescription":"carousel",...s,children:o})})});q_.displayName="Carousel";const G_=b.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=Y0();return c.jsx("div",{ref:r,className:"overflow-hidden",children:c.jsx("div",{ref:n,className:ct("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});G_.displayName="CarouselContent";const K_=b.forwardRef(({className:t,...e},n)=>{const{orientation:r}=Y0();return c.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ct("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});K_.displayName="CarouselItem";const Y_=b.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollPrev:s,canScrollPrev:a}=Y0();return c.jsxs(ue,{ref:i,variant:e,size:n,className:ct("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[c.jsx(Io,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Y_.displayName="CarouselPrevious";const X_=b.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollNext:s,canScrollNext:a}=Y0();return c.jsxs(ue,{ref:i,variant:e,size:n,className:ct("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[c.jsx(tH,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Next slide"})]})});X_.displayName="CarouselNext";function eje({seconds:t,totalSeconds:e,playerName:n,isExtension:r,isRunning:i=!0,onClick:o}){const s=t/e*100,a=()=>t===0?"bg-black":s>60?"bg-gradient-to-b from-green-500 to-green-700":s>40?"bg-gradient-to-b from-yellow-500 to-yellow-600":s>20?"bg-gradient-to-b from-orange-500 to-orange-600":"bg-gradient-to-b from-red-600 to-red-800",l=()=>t===0?"text-red-500":"text-white",u=()=>s<=20&&t>0?"animate-pulse":"",d=f=>{if(f>=60){const h=Math.floor(f/60),m=f%60;return`${h}:${m.toString().padStart(2,"0")}`}return f.toString()};return c.jsxs("button",{className:`flex flex-col items-center justify-center w-full h-full transition-all duration-500 ${a()} cursor-pointer active:opacity-90 select-none focus:outline-none focus:ring-2 focus:ring-white/30`,onClick:o,"data-testid":"display-timer",type:"button",children:[n&&c.jsx("div",{className:"text-[clamp(1.25rem,4vw,2rem)] font-semibold text-white/90 mb-1 tracking-wide","data-testid":"text-player-name",children:n}),c.jsx("div",{className:`font-mono font-bold transition-all duration-300 ${l()} ${u()}`,style:{fontSize:"clamp(6rem, 30vw, 18rem)",lineHeight:1,textShadow:t>0?"0 4px 20px rgba(0,0,0,0.3)":"none"},children:d(t)}),!i&&t>0&&c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[c.jsx(Jf,{className:"w-5 h-5 md:w-6 md:h-6"}),c.jsx("span",{className:"text-sm md:text-base font-medium",children:"TAP TO RESUME"})]}),i&&t>0&&c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/50",children:[c.jsx(tL,{className:"w-4 h-4 md:w-5 md:h-5"}),c.jsx("span",{className:"text-xs md:text-sm",children:"tap to pause"})]}),r&&c.jsx("div",{className:"text-base md:text-lg text-white/80 mt-1 font-medium","data-testid":"text-extension-indicator",children:"EXTENSION"}),t===0&&c.jsxs("div",{className:"flex flex-col items-center mt-2",children:[c.jsx("div",{className:"text-xl md:text-3xl text-red-400 font-bold animate-pulse","data-testid":"text-time-expired",children:"TIME EXPIRED"}),c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[c.jsx(Jf,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"TAP TO RESTART"})]})]})]})}const PR="shotclock_tutorial_seen",NR="shotclock_sessions",wg="shotclock_paused_session";function tje(){var Cs,Bo;const[,t]=yl(),[e,n]=b.useState("setup"),[r,i]=b.useState("solo"),[o,s]=b.useState([{name:"Player 1",extensions:0}]),[a,l]=b.useState(0),[u,d]=b.useState([{name:"Team 1",players:["Player 1A","Player 1B"],extensions:0},{name:"Team 2",players:["Player 2A","Player 2B"],extensions:0}]),[f,h]=b.useState(0),[m,y]=b.useState(0),[g,v]=b.useState(30),[x,w]=b.useState(30),[S,C]=b.useState(30),[E,P]=b.useState(!1),[_,T]=b.useState(!1),[N]=b.useState(3),[k]=b.useState(15),[j,R]=b.useState(!0),[O,$]=b.useState(!1),[F,U]=b.useState(1),W=b.useRef(null),V=b.useRef(null),[B,Z]=b.useState({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),Q=b.useRef(0),ne=b.useRef(0),Ee=b.useRef(0),[Pe,Me]=b.useState(!1),[ot,we]=b.useState(!1),[Ne,oe]=b.useState([]),[me,ae]=b.useState(1),[z,Se]=b.useState(!1);b.useEffect(()=>(Tt.startSession("tempo"),()=>{Ee.current>0&&Tt.trackSkillMetric("tempo","session_complete",1),Tt.endSession()}),[]),b.useEffect(()=>{const q=localStorage.getItem(wg);if(q)try{const re=JSON.parse(q);(re.gameMode==="paused"||re.gameMode==="playing")&&(n("paused"),i(re.playerMode),s(re.players),l(re.currentPlayerIndex),v(re.duration),C(re.timeRemaining),T(re.isInExtension),R(re.soloAutoRestart),Z({...re.sessionStats,shotEvents:re.sessionStats.shotEvents||[]}),ne.current=re.accumulatedShotTime||0,re.teams&&d(re.teams),re.currentTeamIndex!==void 0&&h(re.currentTeamIndex),re.currentPartnerIndex!==void 0&&y(re.currentPartnerIndex))}catch{localStorage.removeItem(wg)}},[]),b.useEffect(()=>{localStorage.getItem(PR)||$(!0)},[]);const Te=b.useCallback((q=800,re=.3,Ae=1)=>{V.current||(V.current=new AudioContext);const Oe=V.current;for(let Ue=0;Ue<Ae;Ue++)setTimeout(()=>{const st=Oe.createOscillator(),It=Oe.createGain();st.connect(It),It.connect(Oe.destination),st.frequency.value=q,It.gain.value=.4,It.gain.exponentialRampToValueAtTime(.01,Oe.currentTime+re),st.start(Oe.currentTime),st.stop(Oe.currentTime+re)},Ue*150)},[]),Xe=b.useCallback(()=>{Te(600,.15,1)},[Te]),Qe=b.useCallback(()=>{Te(400,.5,3)},[Te]),tt=b.useCallback(()=>{Te(1e3,.2,2)},[Te]);b.useEffect(()=>(E&&S>0?W.current=setInterval(()=>{C(q=>{if(q<=6&&q>1&&Xe(),q<=1){if(Qe(),T(!1),r==="solo"&&j){let re=ne.current/1e3;Q.current>0&&(re+=(Date.now()-Q.current)/1e3),re<=0&&(re=g),Ee.current++,Tt.trackSkillMetric("tempo","shot_time",re),Z(Ae=>{var Ue;const Oe={shotIndex:Ae.shotCount,duration:Math.max(0,re),playerName:((Ue=o[0])==null?void 0:Ue.name)||"Player 1",timestamp:Date.now(),eventType:"stroke"};return{...Ae,shotCount:Ae.shotCount+1,shotDurations:[...Ae.shotDurations,Math.max(0,re)],shotEvents:[...Ae.shotEvents||[],Oe]}}),ne.current=0,setTimeout(()=>{tt(),C(g),P(!0),Q.current=Date.now()},1500)}else Z(re=>({...re,timeouts:re.timeouts+1})),P(!1);return 0}return q-1})},1e3):W.current&&clearInterval(W.current),()=>{W.current&&clearInterval(W.current)}),[E,S,r,j,g,Xe,Qe,tt]);const Fe=o[a],le=u[f];r==="scotch-doubles"?le==null||le.players[m]:Fe==null||Fe.name;const Je=()=>{S===0&&(C(g),T(!1)),Q.current===0&&(Q.current=Date.now()),P(!0)},kt=()=>{Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,P(!1)},yt=b.useCallback(()=>{const q={gameMode:"paused",playerMode:r,players:o,currentPlayerIndex:a,duration:g,timeRemaining:S,isInExtension:_,soloAutoRestart:j,sessionStats:B,accumulatedShotTime:ne.current,teams:u,currentTeamIndex:f,currentPartnerIndex:m};localStorage.setItem(wg,JSON.stringify(q))},[r,o,a,g,S,_,j,B,u,f,m]),Ot=()=>{localStorage.removeItem(wg)},gn=()=>{Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,P(!1),n("paused")};b.useEffect(()=>{e==="paused"&&yt()},[e,yt]);const yn=()=>{n("playing"),S>0&&(Q.current=Date.now(),P(!0))},Wn=()=>{P(!1),n("paused"),yt(),t("/")};b.useEffect(()=>{const q=()=>{document.hidden&&e==="playing"&&E&&(Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,P(!1),n("paused"))};return document.addEventListener("visibilitychange",q),()=>{document.removeEventListener("visibilitychange",q)}},[e,E]);const Cr=()=>{P(!1),Se(!0)},en=q=>{var Ae;let re=ne.current/1e3;if(Q.current>0&&(re+=(Date.now()-Q.current)/1e3),re>0){Ee.current++,Tt.trackSkillMetric("tempo","shot_time",re),Tt.trackSkillMetric("tempo",q==="stroke"?"stroke_count":"turn_end_count",1);const Oe={shotIndex:B.shotCount,duration:Math.max(0,re),playerName:r==="scotch-doubles"?(le==null?void 0:le.players[m])||"Unknown":r==="two-player"?(Fe==null?void 0:Fe.name)||"Unknown":((Ae=o[0])==null?void 0:Ae.name)||"Player 1",teamName:r==="scotch-doubles"?le==null?void 0:le.name:void 0,timestamp:Date.now(),eventType:q};Z(Ue=>({...Ue,shotCount:Ue.shotCount+1,shotDurations:[...Ue.shotDurations,Math.max(0,re)],shotEvents:[...Ue.shotEvents||[],Oe]}))}C(g),T(!1),ne.current=0},vn=()=>{Se(!1),en("stroke"),Q.current=Date.now(),setTimeout(()=>P(!0),100)},qt=()=>{Se(!1),en("turn_end"),r==="two-player"?l(q=>(q+1)%o.length):r==="scotch-doubles"&&(h(q=>(q+1)%u.length),y(0)),Q.current=Date.now(),setTimeout(()=>P(!0),100)},hn=()=>{Se(!1);const q=mr(),re=r==="scotch-doubles"?(le==null?void 0:le.name)||"Team 1":(Fe==null?void 0:Fe.name)||"Player 1",Ae=r==="scotch-doubles"?"team":"player";Z(Oe=>{var K;const Ue={...Oe};let st=[...Oe.shotEvents||[]];q&&(st.push(q),Ue.shotDurations=[...Oe.shotDurations,q.duration],Ue.shotCount=Oe.shotCount+1);const On={rackNumber:(((K=Oe.rackResults)==null?void 0:K.length)||0)+1,winner:re,winnerType:Ae,shotEvents:st,timestamp:Date.now()};return Ue.rackResults=[...Oe.rackResults||[],On],Ue.shotEvents=[],Ue}),ae(Oe=>Oe+1),ne.current=0,Q.current=Date.now(),C(g),T(!1),r==="scotch-doubles"?d(Oe=>Oe.map(Ue=>({...Ue,extensions:0}))):s(Oe=>Oe.map(Ue=>({...Ue,extensions:0}))),setTimeout(()=>P(!0),100)},$t=()=>{var Oe,Ue;Se(!1);const q=mr();let re,Ae;if(r==="scotch-doubles"){const st=(f+1)%u.length;re=((Oe=u[st])==null?void 0:Oe.name)||"Team 2",Ae="team"}else if(r==="two-player"){const st=(a+1)%o.length;re=((Ue=o[st])==null?void 0:Ue.name)||"Player 2",Ae="player"}else re="Opponent",Ae="player";Z(st=>{var fe;const It={...st};let On=[...st.shotEvents||[]];q&&(On.push(q),It.shotDurations=[...st.shotDurations,q.duration],It.shotCount=st.shotCount+1);const ce={rackNumber:(((fe=st.rackResults)==null?void 0:fe.length)||0)+1,winner:re,winnerType:Ae,shotEvents:On,timestamp:Date.now()};return It.rackResults=[...st.rackResults||[],ce],It.shotEvents=[],It}),ae(st=>st+1),ne.current=0,Q.current=Date.now(),C(g),T(!1),r==="scotch-doubles"?d(st=>st.map(It=>({...It,extensions:0}))):s(st=>st.map(It=>({...It,extensions:0}))),setTimeout(()=>P(!0),100)},He=()=>{let q=ne.current/1e3;if(Q.current>0&&(q+=(Date.now()-Q.current)/1e3),q>0){Ee.current++,Tt.trackSkillMetric("tempo","shot_time",q);const re={shotIndex:B.shotCount,duration:Math.max(0,q),playerName:(le==null?void 0:le.players[m])||"Unknown",teamName:le==null?void 0:le.name,timestamp:Date.now(),eventType:"stroke"};Z(Ae=>({...Ae,shotCount:Ae.shotCount+1,shotDurations:[...Ae.shotDurations,Math.max(0,q)],shotEvents:[...Ae.shotEvents||[],re]}))}P(!1),C(g),T(!1),ne.current=0,y(re=>(re+1)%2),Q.current=Date.now(),setTimeout(()=>P(!0),100)},qr=()=>{r==="scotch-doubles"?le&&le.extensions<N&&(C(q=>q+k),T(!0),d(q=>q.map((re,Ae)=>Ae===f?{...re,extensions:re.extensions+1}:re)),Z(q=>({...q,totalExtensions:q.totalExtensions+1}))):Fe&&Fe.extensions<N&&(C(q=>q+k),T(!0),s(q=>q.map((re,Ae)=>Ae===a?{...re,extensions:re.extensions+1}:re)),Z(q=>({...q,totalExtensions:q.totalExtensions+1})))},pr=q=>{const re=localStorage.getItem(NR),Ae=re?JSON.parse(re):[],Oe={id:Date.now().toString(),date:new Date().toISOString(),stats:q};Ae.unshift(Oe),Ae.length>20&&Ae.pop(),localStorage.setItem(NR,JSON.stringify(Ae))},er=()=>{P(!1),Me(!0)},mr=()=>{var re;let q=ne.current/1e3;return Q.current>0&&(q+=(Date.now()-Q.current)/1e3),q>0&&S<g&&S>0?{shotIndex:B.shotCount,duration:Math.max(0,q),playerName:r==="scotch-doubles"?(le==null?void 0:le.players[m])||"Unknown":r==="two-player"?(Fe==null?void 0:Fe.name)||"Unknown":((re=o[0])==null?void 0:re.name)||"Player 1",teamName:r==="scotch-doubles"?le==null?void 0:le.name:void 0,timestamp:Date.now(),eventType:"stroke"}:null},tn=(q,re)=>{const Ae=mr(),Oe={rackNumber:me,winner:q,winnerType:re,shotEvents:Ne,timestamp:Date.now()};Z(Ue=>{const st={...Ue};return Ae&&(st.shotDurations=[...Ue.shotDurations,Ae.duration],st.shotCount=Ue.shotCount+1,st.shotEvents=[...Ue.shotEvents||[],Ae]),st.rackResults=[...Ue.rackResults||[],Oe],st}),ae(Ue=>Ue+1),oe([]),we(!1),ne.current=0,Q.current=Date.now(),C(g),T(!1),P(!0)},nn=()=>{Me(!1),Ot();const q={...B,endTime:Date.now(),duration:g,playerMode:r,playerNames:o.map(Ae=>Ae.name)},re=mr();re&&(q.shotDurations=[...q.shotDurations,re.duration],q.shotCount+=1,q.shotEvents=[...q.shotEvents||[],re]),ne.current=0,Q.current=0,Z(q),pr(q),ae(1),oe([]),n("summary")},tr=()=>{Ot(),C(g),T(!1),s(q=>q.map(re=>({...re,extensions:0}))),d(q=>q.map(re=>({...re,extensions:0}))),l(0),h(0),y(0),Z({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),Q.current=0,ne.current=0,ae(1),oe([]),n("setup")},Ln=()=>{Me(!1),P(!0),Q.current=Date.now()},Gt=()=>{var q;return r==="scotch-doubles"?u.map(re=>({name:re.name,type:"team"})):r==="two-player"?o.map(re=>({name:re.name,type:"player"})):[{name:((q=o[0])==null?void 0:q.name)||"Player 1",type:"player"}]},xn=q=>{v(q),C(q),w(q)},kn=()=>{v(x),C(x)},Ar=()=>{var re,Ae,Oe,Ue,st,It,On,K,ce,fe,de,Ie;Ot(),Ee.current=0,r==="two-player"?s([{name:((re=o[0])==null?void 0:re.name)||"Player 1",extensions:0},{name:((Ae=o[1])==null?void 0:Ae.name)||"Player 2",extensions:0}]):r==="scotch-doubles"?(d(nt=>nt.map(bt=>({...bt,extensions:0}))),h(0),y(0)):s([{name:((Oe=o[0])==null?void 0:Oe.name)||"Player 1",extensions:0}]),l(0),C(g),T(!1),ne.current=0;let q;r==="scotch-doubles"?q=[`${(Ue=u[0])==null?void 0:Ue.name}: ${(st=u[0])==null?void 0:st.players[0]}, ${(It=u[0])==null?void 0:It.players[1]}`,`${(On=u[1])==null?void 0:On.name}: ${(K=u[1])==null?void 0:K.players[0]}, ${(ce=u[1])==null?void 0:ce.players[1]}`]:r==="two-player"?q=[((fe=o[0])==null?void 0:fe.name)||"Player 1",((de=o[1])==null?void 0:de.name)||"Player 2"]:q=[((Ie=o[0])==null?void 0:Ie.name)||"Player 1"],Z({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:Date.now(),duration:g,playerMode:r,playerNames:q}),Q.current=Date.now(),n("playing")},Mi=(q,re)=>{s(Ae=>{const Oe=[...Ae];return Oe[q]||(Oe[q]={name:"",extensions:0}),Oe[q]={...Oe[q],name:re},Oe})},Di=(q,re)=>{d(Ae=>{const Oe=[...Ae];return Oe[q]={...Oe[q],name:re},Oe})},ti=(q,re,Ae)=>{d(Oe=>{const Ue=[...Oe],st=[...Ue[q].players];return st[re]=Ae,Ue[q]={...Ue[q],players:st},Ue})},oo=()=>{localStorage.setItem(PR,"true"),$(!1),U(1)},Vo=()=>B.shotDurations.length===0?0:B.shotDurations.reduce((re,Ae)=>re+Ae,0)/B.shotDurations.length,Pr=q=>{const re=Math.floor(q/60),Ae=Math.floor(q%60);return re>0?`${re}m ${Ae}s`:`${Ae.toFixed(1)}s`},hi=c.jsx(Xr,{open:O,onOpenChange:q=>{$(q),q||U(1)},children:c.jsxs(zr,{className:"max-w-md",children:[c.jsxs(br,{children:[c.jsx(wr,{children:"Welcome to CueMaster: Tempo"}),c.jsx(Ao,{className:"sr-only",children:"Shot clock tutorial with game modes, controls, and audio cues"})]}),c.jsxs("div",{className:"space-y-4",children:[F===1&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"1) Game Modes"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"The Shot Clock helps maintain game pace during practice or competitive play."}),c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg space-y-2",children:[c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"Solo Mode:"})," ",c.jsx("span",{className:"text-muted-foreground",children:"Practice your timing with continuous countdown and interval chimes"})]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"Two-Player Mode:"})," ",c.jsx("span",{className:"text-muted-foreground",children:"Alternate between players, each with their own extension bank"})]})]})]}),F===2&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"2) Controls During Play"}),c.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0",children:c.jsx(Hc,{className:"w-4 h-4 text-primary"})}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Next Shot:"})," Reset clock for next shot (switches player in 2P mode)"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold text-primary",children:"+15s"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Extension:"})," Add 15 seconds (max 3 per player)"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-destructive/20 rounded flex items-center justify-center flex-shrink-0",children:c.jsx(Hm,{className:"w-4 h-4 text-destructive"})}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Stop:"})," End the game and view session stats"]})]})]})]}),F===3&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"3) Visual & Audio Cues"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsxs("li",{children:["Background changes from ",c.jsx("span",{className:"text-green-500 font-semibold",children:"green"}),"  ",c.jsx("span",{className:"text-yellow-500 font-semibold",children:"yellow"}),"  ",c.jsx("span",{className:"text-orange-500 font-semibold",children:"orange"}),"  ",c.jsx("span",{className:"text-red-500 font-semibold",children:"red"})]}),c.jsx("li",{children:"Warning beeps in the final 5 seconds"}),c.jsx("li",{children:"Triple chime when time expires"}),c.jsx("li",{children:"In solo mode with auto-restart, a double chime signals the interval"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ue,{variant:"outline",size:"sm",onClick:()=>U(q=>Math.max(1,q-1)),disabled:F===1,children:"Back"}),c.jsx(ue,{variant:"outline",size:"sm",onClick:()=>U(q=>Math.min(3,q+1)),disabled:F===3,children:"Next"})]}),c.jsx("div",{className:"flex gap-1",children:[1,2,3].map(q=>c.jsx("div",{className:`w-2 h-2 rounded-full ${q===F?"bg-primary":"bg-muted"}`},q))}),c.jsx(ue,{size:"sm",onClick:oo,"data-testid":"button-complete-tutorial",children:F===3?"Finish":"Skip"})]})]})}),Es=c.jsx(Xr,{open:Pe,onOpenChange:q=>{q||Ln()},children:c.jsxs(zr,{className:"max-w-sm",children:[c.jsxs(br,{children:[c.jsx(wr,{children:"End Session?"}),c.jsx(Ao,{className:"sr-only",children:"Confirm you want to end the session"})]}),c.jsxs("div",{className:"space-y-4 py-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Are you sure you want to end this session? Your stats will be saved."}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(ue,{variant:"outline",className:"w-full",onClick:Ln,"data-testid":"button-cancel-stop",children:"Cancel"}),c.jsx(ue,{variant:"destructive",className:"w-full",onClick:nn,"data-testid":"button-end-session",children:"End Session"})]})]})]})}),Nr=c.jsx(Xr,{open:ot,onOpenChange:q=>{q||(we(!1),P(!0),Q.current=Date.now())},children:c.jsxs(zr,{className:"max-w-sm",children:[c.jsxs(br,{children:[c.jsxs(wr,{children:["Who Won Rack ",me,"?"]}),c.jsx(Ao,{className:"sr-only",children:"Select the winner of this rack"})]}),c.jsx("div",{className:"space-y-3 py-2",children:c.jsx("div",{className:"grid grid-cols-1 gap-2",children:Gt().map(q=>c.jsx(ue,{variant:"outline",className:"w-full h-auto py-4 text-lg font-semibold",onClick:()=>tn(q.name,q.type),"data-testid":`button-winner-${q.name.replace(/\s+/g,"-").toLowerCase()}`,children:q.name},q.name))})}),c.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>{we(!1),P(!0),Q.current=Date.now()},className:"w-full","data-testid":"button-cancel-winner",children:"Cancel"})]})}),pi=()=>r==="scotch-doubles"?(le==null?void 0:le.name)||"Team 1":(Fe==null?void 0:Fe.name)||"Player 1",Ts=c.jsx(Xr,{open:z,onOpenChange:q=>{q||(Se(!1),P(!0),Q.current=Date.now())},children:c.jsxs(zr,{className:"max-w-sm",children:[c.jsxs(br,{children:[c.jsx(wr,{children:"Next Action"}),c.jsx(Ao,{className:"sr-only",children:"Choose your next action"})]}),c.jsx("div",{className:"space-y-3 py-2",children:c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsx(ue,{variant:"outline",className:"w-full h-auto py-3",onClick:vn,"data-testid":"button-new-stroke",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(nL,{className:"w-5 h-5 text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold",children:"Next Shot"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Same player continues"})]})]})}),c.jsx(ue,{variant:"outline",className:"w-full h-auto py-3",onClick:qt,"data-testid":"button-end-turn",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(Hc,{className:"w-5 h-5 text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold",children:"End Turn"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:r==="scotch-doubles"?"Switch to other team":r==="two-player"?"Switch to other player":"End turn"})]})]})}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx(ue,{variant:"default",className:"w-full h-auto py-3 bg-green-600 hover:bg-green-700",onClick:hn,"data-testid":"button-player-won",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx($a,{className:"w-5 h-5 flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsxs("p",{className:"font-semibold",children:[pi()," Won"]}),c.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})}),c.jsx(ue,{variant:"default",className:"w-full h-auto py-3 bg-red-600 hover:bg-red-700",onClick:$t,"data-testid":"button-player-lost",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(Ob,{className:"w-5 h-5 flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsxs("p",{className:"font-semibold",children:[pi()," Lost"]}),c.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})})]})}),c.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>{Se(!1),P(!0),Q.current=Date.now()},className:"w-full","data-testid":"button-cancel-next",children:"Cancel"})]})});if(e==="summary"){const q=Vo(),re=B.endTime?(B.endTime-B.startTime)/1e3:0;return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:tr,"data-testid":"button-back",children:c.jsx(Io,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Session Summary"})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[c.jsxs(Ze,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:c.jsx(k1,{className:"w-5 h-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Session Complete"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:B.playerMode==="two-player"?B.playerNames.join(" vs "):B.playerNames[0]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(nT,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Shot Time"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-avg-duration",children:Pr(q)})]}),c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Hc,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Shots"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shot-count",children:B.shotCount})]}),c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Oh,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Extensions"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-extensions-count",children:B.totalExtensions})]}),c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(rT,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeouts"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-timeouts",children:B.timeouts})]})]})]}),c.jsxs(Ze,{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Session Details"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Shot Clock Duration"}),c.jsxs("span",{className:"font-medium",children:[B.duration,"s"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Total Session Time"}),c.jsx("span",{className:"font-medium",children:Pr(re)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Game Mode"}),c.jsx("span",{className:"font-medium capitalize",children:B.playerMode.replace("-"," ")})]})]})]}),B.rackResults&&B.rackResults.length>0&&c.jsxs(Ze,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx($a,{className:"w-5 h-5 text-primary"}),c.jsx("h3",{className:"font-semibold text-foreground",children:"Rack Results"})]}),c.jsx("div",{className:"space-y-2",children:B.rackResults.map((Ae,Oe)=>c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("span",{className:"text-muted-foreground",children:["Rack ",Ae.rackNumber]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($a,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"font-medium text-foreground",children:Ae.winner})]})]},Oe))})]}),B.shotEvents&&B.shotEvents.length>0&&(()=>{var K;const Ae=B.shotEvents.reduce((ce,fe)=>(ce[fe.playerName]||(ce[fe.playerName]={shots:[],total:0,teamName:fe.teamName}),ce[fe.playerName].shots.push(fe),ce[fe.playerName].total+=fe.duration,ce),{}),Oe=B.shotEvents.reduce((ce,fe)=>(fe.teamName&&(ce[fe.teamName]||(ce[fe.teamName]={shots:[],total:0}),ce[fe.teamName].shots.push(fe),ce[fe.teamName].total+=fe.duration),ce),{}),Ue=Object.keys(Ae),st=Object.keys(Oe),On=(()=>{if(!B.rackResults||B.rackResults.length===0)return null;const ce={},fe={};return B.rackResults.forEach(de=>{de.shotEvents.forEach(Ie=>{de.winnerType==="team"&&Ie.teamName===de.winner||de.winnerType==="player"&&Ie.playerName===de.winner?(ce[Ie.playerName]||(ce[Ie.playerName]={wins:0,totalTime:0,shots:0}),ce[Ie.playerName].totalTime+=Ie.duration,ce[Ie.playerName].shots+=1):(fe[Ie.playerName]||(fe[Ie.playerName]={losses:0,totalTime:0,shots:0}),fe[Ie.playerName].totalTime+=Ie.duration,fe[Ie.playerName].shots+=1)}),de.winnerType==="player"&&(ce[de.winner]||(ce[de.winner]={wins:0,totalTime:0,shots:0}),ce[de.winner].wins+=1)}),{winnerTotals:ce,loserTotals:fe}})();return c.jsxs(c.Fragment,{children:[c.jsxs(Ze,{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Player Stats"}),c.jsxs(q_,{className:"w-full",opts:{align:"start",loop:Ue.length>1},children:[c.jsx(G_,{className:"-ml-2",children:Ue.map(ce=>{const fe=Ae[ce],de=fe.total/fe.shots.length;return c.jsx(K_,{className:"pl-2 basis-full sm:basis-1/2",children:c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Zf,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-foreground",children:ce})]}),fe.teamName&&c.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:fe.teamName}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Avg Time"}),c.jsx("p",{className:"font-bold text-primary",children:Pr(de)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Shots"}),c.jsx("p",{className:"font-bold",children:fe.shots.length})]})]})]})},ce)})}),Ue.length>1&&c.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[c.jsx(Y_,{className:"static translate-y-0"}),c.jsx(X_,{className:"static translate-y-0"})]})]})]}),st.length>0&&c.jsxs(Ze,{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Team Averages"}),c.jsx("div",{className:"grid grid-cols-1 gap-3",children:st.map(ce=>{const fe=Oe[ce],de=fe.total/fe.shots.length;return c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[c.jsx("span",{className:"font-medium text-foreground",children:ce}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-lg font-bold text-primary",children:Pr(de)}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",fe.shots.length," shots)"]})]})]},ce)})})]}),c.jsx(Ze,{className:"p-6",children:c.jsx(Zy,{type:"single",collapsible:!0,className:"w-full",children:c.jsxs(Jo,{value:"charts",className:"border-none",children:[c.jsx(Zo,{className:"hover:no-underline py-0",children:c.jsx("span",{className:"font-semibold text-foreground",children:"Shot Duration Charts"})}),c.jsx(es,{children:c.jsxs(q_,{className:"w-full mt-4",opts:{align:"start",loop:Ue.length>1},children:[c.jsx(G_,{className:"-ml-2",children:Ue.map(ce=>{const fe=Ae[ce],de=fe.shots.map((Ie,nt)=>({shot:nt+1,duration:parseFloat(Ie.duration.toFixed(1))}));return c.jsx(K_,{className:"pl-2 basis-full",children:c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Zf,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium text-foreground",children:ce}),fe.teamName&&c.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",fe.teamName,")"]})]}),c.jsx("div",{className:"h-40",children:c.jsx(bve,{width:"100%",height:"100%",children:c.jsxs(xNe,{data:de,children:[c.jsx(H0,{dataKey:"shot",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),c.jsx(q0,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:Ie=>`${Ie}s`}),c.jsx(Ko,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelFormatter:Ie=>`Shot ${Ie}`,formatter:Ie=>[`${Ie}s`,"Duration"]}),c.jsx(hm,{type:"monotone",dataKey:"duration",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:3},activeDot:{r:5}})]})})})]})},ce)})}),Ue.length>1&&c.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[c.jsx(Y_,{className:"static translate-y-0"}),c.jsx(X_,{className:"static translate-y-0"})]})]})})]})})}),On&&(((K=B.rackResults)==null?void 0:K.length)??0)>0&&c.jsx(Ze,{className:"p-6",children:c.jsx(Zy,{type:"single",collapsible:!0,className:"w-full",children:c.jsxs(Jo,{value:"advanced",className:"border-none",children:[c.jsx(Zo,{className:"hover:no-underline py-0",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(M1,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-semibold text-foreground",children:"Advanced Analytics"})]})}),c.jsx(es,{children:c.jsxs("div",{className:"space-y-4 mt-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx($a,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Winning Racks Avg Speed"})]}),c.jsx("div",{className:"space-y-2",children:Object.entries(On.winnerTotals).map(([ce,fe])=>fe.shots>0&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(M1,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"font-medium text-foreground",children:ce})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-lg font-bold text-green-500",children:Pr(fe.totalTime/fe.shots)}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",fe.shots," shots)"]})]})]},ce))})]}),Object.keys(On.loserTotals).length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Ob,{className:"w-4 h-4 text-red-500"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Losing Racks Avg Speed"})]}),c.jsx("div",{className:"space-y-2",children:Object.entries(On.loserTotals).map(([ce,fe])=>fe.shots>0&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ob,{className:"w-4 h-4 text-red-500"}),c.jsx("span",{className:"font-medium text-foreground",children:ce})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-lg font-bold text-red-500",children:Pr(fe.totalTime/fe.shots)}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",fe.shots," shots)"]})]})]},ce))})]}),st.length>0&&B.rackResults&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Fl,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Team Performance"})]}),c.jsx("div",{className:"space-y-2",children:st.map(ce=>{var Ie,nt;const fe=((Ie=B.rackResults)==null?void 0:Ie.filter(bt=>bt.winner===ce).length)||0,de=(((nt=B.rackResults)==null?void 0:nt.length)||0)-fe;return c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-medium text-foreground",children:ce}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-green-500 font-bold",children:[fe,"W"]}),c.jsxs("span",{className:"text-red-500 font-bold",children:[de,"L"]})]})]})},ce)})})]})]})})]})})})]})})(),c.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Session saved to history"}),c.jsxs(ue,{onClick:tr,className:"w-full",size:"lg","data-testid":"button-new-session",children:[c.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})})]})}if(e==="paused")return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:yn,"data-testid":"button-back",children:c.jsx(Io,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Game Paused"})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:c.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[c.jsxs(Ze,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(tL,{className:"w-8 h-8 text-primary"})}),c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Timer Paused"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["Time remaining: ",c.jsxs("span",{className:"font-mono font-bold text-foreground",children:[S,"s"]})]}),c.jsx("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Shots"}),c.jsx("p",{className:"font-bold text-lg",children:B.shotCount})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Extensions"}),c.jsx("p",{className:"font-bold text-lg",children:B.totalExtensions})]})]})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session is preserved. Resume to continue or return to the main menu."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(ue,{onClick:yn,className:"w-full",size:"lg","data-testid":"button-resume",children:[c.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Resume Game"]}),c.jsxs(ue,{onClick:Wn,variant:"outline",className:"w-full",size:"lg","data-testid":"button-return-menu",children:[c.jsx(cH,{className:"w-5 h-5 mr-2"}),"Return to Main Menu"]}),c.jsxs(ue,{onClick:er,variant:"destructive",className:"w-full",size:"lg","data-testid":"button-end-session",children:[c.jsx(Hm,{className:"w-5 h-5 mr-2"}),"End Session"]})]})]})})]});if(e==="setup")return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Io,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Shot Clock Setup"}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>$(!0),"data-testid":"button-tutorial",children:c.jsx(Tx,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[c.jsxs(Ze,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Game Mode"}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs(ue,{variant:r==="solo"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("solo"),"data-testid":"button-mode-solo",children:[c.jsx(Zf,{className:"w-4 h-4 mr-2"}),"Solo"]}),c.jsxs(ue,{variant:r==="two-player"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("two-player"),"data-testid":"button-mode-two-player",children:[c.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Two Players"]}),c.jsxs(Jre,{isLocked:!0,variant:r==="scotch-doubles"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("scotch-doubles"),"data-testid":"button-mode-scotch-doubles",children:[c.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Scotch Doubles"]})]}),r==="scotch-doubles"&&c.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:`Partners alternate shots within their team's turn. Use "Next Shot" to switch to the other team.`})]}),r==="scotch-doubles"?c.jsxs(Ze,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams & Players"}),c.jsx("div",{className:"space-y-6",children:[0,1].map(q=>{var re,Ae,Oe;return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs(Jt,{htmlFor:`team${q+1}-name`,children:["Team ",q+1," Name"]}),c.jsx(cr,{id:`team${q+1}-name`,value:((re=u[q])==null?void 0:re.name)||"",onChange:Ue=>Di(q,Ue.target.value),placeholder:`Team ${q+1}`,className:"mt-1","data-testid":`input-team${q+1}-name`})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx(Jt,{htmlFor:`team${q+1}-player1`,children:"Partner 1"}),c.jsx(cr,{id:`team${q+1}-player1`,value:((Ae=u[q])==null?void 0:Ae.players[0])||"",onChange:Ue=>ti(q,0,Ue.target.value),placeholder:"Partner 1",className:"mt-1","data-testid":`input-team${q+1}-player1`})]}),c.jsxs("div",{children:[c.jsx(Jt,{htmlFor:`team${q+1}-player2`,children:"Partner 2"}),c.jsx(cr,{id:`team${q+1}-player2`,value:((Oe=u[q])==null?void 0:Oe.players[1])||"",onChange:Ue=>ti(q,1,Ue.target.value),placeholder:"Partner 2",className:"mt-1","data-testid":`input-team${q+1}-player2`})]})]})]},q)})})]}):c.jsxs(Ze,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Player Names"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Jt,{htmlFor:"player1-name",children:r==="solo"?"Your Name":"Player 1"}),c.jsx(cr,{id:"player1-name",value:((Cs=o[0])==null?void 0:Cs.name)||"",onChange:q=>Mi(0,q.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player1-name"})]}),r==="two-player"&&c.jsxs("div",{children:[c.jsx(Jt,{htmlFor:"player2-name",children:"Player 2"}),c.jsx(cr,{id:"player2-name",value:((Bo=o[1])==null?void 0:Bo.name)||"",onChange:q=>Mi(1,q.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player2-name"})]})]})]}),c.jsxs(Ze,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shot Duration"}),c.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:[30,45,60,90].map(q=>c.jsxs(ue,{variant:g===q?"default":"outline",onClick:()=>xn(q),"data-testid":`button-preset-${q}`,children:[q,"s"]},q))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(cr,{type:"number",min:"5",max:"300",value:x,onChange:q=>w(parseInt(q.target.value)||30),className:"flex-1","data-testid":"input-custom-duration"}),c.jsx(ue,{onClick:kn,variant:"outline","data-testid":"button-apply-custom",children:"Apply"})]})]}),r==="solo"&&c.jsx(Ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Continuous Play"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-chime at each interval for timing practice"})]}),c.jsx(Ai,{checked:j,onCheckedChange:R,"data-testid":"switch-auto-restart"})]})}),c.jsxs(ue,{onClick:Ar,className:"w-full",size:"lg","data-testid":"button-start-game",children:[c.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Start Game"]})]})}),hi]});const ni=()=>{S===0?(C(g),T(!1),Q.current=Date.now(),P(!0)):E?kt():Je()};return c.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"flex-[2] relative min-h-0",children:[c.jsx(eje,{seconds:S,totalSeconds:g,playerName:r==="solo"?Fe==null?void 0:Fe.name:void 0,isExtension:_,isRunning:E,onClick:ni}),c.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[c.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-white text-xs font-mono","data-testid":"text-shot-counter",children:["Shot ",B.shotCount+1]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ue,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto",onClick:gn,"data-testid":"button-pause-menu",children:c.jsx(hH,{className:"w-5 h-5"})}),c.jsxs(Xr,{children:[c.jsx(lne,{asChild:!0,children:c.jsx(ue,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto","data-testid":"button-settings",children:c.jsx(tT,{className:"w-5 h-5"})})}),c.jsxs(zr,{children:[c.jsx(br,{children:c.jsx(wr,{children:"Quick Settings"})}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{children:[c.jsx(Jt,{children:"Shot Duration"}),c.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:[30,45,60].map(q=>c.jsxs(ue,{variant:g===q?"default":"outline",size:"sm",onClick:()=>{xn(q),E||C(q)},"data-testid":`button-quick-${q}`,children:[q,"s"]},q))})]}),r==="solo"&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Jt,{children:"Continuous Play"}),c.jsx(Ai,{checked:j,onCheckedChange:R,"data-testid":"switch-continuous-play"})]})]})]})]})]})]}),r==="two-player"&&c.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"player-toggle-container",children:c.jsx("div",{className:"w-3/4 mx-auto flex items-center justify-center pointer-events-auto bg-neutral-800/50 rounded-lg overflow-hidden",children:o.map((q,re)=>c.jsx("button",{onClick:()=>{a!==re&&(l(re),C(g),T(!1),tt())},className:`flex-1 px-4 py-3 text-base font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${a===re?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`player-toggle-${re+1}`,children:q.name},re))})}),r==="scotch-doubles"&&c.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"team-toggle-container",children:c.jsxs("div",{className:"w-full mx-auto flex flex-col items-center gap-2 pointer-events-auto",children:[c.jsx("div",{className:"flex items-center justify-center bg-neutral-800/50 rounded-lg overflow-hidden w-3/4",children:u.map((q,re)=>c.jsx("button",{onClick:()=>{f!==re&&(h(re),y(0),C(g),T(!1),tt())},className:`flex-1 px-4 py-2 text-sm font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${f===re?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`team-toggle-${re+1}`,children:q.name},re))}),c.jsxs("div",{className:"text-white text-center text-lg font-semibold bg-black/40 px-4 py-1 rounded-full","data-testid":"text-current-shooter",children:["Shooting: ",le==null?void 0:le.players[m]]})]})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-4 pointer-events-none",children:c.jsxs("button",{onClick:qr,disabled:r==="scotch-doubles"?((le==null?void 0:le.extensions)||0)>=N||S===0:((Fe==null?void 0:Fe.extensions)||0)>=N||S===0,className:"w-full py-4 bg-black/50 backdrop-blur-sm hover:bg-black/60 active:bg-black/70 disabled:opacity-40 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-3 pointer-events-auto transition-colors focus:outline-none","data-testid":"button-extension",children:[c.jsxs("span",{className:"text-white font-bold text-lg",children:["+",k,"s EXTENSION"]}),c.jsxs("span",{className:"text-white/70 font-mono text-base","data-testid":"text-extensions",children:["(",r==="scotch-doubles"?(le==null?void 0:le.extensions)||0:(Fe==null?void 0:Fe.extensions)||0,"/",N," used)"]})]})})]}),r==="scotch-doubles"?c.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[c.jsxs("button",{onClick:er,className:"w-1/5 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[c.jsx(Hm,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),c.jsx("span",{className:"text-xs md:text-base font-bold text-white tracking-wide",children:"STOP"})]}),c.jsxs("button",{onClick:He,className:"w-2/5 bg-amber-500 hover:bg-amber-500/90 active:bg-amber-500/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-next-partner",children:[c.jsx(Fl,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),c.jsx("span",{className:"text-sm md:text-xl font-bold text-white tracking-wide",children:"PARTNER"}),c.jsx("span",{className:"text-xs text-white/70",children:"Same Team"})]}),c.jsxs("button",{onClick:Cr,className:"w-2/5 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none","data-testid":"button-next-shot",children:[c.jsx(Hc,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),c.jsx("span",{className:"text-lg md:text-2xl font-bold text-white tracking-wide",children:"NEXT"}),c.jsx("span",{className:"text-xs text-white/70",children:"Switch Team"})]})]}):c.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[c.jsxs("button",{onClick:er,className:"w-1/4 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[c.jsx(Hm,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),c.jsx("span",{className:"text-base md:text-xl font-bold text-white tracking-wide",children:"STOP"})]}),c.jsxs("button",{onClick:Cr,className:"w-3/4 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-2 focus:outline-none","data-testid":"button-next-shot",children:[c.jsx(Hc,{className:"w-12 h-12 md:w-16 md:h-16 text-white"}),c.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tracking-wide",children:"NEXT"})]})]}),Es,Nr,Ts]})}function nje({tiltX:t,tiltY:e,isCalibrating:n=!1}){const i=Math.max(-40,Math.min(40,t/5*40)),o=Math.max(-40,Math.min(40,e/5*40)),s=Math.sqrt(t*t+e*e),a=s<.5;return c.jsxs("div",{className:"flex flex-col items-center gap-6",children:[c.jsxs("div",{className:"relative w-64 h-64 rounded-full border-4 border-foreground bg-card","data-testid":"gauge-bubble-level",children:[c.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[c.jsx("div",{className:"absolute w-px h-full bg-muted"}),c.jsx("div",{className:"absolute w-full h-px bg-muted"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg transition-all duration-150",style:{transform:`translate(${i}px, ${o}px)`,opacity:n?.5:1}})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${a?"border-green-500":"border-muted"}`})})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-3xl font-mono font-bold text-foreground","data-testid":"text-tilt-value",children:[s.toFixed(2),""]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:a?"Level":"Not Level"})]})]})}function h9({open:t,onComplete:e,pages:n,toolName:r}){const[i,o]=b.useState(0),s=b.useRef(0),a=b.useRef(0),l=n[i],u=h=>{s.current=h.touches[0].clientX,a.current=h.touches[0].clientY},d=h=>{const m=h.changedTouches[0].clientX,y=h.changedTouches[0].clientY,g=m-s.current,v=y-a.current;Math.abs(g)>Math.abs(v)&&Math.abs(g)>50&&(g>0&&i>0?o(x=>x-1):g<0&&i<n.length-1&&o(x=>x+1))},f=()=>{o(0),e()};return c.jsx(Xr,{open:t,onOpenChange:f,children:c.jsx(zr,{className:"max-w-md [&>button]:hidden",onTouchStart:u,onTouchEnd:d,children:c.jsxs("div",{className:"py-2",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),c.jsx("h2",{className:"text-xl font-bold",children:l.title})]}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8","data-testid":"button-close-tutorial",children:c.jsx(Hp,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"min-h-[200px]",children:l.content}),c.jsxs("div",{className:"flex items-center justify-between mt-6",children:[c.jsxs(ue,{variant:"ghost",onClick:()=>o(h=>Math.max(0,h-1)),disabled:i===0,"data-testid":"button-tutorial-prev",children:[c.jsx(nH,{className:"w-4 h-4 mr-1"}),"Back"]}),c.jsx("div",{className:"flex gap-2",children:n.map((h,m)=>c.jsx("button",{onClick:()=>o(m),className:`h-2 w-2 rounded-full transition-colors ${m===i?"bg-primary":"bg-muted hover:bg-muted-foreground/30"}`,"data-testid":`tutorial-indicator-${m}`},m))}),i<n.length-1?c.jsxs(ue,{onClick:()=>o(h=>Math.min(n.length-1,h+1)),"data-testid":"button-tutorial-next",children:["Next",c.jsx(Z$,{className:"w-4 h-4 ml-1"})]}):c.jsx(ue,{onClick:f,"data-testid":"button-tutorial-done",children:"Got It"})]}),c.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Swipe left/right to navigate"})]})})})}const jR="tableLevel_tutorial_seen";function rje(){const[,t]=yl(),{toast:e}=Id(),[n,r]=b.useState(0),[i,o]=b.useState(0),[s,a]=b.useState({x:0,y:0}),[l,u]=b.useState("home"),[d,f]=b.useState(!1),[h,m]=b.useState(!1),[y,g]=b.useState(!1),[v,x]=b.useState(null),w=b.useRef(null),S=b.useRef(null),C=[{title:"How It Works",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"The Table Level Gauge uses your device's orientation sensors to detect table tilt."}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Requirements:"})," Works best on mobile devices or tablets with gyroscope/accelerometer sensors."]})}),c.jsx("p",{className:"mt-3",children:"The bubble indicator shows deviation from level - just like a carpenter's level but in all directions!"})]})},{title:"Calibration",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"For accurate readings, calibrate on a known level surface:"}),c.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[c.jsx("li",{children:"Place your device flat on a surface you know is level"}),c.jsxs("li",{children:["Tap ",c.jsx("strong",{className:"text-foreground",children:'"Calibrate Current Preset"'})]}),c.jsx("li",{children:"Hold still for 2 seconds while it samples"}),c.jsx("li",{children:"The bubble will now show deviation from this reference"})]}),c.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Tip:"})," Use a known-level surface like a properly installed countertop for initial calibration."]})})]})},{title:"Presets",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Save different calibrations for different locations:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Home:"})," Your home practice table"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"League:"})," Your regular league venue"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Tournament:"})," Competition tables"]})]}),c.jsx("p",{className:"mt-3",children:"Tap a preset to load it, then calibrate and save to store your settings."}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Usage:"})," Place your device on the table surface. A centered bubble means the table is level relative to your calibrated reference."]})})]})}];b.useEffect(()=>(Tt.startSession("truelevel"),()=>{Tt.endSession()}),[]),b.useEffect(()=>{localStorage.getItem(jR)||g(!0)},[]);const E=()=>{localStorage.setItem(jR,"true"),g(!1)};b.useEffect(()=>{(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{const k=await DeviceOrientationEvent.requestPermission();m(k==="granted")}catch{e({title:"Permission denied",description:"Device orientation access is required for this feature",variant:"destructive"})}else m(!0)})()},[e]),b.useEffect(()=>{if(!h)return;let N=!1;const k=j=>{j.beta!==null&&j.gamma!==null&&(N||(N=!0,x(!0),w.current&&clearTimeout(w.current)),S.current={beta:j.beta,gamma:j.gamma},r(j.gamma-s.x),o(j.beta-s.y-90))};return window.addEventListener("deviceorientation",k),w.current=setTimeout(()=>{N||(x(!1),e({title:"No orientation sensor detected",description:"This feature requires a device with gyroscope/accelerometer (mobile phone or tablet).",variant:"destructive"}))},2e3),()=>{window.removeEventListener("deviceorientation",k),w.current&&clearTimeout(w.current)}},[s,h,e]);const P=()=>{if(v===!1||v===null){e({title:"Cannot calibrate",description:"No orientation sensor detected. Please use a mobile device with gyroscope support.",variant:"destructive"});return}f(!0);const N=[];let k=0;const j=10,R=()=>{if(S.current&&(N.push({x:S.current.gamma,y:S.current.beta-90}),k++,k>=j)){const O=N.reduce((F,U)=>F+U.x,0)/N.length,$=N.reduce((F,U)=>F+U.y,0)/N.length;a({x:O,y:$}),f(!1),localStorage.setItem(`tableLevel_${l}`,JSON.stringify({x:O,y:$})),Tt.trackSkillMetric("truelevel","calibration",1,{preset:l}),e({title:"Calibration complete",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`});return}k<j&&setTimeout(R,150)};setTimeout(()=>{if(!S.current){f(!1),e({title:"Calibration failed",description:"No sensor data available. Make sure your device has orientation sensors and they are enabled.",variant:"destructive"});return}R()},300)},_=N=>{u(N);const k=localStorage.getItem(`tableLevel_${N}`);k&&(a(JSON.parse(k)),e({title:"Preset loaded",description:`${N.charAt(0).toUpperCase()+N.slice(1)} calibration applied`}))},T=()=>{localStorage.setItem(`tableLevel_${l}`,JSON.stringify(s)),e({title:"Preset saved",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`})};return h?c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsx(h9,{open:y,onComplete:E,pages:C,toolName:"Table Level Gauge"}),c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Io,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Table Level Gauge"}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>g(!0),"data-testid":"button-tutorial",children:c.jsx(Tx,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 overflow-auto p-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[v===!1&&c.jsx(Ze,{className:"p-4 border-destructive bg-destructive/10",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(rT,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-destructive mb-1",children:"No Orientation Sensor Detected"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This feature requires a device with gyroscope/accelerometer sensors (typically a smartphone or tablet)."}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded",children:[c.jsx(wH,{className:"w-4 h-4"}),c.jsx("span",{children:"Open this page on your mobile device to use the level gauge"})]})]})]})}),v===null&&c.jsx(Ze,{className:"p-4 border-muted",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Detecting orientation sensors..."})]})}),c.jsx("div",{className:"flex justify-center",children:c.jsx(nje,{tiltX:n,tiltY:i,isCalibrating:d})}),c.jsxs(Ze,{className:"p-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Calibration Presets"}),c.jsx(tv,{isLocked:!0,featureName:"Calibration Presets",variant:"overlay",children:c.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[c.jsx(ue,{variant:l==="home"?"default":"outline",onClick:()=>_("home"),"data-testid":"button-preset-home",children:"Home"}),c.jsx(ue,{variant:l==="league"?"default":"outline",onClick:()=>_("league"),"data-testid":"button-preset-league",children:"League"}),c.jsx(ue,{variant:l==="tournament"?"default":"outline",onClick:()=>_("tournament"),"data-testid":"button-preset-tournament",children:"Tournament"})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ue,{className:"flex-1",onClick:P,disabled:d||v===!1,"data-testid":"button-calibrate",children:d?"Calibrating...":"Calibrate Current Preset"}),c.jsx(ue,{variant:"outline",onClick:T,disabled:v===!1,"data-testid":"button-save-preset",children:"Save"})]})]})]})})]}):c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Io,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Table Level Gauge"})]}),c.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:c.jsxs(Ze,{className:"p-6 max-w-md text-center",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permission Required"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This feature requires access to your device's orientation sensors to measure table level."}),c.jsx(ue,{onClick:()=>window.location.reload(),children:"Grant Permission"})]})})]})}var p9=["PageUp","PageDown"],m9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],g9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},rf="Slider",[Q_,ije,oje]=Up(rf),[y9,rIe]=Ri(rf,[oje]),[sje,X0]=y9(rf),v9=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...g}=t,v=b.useRef(new Set),x=b.useRef(0),S=s==="horizontal"?aje:lje,[C=[],E]=Mo({prop:d,defaultProp:u,onChange:j=>{var O;(O=[...v.current][x.current])==null||O.focus(),f(j)}}),P=b.useRef(C);function _(j){const R=hje(C,j);k(j,R)}function T(j){k(j,x.current)}function N(){const j=P.current[x.current];C[x.current]!==j&&h(C)}function k(j,R,{commit:O}={commit:!1}){const $=yje(o),F=vje(Math.round((j-r)/o)*o+r,$),U=Yh(F,[r,i]);E((W=[])=>{const V=dje(W,U,R);if(gje(V,l*o)){x.current=V.indexOf(U);const B=String(V)!==String(W);return B&&O&&h(V),B?V:W}else return W})}return c.jsx(sje,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:x,thumbs:v.current,values:C,orientation:s,form:y,children:c.jsx(Q_.Provider,{scope:t.__scopeSlider,children:c.jsx(Q_.Slot,{scope:t.__scopeSlider,children:c.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:$e(g.onPointerDown,()=>{a||(P.current=C)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:_,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:N,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(i,C.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:R})=>{if(!a){const F=p9.includes(j.key)||j.shiftKey&&m9.includes(j.key)?10:1,U=x.current,W=C[U],V=o*F*R;k(W+V,U,{commit:!0})}}})})})})});v9.displayName=rf;var[x9,b9]=y9(rf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),aje=b.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=t,[f,h]=b.useState(null),m=mt(e,S=>h(S)),y=b.useRef(void 0),g=zd(i),v=g==="ltr",x=v&&!o||!v&&o;function w(S){const C=y.current||f.getBoundingClientRect(),E=[0,C.width],_=WA(E,x?[n,r]:[r,n]);return y.current=C,_(S-C.left)}return c.jsx(x9,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:c.jsx(w9,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const C=w(S.clientX);s==null||s(C)},onSlideMove:S=>{const C=w(S.clientX);a==null||a(C)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:S=>{const E=g9[x?"from-left":"from-right"].includes(S.key);u==null||u({event:S,direction:E?-1:1})}})})}),lje=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...u}=t,d=b.useRef(null),f=mt(e,d),h=b.useRef(void 0),m=!i;function y(g){const v=h.current||d.current.getBoundingClientRect(),x=[0,v.height],S=WA(x,m?[r,n]:[n,r]);return h.current=v,S(g-v.top)}return c.jsx(x9,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(w9,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);o==null||o(v)},onSlideMove:g=>{const v=y(g.clientY);s==null||s(v)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const x=g9[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:x?-1:1})}})})}),w9=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...u}=t,d=X0(rf,n);return c.jsx(Ye.span,{...u,ref:e,onKeyDown:$e(t.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):p9.concat(m9).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:$e(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:$e(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:$e(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),S9="SliderTrack",_9=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=X0(S9,n);return c.jsx(Ye.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});_9.displayName=S9;var J_="SliderRange",E9=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=X0(J_,n),o=b9(J_,n),s=b.useRef(null),a=mt(e,s),l=i.values.length,u=i.values.map(h=>C9(h,i.min,i.max)),d=l>1?Math.min(...u):0,f=100-Math.max(...u);return c.jsx(Ye.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});E9.displayName=J_;var Z_="SliderThumb",T9=b.forwardRef((t,e)=>{const n=ije(t.__scopeSlider),[r,i]=b.useState(null),o=mt(e,a=>i(a)),s=b.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return c.jsx(cje,{...t,ref:o,index:s})}),cje=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,s=X0(Z_,n),a=b9(Z_,n),[l,u]=b.useState(null),d=mt(e,w=>u(w)),f=l?s.form||!!l.closest("form"):!0,h=fT(l),m=s.values[r],y=m===void 0?0:C9(m,s.min,s.max),g=fje(r,s.values.length),v=h==null?void 0:h[a.size],x=v?pje(v,y,a.direction):0;return b.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${x}px)`},children:[c.jsx(Q_.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(Ye.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:$e(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),f&&c.jsx(uje,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:m},r)]})});T9.displayName=Z_;var uje=t=>{const{value:e,...n}=t,r=b.useRef(null),i=pC(e);return b.useEffect(()=>{const o=r.current,s=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==e&&l){const u=new Event("input",{bubbles:!0});l.call(o,e),o.dispatchEvent(u)}},[i,e]),c.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function dje(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function C9(t,e,n){const o=100/(n-e)*(t-e);return Yh(o,[0,100])}function fje(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function hje(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function pje(t,e,n){const r=t/2,o=WA([0,50],[0,r]);return(r-o(e)*n)*n}function mje(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function gje(t,e){if(e>0){const n=mje(t);return Math.min(...n)>=e}return!0}function WA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function yje(t){return(String(t).split(".")[1]||"").length}function vje(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var A9=v9,xje=_9,bje=E9,wje=T9;const Qc=b.forwardRef(({className:t,...e},n)=>c.jsxs(A9,{ref:n,className:ct("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(xje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(bje,{className:"absolute h-full bg-primary"})}),c.jsx(wje,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Qc.displayName=A9.displayName;const IR="cueEmulator_tutorial_seen",qe=14,ln=1600,bn=800,ze=24,kR=.05,OR=.2,Jc=28,Sje=(ln-ze*2)/8,_je=(bn-ze*2)/4,Ve=Array.from({length:9},(t,e)=>ze+e*Sje),Be=Array.from({length:5},(t,e)=>ze+e*_je),jf=[{x:ze,y:ze,angle:Math.PI/4},{x:ln/2,y:ze-2,angle:Math.PI/2},{x:ln-ze,y:ze,angle:3*Math.PI/4},{x:ze,y:bn-ze,angle:-Math.PI/4},{x:ln/2,y:bn-ze+2,angle:-Math.PI/2},{x:ln-ze,y:bn-ze,angle:-3*Math.PI/4}],Eje=Jc+qe*.5,RR=({size:t=16})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsx("defs",{children:c.jsxs("radialGradient",{id:"cueBallGradient",cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),c.jsx("stop",{offset:"50%",stopColor:"#f5f5f5"}),c.jsx("stop",{offset:"100%",stopColor:"#cccccc"})]})}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#cueBallGradient)",stroke:"#aaa",strokeWidth:"0.5"}),c.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"rgba(255,255,255,0.7)"})]}),MR=({size:t=16,color:e="#DC143C"})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsx("defs",{children:c.jsxs("radialGradient",{id:`solidBallGradient-${e.replace("#","")}`,cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.7)"}),c.jsx("stop",{offset:"40%",stopColor:e}),c.jsx("stop",{offset:"100%",stopColor:"rgba(0,0,0,0.5)",stopOpacity:"1"})]})}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:`url(#solidBallGradient-${e.replace("#","")})`}),c.jsx("circle",{cx:"8",cy:"8",r:"2.5",fill:"rgba(255,255,255,0.5)"})]}),DR=({size:t=16,color:e="#FDB515"})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsxs("defs",{children:[c.jsxs("radialGradient",{id:`stripeBallGradient-${e.replace("#","")}`,cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),c.jsx("stop",{offset:"50%",stopColor:"#f8f8f8"}),c.jsx("stop",{offset:"100%",stopColor:"#e0e0e0"})]}),c.jsx("clipPath",{id:"ballClip",children:c.jsx("circle",{cx:"12",cy:"12",r:"10"})})]}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:`url(#stripeBallGradient-${e.replace("#","")})`}),c.jsx("rect",{x:"2",y:"8",width:"20",height:"8",fill:e,clipPath:"url(#ballClip)",opacity:"0.9"}),c.jsx("circle",{cx:"8",cy:"8",r:"2.5",fill:"rgba(255,255,255,0.6)"})]}),Pl={1:{name:"Solid",color:"#DC143C",solid:!0},2:{name:"Solid",color:"#DC143C",solid:!0},3:{name:"Solid",color:"#DC143C",solid:!0},4:{name:"Solid",color:"#DC143C",solid:!0},5:{name:"Solid",color:"#DC143C",solid:!0},6:{name:"Solid",color:"#DC143C",solid:!0},7:{name:"Solid",color:"#DC143C",solid:!0},8:{name:"Black",color:"#000000",solid:!0},9:{name:"Stripe",color:"#FDB515",solid:!1},10:{name:"Stripe",color:"#FDB515",solid:!1},11:{name:"Stripe",color:"#FDB515",solid:!1},12:{name:"Stripe",color:"#FDB515",solid:!1},13:{name:"Stripe",color:"#FDB515",solid:!1},14:{name:"Stripe",color:"#FDB515",solid:!1},15:{name:"Stripe",color:"#FDB515",solid:!1}},Tje={par2_01:{name:"Par 2 - Course 1",balls:[{x:Ve[6],y:Be[2]},{x:Ve[1],y:Be[3]}]},par2_02:{name:"Par 2 - Course 2",balls:[{x:Ve[7],y:Be[1]},{x:Ve[1],y:Be[2]}]},par2_03:{name:"Par 2 - Course 3",balls:[{x:Ve[1],y:Be[3]},{x:Ve[7],y:Be[3]}]},par3_01:{name:"Par 3 - Course 1",balls:[{x:Ve[4],y:Be[1]},{x:Ve[1],y:Be[3]},{x:Ve[7],y:Be[3]}]},par3_02:{name:"Par 3 - Course 2",balls:[{x:Ve[2],y:Be[2]},{x:Ve[4],y:Be[2]},{x:Ve[2],y:Be[3]}]},par3_03:{name:"Par 3 - Course 3",balls:[{x:Ve[4],y:Be[1]},{x:Ve[4],y:Be[2]},{x:Ve[4],y:Be[3]}]},par3_04:{name:"Par 3 - Course 4",balls:[{x:Ve[7],y:Be[1]},{x:Ve[6],y:Be[2]},{x:Ve[5],y:Be[2]}]},par4_01:{name:"Par 4 - Course 1",balls:[{x:Ve[4],y:Be[1]},{x:Ve[3],y:Be[2]},{x:Ve[5],y:Be[2]},{x:Ve[4],y:Be[3]}]},par4_02:{name:"Par 4 - Course 2",balls:[{x:Ve[4],y:Be[1]},{x:Ve[3],y:Be[2]},{x:Ve[5],y:Be[2]},{x:Ve[4],y:Be[3]}]},par4_03:{name:"Par 4 - Course 3",balls:[{x:Ve[4],y:Be[1]},{x:Ve[3],y:Be[2]},{x:Ve[1],y:Be[3]},{x:Ve[7],y:Be[3]}]},par4_04:{name:"Par 4 - Course 4",balls:[{x:Ve[4],y:Be[1]},{x:Ve[6],y:Be[2]},{x:Ve[4],y:Be[2]},{x:Ve[2],y:Be[2]}]},par4_05:{name:"Par 4 - Course 5",balls:[{x:Ve[3],y:Be[1]},{x:Ve[4],y:Be[2]},{x:Ve[5],y:Be[1]},{x:Ve[4],y:Be[1]}]},par5_01:{name:"Par 5 - Course 1",balls:[{x:Ve[1],y:Be[1]},{x:Ve[7],y:Be[1]},{x:Ve[3],y:Be[2]},{x:Ve[5],y:Be[2]},{x:Ve[4],y:Be[1]}]},par5_02:{name:"Par 5 - Course 2",balls:[{x:Ve[4],y:Be[1]},{x:Ve[3],y:Be[2]},{x:Ve[4],y:Be[2]},{x:Ve[5],y:Be[2]},{x:Ve[4],y:Be[3]}]},par5_03:{name:"Par 5 - Course 3",balls:[{x:Ve[3],y:Be[1]},{x:Ve[5],y:Be[1]},{x:Ve[4],y:Be[2]},{x:Ve[3],y:Be[3]},{x:Ve[5],y:Be[3]}]},par6_01:{name:"Par 6 - Course 1",balls:[{x:Ve[1],y:Be[1]},{x:Ve[7],y:Be[1]},{x:Ve[1],y:Be[2]},{x:Ve[7],y:Be[2]},{x:Ve[1],y:Be[3]},{x:Ve[7],y:Be[3]}]}};function Cje(){const[,t]=yl(),{toast:e}=Id(),n=b.useRef(null),[r,i]=b.useState(null),[o,s]=b.useState([]),[a,l]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(!0),[m,y]=b.useState(!1),[g,v]=b.useState(null),[x,w]=b.useState(null),[S,C]=b.useState(null),[E,P]=b.useState(.5),[_,T]=b.useState(0),[N,k]=b.useState(0),[j,R]=b.useState(.5),[O,$]=b.useState(.5),[F,U]=b.useState("9ft"),[W,V]=b.useState(!1),[B,Z]=b.useState([]),[Q,ne]=b.useState(""),[Ee,Pe]=b.useState(null),[Me,ot]=b.useState(null),[we,Ne]=b.useState(null),[oe,me]=b.useState([null,null,null]),[ae,z]=b.useState(!1),Se=b.useRef(null),[Te,Xe]=b.useState(!1),[Qe,tt]=b.useState(0),[Fe,le]=b.useState([]),[Je,kt]=b.useState([]);b.useState(new Set);const yt=b.useRef(null),Ot=b.useRef(0),[gn,yn]=b.useState(!1),[Wn,Cr]=b.useState(!1);b.useEffect(()=>{const M=()=>{Cr(window.innerWidth>window.innerHeight)};return M(),window.addEventListener("resize",M),window.addEventListener("orientationchange",M),()=>{window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M)}},[]),b.useEffect(()=>(Tt.startSession("vectors"),()=>{Tt.endSession()}),[]);const en=[{title:"Ball Placement",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Place balls on the table using the control buttons:"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(RR,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Cue:"})," Place the white cue ball"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(MR,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Solid:"})," Add red solid balls (1-7)"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(DR,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Stripe:"})," Add yellow stripe balls (9-15)"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(MN,{className:"w-5 h-5 text-muted-foreground"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Move:"})," Drag any ball to reposition it"]})]})]}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Snap to Grid:"})," Enable to align balls precisely on diamond intersections."]})})]})},{title:"Aiming & Shooting",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Click and drag from the cue ball to aim your shot:"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-1 bg-white rounded"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"White line:"})," Cue ball trajectory"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:c.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"rgba(255,255,0,0.2)",stroke:"#ffff00",strokeWidth:"2",strokeDasharray:"4 3"})}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Ghost ball:"})," Contact point indicator"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-1 bg-cyan-400 rounded"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Cyan line:"})," Object ball trajectory"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-1 bg-red-500 rounded"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Red line:"})," Cue ball deflection"]})]})]}),c.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Cut Angle & Ball Hit:"})," Shown below table (Full, 3/4, 1/2, 1/4, Thin)."]})})]})},{title:"Power & English",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Adjust shot power and spin for realistic physics:"}),c.jsxs("div",{className:"flex items-center gap-3 my-3",children:[c.jsx("div",{className:"flex-1 h-2 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded"}),c.jsx("span",{className:"text-xs",children:"Power: 0-100%"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 50 50",className:"border border-muted rounded",children:[c.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.3"}),c.jsx("circle",{cx:"25",cy:"18",r:"4",fill:"hsl(var(--primary))"}),c.jsx("text",{x:"25",y:"45",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"English"})]}),c.jsx("span",{className:"text-xs",children:"Click to apply top/bottom spin and left/right english"})]}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Physics:"})," Includes spin transfer, rail cushion effects, and pocket detection."]})})]})},{title:"Table Conditions",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Customize the playing environment:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Cloth Speed:"})," Affects ball friction (slow to fast felt)"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Cushion Quality:"})," Affects rail bounce (dead to lively)"]})]}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Presets:"})," Save table conditions to 3 slots per table size. Long-press to save, tap to load."]})}),c.jsxs("p",{className:"mt-3",children:["Use ",c.jsx("strong",{children:"Practice Courses"})," to load preset ball configurations from Par 2 to Par 6 difficulty!"]})]})}];b.useEffect(()=>{localStorage.getItem(IR)||z(!0)},[]);const vn=()=>{localStorage.setItem(IR,"true"),z(!1)};b.useEffect(()=>{const M=localStorage.getItem(`cueEmulator_tablePresets_${F}`);if(M)try{const L=JSON.parse(M);Array.isArray(L)&&L.length===3?me(L):me([null,null,null])}catch(L){console.error("Failed to load table presets:",L),me([null,null,null])}else me([null,null,null])},[F]);const qt=M=>{const L=[...oe];L[M]={clothSpeed:j,cushionQuality:O,name:`Slot ${M+1}`},me(L),localStorage.setItem(`cueEmulator_tablePresets_${F}`,JSON.stringify(L)),e({title:`Saved to Slot ${M+1} (${F})`,description:`Cloth: ${Math.round(j*100)}%, Cushion: ${Math.round(O*100)}%`})},hn=M=>{const L=oe[M];L?(R(L.clothSpeed),$(L.cushionQuality),e({title:`Loaded Slot ${M+1} (${F})`,description:`Cloth: ${Math.round(L.clothSpeed*100)}%, Cushion: ${Math.round(L.cushionQuality*100)}%`})):e({title:`Slot ${M+1} is empty`,description:"Long-press to save current settings"})},$t=M=>{Se.current=setTimeout(()=>{qt(M),Se.current=null},600)},He=M=>{Se.current&&(clearTimeout(Se.current),Se.current=null,hn(M))},qr=b.useCallback(()=>.85+.1*O,[O]),pr=b.useCallback(()=>{const M={"7ft":{lengthInches:78,widthInches:39,label:"7ft (Bar Box)"},"8ft":{lengthInches:88,widthInches:44,label:"8ft (Standard)"},"9ft":{lengthInches:100,widthInches:50,label:"9ft (Professional)"},"10ft":{lengthInches:112,widthInches:56,label:"10ft (Snooker)"}};return M[F]||M["9ft"]},[F]),er=b.useCallback(()=>{const{lengthInches:L}=pr();return L/100},[pr]),mr=b.useCallback(()=>{const M=.3-.15*j,G=1+(1-er())*.3;return M*G},[j,er]),tn=b.useCallback((M,L)=>{for(const G of jf){const X=M-G.x,J=L-G.y;if(Math.sqrt(X*X+J*J)<Eje)return!0}return!1},[]),nn=b.useCallback((M,L)=>{const G=ze+qe,X=ln-ze-qe,J=ze+qe,se=bn-ze-qe;let ve=Math.max(G,Math.min(X,M)),ge=Math.max(J,Math.min(se,L));if(tn(ve,ge)){let ee=ve,_e=ge,xe=1/0;for(const ke of Ve)for(const at of Be)if(ke>=G&&ke<=X&&at>=J&&at<=se&&!tn(ke,at)){const on=Math.sqrt((M-ke)**2+(L-at)**2);on<xe&&(xe=on,ee=ke,_e=at)}return{x:ee,y:_e}}return{x:ve,y:ge}},[tn]),tr=b.useCallback((M,L,G,X)=>{const J=qe*2.1;if(r&&!X&&Math.sqrt((M-r.x)**2+(L-r.y)**2)<J)return!0;for(let se=0;se<o.length;se++){if(G!==void 0&&se===G)continue;const ve=o[se];if(Math.sqrt((M-ve.x)**2+(L-ve.y)**2)<J)return!0}return!1},[r,o]),Ln=b.useCallback((M,L,G,X)=>{const J=ze+qe,se=ln-ze-qe,ve=ze+qe,ge=bn-ze-qe;if(!f)return nn(M,L);const ee=[];for(const _e of Ve)for(const xe of Be)if(_e>=J&&_e<=se&&xe>=ve&&xe<=ge&&!tn(_e,xe)){const ke=Math.sqrt((M-_e)**2+(L-xe)**2);ee.push({x:_e,y:xe,dist:ke})}ee.sort((_e,xe)=>_e.dist-xe.dist);for(const _e of ee)if(!tr(_e.x,_e.y,G,X))return{x:_e.x,y:_e.y};return ee.length>0?{x:ee[0].x,y:ee[0].y}:nn(M,L)},[f,tn,nn,tr]),Gt=b.useCallback(M=>{const L=o.map(G=>G.number).filter(G=>G!==void 0);if(M==="solid"){for(let G=1;G<=7;G++)if(!L.includes(G))return G}else for(let G=9;G<=15;G++)if(!L.includes(G))return G;return null},[o]),xn=b.useCallback((M,L)=>{for(const G of jf){const X=M-G.x,J=L-G.y;if(Math.sqrt(X*X+J*J)<Jc)return!0}return!1},[]),kn=(M,L)=>{const G=L.x-M.x,X=L.y-M.y;return Math.sqrt(G*G+X*X)},Ar=b.useCallback((M,L)=>{let G=null,X=1/0;for(const J of jf){const se=J.x-M.x,ve=J.y-M.y,ge=Math.sqrt(se*se+ve*ve);if(ge<qe*2)continue;const ee=se/ge,_e=ve/ge,xe=M.x-ee*(qe*2),ke=M.y-_e*(qe*2),at=xe-L.x,on=ke-L.y,An=Math.sqrt(at*at+on*on);if(An<qe*2)continue;const $i=at/An,mi=on/An,so=$i*ee+mi*_e,ri=Math.acos(Math.max(-1,Math.min(1,so)))*(180/Math.PI);ri<X&&(X=ri,G={pocket:J,angle:ri,ghostBall:{x:xe,y:ke}})}return G},[]),Mi=b.useCallback((M,L)=>{if(o.length===0)return null;const G=L.x-M.x,X=L.y-M.y,J=Math.sqrt(G*G+X*X);if(J<1)return null;const se=G/J,ve=X/J;let ge=null,ee=1/0;for(const _e of o){const xe=_e.x-M.x,ke=_e.y-M.y,at=Math.sqrt(xe*xe+ke*ke),on=xe*se+ke*ve;if(on<=0)continue;const An=xe-on*se,$i=ke-on*ve;Math.sqrt(An*An+$i*$i)<qe*3&&at<ee&&(ee=at,ge=_e)}return ge},[o]),Di=b.useCallback((M,L)=>{if(!m)return null;const G=Mi(M,L);if(!G)return null;const X=Ar(G,M);return!X||X.angle<15?null:X.ghostBall},[m,Mi,Ar]),ti=b.useCallback(M=>{const L=qr(),G=ze,X=ln-ze,J=ze,se=bn-ze;let ve=!1;return M.x-qe<G&&(M.x=G+qe,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,ve=!0),M.x+qe>X&&(M.x=X-qe,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,ve=!0),M.y-qe<J&&(M.y=J+qe,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,ve=!0),M.y+qe>se&&(M.y=se-qe,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,ve=!0),ve},[qr]),oo=b.useCallback((M,L,G,X)=>{var mm,gm,ao;if(!r)return null;const J=G-M,se=X-L,ve=Math.sqrt(J*J+se*se);if(ve<10)return null;const ge=J/ve,ee=se/ve,xe=E*15,ke={x:r.x,y:r.y,vx:ge*xe,vy:ee*xe,spinX:_,spinY:N},at=o.map(Vt=>({...Vt,vx:0,vy:0,spinX:0,spinY:0})),on=mr(),An=300,$i=[{x:ke.x,y:ke.y}],mi=at.map(()=>[]);let so=null,ri=null,of=null,sf=null,af=null;const Yt=[ke,...at],Uo=new Array(Yt.length).fill(!1),ha=Vt=>{for(const Pn of jf){const gi=Vt.x-Pn.x,lo=Vt.y-Pn.y;if(Math.sqrt(gi*gi+lo*lo)<Jc-qe*.3)return!0}return!1},Q0=(Vt,Pn,gi)=>{const lo=Pn.x-Vt.x,yi=Pn.y-Vt.y,jr=Math.sqrt(lo*lo+yi*yi);if(jr>=qe*2||jr===0)return!1;const Xt=lo/jr,gt=yi/jr,We=-gt,co=Xt,Ir=Vt.vx-Pn.vx,kr=Vt.vy-Pn.vy,ii=Ir*Xt+kr*gt,Oc=Ir*We+kr*co;if(ii<=0)return!1;const uo=Vt.spinX*.15*Math.abs(Oc)*.3;Vt.vx-=ii*Xt,Vt.vy-=ii*gt,Pn.vx+=ii*Xt*.95,Pn.vy+=ii*gt*.95,Pn.vx+=uo*We,Pn.vy+=uo*co;const pa=Math.sqrt(Ir*Ir+kr*kr);if(gi===0&&pa>.1){const El=Ir/pa,ym=kr/pa,Mc=Vt.spinY*.4;Vt.spinY!==0&&(Vt.vx+=El*Mc*pa,Vt.vy+=ym*Mc*pa),Vt.spinY*=.3}Pn.spinX+=Vt.spinX*.2,Pn.spinY+=Vt.spinY*.2;const Rc=qe*2-jr;return Vt.x-=Rc/2*Xt,Vt.y-=Rc/2*gt,Pn.x+=Rc/2*Xt,Pn.y+=Rc/2*gt,!0};for(let Vt=0;Vt<An;Vt++){let Pn=!1,gi=0;for(let Xt=0;Xt<Yt.length;Xt++){if(Uo[Xt])continue;const gt=Yt[Xt],We=Math.sqrt(gt.vx*gt.vx+gt.vy*gt.vy);We>gi&&(gi=We)}const lo=gi*kR*60,yi=Math.max(1,Math.ceil(lo/(qe*.8))),jr=kR/yi;for(let Xt=0;Xt<yi;Xt++){for(let gt=0;gt<Yt.length;gt++){if(Uo[gt])continue;const We=Yt[gt],co=Math.sqrt(We.vx*We.vx+We.vy*We.vy);if(co>OR){Pn=!0;const Ir=on*9.8;if(We.vx-=We.vx/co*Ir*jr,We.vy-=We.vy/co*Ir*jr,We.x+=We.vx*jr*60,We.y+=We.vy*jr*60,ti(We),ha(We)){if(gt>0){const kr=gt-1,ii=((mm=o[kr])==null?void 0:mm.number)||1,Oc=((gm=Pl[ii])==null?void 0:gm.color)||"#ffffff";mi[kr].push({x:We.x,y:We.y,ballIndex:kr,color:Oc})}Uo[gt]=!0,We.vx=0,We.vy=0}}else We.vx=0,We.vy=0}for(let gt=0;gt<Yt.length;gt++)if(!Uo[gt])for(let We=gt+1;We<Yt.length;We++){if(Uo[We])continue;if(Q0(Yt[gt],Yt[We],gt)&&gt===0&&!so){so={x:Yt[We].x,y:Yt[We].y},af={x:Yt[0].x,y:Yt[0].y};const Ir=Yt[We].x-Yt[0].x,kr=Yt[We].y-Yt[0].y,ii=Math.sqrt(Ir*Ir+kr*kr);ii>0&&(ri={x:Yt[0].x+Ir/ii*qe,y:Yt[0].y+kr/ii*qe}),of={x:Yt[We].vx,y:Yt[We].vy},sf={x:Yt[0].vx,y:Yt[0].vy}}}}Uo[0]||$i.push({x:ke.x,y:ke.y});for(let Xt=0;Xt<at.length;Xt++){if(Uo[Xt+1])continue;const gt=at[Xt];if(Math.sqrt(gt.vx*gt.vx+gt.vy*gt.vy)>OR*.5||mi[Xt].length>0){const co=o[Xt].number||1,Ir=((ao=Pl[co])==null?void 0:ao.color)||"#ffffff";mi[Xt].push({x:gt.x,y:gt.y,ballIndex:Xt,color:Ir})}}if(!Pn)break}return{path:$i,hitBall:so,contactPoint:ri,objectBallDirection:of,cueBallDeflection:sf,cueBallPosAtContact:af,objectPaths:mi.filter(Vt=>Vt.length>=1)}},[r,o,E,_,N,mr,ti]),Vo=(M,L)=>{const G=Math.sqrt(M.x*M.x+M.y*M.y),X=Math.sqrt(L.x*L.x+L.y*L.y);if(G===0||X===0)return{angle:0,fraction:1};const J={x:M.x/G,y:M.y/G},se={x:L.x/X,y:L.y/X},ve=J.x*se.x+J.y*se.y,ge=Math.max(-1,Math.min(1,ve)),ee=Math.acos(ge),_e=ee*(180/Math.PI),xe=Math.min(_e,90),ke=Math.cos(ee);return{angle:xe,fraction:Math.max(0,ke)}},Pr=M=>M>=.95?"Full":M>=.7?"3/4":M>=.45?"1/2":M>=.2?"1/4":"Thin",hi=b.useCallback(M=>{if(M.fillStyle="#4a2c1a",M.fillRect(0,0,ln,bn),M.fillStyle="#1a5f3f",M.fillRect(ze,ze,ln-ze*2,bn-ze*2),M.strokeStyle="#2d4a3a",M.lineWidth=1,M.strokeRect(ze,ze,ln-ze*2,bn-ze*2),f&&(a==="cue"||a==="solid"||a==="stripe"||a==="reposition")){M.strokeStyle="rgba(255, 255, 255, 0.12)",M.lineWidth=.5;const J=ze,se=ln-ze,ve=ze,ge=bn-ze;for(const ee of Ve)ee>J&&ee<se&&(M.beginPath(),M.moveTo(ee,ve),M.lineTo(ee,ge),M.stroke());for(const ee of Be)ee>ve&&ee<ge&&(M.beginPath(),M.moveTo(J,ee),M.lineTo(se,ee),M.stroke());M.fillStyle="rgba(255, 255, 255, 0.15)";for(const ee of Ve)for(const _e of Be)ee>J&&ee<se&&_e>ve&&_e<ge&&(tn(ee,_e)||(M.beginPath(),M.arc(ee,_e,2,0,Math.PI*2),M.fill()))}jf.forEach(J=>{const se=M.createRadialGradient(J.x,J.y,0,J.x,J.y,Jc);se.addColorStop(0,"#000000"),se.addColorStop(.7,"#1a1a1a"),se.addColorStop(1,"#333333"),M.fillStyle=se,M.beginPath(),M.arc(J.x,J.y,Jc,0,Math.PI*2),M.fill(),M.strokeStyle="#2a2a2a",M.lineWidth=2,M.beginPath(),M.arc(J.x,J.y,Jc-1,0,Math.PI*2),M.stroke()}),M.fillStyle="#ffffff";const L=3,G=(ln-ze*2)/8,X=(bn-ze*2)/4;for(let J=1;J<8;J++){if(J===4)continue;const se=ze+J*G;M.beginPath(),M.moveTo(se,ze-5),M.lineTo(se+L,ze-2),M.lineTo(se,ze+1),M.lineTo(se-L,ze-2),M.closePath(),M.fill(),M.beginPath(),M.moveTo(se,bn-ze+5),M.lineTo(se+L,bn-ze+2),M.lineTo(se,bn-ze-1),M.lineTo(se-L,bn-ze+2),M.closePath(),M.fill()}for(let J=1;J<4;J++){const se=ze+J*X;M.beginPath(),M.moveTo(ze-5,se),M.lineTo(ze-2,se+L),M.lineTo(ze+1,se),M.lineTo(ze-2,se-L),M.closePath(),M.fill(),M.beginPath(),M.moveTo(ln-ze+5,se),M.lineTo(ln-ze+2,se+L),M.lineTo(ln-ze-1,se),M.lineTo(ln-ze+2,se-L),M.closePath(),M.fill()}},[f,a]),Es=(M,L,G)=>{const X=Pl[G];if(!X||!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,qe,qe*.8,0,0,Math.PI*2),M.fill();const J=M.createRadialGradient(L.x-qe*.3,L.y-qe*.3,0,L.x,L.y,qe);J.addColorStop(0,"rgba(255, 255, 255, 0.7)"),J.addColorStop(.4,X.color),J.addColorStop(1,"rgba(0, 0, 0, 0.5)"),M.fillStyle=J,M.beginPath(),M.arc(L.x,L.y,qe,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.5)",M.beginPath(),M.arc(L.x-qe*.35,L.y-qe*.35,qe*.25,0,Math.PI*2),M.fill()},Nr=(M,L)=>{if(!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,qe,qe*.8,0,0,Math.PI*2),M.fill();const G=M.createRadialGradient(L.x-qe*.3,L.y-qe*.3,0,L.x,L.y,qe);G.addColorStop(0,"rgba(255, 255, 255, 1)"),G.addColorStop(.5,"#ffffff"),G.addColorStop(1,"rgba(220, 220, 220, 0.8)"),M.fillStyle=G,M.beginPath(),M.arc(L.x,L.y,qe,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.6)",M.beginPath(),M.arc(L.x-qe*.4,L.y-qe*.4,qe*.3,0,Math.PI*2),M.fill()},pi=(M,L,G)=>{!isFinite(L)||!isFinite(G)||(M.strokeStyle="rgba(255, 255, 0, 0.9)",M.setLineDash([6,4]),M.lineWidth=4,M.beginPath(),M.arc(L,G,qe,0,Math.PI*2),M.stroke(),M.setLineDash([]),M.fillStyle="rgba(255, 255, 0, 0.25)",M.beginPath(),M.arc(L,G,qe,0,Math.PI*2),M.fill())},Ts=(M,L,G,X)=>{M.strokeStyle=X,M.lineWidth=1,M.setLineDash([6,4]),M.beginPath(),M.moveTo(ze,G),M.lineTo(ln-ze,G),M.stroke(),M.beginPath(),M.moveTo(L,ze),M.lineTo(L,bn-ze),M.stroke(),M.setLineDash([]),M.strokeStyle=X,M.lineWidth=2,M.beginPath(),M.arc(L,G,qe+4,0,Math.PI*2),M.stroke()},ni=(M,L,G,X,J)=>{const se=X-L,ve=J-G,ge=Math.atan2(ve,se),ee=150,_e=qe+5,xe=L-Math.cos(ge)*_e,ke=G-Math.sin(ge)*_e,at=L-Math.cos(ge)*ee,on=G-Math.sin(ge)*ee,An=M.createLinearGradient(xe,ke,at,on);An.addColorStop(0,"#D2691E"),An.addColorStop(.5,"#8B4513"),An.addColorStop(1,"#654321"),M.strokeStyle=An,M.lineWidth=4,M.lineCap="round",M.beginPath(),M.moveTo(xe,ke),M.lineTo(at,on),M.stroke();const $i=L-Math.cos(ge)*(_e-3),mi=G-Math.sin(ge)*(_e-3);M.fillStyle="#d11111",M.beginPath(),M.arc($i,mi,3,0,Math.PI*2),M.fill()},Cs=(M,L,G)=>{const X=Math.sqrt(G.x*G.x+G.y*G.y);if(X===0)return;const J=G.x/X,se=G.y/X,ve=100,ge=L.x+J*ve,ee=L.y+se*ve;M.strokeStyle="#00FFFF",M.lineWidth=4,M.setLineDash([8,6]),M.beginPath(),M.moveTo(L.x,L.y),M.lineTo(ge,ee),M.stroke(),M.setLineDash([]);const _e=10,xe=Math.atan2(se,J);M.fillStyle="#00FFFF",M.beginPath(),M.moveTo(ge,ee),M.lineTo(ge-_e*Math.cos(xe-Math.PI/6),ee-_e*Math.sin(xe-Math.PI/6)),M.lineTo(ge-_e*Math.cos(xe+Math.PI/6),ee-_e*Math.sin(xe+Math.PI/6)),M.closePath(),M.fill()},Bo=(M,L)=>{if(!(L.length<2)){M.strokeStyle="#FFFF00",M.lineWidth=4,M.beginPath(),M.moveTo(L[0].x,L[0].y);for(let G=1;G<L.length;G++)M.lineTo(L[G].x,L[G].y);M.stroke()}},q=b.useCallback(()=>{if(g&&x&&r){const M=Di(r,x);return M?{start:g,current:M}:{start:g,current:x}}if(S&&r){const M=S.angle*Math.PI/180,L=r.x+Math.cos(M)*S.distance,G=r.y+Math.sin(M)*S.distance;return{start:{x:r.x,y:r.y},current:{x:L,y:G}}}return null},[g,x,S,r,Di]),re=b.useCallback(()=>{const M=q();if(!M||!r)return 0;const L=M.current.x-r.x,G=M.current.y-r.y;let X=Math.atan2(G,L)*180/Math.PI;return X<0&&(X+=360),X},[q,r]),Ae=b.useCallback(()=>{const M=q();if(!M)return 100;const L=M.current.x-M.start.x,G=M.current.y-M.start.y;return Math.sqrt(L*L+G*G)},[q]),Oe=b.useCallback((M,L)=>{C({angle:M,distance:L})},[]),Ue=b.useCallback(()=>{if(g&&x&&r){const M=x.x-r.x,L=x.y-r.y;let G=Math.atan2(L,M)*180/Math.PI;G<0&&(G+=360);const X=Math.sqrt(M*M+L*L);C({angle:G,distance:X})}},[g,x,r]),st=b.useCallback(()=>{const M=q();if(!M||W||!r)return{angle:null,fraction:null};const L=oo(r.x,r.y,M.current.x,M.current.y);if(!L||!L.hitBall||!L.cueBallPosAtContact)return{angle:null,fraction:null};const G={x:M.current.x-r.x,y:M.current.y-r.y},X={x:L.hitBall.x-L.cueBallPosAtContact.x,y:L.hitBall.y-L.cueBallPosAtContact.y},J=Vo(G,X);return{angle:J.angle,fraction:Pr(J.fraction)}},[q,W,r,oo]);b.useEffect(()=>{const M=st();ot(M.angle),Ne(M.fraction)},[st]);const It=b.useCallback(()=>{const M=n.current;if(!M)return;const L=M.getContext("2d");if(!L)return;if(L.clearRect(0,0,ln,bn),hi(L),Te&&Fe.length>0){const X=Fe[Qe];if(X.objectBalls.forEach((J,se)=>{if(!J.pocketed){const ve=Je[se];if(ve!==void 0){const ge={x:J.x,y:J.y,vx:0,vy:0,spinX:0,spinY:0,number:ve};Es(L,ge,ve)}}}),X.cueBall){const J={x:X.cueBall.x,y:X.cueBall.y,vx:0,vy:0,spinX:0,spinY:0};Nr(L,J)}return}if(W&&B.length>0&&!Te){const X=B.filter(J=>J.cueBall).map(J=>J.cueBall);X.length>0&&(L.strokeStyle="#FFFF00",L.lineWidth=4,L.beginPath(),L.moveTo(X[0].x,X[0].y),X.forEach(J=>L.lineTo(J.x,J.y)),L.stroke()),Je.forEach((J,se)=>{if(J===void 0)return;const ve=B.map(ge=>ge.objectBalls[se]).filter(ge=>ge&&!ge.pocketed);if(ve.length>0){const ge=Pl[J];L.strokeStyle=ge.color,L.lineWidth=4,L.beginPath(),L.moveTo(ve[0].x,ve[0].y),ve.forEach(ee=>L.lineTo(ee.x,ee.y)),L.stroke()}})}const G=q();if(G&&!W&&r){ni(L,r.x,r.y,G.current.x,G.current.y);const X=oo(r.x,r.y,G.current.x,G.current.y);X&&(Bo(L,X.path),X.objectPaths&&X.objectPaths.length>0&&X.objectPaths.forEach(J=>{if(J.length>=2){const se=J[0].color;L.strokeStyle=se,L.lineWidth=4,L.setLineDash([6,4]),L.beginPath(),L.moveTo(J[0].x,J[0].y);for(let ke=1;ke<J.length;ke++)L.lineTo(J[ke].x,J[ke].y);L.stroke(),L.setLineDash([]);const ve=J[J.length-1],ge=J[Math.max(0,J.length-5)],ee=ve.x-ge.x,_e=ve.y-ge.y;if(Math.sqrt(ee*ee+_e*_e)>5){const ke=Math.atan2(_e,ee),at=10;L.fillStyle=se,L.beginPath(),L.moveTo(ve.x,ve.y),L.lineTo(ve.x-at*Math.cos(ke-Math.PI/6),ve.y-at*Math.sin(ke-Math.PI/6)),L.lineTo(ve.x-at*Math.cos(ke+Math.PI/6),ve.y-at*Math.sin(ke+Math.PI/6)),L.closePath(),L.fill()}}}),X.hitBall&&X.cueBallPosAtContact&&X.cueBallDeflection&&(pi(L,X.cueBallPosAtContact.x,X.cueBallPosAtContact.y),Cs(L,X.cueBallPosAtContact,X.cueBallDeflection)))}o.forEach((X,J)=>{if(X.number&&Es(L,X,X.number),u&&u.type==="object"&&u.index===J){const se=Pl[X.number||1];Ts(L,X.x,X.y,se.color)}}),r&&(Nr(L,r),u&&u.type==="cue"&&Ts(L,r.x,r.y,"rgba(255, 255, 255, 0.8)"))},[r,o,g,x,S,W,B,oo,hi,q,u,Te,Qe,Fe,Je,gn]);b.useEffect(()=>{It()},[It]),b.useEffect(()=>{if(gn){const M=setTimeout(()=>It(),50);return()=>clearTimeout(M)}},[gn,It]);const On=M=>{const L=n.current;if(!L)return;const G=L.getBoundingClientRect(),X=ln/G.width,J=bn/G.height,se=(M.clientX-G.left)*X,ve=(M.clientY-G.top)*J,ge=a==="cue",{x:ee,y:_e}=Ln(se,ve,void 0,ge);if(a==="cue"){if(xn(ee,_e)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ee,y:_e,vx:0,vy:0,spinX:0,spinY:0}),l(null)}else if(a==="solid"||a==="stripe"){if(xn(ee,_e)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const xe=Gt(a);xe!==null?s(ke=>[...ke,{x:ee,y:_e,vx:0,vy:0,spinX:0,spinY:0,number:xe}]):e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&kn({x:se,y:ve},r)<qe*2){d({type:"cue"});return}for(let xe=0;xe<o.length;xe++)if(kn({x:se,y:ve},o[xe])<qe*2){d({type:"object",index:xe});return}}else if(a==="remove"){if(r&&kn({x:se,y:ve},r)<qe*2){i(null);return}for(let xe=0;xe<o.length;xe++)if(kn({x:se,y:ve},o[xe])<qe*2){s(at=>at.filter((on,An)=>An!==xe));return}}else r&&!W&&(v({x:r.x,y:r.y}),w({x:se,y:ve}))},K=M=>{const L=n.current;if(!L)return;const G=L.getBoundingClientRect(),X=ln/G.width,J=bn/G.height,se=(M.clientX-G.left)*X,ve=(M.clientY-G.top)*J;if(u){const ge=u.type==="cue",ee=u.type==="object"?u.index:void 0,{x:_e,y:xe}=Ln(se,ve,ee,ge);xn(_e,xe)||(u.type==="cue"&&r?i({...r,x:_e,y:xe}):u.type==="object"&&u.index!==void 0&&s(ke=>ke.map((at,on)=>on===u.index?{...at,x:_e,y:xe}:at)))}else g&&!W&&w({x:se,y:ve})},ce=()=>{u&&d(null),g&&x&&Ue(),v(null),w(null)},fe=b.useCallback((M,L)=>{const G=n.current;if(!G)return null;const X=G.getBoundingClientRect(),J=ln/X.width,se=bn/X.height,ve=(M-X.left)*J,ge=(L-X.top)*se;return{rawX:ve,rawY:ge}},[]),de=b.useCallback(M=>{var ee,_e;if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],G=fe(L.clientX,L.clientY);if(!G)return;const{rawX:X,rawY:J}=G,se=a==="cue",{x:ve,y:ge}=Ln(X,J,void 0,se);if(a==="cue"){if(xn(ve,ge)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ve,y:ge,vx:0,vy:0,spinX:0,spinY:0}),l(null)}else if(a==="solid"||a==="stripe"){if(xn(ve,ge)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const xe=Gt(a);xe!==null?s(ke=>[...ke,{x:ve,y:ge,vx:0,vy:0,spinX:0,spinY:0,number:xe}]):e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&kn({x:X,y:J},r)<qe*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let xe=0;xe<o.length;xe++)if(kn({x:X,y:J},o[xe])<qe*2){d({type:"object",index:xe});const at=o[xe].number;e({title:`Drag to reposition ${at?(ee=Pl[at])==null?void 0:ee.name:"ball"}`});return}e({title:"Tap on a ball to reposition it"})}else if(a==="remove"){if(r&&kn({x:X,y:J},r)<qe*2){i(null),e({title:"Cue ball removed"});return}for(let xe=0;xe<o.length;xe++)if(kn({x:X,y:J},o[xe])<qe*2){const at=o[xe].number,on=at?(_e=Pl[at])==null?void 0:_e.name:"ball";s(An=>An.filter(($i,mi)=>mi!==xe)),e({title:`${on} removed`});return}e({title:"Tap on a ball to remove it"})}else r&&!W&&(v({x:r.x,y:r.y}),w({x:X,y:J}))},[r,o,a,W,fe,Ln,Gt,e]),Ie=b.useCallback(M=>{if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],G=fe(L.clientX,L.clientY);if(!G)return;const{rawX:X,rawY:J}=G;if(u){const se=u.type==="cue",ve=u.type==="object"?u.index:void 0,{x:ge,y:ee}=Ln(X,J,ve,se);xn(ge,ee)||(u.type==="cue"&&r?i({...r,x:ge,y:ee}):u.type==="object"&&u.index!==void 0&&s(_e=>_e.map((xe,ke)=>ke===u.index?{...xe,x:ge,y:ee}:xe)))}else g&&!W&&w({x:X,y:J})},[r,u,g,W,fe,Ln]),nt=b.useCallback(M=>{M.preventDefault(),u&&d(null),g&&x&&Ue(),v(null),w(null)},[u,g,x,Ue,e]);b.useEffect(()=>{const M=n.current;if(M)return M.addEventListener("touchstart",de,{passive:!1}),M.addEventListener("touchmove",Ie,{passive:!1}),M.addEventListener("touchend",nt,{passive:!1}),M.addEventListener("touchcancel",nt,{passive:!1}),()=>{M.removeEventListener("touchstart",de),M.removeEventListener("touchmove",Ie),M.removeEventListener("touchend",nt),M.removeEventListener("touchcancel",nt)}},[de,Ie,nt]);const bt=()=>{if(!Q){e({title:"Please select a course first",variant:"destructive"});return}const M=Tje[Q];if(!M)return;const G=(J=>{const se=[...J];for(let ve=se.length-1;ve>0;ve--){const ge=Math.floor(Math.random()*(ve+1));[se[ve],se[ge]]=[se[ge],se[ve]]}return se})(Array.from({length:15},(J,se)=>se+1)),X=M.balls.map((J,se)=>({x:J.x,y:J.y,vx:0,vy:0,spinX:0,spinY:0,number:G[se]}));s(X),i({x:Ve[2],y:Be[2],vx:0,vy:0,spinX:0,spinY:0}),C(null),V(!1),Z([]),Pe(M.name),e({title:`Loaded: ${M.name}`})},rn=()=>{i(null),s([]),V(!1),Z([]),Pe(null),ne(""),e({title:"Table cleared"})};b.useCallback(()=>{yt.current&&(cancelAnimationFrame(yt.current),yt.current=null),Xe(!1)},[]),b.useEffect(()=>{if(!Te||Fe.length===0)return;const M=2,L=16,G=X=>{Ot.current===0&&(Ot.current=X);const J=X-Ot.current;if(J>=L){const se=Math.floor(J/L)*M,ve=Math.min(Qe+se,Fe.length-1);if(tt(ve),Ot.current=X,ve>=Fe.length-1){const ge=Fe[Fe.length-1];ge.cueBall?i(ee=>ee?{...ee,x:ge.cueBall.x,y:ge.cueBall.y,vx:0,vy:0}:null):i(null),s(ee=>ee.map((_e,xe)=>{const ke=ge.objectBalls[xe];return!ke||ke.pocketed?null:{..._e,x:ke.x,y:ke.y,vx:0,vy:0}}).filter(_e=>_e!==null)),Xe(!1),C(null);return}}yt.current=requestAnimationFrame(G)};return yt.current=requestAnimationFrame(G),()=>{yt.current&&cancelAnimationFrame(yt.current)}},[Te,Qe,Fe]);const Kt=M=>{const L=M.currentTarget.getBoundingClientRect(),G=M.clientX-L.left,X=M.clientY-L.top,J=G/100*2-1,se=-(X/100*2-1);T(J),k(se)},Ut=(r?1:0)+o.length,nr=qr().toFixed(3),rr=mr().toFixed(3);return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsx(h9,{open:ae,onComplete:vn,pages:en,toolName:"Advanced Cueing Emulator"}),gn&&c.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col","data-testid":"fullscreen-overlay",children:[c.jsxs("div",{className:"flex items-center justify-between p-2",children:[c.jsx("span",{className:"text-white text-sm font-semibold",children:"Landscape Mode"}),c.jsx(ue,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>yn(!1),"data-testid":"button-close-fullscreen",children:c.jsx(Hp,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center w-full px-2 overflow-hidden",children:c.jsx("canvas",{ref:n,width:ln,height:bn,className:"rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:"100%",maxHeight:Wn?"70vh":"50vh",objectFit:"contain",touchAction:"none"},onMouseDown:On,onMouseMove:K,onMouseUp:ce,onMouseLeave:ce,"data-testid":"canvas-fullscreen-table"})}),c.jsxs("div",{className:"w-full px-4 pb-4 space-y-2","data-testid":"fullscreen-controls",children:[c.jsxs("div",{className:"flex items-center justify-between text-white",children:[c.jsx("span",{className:"text-sm font-semibold",children:"Fine-Tune Angle"}),c.jsxs("span",{className:"text-sm font-mono text-primary",children:[((S==null?void 0:S.angle)??re()).toFixed(2),""]})]}),c.jsx(Qc,{value:[(S==null?void 0:S.angle)??re()],onValueChange:([M])=>Oe(M,(S==null?void 0:S.distance)??Ae()),min:0,max:360,step:.01,className:"w-full","data-testid":"slider-fullscreen-angle"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ue,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>Oe(((S==null?void 0:S.angle)??re())-.01,(S==null?void 0:S.distance)??Ae()),"data-testid":"button-fullscreen-left",children:" 0.01"}),c.jsx(ue,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>Oe(((S==null?void 0:S.angle)??re())+.01,(S==null?void 0:S.distance)??Ae()),"data-testid":"button-fullscreen-right",children:"0.01 "})]}),(Me!==null||we!==null)&&c.jsx("div",{className:"p-2 rounded-md bg-primary/20 border border-primary/40",children:c.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[c.jsxs("span",{className:"font-semibold",children:["Cut Angle: ",c.jsxs("span",{className:"font-mono",children:[(Me==null?void 0:Me.toFixed(1))??"--",""]})]}),c.jsxs("span",{className:"font-semibold",children:["Ball Hit: ",c.jsx("span",{className:"font-mono",children:we??"--"})]})]})})]})]}),c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Io,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Advanced Cueing Emulator"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics simulation with spin effects"})]}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>yn(!0),"data-testid":"button-fullscreen",title:"Fullscreen Table View",children:c.jsx(fH,{className:"w-5 h-5"})}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>z(!0),"data-testid":"button-tutorial",children:c.jsx(Tx,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsx("div",{className:"flex-1",children:c.jsxs(Ze,{className:"p-4",children:[!gn&&c.jsx("canvas",{ref:n,width:ln,height:bn,className:"w-full rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:ln,touchAction:"none"},onMouseDown:On,onMouseMove:K,onMouseUp:ce,onMouseLeave:ce,"data-testid":"canvas-billiard-table"}),(Me!==null||we!==null)&&c.jsx("div",{className:"mt-4 p-3 rounded-md bg-primary/10 border border-primary/30","data-testid":"container-cut-info",children:c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-cut-angle",children:["Cut Angle: ",c.jsxs("span",{className:"font-mono",children:[(Me==null?void 0:Me.toFixed(1))??"--",""]})]}),c.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-ball-hit",children:["Ball Hit: ",c.jsx("span",{className:"font-mono",children:we??"--"})]})]})})]})}),c.jsx("div",{className:"w-full lg:w-80",children:c.jsx(Ze,{className:"p-2",children:c.jsxs(Zy,{type:"multiple",className:"w-full",children:[c.jsxs(Jo,{value:"practice-courses",className:"border-b-0",children:[c.jsx(Zo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-practice-courses",children:"Practice Courses"}),c.jsx(es,{className:"px-2 space-y-3",children:c.jsx(tv,{isLocked:!0,featureName:"Practice Courses",variant:"overlay",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs(RF,{value:Q,onValueChange:ne,children:[c.jsx(yC,{"data-testid":"select-course",children:c.jsx(MF,{placeholder:"-- Select a Course --"})}),c.jsxs(vC,{children:[c.jsx(or,{value:"par2_01",children:"Par 2 - Course 1"}),c.jsx(or,{value:"par2_02",children:"Par 2 - Course 2"}),c.jsx(or,{value:"par2_03",children:"Par 2 - Course 3"}),c.jsx(or,{value:"par3_01",children:"Par 3 - Course 1"}),c.jsx(or,{value:"par3_02",children:"Par 3 - Course 2"}),c.jsx(or,{value:"par3_03",children:"Par 3 - Course 3"}),c.jsx(or,{value:"par3_04",children:"Par 3 - Course 4"}),c.jsx(or,{value:"par4_01",children:"Par 4 - Course 1"}),c.jsx(or,{value:"par4_02",children:"Par 4 - Course 2"}),c.jsx(or,{value:"par4_03",children:"Par 4 - Course 3"}),c.jsx(or,{value:"par4_04",children:"Par 4 - Course 4"}),c.jsx(or,{value:"par4_05",children:"Par 4 - Course 5"}),c.jsx(or,{value:"par5_01",children:"Par 5 - Course 1"}),c.jsx(or,{value:"par5_02",children:"Par 5 - Course 2"}),c.jsx(or,{value:"par5_03",children:"Par 5 - Course 3"}),c.jsx(or,{value:"par6_01",children:"Par 6 - Course 1"})]})]}),c.jsx(ue,{className:"w-full",onClick:bt,"data-testid":"button-load-course",children:"Load Course"}),Ee&&c.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Current: ",c.jsx("span",{className:"text-primary font-semibold",children:Ee})]})]})})})]}),c.jsxs(Jo,{value:"ball-placement",className:"border-b-0",children:[c.jsx(Zo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-ball-placement",children:"Ball Placement"}),c.jsxs(es,{className:"px-2 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx(lH,{className:"w-3 h-3 text-muted-foreground"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Snap to Grid"}),c.jsx(Ai,{checked:f,onCheckedChange:h,"data-testid":"switch-snap-grid"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(ue,{variant:a==="cue"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="cue"?null:"cue"),"data-testid":"button-place-cue",children:[c.jsx(RR,{size:14}),c.jsx("span",{className:"ml-1",children:"Cue"})]}),c.jsxs(ue,{variant:a==="solid"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="solid"?null:"solid"),"data-testid":"button-add-solid",children:[c.jsx(MR,{size:14}),c.jsx("span",{className:"ml-1",children:"Solid"})]}),c.jsxs(ue,{variant:a==="stripe"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="stripe"?null:"stripe"),"data-testid":"button-add-stripe",children:[c.jsx(DR,{size:14}),c.jsx("span",{className:"ml-1",children:"Stripe"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(ue,{variant:a==="reposition"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="reposition"?null:"reposition"),"data-testid":"button-reposition",children:[c.jsx(MN,{className:"w-4 h-4 mr-1"}),"Move"]}),c.jsxs(ue,{variant:a==="remove"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="remove"?null:"remove"),"data-testid":"button-remove",children:[c.jsx(gH,{className:"w-4 h-4 mr-1"}),"Remove"]}),c.jsxs(ue,{variant:"secondary",className:"flex-1",onClick:rn,"data-testid":"button-clear",children:[c.jsx(Ey,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),c.jsxs("p",{className:"text-xs text-muted-foreground font-mono","data-testid":"text-ball-count",children:["Balls on table: ",Ut]})]})]}),c.jsxs(Jo,{value:"power-aim",className:"border-b-0",children:[c.jsx(Zo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-power-aim",children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Mh,{className:"w-4 h-4"}),"Power & Aim"]})}),c.jsxs(es,{className:"px-2 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Power"}),c.jsxs("span",{className:"text-base font-mono font-semibold text-primary","data-testid":"text-power-value",children:[Math.round(E*100),"%"]})]}),c.jsx(Qc,{value:[E*100],onValueChange:([M])=>P(M/100),max:100,step:1,className:"w-full","data-testid":"slider-speed"})]}),c.jsxs("div",{className:"border-t border-border pt-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Angle"}),S?c.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>C(null),className:"h-6 px-2 text-xs","data-testid":"button-unlock-aim",children:[c.jsx(uH,{className:"w-3 h-3 mr-1"}),"Clear"]}):c.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag to aim"})]}),S||g&&x?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-aim-angle",children:[((S==null?void 0:S.angle)??re()).toFixed(2),""]})}),c.jsx(Qc,{value:[(S==null?void 0:S.angle)??re()],onValueChange:([M])=>Oe(M,(S==null?void 0:S.distance)??Ae()),min:0,max:360,step:.1,className:"w-full","data-testid":"slider-aim-angle"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"0"}),c.jsx("span",{children:"90"}),c.jsx("span",{children:"180"}),c.jsx("span",{children:"270"}),c.jsx("span",{children:"360"})]})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx(ue,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>Oe(((S==null?void 0:S.angle)??re())-.1,(S==null?void 0:S.distance)??Ae()),"data-testid":"button-aim-left",children:" 0.10"}),c.jsx(ue,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>Oe(((S==null?void 0:S.angle)??re())+.1,(S==null?void 0:S.distance)??Ae()),"data-testid":"button-aim-right",children:"0.10 "})]})]}):c.jsxs("div",{className:"text-center py-3 text-muted-foreground text-sm",children:[c.jsx(O1,{className:"w-6 h-6 mx-auto mb-1 opacity-30"}),c.jsx("p",{className:"text-xs",children:"Drag on table to set aim direction"})]})]})]})]}),c.jsxs(Jo,{value:"english-spin",className:"border-b-0",children:[c.jsx(Zo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-english-spin",children:"English (Spin)"}),c.jsxs(es,{className:"px-2 space-y-3",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative w-[100px] h-[100px] bg-gradient-to-br from-background to-muted border-2 border-border rounded-md cursor-crosshair",onClick:Kt,"data-testid":"box-spin",children:[c.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-border -translate-x-1/2"}),c.jsx("div",{className:"absolute top-1/2 left-0 h-px w-full bg-border -translate-y-1/2"}),c.jsx("div",{className:"absolute w-3 h-3 bg-primary border-2 border-white rounded-full shadow-lg pointer-events-none",style:{left:`${(_+1)/2*100}%`,top:`${(1-N)/2*100}%`,transform:"translate(-50%, -50%)"}})]}),c.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Top/Follow"}),c.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Bottom/Draw"}),c.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-10 text-xs text-muted-foreground",children:"Left"}),c.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-10 text-xs text-muted-foreground",children:"Right"})]})}),c.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground mt-6","data-testid":"text-spin-values",children:[c.jsxs("span",{children:["x: ",_.toFixed(2)]}),c.jsxs("span",{children:["y: ",N.toFixed(2)]})]})]})]}),c.jsxs(Jo,{value:"environment",className:"border-b-0",children:[c.jsx(Zo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-environment",children:"Environment Settings"}),c.jsxs(es,{className:"px-2 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Table Size"}),c.jsx("span",{className:"text-sm font-mono text-primary","data-testid":"text-table-size",children:pr().label})]}),c.jsx("div",{className:"flex gap-1",children:["7ft","8ft","9ft","10ft"].map(M=>c.jsx(ue,{variant:F===M?"default":"secondary",size:"sm",className:"flex-1 text-xs",onClick:()=>U(M),"data-testid":`button-table-${M}`,children:M},M))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cloth Speed"}),c.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cloth-value",children:[Math.round(j*100),"%"]})]}),c.jsx(Qc,{value:[j*100],onValueChange:([M])=>R(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cloth"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"Slow"}),c.jsx("span",{children:"Fast"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cushion Quality"}),c.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cushion-value",children:[Math.round(O*100),"%"]})]}),c.jsx(Qc,{value:[O*100],onValueChange:([M])=>$(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cushion"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"Dead"}),c.jsx("span",{children:"Lively"})]})]}),c.jsxs("div",{className:"pt-2 border-t border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[c.jsx(xH,{className:"w-3 h-3"}),"Table Presets"]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load, hold to save"})]}),c.jsx("div",{className:"flex gap-2",children:[0,1,2].map(M=>{const L=oe[M];return c.jsx("button",{className:`flex-1 py-2 px-3 rounded-md border text-xs font-mono transition-all select-none ${L?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-muted/30 border-border text-muted-foreground hover:bg-muted/50"}`,onMouseDown:()=>$t(M),onMouseUp:()=>He(M),onMouseLeave:()=>{Se.current&&(clearTimeout(Se.current),Se.current=null)},onTouchStart:()=>$t(M),onTouchEnd:()=>He(M),"data-testid":`button-preset-${M+1}`,children:L?c.jsxs("span",{children:[Math.round(L.clothSpeed*100),"/",Math.round(L.cushionQuality*100)]}):c.jsx("span",{children:"--"})},M)})})]})]})]}),c.jsxs(Jo,{value:"physics",className:"border-b-0",children:[c.jsx(Zo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-physics",children:"Physics Coefficients"}),c.jsx(es,{className:"px-2",children:c.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border border-border space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[c.jsx("span",{className:"text-muted-foreground",children:"Restitution (e):"}),c.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-e",children:nr})]}),c.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[c.jsx("span",{className:"text-muted-foreground",children:"Friction (c):"}),c.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-mu",children:rr})]})]})})]})]})})})]})})})]})}function Aje(){const[,t]=yl(),[e,n]=b.useState(null);b.useEffect(()=>{n(Tt.getAggregatedStats())},[]);const r=s=>{const a=Math.floor(s/1e3),l=Math.floor(a/3600),u=Math.floor(a%3600/60),d=a%60;return l>0?`${l}h ${u}m`:u>0?`${u}m ${d}s`:`${d}s`},i=s=>s?new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",o=e&&(e.totalSessions>0||Tt.hasAnyConsent());return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Io,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:"Your Insights"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal performance analytics"})]})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!Tt.hasAnyConsent()&&c.jsx(Ze,{className:"p-4 bg-primary/5 border-primary/20",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(lc,{className:"w-5 h-5 text-primary mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-sm",children:"Analytics Disabled"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable analytics in Settings to track your performance and see insights here."}),c.jsx(ue,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/"),"data-testid":"button-go-settings",children:"Go to Settings"})]})]})}),e&&c.jsxs(c.Fragment,{children:[c.jsx(Ze,{className:"p-5 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:c.jsx(nT,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx($a,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Total Time Played"})]}),c.jsx("div",{className:"flex items-baseline gap-1","data-testid":"text-total-time-played",children:(()=>{const s=Math.floor(e.totalTimeMs/1e3),a=Math.floor(s/3600),l=Math.floor(s%3600/60),u=s%60;return c.jsxs(c.Fragment,{children:[a>0&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-3xl font-bold text-foreground",children:a}),c.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"h"})]}),c.jsx("span",{className:"text-3xl font-bold text-foreground",children:l}),c.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"m"}),c.jsx("span",{className:"text-3xl font-bold text-foreground",children:u}),c.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"s"})]})})()})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs(Ze,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(_y,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Sessions"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:e.totalSessions})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(Oh,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Time Per Session"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-avg-session-time",children:e.totalSessions>0?r(e.totalTimeMs/e.totalSessions):"0s"})]})]}),e.lastActive>0&&c.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Last active: ",i(e.lastActive)]}),c.jsxs(Ze,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(M1,{className:"w-4 h-4 text-primary"}),"Module Usage"]}),c.jsx("div",{className:"space-y-3",children:Object.entries(e.moduleUsage).length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No module usage recorded yet. Start using the tools!"}):Object.entries(e.moduleUsage).map(([s,a])=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm font-medium capitalize",children:s})}),c.jsxs("div",{className:"text-right",children:[c.jsxs("span",{className:"text-sm font-mono",children:[a.sessions," sessions"]}),c.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",r(a.timeMs),")"]})]})]},s))})]})]}),!o&&Tt.hasAnyConsent()&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),c.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Start using CueMaster tools to see your insights here."})]})]})})]})}function Pje(){const[,t]=yl(),[e,n]=b.useState(""),[r,i]=b.useState(!1),[o,s]=b.useState(!1),[a,l]=b.useState(null),[u,d]=b.useState(null),f=async()=>{if(e){s(!0),l(null);try{const m=await fetch(`/api/analytics/admin?secret=${encodeURIComponent(e)}`);if(m.status===401){l("Invalid admin secret"),i(!1);return}if(!m.ok)throw new Error("Failed to fetch analytics");const y=await m.json();d(y),i(!0),localStorage.setItem("admin_secret",e)}catch(m){l(m instanceof Error?m.message:"Unknown error")}finally{s(!1)}}};b.useEffect(()=>{const m=localStorage.getItem("admin_secret");m&&n(m)},[]),b.useEffect(()=>{e&&!r&&!o&&localStorage.getItem("admin_secret")===e&&f()},[e]);const h=m=>{m.preventDefault(),f()};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Io,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Rh,{className:"w-5 h-5 text-primary"}),"Admin Analytics"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate user statistics"})]}),r&&c.jsx(ue,{variant:"outline",size:"icon",onClick:f,disabled:o,"data-testid":"button-refresh",children:c.jsx(vH,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[!r&&c.jsxs(Ze,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(Rh,{className:"w-6 h-6 text-primary"}),c.jsx("h2",{className:"text-lg font-semibold",children:"Admin Authentication"})]}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsx("div",{children:c.jsx(cr,{type:"password",placeholder:"Enter admin secret",value:e,onChange:m=>n(m.target.value),"data-testid":"input-admin-secret"})}),a&&c.jsx("p",{className:"text-sm text-destructive",children:a}),c.jsx(ue,{type:"submit",className:"w-full",disabled:o||!e,"data-testid":"button-authenticate",children:o?"Authenticating...":"Access Dashboard"})]})]}),r&&u&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[c.jsxs(Ze,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(Fl,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Users"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-unique-users",children:u.uniqueUsers})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(lc,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Submissions"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-submissions",children:u.totalSubmissions})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(_y,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Sessions"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:u.aggregateStats.totalSessions})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(Oh,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Hours"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:u.aggregateStats.totalTimeHours})]})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(Mh,{className:"w-4 h-4 text-primary"}),"Tempo Aggregates"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[c.jsxs("p",{className:"text-lg font-bold",children:[u.aggregateStats.avgShotTime,"s"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot Time"})]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalShots}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots Timed"})]})]})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(rL,{className:"w-4 h-4 text-primary"}),"Velocity Aggregates"]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.avgBreakSpeed}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.maxBreakSpeed}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalBreaks}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(_y,{className:"w-4 h-4 text-primary"}),"Other Stats"]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalCalibrations}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"TrueLevel Calibrations"})]})]}),u.recentSubmissions.length>0&&c.jsxs(Ze,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Recent Submissions"}),c.jsx("div",{className:"space-y-2",children:u.recentSubmissions.map((m,y)=>c.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[c.jsx("span",{className:"font-mono text-muted-foreground",children:m.anonymousId}),c.jsxs("span",{children:[m.sessions," sessions"]}),c.jsxs("span",{className:"text-muted-foreground",children:[m.timeMin," min"]})]},y))})]}),u.totalSubmissions===0&&c.jsxs(Ze,{className:"p-6 text-center",children:[c.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),c.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics will appear here when users with benchmarking consent submit their data."})]})]})]})})]})}const Nje=.0254,jje=.02,Ije=.005;function kje(){const[,t]=yl(),[e,n]=b.useState(!1),[r,i]=b.useState("Click Start to begin"),[o,s]=b.useState(0),[a,l]=b.useState(.05),[u,d]=b.useState(.22),[f,h]=b.useState(0),[m,y]=b.useState(null),[g,v]=b.useState(null),[x,w]=b.useState(null),[S,C]=b.useState(null),[E,P]=b.useState(null),[_,T]=b.useState([]),[N,k]=b.useState(0),[j,R]=b.useState(60),[O,$]=b.useState(.22),[F,U]=b.useState(2.8),[W,V]=b.useState(.06),[B,Z]=b.useState(.01),[Q,ne]=b.useState(.25),[Ee,Pe]=b.useState(300),[Me,ot]=b.useState(6e3),we=b.useRef(null),Ne=b.useRef(null),oe=b.useRef(!1),me=b.useRef(.05),ae=b.useRef(0),z=b.useRef(null),Se=b.useCallback(le=>{T(Je=>[le,...Je].slice(0,100))},[]),Te=async()=>{i("Requesting microphone..."),T([]),h(0),y(null),v(null),w(null),P(null),C(null),me.current=.05,ae.current=0,z.current=null;try{const le=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:48e3}});Ne.current=le;const Je=new AudioContext({sampleRate:48e3});we.current=Je,Je.state==="suspended"&&await Je.resume(),i(`AudioContext: ${Je.state}`);const kt=Je.createMediaStreamSource(le),yt=Je.createBiquadFilter();yt.type="highpass",yt.frequency.value=Ee;const Ot=Je.createBiquadFilter();Ot.type="lowpass",Ot.frequency.value=Me;const gn=Je.createAnalyser();gn.fftSize=2048,kt.connect(yt),yt.connect(Ot),Ot.connect(gn),oe.current=!0,n(!0),Se({type:"info",time:0,max:0,thresh:0,floor:0});const yn=new Float32Array(gn.fftSize);let Wn=0;const Cr=()=>{if(!oe.current)return;Wn++,Wn%30===0&&(k(Wn),i(`Listening (frame ${Wn})`)),gn.getFloatTimeDomainData(yn);let en=0;for(let $t=0;$t<yn.length;$t++)en=Math.max(en,Math.abs(yn[$t]));Wn<=3&&Se({type:"debug",time:Je.currentTime,max:en,thresh:0,floor:me.current});const vn=me.current;me.current=en>vn?vn+jje*(en-vn):vn-Ije*(vn-en),me.current=Math.max(.02,Math.min(.6,me.current));const qt=Je.currentTime,hn=Math.max(O,me.current*F);if(s(en),l(me.current),d(hn),en>hn&&qt-ae.current>W)if(ae.current=qt,h($t=>$t+1),C(en),z.current===null)z.current=qt,y(qt),Se({type:"tip",time:qt,max:en,thresh:hn,floor:me.current});else{const $t=qt-z.current;if(v(qt),w($t),$t>=B&&$t<=Q){Se({type:"rack",time:qt,max:en,thresh:hn,floor:me.current,deltaT:$t});const pr=j*Nje/$t*2.23693629;P(pr),z.current=null}else Se({type:"rejected",time:qt,max:en,thresh:hn,floor:me.current,deltaT:$t,reason:$t<B?"too fast":"too slow"}),$t>Q&&(z.current=qt,y(qt))}requestAnimationFrame(Cr)};requestAnimationFrame(Cr)}catch(le){console.error(le),i(`ERROR: ${le.message}`),n(!1)}},Xe=()=>{oe.current=!1,Ne.current&&Ne.current.getTracks().forEach(le=>le.stop()),we.current&&we.current.close(),n(!1),i("Stopped")},Qe=()=>{T([]),h(0),y(null),v(null),w(null),P(null),C(null)},tt=()=>{const le={exportedAt:new Date().toISOString(),config:{distanceIn:j,minThresh:O,floorMult:F,refractTime:W,minDeltaT:B,maxDeltaT:Q,hpfFreq:Ee,lpfFreq:Me},peaks:_},Je=new Blob([JSON.stringify(le,null,2)],{type:"application/json"}),kt=URL.createObjectURL(Je),yt=document.createElement("a");yt.href=kt,yt.download=`break-debug-${Date.now()}.json`,yt.click(),URL.revokeObjectURL(kt)};b.useEffect(()=>()=>{oe.current=!1,Ne.current&&Ne.current.getTracks().forEach(le=>le.stop()),we.current&&we.current.close()},[]);const Fe=le=>{switch(le){case"tip":return"text-yellow-500";case"rack":return"text-primary font-bold";case"rejected":return"text-muted-foreground";case"debug":return"text-blue-400";default:return"text-muted-foreground"}};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Io,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-primary",children:"Audio Debugger"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Break speed detection diagnostics"})]})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs(ue,{onClick:e?Xe:Te,variant:e?"destructive":"default","data-testid":"button-toggle-listen",children:[e?c.jsx(pH,{className:"w-4 h-4 mr-2"}):c.jsx(mH,{className:"w-4 h-4 mr-2"}),e?"Stop":"Start Listening"]}),c.jsxs(ue,{variant:"secondary",onClick:Qe,"data-testid":"button-clear",children:[c.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Clear"]}),c.jsxs(ue,{variant:"secondary",onClick:tt,"data-testid":"button-export",children:[c.jsx(eL,{className:"w-4 h-4 mr-2"}),"Export"]})]}),c.jsxs(Ze,{className:"p-4 bg-muted/30",children:[c.jsxs("p",{className:"text-sm font-mono","data-testid":"text-mic-status",children:[c.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",c.jsx("span",{className:e?"text-green-500":"text-muted-foreground",children:r})]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Frame: ",N]})]}),E!==null&&c.jsxs(Ze,{className:"p-6 bg-gradient-to-br from-primary/20 to-primary/5 border-primary/30 text-center",children:[c.jsx("p",{className:"text-sm text-primary uppercase tracking-wide",children:"Break Detected"}),c.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-result-mph",children:[E.toFixed(1)," mph"]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Delta: ",x==null?void 0:x.toFixed(4),"s | Distance: ",j,'"']})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Audio Levels"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs w-16",children:"Current"}),c.jsxs("div",{className:"flex-1 h-6 bg-muted rounded overflow-hidden relative",children:[c.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all",style:{width:`${Math.min(o*100,100)}%`}}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white",style:{left:`${u*100}%`}})]}),c.jsx("span",{className:"text-xs font-mono w-14 text-right",children:o.toFixed(3)})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs w-16",children:"Floor"}),c.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${a*100}%`}})}),c.jsx("span",{className:"text-xs font-mono w-14 text-right",children:a.toFixed(3)})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs w-16",children:"Thresh"}),c.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:c.jsx("div",{className:"h-full bg-yellow-500 transition-all",style:{width:`${u*100}%`}})}),c.jsx("span",{className:"text-xs font-mono w-14 text-right",children:u.toFixed(3)})]})]})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Detection Stats"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[c.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[c.jsx("p",{className:"text-lg font-bold text-primary",children:f}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Peaks"})]}),c.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[c.jsx("p",{className:"text-lg font-bold font-mono",children:(m==null?void 0:m.toFixed(3))??"-"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip Time"})]}),c.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[c.jsx("p",{className:"text-lg font-bold font-mono",children:(x==null?void 0:x.toFixed(4))??"-"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Delta T"})]})]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["Last peak max: ",(S==null?void 0:S.toFixed(4))??"-"]})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Configuration"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx(Jt,{className:"text-xs",children:"Distance (in)"}),c.jsx(cr,{type:"number",value:j,onChange:le=>R(+le.target.value),className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(Jt,{className:"text-xs",children:"Min Threshold"}),c.jsx(cr,{type:"number",value:O,onChange:le=>$(+le.target.value),step:"0.01",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(Jt,{className:"text-xs",children:"Floor Multiplier"}),c.jsx(cr,{type:"number",value:F,onChange:le=>U(+le.target.value),step:"0.1",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(Jt,{className:"text-xs",children:"Refractory (s)"}),c.jsx(cr,{type:"number",value:W,onChange:le=>V(+le.target.value),step:"0.01",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(Jt,{className:"text-xs",children:"Min Delta T (s)"}),c.jsx(cr,{type:"number",value:B,onChange:le=>Z(+le.target.value),step:"0.005",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(Jt,{className:"text-xs",children:"Max Delta T (s)"}),c.jsx(cr,{type:"number",value:Q,onChange:le=>ne(+le.target.value),step:"0.01",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(Jt,{className:"text-xs",children:"HPF Freq (Hz)"}),c.jsx(cr,{type:"number",value:Ee,onChange:le=>Pe(+le.target.value),step:"50",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(Jt,{className:"text-xs",children:"LPF Freq (Hz)"}),c.jsx(cr,{type:"number",value:Me,onChange:le=>ot(+le.target.value),step:"100",className:"h-8"})]})]})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Peak Log"}),c.jsx("div",{className:"max-h-48 overflow-y-auto bg-background rounded p-2 font-mono text-xs space-y-1",children:_.length===0?c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No peaks detected yet"}):_.map((le,Je)=>c.jsxs("div",{className:`flex justify-between ${Fe(le.type)}`,children:[c.jsxs("span",{children:[le.type.toUpperCase()," @ ",le.time.toFixed(4),"s"]}),c.jsxs("span",{children:["max: ",le.max.toFixed(4)," ",le.deltaT?`dt: ${le.deltaT.toFixed(4)}`:""," ",le.reason||""]})]},Je))})]})]})})]})}function Oje(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(Ze,{className:"w-full max-w-md mx-4",children:c.jsxs(p5,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(iH,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Rje=typeof window<"u"&&(window.location.protocol==="file:"||window.location.pathname.endsWith(".html")||window.location.hostname.endsWith(".github.io")),Mje=t=>{window.location.hash=t},Dje=t=>(window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)),$je=()=>window.location.hash.replace(/^#/,"")||"/";function Lje(){const t=b.useSyncExternalStore(Dje,$je,()=>"/"),e=b.useCallback(n=>Mje(n),[]);return[t,e]}function Fje(){return c.jsx(m$,{hook:Rje?Lje:void 0,children:c.jsxs(j7,{children:[c.jsx(As,{path:"/",component:kre}),c.jsx(As,{path:"/break-speed",component:oie}),c.jsx(As,{path:"/shot-clock",component:tje}),c.jsx(As,{path:"/table-level",component:rje}),c.jsx(As,{path:"/cue-emulator",component:Cje}),c.jsx(As,{path:"/insights",component:Aje}),c.jsx(As,{path:"/admin/analytics",component:Pje}),c.jsx(As,{path:"/debug/audio",component:kje}),c.jsx(As,{component:Oje})]})})}function Vje(){return c.jsx(eW,{client:rW,children:c.jsx(OG,{children:c.jsx(Qee,{children:c.jsxs(IG,{children:[c.jsx(oq,{}),c.jsx(Fje,{})]})})})})}const HA=t=>{const e=document.getElementById("root");e&&(e.innerHTML=`
      <div style="padding: 20px; font-family: monospace; color: #ff6b6b; background: #1a1a2e;">
        <h2>Error Loading App</h2>
        <pre style="white-space: pre-wrap; word-break: break-word;">${t instanceof Error?t.message+`
`+t.stack:t}</pre>
      </div>
    `)};window.onerror=(t,e,n,r,i)=>{HA(i||String(t))};window.onunhandledrejection=t=>{HA(t.reason)};try{i$(document.getElementById("root")).render(c.jsx(Vje,{}))}catch(t){HA(t)}
